{"pageProps":{"frontmatter":{"title":"Plotting Functions with React and d3.js","date":"2020-04-18","tags":["code","d3"],"description":"As the basis of many upcoming visualizations.","image":"./img/plot.png"},"code":"var Component=(()=>{var or=Object.create;var In=Object.defineProperty;var ir=Object.getOwnPropertyDescriptor;var cr=Object.getOwnPropertyNames;var lr=Object.getPrototypeOf,ur=Object.prototype.hasOwnProperty;var Ue=e=>In(e,\"__esModule\",{value:!0});var se=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),pr=(e,n)=>{Ue(e);for(var a in n)In(e,a,{get:n[a],enumerable:!0})},fr=(e,n,a)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let s of cr(n))!ur.call(e,s)&&s!==\"default\"&&In(e,s,{get:()=>n[s],enumerable:!(a=ir(n,s))||a.enumerable});return e},hn=e=>fr(Ue(In(e!=null?or(lr(e)):{},\"default\",e&&e.__esModule&&\"default\"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Qe=se((Ts,Je)=>{Je.exports=_jsx_runtime});var oe=se((Os,Ge)=>{Ge.exports=React});var Fn=se((Cn,We)=>{(function(e,n){typeof Cn==\"object\"&&typeof We!=\"undefined\"?n(Cn):typeof define==\"function\"&&define.amd?define([\"exports\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.d3=e.d3||{}))})(Cn,function(e){\"use strict\";function n(r,o){return r<o?-1:r>o?1:r>=o?0:NaN}function a(r){let o=r,i=r;r.length===1&&(o=(k,x)=>r(k)-x,i=s(r));function u(k,x,j,M){for(j==null&&(j=0),M==null&&(M=k.length);j<M;){let A=j+M>>>1;i(k[A],x)<0?j=A+1:M=A}return j}function l(k,x,j,M){for(j==null&&(j=0),M==null&&(M=k.length);j<M;){let A=j+M>>>1;i(k[A],x)>0?M=A:j=A+1}return j}function f(k,x,j,M){j==null&&(j=0),M==null&&(M=k.length);let A=u(k,x,j,M-1);return A>j&&o(k[A-1],x)>-o(k[A],x)?A-1:A}return{left:u,center:f,right:l}}function s(r){return(o,i)=>n(r(o),i)}function c(r){return r===null?NaN:+r}function*p(r,o){if(o===void 0)for(let i of r)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let u of r)(u=o(u,++i,r))!=null&&(u=+u)>=u&&(yield u)}}let m=a(n),d=m.right,h=m.left,N=a(c).center;function b(r,o){let i=0;if(o===void 0)for(let u of r)u!=null&&(u=+u)>=u&&++i;else{let u=-1;for(let l of r)(l=o(l,++u,r))!=null&&(l=+l)>=l&&++i}return i}function g(r){return r.length|0}function y(r){return!(r>0)}function w(r){return typeof r!=\"object\"||\"length\"in r?r:Array.from(r)}function S(r){return o=>r(...o)}function O(...r){let o=typeof r[r.length-1]==\"function\"&&S(r.pop());r=r.map(w);let i=r.map(g),u=r.length-1,l=new Array(u+1).fill(0),f=[];if(u<0||i.some(y))return f;for(;;){f.push(l.map((x,j)=>r[j][x]));let k=u;for(;++l[k]===i[k];){if(k===0)return o?f.map(o):f;l[k--]=0}}}function T(r,o){var i=0,u=0;return Float64Array.from(r,o===void 0?l=>i+=+l||0:l=>i+=+o(l,u++,r)||0)}function D(r,o){return o<r?-1:o>r?1:o>=r?0:NaN}function q(r,o){let i=0,u,l=0,f=0;if(o===void 0)for(let k of r)k!=null&&(k=+k)>=k&&(u=k-l,l+=u/++i,f+=u*(k-l));else{let k=-1;for(let x of r)(x=o(x,++k,r))!=null&&(x=+x)>=x&&(u=x-l,l+=u/++i,f+=u*(x-l))}if(i>1)return f/(i-1)}function I(r,o){let i=q(r,o);return i&&Math.sqrt(i)}function P(r,o){let i,u;if(o===void 0)for(let l of r)l!=null&&(i===void 0?l>=l&&(i=u=l):(i>l&&(i=l),u<l&&(u=l)));else{let l=-1;for(let f of r)(f=o(f,++l,r))!=null&&(i===void 0?f>=f&&(i=u=f):(i>f&&(i=f),u<f&&(u=f)))}return[i,u]}class _{constructor(){this._partials=new Float64Array(32),this._n=0}add(o){let i=this._partials,u=0;for(let l=0;l<this._n&&l<32;l++){let f=i[l],k=o+f,x=Math.abs(o)<Math.abs(f)?o-(k-f):f-(k-o);x&&(i[u++]=x),o=k}return i[u]=o,this._n=u+1,this}valueOf(){let o=this._partials,i=this._n,u,l,f,k=0;if(i>0){for(k=o[--i];i>0&&(u=k,l=o[--i],k=u+l,f=l-(k-u),!f););i>0&&(f<0&&o[i-1]<0||f>0&&o[i-1]>0)&&(l=f*2,u=k+l,l==u-k&&(k=u))}return k}}function B(r,o){let i=new _;if(o===void 0)for(let u of r)(u=+u)&&i.add(u);else{let u=-1;for(let l of r)(l=+o(l,++u,r))&&i.add(l)}return+i}function R(r,o){let i=new _,u=-1;return Float64Array.from(r,o===void 0?l=>i.add(+l||0):l=>i.add(+o(l,++u,r)||0))}class H extends Map{constructor(o,i=F){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),o!=null)for(let[u,l]of o)this.set(u,l)}get(o){return super.get(X(this,o))}has(o){return super.has(X(this,o))}set(o,i){return super.set(v(this,o),i)}delete(o){return super.delete(z(this,o))}}class Q extends Set{constructor(o,i=F){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),o!=null)for(let u of o)this.add(u)}has(o){return super.has(X(this,o))}add(o){return super.add(v(this,o))}delete(o){return super.delete(z(this,o))}}function X({_intern:r,_key:o},i){let u=o(i);return r.has(u)?r.get(u):i}function v({_intern:r,_key:o},i){let u=o(i);return r.has(u)?r.get(u):(r.set(u,i),i)}function z({_intern:r,_key:o},i){let u=o(i);return r.has(u)&&(i=r.get(i),r.delete(u)),i}function F(r){return r!==null&&typeof r==\"object\"?r.valueOf():r}function V(r){return r}function xn(r,...o){return dn(r,V,V,o)}function fn(r,...o){return dn(r,Array.from,V,o)}function rn(r,o,...i){return dn(r,V,o,i)}function mn(r,o,...i){return dn(r,Array.from,o,i)}function U(r,...o){return dn(r,V,Ee,o)}function va(r,...o){return dn(r,Array.from,Ee,o)}function Ee(r){if(r.length!==1)throw new Error(\"duplicate key\");return r[0]}function dn(r,o,i,u){return function l(f,k){if(k>=u.length)return i(f);let x=new H,j=u[k++],M=-1;for(let A of f){let L=j(A,++M,f),E=x.get(L);E?E.push(A):x.set(L,[A])}for(let[A,L]of x)x.set(A,l(L,k));return o(x)}(r,0)}function Re(r,o){return Array.from(o,i=>r[i])}function Wn(r,...o){if(typeof r[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");r=Array.from(r);let[i=n]=o;if(i.length===1||o.length>1){let u=Uint32Array.from(r,(l,f)=>f);return o.length>1?(o=o.map(l=>r.map(l)),u.sort((l,f)=>{for(let k of o){let x=n(k[l],k[f]);if(x)return x}})):(i=r.map(i),u.sort((l,f)=>n(i[l],i[f]))),Re(r,u)}return r.sort(i)}function _a(r,o,i){return(o.length===1?Wn(rn(r,o,i),([u,l],[f,k])=>n(l,k)||n(u,f)):Wn(xn(r,i),([u,l],[f,k])=>o(l,k)||n(u,f))).map(([u])=>u)}var Ma=Array.prototype,Aa=Ma.slice;function Sn(r){return function(){return r}}var Kn=Math.sqrt(50),Zn=Math.sqrt(10),ne=Math.sqrt(2);function ze(r,o,i){var u,l=-1,f,k,x;if(o=+o,r=+r,i=+i,r===o&&i>0)return[r];if((u=o<r)&&(f=r,r=o,o=f),(x=Pn(r,o,i))===0||!isFinite(x))return[];if(x>0){let j=Math.round(r/x),M=Math.round(o/x);for(j*x<r&&++j,M*x>o&&--M,k=new Array(f=M-j+1);++l<f;)k[l]=(j+l)*x}else{x=-x;let j=Math.round(r*x),M=Math.round(o*x);for(j/x<r&&++j,M/x>o&&--M,k=new Array(f=M-j+1);++l<f;)k[l]=(j+l)/x}return u&&k.reverse(),k}function Pn(r,o,i){var u=(o-r)/Math.max(0,i),l=Math.floor(Math.log(u)/Math.LN10),f=u/Math.pow(10,l);return l>=0?(f>=Kn?10:f>=Zn?5:f>=ne?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(f>=Kn?10:f>=Zn?5:f>=ne?2:1)}function Sa(r,o,i){var u=Math.abs(o-r)/Math.max(0,i),l=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),f=u/l;return f>=Kn?l*=10:f>=Zn?l*=5:f>=ne&&(l*=2),o<r?-l:l}function De(r,o,i){let u;for(;;){let l=Pn(r,o,i);if(l===u||l===0||!isFinite(l))return[r,o];l>0?(r=Math.floor(r/l)*l,o=Math.ceil(o/l)*l):l<0&&(r=Math.ceil(r*l)/l,o=Math.floor(o*l)/l),u=l}}function Be(r){return Math.ceil(Math.log(b(r))/Math.LN2)+1}function Te(){var r=V,o=P,i=Be;function u(l){Array.isArray(l)||(l=Array.from(l));var f,k=l.length,x,j=new Array(k);for(f=0;f<k;++f)j[f]=r(l[f],f,l);var M=o(j),A=M[0],L=M[1],E=i(j,A,L);if(!Array.isArray(E)){let sr=L,re=+E;if(o===P&&([A,L]=De(A,L,re)),E=ze(A,L,re),E[E.length-1]>=L)if(sr>=L&&o===P){let sn=Pn(A,L,re);isFinite(sn)&&(sn>0?L=(Math.floor(L/sn)+1)*sn:sn<0&&(L=(Math.ceil(L*-sn)+1)/-sn))}else E.pop()}for(var nn=E.length;E[0]<=A;)E.shift(),--nn;for(;E[nn-1]>L;)E.pop(),--nn;var bn=new Array(nn+1),ae;for(f=0;f<=nn;++f)ae=bn[f]=[],ae.x0=f>0?E[f-1]:A,ae.x1=f<nn?E[f]:L;for(f=0;f<k;++f)x=j[f],A<=x&&x<=L&&bn[d(E,x,0,nn)].push(l[f]);return bn}return u.value=function(l){return arguments.length?(r=typeof l==\"function\"?l:Sn(l),u):r},u.domain=function(l){return arguments.length?(o=typeof l==\"function\"?l:Sn([l[0],l[1]]),u):o},u.thresholds=function(l){return arguments.length?(i=typeof l==\"function\"?l:Array.isArray(l)?Sn(Aa.call(l)):Sn(l),u):i},u}function ee(r,o){let i;if(o===void 0)for(let u of r)u!=null&&(i<u||i===void 0&&u>=u)&&(i=u);else{let u=-1;for(let l of r)(l=o(l,++u,r))!=null&&(i<l||i===void 0&&l>=l)&&(i=l)}return i}function Ln(r,o){let i;if(o===void 0)for(let u of r)u!=null&&(i>u||i===void 0&&u>=u)&&(i=u);else{let u=-1;for(let l of r)(l=o(l,++u,r))!=null&&(i>l||i===void 0&&l>=l)&&(i=l)}return i}function te(r,o,i=0,u=r.length-1,l=n){for(;u>i;){if(u-i>600){let j=u-i+1,M=o-i+1,A=Math.log(j),L=.5*Math.exp(2*A/3),E=.5*Math.sqrt(A*L*(j-L)/j)*(M-j/2<0?-1:1),nn=Math.max(i,Math.floor(o-M*L/j+E)),bn=Math.min(u,Math.floor(o+(j-M)*L/j+E));te(r,o,nn,bn,l)}let f=r[o],k=i,x=u;for(yn(r,i,o),l(r[u],f)>0&&yn(r,i,u);k<x;){for(yn(r,k,x),++k,--x;l(r[k],f)<0;)++k;for(;l(r[x],f)>0;)--x}l(r[i],f)===0?yn(r,i,x):(++x,yn(r,x,u)),x<=o&&(i=x+1),o<=x&&(u=x-1)}return r}function yn(r,o,i){let u=r[o];r[o]=r[i],r[i]=u}function qn(r,o,i){if(r=Float64Array.from(p(r,i)),!!(u=r.length)){if((o=+o)<=0||u<2)return Ln(r);if(o>=1)return ee(r);var u,l=(u-1)*o,f=Math.floor(l),k=ee(te(r,f).subarray(0,f+1)),x=Ln(r.subarray(f+1));return k+(x-k)*(l-f)}}function Pa(r,o,i=c){if(!!(u=r.length)){if((o=+o)<=0||u<2)return+i(r[0],0,r);if(o>=1)return+i(r[u-1],u-1,r);var u,l=(u-1)*o,f=Math.floor(l),k=+i(r[f],f,r),x=+i(r[f+1],f+1,r);return k+(x-k)*(l-f)}}function La(r,o,i){return Math.ceil((i-o)/(2*(qn(r,.75)-qn(r,.25))*Math.pow(b(r),-1/3)))}function qa(r,o,i){return Math.ceil((i-o)/(3.5*I(r)*Math.pow(b(r),-1/3)))}function Oe(r,o){let i,u=-1,l=-1;if(o===void 0)for(let f of r)++l,f!=null&&(i<f||i===void 0&&f>=f)&&(i=f,u=l);else for(let f of r)(f=o(f,++l,r))!=null&&(i<f||i===void 0&&f>=f)&&(i=f,u=l);return u}function Ia(r,o){let i=0,u=0;if(o===void 0)for(let l of r)l!=null&&(l=+l)>=l&&(++i,u+=l);else{let l=-1;for(let f of r)(f=o(f,++l,r))!=null&&(f=+f)>=f&&(++i,u+=f)}if(i)return u/i}function Ca(r,o){return qn(r,.5,o)}function*Fa(r){for(let o of r)yield*o}function Ea(r){return Array.from(Fa(r))}function He(r,o){let i,u=-1,l=-1;if(o===void 0)for(let f of r)++l,f!=null&&(i>f||i===void 0&&f>=f)&&(i=f,u=l);else for(let f of r)(f=o(f,++l,r))!=null&&(i>f||i===void 0&&f>=f)&&(i=f,u=l);return u}function Ra(r,o=za){let i=[],u,l=!1;for(let f of r)l&&i.push(o(u,f)),u=f,l=!0;return i}function za(r,o){return[r,o]}function Da(r,o,i){r=+r,o=+o,i=(l=arguments.length)<2?(o=r,r=0,1):l<3?1:+i;for(var u=-1,l=Math.max(0,Math.ceil((o-r)/i))|0,f=new Array(l);++u<l;)f[u]=r+u*i;return f}function Ba(r,o=n){let i,u=!1;if(o.length===1){let l;for(let f of r){let k=o(f);(u?n(k,l)<0:n(k,k)===0)&&(i=f,l=k,u=!0)}}else for(let l of r)(u?o(l,i)<0:o(l,l)===0)&&(i=l,u=!0);return i}function Ve(r,o=n){if(o.length===1)return He(r,o);let i,u=-1,l=-1;for(let f of r)++l,(u<0?o(f,f)===0:o(f,i)<0)&&(i=f,u=l);return u}function Ta(r,o=n){let i,u=!1;if(o.length===1){let l;for(let f of r){let k=o(f);(u?n(k,l)>0:n(k,k)===0)&&(i=f,l=k,u=!0)}}else for(let l of r)(u?o(l,i)>0:o(l,l)===0)&&(i=l,u=!0);return i}function Oa(r,o=n){if(o.length===1)return Oe(r,o);let i,u=-1,l=-1;for(let f of r)++l,(u<0?o(f,f)===0:o(f,i)>0)&&(i=f,u=l);return u}function Ha(r,o){let i=Ve(r,o);return i<0?void 0:i}var Va=$e(Math.random);function $e(r){return function(i,u=0,l=i.length){let f=l-(u=+u);for(;f;){let k=r()*f--|0,x=i[f+u];i[f+u]=i[k+u],i[k+u]=x}return i}}function $a(r,o){let i=0;if(o===void 0)for(let u of r)(u=+u)&&(i+=u);else{let u=-1;for(let l of r)(l=+o(l,++u,r))&&(i+=l)}return i}function Xe(r){if(!(f=r.length))return[];for(var o=-1,i=Ln(r,Xa),u=new Array(i);++o<i;)for(var l=-1,f,k=u[o]=new Array(f);++l<f;)k[l]=r[l][o];return u}function Xa(r){return r.length}function Ya(){return Xe(arguments)}function Ua(r,o){if(typeof o!=\"function\")throw new TypeError(\"test is not a function\");let i=-1;for(let u of r)if(!o(u,++i,r))return!1;return!0}function Ja(r,o){if(typeof o!=\"function\")throw new TypeError(\"test is not a function\");let i=-1;for(let u of r)if(o(u,++i,r))return!0;return!1}function Qa(r,o){if(typeof o!=\"function\")throw new TypeError(\"test is not a function\");let i=[],u=-1;for(let l of r)o(l,++u,r)&&i.push(l);return i}function Ga(r,o){if(typeof r[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");if(typeof o!=\"function\")throw new TypeError(\"mapper is not a function\");return Array.from(r,(i,u)=>o(i,u,r))}function Wa(r,o,i){if(typeof o!=\"function\")throw new TypeError(\"reducer is not a function\");let u=r[Symbol.iterator](),l,f,k=-1;if(arguments.length<3){if({done:l,value:i}=u.next(),l)return;++k}for(;{done:l,value:f}=u.next(),!l;)i=o(i,f,++k,r);return i}function Ka(r){if(typeof r[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");return Array.from(r).reverse()}function Za(r,...o){r=new Set(r);for(let i of o)for(let u of i)r.delete(u);return r}function nr(r,o){let i=o[Symbol.iterator](),u=new Set;for(let l of r){if(u.has(l))return!1;let f,k;for(;({value:f,done:k}=i.next())&&!k;){if(Object.is(l,f))return!1;u.add(f)}}return!0}function er(r){return r instanceof Set?r:new Set(r)}function tr(r,...o){r=new Set(r),o=o.map(er);n:for(let i of r)for(let u of o)if(!u.has(i)){r.delete(i);continue n}return r}function Ye(r,o){let i=r[Symbol.iterator](),u=new Set;for(let l of o){if(u.has(l))continue;let f,k;for(;{value:f,done:k}=i.next();){if(k)return!1;if(u.add(f),Object.is(l,f))break}}return!0}function ar(r,o){return Ye(o,r)}function rr(...r){let o=new Set;for(let i of r)for(let u of i)o.add(u);return o}e.Adder=_,e.InternMap=H,e.InternSet=Q,e.ascending=n,e.bin=Te,e.bisect=d,e.bisectCenter=N,e.bisectLeft=h,e.bisectRight=d,e.bisector=a,e.count=b,e.cross=O,e.cumsum=T,e.descending=D,e.deviation=I,e.difference=Za,e.disjoint=nr,e.every=Ua,e.extent=P,e.fcumsum=R,e.filter=Qa,e.fsum=B,e.greatest=Ta,e.greatestIndex=Oa,e.group=xn,e.groupSort=_a,e.groups=fn,e.histogram=Te,e.index=U,e.indexes=va,e.intersection=tr,e.least=Ba,e.leastIndex=Ve,e.map=Ga,e.max=ee,e.maxIndex=Oe,e.mean=Ia,e.median=Ca,e.merge=Ea,e.min=Ln,e.minIndex=He,e.nice=De,e.pairs=Ra,e.permute=Re,e.quantile=qn,e.quantileSorted=Pa,e.quickselect=te,e.range=Da,e.reduce=Wa,e.reverse=Ka,e.rollup=rn,e.rollups=mn,e.scan=Ha,e.shuffle=Va,e.shuffler=$e,e.some=Ja,e.sort=Wn,e.subset=ar,e.sum=$a,e.superset=Ye,e.thresholdFreedmanDiaconis=La,e.thresholdScott=qa,e.thresholdSturges=Be,e.tickIncrement=Pn,e.tickStep=Sa,e.ticks=ze,e.transpose=Xe,e.union=rr,e.variance=q,e.zip=Ya,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Ds={};pr(Ds,{default:()=>zs,frontmatter:()=>Es});var t=hn(Qe());var Y=hn(oe());function Ke(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}var Vn=hn(Fn());var gt=hn(Fn());function En(e,n,a){e.prototype=n.prototype=a,a.constructor=e}function ie(e,n){var a=Object.create(e.prototype);for(var s in n)a[s]=n[s];return a}function wn(){}var jn=.7,Rn=1/jn,kn=\"\\\\s*([+-]?\\\\d+)\\\\s*\",vn=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",G=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",mr=/^#([0-9a-f]{3,8})$/,dr=new RegExp(\"^rgb\\\\(\"+[kn,kn,kn]+\"\\\\)$\"),hr=new RegExp(\"^rgb\\\\(\"+[G,G,G]+\"\\\\)$\"),kr=new RegExp(\"^rgba\\\\(\"+[kn,kn,kn,vn]+\"\\\\)$\"),Nr=new RegExp(\"^rgba\\\\(\"+[G,G,G,vn]+\"\\\\)$\"),gr=new RegExp(\"^hsl\\\\(\"+[vn,G,G]+\"\\\\)$\"),xr=new RegExp(\"^hsla\\\\(\"+[vn,G,G,vn]+\"\\\\)$\"),Ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};En(wn,en,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:nt,formatHex:nt,formatHsl:yr,formatRgb:et,toString:et});function nt(){return this.rgb().formatHex()}function yr(){return ot(this).formatHsl()}function et(){return this.rgb().formatRgb()}function en(e){var n,a;return e=(e+\"\").trim().toLowerCase(),(n=mr.exec(e))?(a=n[1].length,n=parseInt(n[1],16),a===6?tt(n):a===3?new $(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):a===8?zn(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):a===4?zn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=dr.exec(e))?new $(n[1],n[2],n[3],1):(n=hr.exec(e))?new $(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=kr.exec(e))?zn(n[1],n[2],n[3],n[4]):(n=Nr.exec(e))?zn(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=gr.exec(e))?st(n[1],n[2]/100,n[3]/100,1):(n=xr.exec(e))?st(n[1],n[2]/100,n[3]/100,n[4]):Ze.hasOwnProperty(e)?tt(Ze[e]):e===\"transparent\"?new $(NaN,NaN,NaN,0):null}function tt(e){return new $(e>>16&255,e>>8&255,e&255,1)}function zn(e,n,a,s){return s<=0&&(e=n=a=NaN),new $(e,n,a,s)}function br(e){return e instanceof wn||(e=en(e)),e?(e=e.rgb(),new $(e.r,e.g,e.b,e.opacity)):new $}function Nn(e,n,a,s){return arguments.length===1?br(e):new $(e,n,a,s??1)}function $(e,n,a,s){this.r=+e,this.g=+n,this.b=+a,this.opacity=+s}En($,Nn,ie(wn,{brighter:function(e){return e=e==null?Rn:Math.pow(Rn,e),new $(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?jn:Math.pow(jn,e),new $(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:at,formatHex:at,formatRgb:rt,toString:rt}));function at(){return\"#\"+ce(this.r)+ce(this.g)+ce(this.b)}function rt(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?\")\":\", \"+e+\")\")}function ce(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?\"0\":\"\")+e.toString(16)}function st(e,n,a,s){return s<=0?e=n=a=NaN:a<=0||a>=1?e=n=NaN:n<=0&&(e=NaN),new W(e,n,a,s)}function ot(e){if(e instanceof W)return new W(e.h,e.s,e.l,e.opacity);if(e instanceof wn||(e=en(e)),!e)return new W;if(e instanceof W)return e;e=e.rgb();var n=e.r/255,a=e.g/255,s=e.b/255,c=Math.min(n,a,s),p=Math.max(n,a,s),m=NaN,d=p-c,h=(p+c)/2;return d?(n===p?m=(a-s)/d+(a<s)*6:a===p?m=(s-n)/d+2:m=(n-a)/d+4,d/=h<.5?p+c:2-p-c,m*=60):d=h>0&&h<1?0:m,new W(m,d,h,e.opacity)}function it(e,n,a,s){return arguments.length===1?ot(e):new W(e,n,a,s??1)}function W(e,n,a,s){this.h=+e,this.s=+n,this.l=+a,this.opacity=+s}En(W,it,ie(wn,{brighter:function(e){return e=e==null?Rn:Math.pow(Rn,e),new W(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?jn:Math.pow(jn,e),new W(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,s=a+(a<.5?a:1-a)*n,c=2*a-s;return new $(le(e>=240?e-240:e+120,c,s),le(e,c,s),le(e<120?e+240:e-120,c,s),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+(this.s||0)*100+\"%, \"+(this.l||0)*100+\"%\"+(e===1?\")\":\", \"+e+\")\")}}));function le(e,n,a){return(e<60?n+(a-n)*e/60:e<180?a:e<240?n+(a-n)*(240-e)/60:n)*255}function ue(e,n,a,s,c){var p=e*e,m=p*e;return((1-3*e+3*p-m)*n+(4-6*p+3*m)*a+(1+3*e+3*p-3*m)*s+m*c)/6}function ct(e){var n=e.length-1;return function(a){var s=a<=0?a=0:a>=1?(a=1,n-1):Math.floor(a*n),c=e[s],p=e[s+1],m=s>0?e[s-1]:2*c-p,d=s<n-1?e[s+2]:2*p-c;return ue((a-s/n)*n,m,c,p,d)}}function lt(e){var n=e.length;return function(a){var s=Math.floor(((a%=1)<0?++a:a)*n),c=e[(s+n-1)%n],p=e[s%n],m=e[(s+1)%n],d=e[(s+2)%n];return ue((a-s/n)*n,c,p,m,d)}}var _n=e=>()=>e;function wr(e,n){return function(a){return e+a*n}}function jr(e,n,a){return e=Math.pow(e,a),n=Math.pow(n,a)-e,a=1/a,function(s){return Math.pow(e+s*n,a)}}function ut(e){return(e=+e)==1?Dn:function(n,a){return a-n?jr(n,a,e):_n(isNaN(n)?a:n)}}function Dn(e,n){var a=n-e;return a?wr(e,a):_n(isNaN(e)?n:e)}var pe=function e(n){var a=ut(n);function s(c,p){var m=a((c=Nn(c)).r,(p=Nn(p)).r),d=a(c.g,p.g),h=a(c.b,p.b),N=Dn(c.opacity,p.opacity);return function(b){return c.r=m(b),c.g=d(b),c.b=h(b),c.opacity=N(b),c+\"\"}}return s.gamma=e,s}(1);function pt(e){return function(n){var a=n.length,s=new Array(a),c=new Array(a),p=new Array(a),m,d;for(m=0;m<a;++m)d=Nn(n[m]),s[m]=d.r||0,c[m]=d.g||0,p[m]=d.b||0;return s=e(s),c=e(c),p=e(p),d.opacity=1,function(h){return d.r=s(h),d.g=c(h),d.b=p(h),d+\"\"}}}var ro=pt(ct),so=pt(lt);function ft(e,n){n||(n=[]);var a=e?Math.min(n.length,e.length):0,s=n.slice(),c;return function(p){for(c=0;c<a;++c)s[c]=e[c]*(1-p)+n[c]*p;return s}}function mt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dt(e,n){var a=n?n.length:0,s=e?Math.min(a,e.length):0,c=new Array(s),p=new Array(a),m;for(m=0;m<s;++m)c[m]=on(e[m],n[m]);for(;m<a;++m)p[m]=n[m];return function(d){for(m=0;m<s;++m)p[m]=c[m](d);return p}}function ht(e,n){var a=new Date;return e=+e,n=+n,function(s){return a.setTime(e*(1-s)+n*s),a}}function tn(e,n){return e=+e,n=+n,function(a){return e*(1-a)+n*a}}function kt(e,n){var a={},s={},c;(e===null||typeof e!=\"object\")&&(e={}),(n===null||typeof n!=\"object\")&&(n={});for(c in n)c in e?a[c]=on(e[c],n[c]):s[c]=n[c];return function(p){for(c in a)s[c]=a[c](p);return s}}var fe=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,me=new RegExp(fe.source,\"g\");function vr(e){return function(){return e}}function _r(e){return function(n){return e(n)+\"\"}}function Nt(e,n){var a=fe.lastIndex=me.lastIndex=0,s,c,p,m=-1,d=[],h=[];for(e=e+\"\",n=n+\"\";(s=fe.exec(e))&&(c=me.exec(n));)(p=c.index)>a&&(p=n.slice(a,p),d[m]?d[m]+=p:d[++m]=p),(s=s[0])===(c=c[0])?d[m]?d[m]+=c:d[++m]=c:(d[++m]=null,h.push({i:m,x:tn(s,c)})),a=me.lastIndex;return a<n.length&&(p=n.slice(a),d[m]?d[m]+=p:d[++m]=p),d.length<2?h[0]?_r(h[0].x):vr(n):(n=h.length,function(N){for(var b=0,g;b<n;++b)d[(g=h[b]).i]=g.x(N);return d.join(\"\")})}function on(e,n){var a=typeof n,s;return n==null||a===\"boolean\"?_n(n):(a===\"number\"?tn:a===\"string\"?(s=en(n))?(n=s,pe):Nt:n instanceof en?pe:n instanceof Date?ht:mt(n)?ft:Array.isArray(n)?dt:typeof n.valueOf!=\"function\"&&typeof n.toString!=\"function\"||isNaN(n)?kt:tn)(e,n)}function de(e,n){return e=+e,n=+n,function(a){return Math.round(e*(1-a)+n*a)}}function he(e){return function(){return e}}function ke(e){return+e}var xt=[0,1];function gn(e){return e}function Ne(e,n){return(n-=e=+e)?function(a){return(a-e)/n}:he(isNaN(n)?NaN:.5)}function Mr(e,n){var a;return e>n&&(a=e,e=n,n=a),function(s){return Math.max(e,Math.min(n,s))}}function Ar(e,n,a){var s=e[0],c=e[1],p=n[0],m=n[1];return c<s?(s=Ne(c,s),p=a(m,p)):(s=Ne(s,c),p=a(p,m)),function(d){return p(s(d))}}function Sr(e,n,a){var s=Math.min(e.length,n.length)-1,c=new Array(s),p=new Array(s),m=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++m<s;)c[m]=Ne(e[m],e[m+1]),p[m]=a(n[m],n[m+1]);return function(d){var h=(0,gt.bisect)(e,d,1,s)-1;return p[h](c[h](d))}}function yt(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pr(){var e=xt,n=xt,a=on,s,c,p,m=gn,d,h,N;function b(){var y=Math.min(e.length,n.length);return m!==gn&&(m=Mr(e[0],e[y-1])),d=y>2?Sr:Ar,h=N=null,g}function g(y){return y==null||isNaN(y=+y)?p:(h||(h=d(e.map(s),n,a)))(s(m(y)))}return g.invert=function(y){return m(c((N||(N=d(n,e.map(s),tn)))(y)))},g.domain=function(y){return arguments.length?(e=Array.from(y,ke),b()):e.slice()},g.range=function(y){return arguments.length?(n=Array.from(y),b()):n.slice()},g.rangeRound=function(y){return n=Array.from(y),a=de,b()},g.clamp=function(y){return arguments.length?(m=y?!0:gn,b()):m!==gn},g.interpolate=function(y){return arguments.length?(a=y,b()):a},g.unknown=function(y){return arguments.length?(p=y,g):p},function(y,w){return s=y,c=w,b()}}function ge(){return Pr()(gn,gn)}var Pt=hn(Fn());function bt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString(\"en\").replace(/,/g,\"\"):e.toString(10)}function cn(e,n){if((a=(e=n?e.toExponential(n-1):e.toExponential()).indexOf(\"e\"))<0)return null;var a,s=e.slice(0,a);return[s.length>1?s[0]+s.slice(2):s,+e.slice(a+1)]}function K(e){return e=cn(Math.abs(e)),e?e[1]:NaN}function wt(e,n){return function(a,s){for(var c=a.length,p=[],m=0,d=e[0],h=0;c>0&&d>0&&(h+d+1>s&&(d=Math.max(1,s-h)),p.push(a.substring(c-=d,c+d)),!((h+=d+1)>s));)d=e[m=(m+1)%e.length];return p.reverse().join(n)}}function jt(e){return function(n){return n.replace(/[0-9]/g,function(a){return e[+a]})}}var Lr=/^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function an(e){if(!(n=Lr.exec(e)))throw new Error(\"invalid format: \"+e);var n;return new Bn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}an.prototype=Bn.prototype;function Bn(e){this.fill=e.fill===void 0?\" \":e.fill+\"\",this.align=e.align===void 0?\">\":e.align+\"\",this.sign=e.sign===void 0?\"-\":e.sign+\"\",this.symbol=e.symbol===void 0?\"\":e.symbol+\"\",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?\"\":e.type+\"\"}Bn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(this.width===void 0?\"\":Math.max(1,this.width|0))+(this.comma?\",\":\"\")+(this.precision===void 0?\"\":\".\"+Math.max(0,this.precision|0))+(this.trim?\"~\":\"\")+this.type};function vt(e){n:for(var n=e.length,a=1,s=-1,c;a<n;++a)switch(e[a]){case\".\":s=c=a;break;case\"0\":s===0&&(s=a),c=a;break;default:if(!+e[a])break n;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(c+1):e}var xe;function _t(e,n){var a=cn(e,n);if(!a)return e+\"\";var s=a[0],c=a[1],p=c-(xe=Math.max(-8,Math.min(8,Math.floor(c/3)))*3)+1,m=s.length;return p===m?s:p>m?s+new Array(p-m+1).join(\"0\"):p>0?s.slice(0,p)+\".\"+s.slice(p):\"0.\"+new Array(1-p).join(\"0\")+cn(e,Math.max(0,n+p-1))[0]}function ye(e,n){var a=cn(e,n);if(!a)return e+\"\";var s=a[0],c=a[1];return c<0?\"0.\"+new Array(-c).join(\"0\")+s:s.length>c+1?s.slice(0,c+1)+\".\"+s.slice(c+1):s+new Array(c-s.length+2).join(\"0\")}var be={\"%\":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+\"\",d:bt,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>ye(e*100,n),r:ye,s:_t,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function we(e){return e}var Mt=Array.prototype.map,At=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\\xB5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];function St(e){var n=e.grouping===void 0||e.thousands===void 0?we:wt(Mt.call(e.grouping,Number),e.thousands+\"\"),a=e.currency===void 0?\"\":e.currency[0]+\"\",s=e.currency===void 0?\"\":e.currency[1]+\"\",c=e.decimal===void 0?\".\":e.decimal+\"\",p=e.numerals===void 0?we:jt(Mt.call(e.numerals,String)),m=e.percent===void 0?\"%\":e.percent+\"\",d=e.minus===void 0?\"\\u2212\":e.minus+\"\",h=e.nan===void 0?\"NaN\":e.nan+\"\";function N(g){g=an(g);var y=g.fill,w=g.align,S=g.sign,O=g.symbol,T=g.zero,D=g.width,q=g.comma,I=g.precision,P=g.trim,_=g.type;_===\"n\"?(q=!0,_=\"g\"):be[_]||(I===void 0&&(I=12),P=!0,_=\"g\"),(T||y===\"0\"&&w===\"=\")&&(T=!0,y=\"0\",w=\"=\");var B=O===\"$\"?a:O===\"#\"&&/[boxX]/.test(_)?\"0\"+_.toLowerCase():\"\",R=O===\"$\"?s:/[%p]/.test(_)?m:\"\",H=be[_],Q=/[defgprs%]/.test(_);I=I===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function X(v){var z=B,F=R,V,xn,fn;if(_===\"c\")F=H(v)+F,v=\"\";else{v=+v;var rn=v<0||1/v<0;if(v=isNaN(v)?h:H(Math.abs(v),I),P&&(v=vt(v)),rn&&+v==0&&S!==\"+\"&&(rn=!1),z=(rn?S===\"(\"?S:d:S===\"-\"||S===\"(\"?\"\":S)+z,F=(_===\"s\"?At[8+xe/3]:\"\")+F+(rn&&S===\"(\"?\")\":\"\"),Q){for(V=-1,xn=v.length;++V<xn;)if(fn=v.charCodeAt(V),48>fn||fn>57){F=(fn===46?c+v.slice(V+1):v.slice(V))+F,v=v.slice(0,V);break}}}q&&!T&&(v=n(v,1/0));var mn=z.length+v.length+F.length,U=mn<D?new Array(D-mn+1).join(y):\"\";switch(q&&T&&(v=n(U+v,U.length?D-F.length:1/0),U=\"\"),w){case\"<\":v=z+v+F+U;break;case\"=\":v=z+U+v+F;break;case\"^\":v=U.slice(0,mn=U.length>>1)+z+v+F+U.slice(mn);break;default:v=U+z+v+F;break}return p(v)}return X.toString=function(){return g+\"\"},X}function b(g,y){var w=N((g=an(g),g.type=\"f\",g)),S=Math.max(-8,Math.min(8,Math.floor(K(y)/3)))*3,O=Math.pow(10,-S),T=At[8+S/3];return function(D){return w(O*D)+T}}return{format:N,formatPrefix:b}}var Tn,On,Hn;je({thousands:\",\",grouping:[3],currency:[\"$\",\"\"]});function je(e){return Tn=St(e),On=Tn.format,Hn=Tn.formatPrefix,Tn}function ve(e){return Math.max(0,-K(Math.abs(e)))}function _e(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(K(n)/3)))*3-K(Math.abs(e)))}function Me(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,K(n)-K(e))+1}function Ae(e,n,a,s){var c=(0,Pt.tickStep)(e,n,a),p;switch(s=an(s??\",f\"),s.type){case\"s\":{var m=Math.max(Math.abs(e),Math.abs(n));return s.precision==null&&!isNaN(p=_e(c,m))&&(s.precision=p),Hn(s,m)}case\"\":case\"e\":case\"g\":case\"p\":case\"r\":{s.precision==null&&!isNaN(p=Me(c,Math.max(Math.abs(e),Math.abs(n))))&&(s.precision=p-(s.type===\"e\"));break}case\"f\":case\"%\":{s.precision==null&&!isNaN(p=ve(c))&&(s.precision=p-(s.type===\"%\")*2);break}}return On(s)}function qr(e){var n=e.domain;return e.ticks=function(a){var s=n();return(0,Vn.ticks)(s[0],s[s.length-1],a??10)},e.tickFormat=function(a,s){var c=n();return Ae(c[0],c[c.length-1],a??10,s)},e.nice=function(a){a==null&&(a=10);var s=n(),c=0,p=s.length-1,m=s[c],d=s[p],h,N,b=10;for(d<m&&(N=m,m=d,d=N,N=c,c=p,p=N);b-- >0;){if(N=(0,Vn.tickIncrement)(m,d,a),N===h)return s[c]=m,s[p]=d,n(s);if(N>0)m=Math.floor(m/N)*N,d=Math.ceil(d/N)*N;else if(N<0)m=Math.ceil(m*N)/N,d=Math.floor(d*N)/N;else break;h=N}return e},e}function J(){var e=ge();return e.copy=function(){return yt(e,J())},Ke.apply(e,arguments),qr(e)}function Lt(e){return e}var Se=1,Pe=2,Le=3,Mn=4,qt=1e-6;function Ir(e){return\"translate(\"+e+\",0)\"}function Cr(e){return\"translate(0,\"+e+\")\"}function Fr(e){return n=>+e(n)}function Er(e,n){return n=Math.max(0,e.bandwidth()-n*2)/2,e.round()&&(n=Math.round(n)),a=>+e(a)+n}function Rr(){return!this.__axis}function It(e,n){var a=[],s=null,c=null,p=6,m=6,d=3,h=typeof window!=\"undefined\"&&window.devicePixelRatio>1?0:.5,N=e===Se||e===Mn?-1:1,b=e===Mn||e===Pe?\"x\":\"y\",g=e===Se||e===Le?Ir:Cr;function y(w){var S=s??(n.ticks?n.ticks.apply(n,a):n.domain()),O=c??(n.tickFormat?n.tickFormat.apply(n,a):Lt),T=Math.max(p,0)+d,D=n.range(),q=+D[0]+h,I=+D[D.length-1]+h,P=(n.bandwidth?Er:Fr)(n.copy(),h),_=w.selection?w.selection():w,B=_.selectAll(\".domain\").data([null]),R=_.selectAll(\".tick\").data(S,n).order(),H=R.exit(),Q=R.enter().append(\"g\").attr(\"class\",\"tick\"),X=R.select(\"line\"),v=R.select(\"text\");B=B.merge(B.enter().insert(\"path\",\".tick\").attr(\"class\",\"domain\").attr(\"stroke\",\"currentColor\")),R=R.merge(Q),X=X.merge(Q.append(\"line\").attr(\"stroke\",\"currentColor\").attr(b+\"2\",N*p)),v=v.merge(Q.append(\"text\").attr(\"fill\",\"currentColor\").attr(b,N*T).attr(\"dy\",e===Se?\"0em\":e===Le?\"0.71em\":\"0.32em\")),w!==_&&(B=B.transition(w),R=R.transition(w),X=X.transition(w),v=v.transition(w),H=H.transition(w).attr(\"opacity\",qt).attr(\"transform\",function(z){return isFinite(z=P(z))?g(z+h):this.getAttribute(\"transform\")}),Q.attr(\"opacity\",qt).attr(\"transform\",function(z){var F=this.parentNode.__axis;return g((F&&isFinite(F=F(z))?F:P(z))+h)})),H.remove(),B.attr(\"d\",e===Mn||e===Pe?m?\"M\"+N*m+\",\"+q+\"H\"+h+\"V\"+I+\"H\"+N*m:\"M\"+h+\",\"+q+\"V\"+I:m?\"M\"+q+\",\"+N*m+\"V\"+h+\"H\"+I+\"V\"+N*m:\"M\"+q+\",\"+h+\"H\"+I),R.attr(\"opacity\",1).attr(\"transform\",function(z){return g(P(z)+h)}),X.attr(b+\"2\",N*p),v.attr(b,N*T).text(O),_.filter(Rr).attr(\"fill\",\"none\").attr(\"font-size\",10).attr(\"font-family\",\"sans-serif\").attr(\"text-anchor\",e===Pe?\"start\":e===Mn?\"end\":\"middle\"),_.each(function(){this.__axis=P})}return y.scale=function(w){return arguments.length?(n=w,y):n},y.ticks=function(){return a=Array.from(arguments),y},y.tickArguments=function(w){return arguments.length?(a=w==null?[]:Array.from(w),y):a.slice()},y.tickValues=function(w){return arguments.length?(s=w==null?null:Array.from(w),y):s&&s.slice()},y.tickFormat=function(w){return arguments.length?(c=w,y):c},y.tickSize=function(w){return arguments.length?(p=m=+w,y):p},y.tickSizeInner=function(w){return arguments.length?(p=+w,y):p},y.tickSizeOuter=function(w){return arguments.length?(m=+w,y):m},y.tickPadding=function(w){return arguments.length?(d=+w,y):d},y.offset=function(w){return arguments.length?(h=+w,y):h},y}function ln(e){return It(Le,e)}function un(e){return It(Mn,e)}var $n=\"http://www.w3.org/1999/xhtml\",qe={svg:\"http://www.w3.org/2000/svg\",xhtml:$n,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"};function Xn(e){var n=e+=\"\",a=n.indexOf(\":\");return a>=0&&(n=e.slice(0,a))!==\"xmlns\"&&(e=e.slice(a+1)),qe.hasOwnProperty(n)?{space:qe[n],local:e}:e}function zr(e){return function(){var n=this.ownerDocument,a=this.namespaceURI;return a===$n&&n.documentElement.namespaceURI===$n?n.createElement(e):n.createElementNS(a,e)}}function Dr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Yn(e){var n=Xn(e);return(n.local?Dr:zr)(n)}function Br(){}function Un(e){return e==null?Br:function(){return this.querySelector(e)}}function Ct(e){typeof e!=\"function\"&&(e=Un(e));for(var n=this._groups,a=n.length,s=new Array(a),c=0;c<a;++c)for(var p=n[c],m=p.length,d=s[c]=new Array(m),h,N,b=0;b<m;++b)(h=p[b])&&(N=e.call(h,h.__data__,b,p))&&(\"__data__\"in h&&(N.__data__=h.__data__),d[b]=N);return new C(s,this._parents)}function Ie(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Tr(){return[]}function Ft(e){return e==null?Tr:function(){return this.querySelectorAll(e)}}function Or(e){return function(){return Ie(e.apply(this,arguments))}}function Et(e){typeof e==\"function\"?e=Or(e):e=Ft(e);for(var n=this._groups,a=n.length,s=[],c=[],p=0;p<a;++p)for(var m=n[p],d=m.length,h,N=0;N<d;++N)(h=m[N])&&(s.push(e.call(h,h.__data__,N,m)),c.push(h));return new C(s,c)}function Rt(e){return function(){return this.matches(e)}}function Jn(e){return function(n){return n.matches(e)}}var Hr=Array.prototype.find;function Vr(e){return function(){return Hr.call(this.children,e)}}function $r(){return this.firstElementChild}function zt(e){return this.select(e==null?$r:Vr(typeof e==\"function\"?e:Jn(e)))}var Xr=Array.prototype.filter;function Yr(){return Array.from(this.children)}function Ur(e){return function(){return Xr.call(this.children,e)}}function Dt(e){return this.selectAll(e==null?Yr:Ur(typeof e==\"function\"?e:Jn(e)))}function Bt(e){typeof e!=\"function\"&&(e=Rt(e));for(var n=this._groups,a=n.length,s=new Array(a),c=0;c<a;++c)for(var p=n[c],m=p.length,d=s[c]=[],h,N=0;N<m;++N)(h=p[N])&&e.call(h,h.__data__,N,p)&&d.push(h);return new C(s,this._parents)}function Qn(e){return new Array(e.length)}function Tt(){return new C(this._enter||this._groups.map(Qn),this._parents)}function An(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}An.prototype={constructor:An,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ot(e){return function(){return e}}function Jr(e,n,a,s,c,p){for(var m=0,d,h=n.length,N=p.length;m<N;++m)(d=n[m])?(d.__data__=p[m],s[m]=d):a[m]=new An(e,p[m]);for(;m<h;++m)(d=n[m])&&(c[m]=d)}function Qr(e,n,a,s,c,p,m){var d,h,N=new Map,b=n.length,g=p.length,y=new Array(b),w;for(d=0;d<b;++d)(h=n[d])&&(y[d]=w=m.call(h,h.__data__,d,n)+\"\",N.has(w)?c[d]=h:N.set(w,h));for(d=0;d<g;++d)w=m.call(e,p[d],d,p)+\"\",(h=N.get(w))?(s[d]=h,h.__data__=p[d],N.delete(w)):a[d]=new An(e,p[d]);for(d=0;d<b;++d)(h=n[d])&&N.get(y[d])===h&&(c[d]=h)}function Gr(e){return e.__data__}function Ht(e,n){if(!arguments.length)return Array.from(this,Gr);var a=n?Qr:Jr,s=this._parents,c=this._groups;typeof e!=\"function\"&&(e=Ot(e));for(var p=c.length,m=new Array(p),d=new Array(p),h=new Array(p),N=0;N<p;++N){var b=s[N],g=c[N],y=g.length,w=Wr(e.call(b,b&&b.__data__,N,s)),S=w.length,O=d[N]=new Array(S),T=m[N]=new Array(S),D=h[N]=new Array(y);a(b,g,O,T,D,w,n);for(var q=0,I=0,P,_;q<S;++q)if(P=O[q]){for(q>=I&&(I=q+1);!(_=T[I])&&++I<S;);P._next=_||null}}return m=new C(m,s),m._enter=d,m._exit=h,m}function Wr(e){return typeof e==\"object\"&&\"length\"in e?e:Array.from(e)}function Vt(){return new C(this._exit||this._groups.map(Qn),this._parents)}function $t(e,n,a){var s=this.enter(),c=this,p=this.exit();return typeof e==\"function\"?(s=e(s),s&&(s=s.selection())):s=s.append(e+\"\"),n!=null&&(c=n(c),c&&(c=c.selection())),a==null?p.remove():a(p),s&&c?s.merge(c).order():c}function Xt(e){for(var n=e.selection?e.selection():e,a=this._groups,s=n._groups,c=a.length,p=s.length,m=Math.min(c,p),d=new Array(c),h=0;h<m;++h)for(var N=a[h],b=s[h],g=N.length,y=d[h]=new Array(g),w,S=0;S<g;++S)(w=N[S]||b[S])&&(y[S]=w);for(;h<c;++h)d[h]=a[h];return new C(d,this._parents)}function Yt(){for(var e=this._groups,n=-1,a=e.length;++n<a;)for(var s=e[n],c=s.length-1,p=s[c],m;--c>=0;)(m=s[c])&&(p&&m.compareDocumentPosition(p)^4&&p.parentNode.insertBefore(m,p),p=m);return this}function Ut(e){e||(e=Kr);function n(g,y){return g&&y?e(g.__data__,y.__data__):!g-!y}for(var a=this._groups,s=a.length,c=new Array(s),p=0;p<s;++p){for(var m=a[p],d=m.length,h=c[p]=new Array(d),N,b=0;b<d;++b)(N=m[b])&&(h[b]=N);h.sort(n)}return new C(c,this._parents).order()}function Kr(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function Jt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Qt(){return Array.from(this)}function Gt(){for(var e=this._groups,n=0,a=e.length;n<a;++n)for(var s=e[n],c=0,p=s.length;c<p;++c){var m=s[c];if(m)return m}return null}function Wt(){let e=0;for(let n of this)++e;return e}function Kt(){return!this.node()}function Zt(e){for(var n=this._groups,a=0,s=n.length;a<s;++a)for(var c=n[a],p=0,m=c.length,d;p<m;++p)(d=c[p])&&e.call(d,d.__data__,p,c);return this}function Zr(e){return function(){this.removeAttribute(e)}}function ns(e){return function(){this.removeAttributeNS(e.space,e.local)}}function es(e,n){return function(){this.setAttribute(e,n)}}function ts(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function as(e,n){return function(){var a=n.apply(this,arguments);a==null?this.removeAttribute(e):this.setAttribute(e,a)}}function rs(e,n){return function(){var a=n.apply(this,arguments);a==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}}function na(e,n){var a=Xn(e);if(arguments.length<2){var s=this.node();return a.local?s.getAttributeNS(a.space,a.local):s.getAttribute(a)}return this.each((n==null?a.local?ns:Zr:typeof n==\"function\"?a.local?rs:as:a.local?ts:es)(a,n))}function Gn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ss(e){return function(){this.style.removeProperty(e)}}function os(e,n,a){return function(){this.style.setProperty(e,n,a)}}function is(e,n,a){return function(){var s=n.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,a)}}function ea(e,n,a){return arguments.length>1?this.each((n==null?ss:typeof n==\"function\"?is:os)(e,n,a??\"\")):cs(this.node(),e)}function cs(e,n){return e.style.getPropertyValue(n)||Gn(e).getComputedStyle(e,null).getPropertyValue(n)}function ls(e){return function(){delete this[e]}}function us(e,n){return function(){this[e]=n}}function ps(e,n){return function(){var a=n.apply(this,arguments);a==null?delete this[e]:this[e]=a}}function ta(e,n){return arguments.length>1?this.each((n==null?ls:typeof n==\"function\"?ps:us)(e,n)):this.node()[e]}function aa(e){return e.trim().split(/^|\\s+/)}function Ce(e){return e.classList||new ra(e)}function ra(e){this._node=e,this._names=aa(e.getAttribute(\"class\")||\"\")}ra.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(e){return this._names.indexOf(e)>=0}};function sa(e,n){for(var a=Ce(e),s=-1,c=n.length;++s<c;)a.add(n[s])}function oa(e,n){for(var a=Ce(e),s=-1,c=n.length;++s<c;)a.remove(n[s])}function fs(e){return function(){sa(this,e)}}function ms(e){return function(){oa(this,e)}}function ds(e,n){return function(){(n.apply(this,arguments)?sa:oa)(this,e)}}function ia(e,n){var a=aa(e+\"\");if(arguments.length<2){for(var s=Ce(this.node()),c=-1,p=a.length;++c<p;)if(!s.contains(a[c]))return!1;return!0}return this.each((typeof n==\"function\"?ds:n?fs:ms)(a,n))}function hs(){this.textContent=\"\"}function ks(e){return function(){this.textContent=e}}function Ns(e){return function(){var n=e.apply(this,arguments);this.textContent=n??\"\"}}function ca(e){return arguments.length?this.each(e==null?hs:(typeof e==\"function\"?Ns:ks)(e)):this.node().textContent}function gs(){this.innerHTML=\"\"}function xs(e){return function(){this.innerHTML=e}}function ys(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??\"\"}}function la(e){return arguments.length?this.each(e==null?gs:(typeof e==\"function\"?ys:xs)(e)):this.node().innerHTML}function bs(){this.nextSibling&&this.parentNode.appendChild(this)}function ua(){return this.each(bs)}function ws(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pa(){return this.each(ws)}function fa(e){var n=typeof e==\"function\"?e:Yn(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function js(){return null}function ma(e,n){var a=typeof e==\"function\"?e:Yn(e),s=n==null?js:typeof n==\"function\"?n:Un(n);return this.select(function(){return this.insertBefore(a.apply(this,arguments),s.apply(this,arguments)||null)})}function vs(){var e=this.parentNode;e&&e.removeChild(this)}function da(){return this.each(vs)}function _s(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Ms(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function ha(e){return this.select(e?Ms:_s)}function ka(e){return arguments.length?this.property(\"__data__\",e):this.node().__data__}function As(e){return function(n){e.call(this,n,this.__data__)}}function Ss(e){return e.trim().split(/^|\\s+/).map(function(n){var a=\"\",s=n.indexOf(\".\");return s>=0&&(a=n.slice(s+1),n=n.slice(0,s)),{type:n,name:a}})}function Ps(e){return function(){var n=this.__on;if(!!n){for(var a=0,s=-1,c=n.length,p;a<c;++a)p=n[a],(!e.type||p.type===e.type)&&p.name===e.name?this.removeEventListener(p.type,p.listener,p.options):n[++s]=p;++s?n.length=s:delete this.__on}}}function Ls(e,n,a){return function(){var s=this.__on,c,p=As(n);if(s){for(var m=0,d=s.length;m<d;++m)if((c=s[m]).type===e.type&&c.name===e.name){this.removeEventListener(c.type,c.listener,c.options),this.addEventListener(c.type,c.listener=p,c.options=a),c.value=n;return}}this.addEventListener(e.type,p,a),c={type:e.type,name:e.name,value:n,listener:p,options:a},s?s.push(c):this.__on=[c]}}function Na(e,n,a){var s=Ss(e+\"\"),c,p=s.length,m;if(arguments.length<2){var d=this.node().__on;if(d){for(var h=0,N=d.length,b;h<N;++h)for(c=0,b=d[h];c<p;++c)if((m=s[c]).type===b.type&&m.name===b.name)return b.value}return}for(d=n?Ls:Ps,c=0;c<p;++c)this.each(d(s[c],n,a));return this}function ga(e,n,a){var s=Gn(e),c=s.CustomEvent;typeof c==\"function\"?c=new c(n,a):(c=s.document.createEvent(\"Event\"),a?(c.initEvent(n,a.bubbles,a.cancelable),c.detail=a.detail):c.initEvent(n,!1,!1)),e.dispatchEvent(c)}function qs(e,n){return function(){return ga(this,e,n)}}function Is(e,n){return function(){return ga(this,e,n.apply(this,arguments))}}function xa(e,n){return this.each((typeof n==\"function\"?Is:qs)(e,n))}function*ya(){for(var e=this._groups,n=0,a=e.length;n<a;++n)for(var s=e[n],c=0,p=s.length,m;c<p;++c)(m=s[c])&&(yield m)}var Fe=[null];function C(e,n){this._groups=e,this._parents=n}function Cs(){return new C([[document.documentElement]],Fe)}function Fs(){return this}C.prototype=Cs.prototype={constructor:C,select:Ct,selectAll:Et,selectChild:zt,selectChildren:Dt,filter:Bt,data:Ht,enter:Tt,exit:Vt,join:$t,merge:Xt,selection:Fs,order:Yt,sort:Ut,call:Jt,nodes:Qt,node:Gt,size:Wt,empty:Kt,each:Zt,attr:na,style:ea,property:ta,classed:ia,text:ca,html:la,raise:ua,lower:pa,append:fa,insert:ma,remove:da,clone:ha,datum:ka,on:Na,dispatch:xa,[Symbol.iterator]:ya};function Z(e){return typeof e==\"string\"?new C([[document.querySelector(e)]],[document.documentElement]):new C([[e]],Fe)}function ba({strokeWidth:e,functions:n,width:a,height:s,range:c,colors:p,grid:m,onHover:d,onMouseEnter:h,onMouseLeave:N,onClick:b,margin:g,hideAxes:y,hideXAxis:w,hideYAxis:S}){g=g||{top:20,right:30,bottom:30,left:50},a=a||500,s=s||300;let O=s-g.top-g.bottom,T=a-g.left-g.right;e=e||1,p=p||[\"lightsalmon\",\"lightseagreen\",\"indianred\",\"darkmagenta\",\"cornflowerblue\",\"aqua\"],n=n||[],c=c||{x:[-4,4],y:[-4,4]};let D=J().domain(c.x).range([g.left,a-g.right]),q=J().domain(c.y).range([s-g.top,g.bottom]),I=n.map(P=>{let _=[[]];for(let B=g.left+1e-6;B<a-g.right;B+=1){let R=D.invert(B),H=P(R);if(typeof H==\"number\"){let Q=q(H);R>=c.x[0]&&R<=c.x[1]&&H>=c.y[0]&&H<=c.y[1]&&_[0].unshift([B,Q])}}return _});return Y.default.createElement(\"svg\",{width:a,height:s,onClick:P=>b&&b(P)},!y&&Y.default.createElement(Y.default.Fragment,null,!w&&Y.default.createElement(\"g\",{className:\"x-axis plot-axis\",ref:P=>Z(P).attr(\"transform\",`translate(0,${s-g.top})`).call(ln(D).ticks(a/50))}),!S&&Y.default.createElement(\"g\",{className:\"y-axis plot-axis\",ref:P=>Z(P).attr(\"transform\",`translate(${g.left},0)`).call(un(q).ticks(s/50))})),m&&Y.default.createElement(Y.default.Fragment,null,m.x&&Y.default.createElement(\"g\",{className:\"grid\",ref:P=>Z(P).attr(\"transform\",`translate(0, ${q(c.y[1])})`).call(ln(D).ticks(m.x).tickSize(O).tickFormat(()=>\"\"))}),m.y&&Y.default.createElement(\"g\",{className:\"grid\",ref:P=>Z(P).attr(\"transform\",`translate(${D(c.x[0])}, 0)`).call(un(q).ticks(m.y).tickSize(-T).tickFormat(()=>\"\"))})),Y.default.createElement(\"g\",null,I.map((P,_)=>P.map((B,R)=>Y.default.createElement(\"path\",{onMouseEnter:()=>h&&h(_),onMouseLeave:()=>N&&N(_),key:_+\"-\"+R,d:\"M\"+B.join(\"L\"),stroke:p[_%p.length]||\"black\",strokeWidth:e,fill:\"none\"})))))}var pn=hn(oe());function wa({f:e,width:n,margin:a,height:s,range:c}){a=a||40,n=n||400,s=s||300,c=c||{x:[-1,1],y:[-1,1]};let p=[],m=J().domain(c.x).range([a,n-a]),d=J().domain(c.y).range([s-a,a]);for(let h=a+1e-6;h<n-a;h+=1){let N=m.invert(h),b=e(N),g=d(b);p.push([h,g])}return pn.default.createElement(\"svg\",{width:n+20,height:s+20},pn.default.createElement(\"g\",null,pn.default.createElement(\"path\",{d:`M${p.join(\"L\")}`,stroke:\"steelblue\",fill:\"none\"}),pn.default.createElement(\"g\",{transform:`translate(${a},0)`,ref:h=>Z(h).call(un(d))}),pn.default.createElement(\"g\",{transform:`translate(0,${d(0)})`,ref:h=>Z(h).call(ln(m))})))}function ja({f:e,width:n,margin:a,height:s,range:c}){return a=a||40,n=n||400,s=s||300,c=c||{x:[-1,1],y:[-1,1]},pn.default.createElement(\"svg\",{ref:p=>{let m=Z(p).attr(\"width\",n+20).attr(\"height\",s+20),d=J().domain(c.x).range([a,n-a]),h=J().domain(c.y).range([s-a,a]),N=m.append(\"g\"),b=[];for(let g=a+1e-6;g<n-a;g+=1){let y=d.invert(g),w=e(y),S=h(w);b.push([g,S])}N.append(\"path\").attr(\"d\",\"M\"+b.join(\"L\")).style(\"stroke\",\"steelblue\").style(\"fill\",\"none\"),N.append(\"g\").attr(\"transform\",`translate(${a},0)`).call(un(h)),N.append(\"g\").attr(\"transform\",`translate(0,${h(0)})`).call(ln(d))}})}var Es={title:\"Plotting Functions with React and d3.js\",date:\"2020-04-18\",tags:[\"code\",\"d3\"],description:\"As the basis of many upcoming visualizations.\",image:\"./img/plot.png\"};function Rs(e){let n=Object.assign({p:\"p\",a:\"a\",pre:\"pre\",code:\"code\",span:\"span\",h2:\"h2\",h3:\"h3\",ul:\"ul\",li:\"li\"},e.components),{wrapper:a}=n,s=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[\"As the basis of many upcoming visualizations, I will use libraries of \",(0,t.jsx)(n.a,{href:\"https://github.com/d3/d3/blob/master/API.md\",children:\"the huge d3 ecosystem\"}),`.\nFor many applications, for example to animate vibrating strings, it want to plot functions:`]}),`\n`,(0,t.jsx)(ba,{strokeWidth:5,functions:[c=>Math.sin(c),c=>Math.cos(c)],range:{x:[-Math.PI,Math.PI],y:[-1,1]}}),`\n`,(0,t.jsx)(n.p,{children:\"The code:\"}),`\n`,(0,t.jsx)(n.pre,{className:\"language-js\",children:(0,t.jsxs)(n.code,{className:\"language-js\",children:[(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,t.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Plot\"}),\" functions\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"x\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"sin\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"x\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"cos\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" range\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" x\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"PI\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"PI\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" y\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n`]})}),`\n`,(0,t.jsxs)(n.h2,{id:\"combining-d3-and-react\",children:[(0,t.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#combining-d3-and-react\",children:(0,t.jsx)(n.span,{className:\"icon icon-link\"})}),\"Combining d3 and react\"]}),`\n`,(0,t.jsx)(n.p,{children:`As d3 has its own API for handling the DOM, we could theoretically do the job without React.\nBut as I want to be able to use components in MDX files directly, React needs to be at least a wrapper for d3.`}),`\n`,(0,t.jsxs)(n.h3,{id:\"with-d3-selection\",children:[(0,t.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#with-d3-selection\",children:(0,t.jsx)(n.span,{className:\"icon icon-link\"})}),\"With d3-selection\"]}),`\n`,(0,t.jsxs)(n.p,{children:[\"So now let's just use React as a wrapper and let d3 handle the DOM inside the svg element, by using its jquery-like API \",(0,t.jsx)(n.a,{href:\"https://github.com/d3/d3-selection\",children:\"d3-selection\"}),\".\"]}),`\n`,(0,t.jsxs)(n.p,{children:[\"By using most of the code from \",(0,t.jsx)(n.a,{href:\"https://observablehq.com/@d3/continuous-scales#visualizeScale\",children:\"here\"}),\" and pasting it into the \",(0,t.jsx)(n.a,{href:\"https://reactjs.org/docs/refs-and-the-dom.html#callback-refs\",children:\"ref callback\"}),\", we can operate directly on the svg element:\"]}),`\n`,(0,t.jsx)(n.pre,{className:\"language-js\",children:(0,t.jsxs)(n.code,{className:\"language-js\",children:[(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,t.jsx)(n.span,{className:\"token imports\",children:(0,t.jsx)(n.span,{className:\"token maybe-class-name\",children:\"React\"})}),\" \",(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'react'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,t.jsxs)(n.span,{className:\"token imports\",children:[(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" scaleLinear \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'d3-scale'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,t.jsxs)(n.span,{className:\"token imports\",children:[(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" select \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'d3-selection'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,t.jsxs)(n.span,{className:\"token imports\",children:[(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" axisBottom\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" axisLeft \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'d3-axis'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,t.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:(0,t.jsx)(n.span,{className:\"token maybe-class-name\",children:\"FunctionPlot\"})}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsxs)(n.span,{className:\"token parameter\",children:[(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" f\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" width\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" height\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" range \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n  margin `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" margin \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"40\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  width `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"400\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  height `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"300\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  range `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" range \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" x\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" y\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),`svg\n      ref`,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"el\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" svg \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"select\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"el\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"attr\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'width'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"attr\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'height'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n          x `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"scaleLinear\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"domain\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token property-access\",children:\"x\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"range\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n          y `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"scaleLinear\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"domain\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token property-access\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"range\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n          g `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" svg\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"append\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'g'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n          line `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" margin \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1e-6\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,t.jsx)(n.span,{className:\"token constant\",children:\"X\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"invert\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"i\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token constant\",children:\"Y\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"f\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"X\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n            j `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"Y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n          line`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"push\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" j\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n        g`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"append\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'path'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"attr\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'d'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'M'\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" line\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"join\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'L'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"style\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'stroke'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'steelblue'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"style\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'fill'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'none'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n        g`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"append\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'g'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"attr\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'transform'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsxs)(n.span,{className:\"token template-string\",children:[(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"translate(\"}),(0,t.jsxs)(n.span,{className:\"token interpolation\",children:[(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"margin\",(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token string\",children:\",0)\"}),(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"call\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"axisLeft\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"y\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n        g`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"append\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'g'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"attr\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'transform'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsxs)(n.span,{className:\"token template-string\",children:[(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"translate(0,\"}),(0,t.jsxs)(n.span,{className:\"token interpolation\",children:[(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token string\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"call\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"axisBottom\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n    `,(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"svg\",(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,t.jsx)(n.p,{children:\"and using it:\"}),`\n`,(0,t.jsx)(n.pre,{className:\"language-js\",children:(0,t.jsxs)(n.code,{className:\"language-js\",children:[(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,t.jsx)(n.span,{className:\"token maybe-class-name\",children:\"FunctionPlot\"}),\" f\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"x\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"sin\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" range\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" x\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" y\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n`]})}),`\n`,(0,t.jsx)(ja,{f:c=>Math.sin(c),range:{x:[-4,4],y:[-1,1]}}),`\n`,(0,t.jsx)(n.p,{children:\"Other d3 APIs used:\"}),`\n`,(0,t.jsxs)(n.ul,{children:[`\n`,(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:\"https://observablehq.com/@d3/introduction-to-d3s-scales?collection=@d3/d3-scale\",children:\"d3-scale\"}),\" for a convenient translation of the function value range to the pixels dimensions on screen\"]}),`\n`,(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:\"https://github.com/d3/d3-axis\",children:\"d3-axis\"}),\" for easy-to-use x and y axis\"]}),`\n`]}),`\n`,(0,t.jsxs)(n.h3,{id:\"with-jsx\",children:[(0,t.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#with-jsx\",children:(0,t.jsx)(n.span,{className:\"icon icon-link\"})}),\"With JSX\"]}),`\n`,(0,t.jsx)(n.p,{children:\"As React is already a pretty good lib to handle the DOM efficiently, we can (mostly) spare d3-selection and render the SVG elements in JSX:\"}),`\n`,(0,t.jsx)(n.pre,{className:\"language-js\",children:(0,t.jsxs)(n.code,{className:\"language-js\",children:[(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,t.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:(0,t.jsx)(n.span,{className:\"token maybe-class-name\",children:\"FunctionPlot\"})}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsxs)(n.span,{className:\"token parameter\",children:[(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" f\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" width\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" height\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" range \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n  margin `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" margin \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"40\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  width `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"400\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  height `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"300\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  range `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" range \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" x\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" y\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" line \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n    x `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"scaleLinear\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"domain\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token property-access\",children:\"x\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"range\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n    y `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"scaleLinear\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"domain\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token property-access\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"range\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" margin \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1e-6\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,t.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,t.jsx)(n.span,{className:\"token constant\",children:\"X\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"invert\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"i\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token constant\",children:\"Y\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"f\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"X\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n      j `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"Y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n    line`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"push\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" j\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"svg width\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" height\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"g\",(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"path d\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsxs)(n.span,{className:\"token template-string\",children:[(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"M\"}),(0,t.jsxs)(n.span,{className:\"token interpolation\",children:[(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"line\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"join\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'L'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" stroke\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token string\",children:'\"steelblue\"'}),\" fill\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token string\",children:'\"none\"'}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"g transform\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsxs)(n.span,{className:\"token template-string\",children:[(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"translate(\"}),(0,t.jsxs)(n.span,{className:\"token interpolation\",children:[(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"margin\",(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token string\",children:\",0)\"}),(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" ref\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"g\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"select\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"g\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"call\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"axisLeft\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"y\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"g transform\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsxs)(n.span,{className:\"token template-string\",children:[(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"translate(0,\"}),(0,t.jsxs)(n.span,{className:\"token interpolation\",children:[(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token string\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" ref\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"g\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"select\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"g\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"call\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"axisBottom\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"g\",(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n    `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"svg\",(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,t.jsx)(n.p,{children:\"Now the .select / .append calls have been refactored to JSX. I like this code much more as it looks flatter and lets me manipulate the svg elements directly as JSX without using a wide API surface of chaining methods.\"}),`\n`,(0,t.jsx)(n.p,{children:\"The output is exactly the same:\"}),`\n`,(0,t.jsx)(wa,{f:c=>Math.sin(c),range:{x:[-4,4],y:[-1,1]}}),`\n`,(0,t.jsxs)(n.p,{children:[`You may have noticed that the axes are still rendered using ref callback + d3-selection.\nThis is because the axes methods are generators that output a subtree of DOM nodes.\nIf we wanted to avoid using d3-selection completely, we could implement our own axis component using `,(0,t.jsx)(n.a,{href:\"https://observablehq.com/@d3/scale-ticks\",children:\"scale.ticks\"}),\".\"]}),`\n`,(0,t.jsx)(n.p,{children:\"But for my use case, the above approach is perfectly fine.\"}),`\n`,(0,t.jsx)(n.p,{children:\"I am really excited by d3 and the way it is organized in small modules, letting me pick only the parts I need! It will be a big part of upcoming visualizations on this blog.\"}),`\n`,(0,t.jsxs)(n.h2,{id:\"more-d3-resources\",children:[(0,t.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#more-d3-resources\",children:(0,t.jsx)(n.span,{className:\"icon icon-link\"})}),\"More d3 Resources\"]}),`\n`,(0,t.jsxs)(n.ul,{children:[`\n`,(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:\"https://observablehq.com/collection/@d3/learn-d3\",children:\"https://observablehq.com/collection/@d3/learn-d3\"})}),`\n`,(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:\"https://medium.com/@enjalot/how-do-you-learn-d3-js-ccffc151419b\",children:\"https://medium.com/@enjalot/how-do-you-learn-d3-js-ccffc151419b\"})}),`\n`,(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:\"https://medium.com/@enjalot/the-hitchhikers-guide-to-d3-js-a8552174733a\",children:\"https://medium.com/@enjalot/the-hitchhikers-guide-to-d3-js-a8552174733a\"})}),`\n`,(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:\"https://bost.ocks.org/mike/\",children:\"https://bost.ocks.org/mike/\"})}),`\n`]})]});return a?(0,t.jsx)(a,Object.assign({},e,{children:s})):s}var zs=Rs;return Ds;})();\n;return Component.default;"},"__N_SSG":true}