{"pageProps":{"frontmatter":{"title":"Coloring Musical Scales","date":"2021-01-02","tags":["code","d3"],"description":"After we found a basic way of coloring pitches, let's now look at a way to color scales.","image":"./img/coloring-scales.png"},"code":"var Component=(()=>{var Ka=Object.create;var pn=Object.defineProperty;var La=Object.getOwnPropertyDescriptor;var Ha=Object.getOwnPropertyNames;var Ya=Object.getPrototypeOf,Wa=Object.prototype.hasOwnProperty;var At=e=>pn(e,\"__esModule\",{value:!0});var te=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),za=(e,n)=>{At(e);for(var t in n)pn(e,t,{get:n[t],enumerable:!0})},$a=(e,n,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let r of Ha(n))!Wa.call(e,r)&&r!==\"default\"&&pn(e,r,{get:()=>n[r],enumerable:!(t=La(n,r))||t.enumerable});return e},Fe=e=>$a(At(pn(e!=null?Ka(Ya(e)):{},\"default\",e&&e.__esModule&&\"default\"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Ot=te((Oi,It)=>{It.exports=_jsx_runtime});var fe=te((vn,Ct)=>{(function(e,n){typeof vn==\"object\"&&typeof Ct!=\"undefined\"?n(vn):typeof define==\"function\"&&define.amd?define([\"exports\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Core={}))})(vn,function(e){\"use strict\";var n=function(I,G){return Array(Math.abs(G)+1).join(I)};function t(I,G,Y){return function(){for(var W=[],K=0;K<arguments.length;K++)W[K]=arguments[K];return console.warn(I+\" is deprecated. Use \"+G+\".\"),Y.apply(this,W)}}function r(I){return I!==null&&typeof I==\"object\"&&typeof I.name==\"string\"}function a(I){return I!==null&&typeof I==\"object\"&&typeof I.step==\"number\"&&typeof I.alt==\"number\"}var o=[0,2,4,-1,1,3,5],c=o.map(function(I){return Math.floor(I*7/12)});function d(I){var G=I.step,Y=I.alt,W=I.oct,K=I.dir,V=K===void 0?1:K,ee=o[G]+7*Y;if(W===void 0)return[V*ee];var se=W-c[G]-4*Y;return[V*ee,V*se]}var v=[3,0,4,1,5,2,6];function M(I){var G=I[0],Y=I[1],W=I[2],K=v[g(G)],V=Math.floor((G+1)/7);if(Y===void 0)return{step:K,alt:V,dir:W};var ee=Y+4*V+c[K];return{step:K,alt:V,oct:ee,dir:W}}function g(I){var G=(I+1)%7;return G<0?7+G:G}var h={empty:!0,name:\"\",pc:\"\",acc:\"\"},b=new Map,k=function(I){return\"CDEFGAB\".charAt(I)},w=function(I){return I<0?n(\"b\",-I):n(\"#\",I)},T=function(I){return I[0]===\"b\"?-I.length:I.length};function A(I){var G=b.get(I);if(G)return G;var Y=typeof I==\"string\"?j(I):a(I)?A(N(I)):r(I)?A(I.name):h;return b.set(I,Y),Y}var C=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\\d*)\\s*(.*)$/;function _(I){var G=C.exec(I);return[G[1].toUpperCase(),G[2].replace(/x/g,\"##\"),G[3],G[4]]}function x(I){return A(M(I))}var P=function(I,G){return(I%G+G)%G},p=[0,2,4,5,7,9,11];function j(I){var G=_(I);if(G[0]===\"\"||G[3]!==\"\")return h;var Y=G[0],W=G[1],K=G[2],V=(Y.charCodeAt(0)+3)%7,ee=T(W),se=K.length?+K:void 0,he=d({step:V,alt:ee,oct:se}),Me=Y+W+K,we=Y+W,Se=(p[V]+ee+120)%12,Pe=se===void 0?P(p[V]+ee,12)-12*99:p[V]+ee+12*(se+1),Ve=Pe>=0&&Pe<=127?Pe:null,Ae=se===void 0?null:Math.pow(2,(Pe-69)/12)*440;return{empty:!1,acc:W,alt:ee,chroma:Se,coord:he,freq:Ae,height:Pe,letter:Y,midi:Ve,name:Me,oct:se,pc:we,step:V}}function N(I){var G=I.step,Y=I.alt,W=I.oct,K=k(G);if(!K)return\"\";var V=K+w(Y);return W||W===0?V+W:V}var S={empty:!0,name:\"\",acc:\"\"},E=\"([-+]?\\\\d+)(d{1,4}|m|M|P|A{1,4})\",B=\"(AA|A|P|M|m|d|dd)([-+]?\\\\d+)\",H=new RegExp(\"^\"+E+\"|\"+B+\"$\");function X(I){var G=H.exec(\"\"+I);return G===null?[\"\",\"\"]:G[1]?[G[1],G[2]]:[G[4],G[3]]}var ie={};function ne(I){return typeof I==\"string\"?ie[I]||(ie[I]=U(I)):a(I)?ne(re(I)):r(I)?ne(I.name):S}var R=[0,2,4,5,7,9,11],F=\"PMMPPMM\";function U(I){var G=X(I);if(G[0]===\"\")return S;var Y=+G[0],W=G[1],K=(Math.abs(Y)-1)%7,V=F[K];if(V===\"M\"&&W===\"P\")return S;var ee=V===\"M\"?\"majorable\":\"perfectable\",se=\"\"+Y+W,he=Y<0?-1:1,Me=Y===8||Y===-8?Y:he*(K+1),we=$(ee,W),Se=Math.floor((Math.abs(Y)-1)/7),Pe=he*(R[K]+we+12*Se),Ve=(he*(R[K]+we)%12+12)%12,Ae=d({step:K,alt:we,oct:Se,dir:he});return{empty:!1,name:se,num:Y,q:W,step:K,alt:we,dir:he,type:ee,simple:Me,semitones:Pe,chroma:Ve,coord:Ae,oct:Se}}function q(I){var G=I[0],Y=I[1],W=Y===void 0?0:Y,K=G*7+W*12<0,V=K?[-G,-W,-1]:[G,W,1];return ne(M(V))}function $(I,G){return G===\"M\"&&I===\"majorable\"||G===\"P\"&&I===\"perfectable\"?0:G===\"m\"&&I===\"majorable\"?-1:/^A+$/.test(G)?G.length:/^d+$/.test(G)?-1*(I===\"perfectable\"?G.length:G.length+1):0}function re(I){var G=I.step,Y=I.alt,W=I.oct,K=W===void 0?0:W,V=I.dir;if(!V)return\"\";var ee=G+1+7*K,se=V<0?\"-\":\"\",he=F[G]===\"M\"?\"majorable\":\"perfectable\",Me=se+ee+ce(he,Y);return Me}function ce(I,G){return G===0?I===\"majorable\"?\"M\":\"P\":G===-1&&I===\"majorable\"?\"m\":G>0?n(\"A\",G):n(\"d\",I===\"perfectable\"?G:G+1)}function me(I,G){var Y=A(I),W=ne(G);if(Y.empty||W.empty)return\"\";var K=Y.coord,V=W.coord,ee=K.length===1?[K[0]+V[0]]:[K[0]+V[0],K[1]+V[1]];return x(ee).name}function pe(I,G){var Y=A(I),W=A(G);if(Y.empty||W.empty)return\"\";var K=Y.coord,V=W.coord,ee=V[0]-K[0],se=K.length===2&&V.length===2?V[1]-K[1]:-Math.floor(ee*7/12);return q([ee,se]).name}e.accToAlt=T,e.altToAcc=w,e.coordToInterval=q,e.coordToNote=x,e.decode=M,e.deprecate=t,e.distance=pe,e.encode=d,e.fillStr=n,e.interval=ne,e.isNamed=r,e.isPitch=a,e.note=A,e.stepToLetter=k,e.tokenizeInterval=X,e.tokenizeNote=_,e.transpose=me,Object.defineProperty(e,\"__esModule\",{value:!0})})});var qt=te((gn,Et)=>{(function(e,n){typeof gn==\"object\"&&typeof Et!=\"undefined\"?n(gn,fe()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.AbcNotation={},e.core))})(gn,function(e,n){\"use strict\";var t=function(g,h){return Array(h+1).join(g)},r=/^(_{1,}|=|\\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function a(g){var h=r.exec(g);return h?[h[1],h[2],h[3]]:[\"\",\"\",\"\"]}function o(g){var h=a(g),b=h[0],k=h[1],w=h[2];if(k===\"\")return\"\";for(var T=4,A=0;A<w.length;A++)T+=w.charAt(A)===\",\"?-1:1;var C=b[0]===\"_\"?b.replace(/_/g,\"b\"):b[0]===\"^\"?b.replace(/\\^/g,\"#\"):\"\";return k.charCodeAt(0)>96?k.toUpperCase()+C+(T+1):k+C+T}function c(g){var h=n.note(g);if(h.empty||!h.oct&&h.oct!==0)return\"\";var b=h.letter,k=h.acc,w=h.oct,T=k[0]===\"b\"?k.replace(/b/g,\"_\"):k.replace(/#/g,\"^\"),A=w>4?b.toLowerCase():b,C=w===5?\"\":w>4?t(\"'\",w-5):t(\",\",4-w);return T+A+C}function d(g,h){return c(n.transpose(o(g),h))}function v(g,h){return n.distance(o(g),o(h))}var M={abcToScientificNotation:o,scientificToAbcNotation:c,tokenize:a,transpose:d,distance:v};e.abcToScientificNotation=o,e.default=M,e.distance=v,e.scientificToAbcNotation=c,e.tokenize=a,e.transpose=d,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Dt=te((yn,Gt)=>{(function(e,n){typeof yn==\"object\"&&typeof Gt!=\"undefined\"?n(yn,fe()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Array={},e.core))})(yn,function(e,n){\"use strict\";function t(h,b){for(var k=[];b--;k[b]=b+h);return k}function r(h,b){for(var k=[];b--;k[b]=h-b);return k}function a(h,b){return h<b?t(h,b-h+1):r(h,h-b+1)}function o(h,b){var k=b.length,w=(h%k+k)%k;return b.slice(w,k).concat(b.slice(0,w))}function c(h){return h.filter(function(b){return b===0||b})}function d(h){var b=h.map(function(k){return n.note(k)}).filter(function(k){return!k.empty});return b.sort(function(k,w){return k.height-w.height}).map(function(k){return k.name})}function v(h){return d(h).filter(function(b,k,w){return k===0||b!==w[k-1]})}function M(h,b){b===void 0&&(b=Math.random);for(var k,w,T=h.length;T;)k=Math.floor(b()*T--),w=h[T],h[T]=h[k],h[k]=w;return h}function g(h){return h.length===0?[[]]:g(h.slice(1)).reduce(function(b,k){return b.concat(h.map(function(w,T){var A=k.slice();return A.splice(T,0,h[0]),A}))},[])}e.compact=c,e.permutations=g,e.range=a,e.rotate=o,e.shuffle=M,e.sortedNoteNames=d,e.sortedUniqNoteNames=v,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Ke=te((bn,Rt)=>{(function(e,n){typeof bn==\"object\"&&typeof Rt!=\"undefined\"?n(bn):typeof define==\"function\"&&define.amd?define([\"exports\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Collection={}))})(bn,function(e){\"use strict\";function n(M,g){for(var h=[];g--;h[g]=g+M);return h}function t(M,g){for(var h=[];g--;h[g]=M-g);return h}function r(M,g){return M<g?n(M,g-M+1):t(M,M-g+1)}function a(M,g){var h=g.length,b=(M%h+h)%h;return g.slice(b,h).concat(g.slice(0,b))}function o(M){return M.filter(function(g){return g===0||g})}function c(M,g){g===void 0&&(g=Math.random);for(var h,b,k=M.length;k;)h=Math.floor(g()*k--),b=M[k],M[k]=M[h],M[h]=b;return M}function d(M){return M.length===0?[[]]:d(M.slice(1)).reduce(function(g,h){return g.concat(M.map(function(b,k){var w=h.slice();return w.splice(k,0,M[0]),w}))},[])}var v={compact:o,permutations:d,range:r,rotate:a,shuffle:c};e.compact=o,e.default=v,e.permutations=d,e.range=r,e.rotate=a,e.shuffle=c,Object.defineProperty(e,\"__esModule\",{value:!0})})});var _e=te((Mn,Bt)=>{(function(e,n){typeof Mn==\"object\"&&typeof Bt!=\"undefined\"?n(Mn,Ke(),fe()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/core\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Pcset={},e.collection,e.core))})(Mn,function(e,n,t){\"use strict\";var r,a={empty:!0,name:\"\",setNum:0,chroma:\"000000000000\",normalized:\"000000000000\",intervals:[]},o=function(R){return Number(R).toString(2)},c=function(R){return parseInt(R,2)},d=/^[01]{12}$/;function v(R){return d.test(R)}var M=function(R){return typeof R==\"number\"&&R>=0&&R<=4095},g=function(R){return R&&v(R.chroma)},h=(r={},r[a.chroma]=a,r);function b(R){var F=v(R)?R:M(R)?o(R):Array.isArray(R)?ne(R):g(R)?R.chroma:a.chroma;return h[F]=h[F]||ie(F)}var k=t.deprecate(\"Pcset.pcset\",\"Pcset.get\",b),w=function(R){return b(R).chroma},T=function(R){return b(R).intervals},A=function(R){return b(R).setNum},C=[\"1P\",\"2m\",\"2M\",\"3m\",\"3M\",\"4P\",\"5d\",\"5P\",\"6m\",\"6M\",\"7m\",\"7M\"];function _(R){for(var F=[],U=0;U<12;U++)R.charAt(U)===\"1\"&&F.push(C[U]);return F}function x(){return n.range(2048,4095).map(o)}function P(R,F){F===void 0&&(F=!0);var U=b(R),q=U.chroma.split(\"\");return n.compact(q.map(function($,re){var ce=n.rotate(re,q);return F&&ce[0]===\"0\"?null:ce.join(\"\")}))}function p(R,F){return b(R).setNum===b(F).setNum}function j(R){var F=b(R).setNum;return function(U){var q=b(U).setNum;return F&&F!==q&&(q&F)===q}}function N(R){var F=b(R).setNum;return function(U){var q=b(U).setNum;return F&&F!==q&&(q|F)===q}}function S(R){var F=b(R);return function(U){var q=t.note(U);return F&&!q.empty&&F.chroma.charAt(q.chroma)===\"1\"}}var E=S;function B(R){var F=S(R);return function(U){return U.filter(F)}}var H={get:b,chroma:w,num:A,intervals:T,chromas:x,isSupersetOf:N,isSubsetOf:j,isNoteIncludedIn:S,isEqual:p,filter:B,modes:P,pcset:k};function X(R){var F=R.split(\"\");return F.map(function(U,q){return n.rotate(q,F).join(\"\")})}function ie(R){var F=c(R),U=X(R).map(c).filter(function(re){return re>=2048}).sort()[0],q=o(U),$=_(R);return{empty:!1,name:\"\",setNum:F,chroma:R,normalized:q,intervals:$}}function ne(R){if(R.length===0)return a.chroma;for(var F,U=[0,0,0,0,0,0,0,0,0,0,0,0],q=0;q<R.length;q++)F=t.note(R[q]),F.empty&&(F=t.interval(R[q])),F.empty||(U[F.chroma]=1);return U.join(\"\")}e.EmptyPcset=a,e.chromaToIntervals=_,e.chromas=x,e.default=H,e.filter=B,e.get=b,e.includes=E,e.isEqual=p,e.isNoteIncludedIn=S,e.isSubsetOf=j,e.isSupersetOf=N,e.modes=P,e.pcset=k,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Ue=te((Pn,Vt)=>{(function(e,n){typeof Pn==\"object\"&&typeof Vt!=\"undefined\"?n(Pn,fe(),_e()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/pcset\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.ChordType={},e.core,e.pcset))})(Pn,function(e,n,t){\"use strict\";var r=function(){return r=Object.assign||function(p){for(var j,N=1,S=arguments.length;N<S;N++){j=arguments[N];for(var E in j)Object.prototype.hasOwnProperty.call(j,E)&&(p[E]=j[E])}return p},r.apply(this,arguments)},a=[[\"1P 3M 5P\",\"major\",\"M ^ \"],[\"1P 3M 5P 7M\",\"major seventh\",\"maj7 \\u0394 ma7 M7 Maj7 ^7\"],[\"1P 3M 5P 7M 9M\",\"major ninth\",\"maj9 \\u03949 ^9\"],[\"1P 3M 5P 7M 9M 13M\",\"major thirteenth\",\"maj13 Maj13 ^13\"],[\"1P 3M 5P 6M\",\"sixth\",\"6 add6 add13 M6\"],[\"1P 3M 5P 6M 9M\",\"sixth/ninth\",\"6/9 69 M69\"],[\"1P 3M 6m 7M\",\"major seventh flat sixth\",\"M7b6 ^7b6\"],[\"1P 3M 5P 7M 11A\",\"major seventh sharp eleventh\",\"maj#4 \\u0394#4 \\u0394#11 M7#11 ^7#11 maj7#11\"],[\"1P 3m 5P\",\"minor\",\"m min -\"],[\"1P 3m 5P 7m\",\"minor seventh\",\"m7 min7 mi7 -7\"],[\"1P 3m 5P 7M\",\"minor/major seventh\",\"m/ma7 m/maj7 mM7 mMaj7 m/M7 -\\u03947 m\\u0394 -^7\"],[\"1P 3m 5P 6M\",\"minor sixth\",\"m6 -6\"],[\"1P 3m 5P 7m 9M\",\"minor ninth\",\"m9 -9\"],[\"1P 3m 5P 7M 9M\",\"minor/major ninth\",\"mM9 mMaj9 -^9\"],[\"1P 3m 5P 7m 9M 11P\",\"minor eleventh\",\"m11 -11\"],[\"1P 3m 5P 7m 9M 13M\",\"minor thirteenth\",\"m13 -13\"],[\"1P 3m 5d\",\"diminished\",\"dim \\xB0 o\"],[\"1P 3m 5d 7d\",\"diminished seventh\",\"dim7 \\xB07 o7\"],[\"1P 3m 5d 7m\",\"half-diminished\",\"m7b5 \\xF8 -7b5 h7 h\"],[\"1P 3M 5P 7m\",\"dominant seventh\",\"7 dom\"],[\"1P 3M 5P 7m 9M\",\"dominant ninth\",\"9\"],[\"1P 3M 5P 7m 9M 13M\",\"dominant thirteenth\",\"13\"],[\"1P 3M 5P 7m 11A\",\"lydian dominant seventh\",\"7#11 7#4\"],[\"1P 3M 5P 7m 9m\",\"dominant flat ninth\",\"7b9\"],[\"1P 3M 5P 7m 9A\",\"dominant sharp ninth\",\"7#9\"],[\"1P 3M 7m 9m\",\"altered\",\"alt7\"],[\"1P 4P 5P\",\"suspended fourth\",\"sus4 sus\"],[\"1P 2M 5P\",\"suspended second\",\"sus2\"],[\"1P 4P 5P 7m\",\"suspended fourth seventh\",\"7sus4 7sus\"],[\"1P 5P 7m 9M 11P\",\"eleventh\",\"11\"],[\"1P 4P 5P 7m 9m\",\"suspended fourth flat ninth\",\"b9sus phryg 7b9sus 7b9sus4\"],[\"1P 5P\",\"fifth\",\"5\"],[\"1P 3M 5A\",\"augmented\",\"aug + +5 ^#5\"],[\"1P 3m 5A\",\"minor augmented\",\"m#5 -#5 m+\"],[\"1P 3M 5A 7M\",\"augmented seventh\",\"maj7#5 maj7+5 +maj7 ^7#5\"],[\"1P 3M 5P 7M 9M 11A\",\"major sharp eleventh (lydian)\",\"maj9#11 \\u03949#11 ^9#11\"],[\"1P 2M 4P 5P\",\"\",\"sus24 sus4add9\"],[\"1P 3M 5A 7M 9M\",\"\",\"maj9#5 Maj9#5\"],[\"1P 3M 5A 7m\",\"\",\"7#5 +7 7+ 7aug aug7\"],[\"1P 3M 5A 7m 9A\",\"\",\"7#5#9 7#9#5 7alt\"],[\"1P 3M 5A 7m 9M\",\"\",\"9#5 9+\"],[\"1P 3M 5A 7m 9M 11A\",\"\",\"9#5#11\"],[\"1P 3M 5A 7m 9m\",\"\",\"7#5b9 7b9#5\"],[\"1P 3M 5A 7m 9m 11A\",\"\",\"7#5b9#11\"],[\"1P 3M 5A 9A\",\"\",\"+add#9\"],[\"1P 3M 5A 9M\",\"\",\"M#5add9 +add9\"],[\"1P 3M 5P 6M 11A\",\"\",\"M6#11 M6b5 6#11 6b5\"],[\"1P 3M 5P 6M 7M 9M\",\"\",\"M7add13\"],[\"1P 3M 5P 6M 9M 11A\",\"\",\"69#11\"],[\"1P 3m 5P 6M 9M\",\"\",\"m69 -69\"],[\"1P 3M 5P 6m 7m\",\"\",\"7b6\"],[\"1P 3M 5P 7M 9A 11A\",\"\",\"maj7#9#11\"],[\"1P 3M 5P 7M 9M 11A 13M\",\"\",\"M13#11 maj13#11 M13+4 M13#4\"],[\"1P 3M 5P 7M 9m\",\"\",\"M7b9\"],[\"1P 3M 5P 7m 11A 13m\",\"\",\"7#11b13 7b5b13\"],[\"1P 3M 5P 7m 13M\",\"\",\"7add6 67 7add13\"],[\"1P 3M 5P 7m 9A 11A\",\"\",\"7#9#11 7b5#9 7#9b5\"],[\"1P 3M 5P 7m 9A 11A 13M\",\"\",\"13#9#11\"],[\"1P 3M 5P 7m 9A 11A 13m\",\"\",\"7#9#11b13\"],[\"1P 3M 5P 7m 9A 13M\",\"\",\"13#9\"],[\"1P 3M 5P 7m 9A 13m\",\"\",\"7#9b13\"],[\"1P 3M 5P 7m 9M 11A\",\"\",\"9#11 9+4 9#4\"],[\"1P 3M 5P 7m 9M 11A 13M\",\"\",\"13#11 13+4 13#4\"],[\"1P 3M 5P 7m 9M 11A 13m\",\"\",\"9#11b13 9b5b13\"],[\"1P 3M 5P 7m 9m 11A\",\"\",\"7b9#11 7b5b9 7b9b5\"],[\"1P 3M 5P 7m 9m 11A 13M\",\"\",\"13b9#11\"],[\"1P 3M 5P 7m 9m 11A 13m\",\"\",\"7b9b13#11 7b9#11b13 7b5b9b13\"],[\"1P 3M 5P 7m 9m 13M\",\"\",\"13b9\"],[\"1P 3M 5P 7m 9m 13m\",\"\",\"7b9b13\"],[\"1P 3M 5P 7m 9m 9A\",\"\",\"7b9#9\"],[\"1P 3M 5P 9M\",\"\",\"Madd9 2 add9 add2\"],[\"1P 3M 5P 9m\",\"\",\"Maddb9\"],[\"1P 3M 5d\",\"\",\"Mb5\"],[\"1P 3M 5d 6M 7m 9M\",\"\",\"13b5\"],[\"1P 3M 5d 7M\",\"\",\"M7b5\"],[\"1P 3M 5d 7M 9M\",\"\",\"M9b5\"],[\"1P 3M 5d 7m\",\"\",\"7b5\"],[\"1P 3M 5d 7m 9M\",\"\",\"9b5\"],[\"1P 3M 7m\",\"\",\"7no5\"],[\"1P 3M 7m 13m\",\"\",\"7b13\"],[\"1P 3M 7m 9M\",\"\",\"9no5\"],[\"1P 3M 7m 9M 13M\",\"\",\"13no5\"],[\"1P 3M 7m 9M 13m\",\"\",\"9b13\"],[\"1P 3m 4P 5P\",\"\",\"madd4\"],[\"1P 3m 5P 6m 7M\",\"\",\"mMaj7b6\"],[\"1P 3m 5P 6m 7M 9M\",\"\",\"mMaj9b6\"],[\"1P 3m 5P 7m 11P\",\"\",\"m7add11 m7add4\"],[\"1P 3m 5P 9M\",\"\",\"madd9\"],[\"1P 3m 5d 6M 7M\",\"\",\"o7M7\"],[\"1P 3m 5d 7M\",\"\",\"oM7\"],[\"1P 3m 6m 7M\",\"\",\"mb6M7\"],[\"1P 3m 6m 7m\",\"\",\"m7#5\"],[\"1P 3m 6m 7m 9M\",\"\",\"m9#5\"],[\"1P 3m 5A 7m 9M 11P\",\"\",\"m11A\"],[\"1P 3m 6m 9m\",\"\",\"mb6b9\"],[\"1P 2M 3m 5d 7m\",\"\",\"m9b5\"],[\"1P 4P 5A 7M\",\"\",\"M7#5sus4\"],[\"1P 4P 5A 7M 9M\",\"\",\"M9#5sus4\"],[\"1P 4P 5A 7m\",\"\",\"7#5sus4\"],[\"1P 4P 5P 7M\",\"\",\"M7sus4\"],[\"1P 4P 5P 7M 9M\",\"\",\"M9sus4\"],[\"1P 4P 5P 7m 9M\",\"\",\"9sus4 9sus\"],[\"1P 4P 5P 7m 9M 13M\",\"\",\"13sus4 13sus\"],[\"1P 4P 5P 7m 9m 13m\",\"\",\"7sus4b9b13 7b9b13sus4\"],[\"1P 4P 7m 10m\",\"\",\"4 quartal\"],[\"1P 5P 7m 9m 11P\",\"\",\"11b9\"]],o=r(r({},t.EmptyPcset),{name:\"\",quality:\"Unknown\",intervals:[],aliases:[]}),c=[],d={};function v(P){return d[P]||o}var M=n.deprecate(\"ChordType.chordType\",\"ChordType.get\",v);function g(){return c.map(function(P){return P.name}).filter(function(P){return P})}function h(){return c.map(function(P){return P.aliases[0]}).filter(function(P){return P})}function b(){return Object.keys(d)}function k(){return c.slice()}var w=n.deprecate(\"ChordType.entries\",\"ChordType.all\",k);function T(){c=[],d={}}function A(P,p,j){var N=_(P),S=r(r({},t.get(P)),{name:j||\"\",quality:N,intervals:P,aliases:p});c.push(S),S.name&&(d[S.name]=S),d[S.setNum]=S,d[S.chroma]=S,S.aliases.forEach(function(E){return C(S,E)})}function C(P,p){d[p]=P}function _(P){var p=function(j){return P.indexOf(j)!==-1};return p(\"5A\")?\"Augmented\":p(\"3M\")?\"Major\":p(\"5d\")?\"Diminished\":p(\"3m\")?\"Minor\":\"Unknown\"}a.forEach(function(P){var p=P[0],j=P[1],N=P[2];return A(p.split(\" \"),N.split(\" \"),j)}),c.sort(function(P,p){return P.setNum-p.setNum});var x={names:g,symbols:h,get:v,all:k,add:A,removeAll:T,keys:b,entries:w,chordType:M};e.add=A,e.addAlias=C,e.all=k,e.chordType=M,e.default=x,e.entries=w,e.get=v,e.keys=b,e.names=g,e.removeAll=T,e.symbols=h,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Kt=te((Nn,Ft)=>{(function(e,n){typeof Nn==\"object\"&&typeof Ft!=\"undefined\"?n(Nn,Ue(),fe(),_e()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/chord-type\",\"@tonaljs/core\",\"@tonaljs/pcset\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.ChordDetect={},e.chordType,e.core,e.pcset))})(Nn,function(e,n,t,r){\"use strict\";var a=function(v){var M=v.reduce(function(g,h){var b=t.note(h).chroma;return b!==void 0&&(g[b]=g[b]||t.note(h).name),g},{});return function(g){return M[g]}};function o(v){var M=v.map(function(h){return t.note(h).pc}).filter(function(h){return h});if(t.note.length===0)return[];var g=c(M,1);return g.filter(function(h){return h.weight}).sort(function(h,b){return b.weight-h.weight}).map(function(h){return h.name})}function c(v,M){var g=v[0],h=t.note(g).chroma,b=a(v),k=r.modes(v,!1),w=[];return k.forEach(function(T,A){var C=n.all().filter(function(_){return _.chroma===T});C.forEach(function(_){var x=_.aliases[0],P=b(A),p=A!==h;p?w.push({weight:.5*M,name:\"\"+P+x+\"/\"+g}):w.push({weight:1*M,name:\"\"+P+x})})}),w}var d={detect:o};e.default=d,e.detect=o,Object.defineProperty(e,\"__esModule\",{value:!0})})});var jn=te((kn,Lt)=>{(function(e,n){typeof kn==\"object\"&&typeof Lt!=\"undefined\"?n(kn,fe(),_e()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/pcset\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.ScaleType={},e.core,e.pcset))})(kn,function(e,n,t){\"use strict\";var r=function(){return r=Object.assign||function(x){for(var P,p=1,j=arguments.length;p<j;p++){P=arguments[p];for(var N in P)Object.prototype.hasOwnProperty.call(P,N)&&(x[N]=P[N])}return x},r.apply(this,arguments)},a=[[\"1P 2M 3M 5P 6M\",\"major pentatonic\",\"pentatonic\"],[\"1P 3M 4P 5P 7M\",\"ionian pentatonic\"],[\"1P 3M 4P 5P 7m\",\"mixolydian pentatonic\",\"indian\"],[\"1P 2M 4P 5P 6M\",\"ritusen\"],[\"1P 2M 4P 5P 7m\",\"egyptian\"],[\"1P 3M 4P 5d 7m\",\"neopolitan major pentatonic\"],[\"1P 3m 4P 5P 6m\",\"vietnamese 1\"],[\"1P 2m 3m 5P 6m\",\"pelog\"],[\"1P 2m 4P 5P 6m\",\"kumoijoshi\"],[\"1P 2M 3m 5P 6m\",\"hirajoshi\"],[\"1P 2m 4P 5d 7m\",\"iwato\"],[\"1P 2m 4P 5P 7m\",\"in-sen\"],[\"1P 3M 4A 5P 7M\",\"lydian pentatonic\",\"chinese\"],[\"1P 3m 4P 6m 7m\",\"malkos raga\"],[\"1P 3m 4P 5d 7m\",\"locrian pentatonic\",\"minor seven flat five pentatonic\"],[\"1P 3m 4P 5P 7m\",\"minor pentatonic\",\"vietnamese 2\"],[\"1P 3m 4P 5P 6M\",\"minor six pentatonic\"],[\"1P 2M 3m 5P 6M\",\"flat three pentatonic\",\"kumoi\"],[\"1P 2M 3M 5P 6m\",\"flat six pentatonic\"],[\"1P 2m 3M 5P 6M\",\"scriabin\"],[\"1P 3M 5d 6m 7m\",\"whole tone pentatonic\"],[\"1P 3M 4A 5A 7M\",\"lydian #5P pentatonic\"],[\"1P 3M 4A 5P 7m\",\"lydian dominant pentatonic\"],[\"1P 3m 4P 5P 7M\",\"minor #7M pentatonic\"],[\"1P 3m 4d 5d 7m\",\"super locrian pentatonic\"],[\"1P 2M 3m 4P 5P 7M\",\"minor hexatonic\"],[\"1P 2A 3M 5P 5A 7M\",\"augmented\"],[\"1P 2M 3m 3M 5P 6M\",\"major blues\"],[\"1P 2M 4P 5P 6M 7m\",\"piongio\"],[\"1P 2m 3M 4A 6M 7m\",\"prometheus neopolitan\"],[\"1P 2M 3M 4A 6M 7m\",\"prometheus\"],[\"1P 2m 3M 5d 6m 7m\",\"mystery #1\"],[\"1P 2m 3M 4P 5A 6M\",\"six tone symmetric\"],[\"1P 2M 3M 4A 5A 7m\",\"whole tone\",\"messiaen's mode #1\"],[\"1P 2m 4P 4A 5P 7M\",\"messiaen's mode #5\"],[\"1P 3m 4P 5d 5P 7m\",\"minor blues\",\"blues\"],[\"1P 2M 3M 4P 5d 6m 7m\",\"locrian major\",\"arabian\"],[\"1P 2m 3M 4A 5P 6m 7M\",\"double harmonic lydian\"],[\"1P 2M 3m 4P 5P 6m 7M\",\"harmonic minor\"],[\"1P 2m 2A 3M 4A 6m 7m\",\"altered\",\"super locrian\",\"diminished whole tone\",\"pomeroy\"],[\"1P 2M 3m 4P 5d 6m 7m\",\"locrian #2\",\"half-diminished\",\"aeolian b5\"],[\"1P 2M 3M 4P 5P 6m 7m\",\"mixolydian b6\",\"melodic minor fifth mode\",\"hindu\"],[\"1P 2M 3M 4A 5P 6M 7m\",\"lydian dominant\",\"lydian b7\",\"overtone\"],[\"1P 2M 3M 4A 5P 6M 7M\",\"lydian\"],[\"1P 2M 3M 4A 5A 6M 7M\",\"lydian augmented\"],[\"1P 2m 3m 4P 5P 6M 7m\",\"dorian b2\",\"phrygian #6\",\"melodic minor second mode\"],[\"1P 2M 3m 4P 5P 6M 7M\",\"melodic minor\"],[\"1P 2m 3m 4P 5d 6m 7m\",\"locrian\"],[\"1P 2m 3m 4d 5d 6m 7d\",\"ultralocrian\",\"superlocrian bb7\",\"\\xB7superlocrian diminished\"],[\"1P 2m 3m 4P 5d 6M 7m\",\"locrian 6\",\"locrian natural 6\",\"locrian sharp 6\"],[\"1P 2A 3M 4P 5P 5A 7M\",\"augmented heptatonic\"],[\"1P 2M 3m 5d 5P 6M 7m\",\"romanian minor\"],[\"1P 2M 3m 4A 5P 6M 7m\",\"dorian #4\"],[\"1P 2M 3m 4A 5P 6M 7M\",\"lydian diminished\"],[\"1P 2m 3m 4P 5P 6m 7m\",\"phrygian\"],[\"1P 2M 3M 4A 5A 7m 7M\",\"leading whole tone\"],[\"1P 2M 3M 4A 5P 6m 7m\",\"lydian minor\"],[\"1P 2m 3M 4P 5P 6m 7m\",\"phrygian dominant\",\"spanish\",\"phrygian major\"],[\"1P 2m 3m 4P 5P 6m 7M\",\"balinese\"],[\"1P 2m 3m 4P 5P 6M 7M\",\"neopolitan major\"],[\"1P 2M 3m 4P 5P 6m 7m\",\"aeolian\",\"minor\"],[\"1P 2M 3M 4P 5P 6m 7M\",\"harmonic major\"],[\"1P 2m 3M 4P 5P 6m 7M\",\"double harmonic major\",\"gypsy\"],[\"1P 2M 3m 4P 5P 6M 7m\",\"dorian\"],[\"1P 2M 3m 4A 5P 6m 7M\",\"hungarian minor\"],[\"1P 2A 3M 4A 5P 6M 7m\",\"hungarian major\"],[\"1P 2m 3M 4P 5d 6M 7m\",\"oriental\"],[\"1P 2m 3m 3M 4A 5P 7m\",\"flamenco\"],[\"1P 2m 3m 4A 5P 6m 7M\",\"todi raga\"],[\"1P 2M 3M 4P 5P 6M 7m\",\"mixolydian\",\"dominant\"],[\"1P 2m 3M 4P 5d 6m 7M\",\"persian\"],[\"1P 2M 3M 4P 5P 6M 7M\",\"major\",\"ionian\"],[\"1P 2m 3M 5d 6m 7m 7M\",\"enigmatic\"],[\"1P 2M 3M 4P 5A 6M 7M\",\"major augmented\",\"major #5\",\"ionian augmented\",\"ionian #5\"],[\"1P 2A 3M 4A 5P 6M 7M\",\"lydian #9\"],[\"1P 2m 2M 4P 4A 5P 6m 7M\",\"messiaen's mode #4\"],[\"1P 2m 3M 4P 4A 5P 6m 7M\",\"purvi raga\"],[\"1P 2m 3m 3M 4P 5P 6m 7m\",\"spanish heptatonic\"],[\"1P 2M 3M 4P 5P 6M 7m 7M\",\"bebop\"],[\"1P 2M 3m 3M 4P 5P 6M 7m\",\"bebop minor\"],[\"1P 2M 3M 4P 5P 5A 6M 7M\",\"bebop major\"],[\"1P 2m 3m 4P 5d 5P 6m 7m\",\"bebop locrian\"],[\"1P 2M 3m 4P 5P 6m 7m 7M\",\"minor bebop\"],[\"1P 2M 3m 4P 5d 6m 6M 7M\",\"diminished\",\"whole-half diminished\"],[\"1P 2M 3M 4P 5d 5P 6M 7M\",\"ichikosucho\"],[\"1P 2M 3m 4P 5P 6m 6M 7M\",\"minor six diminished\"],[\"1P 2m 3m 3M 4A 5P 6M 7m\",\"half-whole diminished\",\"dominant diminished\",\"messiaen's mode #2\"],[\"1P 3m 3M 4P 5P 6M 7m 7M\",\"kafi raga\"],[\"1P 2M 3M 4P 4A 5A 6A 7M\",\"messiaen's mode #6\"],[\"1P 2M 3m 3M 4P 5d 5P 6M 7m\",\"composite blues\"],[\"1P 2M 3m 3M 4A 5P 6m 7m 7M\",\"messiaen's mode #3\"],[\"1P 2m 2M 3m 4P 4A 5P 6m 6M 7M\",\"messiaen's mode #7\"],[\"1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M\",\"chromatic\"]],o=r(r({},t.EmptyPcset),{intervals:[],aliases:[]}),c=[],d={};function v(){return c.map(function(_){return _.name})}function M(_){return d[_]||o}var g=n.deprecate(\"ScaleDictionary.scaleType\",\"ScaleType.get\",M);function h(){return c.slice()}var b=n.deprecate(\"ScaleDictionary.entries\",\"ScaleType.all\",h);function k(){return Object.keys(d)}function w(){c=[],d={}}function T(_,x,P){P===void 0&&(P=[]);var p=r(r({},t.get(_)),{name:x,intervals:_,aliases:P});return c.push(p),d[p.name]=p,d[p.setNum]=p,d[p.chroma]=p,p.aliases.forEach(function(j){return A(p,j)}),p}function A(_,x){d[x]=_}a.forEach(function(_){var x=_[0],P=_[1],p=_.slice(2);return T(x.split(\" \"),P,p)});var C={names:v,get:M,all:h,add:T,removeAll:w,keys:k,entries:b,scaleType:g};e.NoScaleType=o,e.add=T,e.addAlias=A,e.all=h,e.default=C,e.entries=b,e.get=M,e.keys=k,e.names=v,e.removeAll=w,e.scaleType=g,Object.defineProperty(e,\"__esModule\",{value:!0})})});var at=te((wn,Ht)=>{(function(e,n){typeof wn==\"object\"&&typeof Ht!=\"undefined\"?n(wn,Kt(),Ue(),fe(),_e(),jn()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/chord-detect\",\"@tonaljs/chord-type\",\"@tonaljs/core\",\"@tonaljs/pcset\",\"@tonaljs/scale-type\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Chord={},e.chordDetect,e.chordType,e.core,e.pcset,e.scaleType))})(wn,function(e,n,t,r,a,o){\"use strict\";var c=function(){return c=Object.assign||function(x){for(var P,p=1,j=arguments.length;p<j;p++){P=arguments[p];for(var N in P)Object.prototype.hasOwnProperty.call(P,N)&&(x[N]=P[N])}return x},c.apply(this,arguments)},d={empty:!0,name:\"\",symbol:\"\",root:\"\",rootDegree:0,type:\"\",tonic:null,setNum:NaN,quality:\"Unknown\",chroma:\"\",normalized:\"\",aliases:[],notes:[],intervals:[]},v=/^(6|64|7|9|11|13)$/;function M(_){var x=r.tokenizeNote(_),P=x[0],p=x[1],j=x[2],N=x[3];return P===\"\"?[\"\",_]:P===\"A\"&&N===\"ug\"?[\"\",\"aug\"]:!N&&(j===\"4\"||j===\"5\")?[P+p,j]:v.test(j)?[P+p,j+N]:[P+p+j,N]}function g(_){if(_===\"\")return d;if(Array.isArray(_)&&_.length===2)return h(_[1],_[0]);var x=M(_),P=x[0],p=x[1],j=h(p,P);return j.empty?h(_):j}function h(_,x,P){var p=t.get(_),j=r.note(x||\"\"),N=r.note(P||\"\");if(p.empty||x&&j.empty||P&&N.empty)return d;var S=r.distance(j.pc,N.pc),E=p.intervals.indexOf(S)+1;if(!N.empty&&!E)return d;for(var B=Array.from(p.intervals),H=1;H<E;H++){var X=B[0][0],ie=B[0][1],ne=parseInt(X,10)+7;B.push(\"\"+ne+ie),B.shift()}var R=j.empty?[]:B.map(function(q){return r.transpose(j,q)});_=p.aliases.indexOf(_)!==-1?_:p.aliases[0];var F=\"\"+(j.empty?\"\":j.pc)+_+(N.empty||E<=1?\"\":\"/\"+N.pc),U=\"\"+(x?j.pc+\" \":\"\")+p.name+(E>1&&P?\" over \"+N.pc:\"\");return c(c({},p),{name:U,symbol:F,type:p.name,root:N.name,intervals:B,rootDegree:E,tonic:j.name,notes:R})}var b=r.deprecate(\"Chord.chord\",\"Chord.get\",g);function k(_,x){var P=M(_),p=P[0],j=P[1];return p?r.transpose(p,x)+j:_}function w(_){var x=g(_),P=a.isSupersetOf(x.chroma);return o.all().filter(function(p){return P(p.chroma)}).map(function(p){return p.name})}function T(_){var x=g(_),P=a.isSupersetOf(x.chroma);return t.all().filter(function(p){return P(p.chroma)}).map(function(p){return x.tonic+p.aliases[0]})}function A(_){var x=g(_),P=a.isSubsetOf(x.chroma);return t.all().filter(function(p){return P(p.chroma)}).map(function(p){return x.tonic+p.aliases[0]})}var C={getChord:h,get:g,detect:n.detect,chordScales:w,extended:T,reduced:A,tokenize:M,transpose:k,chord:b};Object.defineProperty(e,\"detect\",{enumerable:!0,get:function(){return n.detect}}),e.chord=b,e.chordScales=w,e.default=C,e.extended=T,e.get=g,e.getChord=h,e.reduced=A,e.tokenize=M,e.transpose=k,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Wt=te((Sn,Yt)=>{(function(e,n){typeof Sn==\"object\"&&typeof Yt!=\"undefined\"?n(Sn):typeof define==\"function\"&&define.amd?define([\"exports\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.DurationValue={}))})(Sn,function(e){\"use strict\";var n=function(){return n=Object.assign||function(T){for(var A,C=1,_=arguments.length;C<_;C++){A=arguments[C];for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(T[x]=A[x])}return T},n.apply(this,arguments)},t=[[.125,\"dl\",[\"large\",\"duplex longa\",\"maxima\",\"octuple\",\"octuple whole\"]],[.25,\"l\",[\"long\",\"longa\"]],[.5,\"d\",[\"double whole\",\"double\",\"breve\"]],[1,\"w\",[\"whole\",\"semibreve\"]],[2,\"h\",[\"half\",\"minim\"]],[4,\"q\",[\"quarter\",\"crotchet\"]],[8,\"e\",[\"eighth\",\"quaver\"]],[16,\"s\",[\"sixteenth\",\"semiquaver\"]],[32,\"t\",[\"thirty-second\",\"demisemiquaver\"]],[64,\"sf\",[\"sixty-fourth\",\"hemidemisemiquaver\"]],[128,\"h\",[\"hundred twenty-eighth\"]],[256,\"th\",[\"two hundred fifty-sixth\"]]],r=[];t.forEach(function(w){var T=w[0],A=w[1],C=w[2];return b(T,A,C)});var a={empty:!0,name:\"\",value:0,fraction:[0,0],shorthand:\"\",dots:\"\",names:[]};function o(){return r.reduce(function(w,T){return T.names.forEach(function(A){return w.push(A)}),w},[])}function c(){return r.map(function(w){return w.shorthand})}var d=/^([^.]+)(\\.*)$/;function v(w){var T=d.exec(w)||[];T[0];var A=T[1],C=T[2],_=r.find(function(p){return p.shorthand===A||p.names.includes(A)});if(!_)return a;var x=k(_.fraction,C.length),P=x[0]/x[1];return n(n({},_),{name:w,dots:C,value:P,fraction:x})}var M=function(w){return v(w).value},g=function(w){return v(w).fraction},h={names:o,shorthands:c,get:v,value:M,fraction:g};function b(w,T,A){r.push({empty:!1,dots:\"\",name:\"\",value:1/w,fraction:w<1?[1/w,1]:[1,w],shorthand:T,names:A})}function k(w,T){for(var A=Math.pow(2,T),C=w[0]*A,_=w[1]*A,x=C,P=0;P<T;P++)C+=x/Math.pow(2,P+1);for(;C%2==0&&_%2==0;)C/=2,_/=2;return[C,_]}e.default=h,e.fraction=g,e.get=v,e.names=o,e.shorthands=c,e.value=M,Object.defineProperty(e,\"__esModule\",{value:!0})})});var it=te((_n,zt)=>{(function(e,n){typeof _n==\"object\"&&typeof zt!=\"undefined\"?n(_n,fe()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Interval={},e.core))})(_n,function(e,n){\"use strict\";function t(){return\"1P 2M 3M 4P 5P 6m 7m\".split(\" \")}var r=n.interval,a=function(P){return n.interval(P).name},o=function(P){return n.interval(P).semitones},c=function(P){return n.interval(P).q},d=function(P){return n.interval(P).num};function v(P){var p=n.interval(P);return p.empty?\"\":p.simple+p.q}function M(P){var p=n.interval(P);if(p.empty)return\"\";var j=(7-p.step)%7,N=p.type===\"perfectable\"?-p.alt:-(p.alt+1);return n.interval({step:j,alt:N,oct:p.oct,dir:p.dir}).name}var g=[1,2,2,3,3,4,5,5,6,6,7,7],h=\"P m M m M P d P m M m M\".split(\" \");function b(P){var p=P<0?-1:1,j=Math.abs(P),N=j%12,S=Math.floor(j/12);return p*(g[N]+7*S)+h[N]}var k=n.distance,w=x(function(P,p){return[P[0]+p[0],P[1]+p[1]]}),T=function(P){return function(p){return w(P,p)}},A=x(function(P,p){return[P[0]-p[0],P[1]-p[1]]});function C(P,p){var j=r(P);if(j.empty)return\"\";var N=j.coord,S=N[0],E=N[1],B=N[2];return n.coordToInterval([S+p,E,B]).name}var _={names:t,get:r,name:a,num:d,semitones:o,quality:c,fromSemitones:b,distance:k,invert:M,simplify:v,add:w,addTo:T,substract:A,transposeFifths:C};function x(P){return function(p,j){var N=n.interval(p).coord,S=n.interval(j).coord;if(N&&S){var E=P(N,S);return n.coordToInterval(E).name}}}e.add=w,e.addTo=T,e.default=_,e.distance=k,e.fromSemitones=b,e.get=r,e.invert=M,e.name=a,e.names=t,e.num=d,e.quality=c,e.semitones=o,e.simplify=v,e.substract=A,e.transposeFifths=C,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Tn=te((xn,$t)=>{(function(e,n){typeof xn==\"object\"&&typeof $t!=\"undefined\"?n(xn,fe()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Midi={},e.core))})(xn,function(e,n){\"use strict\";function t(b){return+b>=0&&+b<=127}function r(b){if(t(b))return+b;var k=n.note(b);return k.empty?null:k.midi}function a(b,k){return k===void 0&&(k=440),Math.pow(2,(b-69)/12)*k}var o=Math.log(2),c=Math.log(440);function d(b){var k=12*(Math.log(b)-c)/o+69;return Math.round(k*100)/100}var v=\"C C# D D# E F F# G G# A A# B\".split(\" \"),M=\"C Db D Eb E F Gb G Ab A Bb B\".split(\" \");function g(b,k){if(k===void 0&&(k={}),isNaN(b)||b===-1/0||b===1/0)return\"\";b=Math.round(b);var w=k.sharps===!0?v:M,T=w[b%12];if(k.pitchClass)return T;var A=Math.floor(b/12)-1;return T+A}var h={isMidi:t,toMidi:r,midiToFreq:a,midiToNoteName:g,freqToMidi:d};e.default=h,e.freqToMidi=d,e.isMidi=t,e.midiToFreq=a,e.midiToNoteName=g,e.toMidi=r,Object.defineProperty(e,\"__esModule\",{value:!0})})});var In=te((An,Xt)=>{(function(e,n){typeof An==\"object\"&&typeof Xt!=\"undefined\"?n(An,fe(),Tn()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/midi\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Note={},e.core,e.midi$1))})(An,function(e,n,t){\"use strict\";var r=[\"C\",\"D\",\"E\",\"F\",\"G\",\"A\",\"B\"],a=function(q){return q.name},o=function(q){return q.map(n.note).filter(function($){return!$.empty})};function c(q){return q===void 0?r.slice():Array.isArray(q)?o(q).map(a):[]}var d=n.note,v=function(q){return d(q).name},M=function(q){return d(q).pc},g=function(q){return d(q).acc},h=function(q){return d(q).oct},b=function(q){return d(q).midi},k=function(q){return d(q).freq},w=function(q){return d(q).chroma};function T(q){return t.midiToNoteName(q)}function A(q){return t.midiToNoteName(t.freqToMidi(q))}function C(q){return t.midiToNoteName(t.freqToMidi(q),{sharps:!0})}function _(q){return t.midiToNoteName(q,{sharps:!0})}var x=n.transpose,P=n.transpose,p=function(q){return function($){return x($,q)}},j=p,N=function(q){return function($){return x(q,$)}},S=N;function E(q,$){var re=d(q);if(re.empty)return\"\";var ce=re.coord,me=ce[0],pe=ce[1],I=pe===void 0?n.coordToNote([me+$]):n.coordToNote([me+$,pe]);return I.name}var B=E,H=function(q,$){return q.height-$.height},X=function(q,$){return $.height-q.height};function ie(q,$){return $=$||H,o(q).sort($).map(a)}function ne(q){return ie(q,H).filter(function($,re,ce){return re===0||$!==ce[re-1]})}var R=function(q){var $=d(q);return $.empty?\"\":t.midiToNoteName($.midi||$.chroma,{sharps:$.alt>0,pitchClass:$.midi===null})};function F(q,$){var re=d(q);if(re.empty)return\"\";var ce=d($||t.midiToNoteName(re.midi||re.chroma,{sharps:re.alt<0,pitchClass:!0}));if(ce.empty||ce.chroma!==re.chroma)return\"\";if(re.oct===void 0)return ce.pc;var me=re.chroma-re.alt,pe=ce.chroma-ce.alt,I=me>11||pe<0?-1:me<0||pe>11?1:0,G=re.oct+I;return ce.pc+G}var U={names:c,get:d,name:v,pitchClass:M,accidentals:g,octave:h,midi:b,ascending:H,descending:X,sortedNames:ie,sortedUniqNames:ne,fromMidi:T,fromMidiSharps:_,freq:k,fromFreq:A,fromFreqSharps:C,chroma:w,transpose:x,tr:P,transposeBy:p,trBy:j,transposeFrom:N,trFrom:S,transposeFifths:E,trFifths:B,simplify:R,enharmonic:F};e.accidentals=g,e.ascending=H,e.chroma=w,e.default=U,e.descending=X,e.enharmonic=F,e.freq=k,e.fromFreq=A,e.fromFreqSharps=C,e.fromMidi=T,e.fromMidiSharps=_,e.get=d,e.midi=b,e.name=v,e.names=c,e.octave=h,e.pitchClass=M,e.simplify=R,e.sortedNames=ie,e.sortedUniqNames=ne,e.tr=P,e.trBy=j,e.trFifths=B,e.trFrom=S,e.transpose=x,e.transposeBy=p,e.transposeFifths=E,e.transposeFrom=N,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Cn=te((On,Ut)=>{(function(e,n){typeof On==\"object\"&&typeof Ut!=\"undefined\"?n(On,fe()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.RomanNumeral={},e.core))})(On,function(e,n){\"use strict\";var t={empty:!0,name:\"\",chordType:\"\"},r={};function a(T){return typeof T==\"string\"?r[T]||(r[T]=k(T)):typeof T==\"number\"?a(h[T]||\"\"):n.isPitch(T)?d(T):n.isNamed(T)?a(T.name):t}var o=n.deprecate(\"RomanNumeral.romanNumeral\",\"RomanNumeral.get\",a);function c(T){return T===void 0&&(T=!0),(T?h:b).slice()}function d(T){return a(n.altToAcc(T.alt)+h[T.step])}var v=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function M(T){return v.exec(T)||[\"\",\"\",\"\",\"\"]}var g=\"I II III IV V VI VII\",h=g.split(\" \"),b=g.toLowerCase().split(\" \");function k(T){var A=M(T),C=A[0],_=A[1],x=A[2],P=A[3];if(!x)return t;var p=x.toUpperCase(),j=h.indexOf(p),N=n.accToAlt(_),S=1;return{empty:!1,name:C,roman:x,interval:n.interval({step:j,alt:N,dir:S}).name,acc:_,chordType:P,alt:N,step:j,major:x===p,oct:0,dir:S}}var w={names:c,get:a,romanNumeral:o};e.default=w,e.get=a,e.names=c,e.tokenize=M,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Zt=te((En,Qt)=>{(function(e,n){typeof En==\"object\"&&typeof Qt!=\"undefined\"?n(En,fe(),In(),Cn()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/note\",\"@tonaljs/roman-numeral\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Key={},e.core,e.note,e.romanNumeral))})(En,function(e,n,t,r){\"use strict\";var a=function(){return a=Object.assign||function(j){for(var N,S=1,E=arguments.length;S<E;S++){N=arguments[S];for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(j[B]=N[B])}return j},a.apply(this,arguments)},o=Object.freeze([]),c={type:\"major\",tonic:\"\",alteration:0,keySignature:\"\"},d={tonic:\"\",grades:o,intervals:o,scale:o,chords:o,chordsHarmonicFunction:o,chordScales:o},v=a(a(a({},c),d),{type:\"major\",minorRelative:\"\",scale:o,secondaryDominants:o,secondaryDominantsMinorRelative:o,substituteDominants:o,substituteDominantsMinorRelative:o}),M=a(a({},c),{type:\"minor\",relativeMajor:\"\",natural:d,harmonic:d,melodic:d}),g=function(p,j,N){return N===void 0&&(N=\"\"),j.map(function(S,E){return\"\"+p[E]+N+S})};function h(p,j,N,S){return function(E){var B=p.map(function(X){return r.get(X).interval||\"\"}),H=B.map(function(X){return n.transpose(E,X)});return{tonic:E,grades:p,intervals:B,scale:H,chords:g(H,j),chordsHarmonicFunction:N.slice(),chordScales:g(H,S,\" \")}}}var b=function(p,j){var N=n.note(p),S=n.note(j);return N.empty||S.empty?0:S.coord[0]-N.coord[0]},k=h(\"I II III IV V VI VII\".split(\" \"),\"maj7 m7 m7 maj7 7 m7 m7b5\".split(\" \"),\"T SD T SD D T D\".split(\" \"),\"major,dorian,phrygian,lydian,mixolydian,minor,locrian\".split(\",\")),w=h(\"I II bIII IV V bVI bVII\".split(\" \"),\"m7 m7b5 maj7 m7 m7 maj7 7\".split(\" \"),\"T SD T SD D SD SD\".split(\" \"),\"minor,locrian,major,dorian,phrygian,lydian,mixolydian\".split(\",\")),T=h(\"I II bIII IV V bVI VII\".split(\" \"),\"mMaj7 m7b5 +maj7 m7 7 maj7 o7\".split(\" \"),\"T SD T SD D SD D\".split(\" \"),\"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian\".split(\",\")),A=h(\"I II bIII IV V VI VII\".split(\" \"),\"m6 m7 +maj7 7 7 m7b5 m7b5\".split(\" \"),\"T SD T SD D  \".split(\" \"),\"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered\".split(\",\"));function C(p){var j=n.note(p).pc;if(!j)return v;var N=k(j),S=b(\"C\",j),E=function(B){var H=r.get(B);return H.empty?\"\":n.transpose(p,H.interval)+H.chordType};return a(a({},N),{type:\"major\",minorRelative:n.transpose(j,\"-3m\"),alteration:S,keySignature:n.altToAcc(S),secondaryDominants:\"- VI7 VII7 I7 II7 III7 -\".split(\" \").map(E),secondaryDominantsMinorRelative:\"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -\".split(\" \").map(E),substituteDominants:\"- bIII7 IV7 bV7 bVI7 bVII7 -\".split(\" \").map(E),substituteDominantsMinorRelative:\"- IIIm7 Im7 IIbm7 VIm7 IVm7 -\".split(\" \").map(E)})}function _(p){var j=n.note(p).pc;if(!j)return M;var N=b(\"C\",j)-3;return{type:\"minor\",tonic:j,relativeMajor:n.transpose(j,\"3m\"),alteration:N,keySignature:n.altToAcc(N),natural:w(j),harmonic:T(j),melodic:A(j)}}function x(p){return typeof p==\"number\"?t.transposeFifths(\"C\",p):typeof p==\"string\"&&/^b+|#+$/.test(p)?t.transposeFifths(\"C\",n.accToAlt(p)):null}var P={majorKey:C,majorTonicFromKeySignature:x,minorKey:_};e.default=P,e.majorKey=C,e.majorTonicFromKeySignature=x,e.minorKey=_,Object.defineProperty(e,\"__esModule\",{value:!0})})});var er=te((qn,Jt)=>{(function(e,n){typeof qn==\"object\"&&typeof Jt!=\"undefined\"?n(qn,Ke(),fe(),it(),_e()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/interval\",\"@tonaljs/pcset\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Mode={},e.collection,e.core,e.interval,e.pcset))})(qn,function(e,n,t,r,a){\"use strict\";var o=function(){return o=Object.assign||function(S){for(var E,B=1,H=arguments.length;B<H;B++){E=arguments[B];for(var X in E)Object.prototype.hasOwnProperty.call(E,X)&&(S[X]=E[X])}return S},o.apply(this,arguments)},c=[[0,2773,0,\"ionian\",\"\",\"Maj7\",\"major\"],[1,2902,2,\"dorian\",\"m\",\"m7\"],[2,3418,4,\"phrygian\",\"m\",\"m7\"],[3,2741,-1,\"lydian\",\"\",\"Maj7\"],[4,2774,1,\"mixolydian\",\"\",\"7\"],[5,2906,3,\"aeolian\",\"m\",\"m7\",\"minor\"],[6,3434,5,\"locrian\",\"dim\",\"m7b5\"]],d=o(o({},a.EmptyPcset),{name:\"\",alt:0,modeNum:NaN,triad:\"\",seventh:\"\",aliases:[]}),v=c.map(T),M={};v.forEach(function(N){M[N.name]=N,N.aliases.forEach(function(S){M[S]=N})});function g(N){return typeof N==\"string\"?M[N.toLowerCase()]||d:N&&N.name?g(N.name):d}var h=t.deprecate(\"Mode.mode\",\"Mode.get\",g);function b(){return v.slice()}var k=t.deprecate(\"Mode.mode\",\"Mode.all\",b);function w(){return v.map(function(N){return N.name})}function T(N){var S=N[0],E=N[1],B=N[2],H=N[3],X=N[4],ie=N[5],ne=N[6],R=ne?[ne]:[],F=Number(E).toString(2),U=a.chromaToIntervals(F);return{empty:!1,intervals:U,modeNum:S,chroma:F,normalized:F,name:H,setNum:E,alt:B,triad:X,seventh:ie,aliases:R}}function A(N,S){return g(N).intervals.map(function(E){return t.transpose(S,E)})}function C(N){return function(S,E){var B=g(S);if(B.empty)return[];var H=n.rotate(B.modeNum,N),X=B.intervals.map(function(ie){return t.transpose(E,ie)});return H.map(function(ie,ne){return X[ne]+ie})}}var _=C(c.map(function(N){return N[4]})),x=C(c.map(function(N){return N[5]}));function P(N,S){var E=g(S),B=g(N);return E.empty||B.empty?\"\":r.simplify(r.transposeFifths(\"1P\",B.alt-E.alt))}function p(N,S,E){return t.transpose(E,P(N,S))}var j={get:g,names:w,all:b,distance:P,relativeTonic:p,notes:A,triads:_,seventhChords:x,entries:k,mode:h};e.all=b,e.default=j,e.distance=P,e.entries=k,e.get=g,e.mode=h,e.names=w,e.notes=A,e.relativeTonic=p,e.seventhChords=x,e.triads=_,Object.defineProperty(e,\"__esModule\",{value:!0})})});var tr=te((Gn,nr)=>{(function(e,n){typeof Gn==\"object\"&&typeof nr!=\"undefined\"?n(Gn,at(),fe(),Cn()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/chord\",\"@tonaljs/core\",\"@tonaljs/roman-numeral\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Progression={},e.chord,e.core,e.romanNumeral))})(Gn,function(e,n,t,r){\"use strict\";function a(d,v){var M=v.map(r.get);return M.map(function(g){return t.transpose(d,t.interval(g))+g.chordType})}function o(d,v){return v.map(function(M){var g=n.tokenize(M),h=g[0],b=g[1],k=t.distance(d,h),w=r.get(t.interval(k));return w.name+b})}var c={fromRomanNumerals:a,toRomanNumerals:o};e.default=c,e.fromRomanNumerals=a,e.toRomanNumerals=o,Object.defineProperty(e,\"__esModule\",{value:!0})})});var ar=te((Dn,rr)=>{(function(e,n){typeof Dn==\"object\"&&typeof rr!=\"undefined\"?n(Dn,Ke(),Tn()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/midi\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Range={},e.collection,e.midi))})(Dn,function(e,n,t){\"use strict\";function r(c){var d=n.compact(c.map(t.toMidi));return!c.length||d.length!==c.length?[]:d.reduce(function(v,M){var g=v[v.length-1];return v.concat(n.range(g,M).slice(1))},[d[0]])}function a(c,d){return r(c).map(function(v){return t.midiToNoteName(v,d)})}var o={numeric:r,chromatic:a};e.chromatic=a,e.default=o,e.numeric=r,Object.defineProperty(e,\"__esModule\",{value:!0})})});var or=te((Rn,ir)=>{(function(e,n){typeof Rn==\"object\"&&typeof ir!=\"undefined\"?n(Rn,Ue(),Ke(),fe(),In(),_e(),jn()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/chord-type\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/note\",\"@tonaljs/pcset\",\"@tonaljs/scale-type\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Scale={},e.chordType,e.collection,e.core,e.note,e.pcset,e.scaleType))})(Rn,function(e,n,t,r,a,o,c){\"use strict\";var d=function(){return d=Object.assign||function(j){for(var N,S=1,E=arguments.length;S<E;S++){N=arguments[S];for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(j[B]=N[B])}return j},d.apply(this,arguments)},v={empty:!0,name:\"\",type:\"\",tonic:null,setNum:NaN,chroma:\"\",normalized:\"\",aliases:[],notes:[],intervals:[]};function M(p){if(typeof p!=\"string\")return[\"\",\"\"];var j=p.indexOf(\" \"),N=r.note(p.substring(0,j));if(N.empty){var S=r.note(p);return S.empty?[\"\",p]:[S.name,\"\"]}var E=p.substring(N.name.length+1);return[N.name,E.length?E:\"\"]}var g=c.names;function h(p){var j=Array.isArray(p)?p:M(p),N=r.note(j[0]).name,S=c.get(j[1]);if(S.empty)return v;var E=S.name,B=N?S.intervals.map(function(X){return r.transpose(N,X)}):[],H=N?N+\" \"+E:E;return d(d({},S),{name:H,type:E,tonic:N,notes:B})}var b=r.deprecate(\"Scale.scale\",\"Scale.get\",h);function k(p){var j=h(p),N=o.isSubsetOf(j.chroma);return n.all().filter(function(S){return N(S.chroma)}).map(function(S){return S.aliases[0]})}function w(p){var j=h(p),N=o.isSupersetOf(j.chroma);return c.all().filter(function(S){return N(S.chroma)}).map(function(S){return S.name})}function T(p){var j=o.isSubsetOf(h(p).chroma);return c.all().filter(function(N){return j(N.chroma)}).map(function(N){return N.name})}function A(p){var j=p.map(function(E){return r.note(E).pc}).filter(function(E){return E}),N=j[0],S=a.sortedUniqNames(j);return t.rotate(S.indexOf(N),S)}function C(p){var j=h(p);if(j.empty)return[];var N=j.tonic?j.notes:j.intervals;return o.modes(j.chroma).map(function(S,E){var B=h(S).name;return B?[N[E],B]:[\"\",\"\"]}).filter(function(S){return S[0]})}function _(p){var j=Array.isArray(p)?A(p):h(p).notes,N=j.map(function(S){return r.note(S).chroma});return function(S){var E=typeof S==\"number\"?r.note(a.fromMidi(S)):r.note(S),B=E.height;if(B!==void 0){var H=B%12,X=N.indexOf(H);if(X!==-1)return a.enharmonic(E.name,j[X])}}}function x(p){var j=_(p);return function(N,S){var E=r.note(N).height,B=r.note(S).height;return E===void 0||B===void 0?[]:t.range(E,B).map(j).filter(function(H){return H})}}var P={get:h,names:g,extended:w,modeNames:C,reduced:T,scaleChords:k,scaleNotes:A,tokenize:M,rangeOf:x,scale:b};e.default=P,e.extended=w,e.get=h,e.modeNames=C,e.names=g,e.rangeOf=x,e.reduced=T,e.scale=b,e.scaleChords=k,e.scaleNotes=A,e.tokenize=M,Object.defineProperty(e,\"__esModule\",{value:!0})})});var cr=te((Bn,sr)=>{(function(e,n){typeof Bn==\"object\"&&typeof sr!=\"undefined\"?n(Bn):typeof define==\"function\"&&define.amd?define([\"exports\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.TimeSignature={}))})(Bn,function(e){\"use strict\";var n={empty:!0,name:\"\",upper:void 0,lower:void 0,type:void 0,additive:[]},t=[\"4/4\",\"3/4\",\"2/4\",\"2/2\",\"12/8\",\"9/8\",\"6/8\",\"3/8\"];function r(){return t.slice()}var a=/^(\\d?\\d(?:\\+\\d)*)\\/(\\d)$/,o=new Map;function c(g){var h=o.get(g);if(h)return h;var b=M(d(g));return o.set(g,b),b}function d(g){if(typeof g==\"string\"){var h=a.exec(g)||[];h[0];var b=h[1],k=h[2];return d([b,k])}var w=g[0],T=g[1],A=+T;if(typeof w==\"number\")return[w,A];var C=w.split(\"+\").map(function(_){return+_});return C.length===1?[C[0],A]:[C,A]}var v={names:r,parse:d,get:c};function M(g){var h=g[0],b=g[1],k=Array.isArray(h)?h.reduce(function(_,x){return _+x},0):h,w=b;if(k===0||w===0)return n;var T=Array.isArray(h)?h.join(\"+\")+\"/\"+b:h+\"/\"+b,A=Array.isArray(h)?h:[],C=w===4||w===2?\"simple\":w===8&&k%3==0?\"compound\":\"irregular\";return{empty:!1,name:T,type:C,upper:k,lower:w,additive:A}}e.default=v,e.get=c,e.names=r,e.parse=d,Object.defineProperty(e,\"__esModule\",{value:!0})})});var ot=te((Vn,ur)=>{(function(e,n){typeof Vn==\"object\"&&typeof ur!=\"undefined\"?n(Vn,qt(),Dt(),at(),Ue(),Ke(),fe(),Wt(),it(),Zt(),Tn(),er(),In(),_e(),tr(),ar(),Cn(),or(),jn(),cr()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/abc-notation\",\"@tonaljs/array\",\"@tonaljs/chord\",\"@tonaljs/chord-type\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/duration-value\",\"@tonaljs/interval\",\"@tonaljs/key\",\"@tonaljs/midi\",\"@tonaljs/mode\",\"@tonaljs/note\",\"@tonaljs/pcset\",\"@tonaljs/progression\",\"@tonaljs/range\",\"@tonaljs/roman-numeral\",\"@tonaljs/scale\",\"@tonaljs/scale-type\",\"@tonaljs/time-signature\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.Tonal={},e.abcNotation,e.array,e.chord,e.ChordType,e.collection,e.Core,e.durationValue,e.interval,e.key,e.midi,e.mode,e.note,e.Pcset,e.progression,e.range,e.romanNumeral,e.scale,e.ScaleType,e.timeSignature))})(Vn,function(e,n,t,r,a,o,c,d,v,M,g,h,b,k,w,T,A,C,_,x){\"use strict\";function P(V){return V&&typeof V==\"object\"&&\"default\"in V?V:{default:V}}function p(V){if(V&&V.__esModule)return V;var ee=Object.create(null);return V&&Object.keys(V).forEach(function(se){if(se!==\"default\"){var he=Object.getOwnPropertyDescriptor(V,se);Object.defineProperty(ee,se,he.get?he:{enumerable:!0,get:function(){return V[se]}})}}),ee.default=V,Object.freeze(ee)}var j=P(n),N=p(t),S=P(r),E=P(a),B=P(o),H=p(c),X=P(d),ie=P(v),ne=P(M),R=P(g),F=P(h),U=P(b),q=P(k),$=P(w),re=P(T),ce=P(A),me=P(C),pe=P(_),I=P(x),G=H,Y=q.default,W=E.default,K=pe.default;Object.defineProperty(e,\"AbcNotation\",{enumerable:!0,get:function(){return j.default}}),e.Array=N,Object.defineProperty(e,\"Chord\",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,\"ChordType\",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,\"Collection\",{enumerable:!0,get:function(){return B.default}}),e.Core=H,Object.defineProperty(e,\"DurationValue\",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(e,\"Interval\",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(e,\"Key\",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(e,\"Midi\",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,\"Mode\",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,\"Note\",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(e,\"Pcset\",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(e,\"Progression\",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(e,\"Range\",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(e,\"RomanNumeral\",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(e,\"Scale\",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(e,\"ScaleType\",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(e,\"TimeSignature\",{enumerable:!0,get:function(){return I.default}}),e.ChordDictionary=W,e.PcSet=Y,e.ScaleDictionary=K,e.Tonal=G,Object.keys(c).forEach(function(V){V!==\"default\"&&!e.hasOwnProperty(V)&&Object.defineProperty(e,V,{enumerable:!0,get:function(){return c[V]}})}),Object.defineProperty(e,\"__esModule\",{value:!0})})});var pt=te((ao,wr)=>{wr.exports=React});var _r=te((Wn,Sr)=>{(function(e,n){typeof Wn==\"object\"&&typeof Sr!=\"undefined\"?n(Wn):typeof define==\"function\"&&define.amd?define([\"exports\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.d3=e.d3||{}))})(Wn,function(e){\"use strict\";function n(s,u){return s<u?-1:s>u?1:s>=u?0:NaN}function t(s){let u=s,l=s;s.length===1&&(u=(O,D)=>s(O)-D,l=r(s));function m(O,D,L,Q){for(L==null&&(L=0),Q==null&&(Q=O.length);L<Q;){let Z=L+Q>>>1;l(O[Z],D)<0?L=Z+1:Q=Z}return L}function f(O,D,L,Q){for(L==null&&(L=0),Q==null&&(Q=O.length);L<Q;){let Z=L+Q>>>1;l(O[Z],D)>0?Q=Z:L=Z+1}return L}function y(O,D,L,Q){L==null&&(L=0),Q==null&&(Q=O.length);let Z=m(O,D,L,Q-1);return Z>L&&u(O[Z-1],D)>-u(O[Z],D)?Z-1:Z}return{left:m,center:y,right:f}}function r(s){return(u,l)=>n(s(u),l)}function a(s){return s===null?NaN:+s}function*o(s,u){if(u===void 0)for(let l of s)l!=null&&(l=+l)>=l&&(yield l);else{let l=-1;for(let m of s)(m=u(m,++l,s))!=null&&(m=+m)>=m&&(yield m)}}let c=t(n),d=c.right,v=c.left,M=t(a).center;function g(s,u){let l=0;if(u===void 0)for(let m of s)m!=null&&(m=+m)>=m&&++l;else{let m=-1;for(let f of s)(f=u(f,++m,s))!=null&&(f=+f)>=f&&++l}return l}function h(s){return s.length|0}function b(s){return!(s>0)}function k(s){return typeof s!=\"object\"||\"length\"in s?s:Array.from(s)}function w(s){return u=>s(...u)}function T(...s){let u=typeof s[s.length-1]==\"function\"&&w(s.pop());s=s.map(k);let l=s.map(h),m=s.length-1,f=new Array(m+1).fill(0),y=[];if(m<0||l.some(b))return y;for(;;){y.push(f.map((D,L)=>s[L][D]));let O=m;for(;++f[O]===l[O];){if(O===0)return u?y.map(u):y;f[O--]=0}}}function A(s,u){var l=0,m=0;return Float64Array.from(s,u===void 0?f=>l+=+f||0:f=>l+=+u(f,m++,s)||0)}function C(s,u){return u<s?-1:u>s?1:u>=s?0:NaN}function _(s,u){let l=0,m,f=0,y=0;if(u===void 0)for(let O of s)O!=null&&(O=+O)>=O&&(m=O-f,f+=m/++l,y+=m*(O-f));else{let O=-1;for(let D of s)(D=u(D,++O,s))!=null&&(D=+D)>=D&&(m=D-f,f+=m/++l,y+=m*(D-f))}if(l>1)return y/(l-1)}function x(s,u){let l=_(s,u);return l&&Math.sqrt(l)}function P(s,u){let l,m;if(u===void 0)for(let f of s)f!=null&&(l===void 0?f>=f&&(l=m=f):(l>f&&(l=f),m<f&&(m=f)));else{let f=-1;for(let y of s)(y=u(y,++f,s))!=null&&(l===void 0?y>=y&&(l=m=y):(l>y&&(l=y),m<y&&(m=y)))}return[l,m]}class p{constructor(){this._partials=new Float64Array(32),this._n=0}add(u){let l=this._partials,m=0;for(let f=0;f<this._n&&f<32;f++){let y=l[f],O=u+y,D=Math.abs(u)<Math.abs(y)?u-(O-y):y-(O-u);D&&(l[m++]=D),u=O}return l[m]=u,this._n=m+1,this}valueOf(){let u=this._partials,l=this._n,m,f,y,O=0;if(l>0){for(O=u[--l];l>0&&(m=O,f=u[--l],O=m+f,y=f-(O-m),!y););l>0&&(y<0&&u[l-1]<0||y>0&&u[l-1]>0)&&(f=y*2,m=O+f,f==m-O&&(O=m))}return O}}function j(s,u){let l=new p;if(u===void 0)for(let m of s)(m=+m)&&l.add(m);else{let m=-1;for(let f of s)(f=+u(f,++m,s))&&l.add(f)}return+l}function N(s,u){let l=new p,m=-1;return Float64Array.from(s,u===void 0?f=>l.add(+f||0):f=>l.add(+u(f,++m,s)||0))}class S extends Map{constructor(u,l=ie){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:l}}),u!=null)for(let[m,f]of u)this.set(m,f)}get(u){return super.get(B(this,u))}has(u){return super.has(B(this,u))}set(u,l){return super.set(H(this,u),l)}delete(u){return super.delete(X(this,u))}}class E extends Set{constructor(u,l=ie){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:l}}),u!=null)for(let m of u)this.add(m)}has(u){return super.has(B(this,u))}add(u){return super.add(H(this,u))}delete(u){return super.delete(X(this,u))}}function B({_intern:s,_key:u},l){let m=u(l);return s.has(m)?s.get(m):l}function H({_intern:s,_key:u},l){let m=u(l);return s.has(m)?s.get(m):(s.set(m,l),l)}function X({_intern:s,_key:u},l){let m=u(l);return s.has(m)&&(l=s.get(l),s.delete(m)),l}function ie(s){return s!==null&&typeof s==\"object\"?s.valueOf():s}function ne(s){return s}function R(s,...u){return me(s,ne,ne,u)}function F(s,...u){return me(s,Array.from,ne,u)}function U(s,u,...l){return me(s,ne,u,l)}function q(s,u,...l){return me(s,Array.from,u,l)}function $(s,...u){return me(s,ne,ce,u)}function re(s,...u){return me(s,Array.from,ce,u)}function ce(s){if(s.length!==1)throw new Error(\"duplicate key\");return s[0]}function me(s,u,l,m){return function f(y,O){if(O>=m.length)return l(y);let D=new S,L=m[O++],Q=-1;for(let Z of y){let ae=L(Z,++Q,y),ue=D.get(ae);ue?ue.push(Z):D.set(ae,[Z])}for(let[Z,ae]of D)D.set(Z,f(ae,O));return u(D)}(s,0)}function pe(s,u){return Array.from(u,l=>s[l])}function I(s,...u){if(typeof s[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");s=Array.from(s);let[l=n]=u;if(l.length===1||u.length>1){let m=Uint32Array.from(s,(f,y)=>y);return u.length>1?(u=u.map(f=>s.map(f)),m.sort((f,y)=>{for(let O of u){let D=n(O[f],O[y]);if(D)return D}})):(l=s.map(l),m.sort((f,y)=>n(l[f],l[y]))),pe(s,m)}return s.sort(l)}function G(s,u,l){return(u.length===1?I(U(s,u,l),([m,f],[y,O])=>n(f,O)||n(m,y)):I(R(s,l),([m,f],[y,O])=>u(f,O)||n(m,y))).map(([m])=>m)}var Y=Array.prototype,W=Y.slice;function K(s){return function(){return s}}var V=Math.sqrt(50),ee=Math.sqrt(10),se=Math.sqrt(2);function he(s,u,l){var m,f=-1,y,O,D;if(u=+u,s=+s,l=+l,s===u&&l>0)return[s];if((m=u<s)&&(y=s,s=u,u=y),(D=Me(s,u,l))===0||!isFinite(D))return[];if(D>0){let L=Math.round(s/D),Q=Math.round(u/D);for(L*D<s&&++L,Q*D>u&&--Q,O=new Array(y=Q-L+1);++f<y;)O[f]=(L+f)*D}else{D=-D;let L=Math.round(s*D),Q=Math.round(u*D);for(L/D<s&&++L,Q/D>u&&--Q,O=new Array(y=Q-L+1);++f<y;)O[f]=(L+f)/D}return m&&O.reverse(),O}function Me(s,u,l){var m=(u-s)/Math.max(0,l),f=Math.floor(Math.log(m)/Math.LN10),y=m/Math.pow(10,f);return f>=0?(y>=V?10:y>=ee?5:y>=se?2:1)*Math.pow(10,f):-Math.pow(10,-f)/(y>=V?10:y>=ee?5:y>=se?2:1)}function we(s,u,l){var m=Math.abs(u-s)/Math.max(0,l),f=Math.pow(10,Math.floor(Math.log(m)/Math.LN10)),y=m/f;return y>=V?f*=10:y>=ee?f*=5:y>=se&&(f*=2),u<s?-f:f}function Se(s,u,l){let m;for(;;){let f=Me(s,u,l);if(f===m||f===0||!isFinite(f))return[s,u];f>0?(s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f):f<0&&(s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f),m=f}}function Pe(s){return Math.ceil(Math.log(g(s))/Math.LN2)+1}function Ve(){var s=ne,u=P,l=Pe;function m(f){Array.isArray(f)||(f=Array.from(f));var y,O=f.length,D,L=new Array(O);for(y=0;y<O;++y)L[y]=s(f[y],y,f);var Q=u(L),Z=Q[0],ae=Q[1],ue=l(L,Z,ae);if(!Array.isArray(ue)){let Fa=ae,rt=+ue;if(u===P&&([Z,ae]=Se(Z,ae,rt)),ue=he(Z,ae,rt),ue[ue.length-1]>=ae)if(Fa>=ae&&u===P){let Ie=Me(Z,ae,rt);isFinite(Ie)&&(Ie>0?ae=(Math.floor(ae/Ie)+1)*Ie:Ie<0&&(ae=(Math.ceil(ae*-Ie)+1)/-Ie))}else ue.pop()}for(var je=ue.length;ue[0]<=Z;)ue.shift(),--je;for(;ue[je-1]>ae;)ue.pop(),--je;var Xe=new Array(je+1),tt;for(y=0;y<=je;++y)tt=Xe[y]=[],tt.x0=y>0?ue[y-1]:Z,tt.x1=y<je?ue[y]:ae;for(y=0;y<O;++y)D=L[y],Z<=D&&D<=ae&&Xe[d(ue,D,0,je)].push(f[y]);return Xe}return m.value=function(f){return arguments.length?(s=typeof f==\"function\"?f:K(f),m):s},m.domain=function(f){return arguments.length?(u=typeof f==\"function\"?f:K([f[0],f[1]]),m):u},m.thresholds=function(f){return arguments.length?(l=typeof f==\"function\"?f:Array.isArray(f)?K(W.call(f)):K(f),m):l},m}function Ae(s,u){let l;if(u===void 0)for(let m of s)m!=null&&(l<m||l===void 0&&m>=m)&&(l=m);else{let m=-1;for(let f of s)(f=u(f,++m,s))!=null&&(l<f||l===void 0&&f>=f)&&(l=f)}return l}function mn(s,u){let l;if(u===void 0)for(let m of s)m!=null&&(l>m||l===void 0&&m>=m)&&(l=m);else{let m=-1;for(let f of s)(f=u(f,++m,s))!=null&&(l>f||l===void 0&&f>=f)&&(l=f)}return l}function nt(s,u,l=0,m=s.length-1,f=n){for(;m>l;){if(m-l>600){let L=m-l+1,Q=u-l+1,Z=Math.log(L),ae=.5*Math.exp(2*Z/3),ue=.5*Math.sqrt(Z*ae*(L-ae)/L)*(Q-L/2<0?-1:1),je=Math.max(l,Math.floor(u-Q*ae/L+ue)),Xe=Math.min(m,Math.floor(u+(L-Q)*ae/L+ue));nt(s,u,je,Xe,f)}let y=s[u],O=l,D=m;for($e(s,l,u),f(s[m],y)>0&&$e(s,l,m);O<D;){for($e(s,O,D),++O,--D;f(s[O],y)<0;)++O;for(;f(s[D],y)>0;)--D}f(s[l],y)===0?$e(s,l,D):(++D,$e(s,D,m)),D<=u&&(l=D+1),u<=D&&(m=D-1)}return s}function $e(s,u,l){let m=s[u];s[u]=s[l],s[l]=m}function hn(s,u,l){if(s=Float64Array.from(o(s,l)),!!(m=s.length)){if((u=+u)<=0||m<2)return mn(s);if(u>=1)return Ae(s);var m,f=(m-1)*u,y=Math.floor(f),O=Ae(nt(s,y).subarray(0,y+1)),D=mn(s.subarray(y+1));return O+(D-O)*(f-y)}}function da(s,u,l=a){if(!!(m=s.length)){if((u=+u)<=0||m<2)return+l(s[0],0,s);if(u>=1)return+l(s[m-1],m-1,s);var m,f=(m-1)*u,y=Math.floor(f),O=+l(s[y],y,s),D=+l(s[y+1],y+1,s);return O+(D-O)*(f-y)}}function fa(s,u,l){return Math.ceil((l-u)/(2*(hn(s,.75)-hn(s,.25))*Math.pow(g(s),-1/3)))}function ma(s,u,l){return Math.ceil((l-u)/(3.5*x(s)*Math.pow(g(s),-1/3)))}function jt(s,u){let l,m=-1,f=-1;if(u===void 0)for(let y of s)++f,y!=null&&(l<y||l===void 0&&y>=y)&&(l=y,m=f);else for(let y of s)(y=u(y,++f,s))!=null&&(l<y||l===void 0&&y>=y)&&(l=y,m=f);return m}function ha(s,u){let l=0,m=0;if(u===void 0)for(let f of s)f!=null&&(f=+f)>=f&&(++l,m+=f);else{let f=-1;for(let y of s)(y=u(y,++f,s))!=null&&(y=+y)>=y&&(++l,m+=y)}if(l)return m/l}function pa(s,u){return hn(s,.5,u)}function*va(s){for(let u of s)yield*u}function ga(s){return Array.from(va(s))}function wt(s,u){let l,m=-1,f=-1;if(u===void 0)for(let y of s)++f,y!=null&&(l>y||l===void 0&&y>=y)&&(l=y,m=f);else for(let y of s)(y=u(y,++f,s))!=null&&(l>y||l===void 0&&y>=y)&&(l=y,m=f);return m}function ya(s,u=ba){let l=[],m,f=!1;for(let y of s)f&&l.push(u(m,y)),m=y,f=!0;return l}function ba(s,u){return[s,u]}function Ma(s,u,l){s=+s,u=+u,l=(f=arguments.length)<2?(u=s,s=0,1):f<3?1:+l;for(var m=-1,f=Math.max(0,Math.ceil((u-s)/l))|0,y=new Array(f);++m<f;)y[m]=s+m*l;return y}function Pa(s,u=n){let l,m=!1;if(u.length===1){let f;for(let y of s){let O=u(y);(m?n(O,f)<0:n(O,O)===0)&&(l=y,f=O,m=!0)}}else for(let f of s)(m?u(f,l)<0:u(f,f)===0)&&(l=f,m=!0);return l}function St(s,u=n){if(u.length===1)return wt(s,u);let l,m=-1,f=-1;for(let y of s)++f,(m<0?u(y,y)===0:u(y,l)<0)&&(l=y,m=f);return m}function Na(s,u=n){let l,m=!1;if(u.length===1){let f;for(let y of s){let O=u(y);(m?n(O,f)>0:n(O,O)===0)&&(l=y,f=O,m=!0)}}else for(let f of s)(m?u(f,l)>0:u(f,f)===0)&&(l=f,m=!0);return l}function ka(s,u=n){if(u.length===1)return jt(s,u);let l,m=-1,f=-1;for(let y of s)++f,(m<0?u(y,y)===0:u(y,l)>0)&&(l=y,m=f);return m}function ja(s,u){let l=St(s,u);return l<0?void 0:l}var wa=_t(Math.random);function _t(s){return function(l,m=0,f=l.length){let y=f-(m=+m);for(;y;){let O=s()*y--|0,D=l[y+m];l[y+m]=l[O+m],l[O+m]=D}return l}}function Sa(s,u){let l=0;if(u===void 0)for(let m of s)(m=+m)&&(l+=m);else{let m=-1;for(let f of s)(f=+u(f,++m,s))&&(l+=f)}return l}function xt(s){if(!(y=s.length))return[];for(var u=-1,l=mn(s,_a),m=new Array(l);++u<l;)for(var f=-1,y,O=m[u]=new Array(y);++f<y;)O[f]=s[f][u];return m}function _a(s){return s.length}function xa(){return xt(arguments)}function Ta(s,u){if(typeof u!=\"function\")throw new TypeError(\"test is not a function\");let l=-1;for(let m of s)if(!u(m,++l,s))return!1;return!0}function Aa(s,u){if(typeof u!=\"function\")throw new TypeError(\"test is not a function\");let l=-1;for(let m of s)if(u(m,++l,s))return!0;return!1}function Ia(s,u){if(typeof u!=\"function\")throw new TypeError(\"test is not a function\");let l=[],m=-1;for(let f of s)u(f,++m,s)&&l.push(f);return l}function Oa(s,u){if(typeof s[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");if(typeof u!=\"function\")throw new TypeError(\"mapper is not a function\");return Array.from(s,(l,m)=>u(l,m,s))}function Ca(s,u,l){if(typeof u!=\"function\")throw new TypeError(\"reducer is not a function\");let m=s[Symbol.iterator](),f,y,O=-1;if(arguments.length<3){if({done:f,value:l}=m.next(),f)return;++O}for(;{done:f,value:y}=m.next(),!f;)l=u(l,y,++O,s);return l}function Ea(s){if(typeof s[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");return Array.from(s).reverse()}function qa(s,...u){s=new Set(s);for(let l of u)for(let m of l)s.delete(m);return s}function Ga(s,u){let l=u[Symbol.iterator](),m=new Set;for(let f of s){if(m.has(f))return!1;let y,O;for(;({value:y,done:O}=l.next())&&!O;){if(Object.is(f,y))return!1;m.add(y)}}return!0}function Da(s){return s instanceof Set?s:new Set(s)}function Ra(s,...u){s=new Set(s),u=u.map(Da);e:for(let l of s)for(let m of u)if(!m.has(l)){s.delete(l);continue e}return s}function Tt(s,u){let l=s[Symbol.iterator](),m=new Set;for(let f of u){if(m.has(f))continue;let y,O;for(;{value:y,done:O}=l.next();){if(O)return!1;if(m.add(y),Object.is(f,y))break}}return!0}function Ba(s,u){return Tt(u,s)}function Va(...s){let u=new Set;for(let l of s)for(let m of l)u.add(m);return u}e.Adder=p,e.InternMap=S,e.InternSet=E,e.ascending=n,e.bin=Ve,e.bisect=d,e.bisectCenter=M,e.bisectLeft=v,e.bisectRight=d,e.bisector=t,e.count=g,e.cross=T,e.cumsum=A,e.descending=C,e.deviation=x,e.difference=qa,e.disjoint=Ga,e.every=Ta,e.extent=P,e.fcumsum=N,e.filter=Ia,e.fsum=j,e.greatest=Na,e.greatestIndex=ka,e.group=R,e.groupSort=G,e.groups=F,e.histogram=Ve,e.index=$,e.indexes=re,e.intersection=Ra,e.least=Pa,e.leastIndex=St,e.map=Oa,e.max=Ae,e.maxIndex=jt,e.mean=ha,e.median=pa,e.merge=ga,e.min=mn,e.minIndex=wt,e.nice=Se,e.pairs=ya,e.permute=pe,e.quantile=hn,e.quantileSorted=da,e.quickselect=nt,e.range=Ma,e.reduce=Ca,e.reverse=Ea,e.rollup=U,e.rollups=q,e.scan=ja,e.shuffle=wa,e.shuffler=_t,e.some=Aa,e.sort=I,e.subset=Ba,e.sum=Sa,e.superset=Tt,e.thresholdFreedmanDiaconis=fa,e.thresholdScott=ma,e.thresholdSturges=Pe,e.tickIncrement=Me,e.tickStep=we,e.ticks=he,e.transpose=xt,e.union=Va,e.variance=_,e.zip=xa,Object.defineProperty(e,\"__esModule\",{value:!0})})});var aa=te(ye=>{\"use strict\";Object.defineProperty(ye,\"__esModule\",{value:!0});var tn,Ee=pt(),xr=(tn=Ee)&&typeof tn==\"object\"&&\"default\"in tn?tn.default:tn;function rn(e,n){return e.map(function(t,r){return t+n[r]})}function an(e,n){return e.map(function(t,r){return t-n[r]})}function on(e){return Math.hypot.apply(Math,e)}function Tr(e,n){n===void 0&&(n=e);var t=on(n),r=t===0?0:1/t,a=n.map(function(o){return r*o});return{distance:on(e),direction:a}}function Ar(e,n,t){var r=on(n),a=r===0?0:1/r,o=t===0?0:1/t,c=o*r,d=n.map(function(M){return o*M}),v=n.map(function(M){return a*M});return{velocities:d,velocity:c,distance:on(e),direction:v}}function zn(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function Ir(e,n,t){return n===0||Math.abs(n)===1/0?function(r,a){return Math.pow(r,5*a)}(e,t):e*n*t/(n+t*e)}function vt(e,n,t,r){return r===void 0&&(r=.15),r===0?function(a,o,c){return Math.max(o,Math.min(a,c))}(e,n,t):e<n?-Ir(n-e,t-n,r)+n:e>t?+Ir(e-t,t-n,r)+t:e}function z(){return(z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function qe(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}function Ge(e,n){if(e==null)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n.indexOf(t=o[r])>=0||(a[t]=e[t]);return a}function J(e){if(e===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Or(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function $n(e,n){var t;if(typeof Symbol==\"undefined\"||e[Symbol.iterator]==null){if(Array.isArray(e)||(t=function(a,o){if(a){if(typeof a==\"string\")return Or(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);return c===\"Object\"&&a.constructor&&(c=a.constructor.name),c===\"Map\"||c===\"Set\"?Array.from(a):c===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Or(a,void 0):void 0}}(e))||n&&e&&typeof e.length==\"number\"){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(t=e[Symbol.iterator]()).next.bind(t)}function Cr(){}function Er(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.length===0?Cr:n.length===1?n[0]:function(){for(var r,a,o=$n(n);!(a=o()).done;){var c=a.value;r=c.apply(this,arguments)||r}return r}}function xe(e,n){if(e===void 0){if(n===void 0)throw new Error(\"Must define fallback value if undefined is expected\");e=n}return Array.isArray(e)?e:[e,e]}function qr(e,n){return Object.assign({},n,e||{})}function Xn(e){if(typeof e==\"function\"){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return e.apply(void 0,t)}return e}function sn(e,n){e===void 0&&(e={});for(var t={},r=0,a=Object.entries(n);r<a.length;r++){var o=a[r],c=o[0],d=o[1];switch(typeof d){case\"function\":t[c]=d.call(t,e[c],c,e);break;case\"object\":t[c]=sn(e[c],d);break;case\"boolean\":d&&(t[c]=e[c])}}return t}function Gr(){return typeof window!=\"undefined\"&&\"ontouchstart\"in window}function Dr(e){return\"pointerId\"in e?null:e.type===\"touchend\"?e.changedTouches:e.targetTouches}function gt(e){return Array.from(Dr(e)).map(function(n){return n.identifier})}function ge(e){return{buttons:\"buttons\"in e?e.buttons:0,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}var cn=function(e){return e};function He(e,n){n===void 0&&(n=cn);var t=Dr(e),r=t?t[0]:e;return n([r.clientX,r.clientY])}function Rr(e,n,t){t===void 0&&(t=cn);var r=Array.from(e.touches).filter(function(g){return n.includes(g.identifier)}),a=r[0],o=r[1];if(!a||!o)throw Error(\"The event doesn't have two pointers matching the pointerIds\");var c=o.clientX-a.clientX,d=o.clientY-a.clientY,v=(o.clientX+a.clientX)/2,M=(o.clientY+a.clientY)/2;return{values:t([Math.hypot(c,d),-180*Math.atan2(c,d)/Math.PI]),origin:t([v,M])}}function si(e,n){n===void 0&&(n=cn);var t=e.currentTarget;return n([t.scrollX||t.scrollLeft||0,t.scrollY||t.scrollTop||0])}function Br(e,n){n===void 0&&(n=cn);var t=e.deltaX,r=e.deltaY,a=e.deltaMode;return a===1?(t*=40,r*=40):a===2&&(t*=800,r*=800),n([t,r])}function Vr(e,n){return n===void 0&&(n=cn),n([e.scale,e.rotation])}var Fr={threshold:function(e){return e===void 0&&(e=0),xe(e)},rubberband:function(e){switch(e===void 0&&(e=0),e){case!0:return xe(.15);case!1:return xe(0);default:return xe(e)}},enabled:function(e){return e===void 0&&(e=!0),e},triggerAllEvents:function(e){return e===void 0&&(e=!1),e},initial:function(e){return e===void 0&&(e=0),typeof e==\"function\"?e:xe(e)},transform:!0},yt=z({},Fr,{axis:!0,lockDirection:function(e){return e===void 0&&(e=!1),e},bounds:function(e){if(e===void 0&&(e={}),typeof e==\"function\")return function(o){return yt.bounds(e(o))};var n=e.left,t=e.right,r=e.top,a=e.bottom;return[[n===void 0?-1/0:n,t===void 0?1/0:t],[r===void 0?-1/0:r,a===void 0?1/0:a]]}}),ci=typeof window!=\"undefined\"&&window.document&&window.document.createElement,ui={enabled:function(e){return e===void 0&&(e=!0),e},domTarget:!0,window:function(e){function n(t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e){return e===void 0&&(e=ci?window:void 0),e}),eventOptions:function(e){var n=e===void 0?{}:e,t=n.passive,r=n.capture;return{passive:t===void 0||t,capture:r!==void 0&&r}},transform:!0},li=z({},Fr,{bounds:function(e,n,t){var r=t.distanceBounds,a=r===void 0?{}:r,o=t.angleBounds,c=o===void 0?{}:o,d=function(M){var g=qr(Xn(a,M),{min:-1/0,max:1/0});return[g.min,g.max]},v=function(M){var g=qr(Xn(c,M),{min:-1/0,max:1/0});return[g.min,g.max]};return typeof a!=\"function\"&&typeof c!=\"function\"?[d(),v()]:function(M){return[d(M),v(M)]}}}),di=z({},yt,{useTouch:function(e){e===void 0&&(e=!1);var n=Gr(),t=typeof window!=\"undefined\"&&\"onpointerdown\"in window;return!(!e||!n)||!(!n||t)},experimental_preventWindowScrollY:function(e){return e===void 0&&(e=!1),e},threshold:function(e,n,t){var r=t.filterTaps,a=r!==void 0&&r,o=t.lockDirection,c=t.axis,d=xe(e,a?3:o!==void 0&&o||(c===void 0?void 0:c)?1:0);return this.filterTaps=a,d},swipeVelocity:function(e){return e===void 0&&(e=.5),xe(e)},swipeDistance:function(e){return e===void 0&&(e=50),xe(e)},swipeDuration:function(e){return e===void 0&&(e=250),e},delay:function(e){switch(e===void 0&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function De(e){return e===void 0&&(e={}),sn(e,ui)}function Ye(e){return e===void 0&&(e={}),sn(e,yt)}function Kr(e){return e===void 0&&(e={}),sn(e,li)}function Lr(e){return e===void 0&&(e={}),sn(e,di)}function fi(e){var n=e.domTarget,t=e.eventOptions,r=e.window,a=e.enabled,o=Ge(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),c=De({domTarget:n,eventOptions:t,window:r,enabled:a});return c.move=Ye(o),c}function mi(e){var n=e.domTarget,t=e.eventOptions,r=e.window,a=e.enabled,o=Ge(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),c=De({domTarget:n,eventOptions:t,window:r,enabled:a});return c.hover=z({enabled:!0},o),c}function hi(e){var n=e.domTarget,t=e.eventOptions,r=e.window,a=e.enabled,o=Ge(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),c=De({domTarget:n,eventOptions:t,window:r,enabled:a});return c.drag=Lr(o),c}function pi(e){var n=e.domTarget,t=e.eventOptions,r=e.window,a=e.enabled,o=Ge(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),c=De({domTarget:n,eventOptions:t,window:r,enabled:a});return c.pinch=Kr(o),c}function vi(e){var n=e.domTarget,t=e.eventOptions,r=e.window,a=e.enabled,o=Ge(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),c=De({domTarget:n,eventOptions:t,window:r,enabled:a});return c.scroll=Ye(o),c}function gi(e){var n=e.domTarget,t=e.eventOptions,r=e.window,a=e.enabled,o=Ge(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),c=De({domTarget:n,eventOptions:t,window:r,enabled:a});return c.wheel=Ye(o),c}function un(e){return z({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_threshold:[0,0],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:Cr,canceled:!1,memo:void 0,args:void 0},e)}function Hr(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},drag:un({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),pinch:un({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:un({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:un({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:un({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var de=new Map,yi=function(e){return e},Yr=function(){function e(r,a){var o=this;a===void 0&&(a=[]),this.controller=r,this.args=a,this.debounced=!0,this.setTimeout=function(c,d){var v;d===void 0&&(d=140),clearTimeout(o.controller.timeouts[o.stateKey]);for(var M=arguments.length,g=new Array(M>2?M-2:0),h=2;h<M;h++)g[h-2]=arguments[h];o.controller.timeouts[o.stateKey]=(v=window).setTimeout.apply(v,[c,d].concat(g))},this.clearTimeout=function(){clearTimeout(o.controller.timeouts[o.stateKey])},this.fireGestureHandler=function(c){if(c===void 0&&(c=!1),o.state._blocked)return o.debounced||(o.state._active=!1,o.clean()),null;if(!c&&!o.state.intentional&&!o.config.triggerAllEvents)return null;if(o.state.intentional){var d=o.state.active,v=o.state._active;o.state.active=v,o.state.first=v&&!d,o.state.last=d&&!v,o.controller.state.shared[o.ingKey]=v}var M=o.controller.pointerIds.size||o.controller.touchIds.size,g=o.controller.state.shared.buttons>0||M>0,h=z({},o.controller.state.shared,o.state,o.mapStateValues(o.state),{locked:!!document.pointerLockElement,touches:M,down:g}),b=o.handler(h);return o.state.memo=b!==void 0?b:o.state.memo,h},this.controller=r,this.args=a}var n,t=e.prototype;return t.updateSharedState=function(r){Object.assign(this.controller.state.shared,r)},t.updateGestureState=function(r){Object.assign(this.state,r)},t.checkIntentionality=function(r,a){return{_intentional:r,_blocked:!1}},t.getMovement=function(r){var a=this.config.rubberband,o=this.state,c=o._bounds,d=o._initial,v=o._active,M=o._intentional,g=o.lastOffset,h=o.movement,b=o._threshold,k=this.getInternalMovement(r,this.state),w=M[0]===!1?Wr(k[0],b[0]):M[0],T=M[1]===!1?Wr(k[1],b[1]):M[1],A=this.checkIntentionality([w,T],k);if(A._blocked)return z({},A,{_movement:k,delta:[0,0]});var C=A._intentional,_=k,x=[C[0]!==!1?k[0]-C[0]:0,C[1]!==!1?k[1]-C[1]:0],P=rn(x,g),p=v?a:[0,0];return x=zr(c,rn(x,d),p),z({},A,{intentional:C[0]!==!1||C[1]!==!1,_initial:d,_movement:_,movement:x,values:r,offset:zr(c,P,p),delta:an(x,h)})},t.clean=function(){this.clearTimeout()},(n=[{key:\"config\",get:function(){return this.controller.config[this.stateKey]}},{key:\"enabled\",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:\"state\",get:function(){return this.controller.state[this.stateKey]}},{key:\"handler\",get:function(){return this.controller.handlers[this.stateKey]}},{key:\"transform\",get:function(){return this.config.transform||this.controller.config.transform||yi}}])&&function(r,a){for(var o=0;o<a.length;o++){var c=a[o];c.enumerable=c.enumerable||!1,c.configurable=!0,\"value\"in c&&(c.writable=!0),Object.defineProperty(r,c.key,c)}}(e.prototype,n),e}();function Wr(e,n){return Math.abs(e)>=n&&zn(e)*n}function zr(e,n,t){var r=n[1],a=t[1],o=e[0],c=e[1],d=c[0],v=c[1];return[vt(n[0],o[0],o[1],t[0]),vt(r,d,v,a)]}function le(e,n,t){var r=e.state,a=n.timeStamp;return{_lastEventType:n.type,event:n,timeStamp:a,elapsedTime:t?0:a-r.startTime,previous:r.values}}function Re(e,n,t,r){var a=e.config,o=e.stateKey,c=e.args,d=e.transform,v=e.state.offset,M=t.timeStamp,g=a.initial,h=a.bounds,b=an(d(a.threshold),d([0,0])).map(Math.abs),k=z({},Hr()[o],{_active:!0,args:c,values:n,initial:r??n,_threshold:b,offset:v,lastOffset:v,startTime:M});return z({},k,{_initial:Xn(g,k),_bounds:Xn(h,k)})}var bi=function(e){var n=this;this.classes=e,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=Gr(),this.supportsGestureEvents=function(){try{return\"constructor\"in GestureEvent}catch(t){return!1}}(),this.bind=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];for(var o,c={},d=$n(n.classes);!(o=d()).done;){var v=o.value;new v(n,r).addBindings(c)}var M=function(h){oe(c,h,function(b){return n.nativeRefs[h](z({},n.state.shared,{event:b,args:r}))})};for(var g in n.nativeRefs)M(g);return n.config.domTarget?Ni(n,c):ki(n,c)},this.effect=function(){return n.config.domTarget&&n.bind(),n.clean},this.clean=function(){var t=Qr(n.config),r=n.config.eventOptions;t&&ln(t,Ur(n.domListeners),r),Object.values(n.timeouts).forEach(clearTimeout),function(a){var o=a.config,c=o.window,d=o.eventOptions,v=a.windowListeners;if(c){for(var M in v)ln(c,v[M],d);a.windowListeners={}}}(n)},this.classes=e,this.state=Hr(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function $r(e,n){\"pointerId\"in n?e.pointerIds.add(n.pointerId):e.touchIds=new Set(gt(n))}function Xr(e,n){\"pointerId\"in n?e.pointerIds.delete(n.pointerId):gt(n).forEach(function(t){return e.touchIds.delete(t)})}function Mi(e,n,t){var r=e.config,a=e.windowListeners;t===void 0&&(t=r.eventOptions),r.window&&(ln(r.window,a[n],t),delete a[n])}function Pi(e,n,t,r){var a=e.config,o=e.windowListeners;t===void 0&&(t=[]),r===void 0&&(r=a.eventOptions),a.window&&(ln(a.window,o[n],r),Zr(a.window,o[n]=t,r))}function Ni(e,n){var t=e.config,r=e.domListeners,a=Qr(t);if(!a)throw new Error(\"domTarget must be defined\");var o=t.eventOptions;ln(a,Ur(r),o);for(var c=0,d=Object.entries(n);c<d.length;c++){var v=d[c],M=v[1],g=v[0].slice(2).toLowerCase();r.push([g,Er.apply(void 0,M)])}Zr(a,r,o)}function ki(e,n){for(var t={},r=e.config.eventOptions.capture?\"Capture\":\"\",a=0,o=Object.entries(n);a<o.length;a++){var c=o[a],d=c[0],v=c[1],M=Array.isArray(v)?v:[v];t[d+r]=Er.apply(void 0,M)}return t}function Ur(e){return e===void 0&&(e=[]),e.splice(0,e.length)}function Qr(e){var n=e.domTarget;return n&&\"current\"in n?n.current:n}function oe(e,n,t){e[n]||(e[n]=[]),e[n].push(t)}function Zr(e,n,t){n===void 0&&(n=[]),t===void 0&&(t={});for(var r,a=$n(n);!(r=a()).done;){var o=r.value;e.addEventListener(o[0],o[1],t)}}function ln(e,n,t){n===void 0&&(n=[]),t===void 0&&(t={});for(var r,a=$n(n);!(r=a()).done;){var o=r.value;e.removeEventListener(o[0],o[1],t)}}function Be(e,n,t){t===void 0&&(t={});var r=function(o){var c=new Set;return o.drag&&c.add(de.get(\"drag\")),o.wheel&&c.add(de.get(\"wheel\")),o.scroll&&c.add(de.get(\"scroll\")),o.move&&c.add(de.get(\"move\")),o.pinch&&c.add(de.get(\"pinch\")),o.hover&&c.add(de.get(\"hover\")),c}(e),a=xr.useMemo(function(){return new bi(r)},[]);return a.config=n,a.handlers=e,a.nativeRefs=t,xr.useEffect(a.effect,[]),a.config.domTarget?ji:a.bind}function ji(){}var Un=function(e){function n(){return e.apply(this,arguments)||this}qe(n,e);var t=n.prototype;return t.getInternalMovement=function(r,a){return an(r,a.initial)},t.checkIntentionality=function(r,a){if(r[0]===!1&&r[1]===!1)return{_intentional:r,axis:this.state.axis};var o=a.map(Math.abs),c=o[0],d=o[1],v=this.state.axis||(c>d?\"x\":c<d?\"y\":void 0);return this.config.axis||this.config.lockDirection?v?this.config.axis&&v!==this.config.axis?{_intentional:r,_blocked:!0,axis:v}:(r[v===\"x\"?1:0]=!1,{_intentional:r,_blocked:!1,axis:v}):{_intentional:[!1,!1],_blocked:!1,axis:v}:{_intentional:r,_blocked:!1,axis:v}},t.getKinematics=function(r,a){var o=this.getMovement(r);return o._blocked||Object.assign(o,Ar(o.movement,o.delta,a.timeStamp-this.state.timeStamp)),o},t.mapStateValues=function(r){return{xy:r.values,vxvy:r.velocities}},n}(Yr);function Jr(e){\"persist\"in e&&typeof e.persist==\"function\"&&e.persist()}var ea=function(e){function n(){var r;return(r=e.apply(this,arguments)||this).ingKey=\"dragging\",r.stateKey=\"drag\",r.setPointerCapture=function(a){if(!r.config.useTouch&&!document.pointerLockElement){var o=a.target,c=a.pointerId;o&&\"setPointerCapture\"in o&&o.setPointerCapture(c),r.updateGestureState({_dragTarget:o,_dragPointerId:c})}},r.releasePointerCapture=function(){if(!r.config.useTouch&&!document.pointerLockElement){var a=r.state,o=a._dragTarget,c=a._dragPointerId;if(c&&o&&\"releasePointerCapture\"in o&&(!(\"hasPointerCapture\"in o)||o.hasPointerCapture(c)))try{o.releasePointerCapture(c)}catch(d){}}},r.preventScroll=function(a){r.state._dragPreventScroll&&a.cancelable&&a.preventDefault()},r.getEventId=function(a){return r.config.useTouch?a.changedTouches[0].identifier:a.pointerId},r.isValidEvent=function(a){return r.state._pointerId===r.getEventId(a)},r.shouldPreventWindowScrollY=r.config.experimental_preventWindowScrollY&&r.controller.supportsTouchEvents,r.setUpWindowScrollDetection=function(a){Jr(a),Pi(r.controller,r.stateKey,[[\"touchmove\",r.preventScroll],[\"touchend\",r.clean.bind(J(r))],[\"touchcancel\",r.clean.bind(J(r))]],{passive:!1}),r.setTimeout(r.startDrag.bind(J(r)),250,a)},r.setUpDelayedDragTrigger=function(a){r.state._dragDelayed=!0,Jr(a),r.setTimeout(r.startDrag.bind(J(r)),r.config.delay,a)},r.setStartState=function(a){var o=He(a,r.transform);r.updateSharedState(ge(a)),r.updateGestureState(z({},Re(J(r),o,a),le(J(r),a,!0),{_pointerId:r.getEventId(a)})),r.updateGestureState(r.getMovement(o))},r.onDragStart=function(a){$r(r.controller,a),r.enabled&&!r.state._active&&(r.setStartState(a),r.setPointerCapture(a),r.shouldPreventWindowScrollY?r.setUpWindowScrollDetection(a):r.config.delay>0?r.setUpDelayedDragTrigger(a):r.startDrag(a,!0))},r.onDragChange=function(a){if(!r.state.canceled&&r.state._active&&r.isValidEvent(a)&&(r.state._lastEventType!==a.type||a.timeStamp!==r.state.timeStamp)){var o;o=document.pointerLockElement?rn(r.transform([a.movementX,a.movementY]),r.state.values):He(a,r.transform);var c=r.getKinematics(o,a);if(!r.state._dragStarted){if(r.state._dragDelayed)return void r.startDrag(a);if(!r.shouldPreventWindowScrollY||r.state._dragPreventScroll||!c.axis)return;if(c.axis!==\"x\")return void(r.state._active=!1);r.startDrag(a)}var d=ge(a);r.updateSharedState(d);var v=le(J(r),a),M=on(c._movement),g=r.state._dragIsTap;g&&M>=3&&(g=!1),r.updateGestureState(z({},v,c,{_dragIsTap:g})),r.fireGestureHandler()}},r.onDragEnd=function(a){if(Xr(r.controller,a),r.isValidEvent(a)&&(r.clean(),r.state._active)){r.state._active=!1;var o=r.state._dragIsTap,c=r.state.velocities,d=c[0],v=c[1],M=r.state.movement,g=M[0],h=M[1],b=r.state._intentional,k=b[0],w=b[1],T=r.config.swipeVelocity,A=T[0],C=T[1],_=r.config.swipeDistance,x=_[0],P=_[1],p=r.config.swipeDuration,j=z({},le(J(r),a),r.getMovement(r.state.values)),N=[0,0];j.elapsedTime<p&&(k!==!1&&Math.abs(d)>A&&Math.abs(g)>x&&(N[0]=zn(d)),w!==!1&&Math.abs(v)>C&&Math.abs(h)>P&&(N[1]=zn(v))),r.updateSharedState({buttons:0}),r.updateGestureState(z({},j,{tap:o,swipe:N})),r.fireGestureHandler(r.config.filterTaps&&o===!0)}},r.clean=function(){e.prototype.clean.call(J(r)),r.state._dragStarted=!1,r.releasePointerCapture(),Mi(r.controller,r.stateKey)},r.onCancel=function(){r.state.canceled||(r.updateGestureState({canceled:!0,_active:!1}),r.updateSharedState({buttons:0}),setTimeout(function(){return r.fireGestureHandler()},0))},r.onClick=function(a){r.state._dragIsTap||a.stopPropagation()},r}qe(n,e);var t=n.prototype;return t.startDrag=function(r,a){a===void 0&&(a=!1),this.state._active&&!this.state._dragStarted&&(a||this.setStartState(r),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())},t.addBindings=function(r){this.config.useTouch?(oe(r,\"onTouchStart\",this.onDragStart),oe(r,\"onTouchMove\",this.onDragChange),oe(r,\"onTouchEnd\",this.onDragEnd),oe(r,\"onTouchCancel\",this.onDragEnd)):(oe(r,\"onPointerDown\",this.onDragStart),oe(r,\"onPointerMove\",this.onDragChange),oe(r,\"onPointerUp\",this.onDragEnd),oe(r,\"onPointerCancel\",this.onDragEnd)),this.config.filterTaps&&oe(r,this.controller.config.eventOptions.capture?\"onClick\":\"onClickCapture\",this.onClick)},n}(Un);function We(e,n){var t,r,a=[],o=!1;return function(){for(var c=arguments.length,d=new Array(c),v=0;v<c;v++)d[v]=arguments[v];return o&&t===this&&n(d,a)||(r=e.apply(this,d),o=!0,t=this,a=d),r}}function ze(e,n){try{return function t(r,a){if(r===a)return!0;if(r&&a&&typeof r==\"object\"&&typeof a==\"object\"){if(r.constructor!==a.constructor)return!1;var o,c,d,v;if(Array.isArray(r)){if((o=r.length)!==a.length)return!1;for(c=o;c--!=0;)if(!t(r[c],a[c]))return!1;return!0}if(typeof Map==\"function\"&&r instanceof Map&&a instanceof Map){if(r.size!==a.size)return!1;for(v=r.entries();!(c=v.next()).done;)if(!a.has(c.value[0]))return!1;for(v=r.entries();!(c=v.next()).done;)if(!t(c.value[1],a.get(c.value[0])))return!1;return!0}if(typeof Set==\"function\"&&r instanceof Set&&a instanceof Set){if(r.size!==a.size)return!1;for(v=r.entries();!(c=v.next()).done;)if(!a.has(c.value[0]))return!1;return!0}if(r.constructor===RegExp)return r.source===a.source&&r.flags===a.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===a.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===a.toString();if((o=(d=Object.keys(r)).length)!==Object.keys(a).length)return!1;for(c=o;c--!=0;)if(!Object.prototype.hasOwnProperty.call(a,d[c]))return!1;if(typeof Element!=\"undefined\"&&r instanceof Element)return!1;for(c=o;c--!=0;)if(!(d[c]===\"_owner\"&&r.$$typeof||t(r[d[c]],a[d[c]])))return!1;return!0}return r!=r&&a!=a}(e,n)}catch(t){if((t.message||\"\").match(/stack|recursion/i))return console.warn(\"react-fast-compare cannot handle circular refs\"),!1;throw t}}var na=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).ingKey=\"pinching\",t.stateKey=\"pinch\",t.onPinchStart=function(r){$r(t.controller,r);var a=t.controller.touchIds;if(t.enabled&&!(t.state._active&&t.state._pointerIds.every(function(M){return a.has(M)})||a.size<2)){var o=Array.from(a).slice(0,2),c=Rr(r,o,t.transform),d=c.values,v=c.origin;t.updateSharedState(ge(r)),t.updateGestureState(z({},Re(J(t),d,r),le(J(t),r,!0),{_pointerIds:o,cancel:t.onCancel,origin:v})),t.updateGestureState(t.getMovement(d)),t.fireGestureHandler()}},t.onPinchChange=function(r){var a=t.state;if(!a.canceled&&a._active&&r.timeStamp!==t.state.timeStamp){var o=ge(r);t.updateSharedState(o);try{var c=Rr(r,t.state._pointerIds,t.transform),d=c.origin,v=t.getKinematics(c.values,r);t.updateGestureState(z({},le(J(t),r),v,{origin:d})),t.fireGestureHandler()}catch(M){t.onPinchEnd(r)}}},t.onPinchEnd=function(r){Xr(t.controller,r);var a=gt(r);t.state._pointerIds.every(function(o){return!a.includes(o)})||(t.clean(),t.state._active&&(t.updateGestureState(z({},le(J(t),r),t.getMovement(t.state.values),{_active:!1})),t.fireGestureHandler()))},t.onCancel=function(){t.state.canceled||(t.updateGestureState({_active:!1,canceled:!0}),setTimeout(function(){return t.fireGestureHandler()},0))},t.onGestureStart=function(r){if(t.enabled){r.preventDefault();var a=Vr(r,t.transform);t.updateSharedState(ge(r)),t.updateGestureState(z({},Re(J(t),a,r),le(J(t),r,!0),{origin:[r.clientX,r.clientY],cancel:t.onCancel})),t.updateGestureState(t.getMovement(a)),t.fireGestureHandler()}},t.onGestureChange=function(r){var a=t.state;if(!a.canceled&&a._active){r.preventDefault();var o=ge(r);t.updateSharedState(o);var c=Vr(r,t.transform);c[0]=260*(c[0]-t.state.event.scale)+t.state.values[0];var d=t.getKinematics(c,r);t.updateGestureState(z({},le(J(t),r),d,{origin:[r.clientX,r.clientY]})),t.fireGestureHandler()}},t.onGestureEnd=function(r){t.clean(),t.state._active&&(t.updateGestureState(z({},le(J(t),r),t.getMovement(t.state.values),{_active:!1,origin:[r.clientX,r.clientY]})),t.fireGestureHandler())},t.wheelShouldRun=function(r){return t.enabled&&r.ctrlKey},t.getWheelValuesFromEvent=function(r){var a=Br(r,t.transform),o=t.state.values,c=o[1],d=7*-a[1],v=c!==void 0?c:0;return{values:[o[0]+d,v],origin:[r.clientX,r.clientY],delta:[d,v]}},t.onWheel=function(r){t.wheelShouldRun(r)&&(t.setTimeout(t.onWheelEnd),t.state._active?t.onWheelChange(r):t.onWheelStart(r))},t.onWheelStart=function(r){var a=t.getWheelValuesFromEvent(r),o=a.values,c=a.delta,d=a.origin;r.cancelable&&r.preventDefault(),t.updateSharedState(ge(r)),t.updateGestureState(z({},Re(J(t),o,r,t.state.values),le(J(t),r,!0),{offset:o,delta:c,origin:d})),t.updateGestureState(t.getMovement(o)),t.fireGestureHandler()},t.onWheelChange=function(r){r.cancelable&&r.preventDefault(),t.updateSharedState(ge(r));var a=t.getWheelValuesFromEvent(r),o=a.values,c=a.origin,d=a.delta;t.updateGestureState(z({},le(J(t),r),t.getKinematics(o,r),{origin:c,delta:d})),t.fireGestureHandler()},t.onWheelEnd=function(){t.clean(),t.state._active&&(t.state._active=!1,t.updateGestureState(t.getMovement(t.state.values)),t.fireGestureHandler())},t}return qe(n,e),n.prototype.addBindings=function(t){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(oe(t,\"onGestureStart\",this.onGestureStart),oe(t,\"onGestureChange\",this.onGestureChange),oe(t,\"onGestureEnd\",this.onGestureEnd)):(oe(t,\"onTouchStart\",this.onPinchStart),oe(t,\"onTouchMove\",this.onPinchChange),oe(t,\"onTouchEnd\",this.onPinchEnd),oe(t,\"onTouchCancel\",this.onPinchEnd),oe(t,\"onWheel\",this.onWheel))},n}(function(e){function n(){return e.apply(this,arguments)||this}qe(n,e);var t=n.prototype;return t.getInternalMovement=function(r,a){var o=a.values[1],c=r[0],d=r[1],v=d===void 0?o:d,M=v-o,g=a.turns;return Math.abs(M)>270&&(g+=zn(M)),an([c,v-360*g],a.initial)},t.getKinematics=function(r,a){var o=this.getMovement(r);return z({turns:(r[1]-o._movement[1]-this.state.initial[1])/360},o,Ge(Ar(o.movement,o.delta,a.timeStamp-this.state.timeStamp),[\"distance\",\"velocity\"]))},t.mapStateValues=function(r){return{da:r.values,vdva:r.velocities}},n}(Yr)),ta=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).ingKey=\"wheeling\",t.stateKey=\"wheel\",t.debounced=!0,t.handleEvent=function(r){if((!r.ctrlKey||!(\"pinch\"in t.controller.handlers))&&t.enabled){t.setTimeout(t.onEnd),t.updateSharedState(ge(r));var a=rn(Br(r,t.transform),t.state.values);if(t.state._active)t.updateGestureState(z({},le(J(t),r),t.getKinematics(a,r)));else{t.updateGestureState(z({},Re(J(t),a,r,t.state.values),le(J(t),r,!0)));var o=t.getMovement(a),c=Tr(o.delta);t.updateGestureState(o),t.updateGestureState(c)}t.fireGestureHandler()}},t.onEnd=function(){if(t.clean(),t.state._active){var r=t.getMovement(t.state.values);t.updateGestureState(r),t.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),t.fireGestureHandler()}},t}return qe(n,e),n.prototype.addBindings=function(t){oe(t,\"onWheel\",this.handleEvent)},n}(Un),Qn=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).ingKey=\"moving\",t.stateKey=\"move\",t.debounced=!0,t.onMove=function(r){t.enabled&&(t.setTimeout(t.onMoveEnd),t.state._active?t.onMoveChange(r):t.onMoveStart(r))},t.onMoveStart=function(r){t.updateSharedState(ge(r));var a=He(r,t.transform);t.updateGestureState(z({},Re(J(t),a,r),le(J(t),r,!0))),t.updateGestureState(t.getMovement(a)),t.fireGestureHandler()},t.onMoveChange=function(r){t.updateSharedState(ge(r));var a=He(r,t.transform);t.updateGestureState(z({},le(J(t),r),t.getKinematics(a,r))),t.fireGestureHandler()},t.onMoveEnd=function(){t.clean(),t.state._active&&(t.updateGestureState(t.getMovement(t.state.values)),t.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),t.fireGestureHandler())},t.hoverTransform=function(){return t.controller.config.hover.transform||t.controller.config.transform},t.onPointerEnter=function(r){if(t.controller.state.shared.hovering=!0,t.controller.config.enabled){if(t.controller.config.hover.enabled){var a=He(r,t.hoverTransform()),o=z({},t.controller.state.shared,t.state,le(J(t),r,!0),{args:t.args,values:a,active:!0,hovering:!0});t.controller.handlers.hover(z({},o,t.mapStateValues(o)))}\"move\"in t.controller.handlers&&t.onMoveStart(r)}},t.onPointerLeave=function(r){if(t.controller.state.shared.hovering=!1,\"move\"in t.controller.handlers&&t.onMoveEnd(),t.controller.config.hover.enabled){var a=He(r,t.hoverTransform()),o=z({},t.controller.state.shared,t.state,le(J(t),r),{args:t.args,values:a,active:!1});t.controller.handlers.hover(z({},o,t.mapStateValues(o)))}},t}return qe(n,e),n.prototype.addBindings=function(t){\"move\"in this.controller.handlers&&oe(t,\"onPointerMove\",this.onMove),\"hover\"in this.controller.handlers&&(oe(t,\"onPointerEnter\",this.onPointerEnter),oe(t,\"onPointerLeave\",this.onPointerLeave))},n}(Un),ra=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).ingKey=\"scrolling\",t.stateKey=\"scroll\",t.debounced=!0,t.handleEvent=function(r){if(t.enabled){t.clearTimeout(),t.setTimeout(t.onEnd);var a=si(r,t.transform);if(t.updateSharedState(ge(r)),t.state._active)t.updateGestureState(z({},le(J(t),r),t.getKinematics(a,r)));else{t.updateGestureState(z({},Re(J(t),a,r,t.state.values),le(J(t),r,!0)));var o=t.getMovement(a),c=Tr(o.delta);t.updateGestureState(o),t.updateGestureState(c)}t.fireGestureHandler()}},t.onEnd=function(){t.clean(),t.state._active&&(t.updateGestureState(z({},t.getMovement(t.state.values),{_active:!1,velocities:[0,0],velocity:0})),t.fireGestureHandler())},t}return qe(n,e),n.prototype.addBindings=function(t){oe(t,\"onScroll\",this.handleEvent)},n}(Un),wi=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function dn(e,n){var t=n+\"Start\",r=n+\"End\";return function(a){var o=void 0;return a.first&&t in e&&e[t](a),n in e&&(o=e[n](a)),a.last&&r in e&&e[r](a),o}}ye.addV=rn,ye.rubberbandIfOutOfBounds=vt,ye.subV=an,ye.useDrag=function(e,n){n===void 0&&(n={}),de.set(\"drag\",ea);var t=Ee.useRef();return t.current||(t.current=We(hi,ze)),Be({drag:e},t.current(n))},ye.useGesture=function(e,n){n===void 0&&(n={});var t=function(v){var M={},g={},h=new Set;for(var b in v)wi.test(b)?(h.add(RegExp.lastMatch),g[b]=v[b]):M[b]=v[b];return[g,M,h]}(e),r=t[0],a=t[1],o=t[2];de.set(\"drag\",ea),de.set(\"hover\",Qn),de.set(\"move\",Qn),de.set(\"pinch\",na),de.set(\"scroll\",ra),de.set(\"wheel\",ta);var c=function(v,M){v===void 0&&(v={}),M===void 0&&(M=new Set);var g=v.drag,h=v.wheel,b=v.move,k=v.scroll,w=v.pinch,T=v.hover,A=De({domTarget:v.domTarget,eventOptions:v.eventOptions,transform:v.transform,window:v.window,enabled:v.enabled});return M.has(\"onDrag\")&&(A.drag=Lr(g)),M.has(\"onWheel\")&&(A.wheel=Ye(h)),M.has(\"onScroll\")&&(A.scroll=Ye(k)),M.has(\"onMove\")&&(A.move=Ye(b)),M.has(\"onPinch\")&&(A.pinch=Kr(w)),M.has(\"onHover\")&&(A.hover=z({enabled:!0},T)),A}(n,o),d={};return o.has(\"onDrag\")&&(d.drag=dn(r,\"onDrag\")),o.has(\"onWheel\")&&(d.wheel=dn(r,\"onWheel\")),o.has(\"onScroll\")&&(d.scroll=dn(r,\"onScroll\")),o.has(\"onMove\")&&(d.move=dn(r,\"onMove\")),o.has(\"onPinch\")&&(d.pinch=dn(r,\"onPinch\")),o.has(\"onHover\")&&(d.hover=r.onHover),Be(d,c,a)},ye.useHover=function(e,n){n===void 0&&(n={}),de.set(\"hover\",Qn);var t=Ee.useRef();return t.current||(t.current=We(mi,ze)),Be({hover:e},t.current(n))},ye.useMove=function(e,n){n===void 0&&(n={}),de.set(\"move\",Qn);var t=Ee.useRef();return t.current||(t.current=We(fi,ze)),Be({move:e},t.current(n))},ye.usePinch=function(e,n){n===void 0&&(n={}),de.set(\"pinch\",na);var t=Ee.useRef();return t.current||(t.current=We(pi,ze)),Be({pinch:e},t.current(n))},ye.useScroll=function(e,n){n===void 0&&(n={}),de.set(\"scroll\",ra);var t=Ee.useRef();return t.current||(t.current=We(vi,ze)),Be({scroll:e},t.current(n))},ye.useWheel=function(e,n){n===void 0&&(n={}),de.set(\"wheel\",ta);var t=Ee.useRef();return t.current||(t.current=We(gi,ze)),Be({wheel:e},t.current(n))}});var oa=te((oo,ia)=>{\"use strict\";ia.exports=aa()});var Ai={};za(Ai,{chromaticCircle:()=>kt,circleOfFifths:()=>ua,default:()=>Ti,familyScales:()=>et,frontmatter:()=>_i,mirrorAxis:()=>ca,numberedCircle:()=>Jn,scaleColor:()=>la});var i=Fe(Ot()),Te=Fe(ot());function Fn(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function st(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function Qe(){}var Ze=.7,Kn=1/Ze,Le=\"\\\\s*([+-]?\\\\d+)\\\\s*\",Je=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",Ne=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",Xa=/^#([0-9a-f]{3,8})$/,Ua=new RegExp(\"^rgb\\\\(\"+[Le,Le,Le]+\"\\\\)$\"),Qa=new RegExp(\"^rgb\\\\(\"+[Ne,Ne,Ne]+\"\\\\)$\"),Za=new RegExp(\"^rgba\\\\(\"+[Le,Le,Le,Je]+\"\\\\)$\"),Ja=new RegExp(\"^rgba\\\\(\"+[Ne,Ne,Ne,Je]+\"\\\\)$\"),ei=new RegExp(\"^hsl\\\\(\"+[Je,Ne,Ne]+\"\\\\)$\"),ni=new RegExp(\"^hsla\\\\(\"+[Je,Ne,Ne,Je]+\"\\\\)$\"),lr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fn(Qe,en,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:dr,formatHex:dr,formatHsl:ti,formatRgb:fr,toString:fr});function dr(){return this.rgb().formatHex()}function ti(){return gr(this).formatHsl()}function fr(){return this.rgb().formatRgb()}function en(e){var n,t;return e=(e+\"\").trim().toLowerCase(),(n=Xa.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?mr(n):t===3?new ve(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?Ln(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?Ln(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Ua.exec(e))?new ve(n[1],n[2],n[3],1):(n=Qa.exec(e))?new ve(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Za.exec(e))?Ln(n[1],n[2],n[3],n[4]):(n=Ja.exec(e))?Ln(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=ei.exec(e))?vr(n[1],n[2]/100,n[3]/100,1):(n=ni.exec(e))?vr(n[1],n[2]/100,n[3]/100,n[4]):lr.hasOwnProperty(e)?mr(lr[e]):e===\"transparent\"?new ve(NaN,NaN,NaN,0):null}function mr(e){return new ve(e>>16&255,e>>8&255,e&255,1)}function Ln(e,n,t,r){return r<=0&&(e=n=t=NaN),new ve(e,n,t,r)}function ri(e){return e instanceof Qe||(e=en(e)),e?(e=e.rgb(),new ve(e.r,e.g,e.b,e.opacity)):new ve}function Hn(e,n,t,r){return arguments.length===1?ri(e):new ve(e,n,t,r??1)}function ve(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}Fn(ve,Hn,st(Qe,{brighter:function(e){return e=e==null?Kn:Math.pow(Kn,e),new ve(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Ze:Math.pow(Ze,e),new ve(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hr,formatHex:hr,formatRgb:pr,toString:pr}));function hr(){return\"#\"+ct(this.r)+ct(this.g)+ct(this.b)}function pr(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?\")\":\", \"+e+\")\")}function ct(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?\"0\":\"\")+e.toString(16)}function vr(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new ke(e,n,t,r)}function gr(e){if(e instanceof ke)return new ke(e.h,e.s,e.l,e.opacity);if(e instanceof Qe||(e=en(e)),!e)return new ke;if(e instanceof ke)return e;e=e.rgb();var n=e.r/255,t=e.g/255,r=e.b/255,a=Math.min(n,t,r),o=Math.max(n,t,r),c=NaN,d=o-a,v=(o+a)/2;return d?(n===o?c=(t-r)/d+(t<r)*6:t===o?c=(r-n)/d+2:c=(n-t)/d+4,d/=v<.5?o+a:2-o-a,c*=60):d=v>0&&v<1?0:c,new ke(c,d,v,e.opacity)}function yr(e,n,t,r){return arguments.length===1?gr(e):new ke(e,n,t,r??1)}function ke(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}Fn(ke,yr,st(Qe,{brighter:function(e){return e=e==null?Kn:Math.pow(Kn,e),new ke(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Ze:Math.pow(Ze,e),new ke(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,a=2*t-r;return new ve(ut(e>=240?e-240:e+120,a,r),ut(e,a,r),ut(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+(this.s||0)*100+\"%, \"+(this.l||0)*100+\"%\"+(e===1?\")\":\", \"+e+\")\")}}));function ut(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}var Yn=Hn(),ai=Math.PI/3,ii=Math.PI*2/3;function lt(e){var n;return e=(.5-e)*Math.PI,Yn.r=255*(n=Math.sin(e))*n,Yn.g=255*(n=Math.sin(e+ai))*n,Yn.b=255*(n=Math.sin(e+ii))*n,Yn+\"\"}var dt=Math.PI,ft=2*dt,Oe=1e-6,oi=ft-Oe;function mt(){this._x0=this._y0=this._x1=this._y1=null,this._=\"\"}function br(){return new mt}mt.prototype=br.prototype={constructor:mt,moveTo:function(e,n){this._+=\"M\"+(this._x0=this._x1=+e)+\",\"+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+=\"Z\")},lineTo:function(e,n){this._+=\"L\"+(this._x1=+e)+\",\"+(this._y1=+n)},quadraticCurveTo:function(e,n,t,r){this._+=\"Q\"+ +e+\",\"+ +n+\",\"+(this._x1=+t)+\",\"+(this._y1=+r)},bezierCurveTo:function(e,n,t,r,a,o){this._+=\"C\"+ +e+\",\"+ +n+\",\"+ +t+\",\"+ +r+\",\"+(this._x1=+a)+\",\"+(this._y1=+o)},arcTo:function(e,n,t,r,a){e=+e,n=+n,t=+t,r=+r,a=+a;var o=this._x1,c=this._y1,d=t-e,v=r-n,M=o-e,g=c-n,h=M*M+g*g;if(a<0)throw new Error(\"negative radius: \"+a);if(this._x1===null)this._+=\"M\"+(this._x1=e)+\",\"+(this._y1=n);else if(h>Oe)if(!(Math.abs(g*d-v*M)>Oe)||!a)this._+=\"L\"+(this._x1=e)+\",\"+(this._y1=n);else{var b=t-o,k=r-c,w=d*d+v*v,T=b*b+k*k,A=Math.sqrt(w),C=Math.sqrt(h),_=a*Math.tan((dt-Math.acos((w+h-T)/(2*A*C)))/2),x=_/C,P=_/A;Math.abs(x-1)>Oe&&(this._+=\"L\"+(e+x*M)+\",\"+(n+x*g)),this._+=\"A\"+a+\",\"+a+\",0,0,\"+ +(g*b>M*k)+\",\"+(this._x1=e+P*d)+\",\"+(this._y1=n+P*v)}},arc:function(e,n,t,r,a,o){e=+e,n=+n,t=+t,o=!!o;var c=t*Math.cos(r),d=t*Math.sin(r),v=e+c,M=n+d,g=1^o,h=o?r-a:a-r;if(t<0)throw new Error(\"negative radius: \"+t);this._x1===null?this._+=\"M\"+v+\",\"+M:(Math.abs(this._x1-v)>Oe||Math.abs(this._y1-M)>Oe)&&(this._+=\"L\"+v+\",\"+M),!!t&&(h<0&&(h=h%ft+ft),h>oi?this._+=\"A\"+t+\",\"+t+\",0,1,\"+g+\",\"+(e-c)+\",\"+(n-d)+\"A\"+t+\",\"+t+\",0,1,\"+g+\",\"+(this._x1=v)+\",\"+(this._y1=M):h>Oe&&(this._+=\"A\"+t+\",\"+t+\",0,\"+ +(h>=dt)+\",\"+g+\",\"+(this._x1=e+t*Math.cos(a))+\",\"+(this._y1=n+t*Math.sin(a))))},rect:function(e,n,t,r){this._+=\"M\"+(this._x0=this._x1=+e)+\",\"+(this._y0=this._y1=+n)+\"h\"+ +t+\"v\"+ +r+\"h\"+-t+\"Z\"},toString:function(){return this._}};var ht=br;function Ce(e){return function(){return e}}var Wi=Array.prototype.slice;function Mr(e){return typeof e==\"object\"&&\"length\"in e?e:Array.from(e)}function Pr(e){this._context=e}Pr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n);break}}};function Nr(e){return new Pr(e)}function kr(e){return e[0]}function jr(e){return e[1]}function nn(e,n){var t=Ce(!0),r=null,a=Nr,o=null;e=typeof e==\"function\"?e:e===void 0?kr:Ce(e),n=typeof n==\"function\"?n:n===void 0?jr:Ce(n);function c(d){var v,M=(d=Mr(d)).length,g,h=!1,b;for(r==null&&(o=a(b=ht())),v=0;v<=M;++v)!(v<M&&t(g=d[v],v,d))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(g,v,d),+n(g,v,d));if(b)return o=null,b+\"\"||null}return c.x=function(d){return arguments.length?(e=typeof d==\"function\"?d:Ce(+d),c):e},c.y=function(d){return arguments.length?(n=typeof d==\"function\"?d:Ce(+d),c):n},c.defined=function(d){return arguments.length?(t=typeof d==\"function\"?d:Ce(!!d),c):t},c.curve=function(d){return arguments.length?(a=d,r!=null&&(o=a(r)),c):a},c.context=function(d){return arguments.length?(d==null?r=o=null:o=a(r=d),c):r},c}var be=Fe(pt()),bt=Fe(_r()),sa=Fe(oa());function Mt({nodes:e,links:n,sets:t,size:r,margin:a,r:o,nodeRadius:c,onClick:d,onHover:v,fontSize:M,label:g}){c=c||20,M=M||c/3*2;let h=o||100,b=(0,bt.max)(e.map(C=>C.distance).concat([h])),k=(0,bt.max)(e.map(C=>C.radius).concat([c]));a=a||0,r=r||b*2+k*2+a*2;function w(C,_,x=0){let P=e.find(({id:E})=>E===C);if(!P)return console.error(`node ${C} not found`),[0,0];let p=_||P?.distance||h,j=typeof P.value!=\"undefined\"?P.value:e.indexOf(P)/e.length,[N,S]=Si(j+x,p,a);return[N+c+b-p,S+c+b-p]}function T(C,_,x){return C.map(P=>w(P,_,x)).filter(P=>!!P)}let A=(0,sa.useHover)(({args:[C],active:_})=>{v&&v(_?C:{})});return be.default.createElement(\"svg\",{width:r,height:r},be.default.createElement(\"circle\",{cx:b+c,cy:b+c,r:h,stroke:\"gray\",strokeWidth:3,fill:\"none\"}),n&&n.map((C,_)=>{let{source:x,target:P,stroke:p,strokeWidth:j}=C;return be.default.createElement(\"path\",{onClick:()=>d&&d({link:C}),...A({link:C}),key:_,stroke:p||\"gray\",strokeWidth:j||4,fill:\"none\",d:nn()(T([x,P]))})}),t&&t.map((C,_)=>{let{set:x,stroke:P,offset:p}=C;return be.default.createElement(\"path\",{onClick:()=>d&&d({set:C}),...A({set:C}),key:_,stroke:P||\"gray\",strokeWidth:4,fill:\"none\",d:nn()(T(x,void 0,p))})}),g&&be.default.createElement(\"text\",{x:r/2,y:r/2,textAnchor:\"middle\"},g),e.map((C,_,x)=>{let{id:P,label:p,fill:j,radius:N,style:S,color:E}=C,[B,H]=w(P),[X,ie]=w(P,h);return be.default.createElement(be.default.Fragment,{key:_},be.default.createElement(\"path\",{strokeWidth:2,stroke:\"gray\",d:nn()([[X,ie],[B,H]])}),be.default.createElement(\"circle\",{r:N||c,cx:B,cy:H,fill:j,style:S||{},onClick:()=>d&&d({node:C}),...A({node:C})}),be.default.createElement(\"text\",{style:{userSelect:\"none\",pointerEvents:\"none\",fontSize:M},x:B,y:H+c/4,fill:E||\"black\",textAnchor:\"middle\"},typeof p!=\"undefined\"?p:P))}))}function Si(e,n,t=0){return[n+Math.sin(e*Math.PI*2)*n+t,n-Math.cos(e*Math.PI*2)*n+t]}function fn(e){return e.split(\"\").map((r,a)=>r===\"1\"?a:-1).filter(r=>r!==-1).reduce((r,a)=>a+r,0)%12}function Pt(e){return lt(fn(e)/12)}var Zn=Fe(ot()),Nt=e=>Zn.PcSet.get(Zn.Scale.get(e).notes).chroma;var _i={title:\"Coloring Musical Scales\",date:\"2021-01-02\",tags:[\"code\",\"d3\"],description:\"After we found a basic way of coloring pitches, let's now look at a way to color scales.\",image:\"./img/coloring-scales.png\"},kt=Array.from({length:12},(e,n)=>Te.Note.get(Te.Note.fromMidi(n)).pc),ca=e=>{let n=fn(Nt(e));return{source:n*2,target:(n+6)*2}},Jn=e=>(0,i.jsx)(Mt,{margin:3,nodes:Array.from({length:24},(n,t)=>({id:t,value:Math.floor(t/2)/12,...t%2==0?{stroke:\"black\",fill:\"white\",color:\"black\",label:t/2,distance:120}:{fill:Te.Scale.get(e).notes.includes(kt[(t-1)/2])?\"steelblue\":\"gray\",color:\"white\",label:kt[(t-1)/2],distance:80}})),links:[ca(e)],r:80,nodeRadius:16}),ua=Array.from({length:12},(e,n)=>Te.Note.get(Te.Note.fromMidi(60+n*7%12)).pc),la=e=>Pt(Nt(e)),et=e=>{let n={ul:\"ul\",li:\"li\",span:\"span\"};return(0,i.jsx)(n.ul,{style:{margin:0},children:ua.map(t=>(0,i.jsx)(n.li,{style:{marginBottom:2,listStyle:\"none\",display:\"flex\"},children:Te.Scale.modeNames(`${t} ${e}`).map(([r,a],o)=>(0,i.jsxs)(n.span,{style:{backgroundColor:la(`${r} ${a}`),marginRight:2,padding:2},children:[r,\" \",a]},o))},t))})};function xi(e){let n=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",span:\"span\",pre:\"pre\",code:\"code\",h3:\"h3\"},e.components),{wrapper:t}=n,r=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[\"After we found a basic way of \",(0,i.jsx)(n.a,{href:\"../coloring-pitches\",children:\"coloring pitches\"}),\", let's now look at a way to color scales.\"]}),`\n`,(0,i.jsxs)(n.h2,{id:\"chroma-center\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#chroma-center\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"Chroma Center\"]}),`\n`,`\n`,(0,i.jsx)(n.p,{children:\"This is the C major scale in a chromatic circle, indexed from 0 to 11:\"}),`\n`,`\n`,`\n`,(0,i.jsx)(\"div\",{children:Jn(\"C major\")}),`\n`,(0,i.jsx)(n.p,{children:\"If we now add all indices of active notes inside modulo 12, we get:\"}),`\n`,(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:`(0 + 2 + 4 + 5 + 7 + 9 + 11) % 12 = 2\n`})}),`\n`,(0,i.jsx)(n.p,{children:`... which is the index of D. Interestingly, D is the only place we can put a mirroring axis that won't change the notes after reflection.\nLet's call this the chroma center. We can calculate it for any chroma like this:`}),`\n`,(0,i.jsx)(n.pre,{className:\"language-js\",children:(0,i.jsxs)(n.code,{className:\"language-js\",children:[(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,i.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,i.jsx)(n.span,{className:\"token function\",children:\"chromaCenter\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsxs)(n.span,{className:\"token parameter\",children:[\"chroma\",(0,i.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" string\"]}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,i.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" digits \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" chroma\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,i.jsx)(n.span,{className:\"token method function property-access\",children:\"split\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,i.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" ones \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" digits\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,i.jsx)(n.span,{className:\"token method function property-access\",children:\"map\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsxs)(n.span,{className:\"token parameter\",children:[\"d\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" i\"]}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"d \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" \",(0,i.jsx)(n.span,{className:\"token string\",children:\"'1'\"}),\" \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" i \",(0,i.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,i.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,i.jsx)(n.span,{className:\"token method function property-access\",children:\"filter\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token parameter\",children:\"i\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" i \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"!==\"}),\" \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,i.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,i.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" ones\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,i.jsx)(n.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsxs)(n.span,{className:\"token parameter\",children:[\"sum\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" i\"]}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" i \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" sum\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,i.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"%\"}),\" \",(0,i.jsx)(n.span,{className:\"token number\",children:\"12\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,i.jsx)(n.p,{children:'Here, we are summing all indices that contain \"1\" inside mod 12.'}),`\n`,(0,i.jsxs)(\"details\",{children:[(0,i.jsx)(\"summary\",{children:\"What is a chroma?\"}),(0,i.jsx)(n.p,{children:`A chroma is a string with 12 characters that represent a set of pitches with a combination of 1s and 0s.\nA 1 means that the note is in the set, a zero means not.\nThe 12 characters represent all chromatic notes going from C to B.\nFor example, the chroma of C major is 101011010101:`}),(0,i.jsx)(\"pre\",{children:`101011010101 \nC D EF G A B`})]}),`\n`,(0,i.jsx)(\"br\",{}),`\n`,(0,i.jsxs)(n.h2,{id:\"scale-colors\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#scale-colors\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"Scale Colors\"]}),`\n`,(0,i.jsxs)(n.p,{children:[\"Now, we can use the chroma center for \",(0,i.jsx)(n.a,{href:\"https://github.com/d3/d3-scale-chromatic#cyclical\",children:\"cyclical color interpolation\"}),\":\"]}),`\n`,(0,i.jsx)(n.pre,{className:\"language-js\",children:(0,i.jsxs)(n.code,{className:\"language-js\",children:[(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,i.jsxs)(n.span,{className:\"token imports\",children:[(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" interpolateSinebow \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,i.jsx)(n.span,{className:\"token string\",children:\"'d3-scale-chromatic'\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,i.jsx)(n.span,{className:\"token imports\",children:\"chromaCenter\"}),\" \",(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,i.jsx)(n.span,{className:\"token string\",children:\"'./chromaCenter'\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,i.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,i.jsx)(n.span,{className:\"token function\",children:\"chromaColor\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token parameter\",children:\"chroma\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,i.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,i.jsx)(n.span,{className:\"token function\",children:\"interpolateSinebow\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token function\",children:\"chromaCenter\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"chroma\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\" \",(0,i.jsx)(n.span,{className:\"token number\",children:\"12\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,i.jsx)(n.p,{children:\"... and run it on all diatonic scales:\"}),`\n`,`\n`,(0,i.jsx)(\"div\",{children:et(\"major\")}),`\n`,(0,i.jsx)(\"br\",{}),`\n`,(0,i.jsx)(n.p,{children:\"Here, we can see that scales that contain the same notes have the same color.\"}),`\n`,(0,i.jsxs)(\"details\",{children:[(0,i.jsx)(\"summary\",{children:\"Show Source\"}),(0,i.jsx)(n.pre,{className:\"language-js\",children:(0,i.jsxs)(n.code,{className:\"language-js\",children:[(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,i.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" circleOfFifths \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,i.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Array\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" length\",(0,i.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,i.jsx)(n.span,{className:\"token number\",children:\"12\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsxs)(n.span,{className:\"token parameter\",children:[\"_\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" i\"]}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,i.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,i.jsx)(n.span,{className:\"token method function property-access\",children:\"get\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,i.jsx)(n.span,{className:\"token method function property-access\",children:\"fromMidi\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token number\",children:\"60\"}),\" \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"i \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" \",(0,i.jsx)(n.span,{className:\"token number\",children:\"7\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"%\"}),\" \",(0,i.jsx)(n.span,{className:\"token number\",children:\"12\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,i.jsx)(n.span,{className:\"token property-access\",children:\"pc\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,i.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,i.jsx)(n.span,{className:\"token function-variable function\",children:\"scaleColor\"}),\" \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token parameter\",children:\"scale\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,i.jsx)(n.span,{className:\"token function\",children:\"chromaColor\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token function\",children:\"scaleChroma\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"scale\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,i.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,i.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,i.jsx)(n.span,{className:\"token function-variable function\",children:\"familyScales\"}),\" \",(0,i.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token parameter\",children:\"family\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n  `,(0,i.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"ul style\",(0,i.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" margin\",(0,i.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,i.jsx)(n.span,{className:\"token number\",children:\"0\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,i.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n    `,(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"circleOfFifths\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,i.jsx)(n.span,{className:\"token method function property-access\",children:\"map\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token parameter\",children:\"tonic\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n      `,(0,i.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"li style\",(0,i.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" marginBottom\",(0,i.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,i.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" listStyle\",(0,i.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,i.jsx)(n.span,{className:\"token string\",children:\"'none'\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" display\",(0,i.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,i.jsx)(n.span,{className:\"token string\",children:\"'flex'\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" key\",(0,i.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"tonic\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,i.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n        `,(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,i.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Scale\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,i.jsx)(n.span,{className:\"token method function property-access\",children:\"modeNames\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsxs)(n.span,{className:\"token template-string\",children:[(0,i.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,i.jsxs)(n.span,{className:\"token interpolation\",children:[(0,i.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"tonic\",(0,i.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,i.jsx)(n.span,{className:\"token string\",children:\" \"}),(0,i.jsxs)(n.span,{className:\"token interpolation\",children:[(0,i.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"family\",(0,i.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,i.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,i.jsx)(n.span,{className:\"token method function property-access\",children:\"map\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsxs)(n.span,{className:\"token parameter\",children:[(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"root\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" scale\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" i\"]}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,i.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n          `,(0,i.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"span style\",(0,i.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" backgroundColor\",(0,i.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,i.jsx)(n.span,{className:\"token function\",children:\"scaleColor\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsxs)(n.span,{className:\"token template-string\",children:[(0,i.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,i.jsxs)(n.span,{className:\"token interpolation\",children:[(0,i.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"root\",(0,i.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,i.jsx)(n.span,{className:\"token string\",children:\" \"}),(0,i.jsxs)(n.span,{className:\"token interpolation\",children:[(0,i.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"scale\",(0,i.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,i.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" marginRight\",(0,i.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,i.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" padding\",(0,i.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,i.jsx)(n.span,{className:\"token number\",children:\"2\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" key\",(0,i.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"i\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,i.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n            `,(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"root\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"scale\",(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n          `,(0,i.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,i.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"span\",(0,i.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n        `,(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n      `,(0,i.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,i.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"li\",(0,i.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n    `,(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,i.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,i.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"ul\",(0,i.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n`,(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,i.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,i.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,i.jsx)(n.span,{className:\"token function\",children:\"familyScales\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,i.jsx)(n.span,{className:\"token string\",children:\"'major'\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,i.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,i.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,i.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,i.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})]}),`\n`,(0,i.jsx)(\"br\",{}),`\n`,(0,i.jsxs)(n.h3,{id:\"more-scales\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#more-scales\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"More Scales\"]}),`\n`,(0,i.jsx)(n.p,{children:\"Modes of Harmonic Minor:\"}),`\n`,(0,i.jsx)(\"div\",{children:et(\"harmonic minor\")}),`\n`,(0,i.jsx)(n.p,{children:\"Modes of Melodic Minor:\"}),`\n`,(0,i.jsx)(\"div\",{children:et(\"melodic minor\")}),`\n`,(0,i.jsx)(\"br\",{}),`\n`,(0,i.jsxs)(n.h3,{id:\"issue-same-color-for-different-scales\",children:[(0,i.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#issue-same-color-for-different-scales\",children:(0,i.jsx)(n.span,{className:\"icon icon-link\"})}),\"Issue: Same Color for Different Scales\"]}),`\n`,(0,i.jsx)(n.p,{children:\"While the coloring inside one scale family works, we can see that some scales across families have the same color, for example C melodic minor and C mixoldian.\"}),`\n`,(0,i.jsx)(n.p,{children:\"This is because the center is the same for both:\"}),`\n`,(0,i.jsxs)(\"div\",{style:{display:\"flex\"},children:[(0,i.jsxs)(\"div\",{children:[(0,i.jsx)(\"center\",{children:\"C melodic minor\"}),Jn(\"C melodic minor\")]}),(0,i.jsxs)(\"div\",{children:[(0,i.jsx)(\"center\",{children:\"C mixolydian\"}),Jn(\"C mixolydian\")]})]}),`\n`,(0,i.jsx)(n.p,{children:\"We can also double check this by calculating the chroma center:\"}),`\n`,(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:`(0 + 2 + 3 + 5 + 7 + 9 + 11) % 12 = 1 // C melodic minor\n(0 + 2 + 4 + 5 + 7 + 9 + 10) % 12 = 1 // C mixolydian\n`})}),`\n`,(0,i.jsx)(n.p,{children:\"Still, this way of coloring chromas is very helpful to differentiate different tonal centers inside the same scale family.\"}),`\n`,(0,i.jsx)(n.p,{children:\"That's it for today, the next color post will be about scale light and darkness to diversify the colors.\"})]});return t?(0,i.jsx)(t,Object.assign({},e,{children:r})):r}var Ti=xi;return Ai;})();\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n;return Component.default;"},"__N_SSG":true}