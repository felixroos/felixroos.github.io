{"pageProps":{"frontmatter":{"title":"Coloring Pitches","date":"2020-04-01","tags":["code","d3"],"description":"Let's play with colors. Vizualization loves color. To map musical notes to color, we can do various things.","image":"./img/colorpiano.png"},"code":"var Component=(()=>{var bi=Object.create;var Ot=Object.defineProperty;var yi=Object.getOwnPropertyDescriptor;var Mi=Object.getOwnPropertyNames;var Pi=Object.getPrototypeOf,wi=Object.prototype.hasOwnProperty;var rr=e=>Ot(e,\"__esModule\",{value:!0});var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ji=(e,t)=>{rr(e);for(var n in t)Ot(e,n,{get:t[n],enumerable:!0})},xi=(e,t,n)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let r of Mi(t))!wi.call(e,r)&&r!==\"default\"&&Ot(e,r,{get:()=>t[r],enumerable:!(n=yi(t,r))||n.enumerable});return e},ge=e=>xi(rr(Ot(e!=null?bi(Pi(e)):{},\"default\",e&&e.__esModule&&\"default\"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var ir=E((xs,ar)=>{ar.exports=_jsx_runtime});var dt=E(oe=>{\"use strict\";Object.defineProperty(oe,\"__esModule\",{value:!0});oe.pad2=oe.convertToPercentage=oe.boundAlpha=oe.isPercentage=oe.isOnePointZero=oe.clamp01=oe.bound01=void 0;function Ni(e,t){or(e)&&(e=\"100%\");var n=sr(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}oe.bound01=Ni;function Si(e){return Math.min(1,Math.max(0,e))}oe.clamp01=Si;function or(e){return typeof e==\"string\"&&e.indexOf(\".\")!==-1&&parseFloat(e)===1}oe.isOnePointZero=or;function sr(e){return typeof e==\"string\"&&e.indexOf(\"%\")!==-1}oe.isPercentage=sr;function Ti(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}oe.boundAlpha=Ti;function ki(e){return e<=1?Number(e)*100+\"%\":e}oe.convertToPercentage=ki;function Ai(e){return e.length===1?\"0\"+e:String(e)}oe.pad2=Ai});var mt=E(L=>{\"use strict\";Object.defineProperty(L,\"__esModule\",{value:!0});L.numberInputToObject=L.parseIntFromHex=L.convertHexToDecimal=L.convertDecimalToHex=L.rgbaToArgbHex=L.rgbaToHex=L.rgbToHex=L.hsvToRgb=L.rgbToHsv=L.hslToRgb=L.rgbToHsl=L.rgbToRgb=void 0;var V=dt();function _i(e,t,n){return{r:V.bound01(e,255)*255,g:V.bound01(t,255)*255,b:V.bound01(n,255)*255}}L.rgbToRgb=_i;function Oi(e,t,n){e=V.bound01(e,255),t=V.bound01(t,255),n=V.bound01(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i=0,o=0,s=(r+a)/2;if(r===a)o=0,i=0;else{var u=r-a;switch(o=s>.5?u/(2-r-a):u/(r+a),r){case e:i=(t-n)/u+(t<n?6:0);break;case t:i=(n-e)/u+2;break;case n:i=(e-t)/u+4;break;default:break}i/=6}return{h:i,s:o,l:s}}L.rgbToHsl=Oi;function Sn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ii(e,t,n){var r,a,i;if(e=V.bound01(e,360),t=V.bound01(t,100),n=V.bound01(n,100),t===0)a=n,i=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=Sn(s,o,e+1/3),a=Sn(s,o,e),i=Sn(s,o,e-1/3)}return{r:r*255,g:a*255,b:i*255}}L.hslToRgb=Ii;function Ci(e,t,n){e=V.bound01(e,255),t=V.bound01(t,255),n=V.bound01(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),i=0,o=r,s=r-a,u=r===0?0:s/r;if(r===a)i=0;else{switch(r){case e:i=(t-n)/s+(t<n?6:0);break;case t:i=(n-e)/s+2;break;case n:i=(e-t)/s+4;break;default:break}i/=6}return{h:i,s:u,v:o}}L.rgbToHsv=Ci;function Ei(e,t,n){e=V.bound01(e,360)*6,t=V.bound01(t,100),n=V.bound01(n,100);var r=Math.floor(e),a=e-r,i=n*(1-t),o=n*(1-a*t),s=n*(1-(1-a)*t),u=r%6,d=[n,o,i,i,s,n][u],f=[s,n,n,o,i,i][u],c=[i,i,s,n,n,o][u];return{r:d*255,g:f*255,b:c*255}}L.hsvToRgb=Ei;function Ri(e,t,n,r){var a=[V.pad2(Math.round(e).toString(16)),V.pad2(Math.round(t).toString(16)),V.pad2(Math.round(n).toString(16))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join(\"\")}L.rgbToHex=Ri;function qi(e,t,n,r,a){var i=[V.pad2(Math.round(e).toString(16)),V.pad2(Math.round(t).toString(16)),V.pad2(Math.round(n).toString(16)),V.pad2(Tn(r))];return a&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))&&i[3].startsWith(i[3].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join(\"\")}L.rgbaToHex=qi;function Hi(e,t,n,r){var a=[V.pad2(Tn(r)),V.pad2(Math.round(e).toString(16)),V.pad2(Math.round(t).toString(16)),V.pad2(Math.round(n).toString(16))];return a.join(\"\")}L.rgbaToArgbHex=Hi;function Tn(e){return Math.round(parseFloat(e)*255).toString(16)}L.convertDecimalToHex=Tn;function Gi(e){return ur(e)/255}L.convertHexToDecimal=Gi;function ur(e){return parseInt(e,16)}L.parseIntFromHex=ur;function Di(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}L.numberInputToObject=Di});var Ct=E(It=>{\"use strict\";Object.defineProperty(It,\"__esModule\",{value:!0});It.names=void 0;It.names={aliceblue:\"#f0f8ff\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",aquamarine:\"#7fffd4\",azure:\"#f0ffff\",beige:\"#f5f5dc\",bisque:\"#ffe4c4\",black:\"#000000\",blanchedalmond:\"#ffebcd\",blue:\"#0000ff\",blueviolet:\"#8a2be2\",brown:\"#a52a2a\",burlywood:\"#deb887\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",cornflowerblue:\"#6495ed\",cornsilk:\"#fff8dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkgray:\"#a9a9a9\",darkgreen:\"#006400\",darkgrey:\"#a9a9a9\",darkkhaki:\"#bdb76b\",darkmagenta:\"#8b008b\",darkolivegreen:\"#556b2f\",darkorange:\"#ff8c00\",darkorchid:\"#9932cc\",darkred:\"#8b0000\",darksalmon:\"#e9967a\",darkseagreen:\"#8fbc8f\",darkslateblue:\"#483d8b\",darkslategray:\"#2f4f4f\",darkslategrey:\"#2f4f4f\",darkturquoise:\"#00ced1\",darkviolet:\"#9400d3\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",dimgray:\"#696969\",dimgrey:\"#696969\",dodgerblue:\"#1e90ff\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",forestgreen:\"#228b22\",fuchsia:\"#ff00ff\",gainsboro:\"#dcdcdc\",ghostwhite:\"#f8f8ff\",goldenrod:\"#daa520\",gold:\"#ffd700\",gray:\"#808080\",green:\"#008000\",greenyellow:\"#adff2f\",grey:\"#808080\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",ivory:\"#fffff0\",khaki:\"#f0e68c\",lavenderblush:\"#fff0f5\",lavender:\"#e6e6fa\",lawngreen:\"#7cfc00\",lemonchiffon:\"#fffacd\",lightblue:\"#add8e6\",lightcoral:\"#f08080\",lightcyan:\"#e0ffff\",lightgoldenrodyellow:\"#fafad2\",lightgray:\"#d3d3d3\",lightgreen:\"#90ee90\",lightgrey:\"#d3d3d3\",lightpink:\"#ffb6c1\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",lightskyblue:\"#87cefa\",lightslategray:\"#778899\",lightslategrey:\"#778899\",lightsteelblue:\"#b0c4de\",lightyellow:\"#ffffe0\",lime:\"#00ff00\",limegreen:\"#32cd32\",linen:\"#faf0e6\",magenta:\"#ff00ff\",maroon:\"#800000\",mediumaquamarine:\"#66cdaa\",mediumblue:\"#0000cd\",mediumorchid:\"#ba55d3\",mediumpurple:\"#9370db\",mediumseagreen:\"#3cb371\",mediumslateblue:\"#7b68ee\",mediumspringgreen:\"#00fa9a\",mediumturquoise:\"#48d1cc\",mediumvioletred:\"#c71585\",midnightblue:\"#191970\",mintcream:\"#f5fffa\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",navajowhite:\"#ffdead\",navy:\"#000080\",oldlace:\"#fdf5e6\",olive:\"#808000\",olivedrab:\"#6b8e23\",orange:\"#ffa500\",orangered:\"#ff4500\",orchid:\"#da70d6\",palegoldenrod:\"#eee8aa\",palegreen:\"#98fb98\",paleturquoise:\"#afeeee\",palevioletred:\"#db7093\",papayawhip:\"#ffefd5\",peachpuff:\"#ffdab9\",peru:\"#cd853f\",pink:\"#ffc0cb\",plum:\"#dda0dd\",powderblue:\"#b0e0e6\",purple:\"#800080\",rebeccapurple:\"#663399\",red:\"#ff0000\",rosybrown:\"#bc8f8f\",royalblue:\"#4169e1\",saddlebrown:\"#8b4513\",salmon:\"#fa8072\",sandybrown:\"#f4a460\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",sienna:\"#a0522d\",silver:\"#c0c0c0\",skyblue:\"#87ceeb\",slateblue:\"#6a5acd\",slategray:\"#708090\",slategrey:\"#708090\",snow:\"#fffafa\",springgreen:\"#00ff7f\",steelblue:\"#4682b4\",tan:\"#d2b48c\",teal:\"#008080\",thistle:\"#d8bfd8\",tomato:\"#ff6347\",turquoise:\"#40e0d0\",violet:\"#ee82ee\",wheat:\"#f5deb3\",white:\"#ffffff\",whitesmoke:\"#f5f5f5\",yellow:\"#ffff00\",yellowgreen:\"#9acd32\"}});var _n=E(Te=>{\"use strict\";Object.defineProperty(Te,\"__esModule\",{value:!0});Te.isValidCSSUnit=Te.stringInputToObject=Te.inputToRGB=void 0;var ne=mt(),cr=Ct(),ht=dt();function Fi(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,i=null,o=!1,s=!1;return typeof e==\"string\"&&(e=lr(e)),typeof e==\"object\"&&(be(e.r)&&be(e.g)&&be(e.b)?(t=ne.rgbToRgb(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)===\"%\"?\"prgb\":\"rgb\"):be(e.h)&&be(e.s)&&be(e.v)?(r=ht.convertToPercentage(e.s),a=ht.convertToPercentage(e.v),t=ne.hsvToRgb(e.h,r,a),o=!0,s=\"hsv\"):be(e.h)&&be(e.s)&&be(e.l)&&(r=ht.convertToPercentage(e.s),i=ht.convertToPercentage(e.l),t=ne.hslToRgb(e.h,r,i),o=!0,s=\"hsl\"),Object.prototype.hasOwnProperty.call(e,\"a\")&&(n=e.a)),n=ht.boundAlpha(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}Te.inputToRGB=Fi;var Bi=\"[-\\\\+]?\\\\d+%?\",Wi=\"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\",Se=\"(?:\"+Wi+\")|(?:\"+Bi+\")\",kn=\"[\\\\s|\\\\(]+(\"+Se+\")[,|\\\\s]+(\"+Se+\")[,|\\\\s]+(\"+Se+\")\\\\s*\\\\)?\",An=\"[\\\\s|\\\\(]+(\"+Se+\")[,|\\\\s]+(\"+Se+\")[,|\\\\s]+(\"+Se+\")[,|\\\\s]+(\"+Se+\")\\\\s*\\\\)?\",pe={CSS_UNIT:new RegExp(Se),rgb:new RegExp(\"rgb\"+kn),rgba:new RegExp(\"rgba\"+An),hsl:new RegExp(\"hsl\"+kn),hsla:new RegExp(\"hsla\"+An),hsv:new RegExp(\"hsv\"+kn),hsva:new RegExp(\"hsva\"+An),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function lr(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(cr.names[e])e=cr.names[e],t=!0;else if(e===\"transparent\")return{r:0,g:0,b:0,a:0,format:\"name\"};var n=pe.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=pe.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=pe.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=pe.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=pe.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=pe.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=pe.hex8.exec(e),n?{r:ne.parseIntFromHex(n[1]),g:ne.parseIntFromHex(n[2]),b:ne.parseIntFromHex(n[3]),a:ne.convertHexToDecimal(n[4]),format:t?\"name\":\"hex8\"}:(n=pe.hex6.exec(e),n?{r:ne.parseIntFromHex(n[1]),g:ne.parseIntFromHex(n[2]),b:ne.parseIntFromHex(n[3]),format:t?\"name\":\"hex\"}:(n=pe.hex4.exec(e),n?{r:ne.parseIntFromHex(n[1]+n[1]),g:ne.parseIntFromHex(n[2]+n[2]),b:ne.parseIntFromHex(n[3]+n[3]),a:ne.convertHexToDecimal(n[4]+n[4]),format:t?\"name\":\"hex8\"}:(n=pe.hex3.exec(e),n?{r:ne.parseIntFromHex(n[1]+n[1]),g:ne.parseIntFromHex(n[2]+n[2]),b:ne.parseIntFromHex(n[3]+n[3]),format:t?\"name\":\"hex\"}:!1)))))))))}Te.stringInputToObject=lr;function be(e){return Boolean(pe.CSS_UNIT.exec(String(e)))}Te.isValidCSSUnit=be});var Ge=E(Xe=>{\"use strict\";Object.defineProperty(Xe,\"__esModule\",{value:!0});Xe.tinycolor=Xe.TinyColor=void 0;var ke=mt(),Ki=Ct(),Vi=_n(),He=dt(),fr=function(){function e(t,n){t===void 0&&(t=\"\"),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t==\"number\"&&(t=ke.numberInputToObject(t)),this.originalInput=t;var a=Vi.inputToRGB(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:a.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,a,i=t.r/255,o=t.g/255,s=t.b/255;return i<=.03928?n=i/12.92:n=Math.pow((i+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),s<=.03928?a=s/12.92:a=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*r+.0722*a},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=He.boundAlpha(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var t=ke.rgbToHsv(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=ke.rgbToHsv(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.v*100);return this.a===1?\"hsv(\"+n+\", \"+r+\"%, \"+a+\"%)\":\"hsva(\"+n+\", \"+r+\"%, \"+a+\"%, \"+this.roundA+\")\"},e.prototype.toHsl=function(){var t=ke.rgbToHsl(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=ke.rgbToHsl(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),a=Math.round(t.l*100);return this.a===1?\"hsl(\"+n+\", \"+r+\"%, \"+a+\"%)\":\"hsla(\"+n+\", \"+r+\"%, \"+a+\"%, \"+this.roundA+\")\"},e.prototype.toHex=function(t){return t===void 0&&(t=!1),ke.rgbToHex(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),\"#\"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),ke.rgbaToHex(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),\"#\"+this.toHex8(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?\"rgb(\"+t+\", \"+n+\", \"+r+\")\":\"rgba(\"+t+\", \"+n+\", \"+r+\", \"+this.roundA+\")\"},e.prototype.toPercentageRgb=function(){var t=function(n){return Math.round(He.bound01(n,255)*100)+\"%\"};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(He.bound01(n,255)*100)};return this.a===1?\"rgb(\"+t(this.r)+\"%, \"+t(this.g)+\"%, \"+t(this.b)+\"%)\":\"rgba(\"+t(this.r)+\"%, \"+t(this.g)+\"%, \"+t(this.b)+\"%, \"+this.roundA+\")\"},e.prototype.toName=function(){if(this.a===0)return\"transparent\";if(this.a<1)return!1;for(var t=\"#\"+ke.rgbToHex(this.r,this.g,this.b,!1),n=0,r=Object.entries(Ki.names);n<r.length;n++){var a=r[n],i=a[0],o=a[1];if(t===o)return i}return!1},e.prototype.toString=function(t){var n=Boolean(t);t=t??this.format;var r=!1,a=this.a<1&&this.a>=0,i=!n&&a&&(t.startsWith(\"hex\")||t===\"name\");return i?t===\"name\"&&this.a===0?this.toName():this.toRgbString():(t===\"rgb\"&&(r=this.toRgbString()),t===\"prgb\"&&(r=this.toPercentageRgbString()),(t===\"hex\"||t===\"hex6\")&&(r=this.toHexString()),t===\"hex3\"&&(r=this.toHexString(!0)),t===\"hex4\"&&(r=this.toHex8String(!0)),t===\"hex8\"&&(r=this.toHex8String()),t===\"name\"&&(r=this.toName()),t===\"hsl\"&&(r=this.toHslString()),t===\"hsv\"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=He.clamp01(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=He.clamp01(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix(\"white\",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix(\"black\",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=He.clamp01(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=He.clamp01(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),a=new e(t).toRgb(),i=n/100,o={r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a};return new e(o)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),a=360/n,i=[this];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,a=n.s,i=n.v,o=[],s=1/t;t--;)o.push(new e({h:r,s:a,v:i})),i=(i+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,a=[this],i=360/t,o=1;o<t;o++)a.push(new e({h:(r+o*i)%360,s:n.s,l:n.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();Xe.TinyColor=fr;function Li(e,t){return e===void 0&&(e=\"\"),t===void 0&&(t={}),new fr(e,t)}Xe.tinycolor=Li});var hr=E(Ae=>{\"use strict\";Object.defineProperty(Ae,\"__esModule\",{value:!0});Ae.mostReadable=Ae.isReadable=Ae.readability=void 0;var On=Ge();function In(e,t){var n=new On.TinyColor(e),r=new On.TinyColor(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)}Ae.readability=In;function dr(e,t,n){var r,a;n===void 0&&(n={level:\"AA\",size:\"small\"});var i=In(e,t);switch(((r=n.level)!==null&&r!==void 0?r:\"AA\")+((a=n.size)!==null&&a!==void 0?a:\"small\")){case\"AAsmall\":case\"AAAlarge\":return i>=4.5;case\"AAlarge\":return i>=3;case\"AAAsmall\":return i>=7;default:return!1}}Ae.isReadable=dr;function mr(e,t,n){n===void 0&&(n={includeFallbackColors:!1,level:\"AA\",size:\"small\"});for(var r=null,a=0,i=n.includeFallbackColors,o=n.level,s=n.size,u=0,d=t;u<d.length;u++){var f=d[u],c=In(e,f);c>a&&(a=c,r=new On.TinyColor(f))}return dr(e,r,{level:o,size:s})||!i?r:(n.includeFallbackColors=!1,mr(e,[\"#fff\",\"#000\"],n))}Ae.mostReadable=mr});var gr=E(Et=>{\"use strict\";Object.defineProperty(Et,\"__esModule\",{value:!0});Et.toMsFilter=void 0;var pr=mt(),vr=Ge();function zi(e,t){var n=new vr.TinyColor(e),r=\"#\"+pr.rgbaToArgbHex(n.r,n.g,n.b,n.a),a=r,i=n.gradientType?\"GradientType = 1, \":\"\";if(t){var o=new vr.TinyColor(t);a=\"#\"+pr.rgbaToArgbHex(o.r,o.g,o.b,o.a)}return\"progid:DXImageTransform.Microsoft.gradient(\"+i+\"startColorstr=\"+r+\",endColorstr=\"+a+\")\"}Et.toMsFilter=zi});var yr=E(Ze=>{\"use strict\";Object.defineProperty(Ze,\"__esModule\",{value:!0});Ze.legacyRandom=Ze.fromRatio=void 0;var br=Ge(),Cn=dt();function Yi(e,t){var n={r:Cn.convertToPercentage(e.r),g:Cn.convertToPercentage(e.g),b:Cn.convertToPercentage(e.b)};return e.a!==void 0&&(n.a=Number(e.a)),new br.TinyColor(n,t)}Ze.fromRatio=Yi;function Ui(){return new br.TinyColor({r:Math.random(),g:Math.random(),b:Math.random()})}Ze.legacyRandom=Ui});var xr=E(_e=>{\"use strict\";Object.defineProperty(_e,\"__esModule\",{value:!0});_e.bounds=_e.random=void 0;var Mr=Ge();function Pr(e){if(e===void 0&&(e={}),e.count!==void 0&&e.count!==null){var t=e.count,n=[];for(e.count=void 0;t>n.length;)e.count=null,e.seed&&(e.seed+=1),n.push(Pr(e));return e.count=t,n}var r=$i(e.hue,e.seed),a=Xi(r,e),i=Zi(r,a,e),o={h:r,s:a,v:i};return e.alpha!==void 0&&(o.a=e.alpha),new Mr.TinyColor(o)}_e.random=Pr;function $i(e,t){var n=Ji(e),r=Rt(n,t);return r<0&&(r=360+r),r}function Xi(e,t){if(t.hue===\"monochrome\")return 0;if(t.luminosity===\"random\")return Rt([0,100],t.seed);var n=wr(e).saturationRange,r=n[0],a=n[1];switch(t.luminosity){case\"bright\":r=55;break;case\"dark\":r=a-10;break;case\"light\":a=55;break;default:break}return Rt([r,a],t.seed)}function Zi(e,t,n){var r=Qi(e,t),a=100;switch(n.luminosity){case\"dark\":a=r+20;break;case\"light\":r=(a+r)/2;break;case\"random\":r=0,a=100;break;default:break}return Rt([r,a],n.seed)}function Qi(e,t){for(var n=wr(e).lowerBounds,r=0;r<n.length-1;r++){var a=n[r][0],i=n[r][1],o=n[r+1][0],s=n[r+1][1];if(t>=a&&t<=o){var u=(s-i)/(o-a),d=i-u*a;return u*t+d}}return 0}function Ji(e){var t=parseInt(e,10);if(!Number.isNaN(t)&&t<360&&t>0)return[t,t];if(typeof e==\"string\"){var n=_e.bounds.find(function(o){return o.name===e});if(n){var r=jr(n);if(r.hueRange)return r.hueRange}var a=new Mr.TinyColor(e);if(a.isValid){var i=a.toHsv().h;return[i,i]}}return[0,360]}function wr(e){e>=334&&e<=360&&(e-=360);for(var t=0,n=_e.bounds;t<n.length;t++){var r=n[t],a=jr(r);if(a.hueRange&&e>=a.hueRange[0]&&e<=a.hueRange[1])return a}throw Error(\"Color not found\")}function Rt(e,t){if(t===void 0)return Math.floor(e[0]+Math.random()*(e[1]+1-e[0]));var n=e[1]||1,r=e[0]||0;t=(t*9301+49297)%233280;var a=t/233280;return Math.floor(r+a*(n-r))}function jr(e){var t=e.lowerBounds[0][0],n=e.lowerBounds[e.lowerBounds.length-1][0],r=e.lowerBounds[e.lowerBounds.length-1][1],a=e.lowerBounds[0][1];return{name:e.name,hueRange:e.hueRange,lowerBounds:e.lowerBounds,saturationRange:[t,n],brightnessRange:[r,a]}}_e.bounds=[{name:\"monochrome\",hueRange:null,lowerBounds:[[0,0],[100,0]]},{name:\"red\",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]},{name:\"orange\",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]},{name:\"yellow\",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]},{name:\"green\",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]},{name:\"blue\",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]},{name:\"purple\",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]},{name:\"pink\",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]}]});var Sr=E(Nr=>{\"use strict\";Object.defineProperty(Nr,\"__esModule\",{value:!0})});var En=E(se=>{\"use strict\";var eo=se&&se.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),we=se&&se.__exportStar||function(e,t){for(var n in e)n!==\"default\"&&!Object.prototype.hasOwnProperty.call(t,n)&&eo(t,e,n)};Object.defineProperty(se,\"__esModule\",{value:!0});var to=Ge();we(Ge(),se);we(Ct(),se);we(hr(),se);we(gr(),se);we(yr(),se);we(_n(),se);we(xr(),se);we(Sr(),se);we(mt(),se);se.default=to.tinycolor});var Qe=E((qs,Tr)=>{Tr.exports=React});var sa=E(me=>{\"use strict\";Object.defineProperty(me,\"__esModule\",{value:!0});var pt,Fe=Qe(),Or=(pt=Fe)&&typeof pt==\"object\"&&\"default\"in pt?pt.default:pt;function vt(e,t){return e.map(function(n,r){return n+t[r]})}function gt(e,t){return e.map(function(n,r){return n-t[r]})}function bt(e){return Math.hypot.apply(Math,e)}function Ir(e,t){t===void 0&&(t=e);var n=bt(t),r=n===0?0:1/n,a=t.map(function(i){return r*i});return{distance:bt(e),direction:a}}function Cr(e,t,n){var r=bt(t),a=r===0?0:1/r,i=n===0?0:1/n,o=i*r,s=t.map(function(d){return i*d}),u=t.map(function(d){return a*d});return{velocities:s,velocity:o,distance:bt(e),direction:u}}function qt(e){return Math.sign?Math.sign(e):Number(e>0)-Number(e<0)||+e}function Er(e,t,n){return t===0||Math.abs(t)===1/0?function(r,a){return Math.pow(r,5*a)}(e,n):e*t*n/(t+n*e)}function qn(e,t,n,r){return r===void 0&&(r=.15),r===0?function(a,i,o){return Math.max(i,Math.min(a,o))}(e,t,n):e<t?-Er(t-e,n-t,r)+t:e>n?+Er(e-n,n-t,r)+n:e}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Be(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function We(e,t){if(e==null)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(a[n]=e[n]);return a}function B(e){if(e===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Rr(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ht(e,t){var n;if(typeof Symbol==\"undefined\"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=function(a,i){if(a){if(typeof a==\"string\")return Rr(a,void 0);var o=Object.prototype.toString.call(a).slice(8,-1);return o===\"Object\"&&a.constructor&&(o=a.constructor.name),o===\"Map\"||o===\"Set\"?Array.from(a):o===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Rr(a,void 0):void 0}}(e))||t&&e&&typeof e.length==\"number\"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=e[Symbol.iterator]()).next.bind(n)}function qr(){}function Hr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?qr:t.length===1?t[0]:function(){for(var r,a,i=Ht(t);!(a=i()).done;){var o=a.value;r=o.apply(this,arguments)||r}return r}}function Oe(e,t){if(e===void 0){if(t===void 0)throw new Error(\"Must define fallback value if undefined is expected\");e=t}return Array.isArray(e)?e:[e,e]}function Gr(e,t){return Object.assign({},t,e||{})}function Gt(e){if(typeof e==\"function\"){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function yt(e,t){e===void 0&&(e={});for(var n={},r=0,a=Object.entries(t);r<a.length;r++){var i=a[r],o=i[0],s=i[1];switch(typeof s){case\"function\":n[o]=s.call(n,e[o],o,e);break;case\"object\":n[o]=yt(e[o],s);break;case\"boolean\":s&&(n[o]=e[o])}}return n}function Dr(){return typeof window!=\"undefined\"&&\"ontouchstart\"in window}function Fr(e){return\"pointerId\"in e?null:e.type===\"touchend\"?e.changedTouches:e.targetTouches}function Hn(e){return Array.from(Fr(e)).map(function(t){return t.identifier})}function de(e){return{buttons:\"buttons\"in e?e.buttons:0,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey}}var Mt=function(e){return e};function tt(e,t){t===void 0&&(t=Mt);var n=Fr(e),r=n?n[0]:e;return t([r.clientX,r.clientY])}function Br(e,t,n){n===void 0&&(n=Mt);var r=Array.from(e.touches).filter(function(f){return t.includes(f.identifier)}),a=r[0],i=r[1];if(!a||!i)throw Error(\"The event doesn't have two pointers matching the pointerIds\");var o=i.clientX-a.clientX,s=i.clientY-a.clientY,u=(i.clientX+a.clientX)/2,d=(i.clientY+a.clientY)/2;return{values:n([Math.hypot(o,s),-180*Math.atan2(o,s)/Math.PI]),origin:n([u,d])}}function po(e,t){t===void 0&&(t=Mt);var n=e.currentTarget;return t([n.scrollX||n.scrollLeft||0,n.scrollY||n.scrollTop||0])}function Wr(e,t){t===void 0&&(t=Mt);var n=e.deltaX,r=e.deltaY,a=e.deltaMode;return a===1?(n*=40,r*=40):a===2&&(n*=800,r*=800),t([n,r])}function Kr(e,t){return t===void 0&&(t=Mt),t([e.scale,e.rotation])}var Vr={threshold:function(e){return e===void 0&&(e=0),Oe(e)},rubberband:function(e){switch(e===void 0&&(e=0),e){case!0:return Oe(.15);case!1:return Oe(0);default:return Oe(e)}},enabled:function(e){return e===void 0&&(e=!0),e},triggerAllEvents:function(e){return e===void 0&&(e=!1),e},initial:function(e){return e===void 0&&(e=0),typeof e==\"function\"?e:Oe(e)},transform:!0},Gn=G({},Vr,{axis:!0,lockDirection:function(e){return e===void 0&&(e=!1),e},bounds:function(e){if(e===void 0&&(e={}),typeof e==\"function\")return function(i){return Gn.bounds(e(i))};var t=e.left,n=e.right,r=e.top,a=e.bottom;return[[t===void 0?-1/0:t,n===void 0?1/0:n],[r===void 0?-1/0:r,a===void 0?1/0:a]]}}),vo=typeof window!=\"undefined\"&&window.document&&window.document.createElement,go={enabled:function(e){return e===void 0&&(e=!0),e},domTarget:!0,window:function(e){function t(n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return e===void 0&&(e=vo?window:void 0),e}),eventOptions:function(e){var t=e===void 0?{}:e,n=t.passive,r=t.capture;return{passive:n===void 0||n,capture:r!==void 0&&r}},transform:!0},bo=G({},Vr,{bounds:function(e,t,n){var r=n.distanceBounds,a=r===void 0?{}:r,i=n.angleBounds,o=i===void 0?{}:i,s=function(d){var f=Gr(Gt(a,d),{min:-1/0,max:1/0});return[f.min,f.max]},u=function(d){var f=Gr(Gt(o,d),{min:-1/0,max:1/0});return[f.min,f.max]};return typeof a!=\"function\"&&typeof o!=\"function\"?[s(),u()]:function(d){return[s(d),u(d)]}}}),yo=G({},Gn,{useTouch:function(e){e===void 0&&(e=!1);var t=Dr(),n=typeof window!=\"undefined\"&&\"onpointerdown\"in window;return!(!e||!t)||!(!t||n)},experimental_preventWindowScrollY:function(e){return e===void 0&&(e=!1),e},threshold:function(e,t,n){var r=n.filterTaps,a=r!==void 0&&r,i=n.lockDirection,o=n.axis,s=Oe(e,a?3:i!==void 0&&i||(o===void 0?void 0:o)?1:0);return this.filterTaps=a,s},swipeVelocity:function(e){return e===void 0&&(e=.5),Oe(e)},swipeDistance:function(e){return e===void 0&&(e=50),Oe(e)},swipeDuration:function(e){return e===void 0&&(e=250),e},delay:function(e){switch(e===void 0&&(e=0),e){case!0:return 180;case!1:return 0;default:return e}}});function Ke(e){return e===void 0&&(e={}),yt(e,go)}function nt(e){return e===void 0&&(e={}),yt(e,Gn)}function Lr(e){return e===void 0&&(e={}),yt(e,bo)}function zr(e){return e===void 0&&(e={}),yt(e,yo)}function Mo(e){var t=e.domTarget,n=e.eventOptions,r=e.window,a=e.enabled,i=We(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),o=Ke({domTarget:t,eventOptions:n,window:r,enabled:a});return o.move=nt(i),o}function Po(e){var t=e.domTarget,n=e.eventOptions,r=e.window,a=e.enabled,i=We(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),o=Ke({domTarget:t,eventOptions:n,window:r,enabled:a});return o.hover=G({enabled:!0},i),o}function wo(e){var t=e.domTarget,n=e.eventOptions,r=e.window,a=e.enabled,i=We(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),o=Ke({domTarget:t,eventOptions:n,window:r,enabled:a});return o.drag=zr(i),o}function jo(e){var t=e.domTarget,n=e.eventOptions,r=e.window,a=e.enabled,i=We(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),o=Ke({domTarget:t,eventOptions:n,window:r,enabled:a});return o.pinch=Lr(i),o}function xo(e){var t=e.domTarget,n=e.eventOptions,r=e.window,a=e.enabled,i=We(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),o=Ke({domTarget:t,eventOptions:n,window:r,enabled:a});return o.scroll=nt(i),o}function No(e){var t=e.domTarget,n=e.eventOptions,r=e.window,a=e.enabled,i=We(e,[\"domTarget\",\"eventOptions\",\"window\",\"enabled\"]),o=Ke({domTarget:t,eventOptions:n,window:r,enabled:a});return o.wheel=nt(i),o}function Pt(e){return G({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_threshold:[0,0],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:qr,canceled:!1,memo:void 0,args:void 0},e)}function Yr(){return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},drag:Pt({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),pinch:Pt({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),wheel:Pt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),move:Pt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),scroll:Pt({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0})}}var te=new Map,So=function(e){return e},Ur=function(){function e(r,a){var i=this;a===void 0&&(a=[]),this.controller=r,this.args=a,this.debounced=!0,this.setTimeout=function(o,s){var u;s===void 0&&(s=140),clearTimeout(i.controller.timeouts[i.stateKey]);for(var d=arguments.length,f=new Array(d>2?d-2:0),c=2;c<d;c++)f[c-2]=arguments[c];i.controller.timeouts[i.stateKey]=(u=window).setTimeout.apply(u,[o,s].concat(f))},this.clearTimeout=function(){clearTimeout(i.controller.timeouts[i.stateKey])},this.fireGestureHandler=function(o){if(o===void 0&&(o=!1),i.state._blocked)return i.debounced||(i.state._active=!1,i.clean()),null;if(!o&&!i.state.intentional&&!i.config.triggerAllEvents)return null;if(i.state.intentional){var s=i.state.active,u=i.state._active;i.state.active=u,i.state.first=u&&!s,i.state.last=s&&!u,i.controller.state.shared[i.ingKey]=u}var d=i.controller.pointerIds.size||i.controller.touchIds.size,f=i.controller.state.shared.buttons>0||d>0,c=G({},i.controller.state.shared,i.state,i.mapStateValues(i.state),{locked:!!document.pointerLockElement,touches:d,down:f}),m=i.handler(c);return i.state.memo=m!==void 0?m:i.state.memo,c},this.controller=r,this.args=a}var t,n=e.prototype;return n.updateSharedState=function(r){Object.assign(this.controller.state.shared,r)},n.updateGestureState=function(r){Object.assign(this.state,r)},n.checkIntentionality=function(r,a){return{_intentional:r,_blocked:!1}},n.getMovement=function(r){var a=this.config.rubberband,i=this.state,o=i._bounds,s=i._initial,u=i._active,d=i._intentional,f=i.lastOffset,c=i.movement,m=i._threshold,v=this.getInternalMovement(r,this.state),g=d[0]===!1?$r(v[0],m[0]):d[0],y=d[1]===!1?$r(v[1],m[1]):d[1],P=this.checkIntentionality([g,y],v);if(P._blocked)return G({},P,{_movement:v,delta:[0,0]});var A=P._intentional,j=v,N=[A[0]!==!1?v[0]-A[0]:0,A[1]!==!1?v[1]-A[1]:0],b=vt(N,f),h=u?a:[0,0];return N=Xr(o,vt(N,s),h),G({},P,{intentional:A[0]!==!1||A[1]!==!1,_initial:s,_movement:j,movement:N,values:r,offset:Xr(o,b,h),delta:gt(N,c)})},n.clean=function(){this.clearTimeout()},(t=[{key:\"config\",get:function(){return this.controller.config[this.stateKey]}},{key:\"enabled\",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:\"state\",get:function(){return this.controller.state[this.stateKey]}},{key:\"handler\",get:function(){return this.controller.handlers[this.stateKey]}},{key:\"transform\",get:function(){return this.config.transform||this.controller.config.transform||So}}])&&function(r,a){for(var i=0;i<a.length;i++){var o=a[i];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}(e.prototype,t),e}();function $r(e,t){return Math.abs(e)>=t&&qt(e)*t}function Xr(e,t,n){var r=t[1],a=n[1],i=e[0],o=e[1],s=o[0],u=o[1];return[qn(t[0],i[0],i[1],n[0]),qn(r,s,u,a)]}function Z(e,t,n){var r=e.state,a=t.timeStamp;return{_lastEventType:t.type,event:t,timeStamp:a,elapsedTime:n?0:a-r.startTime,previous:r.values}}function Ve(e,t,n,r){var a=e.config,i=e.stateKey,o=e.args,s=e.transform,u=e.state.offset,d=n.timeStamp,f=a.initial,c=a.bounds,m=gt(s(a.threshold),s([0,0])).map(Math.abs),v=G({},Yr()[i],{_active:!0,args:o,values:t,initial:r??t,_threshold:m,offset:u,lastOffset:u,startTime:d});return G({},v,{_initial:Gt(f,v),_bounds:Gt(c,v)})}var To=function(e){var t=this;this.classes=e,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=Dr(),this.supportsGestureEvents=function(){try{return\"constructor\"in GestureEvent}catch(n){return!1}}(),this.bind=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];for(var i,o={},s=Ht(t.classes);!(i=s()).done;){var u=i.value;new u(t,r).addBindings(o)}var d=function(c){U(o,c,function(m){return t.nativeRefs[c](G({},t.state.shared,{event:m,args:r}))})};for(var f in t.nativeRefs)d(f);return t.config.domTarget?_o(t,o):Oo(t,o)},this.effect=function(){return t.config.domTarget&&t.bind(),t.clean},this.clean=function(){var n=ea(t.config),r=t.config.eventOptions;n&&wt(n,Jr(t.domListeners),r),Object.values(t.timeouts).forEach(clearTimeout),function(a){var i=a.config,o=i.window,s=i.eventOptions,u=a.windowListeners;if(o){for(var d in u)wt(o,u[d],s);a.windowListeners={}}}(t)},this.classes=e,this.state=Yr(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function Zr(e,t){\"pointerId\"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(Hn(t))}function Qr(e,t){\"pointerId\"in t?e.pointerIds.delete(t.pointerId):Hn(t).forEach(function(n){return e.touchIds.delete(n)})}function ko(e,t,n){var r=e.config,a=e.windowListeners;n===void 0&&(n=r.eventOptions),r.window&&(wt(r.window,a[t],n),delete a[t])}function Ao(e,t,n,r){var a=e.config,i=e.windowListeners;n===void 0&&(n=[]),r===void 0&&(r=a.eventOptions),a.window&&(wt(a.window,i[t],r),ta(a.window,i[t]=n,r))}function _o(e,t){var n=e.config,r=e.domListeners,a=ea(n);if(!a)throw new Error(\"domTarget must be defined\");var i=n.eventOptions;wt(a,Jr(r),i);for(var o=0,s=Object.entries(t);o<s.length;o++){var u=s[o],d=u[1],f=u[0].slice(2).toLowerCase();r.push([f,Hr.apply(void 0,d)])}ta(a,r,i)}function Oo(e,t){for(var n={},r=e.config.eventOptions.capture?\"Capture\":\"\",a=0,i=Object.entries(t);a<i.length;a++){var o=i[a],s=o[0],u=o[1],d=Array.isArray(u)?u:[u];n[s+r]=Hr.apply(void 0,d)}return n}function Jr(e){return e===void 0&&(e=[]),e.splice(0,e.length)}function ea(e){var t=e.domTarget;return t&&\"current\"in t?t.current:t}function U(e,t,n){e[t]||(e[t]=[]),e[t].push(n)}function ta(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={});for(var r,a=Ht(t);!(r=a()).done;){var i=r.value;e.addEventListener(i[0],i[1],n)}}function wt(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={});for(var r,a=Ht(t);!(r=a()).done;){var i=r.value;e.removeEventListener(i[0],i[1],n)}}function Le(e,t,n){n===void 0&&(n={});var r=function(i){var o=new Set;return i.drag&&o.add(te.get(\"drag\")),i.wheel&&o.add(te.get(\"wheel\")),i.scroll&&o.add(te.get(\"scroll\")),i.move&&o.add(te.get(\"move\")),i.pinch&&o.add(te.get(\"pinch\")),i.hover&&o.add(te.get(\"hover\")),o}(e),a=Or.useMemo(function(){return new To(r)},[]);return a.config=t,a.handlers=e,a.nativeRefs=n,Or.useEffect(a.effect,[]),a.config.domTarget?Io:a.bind}function Io(){}var Dt=function(e){function t(){return e.apply(this,arguments)||this}Be(t,e);var n=t.prototype;return n.getInternalMovement=function(r,a){return gt(r,a.initial)},n.checkIntentionality=function(r,a){if(r[0]===!1&&r[1]===!1)return{_intentional:r,axis:this.state.axis};var i=a.map(Math.abs),o=i[0],s=i[1],u=this.state.axis||(o>s?\"x\":o<s?\"y\":void 0);return this.config.axis||this.config.lockDirection?u?this.config.axis&&u!==this.config.axis?{_intentional:r,_blocked:!0,axis:u}:(r[u===\"x\"?1:0]=!1,{_intentional:r,_blocked:!1,axis:u}):{_intentional:[!1,!1],_blocked:!1,axis:u}:{_intentional:r,_blocked:!1,axis:u}},n.getKinematics=function(r,a){var i=this.getMovement(r);return i._blocked||Object.assign(i,Cr(i.movement,i.delta,a.timeStamp-this.state.timeStamp)),i},n.mapStateValues=function(r){return{xy:r.values,vxvy:r.velocities}},t}(Ur);function na(e){\"persist\"in e&&typeof e.persist==\"function\"&&e.persist()}var ra=function(e){function t(){var r;return(r=e.apply(this,arguments)||this).ingKey=\"dragging\",r.stateKey=\"drag\",r.setPointerCapture=function(a){if(!r.config.useTouch&&!document.pointerLockElement){var i=a.target,o=a.pointerId;i&&\"setPointerCapture\"in i&&i.setPointerCapture(o),r.updateGestureState({_dragTarget:i,_dragPointerId:o})}},r.releasePointerCapture=function(){if(!r.config.useTouch&&!document.pointerLockElement){var a=r.state,i=a._dragTarget,o=a._dragPointerId;if(o&&i&&\"releasePointerCapture\"in i&&(!(\"hasPointerCapture\"in i)||i.hasPointerCapture(o)))try{i.releasePointerCapture(o)}catch(s){}}},r.preventScroll=function(a){r.state._dragPreventScroll&&a.cancelable&&a.preventDefault()},r.getEventId=function(a){return r.config.useTouch?a.changedTouches[0].identifier:a.pointerId},r.isValidEvent=function(a){return r.state._pointerId===r.getEventId(a)},r.shouldPreventWindowScrollY=r.config.experimental_preventWindowScrollY&&r.controller.supportsTouchEvents,r.setUpWindowScrollDetection=function(a){na(a),Ao(r.controller,r.stateKey,[[\"touchmove\",r.preventScroll],[\"touchend\",r.clean.bind(B(r))],[\"touchcancel\",r.clean.bind(B(r))]],{passive:!1}),r.setTimeout(r.startDrag.bind(B(r)),250,a)},r.setUpDelayedDragTrigger=function(a){r.state._dragDelayed=!0,na(a),r.setTimeout(r.startDrag.bind(B(r)),r.config.delay,a)},r.setStartState=function(a){var i=tt(a,r.transform);r.updateSharedState(de(a)),r.updateGestureState(G({},Ve(B(r),i,a),Z(B(r),a,!0),{_pointerId:r.getEventId(a)})),r.updateGestureState(r.getMovement(i))},r.onDragStart=function(a){Zr(r.controller,a),r.enabled&&!r.state._active&&(r.setStartState(a),r.setPointerCapture(a),r.shouldPreventWindowScrollY?r.setUpWindowScrollDetection(a):r.config.delay>0?r.setUpDelayedDragTrigger(a):r.startDrag(a,!0))},r.onDragChange=function(a){if(!r.state.canceled&&r.state._active&&r.isValidEvent(a)&&(r.state._lastEventType!==a.type||a.timeStamp!==r.state.timeStamp)){var i;i=document.pointerLockElement?vt(r.transform([a.movementX,a.movementY]),r.state.values):tt(a,r.transform);var o=r.getKinematics(i,a);if(!r.state._dragStarted){if(r.state._dragDelayed)return void r.startDrag(a);if(!r.shouldPreventWindowScrollY||r.state._dragPreventScroll||!o.axis)return;if(o.axis!==\"x\")return void(r.state._active=!1);r.startDrag(a)}var s=de(a);r.updateSharedState(s);var u=Z(B(r),a),d=bt(o._movement),f=r.state._dragIsTap;f&&d>=3&&(f=!1),r.updateGestureState(G({},u,o,{_dragIsTap:f})),r.fireGestureHandler()}},r.onDragEnd=function(a){if(Qr(r.controller,a),r.isValidEvent(a)&&(r.clean(),r.state._active)){r.state._active=!1;var i=r.state._dragIsTap,o=r.state.velocities,s=o[0],u=o[1],d=r.state.movement,f=d[0],c=d[1],m=r.state._intentional,v=m[0],g=m[1],y=r.config.swipeVelocity,P=y[0],A=y[1],j=r.config.swipeDistance,N=j[0],b=j[1],h=r.config.swipeDuration,M=G({},Z(B(r),a),r.getMovement(r.state.values)),p=[0,0];M.elapsedTime<h&&(v!==!1&&Math.abs(s)>P&&Math.abs(f)>N&&(p[0]=qt(s)),g!==!1&&Math.abs(u)>A&&Math.abs(c)>b&&(p[1]=qt(u))),r.updateSharedState({buttons:0}),r.updateGestureState(G({},M,{tap:i,swipe:p})),r.fireGestureHandler(r.config.filterTaps&&i===!0)}},r.clean=function(){e.prototype.clean.call(B(r)),r.state._dragStarted=!1,r.releasePointerCapture(),ko(r.controller,r.stateKey)},r.onCancel=function(){r.state.canceled||(r.updateGestureState({canceled:!0,_active:!1}),r.updateSharedState({buttons:0}),setTimeout(function(){return r.fireGestureHandler()},0))},r.onClick=function(a){r.state._dragIsTap||a.stopPropagation()},r}Be(t,e);var n=t.prototype;return n.startDrag=function(r,a){a===void 0&&(a=!1),this.state._active&&!this.state._dragStarted&&(a||this.setStartState(r),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())},n.addBindings=function(r){this.config.useTouch?(U(r,\"onTouchStart\",this.onDragStart),U(r,\"onTouchMove\",this.onDragChange),U(r,\"onTouchEnd\",this.onDragEnd),U(r,\"onTouchCancel\",this.onDragEnd)):(U(r,\"onPointerDown\",this.onDragStart),U(r,\"onPointerMove\",this.onDragChange),U(r,\"onPointerUp\",this.onDragEnd),U(r,\"onPointerCancel\",this.onDragEnd)),this.config.filterTaps&&U(r,this.controller.config.eventOptions.capture?\"onClick\":\"onClickCapture\",this.onClick)},t}(Dt);function rt(e,t){var n,r,a=[],i=!1;return function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return i&&n===this&&t(s,a)||(r=e.apply(this,s),i=!0,n=this,a=s),r}}function at(e,t){try{return function n(r,a){if(r===a)return!0;if(r&&a&&typeof r==\"object\"&&typeof a==\"object\"){if(r.constructor!==a.constructor)return!1;var i,o,s,u;if(Array.isArray(r)){if((i=r.length)!==a.length)return!1;for(o=i;o--!=0;)if(!n(r[o],a[o]))return!1;return!0}if(typeof Map==\"function\"&&r instanceof Map&&a instanceof Map){if(r.size!==a.size)return!1;for(u=r.entries();!(o=u.next()).done;)if(!a.has(o.value[0]))return!1;for(u=r.entries();!(o=u.next()).done;)if(!n(o.value[1],a.get(o.value[0])))return!1;return!0}if(typeof Set==\"function\"&&r instanceof Set&&a instanceof Set){if(r.size!==a.size)return!1;for(u=r.entries();!(o=u.next()).done;)if(!a.has(o.value[0]))return!1;return!0}if(r.constructor===RegExp)return r.source===a.source&&r.flags===a.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===a.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===a.toString();if((i=(s=Object.keys(r)).length)!==Object.keys(a).length)return!1;for(o=i;o--!=0;)if(!Object.prototype.hasOwnProperty.call(a,s[o]))return!1;if(typeof Element!=\"undefined\"&&r instanceof Element)return!1;for(o=i;o--!=0;)if(!(s[o]===\"_owner\"&&r.$$typeof||n(r[s[o]],a[s[o]])))return!1;return!0}return r!=r&&a!=a}(e,t)}catch(n){if((n.message||\"\").match(/stack|recursion/i))return console.warn(\"react-fast-compare cannot handle circular refs\"),!1;throw n}}var aa=function(e){function t(){var n;return(n=e.apply(this,arguments)||this).ingKey=\"pinching\",n.stateKey=\"pinch\",n.onPinchStart=function(r){Zr(n.controller,r);var a=n.controller.touchIds;if(n.enabled&&!(n.state._active&&n.state._pointerIds.every(function(d){return a.has(d)})||a.size<2)){var i=Array.from(a).slice(0,2),o=Br(r,i,n.transform),s=o.values,u=o.origin;n.updateSharedState(de(r)),n.updateGestureState(G({},Ve(B(n),s,r),Z(B(n),r,!0),{_pointerIds:i,cancel:n.onCancel,origin:u})),n.updateGestureState(n.getMovement(s)),n.fireGestureHandler()}},n.onPinchChange=function(r){var a=n.state;if(!a.canceled&&a._active&&r.timeStamp!==n.state.timeStamp){var i=de(r);n.updateSharedState(i);try{var o=Br(r,n.state._pointerIds,n.transform),s=o.origin,u=n.getKinematics(o.values,r);n.updateGestureState(G({},Z(B(n),r),u,{origin:s})),n.fireGestureHandler()}catch(d){n.onPinchEnd(r)}}},n.onPinchEnd=function(r){Qr(n.controller,r);var a=Hn(r);n.state._pointerIds.every(function(i){return!a.includes(i)})||(n.clean(),n.state._active&&(n.updateGestureState(G({},Z(B(n),r),n.getMovement(n.state.values),{_active:!1})),n.fireGestureHandler()))},n.onCancel=function(){n.state.canceled||(n.updateGestureState({_active:!1,canceled:!0}),setTimeout(function(){return n.fireGestureHandler()},0))},n.onGestureStart=function(r){if(n.enabled){r.preventDefault();var a=Kr(r,n.transform);n.updateSharedState(de(r)),n.updateGestureState(G({},Ve(B(n),a,r),Z(B(n),r,!0),{origin:[r.clientX,r.clientY],cancel:n.onCancel})),n.updateGestureState(n.getMovement(a)),n.fireGestureHandler()}},n.onGestureChange=function(r){var a=n.state;if(!a.canceled&&a._active){r.preventDefault();var i=de(r);n.updateSharedState(i);var o=Kr(r,n.transform);o[0]=260*(o[0]-n.state.event.scale)+n.state.values[0];var s=n.getKinematics(o,r);n.updateGestureState(G({},Z(B(n),r),s,{origin:[r.clientX,r.clientY]})),n.fireGestureHandler()}},n.onGestureEnd=function(r){n.clean(),n.state._active&&(n.updateGestureState(G({},Z(B(n),r),n.getMovement(n.state.values),{_active:!1,origin:[r.clientX,r.clientY]})),n.fireGestureHandler())},n.wheelShouldRun=function(r){return n.enabled&&r.ctrlKey},n.getWheelValuesFromEvent=function(r){var a=Wr(r,n.transform),i=n.state.values,o=i[1],s=7*-a[1],u=o!==void 0?o:0;return{values:[i[0]+s,u],origin:[r.clientX,r.clientY],delta:[s,u]}},n.onWheel=function(r){n.wheelShouldRun(r)&&(n.setTimeout(n.onWheelEnd),n.state._active?n.onWheelChange(r):n.onWheelStart(r))},n.onWheelStart=function(r){var a=n.getWheelValuesFromEvent(r),i=a.values,o=a.delta,s=a.origin;r.cancelable&&r.preventDefault(),n.updateSharedState(de(r)),n.updateGestureState(G({},Ve(B(n),i,r,n.state.values),Z(B(n),r,!0),{offset:i,delta:o,origin:s})),n.updateGestureState(n.getMovement(i)),n.fireGestureHandler()},n.onWheelChange=function(r){r.cancelable&&r.preventDefault(),n.updateSharedState(de(r));var a=n.getWheelValuesFromEvent(r),i=a.values,o=a.origin,s=a.delta;n.updateGestureState(G({},Z(B(n),r),n.getKinematics(i,r),{origin:o,delta:s})),n.fireGestureHandler()},n.onWheelEnd=function(){n.clean(),n.state._active&&(n.state._active=!1,n.updateGestureState(n.getMovement(n.state.values)),n.fireGestureHandler())},n}return Be(t,e),t.prototype.addBindings=function(n){this.controller.config.domTarget&&!this.controller.supportsTouchEvents&&this.controller.supportsGestureEvents?(U(n,\"onGestureStart\",this.onGestureStart),U(n,\"onGestureChange\",this.onGestureChange),U(n,\"onGestureEnd\",this.onGestureEnd)):(U(n,\"onTouchStart\",this.onPinchStart),U(n,\"onTouchMove\",this.onPinchChange),U(n,\"onTouchEnd\",this.onPinchEnd),U(n,\"onTouchCancel\",this.onPinchEnd),U(n,\"onWheel\",this.onWheel))},t}(function(e){function t(){return e.apply(this,arguments)||this}Be(t,e);var n=t.prototype;return n.getInternalMovement=function(r,a){var i=a.values[1],o=r[0],s=r[1],u=s===void 0?i:s,d=u-i,f=a.turns;return Math.abs(d)>270&&(f+=qt(d)),gt([o,u-360*f],a.initial)},n.getKinematics=function(r,a){var i=this.getMovement(r);return G({turns:(r[1]-i._movement[1]-this.state.initial[1])/360},i,We(Cr(i.movement,i.delta,a.timeStamp-this.state.timeStamp),[\"distance\",\"velocity\"]))},n.mapStateValues=function(r){return{da:r.values,vdva:r.velocities}},t}(Ur)),ia=function(e){function t(){var n;return(n=e.apply(this,arguments)||this).ingKey=\"wheeling\",n.stateKey=\"wheel\",n.debounced=!0,n.handleEvent=function(r){if((!r.ctrlKey||!(\"pinch\"in n.controller.handlers))&&n.enabled){n.setTimeout(n.onEnd),n.updateSharedState(de(r));var a=vt(Wr(r,n.transform),n.state.values);if(n.state._active)n.updateGestureState(G({},Z(B(n),r),n.getKinematics(a,r)));else{n.updateGestureState(G({},Ve(B(n),a,r,n.state.values),Z(B(n),r,!0)));var i=n.getMovement(a),o=Ir(i.delta);n.updateGestureState(i),n.updateGestureState(o)}n.fireGestureHandler()}},n.onEnd=function(){if(n.clean(),n.state._active){var r=n.getMovement(n.state.values);n.updateGestureState(r),n.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),n.fireGestureHandler()}},n}return Be(t,e),t.prototype.addBindings=function(n){U(n,\"onWheel\",this.handleEvent)},t}(Dt),Ft=function(e){function t(){var n;return(n=e.apply(this,arguments)||this).ingKey=\"moving\",n.stateKey=\"move\",n.debounced=!0,n.onMove=function(r){n.enabled&&(n.setTimeout(n.onMoveEnd),n.state._active?n.onMoveChange(r):n.onMoveStart(r))},n.onMoveStart=function(r){n.updateSharedState(de(r));var a=tt(r,n.transform);n.updateGestureState(G({},Ve(B(n),a,r),Z(B(n),r,!0))),n.updateGestureState(n.getMovement(a)),n.fireGestureHandler()},n.onMoveChange=function(r){n.updateSharedState(de(r));var a=tt(r,n.transform);n.updateGestureState(G({},Z(B(n),r),n.getKinematics(a,r))),n.fireGestureHandler()},n.onMoveEnd=function(){n.clean(),n.state._active&&(n.updateGestureState(n.getMovement(n.state.values)),n.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),n.fireGestureHandler())},n.hoverTransform=function(){return n.controller.config.hover.transform||n.controller.config.transform},n.onPointerEnter=function(r){if(n.controller.state.shared.hovering=!0,n.controller.config.enabled){if(n.controller.config.hover.enabled){var a=tt(r,n.hoverTransform()),i=G({},n.controller.state.shared,n.state,Z(B(n),r,!0),{args:n.args,values:a,active:!0,hovering:!0});n.controller.handlers.hover(G({},i,n.mapStateValues(i)))}\"move\"in n.controller.handlers&&n.onMoveStart(r)}},n.onPointerLeave=function(r){if(n.controller.state.shared.hovering=!1,\"move\"in n.controller.handlers&&n.onMoveEnd(),n.controller.config.hover.enabled){var a=tt(r,n.hoverTransform()),i=G({},n.controller.state.shared,n.state,Z(B(n),r),{args:n.args,values:a,active:!1});n.controller.handlers.hover(G({},i,n.mapStateValues(i)))}},n}return Be(t,e),t.prototype.addBindings=function(n){\"move\"in this.controller.handlers&&U(n,\"onPointerMove\",this.onMove),\"hover\"in this.controller.handlers&&(U(n,\"onPointerEnter\",this.onPointerEnter),U(n,\"onPointerLeave\",this.onPointerLeave))},t}(Dt),oa=function(e){function t(){var n;return(n=e.apply(this,arguments)||this).ingKey=\"scrolling\",n.stateKey=\"scroll\",n.debounced=!0,n.handleEvent=function(r){if(n.enabled){n.clearTimeout(),n.setTimeout(n.onEnd);var a=po(r,n.transform);if(n.updateSharedState(de(r)),n.state._active)n.updateGestureState(G({},Z(B(n),r),n.getKinematics(a,r)));else{n.updateGestureState(G({},Ve(B(n),a,r,n.state.values),Z(B(n),r,!0)));var i=n.getMovement(a),o=Ir(i.delta);n.updateGestureState(i),n.updateGestureState(o)}n.fireGestureHandler()}},n.onEnd=function(){n.clean(),n.state._active&&(n.updateGestureState(G({},n.getMovement(n.state.values),{_active:!1,velocities:[0,0],velocity:0})),n.fireGestureHandler())},n}return Be(t,e),t.prototype.addBindings=function(n){U(n,\"onScroll\",this.handleEvent)},t}(Dt),Co=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function jt(e,t){var n=t+\"Start\",r=t+\"End\";return function(a){var i=void 0;return a.first&&n in e&&e[n](a),t in e&&(i=e[t](a)),a.last&&r in e&&e[r](a),i}}me.addV=vt,me.rubberbandIfOutOfBounds=qn,me.subV=gt,me.useDrag=function(e,t){t===void 0&&(t={}),te.set(\"drag\",ra);var n=Fe.useRef();return n.current||(n.current=rt(wo,at)),Le({drag:e},n.current(t))},me.useGesture=function(e,t){t===void 0&&(t={});var n=function(u){var d={},f={},c=new Set;for(var m in u)Co.test(m)?(c.add(RegExp.lastMatch),f[m]=u[m]):d[m]=u[m];return[f,d,c]}(e),r=n[0],a=n[1],i=n[2];te.set(\"drag\",ra),te.set(\"hover\",Ft),te.set(\"move\",Ft),te.set(\"pinch\",aa),te.set(\"scroll\",oa),te.set(\"wheel\",ia);var o=function(u,d){u===void 0&&(u={}),d===void 0&&(d=new Set);var f=u.drag,c=u.wheel,m=u.move,v=u.scroll,g=u.pinch,y=u.hover,P=Ke({domTarget:u.domTarget,eventOptions:u.eventOptions,transform:u.transform,window:u.window,enabled:u.enabled});return d.has(\"onDrag\")&&(P.drag=zr(f)),d.has(\"onWheel\")&&(P.wheel=nt(c)),d.has(\"onScroll\")&&(P.scroll=nt(v)),d.has(\"onMove\")&&(P.move=nt(m)),d.has(\"onPinch\")&&(P.pinch=Lr(g)),d.has(\"onHover\")&&(P.hover=G({enabled:!0},y)),P}(t,i),s={};return i.has(\"onDrag\")&&(s.drag=jt(r,\"onDrag\")),i.has(\"onWheel\")&&(s.wheel=jt(r,\"onWheel\")),i.has(\"onScroll\")&&(s.scroll=jt(r,\"onScroll\")),i.has(\"onMove\")&&(s.move=jt(r,\"onMove\")),i.has(\"onPinch\")&&(s.pinch=jt(r,\"onPinch\")),i.has(\"onHover\")&&(s.hover=r.onHover),Le(s,o,a)},me.useHover=function(e,t){t===void 0&&(t={}),te.set(\"hover\",Ft);var n=Fe.useRef();return n.current||(n.current=rt(Po,at)),Le({hover:e},n.current(t))},me.useMove=function(e,t){t===void 0&&(t={}),te.set(\"move\",Ft);var n=Fe.useRef();return n.current||(n.current=rt(Mo,at)),Le({move:e},n.current(t))},me.usePinch=function(e,t){t===void 0&&(t={}),te.set(\"pinch\",aa);var n=Fe.useRef();return n.current||(n.current=rt(jo,at)),Le({pinch:e},n.current(t))},me.useScroll=function(e,t){t===void 0&&(t={}),te.set(\"scroll\",oa);var n=Fe.useRef();return n.current||(n.current=rt(xo,at)),Le({scroll:e},n.current(t))},me.useWheel=function(e,t){t===void 0&&(t={}),te.set(\"wheel\",ia);var n=Fe.useRef();return n.current||(n.current=rt(No,at)),Le({wheel:e},n.current(t))}});var ca=E((Bs,ua)=>{\"use strict\";ua.exports=sa()});var re=E((Bt,fa)=>{(function(e,t){typeof Bt==\"object\"&&typeof fa!=\"undefined\"?t(Bt):typeof define==\"function\"&&define.amd?define([\"exports\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Core={}))})(Bt,function(e){\"use strict\";var t=function(x,k){return Array(Math.abs(k)+1).join(x)};function n(x,k,q){return function(){for(var H=[],R=0;R<arguments.length;R++)H[R]=arguments[R];return console.warn(x+\" is deprecated. Use \"+k+\".\"),q.apply(this,H)}}function r(x){return x!==null&&typeof x==\"object\"&&typeof x.name==\"string\"}function a(x){return x!==null&&typeof x==\"object\"&&typeof x.step==\"number\"&&typeof x.alt==\"number\"}var i=[0,2,4,-1,1,3,5],o=i.map(function(x){return Math.floor(x*7/12)});function s(x){var k=x.step,q=x.alt,H=x.oct,R=x.dir,I=R===void 0?1:R,z=i[k]+7*q;if(H===void 0)return[I*z];var ee=H-o[k]-4*q;return[I*z,I*ee]}var u=[3,0,4,1,5,2,6];function d(x){var k=x[0],q=x[1],H=x[2],R=u[f(k)],I=Math.floor((k+1)/7);if(q===void 0)return{step:R,alt:I,dir:H};var z=q+4*I+o[R];return{step:R,alt:I,oct:z,dir:H}}function f(x){var k=(x+1)%7;return k<0?7+k:k}var c={empty:!0,name:\"\",pc:\"\",acc:\"\"},m=new Map,v=function(x){return\"CDEFGAB\".charAt(x)},g=function(x){return x<0?t(\"b\",-x):t(\"#\",x)},y=function(x){return x[0]===\"b\"?-x.length:x.length};function P(x){var k=m.get(x);if(k)return k;var q=typeof x==\"string\"?M(x):a(x)?P(p(x)):r(x)?P(x.name):c;return m.set(x,q),q}var A=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\\d*)\\s*(.*)$/;function j(x){var k=A.exec(x);return[k[1].toUpperCase(),k[2].replace(/x/g,\"##\"),k[3],k[4]]}function N(x){return P(d(x))}var b=function(x,k){return(x%k+k)%k},h=[0,2,4,5,7,9,11];function M(x){var k=j(x);if(k[0]===\"\"||k[3]!==\"\")return c;var q=k[0],H=k[1],R=k[2],I=(q.charCodeAt(0)+3)%7,z=y(H),ee=R.length?+R:void 0,fe=s({step:I,alt:z,oct:ee}),lt=q+H+R,$e=q+H,ft=(h[I]+z+120)%12,qe=ee===void 0?b(h[I]+z,12)-12*99:h[I]+z+12*(ee+1),xn=qe>=0&&qe<=127?qe:null,Nn=ee===void 0?null:Math.pow(2,(qe-69)/12)*440;return{empty:!1,acc:H,alt:z,chroma:ft,coord:fe,freq:Nn,height:qe,letter:q,midi:xn,name:lt,oct:ee,pc:$e,step:I}}function p(x){var k=x.step,q=x.alt,H=x.oct,R=v(k);if(!R)return\"\";var I=R+g(q);return H||H===0?I+H:I}var w={empty:!0,name:\"\",acc:\"\"},T=\"([-+]?\\\\d+)(d{1,4}|m|M|P|A{1,4})\",O=\"(AA|A|P|M|m|d|dd)([-+]?\\\\d+)\",D=new RegExp(\"^\"+T+\"|\"+O+\"$\");function K(x){var k=D.exec(\"\"+x);return k===null?[\"\",\"\"]:k[1]?[k[1],k[2]]:[k[4],k[3]]}var Q={};function X(x){return typeof x==\"string\"?Q[x]||(Q[x]=W(x)):a(x)?X(Y(x)):r(x)?X(x.name):w}var _=[0,2,4,5,7,9,11],C=\"PMMPPMM\";function W(x){var k=K(x);if(k[0]===\"\")return w;var q=+k[0],H=k[1],R=(Math.abs(q)-1)%7,I=C[R];if(I===\"M\"&&H===\"P\")return w;var z=I===\"M\"?\"majorable\":\"perfectable\",ee=\"\"+q+H,fe=q<0?-1:1,lt=q===8||q===-8?q:fe*(R+1),$e=F(z,H),ft=Math.floor((Math.abs(q)-1)/7),qe=fe*(_[R]+$e+12*ft),xn=(fe*(_[R]+$e)%12+12)%12,Nn=s({step:R,alt:$e,oct:ft,dir:fe});return{empty:!1,name:ee,num:q,q:H,step:R,alt:$e,dir:fe,type:z,simple:lt,semitones:qe,chroma:xn,coord:Nn,oct:ft}}function S(x){var k=x[0],q=x[1],H=q===void 0?0:q,R=k*7+H*12<0,I=R?[-k,-H,-1]:[k,H,1];return X(d(I))}function F(x,k){return k===\"M\"&&x===\"majorable\"||k===\"P\"&&x===\"perfectable\"?0:k===\"m\"&&x===\"majorable\"?-1:/^A+$/.test(k)?k.length:/^d+$/.test(k)?-1*(x===\"perfectable\"?k.length:k.length+1):0}function Y(x){var k=x.step,q=x.alt,H=x.oct,R=H===void 0?0:H,I=x.dir;if(!I)return\"\";var z=k+1+7*R,ee=I<0?\"-\":\"\",fe=C[k]===\"M\"?\"majorable\":\"perfectable\",lt=ee+z+J(fe,q);return lt}function J(x,k){return k===0?x===\"majorable\"?\"M\":\"P\":k===-1&&x===\"majorable\"?\"m\":k>0?t(\"A\",k):t(\"d\",x===\"perfectable\"?k:k+1)}function Pe(x,k){var q=P(x),H=X(k);if(q.empty||H.empty)return\"\";var R=q.coord,I=H.coord,z=R.length===1?[R[0]+I[0]]:[R[0]+I[0],R[1]+I[1]];return N(z).name}function ve(x,k){var q=P(x),H=P(k);if(q.empty||H.empty)return\"\";var R=q.coord,I=H.coord,z=I[0]-R[0],ee=R.length===2&&I.length===2?I[1]-R[1]:-Math.floor(z*7/12);return S([z,ee]).name}e.accToAlt=y,e.altToAcc=g,e.coordToInterval=S,e.coordToNote=N,e.decode=d,e.deprecate=n,e.distance=ve,e.encode=s,e.fillStr=t,e.interval=X,e.isNamed=r,e.isPitch=a,e.note=P,e.stepToLetter=v,e.tokenizeInterval=K,e.tokenizeNote=j,e.transpose=Pe,Object.defineProperty(e,\"__esModule\",{value:!0})})});var ma=E((Wt,da)=>{(function(e,t){typeof Wt==\"object\"&&typeof da!=\"undefined\"?t(Wt,re()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.AbcNotation={},e.core))})(Wt,function(e,t){\"use strict\";var n=function(f,c){return Array(c+1).join(f)},r=/^(_{1,}|=|\\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function a(f){var c=r.exec(f);return c?[c[1],c[2],c[3]]:[\"\",\"\",\"\"]}function i(f){var c=a(f),m=c[0],v=c[1],g=c[2];if(v===\"\")return\"\";for(var y=4,P=0;P<g.length;P++)y+=g.charAt(P)===\",\"?-1:1;var A=m[0]===\"_\"?m.replace(/_/g,\"b\"):m[0]===\"^\"?m.replace(/\\^/g,\"#\"):\"\";return v.charCodeAt(0)>96?v.toUpperCase()+A+(y+1):v+A+y}function o(f){var c=t.note(f);if(c.empty||!c.oct&&c.oct!==0)return\"\";var m=c.letter,v=c.acc,g=c.oct,y=v[0]===\"b\"?v.replace(/b/g,\"_\"):v.replace(/#/g,\"^\"),P=g>4?m.toLowerCase():m,A=g===5?\"\":g>4?n(\"'\",g-5):n(\",\",4-g);return y+P+A}function s(f,c){return o(t.transpose(i(f),c))}function u(f,c){return t.distance(i(f),i(c))}var d={abcToScientificNotation:i,scientificToAbcNotation:o,tokenize:a,transpose:s,distance:u};e.abcToScientificNotation=i,e.default=d,e.distance=u,e.scientificToAbcNotation=o,e.tokenize=a,e.transpose=s,Object.defineProperty(e,\"__esModule\",{value:!0})})});var pa=E((Kt,ha)=>{(function(e,t){typeof Kt==\"object\"&&typeof ha!=\"undefined\"?t(Kt,re()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Array={},e.core))})(Kt,function(e,t){\"use strict\";function n(c,m){for(var v=[];m--;v[m]=m+c);return v}function r(c,m){for(var v=[];m--;v[m]=c-m);return v}function a(c,m){return c<m?n(c,m-c+1):r(c,c-m+1)}function i(c,m){var v=m.length,g=(c%v+v)%v;return m.slice(g,v).concat(m.slice(0,g))}function o(c){return c.filter(function(m){return m===0||m})}function s(c){var m=c.map(function(v){return t.note(v)}).filter(function(v){return!v.empty});return m.sort(function(v,g){return v.height-g.height}).map(function(v){return v.name})}function u(c){return s(c).filter(function(m,v,g){return v===0||m!==g[v-1]})}function d(c,m){m===void 0&&(m=Math.random);for(var v,g,y=c.length;y;)v=Math.floor(m()*y--),g=c[y],c[y]=c[v],c[v]=g;return c}function f(c){return c.length===0?[[]]:f(c.slice(1)).reduce(function(m,v){return m.concat(c.map(function(g,y){var P=v.slice();return P.splice(y,0,c[0]),P}))},[])}e.compact=o,e.permutations=f,e.range=a,e.rotate=i,e.shuffle=d,e.sortedNoteNames=s,e.sortedUniqNoteNames=u,Object.defineProperty(e,\"__esModule\",{value:!0})})});var it=E((Vt,va)=>{(function(e,t){typeof Vt==\"object\"&&typeof va!=\"undefined\"?t(Vt):typeof define==\"function\"&&define.amd?define([\"exports\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Collection={}))})(Vt,function(e){\"use strict\";function t(d,f){for(var c=[];f--;c[f]=f+d);return c}function n(d,f){for(var c=[];f--;c[f]=d-f);return c}function r(d,f){return d<f?t(d,f-d+1):n(d,d-f+1)}function a(d,f){var c=f.length,m=(d%c+c)%c;return f.slice(m,c).concat(f.slice(0,m))}function i(d){return d.filter(function(f){return f===0||f})}function o(d,f){f===void 0&&(f=Math.random);for(var c,m,v=d.length;v;)c=Math.floor(f()*v--),m=d[v],d[v]=d[c],d[c]=m;return d}function s(d){return d.length===0?[[]]:s(d.slice(1)).reduce(function(f,c){return f.concat(d.map(function(m,v){var g=c.slice();return g.splice(v,0,d[0]),g}))},[])}var u={compact:i,permutations:s,range:r,rotate:a,shuffle:o};e.compact=i,e.default=u,e.permutations=s,e.range=r,e.rotate=a,e.shuffle=o,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Ie=E((Lt,ga)=>{(function(e,t){typeof Lt==\"object\"&&typeof ga!=\"undefined\"?t(Lt,it(),re()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/core\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Pcset={},e.collection,e.core))})(Lt,function(e,t,n){\"use strict\";var r,a={empty:!0,name:\"\",setNum:0,chroma:\"000000000000\",normalized:\"000000000000\",intervals:[]},i=function(_){return Number(_).toString(2)},o=function(_){return parseInt(_,2)},s=/^[01]{12}$/;function u(_){return s.test(_)}var d=function(_){return typeof _==\"number\"&&_>=0&&_<=4095},f=function(_){return _&&u(_.chroma)},c=(r={},r[a.chroma]=a,r);function m(_){var C=u(_)?_:d(_)?i(_):Array.isArray(_)?X(_):f(_)?_.chroma:a.chroma;return c[C]=c[C]||Q(C)}var v=n.deprecate(\"Pcset.pcset\",\"Pcset.get\",m),g=function(_){return m(_).chroma},y=function(_){return m(_).intervals},P=function(_){return m(_).setNum},A=[\"1P\",\"2m\",\"2M\",\"3m\",\"3M\",\"4P\",\"5d\",\"5P\",\"6m\",\"6M\",\"7m\",\"7M\"];function j(_){for(var C=[],W=0;W<12;W++)_.charAt(W)===\"1\"&&C.push(A[W]);return C}function N(){return t.range(2048,4095).map(i)}function b(_,C){C===void 0&&(C=!0);var W=m(_),S=W.chroma.split(\"\");return t.compact(S.map(function(F,Y){var J=t.rotate(Y,S);return C&&J[0]===\"0\"?null:J.join(\"\")}))}function h(_,C){return m(_).setNum===m(C).setNum}function M(_){var C=m(_).setNum;return function(W){var S=m(W).setNum;return C&&C!==S&&(S&C)===S}}function p(_){var C=m(_).setNum;return function(W){var S=m(W).setNum;return C&&C!==S&&(S|C)===S}}function w(_){var C=m(_);return function(W){var S=n.note(W);return C&&!S.empty&&C.chroma.charAt(S.chroma)===\"1\"}}var T=w;function O(_){var C=w(_);return function(W){return W.filter(C)}}var D={get:m,chroma:g,num:P,intervals:y,chromas:N,isSupersetOf:p,isSubsetOf:M,isNoteIncludedIn:w,isEqual:h,filter:O,modes:b,pcset:v};function K(_){var C=_.split(\"\");return C.map(function(W,S){return t.rotate(S,C).join(\"\")})}function Q(_){var C=o(_),W=K(_).map(o).filter(function(Y){return Y>=2048}).sort()[0],S=i(W),F=j(_);return{empty:!1,name:\"\",setNum:C,chroma:_,normalized:S,intervals:F}}function X(_){if(_.length===0)return a.chroma;for(var C,W=[0,0,0,0,0,0,0,0,0,0,0,0],S=0;S<_.length;S++)C=n.note(_[S]),C.empty&&(C=n.interval(_[S])),C.empty||(W[C.chroma]=1);return W.join(\"\")}e.EmptyPcset=a,e.chromaToIntervals=j,e.chromas=N,e.default=D,e.filter=O,e.get=m,e.includes=T,e.isEqual=h,e.isNoteIncludedIn=w,e.isSubsetOf=M,e.isSupersetOf=p,e.modes=b,e.pcset=v,Object.defineProperty(e,\"__esModule\",{value:!0})})});var xt=E((zt,ba)=>{(function(e,t){typeof zt==\"object\"&&typeof ba!=\"undefined\"?t(zt,re(),Ie()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/pcset\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.ChordType={},e.core,e.pcset))})(zt,function(e,t,n){\"use strict\";var r=function(){return r=Object.assign||function(h){for(var M,p=1,w=arguments.length;p<w;p++){M=arguments[p];for(var T in M)Object.prototype.hasOwnProperty.call(M,T)&&(h[T]=M[T])}return h},r.apply(this,arguments)},a=[[\"1P 3M 5P\",\"major\",\"M ^ \"],[\"1P 3M 5P 7M\",\"major seventh\",\"maj7 \\u0394 ma7 M7 Maj7 ^7\"],[\"1P 3M 5P 7M 9M\",\"major ninth\",\"maj9 \\u03949 ^9\"],[\"1P 3M 5P 7M 9M 13M\",\"major thirteenth\",\"maj13 Maj13 ^13\"],[\"1P 3M 5P 6M\",\"sixth\",\"6 add6 add13 M6\"],[\"1P 3M 5P 6M 9M\",\"sixth/ninth\",\"6/9 69 M69\"],[\"1P 3M 6m 7M\",\"major seventh flat sixth\",\"M7b6 ^7b6\"],[\"1P 3M 5P 7M 11A\",\"major seventh sharp eleventh\",\"maj#4 \\u0394#4 \\u0394#11 M7#11 ^7#11 maj7#11\"],[\"1P 3m 5P\",\"minor\",\"m min -\"],[\"1P 3m 5P 7m\",\"minor seventh\",\"m7 min7 mi7 -7\"],[\"1P 3m 5P 7M\",\"minor/major seventh\",\"m/ma7 m/maj7 mM7 mMaj7 m/M7 -\\u03947 m\\u0394 -^7\"],[\"1P 3m 5P 6M\",\"minor sixth\",\"m6 -6\"],[\"1P 3m 5P 7m 9M\",\"minor ninth\",\"m9 -9\"],[\"1P 3m 5P 7M 9M\",\"minor/major ninth\",\"mM9 mMaj9 -^9\"],[\"1P 3m 5P 7m 9M 11P\",\"minor eleventh\",\"m11 -11\"],[\"1P 3m 5P 7m 9M 13M\",\"minor thirteenth\",\"m13 -13\"],[\"1P 3m 5d\",\"diminished\",\"dim \\xB0 o\"],[\"1P 3m 5d 7d\",\"diminished seventh\",\"dim7 \\xB07 o7\"],[\"1P 3m 5d 7m\",\"half-diminished\",\"m7b5 \\xF8 -7b5 h7 h\"],[\"1P 3M 5P 7m\",\"dominant seventh\",\"7 dom\"],[\"1P 3M 5P 7m 9M\",\"dominant ninth\",\"9\"],[\"1P 3M 5P 7m 9M 13M\",\"dominant thirteenth\",\"13\"],[\"1P 3M 5P 7m 11A\",\"lydian dominant seventh\",\"7#11 7#4\"],[\"1P 3M 5P 7m 9m\",\"dominant flat ninth\",\"7b9\"],[\"1P 3M 5P 7m 9A\",\"dominant sharp ninth\",\"7#9\"],[\"1P 3M 7m 9m\",\"altered\",\"alt7\"],[\"1P 4P 5P\",\"suspended fourth\",\"sus4 sus\"],[\"1P 2M 5P\",\"suspended second\",\"sus2\"],[\"1P 4P 5P 7m\",\"suspended fourth seventh\",\"7sus4 7sus\"],[\"1P 5P 7m 9M 11P\",\"eleventh\",\"11\"],[\"1P 4P 5P 7m 9m\",\"suspended fourth flat ninth\",\"b9sus phryg 7b9sus 7b9sus4\"],[\"1P 5P\",\"fifth\",\"5\"],[\"1P 3M 5A\",\"augmented\",\"aug + +5 ^#5\"],[\"1P 3m 5A\",\"minor augmented\",\"m#5 -#5 m+\"],[\"1P 3M 5A 7M\",\"augmented seventh\",\"maj7#5 maj7+5 +maj7 ^7#5\"],[\"1P 3M 5P 7M 9M 11A\",\"major sharp eleventh (lydian)\",\"maj9#11 \\u03949#11 ^9#11\"],[\"1P 2M 4P 5P\",\"\",\"sus24 sus4add9\"],[\"1P 3M 5A 7M 9M\",\"\",\"maj9#5 Maj9#5\"],[\"1P 3M 5A 7m\",\"\",\"7#5 +7 7+ 7aug aug7\"],[\"1P 3M 5A 7m 9A\",\"\",\"7#5#9 7#9#5 7alt\"],[\"1P 3M 5A 7m 9M\",\"\",\"9#5 9+\"],[\"1P 3M 5A 7m 9M 11A\",\"\",\"9#5#11\"],[\"1P 3M 5A 7m 9m\",\"\",\"7#5b9 7b9#5\"],[\"1P 3M 5A 7m 9m 11A\",\"\",\"7#5b9#11\"],[\"1P 3M 5A 9A\",\"\",\"+add#9\"],[\"1P 3M 5A 9M\",\"\",\"M#5add9 +add9\"],[\"1P 3M 5P 6M 11A\",\"\",\"M6#11 M6b5 6#11 6b5\"],[\"1P 3M 5P 6M 7M 9M\",\"\",\"M7add13\"],[\"1P 3M 5P 6M 9M 11A\",\"\",\"69#11\"],[\"1P 3m 5P 6M 9M\",\"\",\"m69 -69\"],[\"1P 3M 5P 6m 7m\",\"\",\"7b6\"],[\"1P 3M 5P 7M 9A 11A\",\"\",\"maj7#9#11\"],[\"1P 3M 5P 7M 9M 11A 13M\",\"\",\"M13#11 maj13#11 M13+4 M13#4\"],[\"1P 3M 5P 7M 9m\",\"\",\"M7b9\"],[\"1P 3M 5P 7m 11A 13m\",\"\",\"7#11b13 7b5b13\"],[\"1P 3M 5P 7m 13M\",\"\",\"7add6 67 7add13\"],[\"1P 3M 5P 7m 9A 11A\",\"\",\"7#9#11 7b5#9 7#9b5\"],[\"1P 3M 5P 7m 9A 11A 13M\",\"\",\"13#9#11\"],[\"1P 3M 5P 7m 9A 11A 13m\",\"\",\"7#9#11b13\"],[\"1P 3M 5P 7m 9A 13M\",\"\",\"13#9\"],[\"1P 3M 5P 7m 9A 13m\",\"\",\"7#9b13\"],[\"1P 3M 5P 7m 9M 11A\",\"\",\"9#11 9+4 9#4\"],[\"1P 3M 5P 7m 9M 11A 13M\",\"\",\"13#11 13+4 13#4\"],[\"1P 3M 5P 7m 9M 11A 13m\",\"\",\"9#11b13 9b5b13\"],[\"1P 3M 5P 7m 9m 11A\",\"\",\"7b9#11 7b5b9 7b9b5\"],[\"1P 3M 5P 7m 9m 11A 13M\",\"\",\"13b9#11\"],[\"1P 3M 5P 7m 9m 11A 13m\",\"\",\"7b9b13#11 7b9#11b13 7b5b9b13\"],[\"1P 3M 5P 7m 9m 13M\",\"\",\"13b9\"],[\"1P 3M 5P 7m 9m 13m\",\"\",\"7b9b13\"],[\"1P 3M 5P 7m 9m 9A\",\"\",\"7b9#9\"],[\"1P 3M 5P 9M\",\"\",\"Madd9 2 add9 add2\"],[\"1P 3M 5P 9m\",\"\",\"Maddb9\"],[\"1P 3M 5d\",\"\",\"Mb5\"],[\"1P 3M 5d 6M 7m 9M\",\"\",\"13b5\"],[\"1P 3M 5d 7M\",\"\",\"M7b5\"],[\"1P 3M 5d 7M 9M\",\"\",\"M9b5\"],[\"1P 3M 5d 7m\",\"\",\"7b5\"],[\"1P 3M 5d 7m 9M\",\"\",\"9b5\"],[\"1P 3M 7m\",\"\",\"7no5\"],[\"1P 3M 7m 13m\",\"\",\"7b13\"],[\"1P 3M 7m 9M\",\"\",\"9no5\"],[\"1P 3M 7m 9M 13M\",\"\",\"13no5\"],[\"1P 3M 7m 9M 13m\",\"\",\"9b13\"],[\"1P 3m 4P 5P\",\"\",\"madd4\"],[\"1P 3m 5P 6m 7M\",\"\",\"mMaj7b6\"],[\"1P 3m 5P 6m 7M 9M\",\"\",\"mMaj9b6\"],[\"1P 3m 5P 7m 11P\",\"\",\"m7add11 m7add4\"],[\"1P 3m 5P 9M\",\"\",\"madd9\"],[\"1P 3m 5d 6M 7M\",\"\",\"o7M7\"],[\"1P 3m 5d 7M\",\"\",\"oM7\"],[\"1P 3m 6m 7M\",\"\",\"mb6M7\"],[\"1P 3m 6m 7m\",\"\",\"m7#5\"],[\"1P 3m 6m 7m 9M\",\"\",\"m9#5\"],[\"1P 3m 5A 7m 9M 11P\",\"\",\"m11A\"],[\"1P 3m 6m 9m\",\"\",\"mb6b9\"],[\"1P 2M 3m 5d 7m\",\"\",\"m9b5\"],[\"1P 4P 5A 7M\",\"\",\"M7#5sus4\"],[\"1P 4P 5A 7M 9M\",\"\",\"M9#5sus4\"],[\"1P 4P 5A 7m\",\"\",\"7#5sus4\"],[\"1P 4P 5P 7M\",\"\",\"M7sus4\"],[\"1P 4P 5P 7M 9M\",\"\",\"M9sus4\"],[\"1P 4P 5P 7m 9M\",\"\",\"9sus4 9sus\"],[\"1P 4P 5P 7m 9M 13M\",\"\",\"13sus4 13sus\"],[\"1P 4P 5P 7m 9m 13m\",\"\",\"7sus4b9b13 7b9b13sus4\"],[\"1P 4P 7m 10m\",\"\",\"4 quartal\"],[\"1P 5P 7m 9m 11P\",\"\",\"11b9\"]],i=r(r({},n.EmptyPcset),{name:\"\",quality:\"Unknown\",intervals:[],aliases:[]}),o=[],s={};function u(b){return s[b]||i}var d=t.deprecate(\"ChordType.chordType\",\"ChordType.get\",u);function f(){return o.map(function(b){return b.name}).filter(function(b){return b})}function c(){return o.map(function(b){return b.aliases[0]}).filter(function(b){return b})}function m(){return Object.keys(s)}function v(){return o.slice()}var g=t.deprecate(\"ChordType.entries\",\"ChordType.all\",v);function y(){o=[],s={}}function P(b,h,M){var p=j(b),w=r(r({},n.get(b)),{name:M||\"\",quality:p,intervals:b,aliases:h});o.push(w),w.name&&(s[w.name]=w),s[w.setNum]=w,s[w.chroma]=w,w.aliases.forEach(function(T){return A(w,T)})}function A(b,h){s[h]=b}function j(b){var h=function(M){return b.indexOf(M)!==-1};return h(\"5A\")?\"Augmented\":h(\"3M\")?\"Major\":h(\"5d\")?\"Diminished\":h(\"3m\")?\"Minor\":\"Unknown\"}a.forEach(function(b){var h=b[0],M=b[1],p=b[2];return P(h.split(\" \"),p.split(\" \"),M)}),o.sort(function(b,h){return b.setNum-h.setNum});var N={names:f,symbols:c,get:u,all:v,add:P,removeAll:y,keys:m,entries:g,chordType:d};e.add=P,e.addAlias=A,e.all=v,e.chordType=d,e.default=N,e.entries=g,e.get=u,e.keys=m,e.names=f,e.removeAll=y,e.symbols=c,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Ma=E((Yt,ya)=>{(function(e,t){typeof Yt==\"object\"&&typeof ya!=\"undefined\"?t(Yt,xt(),re(),Ie()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/chord-type\",\"@tonaljs/core\",\"@tonaljs/pcset\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.ChordDetect={},e.chordType,e.core,e.pcset))})(Yt,function(e,t,n,r){\"use strict\";var a=function(u){var d=u.reduce(function(f,c){var m=n.note(c).chroma;return m!==void 0&&(f[m]=f[m]||n.note(c).name),f},{});return function(f){return d[f]}};function i(u){var d=u.map(function(c){return n.note(c).pc}).filter(function(c){return c});if(n.note.length===0)return[];var f=o(d,1);return f.filter(function(c){return c.weight}).sort(function(c,m){return m.weight-c.weight}).map(function(c){return c.name})}function o(u,d){var f=u[0],c=n.note(f).chroma,m=a(u),v=r.modes(u,!1),g=[];return v.forEach(function(y,P){var A=t.all().filter(function(j){return j.chroma===y});A.forEach(function(j){var N=j.aliases[0],b=m(P),h=P!==c;h?g.push({weight:.5*d,name:\"\"+b+N+\"/\"+f}):g.push({weight:1*d,name:\"\"+b+N})})}),g}var s={detect:i};e.default=s,e.detect=i,Object.defineProperty(e,\"__esModule\",{value:!0})})});var $t=E((Ut,Pa)=>{(function(e,t){typeof Ut==\"object\"&&typeof Pa!=\"undefined\"?t(Ut,re(),Ie()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/pcset\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.ScaleType={},e.core,e.pcset))})(Ut,function(e,t,n){\"use strict\";var r=function(){return r=Object.assign||function(N){for(var b,h=1,M=arguments.length;h<M;h++){b=arguments[h];for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(N[p]=b[p])}return N},r.apply(this,arguments)},a=[[\"1P 2M 3M 5P 6M\",\"major pentatonic\",\"pentatonic\"],[\"1P 3M 4P 5P 7M\",\"ionian pentatonic\"],[\"1P 3M 4P 5P 7m\",\"mixolydian pentatonic\",\"indian\"],[\"1P 2M 4P 5P 6M\",\"ritusen\"],[\"1P 2M 4P 5P 7m\",\"egyptian\"],[\"1P 3M 4P 5d 7m\",\"neopolitan major pentatonic\"],[\"1P 3m 4P 5P 6m\",\"vietnamese 1\"],[\"1P 2m 3m 5P 6m\",\"pelog\"],[\"1P 2m 4P 5P 6m\",\"kumoijoshi\"],[\"1P 2M 3m 5P 6m\",\"hirajoshi\"],[\"1P 2m 4P 5d 7m\",\"iwato\"],[\"1P 2m 4P 5P 7m\",\"in-sen\"],[\"1P 3M 4A 5P 7M\",\"lydian pentatonic\",\"chinese\"],[\"1P 3m 4P 6m 7m\",\"malkos raga\"],[\"1P 3m 4P 5d 7m\",\"locrian pentatonic\",\"minor seven flat five pentatonic\"],[\"1P 3m 4P 5P 7m\",\"minor pentatonic\",\"vietnamese 2\"],[\"1P 3m 4P 5P 6M\",\"minor six pentatonic\"],[\"1P 2M 3m 5P 6M\",\"flat three pentatonic\",\"kumoi\"],[\"1P 2M 3M 5P 6m\",\"flat six pentatonic\"],[\"1P 2m 3M 5P 6M\",\"scriabin\"],[\"1P 3M 5d 6m 7m\",\"whole tone pentatonic\"],[\"1P 3M 4A 5A 7M\",\"lydian #5P pentatonic\"],[\"1P 3M 4A 5P 7m\",\"lydian dominant pentatonic\"],[\"1P 3m 4P 5P 7M\",\"minor #7M pentatonic\"],[\"1P 3m 4d 5d 7m\",\"super locrian pentatonic\"],[\"1P 2M 3m 4P 5P 7M\",\"minor hexatonic\"],[\"1P 2A 3M 5P 5A 7M\",\"augmented\"],[\"1P 2M 3m 3M 5P 6M\",\"major blues\"],[\"1P 2M 4P 5P 6M 7m\",\"piongio\"],[\"1P 2m 3M 4A 6M 7m\",\"prometheus neopolitan\"],[\"1P 2M 3M 4A 6M 7m\",\"prometheus\"],[\"1P 2m 3M 5d 6m 7m\",\"mystery #1\"],[\"1P 2m 3M 4P 5A 6M\",\"six tone symmetric\"],[\"1P 2M 3M 4A 5A 7m\",\"whole tone\",\"messiaen's mode #1\"],[\"1P 2m 4P 4A 5P 7M\",\"messiaen's mode #5\"],[\"1P 3m 4P 5d 5P 7m\",\"minor blues\",\"blues\"],[\"1P 2M 3M 4P 5d 6m 7m\",\"locrian major\",\"arabian\"],[\"1P 2m 3M 4A 5P 6m 7M\",\"double harmonic lydian\"],[\"1P 2M 3m 4P 5P 6m 7M\",\"harmonic minor\"],[\"1P 2m 2A 3M 4A 6m 7m\",\"altered\",\"super locrian\",\"diminished whole tone\",\"pomeroy\"],[\"1P 2M 3m 4P 5d 6m 7m\",\"locrian #2\",\"half-diminished\",\"aeolian b5\"],[\"1P 2M 3M 4P 5P 6m 7m\",\"mixolydian b6\",\"melodic minor fifth mode\",\"hindu\"],[\"1P 2M 3M 4A 5P 6M 7m\",\"lydian dominant\",\"lydian b7\",\"overtone\"],[\"1P 2M 3M 4A 5P 6M 7M\",\"lydian\"],[\"1P 2M 3M 4A 5A 6M 7M\",\"lydian augmented\"],[\"1P 2m 3m 4P 5P 6M 7m\",\"dorian b2\",\"phrygian #6\",\"melodic minor second mode\"],[\"1P 2M 3m 4P 5P 6M 7M\",\"melodic minor\"],[\"1P 2m 3m 4P 5d 6m 7m\",\"locrian\"],[\"1P 2m 3m 4d 5d 6m 7d\",\"ultralocrian\",\"superlocrian bb7\",\"\\xB7superlocrian diminished\"],[\"1P 2m 3m 4P 5d 6M 7m\",\"locrian 6\",\"locrian natural 6\",\"locrian sharp 6\"],[\"1P 2A 3M 4P 5P 5A 7M\",\"augmented heptatonic\"],[\"1P 2M 3m 5d 5P 6M 7m\",\"romanian minor\"],[\"1P 2M 3m 4A 5P 6M 7m\",\"dorian #4\"],[\"1P 2M 3m 4A 5P 6M 7M\",\"lydian diminished\"],[\"1P 2m 3m 4P 5P 6m 7m\",\"phrygian\"],[\"1P 2M 3M 4A 5A 7m 7M\",\"leading whole tone\"],[\"1P 2M 3M 4A 5P 6m 7m\",\"lydian minor\"],[\"1P 2m 3M 4P 5P 6m 7m\",\"phrygian dominant\",\"spanish\",\"phrygian major\"],[\"1P 2m 3m 4P 5P 6m 7M\",\"balinese\"],[\"1P 2m 3m 4P 5P 6M 7M\",\"neopolitan major\"],[\"1P 2M 3m 4P 5P 6m 7m\",\"aeolian\",\"minor\"],[\"1P 2M 3M 4P 5P 6m 7M\",\"harmonic major\"],[\"1P 2m 3M 4P 5P 6m 7M\",\"double harmonic major\",\"gypsy\"],[\"1P 2M 3m 4P 5P 6M 7m\",\"dorian\"],[\"1P 2M 3m 4A 5P 6m 7M\",\"hungarian minor\"],[\"1P 2A 3M 4A 5P 6M 7m\",\"hungarian major\"],[\"1P 2m 3M 4P 5d 6M 7m\",\"oriental\"],[\"1P 2m 3m 3M 4A 5P 7m\",\"flamenco\"],[\"1P 2m 3m 4A 5P 6m 7M\",\"todi raga\"],[\"1P 2M 3M 4P 5P 6M 7m\",\"mixolydian\",\"dominant\"],[\"1P 2m 3M 4P 5d 6m 7M\",\"persian\"],[\"1P 2M 3M 4P 5P 6M 7M\",\"major\",\"ionian\"],[\"1P 2m 3M 5d 6m 7m 7M\",\"enigmatic\"],[\"1P 2M 3M 4P 5A 6M 7M\",\"major augmented\",\"major #5\",\"ionian augmented\",\"ionian #5\"],[\"1P 2A 3M 4A 5P 6M 7M\",\"lydian #9\"],[\"1P 2m 2M 4P 4A 5P 6m 7M\",\"messiaen's mode #4\"],[\"1P 2m 3M 4P 4A 5P 6m 7M\",\"purvi raga\"],[\"1P 2m 3m 3M 4P 5P 6m 7m\",\"spanish heptatonic\"],[\"1P 2M 3M 4P 5P 6M 7m 7M\",\"bebop\"],[\"1P 2M 3m 3M 4P 5P 6M 7m\",\"bebop minor\"],[\"1P 2M 3M 4P 5P 5A 6M 7M\",\"bebop major\"],[\"1P 2m 3m 4P 5d 5P 6m 7m\",\"bebop locrian\"],[\"1P 2M 3m 4P 5P 6m 7m 7M\",\"minor bebop\"],[\"1P 2M 3m 4P 5d 6m 6M 7M\",\"diminished\",\"whole-half diminished\"],[\"1P 2M 3M 4P 5d 5P 6M 7M\",\"ichikosucho\"],[\"1P 2M 3m 4P 5P 6m 6M 7M\",\"minor six diminished\"],[\"1P 2m 3m 3M 4A 5P 6M 7m\",\"half-whole diminished\",\"dominant diminished\",\"messiaen's mode #2\"],[\"1P 3m 3M 4P 5P 6M 7m 7M\",\"kafi raga\"],[\"1P 2M 3M 4P 4A 5A 6A 7M\",\"messiaen's mode #6\"],[\"1P 2M 3m 3M 4P 5d 5P 6M 7m\",\"composite blues\"],[\"1P 2M 3m 3M 4A 5P 6m 7m 7M\",\"messiaen's mode #3\"],[\"1P 2m 2M 3m 4P 4A 5P 6m 6M 7M\",\"messiaen's mode #7\"],[\"1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M\",\"chromatic\"]],i=r(r({},n.EmptyPcset),{intervals:[],aliases:[]}),o=[],s={};function u(){return o.map(function(j){return j.name})}function d(j){return s[j]||i}var f=t.deprecate(\"ScaleDictionary.scaleType\",\"ScaleType.get\",d);function c(){return o.slice()}var m=t.deprecate(\"ScaleDictionary.entries\",\"ScaleType.all\",c);function v(){return Object.keys(s)}function g(){o=[],s={}}function y(j,N,b){b===void 0&&(b=[]);var h=r(r({},n.get(j)),{name:N,intervals:j,aliases:b});return o.push(h),s[h.name]=h,s[h.setNum]=h,s[h.chroma]=h,h.aliases.forEach(function(M){return P(h,M)}),h}function P(j,N){s[N]=j}a.forEach(function(j){var N=j[0],b=j[1],h=j.slice(2);return y(N.split(\" \"),b,h)});var A={names:u,get:d,all:c,add:y,removeAll:g,keys:v,entries:m,scaleType:f};e.NoScaleType=i,e.add=y,e.addAlias=P,e.all=c,e.default=A,e.entries=m,e.get=d,e.keys=v,e.names=u,e.removeAll=g,e.scaleType=f,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Fn=E((Xt,wa)=>{(function(e,t){typeof Xt==\"object\"&&typeof wa!=\"undefined\"?t(Xt,Ma(),xt(),re(),Ie(),$t()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/chord-detect\",\"@tonaljs/chord-type\",\"@tonaljs/core\",\"@tonaljs/pcset\",\"@tonaljs/scale-type\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Chord={},e.chordDetect,e.chordType,e.core,e.pcset,e.scaleType))})(Xt,function(e,t,n,r,a,i){\"use strict\";var o=function(){return o=Object.assign||function(N){for(var b,h=1,M=arguments.length;h<M;h++){b=arguments[h];for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(N[p]=b[p])}return N},o.apply(this,arguments)},s={empty:!0,name:\"\",symbol:\"\",root:\"\",rootDegree:0,type:\"\",tonic:null,setNum:NaN,quality:\"Unknown\",chroma:\"\",normalized:\"\",aliases:[],notes:[],intervals:[]},u=/^(6|64|7|9|11|13)$/;function d(j){var N=r.tokenizeNote(j),b=N[0],h=N[1],M=N[2],p=N[3];return b===\"\"?[\"\",j]:b===\"A\"&&p===\"ug\"?[\"\",\"aug\"]:!p&&(M===\"4\"||M===\"5\")?[b+h,M]:u.test(M)?[b+h,M+p]:[b+h+M,p]}function f(j){if(j===\"\")return s;if(Array.isArray(j)&&j.length===2)return c(j[1],j[0]);var N=d(j),b=N[0],h=N[1],M=c(h,b);return M.empty?c(j):M}function c(j,N,b){var h=n.get(j),M=r.note(N||\"\"),p=r.note(b||\"\");if(h.empty||N&&M.empty||b&&p.empty)return s;var w=r.distance(M.pc,p.pc),T=h.intervals.indexOf(w)+1;if(!p.empty&&!T)return s;for(var O=Array.from(h.intervals),D=1;D<T;D++){var K=O[0][0],Q=O[0][1],X=parseInt(K,10)+7;O.push(\"\"+X+Q),O.shift()}var _=M.empty?[]:O.map(function(S){return r.transpose(M,S)});j=h.aliases.indexOf(j)!==-1?j:h.aliases[0];var C=\"\"+(M.empty?\"\":M.pc)+j+(p.empty||T<=1?\"\":\"/\"+p.pc),W=\"\"+(N?M.pc+\" \":\"\")+h.name+(T>1&&b?\" over \"+p.pc:\"\");return o(o({},h),{name:W,symbol:C,type:h.name,root:p.name,intervals:O,rootDegree:T,tonic:M.name,notes:_})}var m=r.deprecate(\"Chord.chord\",\"Chord.get\",f);function v(j,N){var b=d(j),h=b[0],M=b[1];return h?r.transpose(h,N)+M:j}function g(j){var N=f(j),b=a.isSupersetOf(N.chroma);return i.all().filter(function(h){return b(h.chroma)}).map(function(h){return h.name})}function y(j){var N=f(j),b=a.isSupersetOf(N.chroma);return n.all().filter(function(h){return b(h.chroma)}).map(function(h){return N.tonic+h.aliases[0]})}function P(j){var N=f(j),b=a.isSubsetOf(N.chroma);return n.all().filter(function(h){return b(h.chroma)}).map(function(h){return N.tonic+h.aliases[0]})}var A={getChord:c,get:f,detect:t.detect,chordScales:g,extended:y,reduced:P,tokenize:d,transpose:v,chord:m};Object.defineProperty(e,\"detect\",{enumerable:!0,get:function(){return t.detect}}),e.chord=m,e.chordScales=g,e.default=A,e.extended=y,e.get=f,e.getChord=c,e.reduced=P,e.tokenize=d,e.transpose=v,Object.defineProperty(e,\"__esModule\",{value:!0})})});var xa=E((Zt,ja)=>{(function(e,t){typeof Zt==\"object\"&&typeof ja!=\"undefined\"?t(Zt):typeof define==\"function\"&&define.amd?define([\"exports\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.DurationValue={}))})(Zt,function(e){\"use strict\";var t=function(){return t=Object.assign||function(y){for(var P,A=1,j=arguments.length;A<j;A++){P=arguments[A];for(var N in P)Object.prototype.hasOwnProperty.call(P,N)&&(y[N]=P[N])}return y},t.apply(this,arguments)},n=[[.125,\"dl\",[\"large\",\"duplex longa\",\"maxima\",\"octuple\",\"octuple whole\"]],[.25,\"l\",[\"long\",\"longa\"]],[.5,\"d\",[\"double whole\",\"double\",\"breve\"]],[1,\"w\",[\"whole\",\"semibreve\"]],[2,\"h\",[\"half\",\"minim\"]],[4,\"q\",[\"quarter\",\"crotchet\"]],[8,\"e\",[\"eighth\",\"quaver\"]],[16,\"s\",[\"sixteenth\",\"semiquaver\"]],[32,\"t\",[\"thirty-second\",\"demisemiquaver\"]],[64,\"sf\",[\"sixty-fourth\",\"hemidemisemiquaver\"]],[128,\"h\",[\"hundred twenty-eighth\"]],[256,\"th\",[\"two hundred fifty-sixth\"]]],r=[];n.forEach(function(g){var y=g[0],P=g[1],A=g[2];return m(y,P,A)});var a={empty:!0,name:\"\",value:0,fraction:[0,0],shorthand:\"\",dots:\"\",names:[]};function i(){return r.reduce(function(g,y){return y.names.forEach(function(P){return g.push(P)}),g},[])}function o(){return r.map(function(g){return g.shorthand})}var s=/^([^.]+)(\\.*)$/;function u(g){var y=s.exec(g)||[];y[0];var P=y[1],A=y[2],j=r.find(function(h){return h.shorthand===P||h.names.includes(P)});if(!j)return a;var N=v(j.fraction,A.length),b=N[0]/N[1];return t(t({},j),{name:g,dots:A,value:b,fraction:N})}var d=function(g){return u(g).value},f=function(g){return u(g).fraction},c={names:i,shorthands:o,get:u,value:d,fraction:f};function m(g,y,P){r.push({empty:!1,dots:\"\",name:\"\",value:1/g,fraction:g<1?[1/g,1]:[1,g],shorthand:y,names:P})}function v(g,y){for(var P=Math.pow(2,y),A=g[0]*P,j=g[1]*P,N=A,b=0;b<y;b++)A+=N/Math.pow(2,b+1);for(;A%2==0&&j%2==0;)A/=2,j/=2;return[A,j]}e.default=c,e.fraction=f,e.get=u,e.names=i,e.shorthands=o,e.value=d,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Bn=E((Qt,Na)=>{(function(e,t){typeof Qt==\"object\"&&typeof Na!=\"undefined\"?t(Qt,re()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Interval={},e.core))})(Qt,function(e,t){\"use strict\";function n(){return\"1P 2M 3M 4P 5P 6m 7m\".split(\" \")}var r=t.interval,a=function(b){return t.interval(b).name},i=function(b){return t.interval(b).semitones},o=function(b){return t.interval(b).q},s=function(b){return t.interval(b).num};function u(b){var h=t.interval(b);return h.empty?\"\":h.simple+h.q}function d(b){var h=t.interval(b);if(h.empty)return\"\";var M=(7-h.step)%7,p=h.type===\"perfectable\"?-h.alt:-(h.alt+1);return t.interval({step:M,alt:p,oct:h.oct,dir:h.dir}).name}var f=[1,2,2,3,3,4,5,5,6,6,7,7],c=\"P m M m M P d P m M m M\".split(\" \");function m(b){var h=b<0?-1:1,M=Math.abs(b),p=M%12,w=Math.floor(M/12);return h*(f[p]+7*w)+c[p]}var v=t.distance,g=N(function(b,h){return[b[0]+h[0],b[1]+h[1]]}),y=function(b){return function(h){return g(b,h)}},P=N(function(b,h){return[b[0]-h[0],b[1]-h[1]]});function A(b,h){var M=r(b);if(M.empty)return\"\";var p=M.coord,w=p[0],T=p[1],O=p[2];return t.coordToInterval([w+h,T,O]).name}var j={names:n,get:r,name:a,num:s,semitones:i,quality:o,fromSemitones:m,distance:v,invert:d,simplify:u,add:g,addTo:y,substract:P,transposeFifths:A};function N(b){return function(h,M){var p=t.interval(h).coord,w=t.interval(M).coord;if(p&&w){var T=b(p,w);return t.coordToInterval(T).name}}}e.add=g,e.addTo=y,e.default=j,e.distance=v,e.fromSemitones=m,e.get=r,e.invert=d,e.name=a,e.names=n,e.num=s,e.quality=o,e.semitones=i,e.simplify=u,e.substract=P,e.transposeFifths=A,Object.defineProperty(e,\"__esModule\",{value:!0})})});var en=E((Jt,Sa)=>{(function(e,t){typeof Jt==\"object\"&&typeof Sa!=\"undefined\"?t(Jt,re()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Midi={},e.core))})(Jt,function(e,t){\"use strict\";function n(m){return+m>=0&&+m<=127}function r(m){if(n(m))return+m;var v=t.note(m);return v.empty?null:v.midi}function a(m,v){return v===void 0&&(v=440),Math.pow(2,(m-69)/12)*v}var i=Math.log(2),o=Math.log(440);function s(m){var v=12*(Math.log(m)-o)/i+69;return Math.round(v*100)/100}var u=\"C C# D D# E F F# G G# A A# B\".split(\" \"),d=\"C Db D Eb E F Gb G Ab A Bb B\".split(\" \");function f(m,v){if(v===void 0&&(v={}),isNaN(m)||m===-1/0||m===1/0)return\"\";m=Math.round(m);var g=v.sharps===!0?u:d,y=g[m%12];if(v.pitchClass)return y;var P=Math.floor(m/12)-1;return y+P}var c={isMidi:n,toMidi:r,midiToFreq:a,midiToNoteName:f,freqToMidi:s};e.default=c,e.freqToMidi=s,e.isMidi=n,e.midiToFreq=a,e.midiToNoteName=f,e.toMidi=r,Object.defineProperty(e,\"__esModule\",{value:!0})})});var nn=E((tn,Ta)=>{(function(e,t){typeof tn==\"object\"&&typeof Ta!=\"undefined\"?t(tn,re(),en()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/midi\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Note={},e.core,e.midi$1))})(tn,function(e,t,n){\"use strict\";var r=[\"C\",\"D\",\"E\",\"F\",\"G\",\"A\",\"B\"],a=function(S){return S.name},i=function(S){return S.map(t.note).filter(function(F){return!F.empty})};function o(S){return S===void 0?r.slice():Array.isArray(S)?i(S).map(a):[]}var s=t.note,u=function(S){return s(S).name},d=function(S){return s(S).pc},f=function(S){return s(S).acc},c=function(S){return s(S).oct},m=function(S){return s(S).midi},v=function(S){return s(S).freq},g=function(S){return s(S).chroma};function y(S){return n.midiToNoteName(S)}function P(S){return n.midiToNoteName(n.freqToMidi(S))}function A(S){return n.midiToNoteName(n.freqToMidi(S),{sharps:!0})}function j(S){return n.midiToNoteName(S,{sharps:!0})}var N=t.transpose,b=t.transpose,h=function(S){return function(F){return N(F,S)}},M=h,p=function(S){return function(F){return N(S,F)}},w=p;function T(S,F){var Y=s(S);if(Y.empty)return\"\";var J=Y.coord,Pe=J[0],ve=J[1],x=ve===void 0?t.coordToNote([Pe+F]):t.coordToNote([Pe+F,ve]);return x.name}var O=T,D=function(S,F){return S.height-F.height},K=function(S,F){return F.height-S.height};function Q(S,F){return F=F||D,i(S).sort(F).map(a)}function X(S){return Q(S,D).filter(function(F,Y,J){return Y===0||F!==J[Y-1]})}var _=function(S){var F=s(S);return F.empty?\"\":n.midiToNoteName(F.midi||F.chroma,{sharps:F.alt>0,pitchClass:F.midi===null})};function C(S,F){var Y=s(S);if(Y.empty)return\"\";var J=s(F||n.midiToNoteName(Y.midi||Y.chroma,{sharps:Y.alt<0,pitchClass:!0}));if(J.empty||J.chroma!==Y.chroma)return\"\";if(Y.oct===void 0)return J.pc;var Pe=Y.chroma-Y.alt,ve=J.chroma-J.alt,x=Pe>11||ve<0?-1:Pe<0||ve>11?1:0,k=Y.oct+x;return J.pc+k}var W={names:o,get:s,name:u,pitchClass:d,accidentals:f,octave:c,midi:m,ascending:D,descending:K,sortedNames:Q,sortedUniqNames:X,fromMidi:y,fromMidiSharps:j,freq:v,fromFreq:P,fromFreqSharps:A,chroma:g,transpose:N,tr:b,transposeBy:h,trBy:M,transposeFrom:p,trFrom:w,transposeFifths:T,trFifths:O,simplify:_,enharmonic:C};e.accidentals=f,e.ascending=D,e.chroma=g,e.default=W,e.descending=K,e.enharmonic=C,e.freq=v,e.fromFreq=P,e.fromFreqSharps=A,e.fromMidi=y,e.fromMidiSharps=j,e.get=s,e.midi=m,e.name=u,e.names=o,e.octave=c,e.pitchClass=d,e.simplify=_,e.sortedNames=Q,e.sortedUniqNames=X,e.tr=b,e.trBy=M,e.trFifths=O,e.trFrom=w,e.transpose=N,e.transposeBy=h,e.transposeFifths=T,e.transposeFrom=p,Object.defineProperty(e,\"__esModule\",{value:!0})})});var an=E((rn,ka)=>{(function(e,t){typeof rn==\"object\"&&typeof ka!=\"undefined\"?t(rn,re()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.RomanNumeral={},e.core))})(rn,function(e,t){\"use strict\";var n={empty:!0,name:\"\",chordType:\"\"},r={};function a(y){return typeof y==\"string\"?r[y]||(r[y]=v(y)):typeof y==\"number\"?a(c[y]||\"\"):t.isPitch(y)?s(y):t.isNamed(y)?a(y.name):n}var i=t.deprecate(\"RomanNumeral.romanNumeral\",\"RomanNumeral.get\",a);function o(y){return y===void 0&&(y=!0),(y?c:m).slice()}function s(y){return a(t.altToAcc(y.alt)+c[y.step])}var u=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function d(y){return u.exec(y)||[\"\",\"\",\"\",\"\"]}var f=\"I II III IV V VI VII\",c=f.split(\" \"),m=f.toLowerCase().split(\" \");function v(y){var P=d(y),A=P[0],j=P[1],N=P[2],b=P[3];if(!N)return n;var h=N.toUpperCase(),M=c.indexOf(h),p=t.accToAlt(j),w=1;return{empty:!1,name:A,roman:N,interval:t.interval({step:M,alt:p,dir:w}).name,acc:j,chordType:b,alt:p,step:M,major:N===h,oct:0,dir:w}}var g={names:o,get:a,romanNumeral:i};e.default=g,e.get=a,e.names=o,e.tokenize=d,Object.defineProperty(e,\"__esModule\",{value:!0})})});var _a=E((on,Aa)=>{(function(e,t){typeof on==\"object\"&&typeof Aa!=\"undefined\"?t(on,re(),nn(),an()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/note\",\"@tonaljs/roman-numeral\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Key={},e.core,e.note,e.romanNumeral))})(on,function(e,t,n,r){\"use strict\";var a=function(){return a=Object.assign||function(M){for(var p,w=1,T=arguments.length;w<T;w++){p=arguments[w];for(var O in p)Object.prototype.hasOwnProperty.call(p,O)&&(M[O]=p[O])}return M},a.apply(this,arguments)},i=Object.freeze([]),o={type:\"major\",tonic:\"\",alteration:0,keySignature:\"\"},s={tonic:\"\",grades:i,intervals:i,scale:i,chords:i,chordsHarmonicFunction:i,chordScales:i},u=a(a(a({},o),s),{type:\"major\",minorRelative:\"\",scale:i,secondaryDominants:i,secondaryDominantsMinorRelative:i,substituteDominants:i,substituteDominantsMinorRelative:i}),d=a(a({},o),{type:\"minor\",relativeMajor:\"\",natural:s,harmonic:s,melodic:s}),f=function(h,M,p){return p===void 0&&(p=\"\"),M.map(function(w,T){return\"\"+h[T]+p+w})};function c(h,M,p,w){return function(T){var O=h.map(function(K){return r.get(K).interval||\"\"}),D=O.map(function(K){return t.transpose(T,K)});return{tonic:T,grades:h,intervals:O,scale:D,chords:f(D,M),chordsHarmonicFunction:p.slice(),chordScales:f(D,w,\" \")}}}var m=function(h,M){var p=t.note(h),w=t.note(M);return p.empty||w.empty?0:w.coord[0]-p.coord[0]},v=c(\"I II III IV V VI VII\".split(\" \"),\"maj7 m7 m7 maj7 7 m7 m7b5\".split(\" \"),\"T SD T SD D T D\".split(\" \"),\"major,dorian,phrygian,lydian,mixolydian,minor,locrian\".split(\",\")),g=c(\"I II bIII IV V bVI bVII\".split(\" \"),\"m7 m7b5 maj7 m7 m7 maj7 7\".split(\" \"),\"T SD T SD D SD SD\".split(\" \"),\"minor,locrian,major,dorian,phrygian,lydian,mixolydian\".split(\",\")),y=c(\"I II bIII IV V bVI VII\".split(\" \"),\"mMaj7 m7b5 +maj7 m7 7 maj7 o7\".split(\" \"),\"T SD T SD D SD D\".split(\" \"),\"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian\".split(\",\")),P=c(\"I II bIII IV V VI VII\".split(\" \"),\"m6 m7 +maj7 7 7 m7b5 m7b5\".split(\" \"),\"T SD T SD D  \".split(\" \"),\"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered\".split(\",\"));function A(h){var M=t.note(h).pc;if(!M)return u;var p=v(M),w=m(\"C\",M),T=function(O){var D=r.get(O);return D.empty?\"\":t.transpose(h,D.interval)+D.chordType};return a(a({},p),{type:\"major\",minorRelative:t.transpose(M,\"-3m\"),alteration:w,keySignature:t.altToAcc(w),secondaryDominants:\"- VI7 VII7 I7 II7 III7 -\".split(\" \").map(T),secondaryDominantsMinorRelative:\"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -\".split(\" \").map(T),substituteDominants:\"- bIII7 IV7 bV7 bVI7 bVII7 -\".split(\" \").map(T),substituteDominantsMinorRelative:\"- IIIm7 Im7 IIbm7 VIm7 IVm7 -\".split(\" \").map(T)})}function j(h){var M=t.note(h).pc;if(!M)return d;var p=m(\"C\",M)-3;return{type:\"minor\",tonic:M,relativeMajor:t.transpose(M,\"3m\"),alteration:p,keySignature:t.altToAcc(p),natural:g(M),harmonic:y(M),melodic:P(M)}}function N(h){return typeof h==\"number\"?n.transposeFifths(\"C\",h):typeof h==\"string\"&&/^b+|#+$/.test(h)?n.transposeFifths(\"C\",t.accToAlt(h)):null}var b={majorKey:A,majorTonicFromKeySignature:N,minorKey:j};e.default=b,e.majorKey=A,e.majorTonicFromKeySignature=N,e.minorKey=j,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Ia=E((sn,Oa)=>{(function(e,t){typeof sn==\"object\"&&typeof Oa!=\"undefined\"?t(sn,it(),re(),Bn(),Ie()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/interval\",\"@tonaljs/pcset\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Mode={},e.collection,e.core,e.interval,e.pcset))})(sn,function(e,t,n,r,a){\"use strict\";var i=function(){return i=Object.assign||function(w){for(var T,O=1,D=arguments.length;O<D;O++){T=arguments[O];for(var K in T)Object.prototype.hasOwnProperty.call(T,K)&&(w[K]=T[K])}return w},i.apply(this,arguments)},o=[[0,2773,0,\"ionian\",\"\",\"Maj7\",\"major\"],[1,2902,2,\"dorian\",\"m\",\"m7\"],[2,3418,4,\"phrygian\",\"m\",\"m7\"],[3,2741,-1,\"lydian\",\"\",\"Maj7\"],[4,2774,1,\"mixolydian\",\"\",\"7\"],[5,2906,3,\"aeolian\",\"m\",\"m7\",\"minor\"],[6,3434,5,\"locrian\",\"dim\",\"m7b5\"]],s=i(i({},a.EmptyPcset),{name:\"\",alt:0,modeNum:NaN,triad:\"\",seventh:\"\",aliases:[]}),u=o.map(y),d={};u.forEach(function(p){d[p.name]=p,p.aliases.forEach(function(w){d[w]=p})});function f(p){return typeof p==\"string\"?d[p.toLowerCase()]||s:p&&p.name?f(p.name):s}var c=n.deprecate(\"Mode.mode\",\"Mode.get\",f);function m(){return u.slice()}var v=n.deprecate(\"Mode.mode\",\"Mode.all\",m);function g(){return u.map(function(p){return p.name})}function y(p){var w=p[0],T=p[1],O=p[2],D=p[3],K=p[4],Q=p[5],X=p[6],_=X?[X]:[],C=Number(T).toString(2),W=a.chromaToIntervals(C);return{empty:!1,intervals:W,modeNum:w,chroma:C,normalized:C,name:D,setNum:T,alt:O,triad:K,seventh:Q,aliases:_}}function P(p,w){return f(p).intervals.map(function(T){return n.transpose(w,T)})}function A(p){return function(w,T){var O=f(w);if(O.empty)return[];var D=t.rotate(O.modeNum,p),K=O.intervals.map(function(Q){return n.transpose(T,Q)});return D.map(function(Q,X){return K[X]+Q})}}var j=A(o.map(function(p){return p[4]})),N=A(o.map(function(p){return p[5]}));function b(p,w){var T=f(w),O=f(p);return T.empty||O.empty?\"\":r.simplify(r.transposeFifths(\"1P\",O.alt-T.alt))}function h(p,w,T){return n.transpose(T,b(p,w))}var M={get:f,names:g,all:m,distance:b,relativeTonic:h,notes:P,triads:j,seventhChords:N,entries:v,mode:c};e.all=m,e.default=M,e.distance=b,e.entries=v,e.get=f,e.mode=c,e.names=g,e.notes=P,e.relativeTonic=h,e.seventhChords=N,e.triads=j,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Ea=E((un,Ca)=>{(function(e,t){typeof un==\"object\"&&typeof Ca!=\"undefined\"?t(un,Fn(),re(),an()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/chord\",\"@tonaljs/core\",\"@tonaljs/roman-numeral\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Progression={},e.chord,e.core,e.romanNumeral))})(un,function(e,t,n,r){\"use strict\";function a(s,u){var d=u.map(r.get);return d.map(function(f){return n.transpose(s,n.interval(f))+f.chordType})}function i(s,u){return u.map(function(d){var f=t.tokenize(d),c=f[0],m=f[1],v=n.distance(s,c),g=r.get(n.interval(v));return g.name+m})}var o={fromRomanNumerals:a,toRomanNumerals:i};e.default=o,e.fromRomanNumerals=a,e.toRomanNumerals=i,Object.defineProperty(e,\"__esModule\",{value:!0})})});var qa=E((cn,Ra)=>{(function(e,t){typeof cn==\"object\"&&typeof Ra!=\"undefined\"?t(cn,it(),en()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/midi\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Range={},e.collection,e.midi))})(cn,function(e,t,n){\"use strict\";function r(o){var s=t.compact(o.map(n.toMidi));return!o.length||s.length!==o.length?[]:s.reduce(function(u,d){var f=u[u.length-1];return u.concat(t.range(f,d).slice(1))},[s[0]])}function a(o,s){return r(o).map(function(u){return n.midiToNoteName(u,s)})}var i={numeric:r,chromatic:a};e.chromatic=a,e.default=i,e.numeric=r,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Ga=E((ln,Ha)=>{(function(e,t){typeof ln==\"object\"&&typeof Ha!=\"undefined\"?t(ln,xt(),it(),re(),nn(),Ie(),$t()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/chord-type\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/note\",\"@tonaljs/pcset\",\"@tonaljs/scale-type\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Scale={},e.chordType,e.collection,e.core,e.note,e.pcset,e.scaleType))})(ln,function(e,t,n,r,a,i,o){\"use strict\";var s=function(){return s=Object.assign||function(M){for(var p,w=1,T=arguments.length;w<T;w++){p=arguments[w];for(var O in p)Object.prototype.hasOwnProperty.call(p,O)&&(M[O]=p[O])}return M},s.apply(this,arguments)},u={empty:!0,name:\"\",type:\"\",tonic:null,setNum:NaN,chroma:\"\",normalized:\"\",aliases:[],notes:[],intervals:[]};function d(h){if(typeof h!=\"string\")return[\"\",\"\"];var M=h.indexOf(\" \"),p=r.note(h.substring(0,M));if(p.empty){var w=r.note(h);return w.empty?[\"\",h]:[w.name,\"\"]}var T=h.substring(p.name.length+1);return[p.name,T.length?T:\"\"]}var f=o.names;function c(h){var M=Array.isArray(h)?h:d(h),p=r.note(M[0]).name,w=o.get(M[1]);if(w.empty)return u;var T=w.name,O=p?w.intervals.map(function(K){return r.transpose(p,K)}):[],D=p?p+\" \"+T:T;return s(s({},w),{name:D,type:T,tonic:p,notes:O})}var m=r.deprecate(\"Scale.scale\",\"Scale.get\",c);function v(h){var M=c(h),p=i.isSubsetOf(M.chroma);return t.all().filter(function(w){return p(w.chroma)}).map(function(w){return w.aliases[0]})}function g(h){var M=c(h),p=i.isSupersetOf(M.chroma);return o.all().filter(function(w){return p(w.chroma)}).map(function(w){return w.name})}function y(h){var M=i.isSubsetOf(c(h).chroma);return o.all().filter(function(p){return M(p.chroma)}).map(function(p){return p.name})}function P(h){var M=h.map(function(T){return r.note(T).pc}).filter(function(T){return T}),p=M[0],w=a.sortedUniqNames(M);return n.rotate(w.indexOf(p),w)}function A(h){var M=c(h);if(M.empty)return[];var p=M.tonic?M.notes:M.intervals;return i.modes(M.chroma).map(function(w,T){var O=c(w).name;return O?[p[T],O]:[\"\",\"\"]}).filter(function(w){return w[0]})}function j(h){var M=Array.isArray(h)?P(h):c(h).notes,p=M.map(function(w){return r.note(w).chroma});return function(w){var T=typeof w==\"number\"?r.note(a.fromMidi(w)):r.note(w),O=T.height;if(O!==void 0){var D=O%12,K=p.indexOf(D);if(K!==-1)return a.enharmonic(T.name,M[K])}}}function N(h){var M=j(h);return function(p,w){var T=r.note(p).height,O=r.note(w).height;return T===void 0||O===void 0?[]:n.range(T,O).map(M).filter(function(D){return D})}}var b={get:c,names:f,extended:g,modeNames:A,reduced:y,scaleChords:v,scaleNotes:P,tokenize:d,rangeOf:N,scale:m};e.default=b,e.extended=g,e.get=c,e.modeNames=A,e.names=f,e.rangeOf=N,e.reduced=y,e.scale=m,e.scaleChords=v,e.scaleNotes=P,e.tokenize=d,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Fa=E((fn,Da)=>{(function(e,t){typeof fn==\"object\"&&typeof Da!=\"undefined\"?t(fn):typeof define==\"function\"&&define.amd?define([\"exports\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.TimeSignature={}))})(fn,function(e){\"use strict\";var t={empty:!0,name:\"\",upper:void 0,lower:void 0,type:void 0,additive:[]},n=[\"4/4\",\"3/4\",\"2/4\",\"2/2\",\"12/8\",\"9/8\",\"6/8\",\"3/8\"];function r(){return n.slice()}var a=/^(\\d?\\d(?:\\+\\d)*)\\/(\\d)$/,i=new Map;function o(f){var c=i.get(f);if(c)return c;var m=d(s(f));return i.set(f,m),m}function s(f){if(typeof f==\"string\"){var c=a.exec(f)||[];c[0];var m=c[1],v=c[2];return s([m,v])}var g=f[0],y=f[1],P=+y;if(typeof g==\"number\")return[g,P];var A=g.split(\"+\").map(function(j){return+j});return A.length===1?[A[0],P]:[A,P]}var u={names:r,parse:s,get:o};function d(f){var c=f[0],m=f[1],v=Array.isArray(c)?c.reduce(function(j,N){return j+N},0):c,g=m;if(v===0||g===0)return t;var y=Array.isArray(c)?c.join(\"+\")+\"/\"+m:c+\"/\"+m,P=Array.isArray(c)?c:[],A=g===4||g===2?\"simple\":g===8&&v%3==0?\"compound\":\"irregular\";return{empty:!1,name:y,type:A,upper:v,lower:g,additive:P}}e.default=u,e.get=o,e.names=r,e.parse=s,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Wn=E((dn,Ba)=>{(function(e,t){typeof dn==\"object\"&&typeof Ba!=\"undefined\"?t(dn,ma(),pa(),Fn(),xt(),it(),re(),xa(),Bn(),_a(),en(),Ia(),nn(),Ie(),Ea(),qa(),an(),Ga(),$t(),Fa()):typeof define==\"function\"&&define.amd?define([\"exports\",\"@tonaljs/abc-notation\",\"@tonaljs/array\",\"@tonaljs/chord\",\"@tonaljs/chord-type\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/duration-value\",\"@tonaljs/interval\",\"@tonaljs/key\",\"@tonaljs/midi\",\"@tonaljs/mode\",\"@tonaljs/note\",\"@tonaljs/pcset\",\"@tonaljs/progression\",\"@tonaljs/range\",\"@tonaljs/roman-numeral\",\"@tonaljs/scale\",\"@tonaljs/scale-type\",\"@tonaljs/time-signature\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.Tonal={},e.abcNotation,e.array,e.chord,e.ChordType,e.collection,e.Core,e.durationValue,e.interval,e.key,e.midi,e.mode,e.note,e.Pcset,e.progression,e.range,e.romanNumeral,e.scale,e.ScaleType,e.timeSignature))})(dn,function(e,t,n,r,a,i,o,s,u,d,f,c,m,v,g,y,P,A,j,N){\"use strict\";function b(I){return I&&typeof I==\"object\"&&\"default\"in I?I:{default:I}}function h(I){if(I&&I.__esModule)return I;var z=Object.create(null);return I&&Object.keys(I).forEach(function(ee){if(ee!==\"default\"){var fe=Object.getOwnPropertyDescriptor(I,ee);Object.defineProperty(z,ee,fe.get?fe:{enumerable:!0,get:function(){return I[ee]}})}}),z.default=I,Object.freeze(z)}var M=b(t),p=h(n),w=b(r),T=b(a),O=b(i),D=h(o),K=b(s),Q=b(u),X=b(d),_=b(f),C=b(c),W=b(m),S=b(v),F=b(g),Y=b(y),J=b(P),Pe=b(A),ve=b(j),x=b(N),k=D,q=S.default,H=T.default,R=ve.default;Object.defineProperty(e,\"AbcNotation\",{enumerable:!0,get:function(){return M.default}}),e.Array=p,Object.defineProperty(e,\"Chord\",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,\"ChordType\",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,\"Collection\",{enumerable:!0,get:function(){return O.default}}),e.Core=D,Object.defineProperty(e,\"DurationValue\",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(e,\"Interval\",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(e,\"Key\",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(e,\"Midi\",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,\"Mode\",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,\"Note\",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(e,\"Pcset\",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,\"Progression\",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,\"Range\",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(e,\"RomanNumeral\",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(e,\"Scale\",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(e,\"ScaleType\",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(e,\"TimeSignature\",{enumerable:!0,get:function(){return x.default}}),e.ChordDictionary=H,e.PcSet=q,e.ScaleDictionary=R,e.Tonal=k,Object.keys(o).forEach(function(I){I!==\"default\"&&!e.hasOwnProperty(I)&&Object.defineProperty(e,I,{enumerable:!0,get:function(){return o[I]}})}),Object.defineProperty(e,\"__esModule\",{value:!0})})});var ui=E((ju,xe)=>{function Qn(e,t){return xe.exports=Qn=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},xe.exports.default=xe.exports,xe.exports.__esModule=!0,Qn(e,t)}xe.exports=Qn;xe.exports.default=xe.exports,xe.exports.__esModule=!0});var ci=E((xu,At)=>{var Uo=ui();function $o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Uo(e,t)}At.exports=$o;At.exports.default=At.exports,At.exports.__esModule=!0});var li=E((Nu,_t)=>{function Xo(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}_t.exports=Xo;_t.exports.default=_t.exports,_t.exports.__esModule=!0});var fi=E((Su,Ne)=>{function Jn(){return Ne.exports=Jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.exports.default=Ne.exports,Ne.exports.__esModule=!0,Jn.apply(this,arguments)}Ne.exports=Jn;Ne.exports.default=Ne.exports,Ne.exports.__esModule=!0});var vi=E($=>{\"use strict\";Object.defineProperty($,\"__esModule\",{value:!0});function er(e){return e&&typeof e==\"object\"&&\"default\"in e?e.default:e}var di=er(ci()),ae=Qe(),ce=er(li()),Re=er(fi()),Zo=function(t){return typeof t==\"function\"},ie=function(t){for(var n=t.children,r=t.render,a=Zo(n)?n:r,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return a?a.apply(void 0,o):null},tr=function(){},le=function(e){di(t,e);function t(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,r.state={value:r.props.initial},r._set=function(s,u){u===void 0&&(u=tr);var d=r.props.onChange,f=d===void 0?tr:d;r.setState(typeof s==\"function\"?function(c){return{value:s(c.value)}}:{value:s},function(){f(r.state.value),u()})},r._reset=function(s){s===void 0&&(s=tr),r._set(r.props.initial,s)},r}var n=t.prototype;return n.render=function(){return ie(this.props,{value:this.state.value,set:this._set,reset:this._reset})},t}(ae.Component),Qo=function(t){var n=t.onChange,r=ce(t,[\"onChange\"]);return ae.createElement(le,{initial:!1,onChange:n},function(a){var i=a.value,o=a.set;return ie(r,{active:i,bind:{onMouseDown:function(){return o(!0)},onMouseUp:function(){return o(!1)}}})})},Jo=function(t){return typeof t.type==\"function\"},mi=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.reverse();return function(i){function o(s,u,d){d===void 0&&(d=[]);var f=u[s],c=s===0,m=function(y){return c?ie.apply(void 0,[i].concat(d.concat(y))):o(s-1,u,d.concat(y))},v=Jo(f)?ae.cloneElement:ae.createElement;return v(f,{},m)}return o(n.length-1,a)}},es=function(t){var n=t.components,r=ce(t,[\"components\"]);return mi.apply(void 0,n)(r)},jn=function(t){return function(n){return n+t}},ts=function(t){var n=t.initial,r=n===void 0?0:n,a=t.onChange,i=ce(t,[\"initial\",\"onChange\"]);return ae.createElement(le,{initial:r,onChange:a},function(o){var s=o.value,u=o.set,d=o.reset;return ie(i,{count:s,inc:function(){return u(jn(1))},dec:function(){return u(jn(-1))},incBy:function(c){return u(jn(c))},decBy:function(c){return u(jn(-c))},set:function(c){return u(c)},reset:d})})},hi=function(t){return typeof t==\"object\"&&t},ns=function(t){var n=t.initial,r=n===void 0?\"\":n,a=t.onChange,i=ce(t,[\"initial\",\"onChange\"]);return ae.createElement(le,{initial:r,onChange:a},function(o){var s=o.value,u=o.set,d=o.reset;return ie(i,{value:s,reset:d,set:u,bind:{value:s,onChange:function(c){hi(c)&&hi(c.target)?u(c.target.value):u(c)}}})})},rs=function(t){var n=t.onChange,r=ce(t,[\"onChange\"]);return ae.createElement(le,{initial:!1,onChange:n},function(a){var i=a.value,o=a.set;return ie(r,{focused:i,bind:{onFocus:function(){return o(!0)},onBlur:function(){return o(!1)}}})})},as=function(t){var n=t.onChange,r=ce(t,[\"onChange\"]),a=!0;return ae.createElement(le,{initial:!1,onChange:n},function(i){var o=i.value,s=i.set;return ie(r,{focused:o,blur:function(){o&&document.activeElement.blur()},bind:{tabIndex:-1,onBlur:function(){a&&s(!1)},onFocus:function(){s(!0)},onMouseDown:function(){a=!1},onMouseUp:function(){a=!0}}})})},pi=function(t){return typeof t==\"object\"&&t},is=function(t){var n=t.initial,r=n===void 0?{}:n,a=t.onChange,i=ce(t,[\"initial\",\"onChange\"]);return ae.createElement(le,{initial:Re({},r),onChange:a},function(o){var s=o.value,u=o.set,d=o.reset;return ie(i,{values:s,reset:d,setValues:function(c){return u(function(m){return Re({},m,typeof c==\"function\"?c(m):c)})},field:function(c){var m=s[c],v=function(y){var P;return typeof y==\"function\"?u(function(A){var j;return Re({},A,(j={},j[c]=y(A[c]),j))}):u(Re({},s,(P={},P[c]=y,P)))};return{value:m,set:v,bind:{value:m,onChange:function(y){pi(y)&&pi(y.target)?v(y.target.value):v(y)}}}}})})},os=function(t){var n=t.onChange,r=ce(t,[\"onChange\"]);return ae.createElement(le,{initial:!1,onChange:n},function(a){var i=a.value,o=a.set;return ie(r,{hovered:i,bind:{onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)}}})})},ss=function(e){di(t,e);function t(){for(var r,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,r.state={times:0},r.intervalId=void 0,r._clearIntervalIfNecessary=function(){r.intervalId&&(r.intervalId=clearInterval(r.intervalId))},r._setIntervalIfNecessary=function(s){Number.isFinite(s)&&(r._clearIntervalIfNecessary(),r.intervalId=setInterval(function(){return r.setState(function(u){return{times:u.times+1}})},s))},r.stop=function(){r._clearIntervalIfNecessary()},r.start=function(s){var u=typeof s==\"number\"?s:r.props.delay!=null?r.props.delay:1e3;r._setIntervalIfNecessary(u)},r.toggle=function(){r.intervalId?r.stop():r.start()},r}var n=t.prototype;return n.componentDidMount=function(){this.start()},n.componentDidUpdate=function(a){a.delay!==this.props.delay&&(this.stop(),this.start())},n.componentWillUnmount=function(){this.stop()},n.render=function(){return ie(this.props,{start:this.start,stop:this.stop,toggle:this.toggle})},t}(ae.Component),us=function(t){return function(){return!t.apply(void 0,arguments)}},cs=function(t){var n=t.initial,r=n===void 0?[]:n,a=t.onChange,i=ce(t,[\"initial\",\"onChange\"]);return ae.createElement(le,{initial:r,onChange:a},function(o){var s=o.value,u=o.set,d=o.reset;return ie(i,{list:s,first:function(){return s[0]},last:function(){return s[Math.max(0,s.length-1)]},set:function(c){return u(c)},push:function(){for(var c=arguments.length,m=new Array(c),v=0;v<c;v++)m[v]=arguments[v];return u(function(g){return g.concat(m)})},pull:function(c){return u(function(m){return m.filter(us(c))})},sort:function(c){return u(function(m){return m.concat().sort(c)})},reset:d})})},ls=function(t){var n=t.initial,r=n===void 0?{}:n,a=t.onChange,i=ce(t,[\"initial\",\"onChange\"]);return ae.createElement(le,{initial:Re({},r),onChange:a},function(o){var s=o.value,u=o.set,d=o.reset;return ie(i,{values:s,clear:function(){return u({})},reset:d,set:function(c,m){return u(function(v){var g;return Re({},v,(g={},g[c]=typeof m==\"function\"?m(v[c]):m,g))})},get:function(c){return s[c]},has:function(c){return s[c]!=null},delete:function(c){return u(function(m){var v=m[c],g=ce(m,[c]);return g})}})})},fs=function(t){return t.filter(function(n,r){return t.indexOf(n)===r})},nr=function(t,n){return t.indexOf(n)!==-1},ds=function(t,n){return nr(t,n)?t.filter(function(r){return r!==n}):t},ms=function(t,n){return nr(t,n)?t:t.concat([n])},hs=function(t){var n=t.initial,r=n===void 0?[]:n,a=t.onChange,i=ce(t,[\"initial\",\"onChange\"]);return ae.createElement(le,{initial:fs(r),onChange:a},function(o){var s=o.value,u=o.set,d=o.reset;return ie(i,{values:s,add:function(c){return u(function(m){return ms(m,c)})},clear:function(){return u([])},remove:function(c){return u(function(m){return ds(m,c)})},has:function(c){return nr(s,c)},reset:d})})},ps=function(t){var n=t.initial,r=n===void 0?{}:n,a=t.onChange,i=ce(t,[\"initial\",\"onChange\"]);return ae.createElement(le,{initial:r,onChange:a},function(o){var s=o.value,u=o.set,d=o.reset;return ie(i,{state:s,setState:function(c,m){return u(function(v){return Re({},v,typeof c==\"function\"?c(v):c)},m)},resetState:d})})},vs=function(t){var n=t.initial,r=n===void 0?!1:n,a=t.onChange,i=ce(t,[\"initial\",\"onChange\"]);return ae.createElement(le,{initial:r,onChange:a},function(o){var s=o.value,u=o.set,d=o.reset;return ie(i,{on:s,set:function(c){return u(c)},reset:d,toggle:function(){return u(function(c){return!c})},setOn:function(){return u(!0)},setOff:function(){return u(!1)}})})},gs=function(t){var n=t.onChange,r=ce(t,[\"onChange\"]);return ae.createElement(le,{initial:!1,onChange:n},function(a){var i=a.value,o=a.set;return ie(r,{touched:i,bind:{onTouchStart:function(){return o(!0)},onTouchEnd:function(){return o(!1)}}})})},bs=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reverse().reduce(function(a,i){var o={},s=function(f){o[f]=a[f]?function(){i[f].apply(i,arguments),a[f].apply(a,arguments)}:i[f]};for(var u in i)s(u);return Re({},a,o)})};$.Active=Qo;$.Compose=es;$.Counter=ts;$.Field=ns;$.Focus=rs;$.unstable_FocusManager=as;$.Form=is;$.Hover=os;$.Interval=ss;$.List=cs;$.Map=ls;$.Set=hs;$.State=ps;$.Toggle=vs;$.Touch=gs;$.Value=le;$.compose=mi;$.composeEvents=bs;$.renderProps=ie});var ws={};ji(ws,{default:()=>Ps,frontmatter:()=>ys});var l=ge(ir()),ku=ge(En());var oi=ge(Qe());var je=ge(Qe());var Je=[{pitches:[\"C\",\"B#\"],upperOffset:0,upperWidth:15.05},{pitches:[\"Db\",\"C#\"],upperOffset:0,upperWidth:12.7},{pitches:[\"D\"],upperOffset:4.15,upperWidth:15.3},{pitches:[\"Eb\",\"D#\"],upperOffset:0,upperWidth:12.7},{pitches:[\"E\"],upperOffset:8.55,upperWidth:15.05},{pitches:[\"F\",\"E#\"],upperOffset:0,upperWidth:13.95},{pitches:[\"Gb\",\"F#\"],upperOffset:0,upperWidth:12.7},{pitches:[\"G\"],upperOffset:3.05,upperWidth:14.2},{pitches:[\"Ab\",\"G#\"],upperOffset:0,upperWidth:12.7},{pitches:[\"A\"],upperOffset:6.35,upperWidth:14.2},{pitches:[\"Bb\",\"A#\"],upperOffset:0,upperWidth:12.7},{pitches:[\"B\",\"Cb\"],upperOffset:9.65,upperWidth:13.95}],De=[1,3,6,8,10],no={scaleX:1,scaleY:1,lowerWidth:23.6,palette:[\"#39383D\",\"#F2F2EF\"],stroke:\"#39383D\",strokeWidth:1,offsetY:2,offsetX:0,upperHeight:100,lowerHeight:45,keyCount:88,range:[\"A0\",\"C8\"],topLabels:!1};function et(e){return e.range&&(e={...e,...ro(e.range)}),Object.assign({},no,e)}function ro(e){let t=e.map(u=>u.slice(0,-1)),n=Je.find(u=>u.pitches.includes(t[0])),r=Je.find(u=>u.pitches.includes(t[1])),a=Je.indexOf(n),i=12-Je.indexOf(r),o=e.map(u=>parseInt(u.slice(u.length-1)));return{keyCount:(o[1]-o[0]+1)*12-a-i+1,keyOffset:a}}function ao(e){let{lowerHeight:t,upperHeight:n,lowerWidth:r,strokeWidth:a,palette:i,stroke:o}=et(e);return Je.map((s,u)=>Object.assign(s,{upperHeight:n,lowerHeight:De.includes(u)?0:t,lowerWidth:De.includes(u)?s.upperWidth:r,fill:De.includes(u)?i[0]:i[1],contrast:De.includes(u)?i[1]:i[0],stroke:o,strokeWidth:a}))}function io(e){e=et(e);let t=ao(e),{keyCount:n,scaleY:r,scaleX:a,visibleKeys:i,lowerWidth:o,strokeWidth:s,keyOffset:u,colorize:d}=e;return Array(n+u).fill(0).map((f,c,m)=>t[c%12]).map((f,c,m)=>{let v=oo(c,e.range),g=f.pitches.map(y=>y+v);return{index:c,notes:g,scaleX:a,scaleY:r,fill:so(g,d)||f.fill,contrast:f.contrast,strokeWidth:f.strokeWidth,stroke:f.stroke,upperHeight:f.upperHeight*r,lowerHeight:f.lowerHeight*r,upperWidth:uo(f,c,u,n)*a,lowerWidth:f.lowerWidth*a,upperOffset:co(f,c,u)*a,visible:!i||!!f.pitches.find(y=>i.includes(y)),offsetX:lo(c,m,o,u)*a+Math.ceil(s/2)}}).filter(f=>f.index>=u)}function kr(e){e=et(e);let t=io(e),n=fo(e);return{svg:{width:n[0],height:n[1]},children:t.map(r=>{if(!r.visible)return;let a,i,o=e.labels?r.notes.find(u=>!!Object.keys(e.labels).includes(u)):\"\";if(o){let u=ho(r,e.topLabels);a=u.circle,i=u.text,i.value=e.labels[o]}let s=mo(r);return{key:r,polygon:{points:s.map(u=>u.join(\",\")).join(\" \"),style:{fill:r.fill,stroke:r.stroke,strokeWidth:r.strokeWidth}},circle:a,text:i}})}}function oo(e,t){let n=Math.floor(e/12),r=t.map(i=>parseInt(i.slice(i.length-1)));return n+r[0]}function so(e,t){if(!t)return null;let n=t.find(r=>!!r.keys.find(a=>e.includes(a)));return n?n.color:null}function uo(e,t,n,r){let a=o=>o===n,i=o=>o===r+n-1;return a(t)?e.upperWidth+e.upperOffset:i(t)?e.lowerWidth-e.upperOffset:e.upperWidth}function co(e,t,n){return(a=>a===n)(t)?0:e.upperOffset}function Rn(e){return Array(e%12).fill(0).filter((t,n)=>!De.includes(n)).length+Math.floor(e/12)*7}function lo(e,t,n,r=0){let a=Rn(e),i=Rn(r),o=t[r].upperOffset;if(De.includes(r%12)){let s=Je[(r+12-1)%12];o-=n-(s.upperWidth+s.upperOffset)}return De.includes(e%12)?t.slice(r,e).reduce((s,u,d)=>s+u.upperWidth,0)+o:a*n-i*n}function fo(e){let{scaleX:t,scaleY:n,lowerWidth:r,keyCount:a,lowerHeight:i,upperHeight:o,strokeWidth:s}=et(e);return[t*r*Rn(a+1),(i+o)*n].map(u=>Math.round(u+s*2))}function mo(e){let{upperOffset:t,offsetX:n,offsetY:r,upperHeight:a,lowerHeight:i,upperWidth:o,lowerWidth:s}=et(e),u=i+a;return[[t+n,r],[t+n,a+r],[n,a+r],[n,u+r],[s+n,u+r],[s+n,a+r],[o+t+n,a+r],[o+t+n,r]]}function ho(e,t=!1,n=\"white\"){let{offsetX:r,upperHeight:a,lowerHeight:i,upperOffset:o,upperWidth:s,strokeWidth:u}=et(e),d=e.scaleX*(12.7-u*2)/2,f=e.lowerWidth||e.upperWidth,c=t?r+s/2+o:r+f/2,m=t?d*2:a+i-d;return{circle:{cx:c,cy:m-d/3,r:d,fill:n,stroke:e.stroke,strokeWidth:e.strokeWidth},text:{x:c,y:m,textAnchor:\"middle\",fontSize:d,fontFamily:\"helvetica\"}}}var Ar=ge(Qe());function _r({downHandler:e,upHandler:t}){(0,Ar.useEffect)(()=>(window.addEventListener(\"keydown\",e),window.addEventListener(\"keyup\",t),()=>{window.removeEventListener(\"keydown\",e),window.removeEventListener(\"keyup\",t)}),[e,t])}var la=ge(ca());function Dn({options:e,onClick:t,onAttack:n,onRelease:r,keyControl:a,mouseControl:i}){let o=(0,je.useRef)([]),[s,u]=(0,je.useState)([]);i=i??!0;let d=(0,la.useGesture)({onDragStart:({down:g,args:[y]})=>i&&g&&f(y),onHover:({down:g,active:y,args:[P]})=>{!i||(y&&g&&f(P),y||c(P))}});_r({downHandler:g=>a&&a[g.key]&&f({notes:[a[g.key]]}),upHandler:g=>a&&a[g.key]&&c({notes:[a[g.key]]})});let f=g=>{s.includes(g.notes[0])||(o.current=[...o.current,g.notes[0]],n&&n(g)),u(o.current)},c=g=>{s.includes(g.notes[0])&&(o.current=o.current.filter(y=>y!==g.notes[0]),r&&r(g)),u(o.current)},{svg:m,children:v}=kr({...e,colorize:[...e.colorize||[],{keys:s,color:\"red\"}]});return je.default.createElement(\"svg\",{...m},v.filter(g=>!!g).map(({polygon:g,circle:y,text:P,key:A},j)=>[g&&je.default.createElement(\"polygon\",{...g,key:\"p\"+j,...d(A),onMouseUp:()=>c(A),onClick:()=>t&&t(A)}),y&&je.default.createElement(\"circle\",{...y,key:\"c\"+j,style:{pointerEvents:\"none\"}}),P&&je.default.createElement(\"text\",{...P,key:\"t\"+j,style:{pointerEvents:\"none\",userSelect:\"none\"}},P.value)]))}var si=ge(Wn());var yn=ge(En()),ct=ge(Wn());function ot(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Nt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ze(){}var Ce=.7,Ye=1/Ce,st=\"\\\\s*([+-]?\\\\d+)\\\\s*\",St=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",ye=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",Eo=/^#([0-9a-f]{3,8})$/,Ro=new RegExp(\"^rgb\\\\(\"+[st,st,st]+\"\\\\)$\"),qo=new RegExp(\"^rgb\\\\(\"+[ye,ye,ye]+\"\\\\)$\"),Ho=new RegExp(\"^rgba\\\\(\"+[st,st,st,St]+\"\\\\)$\"),Go=new RegExp(\"^rgba\\\\(\"+[ye,ye,ye,St]+\"\\\\)$\"),Do=new RegExp(\"^hsl\\\\(\"+[St,ye,ye]+\"\\\\)$\"),Fo=new RegExp(\"^hsla\\\\(\"+[St,ye,ye,St]+\"\\\\)$\"),Wa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ot(ze,Tt,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Ka,formatHex:Ka,formatHsl:Bo,formatRgb:Va,toString:Va});function Ka(){return this.rgb().formatHex()}function Bo(){return $a(this).formatHsl()}function Va(){return this.rgb().formatRgb()}function Tt(e){var t,n;return e=(e+\"\").trim().toLowerCase(),(t=Eo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?La(t):n===3?new ue(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?mn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?mn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ro.exec(e))?new ue(t[1],t[2],t[3],1):(t=qo.exec(e))?new ue(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ho.exec(e))?mn(t[1],t[2],t[3],t[4]):(t=Go.exec(e))?mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Do.exec(e))?Ua(t[1],t[2]/100,t[3]/100,1):(t=Fo.exec(e))?Ua(t[1],t[2]/100,t[3]/100,t[4]):Wa.hasOwnProperty(e)?La(Wa[e]):e===\"transparent\"?new ue(NaN,NaN,NaN,0):null}function La(e){return new ue(e>>16&255,e>>8&255,e&255,1)}function mn(e,t,n,r){return r<=0&&(e=t=n=NaN),new ue(e,t,n,r)}function Kn(e){return e instanceof ze||(e=Tt(e)),e?(e=e.rgb(),new ue(e.r,e.g,e.b,e.opacity)):new ue}function hn(e,t,n,r){return arguments.length===1?Kn(e):new ue(e,t,n,r??1)}function ue(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ot(ue,hn,Nt(ze,{brighter:function(e){return e=e==null?Ye:Math.pow(Ye,e),new ue(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Ce:Math.pow(Ce,e),new ue(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:za,formatHex:za,formatRgb:Ya,toString:Ya}));function za(){return\"#\"+Vn(this.r)+Vn(this.g)+Vn(this.b)}function Ya(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?\")\":\", \"+e+\")\")}function Vn(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?\"0\":\"\")+e.toString(16)}function Ua(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Me(e,t,n,r)}function $a(e){if(e instanceof Me)return new Me(e.h,e.s,e.l,e.opacity);if(e instanceof ze||(e=Tt(e)),!e)return new Me;if(e instanceof Me)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,u=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new Me(o,s,u,e.opacity)}function Xa(e,t,n,r){return arguments.length===1?$a(e):new Me(e,t,n,r??1)}function Me(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ot(Me,Xa,Nt(ze,{brighter:function(e){return e=e==null?Ye:Math.pow(Ye,e),new Me(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Ce:Math.pow(Ce,e),new Me(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ue(Ln(e>=240?e-240:e+120,a,r),Ln(e,a,r),Ln(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+(this.s||0)*100+\"%, \"+(this.l||0)*100+\"%\"+(e===1?\")\":\", \"+e+\")\")}}));function Ln(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Za=Math.PI/180,Qa=180/Math.PI;var Ja=-.14861,zn=1.78277,Yn=-.29227,pn=-.90649,kt=1.97294,ei=kt*pn,ti=kt*zn,ni=zn*Yn-pn*Ja;function Wo(e){if(e instanceof Ue)return new Ue(e.h,e.s,e.l,e.opacity);e instanceof ue||(e=Kn(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(ni*r+ei*t-ti*n)/(ni+ei-ti),i=r-a,o=(kt*(n-a)-Yn*i)/pn,s=Math.sqrt(o*o+i*i)/(kt*a*(1-a)),u=s?Math.atan2(o,i)*Qa-120:NaN;return new Ue(u<0?u+360:u,s,a,e.opacity)}function he(e,t,n,r){return arguments.length===1?Wo(e):new Ue(e,t,n,r??1)}function Ue(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ot(Ue,he,Nt(ze,{brighter:function(e){return e=e==null?Ye:Math.pow(Ye,e),new Ue(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Ce:Math.pow(Ce,e),new Ue(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Za,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new ue(255*(t+n*(Ja*r+zn*a)),255*(t+n*(Yn*r+pn*a)),255*(t+n*(kt*r)),this.opacity)}}));var Un=e=>()=>e;function ri(e,t){return function(n){return e+n*t}}function ai(e,t){var n=t-e;return n?ri(e,n>180||n<-180?n-360*Math.round(n/360):n):Un(isNaN(e)?t:e)}function ut(e,t){var n=t-e;return n?ri(e,n):Un(isNaN(e)?t:e)}function ii(e){return function t(n){n=+n;function r(a,i){var o=e((a=he(a)).h,(i=he(i)).h),s=ut(a.s,i.s),u=ut(a.l,i.l),d=ut(a.opacity,i.opacity);return function(f){return a.h=o(f),a.s=s(f),a.l=u(Math.pow(f,n)),a.opacity=d(f),a+\"\"}}return r.gamma=t,r}(1)}var Ko=ii(ai),vn=ii(ut);var Vo=vn(he(-100,.75,.35),he(80,1.5,.8)),Lo=vn(he(260,.75,.35),he(80,1.5,.8)),gn=he();function $n(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return gn.h=360*e-100,gn.s=1.5-1.5*t,gn.l=.8-.9*t,gn+\"\"}var bn=hn(),zo=Math.PI/3,Yo=Math.PI*2/3;function Xn(e){var t;return e=(.5-e)*Math.PI,bn.r=255*(t=Math.sin(e))*t,bn.g=255*(t=Math.sin(e+zo))*t,bn.b=255*(t=Math.sin(e+Yo))*t,bn+\"\"}function Mn(e,t=0){return new yn.TinyColor({h:Math.floor((t+ct.Note.chroma(e)/12*360)%360),s:100,l:50})}function Pn(e,t=50,n=2){return(ct.Note.midi(e)-t)*n}function Zn(e,t=180){return new yn.TinyColor($n(ct.Note.chroma(e)/12+t/360))}function wn(e,t=180){return new yn.TinyColor(Xn(ct.Note.chroma(e)/12)+t/360)}function Ee({options:e,colorizer:t=Mn}){return e={range:[\"C3\",\"C4\"],...e},oi.default.createElement(Dn,{options:{...e,colorize:si.Range.chromatic(e.range).map(n=>({keys:[n],color:t(n)}))}})}var gi=ge(vi()),ys={title:\"Coloring Pitches\",date:\"2020-04-01\",tags:[\"code\",\"d3\"],description:\"Let's play with colors. Vizualization loves color. To map musical notes to color, we can do various things.\",image:\"./img/colorpiano.png\"};function Ms(e){let t=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",pre:\"pre\",code:\"code\",h3:\"h3\",label:\"label\",input:\"input\",br:\"br\",ul:\"ul\",li:\"li\"},e.components),{wrapper:n}=t,r=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Ee,{options:{scaleX:.5,scaleY:.5,range:[\"C0\",\"C7\"]},colorizer:a=>wn(a).desaturate(20).toHexString()}),`\n`,(0,l.jsx)(t.p,{children:\"Let's play with colors. Vizualization loves color. To map musical notes to color, we can do various things.\"}),`\n`,(0,l.jsxs)(t.h2,{id:\"rainbow-with-hsl\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#rainbow-with-hsl\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"rainbow with hsl\"]}),`\n`,(0,l.jsx)(t.p,{children:\"One simple approach is using the hsl color, dividing the 360 degrees through 12 pitches:\"}),`\n`,(0,l.jsx)(t.pre,{className:\"language-ts\",children:(0,l.jsxs)(t.code,{className:\"language-ts\",children:[(0,l.jsx)(t.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,l.jsxs)(t.span,{className:\"token imports\",children:[(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,l.jsx)(t.span,{className:\"token maybe-class-name\",children:\"TinyColor\"}),\" \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,l.jsx)(t.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,l.jsx)(t.span,{className:\"token string\",children:\"'@ctrl/tinycolor'\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,l.jsx)(t.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,l.jsxs)(t.span,{className:\"token imports\",children:[(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,l.jsx)(t.span,{className:\"token maybe-class-name\",children:\"Note\"}),\" \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,l.jsx)(t.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,l.jsx)(t.span,{className:\"token string\",children:\"'@tonaljs/tonal'\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,l.jsx)(t.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,l.jsx)(t.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,l.jsx)(t.span,{className:\"token function\",children:\"noteColor\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,l.jsx)(t.span,{className:\"token operator\",children:\":\"}),\" \",(0,l.jsx)(t.span,{className:\"token builtin\",children:\"string\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\",\"}),\" rotate \",(0,l.jsx)(t.span,{className:\"token operator\",children:\"=\"}),\" \",(0,l.jsx)(t.span,{className:\"token number\",children:\"0\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),(0,l.jsx)(t.span,{className:\"token operator\",children:\":\"}),\" \",(0,l.jsx)(t.span,{className:\"token maybe-class-name\",children:\"TinyColor\"}),\" \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,l.jsx)(t.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,l.jsx)(t.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,l.jsx)(t.span,{className:\"token class-name\",children:(0,l.jsx)(t.span,{className:\"token maybe-class-name\",children:\"TinyColor\"})}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"{\"}),`\n    h`,(0,l.jsx)(t.span,{className:\"token operator\",children:\":\"}),\" \",(0,l.jsx)(t.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\".\"}),(0,l.jsx)(t.span,{className:\"token method function property-access\",children:\"floor\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),\"rotate \",(0,l.jsx)(t.span,{className:\"token operator\",children:\"+\"}),\" \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),(0,l.jsx)(t.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\".\"}),(0,l.jsx)(t.span,{className:\"token method function property-access\",children:\"chroma\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,l.jsx)(t.span,{className:\"token operator\",children:\"/\"}),\" \",(0,l.jsx)(t.span,{className:\"token number\",children:\"12\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,l.jsx)(t.span,{className:\"token operator\",children:\"*\"}),\" \",(0,l.jsx)(t.span,{className:\"token number\",children:\"360\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,l.jsx)(t.span,{className:\"token operator\",children:\"%\"}),\" \",(0,l.jsx)(t.span,{className:\"token number\",children:\"360\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\",\"}),`\n    s`,(0,l.jsx)(t.span,{className:\"token operator\",children:\":\"}),\" \",(0,l.jsx)(t.span,{className:\"token number\",children:\"100\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\",\"}),`\n    l`,(0,l.jsx)(t.span,{className:\"token operator\",children:\":\"}),\" \",(0,l.jsx)(t.span,{className:\"token number\",children:\"50\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"}\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,l.jsx)(t.p,{children:\"If we throw that into the svg-piano:\"}),`\n`,(0,l.jsx)(t.pre,{className:\"language-js\",children:(0,l.jsxs)(t.code,{className:\"language-js\",children:[(0,l.jsx)(t.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,l.jsxs)(t.span,{className:\"token imports\",children:[(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,l.jsx)(t.span,{className:\"token maybe-class-name\",children:\"Range\"}),\" \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,l.jsx)(t.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,l.jsx)(t.span,{className:\"token string\",children:\"'@tonaljs/tonal'\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,l.jsx)(t.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,l.jsx)(t.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,l.jsx)(t.span,{className:\"token function\",children:(0,l.jsx)(t.span,{className:\"token maybe-class-name\",children:\"ColorKeyboard\"})}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),(0,l.jsxs)(t.span,{className:\"token parameter\",children:[(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"{\"}),\" options\",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\",\"}),\" colorizer \",(0,l.jsx)(t.span,{className:\"token operator\",children:\"=\"}),\" noteColor \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"}\"})]}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"{\"}),`\n  options `,(0,l.jsx)(t.span,{className:\"token operator\",children:\"=\"}),\" \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"{\"}),\" range\",(0,l.jsx)(t.span,{className:\"token operator\",children:\":\"}),\" \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"[\"}),(0,l.jsx)(t.span,{className:\"token string\",children:\"'C3'\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,l.jsx)(t.span,{className:\"token string\",children:\"'C4'\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"]\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,l.jsx)(t.span,{className:\"token spread operator\",children:\"...\"}),\"options \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"}\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,l.jsx)(t.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,l.jsx)(t.span,{className:\"token operator\",children:\"<\"}),(0,l.jsx)(t.span,{className:\"token maybe-class-name\",children:\"Keyboard\"}),`\n      options`,(0,l.jsx)(t.span,{className:\"token operator\",children:\"=\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"{\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"{\"}),`\n        `,(0,l.jsx)(t.span,{className:\"token spread operator\",children:\"...\"}),\"options\",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\",\"}),`\n        colorize`,(0,l.jsx)(t.span,{className:\"token operator\",children:\":\"}),\" \",(0,l.jsx)(t.span,{className:\"token maybe-class-name\",children:\"Range\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\".\"}),(0,l.jsx)(t.span,{className:\"token method function property-access\",children:\"chromatic\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),\"options\",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\".\"}),(0,l.jsx)(t.span,{className:\"token property-access\",children:\"range\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\".\"}),(0,l.jsx)(t.span,{className:\"token method function property-access\",children:\"map\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),(0,l.jsx)(t.span,{className:\"token parameter\",children:\"note\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,l.jsx)(t.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"{\"}),`\n          keys`,(0,l.jsx)(t.span,{className:\"token operator\",children:\":\"}),\" \",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"[\"}),\"note\",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"]\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\",\"}),`\n          color`,(0,l.jsx)(t.span,{className:\"token operator\",children:\":\"}),\" \",(0,l.jsx)(t.span,{className:\"token function\",children:\"colorizer\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\".\"}),(0,l.jsx)(t.span,{className:\"token method function property-access\",children:\"toHexString\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"(\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"}\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"}\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"}\"}),`\n    `,(0,l.jsx)(t.span,{className:\"token operator\",children:\"/\"}),(0,l.jsx)(t.span,{className:\"token operator\",children:\">\"}),`\n  `,(0,l.jsx)(t.span,{className:\"token punctuation\",children:\")\"}),(0,l.jsx)(t.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,l.jsx)(t.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,l.jsx)(Ee,{options:{scaleX:1,scaleY:1,range:[\"C2\",\"C6\"]}}),`\n`,(0,l.jsx)(t.p,{children:\"If this is too aggressive for you, read on..\"}),`\n`,(0,l.jsxs)(t.h2,{id:\"using-d3-scale-chromatic\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#using-d3-scale-chromatic\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Using d3-scale-chromatic\"]}),`\n`,(0,l.jsxs)(t.p,{children:[`After just scratching the surface of color research, I found out that there is a universe of color nerds out there, most of them coming from the data viz world.\nThe best color scales for this purpose I found so far are the `,(0,l.jsx)(t.a,{href:\"https://github.com/d3/d3-scale-chromatic#cyclical\",children:\"cyclical scales of d3-scale-chromatic\"}),\".\"]}),`\n`,(0,l.jsxs)(t.h3,{id:\"sinebow\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#sinebow\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"sinebow\"]}),`\n`,(0,l.jsx)(Ee,{options:{scaleX:1,scaleY:1,range:[\"C2\",\"C6\"]},colorizer:a=>wn(a).toHexString()}),`\n`,(0,l.jsxs)(t.h3,{id:\"less-angry-rainbow\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#less-angry-rainbow\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Less angry rainbow\"]}),`\n`,(0,l.jsx)(Ee,{options:{scaleX:1,scaleY:1,range:[\"C2\",\"C6\"]},colorizer:a=>Zn(a).toHexString()}),`\n`,(0,l.jsx)(t.p,{children:\"I like this one the most\"}),`\n`,(0,l.jsxs)(t.h2,{id:\"note-height-as-lightening-factor\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#note-height-as-lightening-factor\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Note height as lightening factor\"]}),`\n`,`\n`,(0,l.jsx)(gi.State,{initial:{offset:60,width:1.4,rotation:180,saturation:80},children:({state:a,setState:i})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(t.label,{children:[(0,l.jsx)(t.input,{min:\"0\",max:\"360\",type:\"range\",value:a.rotation,step:\"1\",onChange:o=>i({rotation:parseInt(o.target.value)})}),\" rotation \",a.rotation]}),(0,l.jsx)(t.br,{}),(0,l.jsxs)(t.label,{children:[(0,l.jsx)(t.input,{min:\"0\",max:\"100\",type:\"range\",value:a.offset,step:\"1\",onChange:o=>i({...a,offset:parseInt(o.target.value)})}),\" center \",a.offset]}),(0,l.jsx)(t.br,{}),(0,l.jsxs)(t.label,{children:[(0,l.jsx)(t.input,{min:\"0.1\",max:\"3.0\",type:\"range\",value:a.width,step:\"0.1\",onChange:o=>i({...a,width:parseFloat(o.target.value)})}),\" width \",a.width]}),(0,l.jsx)(t.br,{}),(0,l.jsxs)(t.label,{children:[(0,l.jsx)(t.input,{min:\"0\",max:\"100\",type:\"range\",value:a.saturation,step:\"1\",onChange:o=>i({...a,saturation:parseInt(o.target.value)})}),\" saturation \",a.saturation]}),(0,l.jsx)(t.br,{}),(0,l.jsx)(t.p,{children:\"angry rainbow\"}),(0,l.jsx)(Ee,{options:{scaleX:1,scaleY:1,range:[\"C2\",\"C6\"]},colorizer:o=>Mn(o,a.rotation).desaturate(100-a.saturation).lighten(Pn(o,a.offset,1/a.width)).toHexString()}),(0,l.jsx)(t.p,{children:\"sinebow\"}),(0,l.jsx)(Ee,{options:{scaleX:1,scaleY:1,range:[\"C2\",\"C6\"]},colorizer:o=>Zn(o,a.rotation).desaturate(100-a.saturation).lighten(Pn(o,a.offset,1/a.width)).toHexString()}),(0,l.jsx)(t.p,{children:\"less angry rainbow\"}),(0,l.jsx)(Ee,{options:{scaleX:1,scaleY:1,range:[\"C2\",\"C6\"]},colorizer:o=>wn(o,a.rotation).desaturate(100-a.saturation).lighten(Pn(o,a.offset,1/a.width)).toHexString()})]})}),`\n`,(0,l.jsxs)(t.h2,{id:\"next-steps\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#next-steps\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Next Steps\"]}),`\n`,(0,l.jsx)(t.p,{children:\"Thats enough for today. More ideas for the future:\"}),`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"colorize based on the circle of fifths instead of chromatically\"}),`\n`,(0,l.jsx)(t.li,{children:\"mix chord colors out of individual note colors\"}),`\n`,(0,l.jsx)(t.li,{children:'use non cyclic color scales for things like interval \"spice\" or voicing diff'}),`\n`]}),`\n`,(0,l.jsxs)(t.h2,{id:\"links-from-the-colorsphere\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#links-from-the-colorsphere\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Links from the colorsphere\"]}),`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:(0,l.jsx)(t.a,{href:\"https://krazydad.com/tutorials/makecolors.php\",children:\"https://krazydad.com/tutorials/makecolors.php\"})}),`\n`,(0,l.jsx)(t.li,{children:(0,l.jsx)(t.a,{href:\"http://basecase.org/env/on-rainbows\",children:\"http://basecase.org/env/on-rainbows\"})}),`\n`,(0,l.jsx)(t.li,{children:(0,l.jsx)(t.a,{href:\"https://mycarta.wordpress.com/2013/02/21/perceptual-rainbow-palette-the-method/\",children:\"https://mycarta.wordpress.com/2013/02/21/perceptual-rainbow-palette-the-method/\"})}),`\n`,(0,l.jsx)(t.li,{children:(0,l.jsx)(t.a,{href:\"https://github.com/gka/chroma.js\",children:\"https://github.com/gka/chroma.js\"})}),`\n`,(0,l.jsx)(t.li,{children:(0,l.jsx)(t.a,{href:\"https://github.com/d3/d3-color\",children:\"https://github.com/d3/d3-color\"})}),`\n`,(0,l.jsx)(t.li,{children:(0,l.jsx)(t.a,{href:\"https://bl.ocks.org/mbostock/310c99e53880faec2434\",children:\"https://bl.ocks.org/mbostock/310c99e53880faec2434\"})}),`\n`,(0,l.jsx)(t.li,{children:(0,l.jsx)(t.a,{href:\"https://bl.ocks.org/mbostock/310c99e53880faec2434\",children:\"https://bl.ocks.org/mbostock/310c99e53880faec2434\"})}),`\n`,(0,l.jsx)(t.li,{children:(0,l.jsx)(t.a,{href:\"http://whitneymusicbox.org/\",children:\"http://whitneymusicbox.org/\"})}),`\n`]})]});return n?(0,l.jsx)(n,Object.assign({},e,{children:r})):r}var Ps=Ms;return ws;})();\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n;return Component.default;"},"__N_SSG":true}