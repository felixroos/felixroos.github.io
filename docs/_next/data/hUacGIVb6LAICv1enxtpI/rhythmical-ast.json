{"pageProps":{"frontmatter":{"title":"Rhythmical AST","date":"2021-12-29","tags":["code","rhythmical"],"description":"blabla","draft":true},"code":"var Component=(()=>{var o=Object.create;var t=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var l=a=>t(a,\"__esModule\",{value:!0});var m=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),k=(a,n)=>{l(a);for(var s in n)t(a,s,{get:n[s],enumerable:!0})},N=(a,n,s)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of p(n))!u.call(a,c)&&c!==\"default\"&&t(a,c,{get:()=>n[c],enumerable:!(s=d(n,c))||s.enumerable});return a},f=a=>N(l(t(a!=null?o(h(a)):{},\"default\",a&&a.__esModule&&\"default\"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var r=m((j,i)=>{i.exports=_jsx_runtime});var b={};k(b,{default:()=>x,frontmatter:()=>y});var e=f(r()),y={title:\"Rhythmical AST\",date:\"2021-12-29\",tags:[\"code\",\"rhythmical\"],description:\"blabla\",draft:!0};function g(a){let n=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",ul:\"ul\",li:\"li\",h3:\"h3\",code:\"code\",pre:\"pre\"},a.components),{wrapper:s}=n,c=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:\"AST\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"features\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#features\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Features\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"traverse items aka Tree.forEach\"}),`\n`,(0,e.jsx)(n.li,{children:\"modify items aka Tree.map\"}),`\n`,(0,e.jsx)(n.li,{children:\"remove items aka Tree.filter\"}),`\n`,(0,e.jsx)(n.li,{children:\"reduce items aka Tree.reduce\"}),`\n`,(0,e.jsx)(n.li,{children:\"keep pure state while reducing??\"}),`\n`,(0,e.jsx)(n.li,{children:\"skip?\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"example-features\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#example-features\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Example Features\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"['x*3','y']\"}),\" => \",(0,e.jsx)(n.code,{children:\"['x','x','x','y']\"}),\" (reduce)\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"['a',['b','c']]\"}),\" => \",(0,e.jsx)(n.code,{children:\"['a:0,1','b:1,0.5','c:1.5,0.5']\"}),\" (flatten / reduce)\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"['C','F']\"}),\" => \",(0,e.jsx)(n.code,{children:\"[p(['C3','E3','G3']), p(['F3','A3','C4'])]\"}),\" (map & skip?)\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"ideas\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#ideas\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Ideas\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"transform rhythmical object to unified AST for easier traversal\"}),`\n`,(0,e.jsx)(n.li,{children:\"try to wrap traveral + mutation inside immer for immutable tree transforms\"}),`\n`,(0,e.jsx)(n.li,{children:\"write better rhythmical typings\"}),`\n`,(0,e.jsx)(n.li,{children:\"think about NLR / LRN\"}),`\n`,(0,e.jsx)(n.li,{children:\"try if unist has the required tools to implement rhythmical\"}),`\n`,(0,e.jsx)(n.li,{children:\"try to write regular Array.map that does tree mutation\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"treemap\",children:[(0,e.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#treemap\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Tree.map\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'a'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'b'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'c'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"nested\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token console class-name\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,e.jsx)(n.span,{className:\"token comment\",children:\"// a\"}),`\n`,(0,e.jsx)(n.span,{className:\"token comment\",children:\"// b\"}),`\n`,(0,e.jsx)(n.span,{className:\"token comment\",children:\"// c\"}),`\n\n`,(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"nested\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"fn\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" getChildren\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"node\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n    node `,(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"fn\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"node\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// mutate before\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" children \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getChildren\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"node\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"children\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),\"length\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n      `,(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" children\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"nested\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"fn\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" getChildren\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"fn\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"node\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// mutate after\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})]});return s?(0,e.jsx)(s,Object.assign({},a,{children:c})):c}var x=g;return b;})();\n;return Component.default;"},"__N_SSG":true}