{"pageProps":{"frontmatter":{"title":"Plotting Functions with React and d3.js","date":"2020-04-18","tags":["code","d3"],"description":"As the basis of many upcoming visualizations.","image":"./img/plot.png"},"code":"var Component=(()=>{var mr=Object.create;var Fn=Object.defineProperty;var dr=Object.getOwnPropertyDescriptor;var hr=Object.getOwnPropertyNames;var kr=Object.getPrototypeOf,Nr=Object.prototype.hasOwnProperty;var Ze=e=>Fn(e,\"__esModule\",{value:!0});var ce=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),gr=(e,n)=>{Ze(e);for(var a in n)Fn(e,a,{get:n[a],enumerable:!0})},xr=(e,n,a)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let o of hr(n))!Nr.call(e,o)&&o!==\"default\"&&Fn(e,o,{get:()=>n[o],enumerable:!(a=dr(n,o))||a.enumerable});return e},sn=e=>xr(Ze(Fn(e!=null?mr(kr(e)):{},\"default\",e&&e.__esModule&&\"default\"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var et=ce((ns,nt)=>{nt.exports=_jsx_runtime});var le=ce((es,tt)=>{tt.exports=React});var vn=ce((Rn,at)=>{(function(e,n){typeof Rn==\"object\"&&typeof at!=\"undefined\"?n(Rn):typeof define==\"function\"&&define.amd?define([\"exports\"],n):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,n(e.d3=e.d3||{}))})(Rn,function(e){\"use strict\";function n(r,s){return r<s?-1:r>s?1:r>=s?0:NaN}function a(r){let s=r,c=r;r.length===1&&(s=(k,b)=>r(k)-b,c=o(r));function u(k,b,v,_){for(v==null&&(v=0),_==null&&(_=k.length);v<_;){let A=v+_>>>1;c(k[A],b)<0?v=A+1:_=A}return v}function l(k,b,v,_){for(v==null&&(v=0),_==null&&(_=k.length);v<_;){let A=v+_>>>1;c(k[A],b)>0?_=A:v=A+1}return v}function m(k,b,v,_){v==null&&(v=0),_==null&&(_=k.length);let A=u(k,b,v,_-1);return A>v&&s(k[A-1],b)>-s(k[A],b)?A-1:A}return{left:u,center:m,right:l}}function o(r){return(s,c)=>n(r(s),c)}function i(r){return r===null?NaN:+r}function*p(r,s){if(s===void 0)for(let c of r)c!=null&&(c=+c)>=c&&(yield c);else{let c=-1;for(let u of r)(u=s(u,++c,r))!=null&&(u=+u)>=u&&(yield u)}}let f=a(n),d=f.right,h=f.left,N=a(i).center;function y(r,s){let c=0;if(s===void 0)for(let u of r)u!=null&&(u=+u)>=u&&++c;else{let u=-1;for(let l of r)(l=s(l,++u,r))!=null&&(l=+l)>=l&&++c}return c}function w(r){return r.length|0}function g(r){return!(r>0)}function x(r){return typeof r!=\"object\"||\"length\"in r?r:Array.from(r)}function M(r){return s=>r(...s)}function C(...r){let s=typeof r[r.length-1]==\"function\"&&M(r.pop());r=r.map(x);let c=r.map(w),u=r.length-1,l=new Array(u+1).fill(0),m=[];if(u<0||c.some(g))return m;for(;;){m.push(l.map((b,v)=>r[v][b]));let k=u;for(;++l[k]===c[k];){if(k===0)return s?m.map(s):m;l[k--]=0}}}function L(r,s){var c=0,u=0;return Float64Array.from(r,s===void 0?l=>c+=+l||0:l=>c+=+s(l,u++,r)||0)}function D(r,s){return s<r?-1:s>r?1:s>=r?0:NaN}function P(r,s){let c=0,u,l=0,m=0;if(s===void 0)for(let k of r)k!=null&&(k=+k)>=k&&(u=k-l,l+=u/++c,m+=u*(k-l));else{let k=-1;for(let b of r)(b=s(b,++k,r))!=null&&(b=+b)>=b&&(u=b-l,l+=u/++c,m+=u*(b-l))}if(c>1)return m/(c-1)}function F(r,s){let c=P(r,s);return c&&Math.sqrt(c)}function O(r,s){let c,u;if(s===void 0)for(let l of r)l!=null&&(c===void 0?l>=l&&(c=u=l):(c>l&&(c=l),u<l&&(u=l)));else{let l=-1;for(let m of r)(m=s(m,++l,r))!=null&&(c===void 0?m>=m&&(c=u=m):(c>m&&(c=m),u<m&&(u=m)))}return[c,u]}class S{constructor(){this._partials=new Float64Array(32),this._n=0}add(s){let c=this._partials,u=0;for(let l=0;l<this._n&&l<32;l++){let m=c[l],k=s+m,b=Math.abs(s)<Math.abs(m)?s-(k-m):m-(k-s);b&&(c[u++]=b),s=k}return c[u]=s,this._n=u+1,this}valueOf(){let s=this._partials,c=this._n,u,l,m,k=0;if(c>0){for(k=s[--c];c>0&&(u=k,l=s[--c],k=u+l,m=l-(k-u),!m););c>0&&(m<0&&s[c-1]<0||m>0&&s[c-1]>0)&&(l=m*2,u=k+l,l==u-k&&(k=u))}return k}}function V(r,s){let c=new S;if(s===void 0)for(let u of r)(u=+u)&&c.add(u);else{let u=-1;for(let l of r)(l=+s(l,++u,r))&&c.add(l)}return+c}function $(r,s){let c=new S,u=-1;return Float64Array.from(r,s===void 0?l=>c.add(+l||0):l=>c.add(+s(l,++u,r)||0))}class E extends Map{constructor(s,c=R){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:c}}),s!=null)for(let[u,l]of s)this.set(u,l)}get(s){return super.get(T(this,s))}has(s){return super.has(T(this,s))}set(s,c){return super.set(j(this,s),c)}delete(s){return super.delete(q(this,s))}}class H extends Set{constructor(s,c=R){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:c}}),s!=null)for(let u of s)this.add(u)}has(s){return super.has(T(this,s))}add(s){return super.add(j(this,s))}delete(s){return super.delete(q(this,s))}}function T({_intern:r,_key:s},c){let u=s(c);return r.has(u)?r.get(u):c}function j({_intern:r,_key:s},c){let u=s(c);return r.has(u)?r.get(u):(r.set(u,c),c)}function q({_intern:r,_key:s},c){let u=s(c);return r.has(u)&&(c=r.get(c),r.delete(u)),c}function R(r){return r!==null&&typeof r==\"object\"?r.valueOf():r}function X(r){return r}function bn(r,...s){return hn(r,X,X,s)}function mn(r,...s){return hn(r,Array.from,X,s)}function rn(r,s,...c){return hn(r,X,s,c)}function dn(r,s,...c){return hn(r,Array.from,s,c)}function J(r,...s){return hn(r,X,Oe,s)}function Ia(r,...s){return hn(r,Array.from,Oe,s)}function Oe(r){if(r.length!==1)throw new Error(\"duplicate key\");return r[0]}function hn(r,s,c,u){return function l(m,k){if(k>=u.length)return c(m);let b=new E,v=u[k++],_=-1;for(let A of m){let I=v(A,++_,m),B=b.get(I);B?B.push(A):b.set(I,[A])}for(let[A,I]of b)b.set(A,l(I,k));return s(b)}(r,0)}function He(r,s){return Array.from(s,c=>r[c])}function ne(r,...s){if(typeof r[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");r=Array.from(r);let[c=n]=s;if(c.length===1||s.length>1){let u=Uint32Array.from(r,(l,m)=>m);return s.length>1?(s=s.map(l=>r.map(l)),u.sort((l,m)=>{for(let k of s){let b=n(k[l],k[m]);if(b)return b}})):(c=r.map(c),u.sort((l,m)=>n(c[l],c[m]))),He(r,u)}return r.sort(c)}function qa(r,s,c){return(s.length===1?ne(rn(r,s,c),([u,l],[m,k])=>n(l,k)||n(u,m)):ne(bn(r,c),([u,l],[m,k])=>s(l,k)||n(u,m))).map(([u])=>u)}var Ca=Array.prototype,Ea=Ca.slice;function In(r){return function(){return r}}var ee=Math.sqrt(50),te=Math.sqrt(10),ae=Math.sqrt(2);function Ve(r,s,c){var u,l=-1,m,k,b;if(s=+s,r=+r,c=+c,r===s&&c>0)return[r];if((u=s<r)&&(m=r,r=s,s=m),(b=qn(r,s,c))===0||!isFinite(b))return[];if(b>0){let v=Math.round(r/b),_=Math.round(s/b);for(v*b<r&&++v,_*b>s&&--_,k=new Array(m=_-v+1);++l<m;)k[l]=(v+l)*b}else{b=-b;let v=Math.round(r*b),_=Math.round(s*b);for(v/b<r&&++v,_/b>s&&--_,k=new Array(m=_-v+1);++l<m;)k[l]=(v+l)/b}return u&&k.reverse(),k}function qn(r,s,c){var u=(s-r)/Math.max(0,c),l=Math.floor(Math.log(u)/Math.LN10),m=u/Math.pow(10,l);return l>=0?(m>=ee?10:m>=te?5:m>=ae?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(m>=ee?10:m>=te?5:m>=ae?2:1)}function Fa(r,s,c){var u=Math.abs(s-r)/Math.max(0,c),l=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),m=u/l;return m>=ee?l*=10:m>=te?l*=5:m>=ae&&(l*=2),s<r?-l:l}function $e(r,s,c){let u;for(;;){let l=qn(r,s,c);if(l===u||l===0||!isFinite(l))return[r,s];l>0?(r=Math.floor(r/l)*l,s=Math.ceil(s/l)*l):l<0&&(r=Math.ceil(r*l)/l,s=Math.floor(s*l)/l),u=l}}function Xe(r){return Math.ceil(Math.log(y(r))/Math.LN2)+1}function Ye(){var r=X,s=O,c=Xe;function u(l){Array.isArray(l)||(l=Array.from(l));var m,k=l.length,b,v=new Array(k);for(m=0;m<k;++m)v[m]=r(l[m],m,l);var _=s(v),A=_[0],I=_[1],B=c(v,A,I);if(!Array.isArray(B)){let fr=I,ie=+B;if(s===O&&([A,I]=$e(A,I,ie)),B=Ve(A,I,ie),B[B.length-1]>=I)if(fr>=I&&s===O){let on=qn(A,I,ie);isFinite(on)&&(on>0?I=(Math.floor(I/on)+1)*on:on<0&&(I=(Math.ceil(I*-on)+1)/-on))}else B.pop()}for(var nn=B.length;B[0]<=A;)B.shift(),--nn;for(;B[nn-1]>I;)B.pop(),--nn;var jn=new Array(nn+1),se;for(m=0;m<=nn;++m)se=jn[m]=[],se.x0=m>0?B[m-1]:A,se.x1=m<nn?B[m]:I;for(m=0;m<k;++m)b=v[m],A<=b&&b<=I&&jn[d(B,b,0,nn)].push(l[m]);return jn}return u.value=function(l){return arguments.length?(r=typeof l==\"function\"?l:In(l),u):r},u.domain=function(l){return arguments.length?(s=typeof l==\"function\"?l:In([l[0],l[1]]),u):s},u.thresholds=function(l){return arguments.length?(c=typeof l==\"function\"?l:Array.isArray(l)?In(Ea.call(l)):In(l),u):c},u}function re(r,s){let c;if(s===void 0)for(let u of r)u!=null&&(c<u||c===void 0&&u>=u)&&(c=u);else{let u=-1;for(let l of r)(l=s(l,++u,r))!=null&&(c<l||c===void 0&&l>=l)&&(c=l)}return c}function Cn(r,s){let c;if(s===void 0)for(let u of r)u!=null&&(c>u||c===void 0&&u>=u)&&(c=u);else{let u=-1;for(let l of r)(l=s(l,++u,r))!=null&&(c>l||c===void 0&&l>=l)&&(c=l)}return c}function oe(r,s,c=0,u=r.length-1,l=n){for(;u>c;){if(u-c>600){let v=u-c+1,_=s-c+1,A=Math.log(v),I=.5*Math.exp(2*A/3),B=.5*Math.sqrt(A*I*(v-I)/v)*(_-v/2<0?-1:1),nn=Math.max(c,Math.floor(s-_*I/v+B)),jn=Math.min(u,Math.floor(s+(v-_)*I/v+B));oe(r,s,nn,jn,l)}let m=r[s],k=c,b=u;for(wn(r,c,s),l(r[u],m)>0&&wn(r,c,u);k<b;){for(wn(r,k,b),++k,--b;l(r[k],m)<0;)++k;for(;l(r[b],m)>0;)--b}l(r[c],m)===0?wn(r,c,b):(++b,wn(r,b,u)),b<=s&&(c=b+1),s<=b&&(u=b-1)}return r}function wn(r,s,c){let u=r[s];r[s]=r[c],r[c]=u}function En(r,s,c){if(r=Float64Array.from(p(r,c)),!!(u=r.length)){if((s=+s)<=0||u<2)return Cn(r);if(s>=1)return re(r);var u,l=(u-1)*s,m=Math.floor(l),k=re(oe(r,m).subarray(0,m+1)),b=Cn(r.subarray(m+1));return k+(b-k)*(l-m)}}function Ra(r,s,c=i){if(!!(u=r.length)){if((s=+s)<=0||u<2)return+c(r[0],0,r);if(s>=1)return+c(r[u-1],u-1,r);var u,l=(u-1)*s,m=Math.floor(l),k=+c(r[m],m,r),b=+c(r[m+1],m+1,r);return k+(b-k)*(l-m)}}function za(r,s,c){return Math.ceil((c-s)/(2*(En(r,.75)-En(r,.25))*Math.pow(y(r),-1/3)))}function Da(r,s,c){return Math.ceil((c-s)/(3.5*F(r)*Math.pow(y(r),-1/3)))}function Ue(r,s){let c,u=-1,l=-1;if(s===void 0)for(let m of r)++l,m!=null&&(c<m||c===void 0&&m>=m)&&(c=m,u=l);else for(let m of r)(m=s(m,++l,r))!=null&&(c<m||c===void 0&&m>=m)&&(c=m,u=l);return u}function Ba(r,s){let c=0,u=0;if(s===void 0)for(let l of r)l!=null&&(l=+l)>=l&&(++c,u+=l);else{let l=-1;for(let m of r)(m=s(m,++l,r))!=null&&(m=+m)>=m&&(++c,u+=m)}if(c)return u/c}function Ta(r,s){return En(r,.5,s)}function*Oa(r){for(let s of r)yield*s}function Ha(r){return Array.from(Oa(r))}function Je(r,s){let c,u=-1,l=-1;if(s===void 0)for(let m of r)++l,m!=null&&(c>m||c===void 0&&m>=m)&&(c=m,u=l);else for(let m of r)(m=s(m,++l,r))!=null&&(c>m||c===void 0&&m>=m)&&(c=m,u=l);return u}function Va(r,s=$a){let c=[],u,l=!1;for(let m of r)l&&c.push(s(u,m)),u=m,l=!0;return c}function $a(r,s){return[r,s]}function Xa(r,s,c){r=+r,s=+s,c=(l=arguments.length)<2?(s=r,r=0,1):l<3?1:+c;for(var u=-1,l=Math.max(0,Math.ceil((s-r)/c))|0,m=new Array(l);++u<l;)m[u]=r+u*c;return m}function Ya(r,s=n){let c,u=!1;if(s.length===1){let l;for(let m of r){let k=s(m);(u?n(k,l)<0:n(k,k)===0)&&(c=m,l=k,u=!0)}}else for(let l of r)(u?s(l,c)<0:s(l,l)===0)&&(c=l,u=!0);return c}function Qe(r,s=n){if(s.length===1)return Je(r,s);let c,u=-1,l=-1;for(let m of r)++l,(u<0?s(m,m)===0:s(m,c)<0)&&(c=m,u=l);return u}function Ua(r,s=n){let c,u=!1;if(s.length===1){let l;for(let m of r){let k=s(m);(u?n(k,l)>0:n(k,k)===0)&&(c=m,l=k,u=!0)}}else for(let l of r)(u?s(l,c)>0:s(l,l)===0)&&(c=l,u=!0);return c}function Ja(r,s=n){if(s.length===1)return Ue(r,s);let c,u=-1,l=-1;for(let m of r)++l,(u<0?s(m,m)===0:s(m,c)>0)&&(c=m,u=l);return u}function Qa(r,s){let c=Qe(r,s);return c<0?void 0:c}var Ga=Ge(Math.random);function Ge(r){return function(c,u=0,l=c.length){let m=l-(u=+u);for(;m;){let k=r()*m--|0,b=c[m+u];c[m+u]=c[k+u],c[k+u]=b}return c}}function Wa(r,s){let c=0;if(s===void 0)for(let u of r)(u=+u)&&(c+=u);else{let u=-1;for(let l of r)(l=+s(l,++u,r))&&(c+=l)}return c}function We(r){if(!(m=r.length))return[];for(var s=-1,c=Cn(r,Ka),u=new Array(c);++s<c;)for(var l=-1,m,k=u[s]=new Array(m);++l<m;)k[l]=r[l][s];return u}function Ka(r){return r.length}function Za(){return We(arguments)}function nr(r,s){if(typeof s!=\"function\")throw new TypeError(\"test is not a function\");let c=-1;for(let u of r)if(!s(u,++c,r))return!1;return!0}function er(r,s){if(typeof s!=\"function\")throw new TypeError(\"test is not a function\");let c=-1;for(let u of r)if(s(u,++c,r))return!0;return!1}function tr(r,s){if(typeof s!=\"function\")throw new TypeError(\"test is not a function\");let c=[],u=-1;for(let l of r)s(l,++u,r)&&c.push(l);return c}function ar(r,s){if(typeof r[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");if(typeof s!=\"function\")throw new TypeError(\"mapper is not a function\");return Array.from(r,(c,u)=>s(c,u,r))}function rr(r,s,c){if(typeof s!=\"function\")throw new TypeError(\"reducer is not a function\");let u=r[Symbol.iterator](),l,m,k=-1;if(arguments.length<3){if({done:l,value:c}=u.next(),l)return;++k}for(;{done:l,value:m}=u.next(),!l;)c=s(c,m,++k,r);return c}function or(r){if(typeof r[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");return Array.from(r).reverse()}function sr(r,...s){r=new Set(r);for(let c of s)for(let u of c)r.delete(u);return r}function ir(r,s){let c=s[Symbol.iterator](),u=new Set;for(let l of r){if(u.has(l))return!1;let m,k;for(;({value:m,done:k}=c.next())&&!k;){if(Object.is(l,m))return!1;u.add(m)}}return!0}function cr(r){return r instanceof Set?r:new Set(r)}function lr(r,...s){r=new Set(r),s=s.map(cr);n:for(let c of r)for(let u of s)if(!u.has(c)){r.delete(c);continue n}return r}function Ke(r,s){let c=r[Symbol.iterator](),u=new Set;for(let l of s){if(u.has(l))continue;let m,k;for(;{value:m,done:k}=c.next();){if(k)return!1;if(u.add(m),Object.is(l,m))break}}return!0}function ur(r,s){return Ke(s,r)}function pr(...r){let s=new Set;for(let c of r)for(let u of c)s.add(u);return s}e.Adder=S,e.InternMap=E,e.InternSet=H,e.ascending=n,e.bin=Ye,e.bisect=d,e.bisectCenter=N,e.bisectLeft=h,e.bisectRight=d,e.bisector=a,e.count=y,e.cross=C,e.cumsum=L,e.descending=D,e.deviation=F,e.difference=sr,e.disjoint=ir,e.every=nr,e.extent=O,e.fcumsum=$,e.filter=tr,e.fsum=V,e.greatest=Ua,e.greatestIndex=Ja,e.group=bn,e.groupSort=qa,e.groups=mn,e.histogram=Ye,e.index=J,e.indexes=Ia,e.intersection=lr,e.least=Ya,e.leastIndex=Qe,e.map=ar,e.max=re,e.maxIndex=Ue,e.mean=Ba,e.median=Ta,e.merge=Ha,e.min=Cn,e.minIndex=Je,e.nice=$e,e.pairs=Va,e.permute=He,e.quantile=En,e.quantileSorted=Ra,e.quickselect=oe,e.range=Xa,e.reduce=rr,e.reverse=or,e.rollup=rn,e.rollups=dn,e.scan=Qa,e.shuffle=Ga,e.shuffler=Ge,e.some=er,e.sort=ne,e.subset=ur,e.sum=Wa,e.superset=Ke,e.thresholdFreedmanDiaconis=za,e.thresholdScott=Da,e.thresholdSturges=Xe,e.tickIncrement=qn,e.tickStep=Fa,e.ticks=Ve,e.transpose=We,e.union=pr,e.variance=P,e.zip=Za,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Ko={};gr(Ko,{default:()=>Wo,frontmatter:()=>Qo});var t=sn(et());var U=sn(le());function zn(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e);break}return this}var Yn=sn(vn());var jt=sn(vn());function Dn(e,n,a){e.prototype=n.prototype=a,a.constructor=e}function ue(e,n){var a=Object.create(e.prototype);for(var o in n)a[o]=n[o];return a}function Mn(){}var _n=.7,Bn=1/_n,kn=\"\\\\s*([+-]?\\\\d+)\\\\s*\",An=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",G=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",yr=/^#([0-9a-f]{3,8})$/,br=new RegExp(\"^rgb\\\\(\"+[kn,kn,kn]+\"\\\\)$\"),wr=new RegExp(\"^rgb\\\\(\"+[G,G,G]+\"\\\\)$\"),jr=new RegExp(\"^rgba\\\\(\"+[kn,kn,kn,An]+\"\\\\)$\"),vr=new RegExp(\"^rgba\\\\(\"+[G,G,G,An]+\"\\\\)$\"),Mr=new RegExp(\"^hsl\\\\(\"+[An,G,G]+\"\\\\)$\"),_r=new RegExp(\"^hsla\\\\(\"+[An,G,G,An]+\"\\\\)$\"),rt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dn(Mn,en,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ot,formatHex:ot,formatHsl:Ar,formatRgb:st,toString:st});function ot(){return this.rgb().formatHex()}function Ar(){return pt(this).formatHsl()}function st(){return this.rgb().formatRgb()}function en(e){var n,a;return e=(e+\"\").trim().toLowerCase(),(n=yr.exec(e))?(a=n[1].length,n=parseInt(n[1],16),a===6?it(n):a===3?new Y(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):a===8?Tn(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):a===4?Tn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=br.exec(e))?new Y(n[1],n[2],n[3],1):(n=wr.exec(e))?new Y(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=jr.exec(e))?Tn(n[1],n[2],n[3],n[4]):(n=vr.exec(e))?Tn(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Mr.exec(e))?ut(n[1],n[2]/100,n[3]/100,1):(n=_r.exec(e))?ut(n[1],n[2]/100,n[3]/100,n[4]):rt.hasOwnProperty(e)?it(rt[e]):e===\"transparent\"?new Y(NaN,NaN,NaN,0):null}function it(e){return new Y(e>>16&255,e>>8&255,e&255,1)}function Tn(e,n,a,o){return o<=0&&(e=n=a=NaN),new Y(e,n,a,o)}function Sr(e){return e instanceof Mn||(e=en(e)),e?(e=e.rgb(),new Y(e.r,e.g,e.b,e.opacity)):new Y}function Nn(e,n,a,o){return arguments.length===1?Sr(e):new Y(e,n,a,o??1)}function Y(e,n,a,o){this.r=+e,this.g=+n,this.b=+a,this.opacity=+o}Dn(Y,Nn,ue(Mn,{brighter:function(e){return e=e==null?Bn:Math.pow(Bn,e),new Y(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?_n:Math.pow(_n,e),new Y(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ct,formatHex:ct,formatRgb:lt,toString:lt}));function ct(){return\"#\"+pe(this.r)+pe(this.g)+pe(this.b)}function lt(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?\")\":\", \"+e+\")\")}function pe(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?\"0\":\"\")+e.toString(16)}function ut(e,n,a,o){return o<=0?e=n=a=NaN:a<=0||a>=1?e=n=NaN:n<=0&&(e=NaN),new W(e,n,a,o)}function pt(e){if(e instanceof W)return new W(e.h,e.s,e.l,e.opacity);if(e instanceof Mn||(e=en(e)),!e)return new W;if(e instanceof W)return e;e=e.rgb();var n=e.r/255,a=e.g/255,o=e.b/255,i=Math.min(n,a,o),p=Math.max(n,a,o),f=NaN,d=p-i,h=(p+i)/2;return d?(n===p?f=(a-o)/d+(a<o)*6:a===p?f=(o-n)/d+2:f=(n-a)/d+4,d/=h<.5?p+i:2-p-i,f*=60):d=h>0&&h<1?0:f,new W(f,d,h,e.opacity)}function ft(e,n,a,o){return arguments.length===1?pt(e):new W(e,n,a,o??1)}function W(e,n,a,o){this.h=+e,this.s=+n,this.l=+a,this.opacity=+o}Dn(W,ft,ue(Mn,{brighter:function(e){return e=e==null?Bn:Math.pow(Bn,e),new W(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?_n:Math.pow(_n,e),new W(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,o=a+(a<.5?a:1-a)*n,i=2*a-o;return new Y(fe(e>=240?e-240:e+120,i,o),fe(e,i,o),fe(e<120?e+240:e-120,i,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+(this.s||0)*100+\"%, \"+(this.l||0)*100+\"%\"+(e===1?\")\":\", \"+e+\")\")}}));function fe(e,n,a){return(e<60?n+(a-n)*e/60:e<180?a:e<240?n+(a-n)*(240-e)/60:n)*255}function me(e,n,a,o,i){var p=e*e,f=p*e;return((1-3*e+3*p-f)*n+(4-6*p+3*f)*a+(1+3*e+3*p-3*f)*o+f*i)/6}function mt(e){var n=e.length-1;return function(a){var o=a<=0?a=0:a>=1?(a=1,n-1):Math.floor(a*n),i=e[o],p=e[o+1],f=o>0?e[o-1]:2*i-p,d=o<n-1?e[o+2]:2*p-i;return me((a-o/n)*n,f,i,p,d)}}function dt(e){var n=e.length;return function(a){var o=Math.floor(((a%=1)<0?++a:a)*n),i=e[(o+n-1)%n],p=e[o%n],f=e[(o+1)%n],d=e[(o+2)%n];return me((a-o/n)*n,i,p,f,d)}}var Sn=e=>()=>e;function Pr(e,n){return function(a){return e+a*n}}function Lr(e,n,a){return e=Math.pow(e,a),n=Math.pow(n,a)-e,a=1/a,function(o){return Math.pow(e+o*n,a)}}function ht(e){return(e=+e)==1?On:function(n,a){return a-n?Lr(n,a,e):Sn(isNaN(n)?a:n)}}function On(e,n){var a=n-e;return a?Pr(e,a):Sn(isNaN(e)?n:e)}var de=function e(n){var a=ht(n);function o(i,p){var f=a((i=Nn(i)).r,(p=Nn(p)).r),d=a(i.g,p.g),h=a(i.b,p.b),N=On(i.opacity,p.opacity);return function(y){return i.r=f(y),i.g=d(y),i.b=h(y),i.opacity=N(y),i+\"\"}}return o.gamma=e,o}(1);function kt(e){return function(n){var a=n.length,o=new Array(a),i=new Array(a),p=new Array(a),f,d;for(f=0;f<a;++f)d=Nn(n[f]),o[f]=d.r||0,i[f]=d.g||0,p[f]=d.b||0;return o=e(o),i=e(i),p=e(p),d.opacity=1,function(h){return d.r=o(h),d.g=i(h),d.b=p(h),d+\"\"}}}var gs=kt(mt),xs=kt(dt);function Nt(e,n){n||(n=[]);var a=e?Math.min(n.length,e.length):0,o=n.slice(),i;return function(p){for(i=0;i<a;++i)o[i]=e[i]*(1-p)+n[i]*p;return o}}function gt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xt(e,n){var a=n?n.length:0,o=e?Math.min(a,e.length):0,i=new Array(o),p=new Array(a),f;for(f=0;f<o;++f)i[f]=cn(e[f],n[f]);for(;f<a;++f)p[f]=n[f];return function(d){for(f=0;f<o;++f)p[f]=i[f](d);return p}}function yt(e,n){var a=new Date;return e=+e,n=+n,function(o){return a.setTime(e*(1-o)+n*o),a}}function tn(e,n){return e=+e,n=+n,function(a){return e*(1-a)+n*a}}function bt(e,n){var a={},o={},i;(e===null||typeof e!=\"object\")&&(e={}),(n===null||typeof n!=\"object\")&&(n={});for(i in n)i in e?a[i]=cn(e[i],n[i]):o[i]=n[i];return function(p){for(i in a)o[i]=a[i](p);return o}}var he=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,ke=new RegExp(he.source,\"g\");function Ir(e){return function(){return e}}function qr(e){return function(n){return e(n)+\"\"}}function wt(e,n){var a=he.lastIndex=ke.lastIndex=0,o,i,p,f=-1,d=[],h=[];for(e=e+\"\",n=n+\"\";(o=he.exec(e))&&(i=ke.exec(n));)(p=i.index)>a&&(p=n.slice(a,p),d[f]?d[f]+=p:d[++f]=p),(o=o[0])===(i=i[0])?d[f]?d[f]+=i:d[++f]=i:(d[++f]=null,h.push({i:f,x:tn(o,i)})),a=ke.lastIndex;return a<n.length&&(p=n.slice(a),d[f]?d[f]+=p:d[++f]=p),d.length<2?h[0]?qr(h[0].x):Ir(n):(n=h.length,function(N){for(var y=0,w;y<n;++y)d[(w=h[y]).i]=w.x(N);return d.join(\"\")})}function cn(e,n){var a=typeof n,o;return n==null||a===\"boolean\"?Sn(n):(a===\"number\"?tn:a===\"string\"?(o=en(n))?(n=o,de):wt:n instanceof en?de:n instanceof Date?yt:gt(n)?Nt:Array.isArray(n)?xt:typeof n.valueOf!=\"function\"&&typeof n.toString!=\"function\"||isNaN(n)?bt:tn)(e,n)}function Ne(e,n){return e=+e,n=+n,function(a){return Math.round(e*(1-a)+n*a)}}function ge(e){return function(){return e}}function xe(e){return+e}var vt=[0,1];function gn(e){return e}function ye(e,n){return(n-=e=+e)?function(a){return(a-e)/n}:ge(isNaN(n)?NaN:.5)}function Cr(e,n){var a;return e>n&&(a=e,e=n,n=a),function(o){return Math.max(e,Math.min(n,o))}}function Er(e,n,a){var o=e[0],i=e[1],p=n[0],f=n[1];return i<o?(o=ye(i,o),p=a(f,p)):(o=ye(o,i),p=a(p,f)),function(d){return p(o(d))}}function Fr(e,n,a){var o=Math.min(e.length,n.length)-1,i=new Array(o),p=new Array(o),f=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++f<o;)i[f]=ye(e[f],e[f+1]),p[f]=a(n[f],n[f+1]);return function(d){var h=(0,jt.bisect)(e,d,1,o)-1;return p[h](i[h](d))}}function Hn(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function be(){var e=vt,n=vt,a=cn,o,i,p,f=gn,d,h,N;function y(){var g=Math.min(e.length,n.length);return f!==gn&&(f=Cr(e[0],e[g-1])),d=g>2?Fr:Er,h=N=null,w}function w(g){return g==null||isNaN(g=+g)?p:(h||(h=d(e.map(o),n,a)))(o(f(g)))}return w.invert=function(g){return f(i((N||(N=d(n,e.map(o),tn)))(g)))},w.domain=function(g){return arguments.length?(e=Array.from(g,xe),y()):e.slice()},w.range=function(g){return arguments.length?(n=Array.from(g),y()):n.slice()},w.rangeRound=function(g){return n=Array.from(g),a=Ne,y()},w.clamp=function(g){return arguments.length?(f=g?!0:gn,y()):f!==gn},w.interpolate=function(g){return arguments.length?(a=g,y()):a},w.unknown=function(g){return arguments.length?(p=g,w):p},function(g,x){return o=g,i=x,y()}}function we(){return be()(gn,gn)}var Ct=sn(vn());function Mt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString(\"en\").replace(/,/g,\"\"):e.toString(10)}function ln(e,n){if((a=(e=n?e.toExponential(n-1):e.toExponential()).indexOf(\"e\"))<0)return null;var a,o=e.slice(0,a);return[o.length>1?o[0]+o.slice(2):o,+e.slice(a+1)]}function K(e){return e=ln(Math.abs(e)),e?e[1]:NaN}function _t(e,n){return function(a,o){for(var i=a.length,p=[],f=0,d=e[0],h=0;i>0&&d>0&&(h+d+1>o&&(d=Math.max(1,o-h)),p.push(a.substring(i-=d,i+d)),!((h+=d+1)>o));)d=e[f=(f+1)%e.length];return p.reverse().join(n)}}function At(e){return function(n){return n.replace(/[0-9]/g,function(a){return e[+a]})}}var Rr=/^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function an(e){if(!(n=Rr.exec(e)))throw new Error(\"invalid format: \"+e);var n;return new Vn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}an.prototype=Vn.prototype;function Vn(e){this.fill=e.fill===void 0?\" \":e.fill+\"\",this.align=e.align===void 0?\">\":e.align+\"\",this.sign=e.sign===void 0?\"-\":e.sign+\"\",this.symbol=e.symbol===void 0?\"\":e.symbol+\"\",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?\"\":e.type+\"\"}Vn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(this.width===void 0?\"\":Math.max(1,this.width|0))+(this.comma?\",\":\"\")+(this.precision===void 0?\"\":\".\"+Math.max(0,this.precision|0))+(this.trim?\"~\":\"\")+this.type};function St(e){n:for(var n=e.length,a=1,o=-1,i;a<n;++a)switch(e[a]){case\".\":o=i=a;break;case\"0\":o===0&&(o=a),i=a;break;default:if(!+e[a])break n;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(i+1):e}var je;function Pt(e,n){var a=ln(e,n);if(!a)return e+\"\";var o=a[0],i=a[1],p=i-(je=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,f=o.length;return p===f?o:p>f?o+new Array(p-f+1).join(\"0\"):p>0?o.slice(0,p)+\".\"+o.slice(p):\"0.\"+new Array(1-p).join(\"0\")+ln(e,Math.max(0,n+p-1))[0]}function ve(e,n){var a=ln(e,n);if(!a)return e+\"\";var o=a[0],i=a[1];return i<0?\"0.\"+new Array(-i).join(\"0\")+o:o.length>i+1?o.slice(0,i+1)+\".\"+o.slice(i+1):o+new Array(i-o.length+2).join(\"0\")}var Me={\"%\":(e,n)=>(e*100).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+\"\",d:Mt,e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>ve(e*100,n),r:ve,s:Pt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _e(e){return e}var Lt=Array.prototype.map,It=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\\xB5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];function qt(e){var n=e.grouping===void 0||e.thousands===void 0?_e:_t(Lt.call(e.grouping,Number),e.thousands+\"\"),a=e.currency===void 0?\"\":e.currency[0]+\"\",o=e.currency===void 0?\"\":e.currency[1]+\"\",i=e.decimal===void 0?\".\":e.decimal+\"\",p=e.numerals===void 0?_e:At(Lt.call(e.numerals,String)),f=e.percent===void 0?\"%\":e.percent+\"\",d=e.minus===void 0?\"\\u2212\":e.minus+\"\",h=e.nan===void 0?\"NaN\":e.nan+\"\";function N(w){w=an(w);var g=w.fill,x=w.align,M=w.sign,C=w.symbol,L=w.zero,D=w.width,P=w.comma,F=w.precision,O=w.trim,S=w.type;S===\"n\"?(P=!0,S=\"g\"):Me[S]||(F===void 0&&(F=12),O=!0,S=\"g\"),(L||g===\"0\"&&x===\"=\")&&(L=!0,g=\"0\",x=\"=\");var V=C===\"$\"?a:C===\"#\"&&/[boxX]/.test(S)?\"0\"+S.toLowerCase():\"\",$=C===\"$\"?o:/[%p]/.test(S)?f:\"\",E=Me[S],H=/[defgprs%]/.test(S);F=F===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function T(j){var q=V,R=$,X,bn,mn;if(S===\"c\")R=E(j)+R,j=\"\";else{j=+j;var rn=j<0||1/j<0;if(j=isNaN(j)?h:E(Math.abs(j),F),O&&(j=St(j)),rn&&+j==0&&M!==\"+\"&&(rn=!1),q=(rn?M===\"(\"?M:d:M===\"-\"||M===\"(\"?\"\":M)+q,R=(S===\"s\"?It[8+je/3]:\"\")+R+(rn&&M===\"(\"?\")\":\"\"),H){for(X=-1,bn=j.length;++X<bn;)if(mn=j.charCodeAt(X),48>mn||mn>57){R=(mn===46?i+j.slice(X+1):j.slice(X))+R,j=j.slice(0,X);break}}}P&&!L&&(j=n(j,1/0));var dn=q.length+j.length+R.length,J=dn<D?new Array(D-dn+1).join(g):\"\";switch(P&&L&&(j=n(J+j,J.length?D-R.length:1/0),J=\"\"),x){case\"<\":j=q+j+R+J;break;case\"=\":j=q+J+j+R;break;case\"^\":j=J.slice(0,dn=J.length>>1)+q+j+R+J.slice(dn);break;default:j=J+q+j+R;break}return p(j)}return T.toString=function(){return w+\"\"},T}function y(w,g){var x=N((w=an(w),w.type=\"f\",w)),M=Math.max(-8,Math.min(8,Math.floor(K(g)/3)))*3,C=Math.pow(10,-M),L=It[8+M/3];return function(D){return x(C*D)+L}}return{format:N,formatPrefix:y}}var $n,xn,Xn;Ae({thousands:\",\",grouping:[3],currency:[\"$\",\"\"]});function Ae(e){return $n=qt(e),xn=$n.format,Xn=$n.formatPrefix,$n}function Se(e){return Math.max(0,-K(Math.abs(e)))}function Pe(e,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(K(n)/3)))*3-K(Math.abs(e)))}function Le(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,K(n)-K(e))+1}function Ie(e,n,a,o){var i=(0,Ct.tickStep)(e,n,a),p;switch(o=an(o??\",f\"),o.type){case\"s\":{var f=Math.max(Math.abs(e),Math.abs(n));return o.precision==null&&!isNaN(p=Pe(i,f))&&(o.precision=p),Xn(o,f)}case\"\":case\"e\":case\"g\":case\"p\":case\"r\":{o.precision==null&&!isNaN(p=Le(i,Math.max(Math.abs(e),Math.abs(n))))&&(o.precision=p-(o.type===\"e\"));break}case\"f\":case\"%\":{o.precision==null&&!isNaN(p=Se(i))&&(o.precision=p-(o.type===\"%\")*2);break}}return xn(o)}function zr(e){var n=e.domain;return e.ticks=function(a){var o=n();return(0,Yn.ticks)(o[0],o[o.length-1],a??10)},e.tickFormat=function(a,o){var i=n();return Ie(i[0],i[i.length-1],a??10,o)},e.nice=function(a){a==null&&(a=10);var o=n(),i=0,p=o.length-1,f=o[i],d=o[p],h,N,y=10;for(d<f&&(N=f,f=d,d=N,N=i,i=p,p=N);y-- >0;){if(N=(0,Yn.tickIncrement)(f,d,a),N===h)return o[i]=f,o[p]=d,n(o);if(N>0)f=Math.floor(f/N)*N,d=Math.ceil(d/N)*N;else if(N<0)f=Math.ceil(f*N)/N,d=Math.floor(d*N)/N;else break;h=N}return e},e}function Q(){var e=we();return e.copy=function(){return Hn(e,Q())},zn.apply(e,arguments),zr(e)}var Ce=sn(vn());function qe(e,n){e=e.slice();var a=0,o=e.length-1,i=e[a],p=e[o],f;return p<i&&(f=a,a=o,o=f,f=i,i=p,p=f),e[a]=n.floor(i),e[o]=n.ceil(p),e}function Et(e){return Math.log(e)}function Ft(e){return Math.exp(e)}function Dr(e){return-Math.log(-e)}function Br(e){return-Math.exp(-e)}function Tr(e){return isFinite(e)?+(\"1e\"+e):e<0?0:e}function Or(e){return e===10?Tr:e===Math.E?Math.exp:function(n){return Math.pow(e,n)}}function Hr(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(n){return Math.log(n)/e})}function Rt(e){return function(n){return-e(-n)}}function Vr(e){var n=e(Et,Ft),a=n.domain,o=10,i,p;function f(){return i=Hr(o),p=Or(o),a()[0]<0?(i=Rt(i),p=Rt(p),e(Dr,Br)):e(Et,Ft),n}return n.base=function(d){return arguments.length?(o=+d,f()):o},n.domain=function(d){return arguments.length?(a(d),f()):a()},n.ticks=function(d){var h=a(),N=h[0],y=h[h.length-1],w;(w=y<N)&&(g=N,N=y,y=g);var g=i(N),x=i(y),M,C,L,D=d==null?10:+d,P=[];if(!(o%1)&&x-g<D){if(g=Math.floor(g),x=Math.ceil(x),N>0){for(;g<=x;++g)for(C=1,M=p(g);C<o;++C)if(L=M*C,!(L<N)){if(L>y)break;P.push(L)}}else for(;g<=x;++g)for(C=o-1,M=p(g);C>=1;--C)if(L=M*C,!(L<N)){if(L>y)break;P.push(L)}P.length*2<D&&(P=(0,Ce.ticks)(N,y,D))}else P=(0,Ce.ticks)(g,x,Math.min(x-g,D)).map(p);return w?P.reverse():P},n.tickFormat=function(d,h){if(h==null&&(h=o===10?\".0e\":\",\"),typeof h!=\"function\"&&(h=xn(h)),d===1/0)return h;d==null&&(d=10);var N=Math.max(1,o*d/n.ticks().length);return function(y){var w=y/p(Math.round(i(y)));return w*o<o-.5&&(w*=o),w<=N?h(y):\"\"}},n.nice=function(){return a(qe(a(),{floor:function(d){return p(Math.floor(i(d)))},ceil:function(d){return p(Math.ceil(i(d)))}}))},n}function yn(){var e=Vr(be()).domain([1,10]);return e.copy=function(){return Hn(e,yn()).base(e.base())},zn.apply(e,arguments),e}function zt(e){return e}var Ee=1,Fe=2,Re=3,Pn=4,Dt=1e-6;function $r(e){return\"translate(\"+e+\",0)\"}function Xr(e){return\"translate(0,\"+e+\")\"}function Yr(e){return n=>+e(n)}function Ur(e,n){return n=Math.max(0,e.bandwidth()-n*2)/2,e.round()&&(n=Math.round(n)),a=>+e(a)+n}function Jr(){return!this.__axis}function Bt(e,n){var a=[],o=null,i=null,p=6,f=6,d=3,h=typeof window!=\"undefined\"&&window.devicePixelRatio>1?0:.5,N=e===Ee||e===Pn?-1:1,y=e===Pn||e===Fe?\"x\":\"y\",w=e===Ee||e===Re?$r:Xr;function g(x){var M=o??(n.ticks?n.ticks.apply(n,a):n.domain()),C=i??(n.tickFormat?n.tickFormat.apply(n,a):zt),L=Math.max(p,0)+d,D=n.range(),P=+D[0]+h,F=+D[D.length-1]+h,O=(n.bandwidth?Ur:Yr)(n.copy(),h),S=x.selection?x.selection():x,V=S.selectAll(\".domain\").data([null]),$=S.selectAll(\".tick\").data(M,n).order(),E=$.exit(),H=$.enter().append(\"g\").attr(\"class\",\"tick\"),T=$.select(\"line\"),j=$.select(\"text\");V=V.merge(V.enter().insert(\"path\",\".tick\").attr(\"class\",\"domain\").attr(\"stroke\",\"currentColor\")),$=$.merge(H),T=T.merge(H.append(\"line\").attr(\"stroke\",\"currentColor\").attr(y+\"2\",N*p)),j=j.merge(H.append(\"text\").attr(\"fill\",\"currentColor\").attr(y,N*L).attr(\"dy\",e===Ee?\"0em\":e===Re?\"0.71em\":\"0.32em\")),x!==S&&(V=V.transition(x),$=$.transition(x),T=T.transition(x),j=j.transition(x),E=E.transition(x).attr(\"opacity\",Dt).attr(\"transform\",function(q){return isFinite(q=O(q))?w(q+h):this.getAttribute(\"transform\")}),H.attr(\"opacity\",Dt).attr(\"transform\",function(q){var R=this.parentNode.__axis;return w((R&&isFinite(R=R(q))?R:O(q))+h)})),E.remove(),V.attr(\"d\",e===Pn||e===Fe?f?\"M\"+N*f+\",\"+P+\"H\"+h+\"V\"+F+\"H\"+N*f:\"M\"+h+\",\"+P+\"V\"+F:f?\"M\"+P+\",\"+N*f+\"V\"+h+\"H\"+F+\"V\"+N*f:\"M\"+P+\",\"+h+\"H\"+F),$.attr(\"opacity\",1).attr(\"transform\",function(q){return w(O(q)+h)}),T.attr(y+\"2\",N*p),j.attr(y,N*L).text(C),S.filter(Jr).attr(\"fill\",\"none\").attr(\"font-size\",10).attr(\"font-family\",\"sans-serif\").attr(\"text-anchor\",e===Fe?\"start\":e===Pn?\"end\":\"middle\"),S.each(function(){this.__axis=O})}return g.scale=function(x){return arguments.length?(n=x,g):n},g.ticks=function(){return a=Array.from(arguments),g},g.tickArguments=function(x){return arguments.length?(a=x==null?[]:Array.from(x),g):a.slice()},g.tickValues=function(x){return arguments.length?(o=x==null?null:Array.from(x),g):o&&o.slice()},g.tickFormat=function(x){return arguments.length?(i=x,g):i},g.tickSize=function(x){return arguments.length?(p=f=+x,g):p},g.tickSizeInner=function(x){return arguments.length?(p=+x,g):p},g.tickSizeOuter=function(x){return arguments.length?(f=+x,g):f},g.tickPadding=function(x){return arguments.length?(d=+x,g):d},g.offset=function(x){return arguments.length?(h=+x,g):h},g}function un(e){return Bt(Re,e)}function pn(e){return Bt(Pn,e)}var Un=\"http://www.w3.org/1999/xhtml\",ze={svg:\"http://www.w3.org/2000/svg\",xhtml:Un,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"};function Jn(e){var n=e+=\"\",a=n.indexOf(\":\");return a>=0&&(n=e.slice(0,a))!==\"xmlns\"&&(e=e.slice(a+1)),ze.hasOwnProperty(n)?{space:ze[n],local:e}:e}function Qr(e){return function(){var n=this.ownerDocument,a=this.namespaceURI;return a===Un&&n.documentElement.namespaceURI===Un?n.createElement(e):n.createElementNS(a,e)}}function Gr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Qn(e){var n=Jn(e);return(n.local?Gr:Qr)(n)}function Wr(){}function Gn(e){return e==null?Wr:function(){return this.querySelector(e)}}function Tt(e){typeof e!=\"function\"&&(e=Gn(e));for(var n=this._groups,a=n.length,o=new Array(a),i=0;i<a;++i)for(var p=n[i],f=p.length,d=o[i]=new Array(f),h,N,y=0;y<f;++y)(h=p[y])&&(N=e.call(h,h.__data__,y,p))&&(\"__data__\"in h&&(N.__data__=h.__data__),d[y]=N);return new z(o,this._parents)}function De(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Kr(){return[]}function Ot(e){return e==null?Kr:function(){return this.querySelectorAll(e)}}function Zr(e){return function(){return De(e.apply(this,arguments))}}function Ht(e){typeof e==\"function\"?e=Zr(e):e=Ot(e);for(var n=this._groups,a=n.length,o=[],i=[],p=0;p<a;++p)for(var f=n[p],d=f.length,h,N=0;N<d;++N)(h=f[N])&&(o.push(e.call(h,h.__data__,N,f)),i.push(h));return new z(o,i)}function Vt(e){return function(){return this.matches(e)}}function Wn(e){return function(n){return n.matches(e)}}var no=Array.prototype.find;function eo(e){return function(){return no.call(this.children,e)}}function to(){return this.firstElementChild}function $t(e){return this.select(e==null?to:eo(typeof e==\"function\"?e:Wn(e)))}var ao=Array.prototype.filter;function ro(){return Array.from(this.children)}function oo(e){return function(){return ao.call(this.children,e)}}function Xt(e){return this.selectAll(e==null?ro:oo(typeof e==\"function\"?e:Wn(e)))}function Yt(e){typeof e!=\"function\"&&(e=Vt(e));for(var n=this._groups,a=n.length,o=new Array(a),i=0;i<a;++i)for(var p=n[i],f=p.length,d=o[i]=[],h,N=0;N<f;++N)(h=p[N])&&e.call(h,h.__data__,N,p)&&d.push(h);return new z(o,this._parents)}function Kn(e){return new Array(e.length)}function Ut(){return new z(this._enter||this._groups.map(Kn),this._parents)}function Ln(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Ln.prototype={constructor:Ln,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Jt(e){return function(){return e}}function so(e,n,a,o,i,p){for(var f=0,d,h=n.length,N=p.length;f<N;++f)(d=n[f])?(d.__data__=p[f],o[f]=d):a[f]=new Ln(e,p[f]);for(;f<h;++f)(d=n[f])&&(i[f]=d)}function io(e,n,a,o,i,p,f){var d,h,N=new Map,y=n.length,w=p.length,g=new Array(y),x;for(d=0;d<y;++d)(h=n[d])&&(g[d]=x=f.call(h,h.__data__,d,n)+\"\",N.has(x)?i[d]=h:N.set(x,h));for(d=0;d<w;++d)x=f.call(e,p[d],d,p)+\"\",(h=N.get(x))?(o[d]=h,h.__data__=p[d],N.delete(x)):a[d]=new Ln(e,p[d]);for(d=0;d<y;++d)(h=n[d])&&N.get(g[d])===h&&(i[d]=h)}function co(e){return e.__data__}function Qt(e,n){if(!arguments.length)return Array.from(this,co);var a=n?io:so,o=this._parents,i=this._groups;typeof e!=\"function\"&&(e=Jt(e));for(var p=i.length,f=new Array(p),d=new Array(p),h=new Array(p),N=0;N<p;++N){var y=o[N],w=i[N],g=w.length,x=lo(e.call(y,y&&y.__data__,N,o)),M=x.length,C=d[N]=new Array(M),L=f[N]=new Array(M),D=h[N]=new Array(g);a(y,w,C,L,D,x,n);for(var P=0,F=0,O,S;P<M;++P)if(O=C[P]){for(P>=F&&(F=P+1);!(S=L[F])&&++F<M;);O._next=S||null}}return f=new z(f,o),f._enter=d,f._exit=h,f}function lo(e){return typeof e==\"object\"&&\"length\"in e?e:Array.from(e)}function Gt(){return new z(this._exit||this._groups.map(Kn),this._parents)}function Wt(e,n,a){var o=this.enter(),i=this,p=this.exit();return typeof e==\"function\"?(o=e(o),o&&(o=o.selection())):o=o.append(e+\"\"),n!=null&&(i=n(i),i&&(i=i.selection())),a==null?p.remove():a(p),o&&i?o.merge(i).order():i}function Kt(e){for(var n=e.selection?e.selection():e,a=this._groups,o=n._groups,i=a.length,p=o.length,f=Math.min(i,p),d=new Array(i),h=0;h<f;++h)for(var N=a[h],y=o[h],w=N.length,g=d[h]=new Array(w),x,M=0;M<w;++M)(x=N[M]||y[M])&&(g[M]=x);for(;h<i;++h)d[h]=a[h];return new z(d,this._parents)}function Zt(){for(var e=this._groups,n=-1,a=e.length;++n<a;)for(var o=e[n],i=o.length-1,p=o[i],f;--i>=0;)(f=o[i])&&(p&&f.compareDocumentPosition(p)^4&&p.parentNode.insertBefore(f,p),p=f);return this}function na(e){e||(e=uo);function n(w,g){return w&&g?e(w.__data__,g.__data__):!w-!g}for(var a=this._groups,o=a.length,i=new Array(o),p=0;p<o;++p){for(var f=a[p],d=f.length,h=i[p]=new Array(d),N,y=0;y<d;++y)(N=f[y])&&(h[y]=N);h.sort(n)}return new z(i,this._parents).order()}function uo(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function ea(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ta(){return Array.from(this)}function aa(){for(var e=this._groups,n=0,a=e.length;n<a;++n)for(var o=e[n],i=0,p=o.length;i<p;++i){var f=o[i];if(f)return f}return null}function ra(){let e=0;for(let n of this)++e;return e}function oa(){return!this.node()}function sa(e){for(var n=this._groups,a=0,o=n.length;a<o;++a)for(var i=n[a],p=0,f=i.length,d;p<f;++p)(d=i[p])&&e.call(d,d.__data__,p,i);return this}function po(e){return function(){this.removeAttribute(e)}}function fo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mo(e,n){return function(){this.setAttribute(e,n)}}function ho(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function ko(e,n){return function(){var a=n.apply(this,arguments);a==null?this.removeAttribute(e):this.setAttribute(e,a)}}function No(e,n){return function(){var a=n.apply(this,arguments);a==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,a)}}function ia(e,n){var a=Jn(e);if(arguments.length<2){var o=this.node();return a.local?o.getAttributeNS(a.space,a.local):o.getAttribute(a)}return this.each((n==null?a.local?fo:po:typeof n==\"function\"?a.local?No:ko:a.local?ho:mo)(a,n))}function Zn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function go(e){return function(){this.style.removeProperty(e)}}function xo(e,n,a){return function(){this.style.setProperty(e,n,a)}}function yo(e,n,a){return function(){var o=n.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,a)}}function ca(e,n,a){return arguments.length>1?this.each((n==null?go:typeof n==\"function\"?yo:xo)(e,n,a??\"\")):bo(this.node(),e)}function bo(e,n){return e.style.getPropertyValue(n)||Zn(e).getComputedStyle(e,null).getPropertyValue(n)}function wo(e){return function(){delete this[e]}}function jo(e,n){return function(){this[e]=n}}function vo(e,n){return function(){var a=n.apply(this,arguments);a==null?delete this[e]:this[e]=a}}function la(e,n){return arguments.length>1?this.each((n==null?wo:typeof n==\"function\"?vo:jo)(e,n)):this.node()[e]}function ua(e){return e.trim().split(/^|\\s+/)}function Be(e){return e.classList||new pa(e)}function pa(e){this._node=e,this._names=ua(e.getAttribute(\"class\")||\"\")}pa.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(e){return this._names.indexOf(e)>=0}};function fa(e,n){for(var a=Be(e),o=-1,i=n.length;++o<i;)a.add(n[o])}function ma(e,n){for(var a=Be(e),o=-1,i=n.length;++o<i;)a.remove(n[o])}function Mo(e){return function(){fa(this,e)}}function _o(e){return function(){ma(this,e)}}function Ao(e,n){return function(){(n.apply(this,arguments)?fa:ma)(this,e)}}function da(e,n){var a=ua(e+\"\");if(arguments.length<2){for(var o=Be(this.node()),i=-1,p=a.length;++i<p;)if(!o.contains(a[i]))return!1;return!0}return this.each((typeof n==\"function\"?Ao:n?Mo:_o)(a,n))}function So(){this.textContent=\"\"}function Po(e){return function(){this.textContent=e}}function Lo(e){return function(){var n=e.apply(this,arguments);this.textContent=n??\"\"}}function ha(e){return arguments.length?this.each(e==null?So:(typeof e==\"function\"?Lo:Po)(e)):this.node().textContent}function Io(){this.innerHTML=\"\"}function qo(e){return function(){this.innerHTML=e}}function Co(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??\"\"}}function ka(e){return arguments.length?this.each(e==null?Io:(typeof e==\"function\"?Co:qo)(e)):this.node().innerHTML}function Eo(){this.nextSibling&&this.parentNode.appendChild(this)}function Na(){return this.each(Eo)}function Fo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ga(){return this.each(Fo)}function xa(e){var n=typeof e==\"function\"?e:Qn(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Ro(){return null}function ya(e,n){var a=typeof e==\"function\"?e:Qn(e),o=n==null?Ro:typeof n==\"function\"?n:Gn(n);return this.select(function(){return this.insertBefore(a.apply(this,arguments),o.apply(this,arguments)||null)})}function zo(){var e=this.parentNode;e&&e.removeChild(this)}function ba(){return this.each(zo)}function Do(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Bo(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function wa(e){return this.select(e?Bo:Do)}function ja(e){return arguments.length?this.property(\"__data__\",e):this.node().__data__}function To(e){return function(n){e.call(this,n,this.__data__)}}function Oo(e){return e.trim().split(/^|\\s+/).map(function(n){var a=\"\",o=n.indexOf(\".\");return o>=0&&(a=n.slice(o+1),n=n.slice(0,o)),{type:n,name:a}})}function Ho(e){return function(){var n=this.__on;if(!!n){for(var a=0,o=-1,i=n.length,p;a<i;++a)p=n[a],(!e.type||p.type===e.type)&&p.name===e.name?this.removeEventListener(p.type,p.listener,p.options):n[++o]=p;++o?n.length=o:delete this.__on}}}function Vo(e,n,a){return function(){var o=this.__on,i,p=To(n);if(o){for(var f=0,d=o.length;f<d;++f)if((i=o[f]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=p,i.options=a),i.value=n;return}}this.addEventListener(e.type,p,a),i={type:e.type,name:e.name,value:n,listener:p,options:a},o?o.push(i):this.__on=[i]}}function va(e,n,a){var o=Oo(e+\"\"),i,p=o.length,f;if(arguments.length<2){var d=this.node().__on;if(d){for(var h=0,N=d.length,y;h<N;++h)for(i=0,y=d[h];i<p;++i)if((f=o[i]).type===y.type&&f.name===y.name)return y.value}return}for(d=n?Vo:Ho,i=0;i<p;++i)this.each(d(o[i],n,a));return this}function Ma(e,n,a){var o=Zn(e),i=o.CustomEvent;typeof i==\"function\"?i=new i(n,a):(i=o.document.createEvent(\"Event\"),a?(i.initEvent(n,a.bubbles,a.cancelable),i.detail=a.detail):i.initEvent(n,!1,!1)),e.dispatchEvent(i)}function $o(e,n){return function(){return Ma(this,e,n)}}function Xo(e,n){return function(){return Ma(this,e,n.apply(this,arguments))}}function _a(e,n){return this.each((typeof n==\"function\"?Xo:$o)(e,n))}function*Aa(){for(var e=this._groups,n=0,a=e.length;n<a;++n)for(var o=e[n],i=0,p=o.length,f;i<p;++i)(f=o[i])&&(yield f)}var Te=[null];function z(e,n){this._groups=e,this._parents=n}function Yo(){return new z([[document.documentElement]],Te)}function Uo(){return this}z.prototype=Yo.prototype={constructor:z,select:Tt,selectAll:Ht,selectChild:$t,selectChildren:Xt,filter:Yt,data:Qt,enter:Ut,exit:Gt,join:Wt,merge:Kt,selection:Uo,order:Zt,sort:na,call:ea,nodes:ta,node:aa,size:ra,empty:oa,each:sa,attr:ia,style:ca,property:la,classed:da,text:ha,html:ka,raise:Na,lower:ga,append:xa,insert:ya,remove:ba,clone:wa,datum:ja,on:va,dispatch:_a,[Symbol.iterator]:Aa};function Z(e){return typeof e==\"string\"?new z([[document.querySelector(e)]],[document.documentElement]):new z([[e]],Te)}var Jo=[\"lightsalmon\",\"lightseagreen\",\"indianred\",\"darkmagenta\",\"cornflowerblue\",\"aqua\"];function Sa({strokeWidth:e,functions:n,width:a,height:o,range:i,colors:p,logX:f,logY:d,grid:h,onHover:N,onMouseEnter:y,onMouseLeave:w,onClick:g,margin:x,hideAxes:M,hideXAxis:C,hideYAxis:L}){x=x||{top:20,right:30,bottom:30,left:50},a=a||500,o=o||300;let D=o-x.top-x.bottom,P=a-x.left-x.right;e=e||1,p=p||Jo,n=n||[],i=i||{x:[-4,4],y:[-4,4]};let F=f?yn().base(f||10):Q(),O=d?yn().base(d||10):Q(),S=F.domain(i.x).range([x.left,a-x.right]),V=O.domain(i.y).range([o-x.top,x.bottom]),$=n.map(E=>{let H=[[]];for(let T=x.left+1e-6;T<a-x.right;T+=1){let j=S.invert(T),q=E(j);if(typeof q==\"number\"){let R=V(q);j>=i.x[0]&&j<=i.x[1]&&q>=i.y[0]&&q<=i.y[1]&&H[0].unshift([T,R])}}return H});return U.default.createElement(\"svg\",{width:a,height:o,onClick:E=>g&&g(E)},!M&&U.default.createElement(U.default.Fragment,null,!C&&U.default.createElement(\"g\",{className:\"x-axis plot-axis\",ref:E=>Z(E).attr(\"transform\",`translate(0,${o-x.top})`).call(un(S).ticks(a/50))}),!L&&U.default.createElement(\"g\",{className:\"y-axis plot-axis\",ref:E=>Z(E).attr(\"transform\",`translate(${x.left},0)`).call(pn(V).ticks(o/50))})),h&&U.default.createElement(U.default.Fragment,null,h.x&&U.default.createElement(\"g\",{className:\"grid\",ref:E=>Z(E).attr(\"transform\",`translate(0, ${V(i.y[1])})`).call(un(S).ticks(h.x).tickSize(D).tickFormat(()=>\"\"))}),h.y&&U.default.createElement(\"g\",{className:\"grid\",ref:E=>Z(E).attr(\"transform\",`translate(${S(i.x[0])}, 0)`).call(pn(V).ticks(h.y).tickSize(-P).tickFormat(()=>\"\"))})),U.default.createElement(\"g\",null,$.map((E,H)=>E.map((T,j)=>U.default.createElement(\"path\",{onMouseEnter:()=>y&&y(H),onMouseLeave:()=>w&&w(H),key:H+\"-\"+j,d:\"M\"+T.join(\"L\"),stroke:p[H%p.length]||\"black\",strokeWidth:e,fill:\"none\"})))))}var fn=sn(le());function Pa({f:e,width:n,margin:a,height:o,range:i}){a=a||40,n=n||400,o=o||300,i=i||{x:[-1,1],y:[-1,1]};let p=[],f=Q().domain(i.x).range([a,n-a]),d=Q().domain(i.y).range([o-a,a]);for(let h=a+1e-6;h<n-a;h+=1){let N=f.invert(h),y=e(N),w=d(y);p.push([h,w])}return fn.default.createElement(\"svg\",{width:n+20,height:o+20},fn.default.createElement(\"g\",null,fn.default.createElement(\"path\",{d:`M${p.join(\"L\")}`,stroke:\"steelblue\",fill:\"none\"}),fn.default.createElement(\"g\",{transform:`translate(${a},0)`,ref:h=>Z(h).call(pn(d))}),fn.default.createElement(\"g\",{transform:`translate(0,${d(0)})`,ref:h=>Z(h).call(un(f))})))}function La({f:e,width:n,margin:a,height:o,range:i}){return a=a||40,n=n||400,o=o||300,i=i||{x:[-1,1],y:[-1,1]},fn.default.createElement(\"svg\",{ref:p=>{let f=Z(p).attr(\"width\",n+20).attr(\"height\",o+20),d=Q().domain(i.x).range([a,n-a]),h=Q().domain(i.y).range([o-a,a]),N=f.append(\"g\"),y=[];for(let w=a+1e-6;w<n-a;w+=1){let g=d.invert(w),x=e(g),M=h(x);y.push([w,M])}N.append(\"path\").attr(\"d\",\"M\"+y.join(\"L\")).style(\"stroke\",\"steelblue\").style(\"fill\",\"none\"),N.append(\"g\").attr(\"transform\",`translate(${a},0)`).call(pn(h)),N.append(\"g\").attr(\"transform\",`translate(0,${h(0)})`).call(un(d))}})}var Qo={title:\"Plotting Functions with React and d3.js\",date:\"2020-04-18\",tags:[\"code\",\"d3\"],description:\"As the basis of many upcoming visualizations.\",image:\"./img/plot.png\"};function Go(e){let n=Object.assign({p:\"p\",a:\"a\",pre:\"pre\",code:\"code\",span:\"span\",h2:\"h2\",h3:\"h3\",ul:\"ul\",li:\"li\"},e.components),{wrapper:a}=n,o=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[\"As the basis of many upcoming visualizations, I will use libraries of \",(0,t.jsx)(n.a,{href:\"https://github.com/d3/d3/blob/master/API.md\",children:\"the huge d3 ecosystem\"}),`.\nFor many applications, for example to animate vibrating strings, it want to plot functions:`]}),`\n`,(0,t.jsx)(Sa,{strokeWidth:5,functions:[i=>Math.sin(i),i=>Math.cos(i)],range:{x:[-Math.PI,Math.PI],y:[-1,1]}}),`\n`,(0,t.jsx)(n.p,{children:\"The code:\"}),`\n`,(0,t.jsx)(n.pre,{className:\"language-js\",children:(0,t.jsxs)(n.code,{className:\"language-js\",children:[(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,t.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Plot\"}),\" functions\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"x\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"sin\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"x\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"cos\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" range\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" x\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"PI\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"PI\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" y\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n`]})}),`\n`,(0,t.jsxs)(n.h2,{id:\"combining-d3-and-react\",children:[(0,t.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#combining-d3-and-react\",children:(0,t.jsx)(n.span,{className:\"icon icon-link\"})}),\"Combining d3 and react\"]}),`\n`,(0,t.jsx)(n.p,{children:`As d3 has its own API for handling the DOM, we could theoretically do the job without React.\nBut as I want to be able to use components in MDX files directly, React needs to be at least a wrapper for d3.`}),`\n`,(0,t.jsxs)(n.h3,{id:\"with-d3-selection\",children:[(0,t.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#with-d3-selection\",children:(0,t.jsx)(n.span,{className:\"icon icon-link\"})}),\"With d3-selection\"]}),`\n`,(0,t.jsxs)(n.p,{children:[\"So now let's just use React as a wrapper and let d3 handle the DOM inside the svg element, by using its jquery-like API \",(0,t.jsx)(n.a,{href:\"https://github.com/d3/d3-selection\",children:\"d3-selection\"}),\".\"]}),`\n`,(0,t.jsxs)(n.p,{children:[\"By using most of the code from \",(0,t.jsx)(n.a,{href:\"https://observablehq.com/@d3/continuous-scales#visualizeScale\",children:\"here\"}),\" and pasting it into the \",(0,t.jsx)(n.a,{href:\"https://reactjs.org/docs/refs-and-the-dom.html#callback-refs\",children:\"ref callback\"}),\", we can operate directly on the svg element:\"]}),`\n`,(0,t.jsx)(n.pre,{className:\"language-js\",children:(0,t.jsxs)(n.code,{className:\"language-js\",children:[(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,t.jsx)(n.span,{className:\"token imports\",children:(0,t.jsx)(n.span,{className:\"token maybe-class-name\",children:\"React\"})}),\" \",(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'react'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,t.jsxs)(n.span,{className:\"token imports\",children:[(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" scaleLinear \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'d3-scale'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,t.jsxs)(n.span,{className:\"token imports\",children:[(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" select \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'d3-selection'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,t.jsxs)(n.span,{className:\"token imports\",children:[(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" axisBottom\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" axisLeft \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'d3-axis'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,t.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:(0,t.jsx)(n.span,{className:\"token maybe-class-name\",children:\"FunctionPlot\"})}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsxs)(n.span,{className:\"token parameter\",children:[(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" f\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" width\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" height\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" range \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n  margin `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" margin \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"40\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  width `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"400\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  height `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"300\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  range `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" range \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" x\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" y\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),`svg\n      ref`,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"el\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" svg \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"select\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"el\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"attr\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'width'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"attr\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'height'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n          x `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"scaleLinear\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"domain\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token property-access\",children:\"x\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"range\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n          y `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"scaleLinear\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"domain\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token property-access\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"range\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n          g `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" svg\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"append\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'g'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n          line `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" margin \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1e-6\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,t.jsx)(n.span,{className:\"token constant\",children:\"X\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"invert\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"i\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n            `,(0,t.jsx)(n.span,{className:\"token constant\",children:\"Y\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"f\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"X\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n            j `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"Y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n          line`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"push\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" j\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n        g`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"append\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'path'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"attr\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'d'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'M'\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" line\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"join\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'L'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"style\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'stroke'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'steelblue'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"style\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'fill'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token string\",children:\"'none'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n        g`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"append\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'g'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"attr\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'transform'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsxs)(n.span,{className:\"token template-string\",children:[(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"translate(\"}),(0,t.jsxs)(n.span,{className:\"token interpolation\",children:[(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"margin\",(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token string\",children:\",0)\"}),(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"call\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"axisLeft\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"y\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n        g`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"append\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'g'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"attr\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'transform'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsxs)(n.span,{className:\"token template-string\",children:[(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"translate(0,\"}),(0,t.jsxs)(n.span,{className:\"token interpolation\",children:[(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token string\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n          `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"call\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"axisBottom\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n    `,(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"svg\",(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,t.jsx)(n.p,{children:\"and using it:\"}),`\n`,(0,t.jsx)(n.pre,{className:\"language-js\",children:(0,t.jsxs)(n.code,{className:\"language-js\",children:[(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,t.jsx)(n.span,{className:\"token maybe-class-name\",children:\"FunctionPlot\"}),\" f\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"x\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"sin\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" range\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" x\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"4\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" y\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n`]})}),`\n`,(0,t.jsx)(La,{f:i=>Math.sin(i),range:{x:[-4,4],y:[-1,1]}}),`\n`,(0,t.jsx)(n.p,{children:\"Other d3 APIs used:\"}),`\n`,(0,t.jsxs)(n.ul,{children:[`\n`,(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:\"https://observablehq.com/@d3/introduction-to-d3s-scales?collection=@d3/d3-scale\",children:\"d3-scale\"}),\" for a convenient translation of the function value range to the pixels dimensions on screen\"]}),`\n`,(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:\"https://github.com/d3/d3-axis\",children:\"d3-axis\"}),\" for easy-to-use x and y axis\"]}),`\n`]}),`\n`,(0,t.jsxs)(n.h3,{id:\"with-jsx\",children:[(0,t.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#with-jsx\",children:(0,t.jsx)(n.span,{className:\"icon icon-link\"})}),\"With JSX\"]}),`\n`,(0,t.jsx)(n.p,{children:\"As React is already a pretty good lib to handle the DOM efficiently, we can (mostly) spare d3-selection and render the SVG elements in JSX:\"}),`\n`,(0,t.jsx)(n.pre,{className:\"language-js\",children:(0,t.jsxs)(n.code,{className:\"language-js\",children:[(0,t.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,t.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:(0,t.jsx)(n.span,{className:\"token maybe-class-name\",children:\"FunctionPlot\"})}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsxs)(n.span,{className:\"token parameter\",children:[(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" f\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" width\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" height\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" range \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n  margin `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" margin \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"40\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  width `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"400\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  height `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"300\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  range `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" range \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" x\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" y\",(0,t.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" line \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n    x `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"scaleLinear\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"domain\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token property-access\",children:\"x\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"range\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n    y `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"scaleLinear\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"domain\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token property-access\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"range\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" margin \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1e-6\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\" width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" margin\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,t.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,t.jsx)(n.span,{className:\"token constant\",children:\"X\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"invert\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"i\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token constant\",children:\"Y\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"f\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"X\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n      j `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token constant\",children:\"Y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n    line`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"push\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" j\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"svg width\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"width \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" height\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"height \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,t.jsx)(n.span,{className:\"token number\",children:\"20\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"g\",(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"path d\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsxs)(n.span,{className:\"token template-string\",children:[(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"M\"}),(0,t.jsxs)(n.span,{className:\"token interpolation\",children:[(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"line\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"join\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"'L'\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" stroke\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token string\",children:'\"steelblue\"'}),\" fill\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token string\",children:'\"none\"'}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"g transform\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsxs)(n.span,{className:\"token template-string\",children:[(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"translate(\"}),(0,t.jsxs)(n.span,{className:\"token interpolation\",children:[(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"margin\",(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token string\",children:\",0)\"}),(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" ref\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"g\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"select\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"g\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"call\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"axisLeft\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"y\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n        `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),\"g transform\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsxs)(n.span,{className:\"token template-string\",children:[(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,t.jsx)(n.span,{className:\"token string\",children:\"translate(0,\"}),(0,t.jsxs)(n.span,{className:\"token interpolation\",children:[(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"y\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,t.jsx)(n.span,{className:\"token string\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" ref\",(0,t.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token parameter\",children:\"g\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,t.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,t.jsx)(n.span,{className:\"token function\",children:\"select\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"g\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,t.jsx)(n.span,{className:\"token method function property-access\",children:\"call\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,t.jsx)(n.span,{className:\"token function\",children:\"axisBottom\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"x\",(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n      `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"g\",(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n    `,(0,t.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,t.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"svg\",(0,t.jsx)(n.span,{className:\"token operator\",children:\">\"}),`\n  `,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,t.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,t.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,t.jsx)(n.p,{children:\"Now the .select / .append calls have been refactored to JSX. I like this code much more as it looks flatter and lets me manipulate the svg elements directly as JSX without using a wide API surface of chaining methods.\"}),`\n`,(0,t.jsx)(n.p,{children:\"The output is exactly the same:\"}),`\n`,(0,t.jsx)(Pa,{f:i=>Math.sin(i),range:{x:[-4,4],y:[-1,1]}}),`\n`,(0,t.jsxs)(n.p,{children:[`You may have noticed that the axes are still rendered using ref callback + d3-selection.\nThis is because the axes methods are generators that output a subtree of DOM nodes.\nIf we wanted to avoid using d3-selection completely, we could implement our own axis component using `,(0,t.jsx)(n.a,{href:\"https://observablehq.com/@d3/scale-ticks\",children:\"scale.ticks\"}),\".\"]}),`\n`,(0,t.jsx)(n.p,{children:\"But for my use case, the above approach is perfectly fine.\"}),`\n`,(0,t.jsx)(n.p,{children:\"I am really excited by d3 and the way it is organized in small modules, letting me pick only the parts I need! It will be a big part of upcoming visualizations on this blog.\"}),`\n`,(0,t.jsxs)(n.h2,{id:\"more-d3-resources\",children:[(0,t.jsx)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#more-d3-resources\",children:(0,t.jsx)(n.span,{className:\"icon icon-link\"})}),\"More d3 Resources\"]}),`\n`,(0,t.jsxs)(n.ul,{children:[`\n`,(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:\"https://observablehq.com/collection/@d3/learn-d3\",children:\"https://observablehq.com/collection/@d3/learn-d3\"})}),`\n`,(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:\"https://medium.com/@enjalot/how-do-you-learn-d3-js-ccffc151419b\",children:\"https://medium.com/@enjalot/how-do-you-learn-d3-js-ccffc151419b\"})}),`\n`,(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:\"https://medium.com/@enjalot/the-hitchhikers-guide-to-d3-js-a8552174733a\",children:\"https://medium.com/@enjalot/the-hitchhikers-guide-to-d3-js-a8552174733a\"})}),`\n`,(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:\"https://bost.ocks.org/mike/\",children:\"https://bost.ocks.org/mike/\"})}),`\n`]})]});return a?(0,t.jsx)(a,Object.assign({},e,{children:o})):o}var Wo=Go;return Ko;})();\n;return Component.default;"},"__N_SSG":true}