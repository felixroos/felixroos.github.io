<!DOCTYPE html><html lang="en"><head><script>!function(){try{var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem("theme");if(e){d.add(e)}else{d.add('light');}}catch(t){}}();</script><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="HandheldFriendly" content="true"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-touch-fullscreen" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0"/><link rel="alternate" type="application/rss+xml" title="RSS Feed for felixroos.github.io" href="/rss.xml"/><link rel="alternate" type="application/atom+xml" title="Atom Feed for felixroos.github.io" href="/atom.xml"/><link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon-180x180.png"/><link rel="shortcut icon" type="image/x-icon" href="favicon/favicon-32x32.ico"/><link rel="icon" type="image/png" sizes="96x96" href="favicon/favicon-96x96.png"/><meta name="msapplication-square310x310logo" content="favicon/mstile-310x310.png"/><meta name="msapplication-TileColor" content="#FFFFFF"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:url" content="https://felixroos.github.io/"/><meta property="og:type" content="website"/><meta property="og:image" content="/logo.png"/><meta property="og:image:alt" content="Loophole Letters Logo"/><meta property="og:image:width" content="1024"/><meta property="og:image:height" content="1024"/><meta property="og:locale" content="en"/><meta property="og:site_name" content="Loophole Letters Blog"/><link rel="canonical" href="https://felixroos.github.io/rhythmical-chords"/><link rel="preload" as="image" imagesrcset="/_next/static/media/logo_cropped.c537dc4a.png 640w, /_next/static/media/logo_cropped.c537dc4a.png 750w, /_next/static/media/logo_cropped.c537dc4a.png 828w, /_next/static/media/logo_cropped.c537dc4a.png 1080w, /_next/static/media/logo_cropped.c537dc4a.png 1200w, /_next/static/media/logo_cropped.c537dc4a.png 1920w, /_next/static/media/logo_cropped.c537dc4a.png 2048w, /_next/static/media/logo_cropped.c537dc4a.png 3840w" imagesizes="100vw"/><title>Rhythmical Chords | Loophole Letters</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="To bring rhythmical one step closer to being a hackable backing track player, I want to implement one of the most important things: chord symbols"/><meta property="og:title" content="Rhythmical Chords | Loophole Letters"/><meta property="og:description" content="To bring rhythmical one step closer to being a hackable backing track player, I want to implement one of the most important things: chord symbols"/><meta name="next-head-count" content="32"/><link rel="preload" href="/_next/static/css/6cad85acb85b21e4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6cad85acb85b21e4.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-514908bffb652963.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-e146e0a21859bb55.js" defer=""></script><script src="/_next/static/chunks/pages/_app-1431f857cc9f55f4.js" defer=""></script><script src="/_next/static/chunks/674-06001bd0b5ea765c.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-900ba3868c5d9c28.js" defer=""></script><script src="/_next/static/80PaSk-4VJq0dcP6nviFX/_buildManifest.js" defer=""></script><script src="/_next/static/80PaSk-4VJq0dcP6nviFX/_ssgManifest.js" defer=""></script><script src="/_next/static/80PaSk-4VJq0dcP6nviFX/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><header class="z-[1999] sticky top-0 bg-slate-900 dark:bg-slate-800 font-semibold p-2 text-white flex justify-center shadow-xl border-b border-gray-500 dark:border-gray-800"><div class="max-w-3xl w-full p-2 flex justify-between items-center"><h1 class="sm:text-3xl text-2xl"><a href="/" class="flex items-bottom"><div class="h-8 w-8 mr-3 relative"><span style="box-sizing:border-box;display:block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:absolute;top:0;left:0;bottom:0;right:0"><img alt="Logo" sizes="100vw" srcSet="/_next/static/media/logo_cropped.c537dc4a.png 640w, /_next/static/media/logo_cropped.c537dc4a.png 750w, /_next/static/media/logo_cropped.c537dc4a.png 828w, /_next/static/media/logo_cropped.c537dc4a.png 1080w, /_next/static/media/logo_cropped.c537dc4a.png 1200w, /_next/static/media/logo_cropped.c537dc4a.png 1920w, /_next/static/media/logo_cropped.c537dc4a.png 2048w, /_next/static/media/logo_cropped.c537dc4a.png 3840w" src="/_next/static/media/logo_cropped.c537dc4a.png" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover"/><noscript><img alt="Logo" sizes="100vw" srcSet="/_next/static/media/logo_cropped.c537dc4a.png 640w, /_next/static/media/logo_cropped.c537dc4a.png 750w, /_next/static/media/logo_cropped.c537dc4a.png 828w, /_next/static/media/logo_cropped.c537dc4a.png 1080w, /_next/static/media/logo_cropped.c537dc4a.png 1200w, /_next/static/media/logo_cropped.c537dc4a.png 1920w, /_next/static/media/logo_cropped.c537dc4a.png 2048w, /_next/static/media/logo_cropped.c537dc4a.png 3840w" src="/_next/static/media/logo_cropped.c537dc4a.png" decoding="async" data-nimg="fill" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover" loading="lazy"/></noscript></span></div>loophole letters</a> </h1></div></header><div class="flex justify-center min-h-full dark:bg-slate-900 py-4"> <main class="max-w-3xl p-2"><article class="prose font-serif max-w-none prose-headings:font-sans prose-headings:font-black prose-headings:text-slate-900 dark:prose-headings:text-gray-200 dark:text-gray-400 dark:prose-strong:text-gray-400 dark:prose-code:text-slate-400 dark:prose-a:text-gray-300 prose-a:text-slate-900 prose-blockquote:text-slate-800 dark:prose-blockquote:text-slate-400"><div class="border-b-4 border-dotted pb-2 border-slate-900 mb-4"><div class="md:flex justify-between"><h1 class="mb-4 ">Rhythmical Chords</h1><div class="flex space-x-2 items-start pb-4 md:pb-0"><div class="text-sm bg-slate-200 dark:bg-slate-700 rounded-md p-2 font-serif text-slate-900 dark:text-white">rhythmical</div><div class="text-sm bg-slate-200 dark:bg-slate-700 rounded-md p-2 font-serif text-slate-900 dark:text-white">code</div></div></div><p class="italic p-0 m-0">July 30, 2020</p></div><div><p>To bring rhythmical one step closer to being a hackable backing track player, I want to implement one of the most important things: chord symbols.</p>
<p>Disclaimer: To get the most out of this post, you might want to read those posts first:</p>
<ul>
<li><a target="_blank" href="https://felixroos.github.io/blog/rhythmical-arrays/">Rhythmical Arrays</a></li>
<li><a target="_blank" href="https://felixroos.github.io/blog/rhythmical-objects/">Rhythmical Objects</a></li>
</ul>
<p>After this post, we will be able play chords like this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="156" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="33" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="17" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="161.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="81" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="33" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="134.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="81" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="172" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="70.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="33" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="193.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="166.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="188" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="188" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="193.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="134.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="70.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="156" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="75.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="59.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="38" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="27.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="193.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="75.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="59.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="22" width="8" height="5"></rect></g><g><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="166.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="1" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="1" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="1" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="11.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="188" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="182.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="65" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="38" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="17" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="156" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="70.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="38" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="17" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="193.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="43.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="27.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="193.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="166.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="145" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="91.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="70.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="65" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="182.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="65" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="33" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="6" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="156" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="33" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="17" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="145" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="6" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="182.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="33" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="6" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="156" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="33" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="17" width="33" height="5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Db^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;F#m7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B7b9&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7b13&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Db^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;DbmM7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bo7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7b9&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">tieReducer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicingReducer</span><span class="token punctuation">(</span>lefthand<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<p>Without having anything implemented yet, let&#x27;s <a target="_blank" href="https://felixroos.github.io/blog/rhythmical-objects/">render</a> the following two bars of major chords:</p>
<pre class="language-js"><code class="language-js"><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>...and look at the result:</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>...obviously, we cannot use that for playback, as these are chord symbols, and we need single notes with octaves.</p>
<h2 id="most-basic-chord-reducer"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#most-basic-chord-reducer"><span class="icon icon-link"></span></a>Most Basic Chord Reducer</h2>
<p>As our goal is to get playable events, we need to transform the chord symbols to notes, using <a target="_blank" href="https://github.com/tonaljs/tonal/tree/master/packages/chord#chordgetname-string-">Chord.get</a> and <a target="_blank" href="https://github.com/tonaljs/tonal/tree/master/packages/note#transposenote-string-interval-string--string">Note.transpose</a> of <a target="_blank" href="https://github.com/tonaljs/tonal">tonaljs</a>:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Note</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;@tonaljs/tonal&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">chordReducer</span><span class="token punctuation">(</span>events<span class="token punctuation">,</span> event<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> event<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">===</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> intervals<span class="token punctuation">,</span> tonic <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> notes <span class="token operator">=</span> intervals<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>tonic <span class="token operator">+</span> <span class="token string">&#x27;3&#x27;</span><span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> events<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span>notes<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>event<span class="token punctuation">,</span> value<span class="token operator">:</span> note <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> events<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>to apply the reducer, we can now just use <a target="_blank" href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce">reduce</a>:</p>
<pre class="language-js"><code class="language-js"><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>chordReducer<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Result:</p>
<div style="max-height:400px;overflow:auto;border-radius:10px;margin-bottom:10px"><pre class="language-js"><code class="language-js"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;F3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;C4&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div>
<p>...which we can now play back:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="185.5" width="300" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="133" width="300" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="93" width="300" height="13"></rect></g><g><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="119.5" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="67" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="27" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="93" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="40.5" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="1" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="185.5" width="300" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="133" width="300" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="93" width="300" height="13"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>chordReducer<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<h2 id="is-this-good-music-yet"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#is-this-good-music-yet"><span class="icon icon-link"></span></a>Is this good music yet?</h2>
<p>Even besides the fact that this is played back by a cheap piano without rhythm, you might not be satisfied with the way the chords are played.</p>
<p>A good pianist would never play chords like this, as their voices are moving with big steps. The voice leading would be much better if the end result sounded something like this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="145" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="91" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="1" width="300" height="18"></rect></g><g><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="127" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="54.5" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="181" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="91" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="19" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="145" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="91" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="1" width="300" height="18"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;F3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<p>Here, we start on F major in <a target="_blank" href="https://en.wikipedia.org/wiki/Root_position">root position</a> (1 3 5), transition to G major in 2nd inversion (5 1 3) to land on C major in 1st inversion (3 5 1).</p>
<p>If we look at the movement between individual notes (voices), we only have small steps between 0 and 3 semitones, as opposed to 2-5 semitones in the previous example.
The result is a much smoother sound.</p>
<h2 id="voicings--voice-leading"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#voicings--voice-leading"><span class="icon icon-link"></span></a>Voicings &amp; Voice leading</h2>
<p>The problem above brings us to the topic of Voicings and Voice Leading.</p>
<p>A <em>voicing</em> of a chord is one of many ways to play it, like different inversions. Another way to voice chords is by using wider intervals or doubling notes in different octaves. If you have no clue what I&#x27;m talking about, <a target="_blank" href="https://www.youtube.com/watch?v=VR3o45Pwx9Y">watch this video</a>.</p>
<p><em>Voice Leading</em> describes the transition between different voicings of chords, with the general aim to create smooth transitions.</p>
<h2 id="two-approaches-to-algorithmic-voicings"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#two-approaches-to-algorithmic-voicings"><span class="icon icon-link"></span></a>Two approaches to algorithmic voicings</h2>
<p>So far, I came across two approaches to generate voicings automatically:</p>
<h3 id="voicing-dictionaries"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#voicing-dictionaries"><span class="icon icon-link"></span></a>Voicing Dictionaries</h3>
<p>Many applications (like iReal pro) use dictionaries that contain multiple voicings for each chord, then picking the one with the best voice leading.
This is similar to how beginner and intermediate improvising piano players learn chords: Practising different voicings and pressing them on the fly.
This is the approach that I want to implement today.</p>
<h3 id="voicing-permutation"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#voicing-permutation"><span class="icon icon-link"></span></a>Voicing Permutation</h3>
<p>More advanced improvisers will think in terms of scales/modes and voicings that fit inside, which offers much more freedom.
This approach can be mapped by using permutation: Taking all possible notes that can be selected for a chord, and going through all possible combinations one by one.
As there are almost endless combinations, especially for chords with more notes, we need to come up with some rules that filter out combinations we do not want + find a way to permutate efficiently.
This can be done via <a target="_blank" href="https://felixroos.github.io/blog/combinatorial-search/">combinatorial search</a>, which will be the topic for a future post.</p>
<h2 id="implementing-a-voicing-dictionary"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#implementing-a-voicing-dictionary"><span class="icon icon-link"></span></a>Implementing a Voicing Dictionary</h2>
<p>A small fragment of a voicing dictionary could look like this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> lefthand <span class="token operator">=</span> <span class="token punctuation">{</span>
  m7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3m 5P 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2M 2M 3m 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10m 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">7</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 6M 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2M 2M 3M 6M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10M 13M&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;^7&#x27;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 5P 7M 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2m 2M 3M 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7M 9M 10M 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>These are typical <a target="_blank" href="https://www.youtube.com/watch?v=5uoD6LfaDoE">rootless lefthand voicings</a>, notated using .
If we now want to resolve chords with good voice leading, we can do it like this:</p>
<div style="max-height:400px;overflow:auto;border-radius:10px;margin-bottom:10px"><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Note</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;@tonaljs/tonal&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">voicingDictionaryReducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span>dictionary<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>events<span class="token punctuation">,</span> event<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> event<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">!==</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> events<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> tonic<span class="token punctuation">,</span> aliases <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_symbol<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> aliases<span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span>_symbol<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token builtin">symbol</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">no voicings found for chord &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>event<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> events<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> intervals<span class="token punctuation">;</span>
  <span class="token keyword">const</span> voicings <span class="token operator">=</span> dictionary<span class="token punctuation">[</span><span class="token builtin">symbol</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> i<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27; &#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// split interval strings</span>
  <span class="token keyword">const</span> root <span class="token operator">=</span> tonic <span class="token operator">+</span> <span class="token string">&#x27;3&#x27;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> bass <span class="token operator">=</span> tonic <span class="token operator">+</span> <span class="token string">&#x27;2&#x27;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>events<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// first chord =&gt; just use first voicing</span>
    intervals <span class="token operator">=</span> voicings<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// not first chord =&gt; find smoothest voicing</span>
    <span class="token keyword">const</span> lastNote <span class="token operator">=</span> events<span class="token punctuation">[</span>events<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span> <span class="token comment">// last voiced note (top note)</span>
    <span class="token comment">// calculates the distance between the last note and the given voicings top note</span>
    <span class="token keyword">const</span> <span class="token function-variable function">diff</span> <span class="token operator">=</span> <span class="token punctuation">(</span>voicing<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
      <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">abs</span><span class="token punctuation">(</span><span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span>lastNote<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span><span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> voicing<span class="token punctuation">[</span>voicing<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// sort voicings by lowest top note difference</span>
    intervals <span class="token operator">=</span> voicings<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">diff</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">diff</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// transpose to root</span>
  <span class="token keyword">const</span> notes <span class="token operator">=</span> intervals<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> events<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>event<span class="token punctuation">,</span> value<span class="token operator">:</span> bass <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span>notes<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>event<span class="token punctuation">,</span> value<span class="token operator">:</span> note <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Now, a 251 sounds like this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="192" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="82.5" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="62" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="35" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="14.5" width="300" height="6.5"></rect></g><g><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="178.5" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="76" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="48.5" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="28" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="144" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="76" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="48.5" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="35" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="1" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="192" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="82.5" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="62" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="35" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="14.5" width="300" height="6.5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<p>Ahhh.. yeahhh, niccce. Let&#x27;s try a tune that only uses 251s but goes through different tonal centers, like joy spring:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="152" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="88" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="59" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="41.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="18.5" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="18.5" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="18.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="18.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="18.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="28" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="28" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="28" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="28" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="28" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="100" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="56" y="164" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="56" y="105.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="56" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="56" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="56" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="65" y="134.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="65" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="65" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="65" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="65" y="12.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="175.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="65" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="41.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="24" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="93" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="93" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="93" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="93" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="93" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="102.5" y="187" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="102.5" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="102.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="102.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="102.5" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="158" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="94" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="76.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="65" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="47.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="130.5" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="130.5" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="130.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="130.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="130.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="140" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="140" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="140" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="140" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="140" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="100" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="168" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="168" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="168" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="168" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="168" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="177.5" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="177.5" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="177.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="177.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="177.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="186.5" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="186.5" y="100" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="186.5" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="186.5" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="186.5" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="134.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="175.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="140.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="30" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="233.5" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="233.5" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="233.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="233.5" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="233.5" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="242.5" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="242.5" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="242.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="242.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="242.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="252" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="252" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="252" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="252" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="252" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="100" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="280" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="280" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="280" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="280" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="280" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="289.5" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="289.5" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="289.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="289.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="289.5" y="41.5" width="9" height="5.5"></rect></g><g><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="30" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="12.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="317.5" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="317.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="317.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="317.5" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="317.5" y="1" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="327" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="327" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="327" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="327" y="30" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="327" y="1" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="30" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="12.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="355" y="134.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="355" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="355" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="355" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="355" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="364" y="175.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="364" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="364" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="364" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="364" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="140.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="30" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="383" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="383" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="383" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="383" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="383" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="392" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="392" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="392" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="392" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="392" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="401.5" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="401.5" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="401.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="401.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="401.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="100" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="429.5" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="429.5" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="429.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="429.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="429.5" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="439" y="187" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="439" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="439" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="439" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="439" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="158" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="94" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="76.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="65" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="47.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="467" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="467" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="467" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="467" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="467" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="476.5" y="187" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="476.5" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="476.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="476.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="476.5" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="158" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="94" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="76.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="65" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="47.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="504.5" y="129" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="504.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="504.5" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="504.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="504.5" y="18" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="513.5" y="169.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="513.5" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="513.5" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="513.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="513.5" y="18" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="134.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="532.5" y="140.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="532.5" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="532.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="532.5" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="532.5" y="18" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="541.5" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="541.5" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="541.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="541.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="541.5" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="551" y="187" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="551" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="551" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="551" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="551" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="158" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="94" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="76.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="65" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="47.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="579" y="140.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="579" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="579" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="579" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="579" y="30" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="588.5" y="181.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="588.5" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="588.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="588.5" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="588.5" y="30" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="152" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="88" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="59" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="41.5" width="18.5" height="5.5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Abm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Db7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Gb^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Abm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Db7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gb^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Bm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Abm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Db7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gb^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Abm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Db7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gb^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicingDictionaryReducer</span><span class="token punctuation">(</span>lefthand<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<h3 id="observations"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#observations"><span class="icon icon-link"></span></a>Observations</h3>
<p>Apart from the fact that this still sounds robotic due to the lame rhythm and non existing articulation, we can observe:</p>
<ul>
<li>the basic voice leading works good</li>
<li>sometimes, it still jumps after getting too low</li>
<li>this is (partly) good, as voicings that are too low sound muddy</li>
<li>for many tunes (like joy spring), it is inevitable that the tightest possible voice leading is going out of range at some point</li>
<li>so at some point, a non optimal voice leading has to be chosen to get back to the sugar range</li>
</ul>
<h3 id="range-considerations"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#range-considerations"><span class="icon icon-link"></span></a>Range Considerations</h3>
<p>Let&#x27;s review, how we are transposing the intervals to get the notes:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> root <span class="token operator">=</span> tonic <span class="token operator">+</span> <span class="token string">&#x27;3&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> notes <span class="token operator">=</span> intervals<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>This will give us a lowest possible root of C3 and a highest of B3.</p>
<p>If we use the following intervals:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> lefthand <span class="token operator">=</span> <span class="token punctuation">{</span>
  m7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3m 5P 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2M 2M 3m 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10m 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">7</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 6M 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2M 2M 3M 6M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10M 13M&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;^7&#x27;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 5P 7M 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2m 2M 3M 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7M 9M 10M 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>... we have a minimum transposition of -2M and a maximum of 13M. Applying those to our min and max roots we get a note range of:</p>
<ul>
<li>lowest note: C3 - 2M = Bb2</li>
<li>highest note: B3 + 13M = G#4</li>
</ul>
<p>To test some range edge cases, I want to create an example where the voicings get really low. As the first voicing will always use the first interval set:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>events<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// first chord =&gt; just use first voicing</span>
  intervals <span class="token operator">=</span> voicings<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>...which is:</p>
<ul>
<li>&#x27;3m 5P 7m 9M&#x27; for m7</li>
<li>&#x27;3M 6M 7m 9M&#x27; for 7</li>
<li>&#x27;3M 5P 7M 9M&#x27; for ^7</li>
</ul>
<p>... we will not even use the min or max intervals. If we want to reach them, we have to construct chords so that their smoothest voice leading will go down:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="192.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="128.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="103" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="96.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="71" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="122" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="58" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="32.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="26.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="1" width="100" height="6"></rect></g><g><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="192.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="96.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="71" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="52" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="26.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="167" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="103" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="77.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="71" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="45.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="179.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="115.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="90" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="84" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="58" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="192.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="128.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="103" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="96.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="71" width="200" height="6"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Em7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> duration<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bm7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicingDictionaryReducer</span><span class="token punctuation">(</span>lefthand<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<p>Now we reach the lowest possible note (Bb2) on the second Cm7 (the long one). This is kind of low, but still more or less acceptable. What&#x27;s less acceptable, is the last chord:</p>
<p>I&#x27;ve set up the Bm7 to create a disjoint after the low Cm7. It may not sound unpleasant but for the goal of smooth voice leading, the Bm7 goes higher than it should.</p>
<p>If we add another, even lower octave to our m7 voicings:</p>
<pre class="language-ts"><code class="language-ts"><span class="token punctuation">{</span>
m7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3m 5P 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-6M -4P -2M 2M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2M 2M 3m 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10m 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token comment">/* */</span>
<span class="token punctuation">}</span>
</code></pre>
<p>... we get this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="191.5" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="118" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="89" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="81.5" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="52" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="111" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="89" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="59.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="37.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="8" width="100" height="7"></rect></g><g><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="191.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="81.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="52" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="30" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="162" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="89" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="59.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="52" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="23" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="177" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="103.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="74" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="67" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="37.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="191.5" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="118" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="89" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="81.5" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="52" width="200" height="7"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<p>Now, the Bm7 does not &quot;overshoot&quot; and leads much smoother to the higher Cm7. Ok fine, so should we just use that addition?</p>
<p>Before we do that, let&#x27;s modify the example slightly, spinning an extra round to get even lower:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-33.5" y="162" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-33.5" y="140" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-33.5" y="111" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-33.5" y="89" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-33.5" y="59.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="33" y="177" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="33" y="155" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="33" y="125.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="33" y="103.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="33" y="74" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="99.5" y="191.5" width="133" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="99.5" y="169.5" width="133" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="99.5" y="140" width="133" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="99.5" y="118" width="133" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="99.5" y="89" width="133" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="232.5" y="111" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="232.5" y="89" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="232.5" y="59.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="232.5" y="37.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="232.5" y="8" width="66.5" height="7"></rect></g><g><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="191.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="81.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="52" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="30" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="365" y="162" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="365" y="89" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="365" y="59.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="365" y="52" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="365" y="23" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="431.5" y="184" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="431.5" y="103.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="431.5" y="81.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="431.5" y="67" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="431.5" y="45" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="191.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="118" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="89" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="81.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="52" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="564.5" y="162" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="564.5" y="140" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="564.5" y="111" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="564.5" y="89" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="564.5" y="59.5" width="66.5" height="7"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<pre class="language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Em7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Db^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Em7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> duration<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bm7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Here, we are getting much too low on the longer Cm7...</p>
<h3 id="the-dilemma"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#the-dilemma"><span class="icon icon-link"></span></a>The dilemma</h3>
<p>So now we have the classic coding dilemma: We had a problem (Bm7 did not go low enough), came up with a fix that solved it (add lower voicing), but we created another problem (other voicings are now too low)...
This often happens when we are using a wrong abstraction, in this case, using root transposition to create voicings.</p>
<p>The essential problem: We end up having different ranges for different roots. Also, we have no direct control over the range of the voicings.
Additionally, it does not feel right for a voicing appear twice in the dictionary, only differing in octave.</p>
<h3 id="what-makes-a-voicing-unpleasant"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#what-makes-a-voicing-unpleasant"><span class="icon icon-link"></span></a>What makes a voicing unpleasant</h3>
<p>When a voicing gets too low, some intervals at the bottom end are getting so close together that their overtones create nasty dissonances, as they get more and more audible.</p>
<h3 id="solution"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#solution"><span class="icon icon-link"></span></a>Solution</h3>
<p>It would be great to control the range directly, not indirectly through the dictionary. Let&#x27;s remove the clutter from our dictionary:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> lefthand <span class="token operator">=</span> <span class="token punctuation">{</span>
  m7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3m 5P 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10m 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">7</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 6M 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10M 13M&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;^7&#x27;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 5P 7M 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7M 9M 10M 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Now I want to find a way to get all possible voicings inside a given note range. Lets use:</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token string">&#x27;G2&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>like proposed <a target="_blank" href="https://youtu.be/5uoD6LfaDoE?t=523">here</a>.</p>
<p>Now we want this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> possibleVoicings <span class="token operator">=</span> <span class="token function">voicingsInRange</span><span class="token punctuation">(</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> lefthand<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;G2&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* [
  [&#x27;Eb3&#x27;,&#x27;G3&#x27;,&#x27;Bb3&#x27;,&#x27;D4&#x27;],
  [&#x27;Bb2&#x27;,&#x27;D3&#x27;,&#x27;Eb3&#x27;,&#x27;G3&#x27;],
  [&#x27;Bb3&#x27;,&#x27;D4&#x27;,&#x27;Eb4&#x27;,&#x27;G4&#x27;],
]*/</span>
</code></pre>
<p>Now those 3 voicings are all possible Cm7 voicings inside the given range, using the provided dictionary.</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="82" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="46" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="37" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="1" width="300" height="9"></rect></g><g><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="190" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="154" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="145" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="108.5" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="145" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="108.5" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="82" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="46" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="82" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="46" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="37" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="1" width="300" height="9"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<h3 id="proper-range-implementation"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#proper-range-implementation"><span class="icon icon-link"></span></a>Proper Range Implementation</h3>
<p>After some back and forth, I ended up implementing the method like this:</p>
<div style="max-height:400px;overflow:auto;border-radius:10px;margin-bottom:10px"><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Range</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Interval</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;@tonaljs/tonal&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">voicingsInRange</span><span class="token punctuation">(</span><span class="token parameter">chord<span class="token punctuation">,</span> dictionary<span class="token punctuation">,</span> range</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> tonic<span class="token punctuation">,</span> aliases <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>chord<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// find equivalent symbol that is used as a key in dictionary:</span>
  <span class="token keyword">const</span> symbol <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_symbol</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> aliases<span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span>_symbol<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// resolve array of interval arrays for the wanted symbol</span>
  <span class="token keyword">const</span> voicings <span class="token operator">=</span> dictionary<span class="token punctuation">[</span>symbol<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">intervals</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> intervals<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27; &#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> notesInRange <span class="token operator">=</span> <span class="token maybe-class-name">Range</span><span class="token punctuation">.</span><span class="token method function property-access">chromatic</span><span class="token punctuation">(</span>range<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// gives array of notes inside range</span>
  <span class="token keyword control-flow">return</span> voicings<span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">voiced<span class="token punctuation">,</span> voicing</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// transpose intervals relative to first interval (e.g. 3m 5P &gt; 1P 3M)</span>
    <span class="token keyword">const</span> relativeIntervals <span class="token operator">=</span> voicing<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">interval</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Interval</span><span class="token punctuation">.</span><span class="token method function property-access">substract</span><span class="token punctuation">(</span>interval<span class="token punctuation">,</span> voicing<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// interval from bottom to top note</span>
    <span class="token keyword">const</span> voicingSpan <span class="token operator">=</span> relativeIntervals<span class="token punctuation">[</span>relativeIntervals<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// get enharmonic correct pitch class the bottom note</span>
    <span class="token keyword">const</span> bottomPitchClass <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>tonic<span class="token punctuation">,</span> voicing<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// get all possible start notes for voicing</span>
    <span class="token keyword">const</span> starts <span class="token operator">=</span> notesInRange
      <span class="token comment">// only get the start notes:</span>
      <span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">note</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">chroma</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">chroma</span><span class="token punctuation">(</span>bottomPitchClass<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment">// filter out start notes that will overshoot the top end of the range</span>
      <span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">note</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span><span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>note<span class="token punctuation">,</span> voicingSpan<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span>range<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment">// replace Range.chromatic notes with the correct enharmonic equivalents</span>
      <span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">note</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">enharmonicEquivalent</span><span class="token punctuation">(</span>note<span class="token punctuation">,</span> bottomPitchClass<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// render one voicing for each start note</span>
    <span class="token keyword">const</span> notes <span class="token operator">=</span> starts<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">start</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> relativeIntervals<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">interval</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> voiced<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span>notes<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>using <a target="_blank" href="https://github.com/tonaljs/tonal/tree/master/packages/range">Range.chromatic</a> to create the range + a custom enharmonicEquivalent function to get the accidentals right.</p>
<h4 id="enharmonic-considerations"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#enharmonic-considerations"><span class="icon icon-link"></span></a>Enharmonic Considerations</h4>
<p>One tricky part of the implementation above was the enharmonicEquivalent method.</p>
<p>To understand the problem, let&#x27;s try to create an edge case, by rendering the chord Fm7b5 with a specific voicing:</p>
<div style="max-height:400px;overflow:auto;border-radius:10px;margin-bottom:10px"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> tonic <span class="token operator">=</span> <span class="token string">&#x27;F&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> voicing <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#x27;5d 7m 8P 10m&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> range <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#x27;A2&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> notesInRange <span class="token operator">=</span> <span class="token maybe-class-name">Range</span><span class="token punctuation">.</span><span class="token method function property-access">chromatic</span><span class="token punctuation">(</span>range<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&#x27;A2&#x27;,&#x27;Bb2&#x27;,&#x27;B2&#x27;,&#x27;C3&#x27;,&#x27;Db3&#x27;,&#x27;D3&#x27;,&#x27;Eb3&#x27;,&#x27;E3&#x27;,&#x27;F3&#x27;,&#x27;Gb3&#x27;,&#x27;G3&#x27;,&#x27;Ab3&#x27;,&#x27;A3&#x27;,&#x27;Bb3&#x27;,&#x27;B3&#x27;,&#x27;C4&#x27;]</span>
voicing <span class="token operator">=</span> voicing<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27; &#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&#x27;5d&#x27;, &#x27;7m&#x27;, &#x27;8P&#x27;, &#x27;10m&#x27;]</span>
<span class="token comment">// map intervals relative to start</span>
<span class="token keyword">const</span> relativeIntervals <span class="token operator">=</span> voicing<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">interval</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Interval</span><span class="token punctuation">.</span><span class="token method function property-access">substract</span><span class="token punctuation">(</span>interval<span class="token punctuation">,</span> voicing<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&#x27;1P&#x27;, &#x27;3M&#x27;, &#x27;4A&#x27;, &#x27;6M&#x27;]</span>
<span class="token comment">// interval from bottom to top note:</span>
<span class="token keyword">const</span> voicingSpan <span class="token operator">=</span> relativeIntervals<span class="token punctuation">[</span>relativeIntervals<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 6M</span>
<span class="token comment">// find out the bottom pitch class</span>
<span class="token keyword">const</span> bottomPitchClass <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>tonic<span class="token punctuation">,</span> voicing<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// F + 5d = Cb</span>
<span class="token comment">// filter the range</span>
<span class="token keyword">let</span> starts <span class="token operator">=</span> notesInRange
  <span class="token comment">// .. only keep notes that are enharmonically equivalent to Cb</span>
  <span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">note</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">chroma</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">chroma</span><span class="token punctuation">(</span>bottomPitchClass<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#x27;B2&#x27;,&#x27;B3&#x27;]</span>
  <span class="token comment">// .. only keep notes that stay within range when added the voicingSpan</span>
  <span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">note</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span><span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>note<span class="token punctuation">,</span> voicingSpan<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span>range<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&#x27;B2&#x27;]</span>
<span class="token comment">// .map(note =&gt; enharmonicEquivalent(note, bottomPitchClass)) // intentionally left out</span>
<span class="token comment">// render one voicing for each start note</span>
<span class="token keyword">const</span> notes <span class="token operator">=</span> starts<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">start</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> relativeIntervals<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">interval</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&#x27;1P&#x27;, &#x27;3M&#x27;, &#x27;4A&#x27;, &#x27;6M&#x27;].map((interval) =&gt; Note.transpose(&#x27;B2&#x27;, interval))</span>
<span class="token comment">// yields [&#x27;B2&#x27;,&#x27;D#3&#x27;,&#x27;E#3&#x27;, &#x27;G#3&#x27;]</span>
<span class="token comment">// but we want [&#x27;Cb3&#x27;,&#x27;Eb3&#x27;,&#x27;F3&#x27;,&#x27;Ab3&#x27;]</span>
</code></pre></div>
<p>So the last piece of the puzzle is a function that turns the B2 to a Cb3 before calculating the notes.</p>
<p>My first attempt at this was just swapping the octave number:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">enharmonicEquivalent</span><span class="token punctuation">(</span><span class="token parameter">note<span class="token punctuation">,</span> pitchClass</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> oct <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> pitchClass <span class="token operator">+</span> oct<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// enharmonicEquivalent(&#x27;F2&#x27;, &#x27;E#&#x27;) =&gt; E#2 =&gt; fine</span>
<span class="token comment">// enharmonicEquivalent(&#x27;B2&#x27;, &#x27;Cb&#x27;) =&gt; Cb2 =&gt; not fine =&gt; 1 octave too low</span>
<span class="token comment">// enharmonicEquivalent(&#x27;C2&#x27;, &#x27;B#&#x27;) =&gt; B#2 =&gt; not fine =&gt; 1 octave too high</span>
</code></pre>
<p>But for cases where the enharmonic equivalents have a different octave number, this results in octave shifts.
I finally implemented it like this:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">enharmonicEquivalent</span><span class="token punctuation">(</span>note<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> pitchClass<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> alt<span class="token punctuation">,</span> letter <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>pitchClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span> oct <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> letterChroma <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">chroma</span><span class="token punctuation">(</span>letter<span class="token punctuation">)</span> <span class="token operator">+</span> alt<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>letterChroma <span class="token operator">&gt;</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    oct<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>letterChroma <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    oct<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> pitchClass <span class="token operator">+</span> oct<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// enharmonicEquivalent(&#x27;F2&#x27;, &#x27;E#&#x27;) =&gt; E#2 =&gt; fine</span>
<span class="token comment">// enharmonicEquivalent(&#x27;B2&#x27;, &#x27;Cb&#x27;) =&gt; Cb3 =&gt; fine</span>
<span class="token comment">// enharmonicEquivalent(&#x27;C2&#x27;, &#x27;B#&#x27;) =&gt; B#1 =&gt; fine</span>
</code></pre>
<h3 id="conclusion"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#conclusion"><span class="icon icon-link"></span></a>Conclusion</h3>
<p>Finally the &quot;problematic&quot; chord progression sounds like this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-0.5" y="180" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-0.5" y="118.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-0.5" y="93.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-0.5" y="87.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-0.5" y="62.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="59.5" y="192.5" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="59.5" y="100" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="59.5" y="75" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="59.5" y="56.5" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="59.5" y="31.5" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="179" y="124.5" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="179" y="106" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="179" y="81" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="179" y="62.5" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="179" y="38" width="120" height="6"></rect></g><g><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="192.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="56.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="31.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="25.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="358.5" y="168" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="358.5" y="75" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="358.5" y="50.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="358.5" y="31.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="358.5" y="7" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="418.5" y="180" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="418.5" y="87.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="418.5" y="62.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="418.5" y="44" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="418.5" y="19.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="478" y="192.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="478" y="100" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="478" y="75" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="478" y="56.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="478" y="31.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="538" y="168" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="538" y="106" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="538" y="81" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="538" y="75" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="538" y="50.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="597.5" y="180" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="597.5" y="118.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="597.5" y="93.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="597.5" y="87.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="597.5" y="62.5" width="60" height="6"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano<span class="token punctuation">,</span> drums <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;Em7&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;Em7&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> duration<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">&#x27;Bm7&#x27;</span><span class="token punctuation">,</span> duration<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicingReducer</span><span class="token punctuation">(</span>lefthand<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C6&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<p>Now this seems to work perfectly, the only jump remains at the repetition, which could be fixed by regenerating the voicing each round, which I will implement in the future.</p>
<p>Now to close the gap, here&#x27;s the basic cadence again, this time generated algorithmically:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="181" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="91" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="54.5" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="1" width="300" height="18"></rect></g><g><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="163" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="127" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="73" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="37" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="145" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="108.5" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="54.5" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="19" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="181" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="91" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="54.5" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="1" width="300" height="18"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>
    <span class="token function">voicingReducer</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span>
        <span class="token constant">M</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;1P 3M 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;3M 5P 8P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;5P 8P 10M&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">]</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<p>Let&#x27;s try some autumn leaves (with more voicings added to the dictionary):</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="18.5" y="180" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="18.5" y="81" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="18.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="18.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="18.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="149.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="93.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="62.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="56.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="31.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="192.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="100" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="93" y="161.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="93" y="100" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="93" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="93" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="93" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="130.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="106" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="87.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="130.5" y="174" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="130.5" y="106" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="130.5" y="87.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="130.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="130.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="168" y="180" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="168" y="81" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="168" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="168" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="168" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="149.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="87.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="62.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="56.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="31.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="196" y="155.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="196" y="93.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="196" y="69" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="196" y="56.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="196" y="25.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="161.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="100" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="75" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="69" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="44" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="168" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="106" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="81" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="69" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="38" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="224" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="224" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="224" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="224" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="224" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="242.5" y="180" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="242.5" y="81" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="242.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="242.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="242.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="149.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="93.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="62.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="56.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="31.5" width="37.5" height="6"></rect></g><g><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="192.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="1" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="317.5" y="161.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="317.5" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="317.5" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="317.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="317.5" y="1" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="130.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="13" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="355" y="174" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="355" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="355" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="355" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="355" y="13" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="373.5" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="373.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="373.5" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="373.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="373.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="392" y="180" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="392" y="81" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="392" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="392" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="392" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="149.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="93.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="62.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="56.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="31.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="192.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="100" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="467" y="161.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="467" y="100" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="467" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="467" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="467" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="130.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="106" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="87.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="504.5" y="174" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="504.5" y="106" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="504.5" y="87.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="504.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="504.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="523" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="523" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="523" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="523" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="523" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="541.5" y="180" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="541.5" y="81" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="541.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="541.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="541.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="149.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="93.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="62.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="56.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="31.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="25.5" width="18.5" height="6"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> piano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7b13&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gm6&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7b13&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gm6&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7b13&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gm6&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7b13&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gb7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7b13&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gm6&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">tieReducer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicingReducer</span><span class="token punctuation">(</span>lefthand<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<h2 id="tbd"><a aria-hidden="true" tabindex="-1" href="/rhythmical-chords#tbd"><span class="icon icon-link"></span></a>TBD</h2>
<ul>
<li>error handling !</li>
<li>remove hard coded bass from voicingReducer =&gt; add bassReducer</li>
<li>add filterReducer + combineReducers =&gt; apply voicing reducer only to chords</li>
<li>add duplicateReducer (removes duplicate events) =&gt; remove notes that are covered by melody</li>
<li>add rangeReducer (remove notes outside a certain range) =&gt; remove notes above melody</li>
</ul></div></article></main></div><div class="py-4 font-serif bg-slate-900 dark:bg-slate-800 text-white flex justify-center items-center"><p class="leading-none"><a class="underline" href="https://github.com/felixroos">Felix Roos</a> <!-- -->2021</p></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Rhythmical Chords","date":"2020-07-30","tags":["rhythmical","code"],"description":"To bring rhythmical one step closer to being a hackable backing track player, I want to implement one of the most important things: chord symbols","image":"./img/rhythmical-chords.png"},"code":"var Component=(()=\u003e{var j8=Object.create;var Qu=Object.defineProperty;var D8=Object.getOwnPropertyDescriptor;var I8=Object.getOwnPropertyNames;var F8=Object.getPrototypeOf,V8=Object.prototype.hasOwnProperty;var L8=(n,e,r)=\u003ee in n?Qu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var Px=n=\u003eQu(n,\"__esModule\",{value:!0});var yt=(n,e)=\u003e()=\u003e(n\u0026\u0026(e=n(n=0)),e);var v=(n,e)=\u003e()=\u003e(e||n((e={exports:{}}).exports,e),e.exports),Jm=(n,e)=\u003e{Px(n);for(var r in e)Qu(n,r,{get:e[r],enumerable:!0})},W8=(n,e,r)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let i of I8(e))!V8.call(n,i)\u0026\u0026i!==\"default\"\u0026\u0026Qu(n,i,{get:()=\u003ee[i],enumerable:!(r=D8(e,i))||r.enumerable});return n},rt=n=\u003eW8(Px(Qu(n!=null?j8(F8(n)):{},\"default\",n\u0026\u0026n.__esModule\u0026\u0026\"default\"in n?{get:()=\u003en.default,enumerable:!0}:{value:n,enumerable:!0})),n);var Ox=(n,e,r)=\u003e(L8(n,typeof e!=\"symbol\"?e+\"\":e,r),r);var Ax=v((lpe,Cx)=\u003e{Cx.exports=_jsx_runtime});var An=v((Yh,Rx)=\u003e{(function(n,e){typeof Yh==\"object\"\u0026\u0026typeof Rx!=\"undefined\"?e(Yh):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Core={}))})(Yh,function(n){\"use strict\";var e=function(de,xe){return Array(Math.abs(xe)+1).join(de)};function r(de,xe,Oe){return function(){for(var Ge=[],Pe=0;Pe\u003carguments.length;Pe++)Ge[Pe]=arguments[Pe];return console.warn(de+\" is deprecated. Use \"+xe+\".\"),Oe.apply(this,Ge)}}function i(de){return de!==null\u0026\u0026typeof de==\"object\"\u0026\u0026typeof de.name==\"string\"}function o(de){return de!==null\u0026\u0026typeof de==\"object\"\u0026\u0026typeof de.step==\"number\"\u0026\u0026typeof de.alt==\"number\"}var c=[0,2,4,-1,1,3,5],d=c.map(function(de){return Math.floor(de*7/12)});function p(de){var xe=de.step,Oe=de.alt,Ge=de.oct,Pe=de.dir,Se=Pe===void 0?1:Pe,nt=c[xe]+7*Oe;if(Ge===void 0)return[Se*nt];var ct=Ge-d[xe]-4*Oe;return[Se*nt,Se*ct]}var g=[3,0,4,1,5,2,6];function _(de){var xe=de[0],Oe=de[1],Ge=de[2],Pe=g[k(xe)],Se=Math.floor((xe+1)/7);if(Oe===void 0)return{step:Pe,alt:Se,dir:Ge};var nt=Oe+4*Se+d[Pe];return{step:Pe,alt:Se,oct:nt,dir:Ge}}function k(de){var xe=(de+1)%7;return xe\u003c0?7+xe:xe}var x={empty:!0,name:\"\",pc:\"\",acc:\"\"},q=new Map,V=function(de){return\"CDEFGAB\".charAt(de)},P=function(de){return de\u003c0?e(\"b\",-de):e(\"#\",de)},W=function(de){return de[0]===\"b\"?-de.length:de.length};function K(de){var xe=q.get(de);if(xe)return xe;var Oe=typeof de==\"string\"?$(de):o(de)?K(U(de)):i(de)?K(de.name):x;return q.set(de,Oe),Oe}var J=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\\d*)\\s*(.*)$/;function X(de){var xe=J.exec(de);return[xe[1].toUpperCase(),xe[2].replace(/x/g,\"##\"),xe[3],xe[4]]}function oe(de){return K(_(de))}var G=function(de,xe){return(de%xe+xe)%xe},R=[0,2,4,5,7,9,11];function $(de){var xe=X(de);if(xe[0]===\"\"||xe[3]!==\"\")return x;var Oe=xe[0],Ge=xe[1],Pe=xe[2],Se=(Oe.charCodeAt(0)+3)%7,nt=W(Ge),ct=Pe.length?+Pe:void 0,Gt=p({step:Se,alt:nt,oct:ct}),fn=Oe+Ge+Pe,Ot=Oe+Ge,mn=(R[Se]+nt+120)%12,wn=ct===void 0?G(R[Se]+nt,12)-12*99:R[Se]+nt+12*(ct+1),Un=wn\u003e=0\u0026\u0026wn\u003c=127?wn:null,$n=ct===void 0?null:Math.pow(2,(wn-69)/12)*440;return{empty:!1,acc:Ge,alt:nt,chroma:mn,coord:Gt,freq:$n,height:wn,letter:Oe,midi:Un,name:fn,oct:ct,pc:Ot,step:Se}}function U(de){var xe=de.step,Oe=de.alt,Ge=de.oct,Pe=V(xe);if(!Pe)return\"\";var Se=Pe+P(Oe);return Ge||Ge===0?Se+Ge:Se}var te={empty:!0,name:\"\",acc:\"\"},ie=\"([-+]?\\\\d+)(d{1,4}|m|M|P|A{1,4})\",be=\"(AA|A|P|M|m|d|dd)([-+]?\\\\d+)\",Ne=new RegExp(\"^\"+ie+\"|\"+be+\"$\");function Ae(de){var xe=Ne.exec(\"\"+de);return xe===null?[\"\",\"\"]:xe[1]?[xe[1],xe[2]]:[xe[4],xe[3]]}var ze={};function $e(de){return typeof de==\"string\"?ze[de]||(ze[de]=le(de)):o(de)?$e(me(de)):i(de)?$e(de.name):te}var Y=[0,2,4,5,7,9,11],ue=\"PMMPPMM\";function le(de){var xe=Ae(de);if(xe[0]===\"\")return te;var Oe=+xe[0],Ge=xe[1],Pe=(Math.abs(Oe)-1)%7,Se=ue[Pe];if(Se===\"M\"\u0026\u0026Ge===\"P\")return te;var nt=Se===\"M\"?\"majorable\":\"perfectable\",ct=\"\"+Oe+Ge,Gt=Oe\u003c0?-1:1,fn=Oe===8||Oe===-8?Oe:Gt*(Pe+1),Ot=ye(nt,Ge),mn=Math.floor((Math.abs(Oe)-1)/7),wn=Gt*(Y[Pe]+Ot+12*mn),Un=(Gt*(Y[Pe]+Ot)%12+12)%12,$n=p({step:Pe,alt:Ot,oct:mn,dir:Gt});return{empty:!1,name:ct,num:Oe,q:Ge,step:Pe,alt:Ot,dir:Gt,type:nt,simple:fn,semitones:wn,chroma:Un,coord:$n,oct:mn}}function ce(de){var xe=de[0],Oe=de[1],Ge=Oe===void 0?0:Oe,Pe=xe*7+Ge*12\u003c0,Se=Pe?[-xe,-Ge,-1]:[xe,Ge,1];return $e(_(Se))}function ye(de,xe){return xe===\"M\"\u0026\u0026de===\"majorable\"||xe===\"P\"\u0026\u0026de===\"perfectable\"?0:xe===\"m\"\u0026\u0026de===\"majorable\"?-1:/^A+$/.test(xe)?xe.length:/^d+$/.test(xe)?-1*(de===\"perfectable\"?xe.length:xe.length+1):0}function me(de){var xe=de.step,Oe=de.alt,Ge=de.oct,Pe=Ge===void 0?0:Ge,Se=de.dir;if(!Se)return\"\";var nt=xe+1+7*Pe,ct=Se\u003c0?\"-\":\"\",Gt=ue[xe]===\"M\"?\"majorable\":\"perfectable\",fn=ct+nt+je(Gt,Oe);return fn}function je(de,xe){return xe===0?de===\"majorable\"?\"M\":\"P\":xe===-1\u0026\u0026de===\"majorable\"?\"m\":xe\u003e0?e(\"A\",xe):e(\"d\",de===\"perfectable\"?xe:xe+1)}function Je(de,xe){var Oe=K(de),Ge=$e(xe);if(Oe.empty||Ge.empty)return\"\";var Pe=Oe.coord,Se=Ge.coord,nt=Pe.length===1?[Pe[0]+Se[0]]:[Pe[0]+Se[0],Pe[1]+Se[1]];return oe(nt).name}function ft(de,xe){var Oe=K(de),Ge=K(xe);if(Oe.empty||Ge.empty)return\"\";var Pe=Oe.coord,Se=Ge.coord,nt=Se[0]-Pe[0],ct=Pe.length===2\u0026\u0026Se.length===2?Se[1]-Pe[1]:-Math.floor(nt*7/12);return ce([nt,ct]).name}n.accToAlt=W,n.altToAcc=P,n.coordToInterval=ce,n.coordToNote=oe,n.decode=_,n.deprecate=r,n.distance=ft,n.encode=p,n.fillStr=e,n.interval=$e,n.isNamed=i,n.isPitch=o,n.note=K,n.stepToLetter=V,n.tokenizeInterval=Ae,n.tokenizeNote=X,n.transpose=Je,Object.defineProperty(n,\"__esModule\",{value:!0})})});var jx=v((Xh,Ex)=\u003e{(function(n,e){typeof Xh==\"object\"\u0026\u0026typeof Ex!=\"undefined\"?e(Xh,An()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.AbcNotation={},n.core))})(Xh,function(n,e){\"use strict\";var r=function(k,x){return Array(x+1).join(k)},i=/^(_{1,}|=|\\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function o(k){var x=i.exec(k);return x?[x[1],x[2],x[3]]:[\"\",\"\",\"\"]}function c(k){var x=o(k),q=x[0],V=x[1],P=x[2];if(V===\"\")return\"\";for(var W=4,K=0;K\u003cP.length;K++)W+=P.charAt(K)===\",\"?-1:1;var J=q[0]===\"_\"?q.replace(/_/g,\"b\"):q[0]===\"^\"?q.replace(/\\^/g,\"#\"):\"\";return V.charCodeAt(0)\u003e96?V.toUpperCase()+J+(W+1):V+J+W}function d(k){var x=e.note(k);if(x.empty||!x.oct\u0026\u0026x.oct!==0)return\"\";var q=x.letter,V=x.acc,P=x.oct,W=V[0]===\"b\"?V.replace(/b/g,\"_\"):V.replace(/#/g,\"^\"),K=P\u003e4?q.toLowerCase():q,J=P===5?\"\":P\u003e4?r(\"'\",P-5):r(\",\",4-P);return W+K+J}function p(k,x){return d(e.transpose(c(k),x))}function g(k,x){return e.distance(c(k),c(x))}var _={abcToScientificNotation:c,scientificToAbcNotation:d,tokenize:o,transpose:p,distance:g};n.abcToScientificNotation=c,n.default=_,n.distance=g,n.scientificToAbcNotation=d,n.tokenize=o,n.transpose=p,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Ix=v((Zh,Dx)=\u003e{(function(n,e){typeof Zh==\"object\"\u0026\u0026typeof Dx!=\"undefined\"?e(Zh,An()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Array={},n.core))})(Zh,function(n,e){\"use strict\";function r(x,q){for(var V=[];q--;V[q]=q+x);return V}function i(x,q){for(var V=[];q--;V[q]=x-q);return V}function o(x,q){return x\u003cq?r(x,q-x+1):i(x,x-q+1)}function c(x,q){var V=q.length,P=(x%V+V)%V;return q.slice(P,V).concat(q.slice(0,P))}function d(x){return x.filter(function(q){return q===0||q})}function p(x){var q=x.map(function(V){return e.note(V)}).filter(function(V){return!V.empty});return q.sort(function(V,P){return V.height-P.height}).map(function(V){return V.name})}function g(x){return p(x).filter(function(q,V,P){return V===0||q!==P[V-1]})}function _(x,q){q===void 0\u0026\u0026(q=Math.random);for(var V,P,W=x.length;W;)V=Math.floor(q()*W--),P=x[W],x[W]=x[V],x[V]=P;return x}function k(x){return x.length===0?[[]]:k(x.slice(1)).reduce(function(q,V){return q.concat(x.map(function(P,W){var K=V.slice();return K.splice(W,0,x[0]),K}))},[])}n.compact=d,n.permutations=k,n.range=o,n.rotate=c,n.shuffle=_,n.sortedNoteNames=p,n.sortedUniqNoteNames=g,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Ao=v((Kh,Fx)=\u003e{(function(n,e){typeof Kh==\"object\"\u0026\u0026typeof Fx!=\"undefined\"?e(Kh):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Collection={}))})(Kh,function(n){\"use strict\";function e(_,k){for(var x=[];k--;x[k]=k+_);return x}function r(_,k){for(var x=[];k--;x[k]=_-k);return x}function i(_,k){return _\u003ck?e(_,k-_+1):r(_,_-k+1)}function o(_,k){var x=k.length,q=(_%x+x)%x;return k.slice(q,x).concat(k.slice(0,q))}function c(_){return _.filter(function(k){return k===0||k})}function d(_,k){k===void 0\u0026\u0026(k=Math.random);for(var x,q,V=_.length;V;)x=Math.floor(k()*V--),q=_[V],_[V]=_[x],_[x]=q;return _}function p(_){return _.length===0?[[]]:p(_.slice(1)).reduce(function(k,x){return k.concat(_.map(function(q,V){var P=x.slice();return P.splice(V,0,_[0]),P}))},[])}var g={compact:c,permutations:p,range:i,rotate:o,shuffle:d};n.compact=c,n.default=g,n.permutations=p,n.range=i,n.rotate=o,n.shuffle=d,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Mi=v((Qh,Vx)=\u003e{(function(n,e){typeof Qh==\"object\"\u0026\u0026typeof Vx!=\"undefined\"?e(Qh,Ao(),An()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Pcset={},n.collection,n.core))})(Qh,function(n,e,r){\"use strict\";var i,o={empty:!0,name:\"\",setNum:0,chroma:\"000000000000\",normalized:\"000000000000\",intervals:[]},c=function(Y){return Number(Y).toString(2)},d=function(Y){return parseInt(Y,2)},p=/^[01]{12}$/;function g(Y){return p.test(Y)}var _=function(Y){return typeof Y==\"number\"\u0026\u0026Y\u003e=0\u0026\u0026Y\u003c=4095},k=function(Y){return Y\u0026\u0026g(Y.chroma)},x=(i={},i[o.chroma]=o,i);function q(Y){var ue=g(Y)?Y:_(Y)?c(Y):Array.isArray(Y)?$e(Y):k(Y)?Y.chroma:o.chroma;return x[ue]=x[ue]||ze(ue)}var V=r.deprecate(\"Pcset.pcset\",\"Pcset.get\",q),P=function(Y){return q(Y).chroma},W=function(Y){return q(Y).intervals},K=function(Y){return q(Y).setNum},J=[\"1P\",\"2m\",\"2M\",\"3m\",\"3M\",\"4P\",\"5d\",\"5P\",\"6m\",\"6M\",\"7m\",\"7M\"];function X(Y){for(var ue=[],le=0;le\u003c12;le++)Y.charAt(le)===\"1\"\u0026\u0026ue.push(J[le]);return ue}function oe(){return e.range(2048,4095).map(c)}function G(Y,ue){ue===void 0\u0026\u0026(ue=!0);var le=q(Y),ce=le.chroma.split(\"\");return e.compact(ce.map(function(ye,me){var je=e.rotate(me,ce);return ue\u0026\u0026je[0]===\"0\"?null:je.join(\"\")}))}function R(Y,ue){return q(Y).setNum===q(ue).setNum}function $(Y){var ue=q(Y).setNum;return function(le){var ce=q(le).setNum;return ue\u0026\u0026ue!==ce\u0026\u0026(ce\u0026ue)===ce}}function U(Y){var ue=q(Y).setNum;return function(le){var ce=q(le).setNum;return ue\u0026\u0026ue!==ce\u0026\u0026(ce|ue)===ce}}function te(Y){var ue=q(Y);return function(le){var ce=r.note(le);return ue\u0026\u0026!ce.empty\u0026\u0026ue.chroma.charAt(ce.chroma)===\"1\"}}var ie=te;function be(Y){var ue=te(Y);return function(le){return le.filter(ue)}}var Ne={get:q,chroma:P,num:K,intervals:W,chromas:oe,isSupersetOf:U,isSubsetOf:$,isNoteIncludedIn:te,isEqual:R,filter:be,modes:G,pcset:V};function Ae(Y){var ue=Y.split(\"\");return ue.map(function(le,ce){return e.rotate(ce,ue).join(\"\")})}function ze(Y){var ue=d(Y),le=Ae(Y).map(d).filter(function(me){return me\u003e=2048}).sort()[0],ce=c(le),ye=X(Y);return{empty:!1,name:\"\",setNum:ue,chroma:Y,normalized:ce,intervals:ye}}function $e(Y){if(Y.length===0)return o.chroma;for(var ue,le=[0,0,0,0,0,0,0,0,0,0,0,0],ce=0;ce\u003cY.length;ce++)ue=r.note(Y[ce]),ue.empty\u0026\u0026(ue=r.interval(Y[ce])),ue.empty||(le[ue.chroma]=1);return le.join(\"\")}n.EmptyPcset=o,n.chromaToIntervals=X,n.chromas=oe,n.default=Ne,n.filter=be,n.get=q,n.includes=ie,n.isEqual=R,n.isNoteIncludedIn=te,n.isSubsetOf=$,n.isSupersetOf=U,n.modes=G,n.pcset=V,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Ju=v((Jh,Lx)=\u003e{(function(n,e){typeof Jh==\"object\"\u0026\u0026typeof Lx!=\"undefined\"?e(Jh,An(),Mi()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.ChordType={},n.core,n.pcset))})(Jh,function(n,e,r){\"use strict\";var i=function(){return i=Object.assign||function(R){for(var $,U=1,te=arguments.length;U\u003cte;U++){$=arguments[U];for(var ie in $)Object.prototype.hasOwnProperty.call($,ie)\u0026\u0026(R[ie]=$[ie])}return R},i.apply(this,arguments)},o=[[\"1P 3M 5P\",\"major\",\"M ^ \"],[\"1P 3M 5P 7M\",\"major seventh\",\"maj7 \\u0394 ma7 M7 Maj7 ^7\"],[\"1P 3M 5P 7M 9M\",\"major ninth\",\"maj9 \\u03949 ^9\"],[\"1P 3M 5P 7M 9M 13M\",\"major thirteenth\",\"maj13 Maj13 ^13\"],[\"1P 3M 5P 6M\",\"sixth\",\"6 add6 add13 M6\"],[\"1P 3M 5P 6M 9M\",\"sixth/ninth\",\"6/9 69 M69\"],[\"1P 3M 6m 7M\",\"major seventh flat sixth\",\"M7b6 ^7b6\"],[\"1P 3M 5P 7M 11A\",\"major seventh sharp eleventh\",\"maj#4 \\u0394#4 \\u0394#11 M7#11 ^7#11 maj7#11\"],[\"1P 3m 5P\",\"minor\",\"m min -\"],[\"1P 3m 5P 7m\",\"minor seventh\",\"m7 min7 mi7 -7\"],[\"1P 3m 5P 7M\",\"minor/major seventh\",\"m/ma7 m/maj7 mM7 mMaj7 m/M7 -\\u03947 m\\u0394 -^7\"],[\"1P 3m 5P 6M\",\"minor sixth\",\"m6 -6\"],[\"1P 3m 5P 7m 9M\",\"minor ninth\",\"m9 -9\"],[\"1P 3m 5P 7M 9M\",\"minor/major ninth\",\"mM9 mMaj9 -^9\"],[\"1P 3m 5P 7m 9M 11P\",\"minor eleventh\",\"m11 -11\"],[\"1P 3m 5P 7m 9M 13M\",\"minor thirteenth\",\"m13 -13\"],[\"1P 3m 5d\",\"diminished\",\"dim \\xB0 o\"],[\"1P 3m 5d 7d\",\"diminished seventh\",\"dim7 \\xB07 o7\"],[\"1P 3m 5d 7m\",\"half-diminished\",\"m7b5 \\xF8 -7b5 h7 h\"],[\"1P 3M 5P 7m\",\"dominant seventh\",\"7 dom\"],[\"1P 3M 5P 7m 9M\",\"dominant ninth\",\"9\"],[\"1P 3M 5P 7m 9M 13M\",\"dominant thirteenth\",\"13\"],[\"1P 3M 5P 7m 11A\",\"lydian dominant seventh\",\"7#11 7#4\"],[\"1P 3M 5P 7m 9m\",\"dominant flat ninth\",\"7b9\"],[\"1P 3M 5P 7m 9A\",\"dominant sharp ninth\",\"7#9\"],[\"1P 3M 7m 9m\",\"altered\",\"alt7\"],[\"1P 4P 5P\",\"suspended fourth\",\"sus4 sus\"],[\"1P 2M 5P\",\"suspended second\",\"sus2\"],[\"1P 4P 5P 7m\",\"suspended fourth seventh\",\"7sus4 7sus\"],[\"1P 5P 7m 9M 11P\",\"eleventh\",\"11\"],[\"1P 4P 5P 7m 9m\",\"suspended fourth flat ninth\",\"b9sus phryg 7b9sus 7b9sus4\"],[\"1P 5P\",\"fifth\",\"5\"],[\"1P 3M 5A\",\"augmented\",\"aug + +5 ^#5\"],[\"1P 3m 5A\",\"minor augmented\",\"m#5 -#5 m+\"],[\"1P 3M 5A 7M\",\"augmented seventh\",\"maj7#5 maj7+5 +maj7 ^7#5\"],[\"1P 3M 5P 7M 9M 11A\",\"major sharp eleventh (lydian)\",\"maj9#11 \\u03949#11 ^9#11\"],[\"1P 2M 4P 5P\",\"\",\"sus24 sus4add9\"],[\"1P 3M 5A 7M 9M\",\"\",\"maj9#5 Maj9#5\"],[\"1P 3M 5A 7m\",\"\",\"7#5 +7 7+ 7aug aug7\"],[\"1P 3M 5A 7m 9A\",\"\",\"7#5#9 7#9#5 7alt\"],[\"1P 3M 5A 7m 9M\",\"\",\"9#5 9+\"],[\"1P 3M 5A 7m 9M 11A\",\"\",\"9#5#11\"],[\"1P 3M 5A 7m 9m\",\"\",\"7#5b9 7b9#5\"],[\"1P 3M 5A 7m 9m 11A\",\"\",\"7#5b9#11\"],[\"1P 3M 5A 9A\",\"\",\"+add#9\"],[\"1P 3M 5A 9M\",\"\",\"M#5add9 +add9\"],[\"1P 3M 5P 6M 11A\",\"\",\"M6#11 M6b5 6#11 6b5\"],[\"1P 3M 5P 6M 7M 9M\",\"\",\"M7add13\"],[\"1P 3M 5P 6M 9M 11A\",\"\",\"69#11\"],[\"1P 3m 5P 6M 9M\",\"\",\"m69 -69\"],[\"1P 3M 5P 6m 7m\",\"\",\"7b6\"],[\"1P 3M 5P 7M 9A 11A\",\"\",\"maj7#9#11\"],[\"1P 3M 5P 7M 9M 11A 13M\",\"\",\"M13#11 maj13#11 M13+4 M13#4\"],[\"1P 3M 5P 7M 9m\",\"\",\"M7b9\"],[\"1P 3M 5P 7m 11A 13m\",\"\",\"7#11b13 7b5b13\"],[\"1P 3M 5P 7m 13M\",\"\",\"7add6 67 7add13\"],[\"1P 3M 5P 7m 9A 11A\",\"\",\"7#9#11 7b5#9 7#9b5\"],[\"1P 3M 5P 7m 9A 11A 13M\",\"\",\"13#9#11\"],[\"1P 3M 5P 7m 9A 11A 13m\",\"\",\"7#9#11b13\"],[\"1P 3M 5P 7m 9A 13M\",\"\",\"13#9\"],[\"1P 3M 5P 7m 9A 13m\",\"\",\"7#9b13\"],[\"1P 3M 5P 7m 9M 11A\",\"\",\"9#11 9+4 9#4\"],[\"1P 3M 5P 7m 9M 11A 13M\",\"\",\"13#11 13+4 13#4\"],[\"1P 3M 5P 7m 9M 11A 13m\",\"\",\"9#11b13 9b5b13\"],[\"1P 3M 5P 7m 9m 11A\",\"\",\"7b9#11 7b5b9 7b9b5\"],[\"1P 3M 5P 7m 9m 11A 13M\",\"\",\"13b9#11\"],[\"1P 3M 5P 7m 9m 11A 13m\",\"\",\"7b9b13#11 7b9#11b13 7b5b9b13\"],[\"1P 3M 5P 7m 9m 13M\",\"\",\"13b9\"],[\"1P 3M 5P 7m 9m 13m\",\"\",\"7b9b13\"],[\"1P 3M 5P 7m 9m 9A\",\"\",\"7b9#9\"],[\"1P 3M 5P 9M\",\"\",\"Madd9 2 add9 add2\"],[\"1P 3M 5P 9m\",\"\",\"Maddb9\"],[\"1P 3M 5d\",\"\",\"Mb5\"],[\"1P 3M 5d 6M 7m 9M\",\"\",\"13b5\"],[\"1P 3M 5d 7M\",\"\",\"M7b5\"],[\"1P 3M 5d 7M 9M\",\"\",\"M9b5\"],[\"1P 3M 5d 7m\",\"\",\"7b5\"],[\"1P 3M 5d 7m 9M\",\"\",\"9b5\"],[\"1P 3M 7m\",\"\",\"7no5\"],[\"1P 3M 7m 13m\",\"\",\"7b13\"],[\"1P 3M 7m 9M\",\"\",\"9no5\"],[\"1P 3M 7m 9M 13M\",\"\",\"13no5\"],[\"1P 3M 7m 9M 13m\",\"\",\"9b13\"],[\"1P 3m 4P 5P\",\"\",\"madd4\"],[\"1P 3m 5P 6m 7M\",\"\",\"mMaj7b6\"],[\"1P 3m 5P 6m 7M 9M\",\"\",\"mMaj9b6\"],[\"1P 3m 5P 7m 11P\",\"\",\"m7add11 m7add4\"],[\"1P 3m 5P 9M\",\"\",\"madd9\"],[\"1P 3m 5d 6M 7M\",\"\",\"o7M7\"],[\"1P 3m 5d 7M\",\"\",\"oM7\"],[\"1P 3m 6m 7M\",\"\",\"mb6M7\"],[\"1P 3m 6m 7m\",\"\",\"m7#5\"],[\"1P 3m 6m 7m 9M\",\"\",\"m9#5\"],[\"1P 3m 5A 7m 9M 11P\",\"\",\"m11A\"],[\"1P 3m 6m 9m\",\"\",\"mb6b9\"],[\"1P 2M 3m 5d 7m\",\"\",\"m9b5\"],[\"1P 4P 5A 7M\",\"\",\"M7#5sus4\"],[\"1P 4P 5A 7M 9M\",\"\",\"M9#5sus4\"],[\"1P 4P 5A 7m\",\"\",\"7#5sus4\"],[\"1P 4P 5P 7M\",\"\",\"M7sus4\"],[\"1P 4P 5P 7M 9M\",\"\",\"M9sus4\"],[\"1P 4P 5P 7m 9M\",\"\",\"9sus4 9sus\"],[\"1P 4P 5P 7m 9M 13M\",\"\",\"13sus4 13sus\"],[\"1P 4P 5P 7m 9m 13m\",\"\",\"7sus4b9b13 7b9b13sus4\"],[\"1P 4P 7m 10m\",\"\",\"4 quartal\"],[\"1P 5P 7m 9m 11P\",\"\",\"11b9\"]],c=i(i({},r.EmptyPcset),{name:\"\",quality:\"Unknown\",intervals:[],aliases:[]}),d=[],p={};function g(G){return p[G]||c}var _=e.deprecate(\"ChordType.chordType\",\"ChordType.get\",g);function k(){return d.map(function(G){return G.name}).filter(function(G){return G})}function x(){return d.map(function(G){return G.aliases[0]}).filter(function(G){return G})}function q(){return Object.keys(p)}function V(){return d.slice()}var P=e.deprecate(\"ChordType.entries\",\"ChordType.all\",V);function W(){d=[],p={}}function K(G,R,$){var U=X(G),te=i(i({},r.get(G)),{name:$||\"\",quality:U,intervals:G,aliases:R});d.push(te),te.name\u0026\u0026(p[te.name]=te),p[te.setNum]=te,p[te.chroma]=te,te.aliases.forEach(function(ie){return J(te,ie)})}function J(G,R){p[R]=G}function X(G){var R=function($){return G.indexOf($)!==-1};return R(\"5A\")?\"Augmented\":R(\"3M\")?\"Major\":R(\"5d\")?\"Diminished\":R(\"3m\")?\"Minor\":\"Unknown\"}o.forEach(function(G){var R=G[0],$=G[1],U=G[2];return K(R.split(\" \"),U.split(\" \"),$)}),d.sort(function(G,R){return G.setNum-R.setNum});var oe={names:k,symbols:x,get:g,all:V,add:K,removeAll:W,keys:q,entries:P,chordType:_};n.add=K,n.addAlias=J,n.all=V,n.chordType=_,n.default=oe,n.entries=P,n.get=g,n.keys=q,n.names=k,n.removeAll=W,n.symbols=x,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Bx=v((ed,Wx)=\u003e{(function(n,e){typeof ed==\"object\"\u0026\u0026typeof Wx!=\"undefined\"?e(ed,Ju(),An(),Mi()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord-type\",\"@tonaljs/core\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.ChordDetect={},n.chordType,n.core,n.pcset))})(ed,function(n,e,r,i){\"use strict\";var o=function(g){var _=g.reduce(function(k,x){var q=r.note(x).chroma;return q!==void 0\u0026\u0026(k[q]=k[q]||r.note(x).name),k},{});return function(k){return _[k]}};function c(g){var _=g.map(function(x){return r.note(x).pc}).filter(function(x){return x});if(r.note.length===0)return[];var k=d(_,1);return k.filter(function(x){return x.weight}).sort(function(x,q){return q.weight-x.weight}).map(function(x){return x.name})}function d(g,_){var k=g[0],x=r.note(k).chroma,q=o(g),V=i.modes(g,!1),P=[];return V.forEach(function(W,K){var J=e.all().filter(function(X){return X.chroma===W});J.forEach(function(X){var oe=X.aliases[0],G=q(K),R=K!==x;R?P.push({weight:.5*_,name:\"\"+G+oe+\"/\"+k}):P.push({weight:1*_,name:\"\"+G+oe})})}),P}var p={detect:c};n.default=p,n.detect=c,Object.defineProperty(n,\"__esModule\",{value:!0})})});var nd=v((td,zx)=\u003e{(function(n,e){typeof td==\"object\"\u0026\u0026typeof zx!=\"undefined\"?e(td,An(),Mi()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.ScaleType={},n.core,n.pcset))})(td,function(n,e,r){\"use strict\";var i=function(){return i=Object.assign||function(oe){for(var G,R=1,$=arguments.length;R\u003c$;R++){G=arguments[R];for(var U in G)Object.prototype.hasOwnProperty.call(G,U)\u0026\u0026(oe[U]=G[U])}return oe},i.apply(this,arguments)},o=[[\"1P 2M 3M 5P 6M\",\"major pentatonic\",\"pentatonic\"],[\"1P 3M 4P 5P 7M\",\"ionian pentatonic\"],[\"1P 3M 4P 5P 7m\",\"mixolydian pentatonic\",\"indian\"],[\"1P 2M 4P 5P 6M\",\"ritusen\"],[\"1P 2M 4P 5P 7m\",\"egyptian\"],[\"1P 3M 4P 5d 7m\",\"neopolitan major pentatonic\"],[\"1P 3m 4P 5P 6m\",\"vietnamese 1\"],[\"1P 2m 3m 5P 6m\",\"pelog\"],[\"1P 2m 4P 5P 6m\",\"kumoijoshi\"],[\"1P 2M 3m 5P 6m\",\"hirajoshi\"],[\"1P 2m 4P 5d 7m\",\"iwato\"],[\"1P 2m 4P 5P 7m\",\"in-sen\"],[\"1P 3M 4A 5P 7M\",\"lydian pentatonic\",\"chinese\"],[\"1P 3m 4P 6m 7m\",\"malkos raga\"],[\"1P 3m 4P 5d 7m\",\"locrian pentatonic\",\"minor seven flat five pentatonic\"],[\"1P 3m 4P 5P 7m\",\"minor pentatonic\",\"vietnamese 2\"],[\"1P 3m 4P 5P 6M\",\"minor six pentatonic\"],[\"1P 2M 3m 5P 6M\",\"flat three pentatonic\",\"kumoi\"],[\"1P 2M 3M 5P 6m\",\"flat six pentatonic\"],[\"1P 2m 3M 5P 6M\",\"scriabin\"],[\"1P 3M 5d 6m 7m\",\"whole tone pentatonic\"],[\"1P 3M 4A 5A 7M\",\"lydian #5P pentatonic\"],[\"1P 3M 4A 5P 7m\",\"lydian dominant pentatonic\"],[\"1P 3m 4P 5P 7M\",\"minor #7M pentatonic\"],[\"1P 3m 4d 5d 7m\",\"super locrian pentatonic\"],[\"1P 2M 3m 4P 5P 7M\",\"minor hexatonic\"],[\"1P 2A 3M 5P 5A 7M\",\"augmented\"],[\"1P 2M 3m 3M 5P 6M\",\"major blues\"],[\"1P 2M 4P 5P 6M 7m\",\"piongio\"],[\"1P 2m 3M 4A 6M 7m\",\"prometheus neopolitan\"],[\"1P 2M 3M 4A 6M 7m\",\"prometheus\"],[\"1P 2m 3M 5d 6m 7m\",\"mystery #1\"],[\"1P 2m 3M 4P 5A 6M\",\"six tone symmetric\"],[\"1P 2M 3M 4A 5A 7m\",\"whole tone\",\"messiaen's mode #1\"],[\"1P 2m 4P 4A 5P 7M\",\"messiaen's mode #5\"],[\"1P 3m 4P 5d 5P 7m\",\"minor blues\",\"blues\"],[\"1P 2M 3M 4P 5d 6m 7m\",\"locrian major\",\"arabian\"],[\"1P 2m 3M 4A 5P 6m 7M\",\"double harmonic lydian\"],[\"1P 2M 3m 4P 5P 6m 7M\",\"harmonic minor\"],[\"1P 2m 2A 3M 4A 6m 7m\",\"altered\",\"super locrian\",\"diminished whole tone\",\"pomeroy\"],[\"1P 2M 3m 4P 5d 6m 7m\",\"locrian #2\",\"half-diminished\",\"aeolian b5\"],[\"1P 2M 3M 4P 5P 6m 7m\",\"mixolydian b6\",\"melodic minor fifth mode\",\"hindu\"],[\"1P 2M 3M 4A 5P 6M 7m\",\"lydian dominant\",\"lydian b7\",\"overtone\"],[\"1P 2M 3M 4A 5P 6M 7M\",\"lydian\"],[\"1P 2M 3M 4A 5A 6M 7M\",\"lydian augmented\"],[\"1P 2m 3m 4P 5P 6M 7m\",\"dorian b2\",\"phrygian #6\",\"melodic minor second mode\"],[\"1P 2M 3m 4P 5P 6M 7M\",\"melodic minor\"],[\"1P 2m 3m 4P 5d 6m 7m\",\"locrian\"],[\"1P 2m 3m 4d 5d 6m 7d\",\"ultralocrian\",\"superlocrian bb7\",\"\\xB7superlocrian diminished\"],[\"1P 2m 3m 4P 5d 6M 7m\",\"locrian 6\",\"locrian natural 6\",\"locrian sharp 6\"],[\"1P 2A 3M 4P 5P 5A 7M\",\"augmented heptatonic\"],[\"1P 2M 3m 5d 5P 6M 7m\",\"romanian minor\"],[\"1P 2M 3m 4A 5P 6M 7m\",\"dorian #4\"],[\"1P 2M 3m 4A 5P 6M 7M\",\"lydian diminished\"],[\"1P 2m 3m 4P 5P 6m 7m\",\"phrygian\"],[\"1P 2M 3M 4A 5A 7m 7M\",\"leading whole tone\"],[\"1P 2M 3M 4A 5P 6m 7m\",\"lydian minor\"],[\"1P 2m 3M 4P 5P 6m 7m\",\"phrygian dominant\",\"spanish\",\"phrygian major\"],[\"1P 2m 3m 4P 5P 6m 7M\",\"balinese\"],[\"1P 2m 3m 4P 5P 6M 7M\",\"neopolitan major\"],[\"1P 2M 3m 4P 5P 6m 7m\",\"aeolian\",\"minor\"],[\"1P 2M 3M 4P 5P 6m 7M\",\"harmonic major\"],[\"1P 2m 3M 4P 5P 6m 7M\",\"double harmonic major\",\"gypsy\"],[\"1P 2M 3m 4P 5P 6M 7m\",\"dorian\"],[\"1P 2M 3m 4A 5P 6m 7M\",\"hungarian minor\"],[\"1P 2A 3M 4A 5P 6M 7m\",\"hungarian major\"],[\"1P 2m 3M 4P 5d 6M 7m\",\"oriental\"],[\"1P 2m 3m 3M 4A 5P 7m\",\"flamenco\"],[\"1P 2m 3m 4A 5P 6m 7M\",\"todi raga\"],[\"1P 2M 3M 4P 5P 6M 7m\",\"mixolydian\",\"dominant\"],[\"1P 2m 3M 4P 5d 6m 7M\",\"persian\"],[\"1P 2M 3M 4P 5P 6M 7M\",\"major\",\"ionian\"],[\"1P 2m 3M 5d 6m 7m 7M\",\"enigmatic\"],[\"1P 2M 3M 4P 5A 6M 7M\",\"major augmented\",\"major #5\",\"ionian augmented\",\"ionian #5\"],[\"1P 2A 3M 4A 5P 6M 7M\",\"lydian #9\"],[\"1P 2m 2M 4P 4A 5P 6m 7M\",\"messiaen's mode #4\"],[\"1P 2m 3M 4P 4A 5P 6m 7M\",\"purvi raga\"],[\"1P 2m 3m 3M 4P 5P 6m 7m\",\"spanish heptatonic\"],[\"1P 2M 3M 4P 5P 6M 7m 7M\",\"bebop\"],[\"1P 2M 3m 3M 4P 5P 6M 7m\",\"bebop minor\"],[\"1P 2M 3M 4P 5P 5A 6M 7M\",\"bebop major\"],[\"1P 2m 3m 4P 5d 5P 6m 7m\",\"bebop locrian\"],[\"1P 2M 3m 4P 5P 6m 7m 7M\",\"minor bebop\"],[\"1P 2M 3m 4P 5d 6m 6M 7M\",\"diminished\",\"whole-half diminished\"],[\"1P 2M 3M 4P 5d 5P 6M 7M\",\"ichikosucho\"],[\"1P 2M 3m 4P 5P 6m 6M 7M\",\"minor six diminished\"],[\"1P 2m 3m 3M 4A 5P 6M 7m\",\"half-whole diminished\",\"dominant diminished\",\"messiaen's mode #2\"],[\"1P 3m 3M 4P 5P 6M 7m 7M\",\"kafi raga\"],[\"1P 2M 3M 4P 4A 5A 6A 7M\",\"messiaen's mode #6\"],[\"1P 2M 3m 3M 4P 5d 5P 6M 7m\",\"composite blues\"],[\"1P 2M 3m 3M 4A 5P 6m 7m 7M\",\"messiaen's mode #3\"],[\"1P 2m 2M 3m 4P 4A 5P 6m 6M 7M\",\"messiaen's mode #7\"],[\"1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M\",\"chromatic\"]],c=i(i({},r.EmptyPcset),{intervals:[],aliases:[]}),d=[],p={};function g(){return d.map(function(X){return X.name})}function _(X){return p[X]||c}var k=e.deprecate(\"ScaleDictionary.scaleType\",\"ScaleType.get\",_);function x(){return d.slice()}var q=e.deprecate(\"ScaleDictionary.entries\",\"ScaleType.all\",x);function V(){return Object.keys(p)}function P(){d=[],p={}}function W(X,oe,G){G===void 0\u0026\u0026(G=[]);var R=i(i({},r.get(X)),{name:oe,intervals:X,aliases:G});return d.push(R),p[R.name]=R,p[R.setNum]=R,p[R.chroma]=R,R.aliases.forEach(function($){return K(R,$)}),R}function K(X,oe){p[oe]=X}o.forEach(function(X){var oe=X[0],G=X[1],R=X.slice(2);return W(oe.split(\" \"),G,R)});var J={names:g,get:_,all:x,add:W,removeAll:P,keys:V,entries:q,scaleType:k};n.NoScaleType=c,n.add=W,n.addAlias=K,n.all=x,n.default=J,n.entries=q,n.get=_,n.keys=V,n.names=g,n.removeAll=P,n.scaleType=k,Object.defineProperty(n,\"__esModule\",{value:!0})})});var ev=v((rd,Gx)=\u003e{(function(n,e){typeof rd==\"object\"\u0026\u0026typeof Gx!=\"undefined\"?e(rd,Bx(),Ju(),An(),Mi(),nd()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord-detect\",\"@tonaljs/chord-type\",\"@tonaljs/core\",\"@tonaljs/pcset\",\"@tonaljs/scale-type\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Chord={},n.chordDetect,n.chordType,n.core,n.pcset,n.scaleType))})(rd,function(n,e,r,i,o,c){\"use strict\";var d=function(){return d=Object.assign||function(oe){for(var G,R=1,$=arguments.length;R\u003c$;R++){G=arguments[R];for(var U in G)Object.prototype.hasOwnProperty.call(G,U)\u0026\u0026(oe[U]=G[U])}return oe},d.apply(this,arguments)},p={empty:!0,name:\"\",symbol:\"\",root:\"\",rootDegree:0,type:\"\",tonic:null,setNum:NaN,quality:\"Unknown\",chroma:\"\",normalized:\"\",aliases:[],notes:[],intervals:[]},g=/^(6|64|7|9|11|13)$/;function _(X){var oe=i.tokenizeNote(X),G=oe[0],R=oe[1],$=oe[2],U=oe[3];return G===\"\"?[\"\",X]:G===\"A\"\u0026\u0026U===\"ug\"?[\"\",\"aug\"]:!U\u0026\u0026($===\"4\"||$===\"5\")?[G+R,$]:g.test($)?[G+R,$+U]:[G+R+$,U]}function k(X){if(X===\"\")return p;if(Array.isArray(X)\u0026\u0026X.length===2)return x(X[1],X[0]);var oe=_(X),G=oe[0],R=oe[1],$=x(R,G);return $.empty?x(X):$}function x(X,oe,G){var R=r.get(X),$=i.note(oe||\"\"),U=i.note(G||\"\");if(R.empty||oe\u0026\u0026$.empty||G\u0026\u0026U.empty)return p;var te=i.distance($.pc,U.pc),ie=R.intervals.indexOf(te)+1;if(!U.empty\u0026\u0026!ie)return p;for(var be=Array.from(R.intervals),Ne=1;Ne\u003cie;Ne++){var Ae=be[0][0],ze=be[0][1],$e=parseInt(Ae,10)+7;be.push(\"\"+$e+ze),be.shift()}var Y=$.empty?[]:be.map(function(ce){return i.transpose($,ce)});X=R.aliases.indexOf(X)!==-1?X:R.aliases[0];var ue=\"\"+($.empty?\"\":$.pc)+X+(U.empty||ie\u003c=1?\"\":\"/\"+U.pc),le=\"\"+(oe?$.pc+\" \":\"\")+R.name+(ie\u003e1\u0026\u0026G?\" over \"+U.pc:\"\");return d(d({},R),{name:le,symbol:ue,type:R.name,root:U.name,intervals:be,rootDegree:ie,tonic:$.name,notes:Y})}var q=i.deprecate(\"Chord.chord\",\"Chord.get\",k);function V(X,oe){var G=_(X),R=G[0],$=G[1];return R?i.transpose(R,oe)+$:X}function P(X){var oe=k(X),G=o.isSupersetOf(oe.chroma);return c.all().filter(function(R){return G(R.chroma)}).map(function(R){return R.name})}function W(X){var oe=k(X),G=o.isSupersetOf(oe.chroma);return r.all().filter(function(R){return G(R.chroma)}).map(function(R){return oe.tonic+R.aliases[0]})}function K(X){var oe=k(X),G=o.isSubsetOf(oe.chroma);return r.all().filter(function(R){return G(R.chroma)}).map(function(R){return oe.tonic+R.aliases[0]})}var J={getChord:x,get:k,detect:e.detect,chordScales:P,extended:W,reduced:K,tokenize:_,transpose:V,chord:q};Object.defineProperty(n,\"detect\",{enumerable:!0,get:function(){return e.detect}}),n.chord=q,n.chordScales=P,n.default=J,n.extended=W,n.get=k,n.getChord=x,n.reduced=K,n.tokenize=_,n.transpose=V,Object.defineProperty(n,\"__esModule\",{value:!0})})});var $x=v((ad,Ux)=\u003e{(function(n,e){typeof ad==\"object\"\u0026\u0026typeof Ux!=\"undefined\"?e(ad):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.DurationValue={}))})(ad,function(n){\"use strict\";var e=function(){return e=Object.assign||function(W){for(var K,J=1,X=arguments.length;J\u003cX;J++){K=arguments[J];for(var oe in K)Object.prototype.hasOwnProperty.call(K,oe)\u0026\u0026(W[oe]=K[oe])}return W},e.apply(this,arguments)},r=[[.125,\"dl\",[\"large\",\"duplex longa\",\"maxima\",\"octuple\",\"octuple whole\"]],[.25,\"l\",[\"long\",\"longa\"]],[.5,\"d\",[\"double whole\",\"double\",\"breve\"]],[1,\"w\",[\"whole\",\"semibreve\"]],[2,\"h\",[\"half\",\"minim\"]],[4,\"q\",[\"quarter\",\"crotchet\"]],[8,\"e\",[\"eighth\",\"quaver\"]],[16,\"s\",[\"sixteenth\",\"semiquaver\"]],[32,\"t\",[\"thirty-second\",\"demisemiquaver\"]],[64,\"sf\",[\"sixty-fourth\",\"hemidemisemiquaver\"]],[128,\"h\",[\"hundred twenty-eighth\"]],[256,\"th\",[\"two hundred fifty-sixth\"]]],i=[];r.forEach(function(P){var W=P[0],K=P[1],J=P[2];return q(W,K,J)});var o={empty:!0,name:\"\",value:0,fraction:[0,0],shorthand:\"\",dots:\"\",names:[]};function c(){return i.reduce(function(P,W){return W.names.forEach(function(K){return P.push(K)}),P},[])}function d(){return i.map(function(P){return P.shorthand})}var p=/^([^.]+)(\\.*)$/;function g(P){var W=p.exec(P)||[];W[0];var K=W[1],J=W[2],X=i.find(function(R){return R.shorthand===K||R.names.includes(K)});if(!X)return o;var oe=V(X.fraction,J.length),G=oe[0]/oe[1];return e(e({},X),{name:P,dots:J,value:G,fraction:oe})}var _=function(P){return g(P).value},k=function(P){return g(P).fraction},x={names:c,shorthands:d,get:g,value:_,fraction:k};function q(P,W,K){i.push({empty:!1,dots:\"\",name:\"\",value:1/P,fraction:P\u003c1?[1/P,1]:[1,P],shorthand:W,names:K})}function V(P,W){for(var K=Math.pow(2,W),J=P[0]*K,X=P[1]*K,oe=J,G=0;G\u003cW;G++)J+=oe/Math.pow(2,G+1);for(;J%2==0\u0026\u0026X%2==0;)J/=2,X/=2;return[J,X]}n.default=x,n.fraction=k,n.get=g,n.names=c,n.shorthands=d,n.value=_,Object.defineProperty(n,\"__esModule\",{value:!0})})});var tv=v((id,Hx)=\u003e{(function(n,e){typeof id==\"object\"\u0026\u0026typeof Hx!=\"undefined\"?e(id,An()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Interval={},n.core))})(id,function(n,e){\"use strict\";function r(){return\"1P 2M 3M 4P 5P 6m 7m\".split(\" \")}var i=e.interval,o=function(G){return e.interval(G).name},c=function(G){return e.interval(G).semitones},d=function(G){return e.interval(G).q},p=function(G){return e.interval(G).num};function g(G){var R=e.interval(G);return R.empty?\"\":R.simple+R.q}function _(G){var R=e.interval(G);if(R.empty)return\"\";var $=(7-R.step)%7,U=R.type===\"perfectable\"?-R.alt:-(R.alt+1);return e.interval({step:$,alt:U,oct:R.oct,dir:R.dir}).name}var k=[1,2,2,3,3,4,5,5,6,6,7,7],x=\"P m M m M P d P m M m M\".split(\" \");function q(G){var R=G\u003c0?-1:1,$=Math.abs(G),U=$%12,te=Math.floor($/12);return R*(k[U]+7*te)+x[U]}var V=e.distance,P=oe(function(G,R){return[G[0]+R[0],G[1]+R[1]]}),W=function(G){return function(R){return P(G,R)}},K=oe(function(G,R){return[G[0]-R[0],G[1]-R[1]]});function J(G,R){var $=i(G);if($.empty)return\"\";var U=$.coord,te=U[0],ie=U[1],be=U[2];return e.coordToInterval([te+R,ie,be]).name}var X={names:r,get:i,name:o,num:p,semitones:c,quality:d,fromSemitones:q,distance:V,invert:_,simplify:g,add:P,addTo:W,substract:K,transposeFifths:J};function oe(G){return function(R,$){var U=e.interval(R).coord,te=e.interval($).coord;if(U\u0026\u0026te){var ie=G(U,te);return e.coordToInterval(ie).name}}}n.add=P,n.addTo=W,n.default=X,n.distance=V,n.fromSemitones=q,n.get=i,n.invert=_,n.name=o,n.names=r,n.num=p,n.quality=d,n.semitones=c,n.simplify=g,n.substract=K,n.transposeFifths=J,Object.defineProperty(n,\"__esModule\",{value:!0})})});var od=v((sd,Yx)=\u003e{(function(n,e){typeof sd==\"object\"\u0026\u0026typeof Yx!=\"undefined\"?e(sd,An()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Midi={},n.core))})(sd,function(n,e){\"use strict\";function r(q){return+q\u003e=0\u0026\u0026+q\u003c=127}function i(q){if(r(q))return+q;var V=e.note(q);return V.empty?null:V.midi}function o(q,V){return V===void 0\u0026\u0026(V=440),Math.pow(2,(q-69)/12)*V}var c=Math.log(2),d=Math.log(440);function p(q){var V=12*(Math.log(q)-d)/c+69;return Math.round(V*100)/100}var g=\"C C# D D# E F F# G G# A A# B\".split(\" \"),_=\"C Db D Eb E F Gb G Ab A Bb B\".split(\" \");function k(q,V){if(V===void 0\u0026\u0026(V={}),isNaN(q)||q===-1/0||q===1/0)return\"\";q=Math.round(q);var P=V.sharps===!0?g:_,W=P[q%12];if(V.pitchClass)return W;var K=Math.floor(q/12)-1;return W+K}var x={isMidi:r,toMidi:i,midiToFreq:o,midiToNoteName:k,freqToMidi:p};n.default=x,n.freqToMidi=p,n.isMidi=r,n.midiToFreq=o,n.midiToNoteName=k,n.toMidi=i,Object.defineProperty(n,\"__esModule\",{value:!0})})});var cd=v((ud,Xx)=\u003e{(function(n,e){typeof ud==\"object\"\u0026\u0026typeof Xx!=\"undefined\"?e(ud,An(),od()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/midi\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Note={},n.core,n.midi$1))})(ud,function(n,e,r){\"use strict\";var i=[\"C\",\"D\",\"E\",\"F\",\"G\",\"A\",\"B\"],o=function(ce){return ce.name},c=function(ce){return ce.map(e.note).filter(function(ye){return!ye.empty})};function d(ce){return ce===void 0?i.slice():Array.isArray(ce)?c(ce).map(o):[]}var p=e.note,g=function(ce){return p(ce).name},_=function(ce){return p(ce).pc},k=function(ce){return p(ce).acc},x=function(ce){return p(ce).oct},q=function(ce){return p(ce).midi},V=function(ce){return p(ce).freq},P=function(ce){return p(ce).chroma};function W(ce){return r.midiToNoteName(ce)}function K(ce){return r.midiToNoteName(r.freqToMidi(ce))}function J(ce){return r.midiToNoteName(r.freqToMidi(ce),{sharps:!0})}function X(ce){return r.midiToNoteName(ce,{sharps:!0})}var oe=e.transpose,G=e.transpose,R=function(ce){return function(ye){return oe(ye,ce)}},$=R,U=function(ce){return function(ye){return oe(ce,ye)}},te=U;function ie(ce,ye){var me=p(ce);if(me.empty)return\"\";var je=me.coord,Je=je[0],ft=je[1],de=ft===void 0?e.coordToNote([Je+ye]):e.coordToNote([Je+ye,ft]);return de.name}var be=ie,Ne=function(ce,ye){return ce.height-ye.height},Ae=function(ce,ye){return ye.height-ce.height};function ze(ce,ye){return ye=ye||Ne,c(ce).sort(ye).map(o)}function $e(ce){return ze(ce,Ne).filter(function(ye,me,je){return me===0||ye!==je[me-1]})}var Y=function(ce){var ye=p(ce);return ye.empty?\"\":r.midiToNoteName(ye.midi||ye.chroma,{sharps:ye.alt\u003e0,pitchClass:ye.midi===null})};function ue(ce,ye){var me=p(ce);if(me.empty)return\"\";var je=p(ye||r.midiToNoteName(me.midi||me.chroma,{sharps:me.alt\u003c0,pitchClass:!0}));if(je.empty||je.chroma!==me.chroma)return\"\";if(me.oct===void 0)return je.pc;var Je=me.chroma-me.alt,ft=je.chroma-je.alt,de=Je\u003e11||ft\u003c0?-1:Je\u003c0||ft\u003e11?1:0,xe=me.oct+de;return je.pc+xe}var le={names:d,get:p,name:g,pitchClass:_,accidentals:k,octave:x,midi:q,ascending:Ne,descending:Ae,sortedNames:ze,sortedUniqNames:$e,fromMidi:W,fromMidiSharps:X,freq:V,fromFreq:K,fromFreqSharps:J,chroma:P,transpose:oe,tr:G,transposeBy:R,trBy:$,transposeFrom:U,trFrom:te,transposeFifths:ie,trFifths:be,simplify:Y,enharmonic:ue};n.accidentals=k,n.ascending=Ne,n.chroma=P,n.default=le,n.descending=Ae,n.enharmonic=ue,n.freq=V,n.fromFreq=K,n.fromFreqSharps=J,n.fromMidi=W,n.fromMidiSharps=X,n.get=p,n.midi=q,n.name=g,n.names=d,n.octave=x,n.pitchClass=_,n.simplify=Y,n.sortedNames=ze,n.sortedUniqNames=$e,n.tr=G,n.trBy=$,n.trFifths=be,n.trFrom=te,n.transpose=oe,n.transposeBy=R,n.transposeFifths=ie,n.transposeFrom=U,Object.defineProperty(n,\"__esModule\",{value:!0})})});var hd=v((ld,Zx)=\u003e{(function(n,e){typeof ld==\"object\"\u0026\u0026typeof Zx!=\"undefined\"?e(ld,An()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.RomanNumeral={},n.core))})(ld,function(n,e){\"use strict\";var r={empty:!0,name:\"\",chordType:\"\"},i={};function o(W){return typeof W==\"string\"?i[W]||(i[W]=V(W)):typeof W==\"number\"?o(x[W]||\"\"):e.isPitch(W)?p(W):e.isNamed(W)?o(W.name):r}var c=e.deprecate(\"RomanNumeral.romanNumeral\",\"RomanNumeral.get\",o);function d(W){return W===void 0\u0026\u0026(W=!0),(W?x:q).slice()}function p(W){return o(e.altToAcc(W.alt)+x[W.step])}var g=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function _(W){return g.exec(W)||[\"\",\"\",\"\",\"\"]}var k=\"I II III IV V VI VII\",x=k.split(\" \"),q=k.toLowerCase().split(\" \");function V(W){var K=_(W),J=K[0],X=K[1],oe=K[2],G=K[3];if(!oe)return r;var R=oe.toUpperCase(),$=x.indexOf(R),U=e.accToAlt(X),te=1;return{empty:!1,name:J,roman:oe,interval:e.interval({step:$,alt:U,dir:te}).name,acc:X,chordType:G,alt:U,step:$,major:oe===R,oct:0,dir:te}}var P={names:d,get:o,romanNumeral:c};n.default=P,n.get=o,n.names=d,n.tokenize=_,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Qx=v((dd,Kx)=\u003e{(function(n,e){typeof dd==\"object\"\u0026\u0026typeof Kx!=\"undefined\"?e(dd,An(),cd(),hd()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/note\",\"@tonaljs/roman-numeral\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Key={},n.core,n.note,n.romanNumeral))})(dd,function(n,e,r,i){\"use strict\";var o=function(){return o=Object.assign||function($){for(var U,te=1,ie=arguments.length;te\u003cie;te++){U=arguments[te];for(var be in U)Object.prototype.hasOwnProperty.call(U,be)\u0026\u0026($[be]=U[be])}return $},o.apply(this,arguments)},c=Object.freeze([]),d={type:\"major\",tonic:\"\",alteration:0,keySignature:\"\"},p={tonic:\"\",grades:c,intervals:c,scale:c,chords:c,chordsHarmonicFunction:c,chordScales:c},g=o(o(o({},d),p),{type:\"major\",minorRelative:\"\",scale:c,secondaryDominants:c,secondaryDominantsMinorRelative:c,substituteDominants:c,substituteDominantsMinorRelative:c}),_=o(o({},d),{type:\"minor\",relativeMajor:\"\",natural:p,harmonic:p,melodic:p}),k=function(R,$,U){return U===void 0\u0026\u0026(U=\"\"),$.map(function(te,ie){return\"\"+R[ie]+U+te})};function x(R,$,U,te){return function(ie){var be=R.map(function(Ae){return i.get(Ae).interval||\"\"}),Ne=be.map(function(Ae){return e.transpose(ie,Ae)});return{tonic:ie,grades:R,intervals:be,scale:Ne,chords:k(Ne,$),chordsHarmonicFunction:U.slice(),chordScales:k(Ne,te,\" \")}}}var q=function(R,$){var U=e.note(R),te=e.note($);return U.empty||te.empty?0:te.coord[0]-U.coord[0]},V=x(\"I II III IV V VI VII\".split(\" \"),\"maj7 m7 m7 maj7 7 m7 m7b5\".split(\" \"),\"T SD T SD D T D\".split(\" \"),\"major,dorian,phrygian,lydian,mixolydian,minor,locrian\".split(\",\")),P=x(\"I II bIII IV V bVI bVII\".split(\" \"),\"m7 m7b5 maj7 m7 m7 maj7 7\".split(\" \"),\"T SD T SD D SD SD\".split(\" \"),\"minor,locrian,major,dorian,phrygian,lydian,mixolydian\".split(\",\")),W=x(\"I II bIII IV V bVI VII\".split(\" \"),\"mMaj7 m7b5 +maj7 m7 7 maj7 o7\".split(\" \"),\"T SD T SD D SD D\".split(\" \"),\"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian\".split(\",\")),K=x(\"I II bIII IV V VI VII\".split(\" \"),\"m6 m7 +maj7 7 7 m7b5 m7b5\".split(\" \"),\"T SD T SD D  \".split(\" \"),\"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered\".split(\",\"));function J(R){var $=e.note(R).pc;if(!$)return g;var U=V($),te=q(\"C\",$),ie=function(be){var Ne=i.get(be);return Ne.empty?\"\":e.transpose(R,Ne.interval)+Ne.chordType};return o(o({},U),{type:\"major\",minorRelative:e.transpose($,\"-3m\"),alteration:te,keySignature:e.altToAcc(te),secondaryDominants:\"- VI7 VII7 I7 II7 III7 -\".split(\" \").map(ie),secondaryDominantsMinorRelative:\"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -\".split(\" \").map(ie),substituteDominants:\"- bIII7 IV7 bV7 bVI7 bVII7 -\".split(\" \").map(ie),substituteDominantsMinorRelative:\"- IIIm7 Im7 IIbm7 VIm7 IVm7 -\".split(\" \").map(ie)})}function X(R){var $=e.note(R).pc;if(!$)return _;var U=q(\"C\",$)-3;return{type:\"minor\",tonic:$,relativeMajor:e.transpose($,\"3m\"),alteration:U,keySignature:e.altToAcc(U),natural:P($),harmonic:W($),melodic:K($)}}function oe(R){return typeof R==\"number\"?r.transposeFifths(\"C\",R):typeof R==\"string\"\u0026\u0026/^b+|#+$/.test(R)?r.transposeFifths(\"C\",e.accToAlt(R)):null}var G={majorKey:J,majorTonicFromKeySignature:oe,minorKey:X};n.default=G,n.majorKey=J,n.majorTonicFromKeySignature=oe,n.minorKey=X,Object.defineProperty(n,\"__esModule\",{value:!0})})});var ek=v((pd,Jx)=\u003e{(function(n,e){typeof pd==\"object\"\u0026\u0026typeof Jx!=\"undefined\"?e(pd,Ao(),An(),tv(),Mi()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/interval\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Mode={},n.collection,n.core,n.interval,n.pcset))})(pd,function(n,e,r,i,o){\"use strict\";var c=function(){return c=Object.assign||function(te){for(var ie,be=1,Ne=arguments.length;be\u003cNe;be++){ie=arguments[be];for(var Ae in ie)Object.prototype.hasOwnProperty.call(ie,Ae)\u0026\u0026(te[Ae]=ie[Ae])}return te},c.apply(this,arguments)},d=[[0,2773,0,\"ionian\",\"\",\"Maj7\",\"major\"],[1,2902,2,\"dorian\",\"m\",\"m7\"],[2,3418,4,\"phrygian\",\"m\",\"m7\"],[3,2741,-1,\"lydian\",\"\",\"Maj7\"],[4,2774,1,\"mixolydian\",\"\",\"7\"],[5,2906,3,\"aeolian\",\"m\",\"m7\",\"minor\"],[6,3434,5,\"locrian\",\"dim\",\"m7b5\"]],p=c(c({},o.EmptyPcset),{name:\"\",alt:0,modeNum:NaN,triad:\"\",seventh:\"\",aliases:[]}),g=d.map(W),_={};g.forEach(function(U){_[U.name]=U,U.aliases.forEach(function(te){_[te]=U})});function k(U){return typeof U==\"string\"?_[U.toLowerCase()]||p:U\u0026\u0026U.name?k(U.name):p}var x=r.deprecate(\"Mode.mode\",\"Mode.get\",k);function q(){return g.slice()}var V=r.deprecate(\"Mode.mode\",\"Mode.all\",q);function P(){return g.map(function(U){return U.name})}function W(U){var te=U[0],ie=U[1],be=U[2],Ne=U[3],Ae=U[4],ze=U[5],$e=U[6],Y=$e?[$e]:[],ue=Number(ie).toString(2),le=o.chromaToIntervals(ue);return{empty:!1,intervals:le,modeNum:te,chroma:ue,normalized:ue,name:Ne,setNum:ie,alt:be,triad:Ae,seventh:ze,aliases:Y}}function K(U,te){return k(U).intervals.map(function(ie){return r.transpose(te,ie)})}function J(U){return function(te,ie){var be=k(te);if(be.empty)return[];var Ne=e.rotate(be.modeNum,U),Ae=be.intervals.map(function(ze){return r.transpose(ie,ze)});return Ne.map(function(ze,$e){return Ae[$e]+ze})}}var X=J(d.map(function(U){return U[4]})),oe=J(d.map(function(U){return U[5]}));function G(U,te){var ie=k(te),be=k(U);return ie.empty||be.empty?\"\":i.simplify(i.transposeFifths(\"1P\",be.alt-ie.alt))}function R(U,te,ie){return r.transpose(ie,G(U,te))}var $={get:k,names:P,all:q,distance:G,relativeTonic:R,notes:K,triads:X,seventhChords:oe,entries:V,mode:x};n.all=q,n.default=$,n.distance=G,n.entries=V,n.get=k,n.mode=x,n.names=P,n.notes=K,n.relativeTonic=R,n.seventhChords=oe,n.triads=X,Object.defineProperty(n,\"__esModule\",{value:!0})})});var nk=v((fd,tk)=\u003e{(function(n,e){typeof fd==\"object\"\u0026\u0026typeof tk!=\"undefined\"?e(fd,ev(),An(),hd()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord\",\"@tonaljs/core\",\"@tonaljs/roman-numeral\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Progression={},n.chord,n.core,n.romanNumeral))})(fd,function(n,e,r,i){\"use strict\";function o(p,g){var _=g.map(i.get);return _.map(function(k){return r.transpose(p,r.interval(k))+k.chordType})}function c(p,g){return g.map(function(_){var k=e.tokenize(_),x=k[0],q=k[1],V=r.distance(p,x),P=i.get(r.interval(V));return P.name+q})}var d={fromRomanNumerals:o,toRomanNumerals:c};n.default=d,n.fromRomanNumerals=o,n.toRomanNumerals=c,Object.defineProperty(n,\"__esModule\",{value:!0})})});var ak=v((md,rk)=\u003e{(function(n,e){typeof md==\"object\"\u0026\u0026typeof rk!=\"undefined\"?e(md,Ao(),od()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/midi\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Range={},n.collection,n.midi))})(md,function(n,e,r){\"use strict\";function i(d){var p=e.compact(d.map(r.toMidi));return!d.length||p.length!==d.length?[]:p.reduce(function(g,_){var k=g[g.length-1];return g.concat(e.range(k,_).slice(1))},[p[0]])}function o(d,p){return i(d).map(function(g){return r.midiToNoteName(g,p)})}var c={numeric:i,chromatic:o};n.chromatic=o,n.default=c,n.numeric=i,Object.defineProperty(n,\"__esModule\",{value:!0})})});var sk=v((vd,ik)=\u003e{(function(n,e){typeof vd==\"object\"\u0026\u0026typeof ik!=\"undefined\"?e(vd,Ju(),Ao(),An(),cd(),Mi(),nd()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord-type\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/note\",\"@tonaljs/pcset\",\"@tonaljs/scale-type\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Scale={},n.chordType,n.collection,n.core,n.note,n.pcset,n.scaleType))})(vd,function(n,e,r,i,o,c,d){\"use strict\";var p=function(){return p=Object.assign||function($){for(var U,te=1,ie=arguments.length;te\u003cie;te++){U=arguments[te];for(var be in U)Object.prototype.hasOwnProperty.call(U,be)\u0026\u0026($[be]=U[be])}return $},p.apply(this,arguments)},g={empty:!0,name:\"\",type:\"\",tonic:null,setNum:NaN,chroma:\"\",normalized:\"\",aliases:[],notes:[],intervals:[]};function _(R){if(typeof R!=\"string\")return[\"\",\"\"];var $=R.indexOf(\" \"),U=i.note(R.substring(0,$));if(U.empty){var te=i.note(R);return te.empty?[\"\",R]:[te.name,\"\"]}var ie=R.substring(U.name.length+1);return[U.name,ie.length?ie:\"\"]}var k=d.names;function x(R){var $=Array.isArray(R)?R:_(R),U=i.note($[0]).name,te=d.get($[1]);if(te.empty)return g;var ie=te.name,be=U?te.intervals.map(function(Ae){return i.transpose(U,Ae)}):[],Ne=U?U+\" \"+ie:ie;return p(p({},te),{name:Ne,type:ie,tonic:U,notes:be})}var q=i.deprecate(\"Scale.scale\",\"Scale.get\",x);function V(R){var $=x(R),U=c.isSubsetOf($.chroma);return e.all().filter(function(te){return U(te.chroma)}).map(function(te){return te.aliases[0]})}function P(R){var $=x(R),U=c.isSupersetOf($.chroma);return d.all().filter(function(te){return U(te.chroma)}).map(function(te){return te.name})}function W(R){var $=c.isSubsetOf(x(R).chroma);return d.all().filter(function(U){return $(U.chroma)}).map(function(U){return U.name})}function K(R){var $=R.map(function(ie){return i.note(ie).pc}).filter(function(ie){return ie}),U=$[0],te=o.sortedUniqNames($);return r.rotate(te.indexOf(U),te)}function J(R){var $=x(R);if($.empty)return[];var U=$.tonic?$.notes:$.intervals;return c.modes($.chroma).map(function(te,ie){var be=x(te).name;return be?[U[ie],be]:[\"\",\"\"]}).filter(function(te){return te[0]})}function X(R){var $=Array.isArray(R)?K(R):x(R).notes,U=$.map(function(te){return i.note(te).chroma});return function(te){var ie=typeof te==\"number\"?i.note(o.fromMidi(te)):i.note(te),be=ie.height;if(be!==void 0){var Ne=be%12,Ae=U.indexOf(Ne);if(Ae!==-1)return o.enharmonic(ie.name,$[Ae])}}}function oe(R){var $=X(R);return function(U,te){var ie=i.note(U).height,be=i.note(te).height;return ie===void 0||be===void 0?[]:r.range(ie,be).map($).filter(function(Ne){return Ne})}}var G={get:x,names:k,extended:P,modeNames:J,reduced:W,scaleChords:V,scaleNotes:K,tokenize:_,rangeOf:oe,scale:q};n.default=G,n.extended=P,n.get=x,n.modeNames=J,n.names=k,n.rangeOf=oe,n.reduced=W,n.scale=q,n.scaleChords=V,n.scaleNotes=K,n.tokenize=_,Object.defineProperty(n,\"__esModule\",{value:!0})})});var uk=v((gd,ok)=\u003e{(function(n,e){typeof gd==\"object\"\u0026\u0026typeof ok!=\"undefined\"?e(gd):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.TimeSignature={}))})(gd,function(n){\"use strict\";var e={empty:!0,name:\"\",upper:void 0,lower:void 0,type:void 0,additive:[]},r=[\"4/4\",\"3/4\",\"2/4\",\"2/2\",\"12/8\",\"9/8\",\"6/8\",\"3/8\"];function i(){return r.slice()}var o=/^(\\d?\\d(?:\\+\\d)*)\\/(\\d)$/,c=new Map;function d(k){var x=c.get(k);if(x)return x;var q=_(p(k));return c.set(k,q),q}function p(k){if(typeof k==\"string\"){var x=o.exec(k)||[];x[0];var q=x[1],V=x[2];return p([q,V])}var P=k[0],W=k[1],K=+W;if(typeof P==\"number\")return[P,K];var J=P.split(\"+\").map(function(X){return+X});return J.length===1?[J[0],K]:[J,K]}var g={names:i,parse:p,get:d};function _(k){var x=k[0],q=k[1],V=Array.isArray(x)?x.reduce(function(X,oe){return X+oe},0):x,P=q;if(V===0||P===0)return e;var W=Array.isArray(x)?x.join(\"+\")+\"/\"+q:x+\"/\"+q,K=Array.isArray(x)?x:[],J=P===4||P===2?\"simple\":P===8\u0026\u0026V%3==0?\"compound\":\"irregular\";return{empty:!1,name:W,type:J,upper:V,lower:P,additive:K}}n.default=g,n.get=d,n.names=i,n.parse=p,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Si=v((yd,ck)=\u003e{(function(n,e){typeof yd==\"object\"\u0026\u0026typeof ck!=\"undefined\"?e(yd,jx(),Ix(),ev(),Ju(),Ao(),An(),$x(),tv(),Qx(),od(),ek(),cd(),Mi(),nk(),ak(),hd(),sk(),nd(),uk()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/abc-notation\",\"@tonaljs/array\",\"@tonaljs/chord\",\"@tonaljs/chord-type\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/duration-value\",\"@tonaljs/interval\",\"@tonaljs/key\",\"@tonaljs/midi\",\"@tonaljs/mode\",\"@tonaljs/note\",\"@tonaljs/pcset\",\"@tonaljs/progression\",\"@tonaljs/range\",\"@tonaljs/roman-numeral\",\"@tonaljs/scale\",\"@tonaljs/scale-type\",\"@tonaljs/time-signature\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Tonal={},n.abcNotation,n.array,n.chord,n.ChordType,n.collection,n.Core,n.durationValue,n.interval,n.key,n.midi,n.mode,n.note,n.Pcset,n.progression,n.range,n.romanNumeral,n.scale,n.ScaleType,n.timeSignature))})(yd,function(n,e,r,i,o,c,d,p,g,_,k,x,q,V,P,W,K,J,X,oe){\"use strict\";function G(Se){return Se\u0026\u0026typeof Se==\"object\"\u0026\u0026\"default\"in Se?Se:{default:Se}}function R(Se){if(Se\u0026\u0026Se.__esModule)return Se;var nt=Object.create(null);return Se\u0026\u0026Object.keys(Se).forEach(function(ct){if(ct!==\"default\"){var Gt=Object.getOwnPropertyDescriptor(Se,ct);Object.defineProperty(nt,ct,Gt.get?Gt:{enumerable:!0,get:function(){return Se[ct]}})}}),nt.default=Se,Object.freeze(nt)}var $=G(e),U=R(r),te=G(i),ie=G(o),be=G(c),Ne=R(d),Ae=G(p),ze=G(g),$e=G(_),Y=G(k),ue=G(x),le=G(q),ce=G(V),ye=G(P),me=G(W),je=G(K),Je=G(J),ft=G(X),de=G(oe),xe=Ne,Oe=ce.default,Ge=ie.default,Pe=ft.default;Object.defineProperty(n,\"AbcNotation\",{enumerable:!0,get:function(){return $.default}}),n.Array=U,Object.defineProperty(n,\"Chord\",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(n,\"ChordType\",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(n,\"Collection\",{enumerable:!0,get:function(){return be.default}}),n.Core=Ne,Object.defineProperty(n,\"DurationValue\",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(n,\"Interval\",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(n,\"Key\",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(n,\"Midi\",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(n,\"Mode\",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(n,\"Note\",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(n,\"Pcset\",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(n,\"Progression\",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(n,\"Range\",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(n,\"RomanNumeral\",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(n,\"Scale\",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(n,\"ScaleType\",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(n,\"TimeSignature\",{enumerable:!0,get:function(){return de.default}}),n.ChordDictionary=Ge,n.PcSet=Oe,n.ScaleDictionary=Pe,n.Tonal=xe,Object.keys(d).forEach(function(Se){Se!==\"default\"\u0026\u0026!n.hasOwnProperty(Se)\u0026\u0026Object.defineProperty(n,Se,{enumerable:!0,get:function(){return d[Se]}})}),Object.defineProperty(n,\"__esModule\",{value:!0})})});var hk=v((dpe,lk)=\u003e{var z8=function(){return!1};lk.exports=z8});var nv=v((ppe,dk)=\u003e{var G8=function(){return!0};dk.exports=G8});var rv=v((fpe,pk)=\u003e{pk.exports={\"@@functional/placeholder\":!0}});var tc=v((mpe,fk)=\u003e{function U8(n){return n!=null\u0026\u0026typeof n==\"object\"\u0026\u0026n[\"@@functional/placeholder\"]===!0}fk.exports=U8});var We=v((vpe,mk)=\u003e{var $8=tc();function H8(n){return function e(r){return arguments.length===0||$8(r)?e:n.apply(this,arguments)}}mk.exports=H8});var re=v((gpe,vk)=\u003e{var av=We(),nc=tc();function Y8(n){return function e(r,i){switch(arguments.length){case 0:return e;case 1:return nc(r)?e:av(function(o){return n(r,o)});default:return nc(r)\u0026\u0026nc(i)?e:nc(r)?av(function(o){return n(o,i)}):nc(i)?av(function(o){return n(r,o)}):n(r,i)}}}vk.exports=Y8});var rc=v((ype,gk)=\u003e{var X8=re(),Z8=X8(function(e,r){return Number(e)+Number(r)});gk.exports=Z8});var Rr=v((_pe,yk)=\u003e{function K8(n,e){n=n||[],e=e||[];var r,i=n.length,o=e.length,c=[];for(r=0;r\u003ci;)c[c.length]=n[r],r+=1;for(r=0;r\u003co;)c[c.length]=e[r],r+=1;return c}yk.exports=K8});var Er=v((bpe,_k)=\u003e{function Q8(n,e){switch(n){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,i){return e.apply(this,arguments)};case 3:return function(r,i,o){return e.apply(this,arguments)};case 4:return function(r,i,o,c){return e.apply(this,arguments)};case 5:return function(r,i,o,c,d){return e.apply(this,arguments)};case 6:return function(r,i,o,c,d,p){return e.apply(this,arguments)};case 7:return function(r,i,o,c,d,p,g){return e.apply(this,arguments)};case 8:return function(r,i,o,c,d,p,g,_){return e.apply(this,arguments)};case 9:return function(r,i,o,c,d,p,g,_,k){return e.apply(this,arguments)};case 10:return function(r,i,o,c,d,p,g,_,k,x){return e.apply(this,arguments)};default:throw new Error(\"First argument to _arity must be a non-negative integer no greater than ten\")}}_k.exports=Q8});var ac=v((xpe,kk)=\u003e{var J8=Er(),bk=tc();function xk(n,e,r){return function(){for(var i=[],o=0,c=n,d=0;d\u003ce.length||o\u003carguments.length;){var p;d\u003ce.length\u0026\u0026(!bk(e[d])||o\u003e=arguments.length)?p=e[d]:(p=arguments[o],o+=1),i[d]=p,bk(p)||(c-=1),d+=1}return c\u003c=0?r.apply(this,i):J8(c,xk(n,i,r))}}kk.exports=xk});var _n=v((kpe,Nk)=\u003e{var e9=Er(),t9=We(),n9=re(),r9=ac(),a9=n9(function(e,r){return e===1?t9(r):e9(e,r9(e,[],r))});Nk.exports=a9});var qk=v((Npe,wk)=\u003e{var i9=Rr(),s9=We(),o9=_n(),u9=s9(function(e){return o9(e.length,function(){var r=0,i=arguments[0],o=arguments[arguments.length-1],c=Array.prototype.slice.call(arguments,0);return c[0]=function(){var d=i.apply(this,i9(arguments,[r,o]));return r+=1,d},e.apply(this,c)})});wk.exports=u9});var Ke=v((wpe,Tk)=\u003e{var _d=We(),Ro=re(),Rn=tc();function c9(n){return function e(r,i,o){switch(arguments.length){case 0:return e;case 1:return Rn(r)?e:Ro(function(c,d){return n(r,c,d)});case 2:return Rn(r)\u0026\u0026Rn(i)?e:Rn(r)?Ro(function(c,d){return n(c,i,d)}):Rn(i)?Ro(function(c,d){return n(r,c,d)}):_d(function(c){return n(r,i,c)});default:return Rn(r)\u0026\u0026Rn(i)\u0026\u0026Rn(o)?e:Rn(r)\u0026\u0026Rn(i)?Ro(function(c,d){return n(c,d,o)}):Rn(r)\u0026\u0026Rn(o)?Ro(function(c,d){return n(c,i,d)}):Rn(i)\u0026\u0026Rn(o)?Ro(function(c,d){return n(r,c,d)}):Rn(r)?_d(function(c){return n(c,i,o)}):Rn(i)?_d(function(c){return n(r,c,o)}):Rn(o)?_d(function(c){return n(r,i,c)}):n(r,i,o)}}}Tk.exports=c9});var iv=v((qpe,Mk)=\u003e{var l9=Rr(),h9=Ke(),d9=h9(function(e,r,i){if(e\u003e=i.length||e\u003c-i.length)return i;var o=e\u003c0?i.length:0,c=o+e,d=l9(i);return d[c]=r(i[c]),d});Mk.exports=d9});var ya=v((Tpe,Sk)=\u003e{Sk.exports=Array.isArray||function(e){return e!=null\u0026\u0026e.length\u003e=0\u0026\u0026Object.prototype.toString.call(e)===\"[object Array]\"}});var bd=v((Mpe,Pk)=\u003e{function p9(n){return n!=null\u0026\u0026typeof n[\"@@transducer/step\"]==\"function\"}Pk.exports=p9});var Jt=v((Spe,Ok)=\u003e{var f9=ya(),m9=bd();function v9(n,e,r){return function(){if(arguments.length===0)return r();var i=Array.prototype.slice.call(arguments,0),o=i.pop();if(!f9(o)){for(var c=0;c\u003cn.length;){if(typeof o[n[c]]==\"function\")return o[n[c]].apply(o,i);c+=1}if(m9(o)){var d=e.apply(null,i);return d(o)}}return r.apply(this,arguments)}}Ok.exports=v9});var $a=v((Ppe,Ck)=\u003e{function g9(n){return n\u0026\u0026n[\"@@transducer/reduced\"]?n:{\"@@transducer/value\":n,\"@@transducer/reduced\":!0}}Ck.exports=g9});var rn=v((Ope,Ak)=\u003e{Ak.exports={init:function(){return this.xf[\"@@transducer/init\"]()},result:function(n){return this.xf[\"@@transducer/result\"](n)}}});var Ek=v((Cpe,Rk)=\u003e{var y9=re(),_9=$a(),b9=rn(),x9=function(){function n(e,r){this.xf=r,this.f=e,this.all=!0}return n.prototype[\"@@transducer/init\"]=b9.init,n.prototype[\"@@transducer/result\"]=function(e){return this.all\u0026\u0026(e=this.xf[\"@@transducer/step\"](e,!0)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)||(this.all=!1,e=_9(this.xf[\"@@transducer/step\"](e,!1))),e},n}(),k9=y9(function(e,r){return new x9(e,r)});Rk.exports=k9});var sv=v((Ape,jk)=\u003e{var N9=re(),w9=Jt(),q9=Ek(),T9=N9(w9([\"all\"],q9,function(e,r){for(var i=0;i\u003cr.length;){if(!e(r[i]))return!1;i+=1}return!0}));jk.exports=T9});var ps=v((Rpe,Dk)=\u003e{var M9=re(),S9=M9(function(e,r){return r\u003ee?r:e});Dk.exports=S9});var ic=v((Epe,Ik)=\u003e{function P9(n,e){for(var r=0,i=e.length,o=Array(i);r\u003ci;)o[r]=n(e[r]),r+=1;return o}Ik.exports=P9});var Eo=v((jpe,Fk)=\u003e{function O9(n){return Object.prototype.toString.call(n)===\"[object String]\"}Fk.exports=O9});var sc=v((Dpe,Vk)=\u003e{var C9=We(),A9=ya(),R9=Eo(),E9=C9(function(e){return A9(e)?!0:!e||typeof e!=\"object\"||R9(e)?!1:e.nodeType===1?!!e.length:e.length===0?!0:e.length\u003e0?e.hasOwnProperty(0)\u0026\u0026e.hasOwnProperty(e.length-1):!1});Vk.exports=E9});var ov=v((Ipe,Lk)=\u003e{var j9=function(){function n(e){this.f=e}return n.prototype[\"@@transducer/init\"]=function(){throw new Error(\"init not implemented on XWrap\")},n.prototype[\"@@transducer/result\"]=function(e){return e},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(e,r)},n}();function D9(n){return new j9(n)}Lk.exports=D9});var uv=v((Fpe,Wk)=\u003e{var I9=Er(),F9=re(),V9=F9(function(e,r){return I9(e.length,function(){return e.apply(r,arguments)})});Wk.exports=V9});var er=v((Vpe,Uk)=\u003e{var L9=sc(),W9=ov(),B9=uv();function z9(n,e,r){for(var i=0,o=r.length;i\u003co;){if(e=n[\"@@transducer/step\"](e,r[i]),e\u0026\u0026e[\"@@transducer/reduced\"]){e=e[\"@@transducer/value\"];break}i+=1}return n[\"@@transducer/result\"](e)}function Bk(n,e,r){for(var i=r.next();!i.done;){if(e=n[\"@@transducer/step\"](e,i.value),e\u0026\u0026e[\"@@transducer/reduced\"]){e=e[\"@@transducer/value\"];break}i=r.next()}return n[\"@@transducer/result\"](e)}function zk(n,e,r,i){return n[\"@@transducer/result\"](r[i](B9(n[\"@@transducer/step\"],n),e))}var Gk=typeof Symbol!=\"undefined\"?Symbol.iterator:\"@@iterator\";function G9(n,e,r){if(typeof n==\"function\"\u0026\u0026(n=W9(n)),L9(r))return z9(n,e,r);if(typeof r[\"fantasy-land/reduce\"]==\"function\")return zk(n,e,r,\"fantasy-land/reduce\");if(r[Gk]!=null)return Bk(n,e,r[Gk]());if(typeof r.next==\"function\")return Bk(n,e,r);if(typeof r.reduce==\"function\")return zk(n,e,r,\"reduce\");throw new TypeError(\"reduce: list must be array or iterable\")}Uk.exports=G9});var Yk=v((Lpe,Hk)=\u003e{var U9=re(),$k=rn(),$9=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=$k.init,n.prototype[\"@@transducer/result\"]=$k.result,n.prototype[\"@@transducer/step\"]=function(e,r){return this.xf[\"@@transducer/step\"](e,this.f(r))},n}(),H9=U9(function(e,r){return new $9(e,r)});Hk.exports=H9});var tr=v((Wpe,Xk)=\u003e{function Y9(n,e){return Object.prototype.hasOwnProperty.call(e,n)}Xk.exports=Y9});var cv=v((Bpe,Kk)=\u003e{var X9=tr(),Zk=Object.prototype.toString,Z9=function(){return Zk.call(arguments)===\"[object Arguments]\"?function(e){return Zk.call(e)===\"[object Arguments]\"}:function(e){return X9(\"callee\",e)}}();Kk.exports=Z9});var jr=v((zpe,nN)=\u003e{var Qk=We(),Jk=tr(),K9=cv(),Q9=!{toString:null}.propertyIsEnumerable(\"toString\"),eN=[\"constructor\",\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"],tN=function(){\"use strict\";return arguments.propertyIsEnumerable(\"length\")}(),J9=function(e,r){for(var i=0;i\u003ce.length;){if(e[i]===r)return!0;i+=1}return!1},eI=typeof Object.keys==\"function\"\u0026\u0026!tN?Qk(function(e){return Object(e)!==e?[]:Object.keys(e)}):Qk(function(e){if(Object(e)!==e)return[];var r,i,o=[],c=tN\u0026\u0026K9(e);for(r in e)Jk(r,e)\u0026\u0026(!c||r!==\"length\")\u0026\u0026(o[o.length]=r);if(Q9)for(i=eN.length-1;i\u003e=0;)r=eN[i],Jk(r,e)\u0026\u0026!J9(o,r)\u0026\u0026(o[o.length]=r),i-=1;return o});nN.exports=eI});var _r=v((Gpe,rN)=\u003e{var tI=re(),nI=Jt(),rI=ic(),aI=er(),iI=Yk(),sI=_n(),oI=jr(),uI=tI(nI([\"fantasy-land/map\",\"map\"],iI,function(e,r){switch(Object.prototype.toString.call(r)){case\"[object Function]\":return sI(r.length,function(){return e.call(this,r.apply(this,arguments))});case\"[object Object]\":return aI(function(i,o){return i[o]=e(r[o]),i},{},oI(r));default:return rI(e,r)}}));rN.exports=uI});var oc=v((Upe,aN)=\u003e{aN.exports=Number.isInteger||function(e){return e\u003c\u003c0===e}});var fs=v(($pe,iN)=\u003e{var cI=re(),lI=Eo(),hI=cI(function(e,r){var i=e\u003c0?r.length+e:e;return lI(r)?r.charAt(i):r[i]});iN.exports=hI});var lv=v((Hpe,sN)=\u003e{var dI=re(),pI=oc(),fI=fs(),mI=dI(function(e,r){return e.map(function(i){for(var o=r,c=0,d;c\u003ci.length;){if(o==null)return;d=i[c],o=pI(d)?fI(d,o):o[d],c+=1}return o})});sN.exports=mI});var Pi=v((Ype,oN)=\u003e{var vI=re(),gI=lv(),yI=vI(function(e,r){return gI([e],r)[0]});oN.exports=yI});var uc=v((Xpe,uN)=\u003e{var _I=re(),bI=Pi(),xI=_I(function(e,r){return bI([e],r)});uN.exports=xI});var jo=v((Zpe,cN)=\u003e{var kI=re(),NI=_r(),wI=uc(),qI=kI(function(e,r){return NI(wI(e),r)});cN.exports=qI});var Qr=v((Kpe,lN)=\u003e{var TI=Ke(),MI=er(),SI=TI(MI);lN.exports=SI});var dN=v((Qpe,hN)=\u003e{var PI=We(),OI=_n(),CI=ps(),AI=jo(),RI=Qr(),EI=PI(function(e){return OI(RI(CI,0,AI(\"length\",e)),function(){for(var r=0,i=e.length;r\u003ci;){if(!e[r].apply(this,arguments))return!1;r+=1}return!0})});hN.exports=EI});var Do=v((Jpe,pN)=\u003e{var jI=We(),DI=jI(function(e){return function(){return e}});pN.exports=DI});var hv=v((efe,fN)=\u003e{var II=re(),FI=II(function(e,r){return e\u0026\u0026r});fN.exports=FI});var vN=v((tfe,mN)=\u003e{var VI=re(),LI=$a(),WI=rn(),BI=function(){function n(e,r){this.xf=r,this.f=e,this.any=!1}return n.prototype[\"@@transducer/init\"]=WI.init,n.prototype[\"@@transducer/result\"]=function(e){return this.any||(e=this.xf[\"@@transducer/step\"](e,!1)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)\u0026\u0026(this.any=!0,e=LI(this.xf[\"@@transducer/step\"](e,!0))),e},n}(),zI=VI(function(e,r){return new BI(e,r)});mN.exports=zI});var yN=v((nfe,gN)=\u003e{var GI=re(),UI=Jt(),$I=vN(),HI=GI(UI([\"any\"],$I,function(e,r){for(var i=0;i\u003cr.length;){if(e(r[i]))return!0;i+=1}return!1}));gN.exports=HI});var bN=v((rfe,_N)=\u003e{var YI=We(),XI=_n(),ZI=ps(),KI=jo(),QI=Qr(),JI=YI(function(e){return XI(QI(ZI,0,KI(\"length\",e)),function(){for(var r=0,i=e.length;r\u003ci;){if(e[r].apply(this,arguments))return!0;r+=1}return!1})});_N.exports=JI});var xd=v((afe,xN)=\u003e{var eF=Rr(),tF=re(),nF=er(),rF=_r(),aF=tF(function(e,r){return typeof r[\"fantasy-land/ap\"]==\"function\"?r[\"fantasy-land/ap\"](e):typeof e.ap==\"function\"?e.ap(r):typeof e==\"function\"?function(i){return e(i)(r(i))}:nF(function(i,o){return eF(i,rF(o,r))},[],e)});xN.exports=aF});var NN=v((ife,kN)=\u003e{function iF(n,e){for(var r=0,i=e.length-(n-1),o=new Array(i\u003e=0?i:0);r\u003ci;)o[r]=Array.prototype.slice.call(e,r,r+n),r+=1;return o}kN.exports=iF});var qN=v((sfe,wN)=\u003e{var sF=Rr(),oF=re(),uF=rn(),cF=function(){function n(e,r){this.xf=r,this.pos=0,this.full=!1,this.acc=new Array(e)}return n.prototype[\"@@transducer/init\"]=uF.init,n.prototype[\"@@transducer/result\"]=function(e){return this.acc=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.store(r),this.full?this.xf[\"@@transducer/step\"](e,this.getCopy()):e},n.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length\u0026\u0026(this.pos=0,this.full=!0)},n.prototype.getCopy=function(){return sF(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},n}(),lF=oF(function(e,r){return new cF(e,r)});wN.exports=lF});var MN=v((ofe,TN)=\u003e{var hF=NN(),dF=re(),pF=Jt(),fF=qN(),mF=dF(pF([],fF,hF));TN.exports=mF});var PN=v((ufe,SN)=\u003e{var vF=Rr(),gF=re(),yF=gF(function(e,r){return vF(r,[e])});SN.exports=yF});var dv=v((cfe,ON)=\u003e{var _F=re(),bF=_F(function(e,r){return e.apply(this,r)});ON.exports=bF});var pv=v((lfe,CN)=\u003e{var xF=We(),kF=jr(),NF=xF(function(e){for(var r=kF(e),i=r.length,o=[],c=0;c\u003ci;)o[c]=e[r[c]],c+=1;return o});CN.exports=NF});var EN=v((hfe,RN)=\u003e{var wF=We(),qF=dv(),TF=_n(),MF=ps(),SF=jo(),PF=Qr(),OF=jr(),CF=pv();function AN(n,e){return OF(e).reduce(function(r,i){return r[i]=n(e[i]),r},{})}var AF=wF(function n(e){return e=AN(function(r){return typeof r==\"function\"?r:n(r)},e),TF(PF(MF,0,SF(\"length\",CF(e))),function(){var r=arguments;return AN(function(i){return qF(i,r)},e)})});RN.exports=AF});var DN=v((dfe,jN)=\u003e{var RF=re(),EF=RF(function(e,r){return r(e)});jN.exports=EF});var FN=v((pfe,IN)=\u003e{var jF=Ke(),DF=jF(function(e,r,i){var o=e(r),c=e(i);return o\u003cc?-1:o\u003ec?1:0});IN.exports=DF});var Io=v((ffe,VN)=\u003e{var IF=Ke(),FF=IF(function(e,r,i){var o={};for(var c in i)o[c]=i[c];return o[e]=r,o});VN.exports=FF});var kd=v((mfe,LN)=\u003e{var VF=We(),LF=VF(function(e){return e==null});LN.exports=LF});var fv=v((vfe,BN)=\u003e{var WF=Ke(),BF=tr(),zF=ya(),WN=oc(),GF=Io(),UF=kd(),$F=WF(function n(e,r,i){if(e.length===0)return r;var o=e[0];if(e.length\u003e1){var c=!UF(i)\u0026\u0026BF(o,i)?i[o]:WN(e[1])?[]:{};r=n(Array.prototype.slice.call(e,1),r,c)}if(WN(o)\u0026\u0026zF(i)){var d=[].concat(i);return d[o]=r,d}else return GF(o,r,i)});BN.exports=$F});var cc=v((gfe,zN)=\u003e{var HF=re(),YF=HF(function(e,r){switch(e){case 0:return function(){return r.call(this)};case 1:return function(i){return r.call(this,i)};case 2:return function(i,o){return r.call(this,i,o)};case 3:return function(i,o,c){return r.call(this,i,o,c)};case 4:return function(i,o,c,d){return r.call(this,i,o,c,d)};case 5:return function(i,o,c,d,p){return r.call(this,i,o,c,d,p)};case 6:return function(i,o,c,d,p,g){return r.call(this,i,o,c,d,p,g)};case 7:return function(i,o,c,d,p,g,_){return r.call(this,i,o,c,d,p,g,_)};case 8:return function(i,o,c,d,p,g,_,k){return r.call(this,i,o,c,d,p,g,_,k)};case 9:return function(i,o,c,d,p,g,_,k,x){return r.call(this,i,o,c,d,p,g,_,k,x)};case 10:return function(i,o,c,d,p,g,_,k,x,q){return r.call(this,i,o,c,d,p,g,_,k,x,q)};default:throw new Error(\"First argument to nAry must be a non-negative integer no greater than ten\")}});zN.exports=YF});var UN=v((yfe,GN)=\u003e{var XF=We(),ZF=cc(),KF=XF(function(e){return ZF(2,e)});GN.exports=KF});var Fo=v((_fe,$N)=\u003e{function QF(n){var e=Object.prototype.toString.call(n);return e===\"[object Function]\"||e===\"[object AsyncFunction]\"||e===\"[object GeneratorFunction]\"||e===\"[object AsyncGeneratorFunction]\"}$N.exports=QF});var mv=v((bfe,YN)=\u003e{var JF=re(),eV=er(),tV=xd(),HN=_n(),nV=_r(),rV=JF(function(e,r){var i=HN(e,r);return HN(e,function(){return eV(tV,nV(i,arguments[0]),Array.prototype.slice.call(arguments,1))})});YN.exports=rV});var lc=v((xfe,XN)=\u003e{var aV=We(),iV=mv(),sV=aV(function(e){return iV(e.length,e)});XN.exports=sV});var KN=v((kfe,ZN)=\u003e{var oV=re(),uV=Fo(),cV=hv(),lV=lc(),hV=oV(function(e,r){return uV(e)?function(){return e.apply(this,arguments)\u0026\u0026r.apply(this,arguments)}:lV(cV)(e,r)});ZN.exports=hV});var Oi=v((Nfe,QN)=\u003e{var dV=We(),pV=_n(),fV=dV(function(e){return pV(e.length,e)});QN.exports=fV});var vv=v((wfe,JN)=\u003e{var mV=Oi(),vV=mV(function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))});JN.exports=vV});var gv=v((qfe,ew)=\u003e{var gV=sc();function yV(n){return function e(r){for(var i,o,c,d=[],p=0,g=r.length;p\u003cg;){if(gV(r[p]))for(i=n?e(r[p]):r[p],c=0,o=i.length;c\u003co;)d[d.length]=i[c],c+=1;else d[d.length]=r[p];p+=1}return d}}ew.exports=yV});var nw=v((Tfe,tw)=\u003e{function _V(n){return{\"@@transducer/value\":n,\"@@transducer/reduced\":!0}}tw.exports=_V});var sw=v((Mfe,iw)=\u003e{var bV=nw(),xV=sc(),rw=er(),aw=rn(),kV=function(n){return{\"@@transducer/init\":aw.init,\"@@transducer/result\":function(e){return n[\"@@transducer/result\"](e)},\"@@transducer/step\":function(e,r){var i=n[\"@@transducer/step\"](e,r);return i[\"@@transducer/reduced\"]?bV(i):i}}},NV=function(e){var r=kV(e);return{\"@@transducer/init\":aw.init,\"@@transducer/result\":function(i){return r[\"@@transducer/result\"](i)},\"@@transducer/step\":function(i,o){return xV(o)?rw(r,i,o):rw(r,i,[o])}}};iw.exports=NV});var uw=v((Sfe,ow)=\u003e{var wV=re(),qV=sw(),TV=_r(),MV=wV(function(e,r){return TV(e,qV(r))});ow.exports=MV});var Nd=v((Pfe,cw)=\u003e{var SV=re(),PV=Jt(),OV=gv(),CV=uw(),AV=_r(),RV=SV(PV([\"fantasy-land/chain\",\"chain\"],CV,function(e,r){return typeof r==\"function\"?function(i){return e(r(i))(i)}:OV(!1)(AV(e,r))}));cw.exports=RV});var hw=v((Ofe,lw)=\u003e{var EV=Ke(),jV=EV(function(e,r,i){if(e\u003er)throw new Error(\"min must not be greater than max in clamp(min, max, value)\");return i\u003ce?e:i\u003er?r:i});lw.exports=jV});var yv=v((Cfe,dw)=\u003e{function DV(n){return new RegExp(n.source,(n.global?\"g\":\"\")+(n.ignoreCase?\"i\":\"\")+(n.multiline?\"m\":\"\")+(n.sticky?\"y\":\"\")+(n.unicode?\"u\":\"\"))}dw.exports=DV});var wd=v((Afe,pw)=\u003e{var IV=We(),FV=IV(function(e){return e===null?\"Null\":e===void 0?\"Undefined\":Object.prototype.toString.call(e).slice(8,-1)});pw.exports=FV});var qd=v((Rfe,mw)=\u003e{var VV=yv(),LV=wd();function fw(n,e,r,i){var o=function(d){for(var p=e.length,g=0;g\u003cp;){if(n===e[g])return r[g];g+=1}e[g+1]=n,r[g+1]=d;for(var _ in n)d[_]=i?fw(n[_],e,r,!0):n[_];return d};switch(LV(n)){case\"Object\":return o({});case\"Array\":return o([]);case\"Date\":return new Date(n.valueOf());case\"RegExp\":return VV(n);default:return n}}mw.exports=fw});var gw=v((Efe,vw)=\u003e{var WV=qd(),BV=We(),zV=BV(function(e){return e!=null\u0026\u0026typeof e.clone==\"function\"?e.clone():WV(e,[],[],!0)});vw.exports=zV});var _w=v((jfe,yw)=\u003e{var GV=We(),UV=GV(function(e){return function(r,i){return e(r,i)?-1:e(i,r)?1:0}});yw.exports=UV});var _v=v((Dfe,bw)=\u003e{var $V=We(),HV=$V(function(e){return!e});bw.exports=HV});var bv=v((Ife,xw)=\u003e{var YV=lc(),XV=_v(),ZV=YV(XV);xw.exports=ZV});var Nw=v((Ffe,kw)=\u003e{function KV(n,e){return function(){return e.call(this,n.apply(this,arguments))}}kw.exports=KV});var Vo=v((Vfe,ww)=\u003e{var QV=ya();function JV(n,e){return function(){var r=arguments.length;if(r===0)return e();var i=arguments[r-1];return QV(i)||typeof i[n]!=\"function\"?e.apply(this,arguments):i[n].apply(i,Array.prototype.slice.call(arguments,0,r-1))}}ww.exports=JV});var Dr=v((Lfe,qw)=\u003e{var eL=Vo(),tL=Ke(),nL=tL(eL(\"slice\",function(e,r,i){return Array.prototype.slice.call(i,e,r)}));qw.exports=nL});var Lo=v((Wfe,Tw)=\u003e{var rL=Vo(),aL=We(),iL=Dr(),sL=aL(rL(\"tail\",iL(1,1/0)));Tw.exports=sL});var hc=v((Bfe,Mw)=\u003e{var oL=Er(),uL=Nw(),cL=Qr(),lL=Lo();function hL(){if(arguments.length===0)throw new Error(\"pipe requires at least one argument\");return oL(arguments[0].length,cL(uL,arguments[0],lL(arguments)))}Mw.exports=hL});var Wo=v((zfe,Sw)=\u003e{var dL=We(),pL=Eo(),fL=dL(function(e){return pL(e)?e.split(\"\").reverse().join(\"\"):Array.prototype.slice.call(e,0).reverse()});Sw.exports=fL});var Td=v((Gfe,Pw)=\u003e{var mL=hc(),vL=Wo();function gL(){if(arguments.length===0)throw new Error(\"compose requires at least one argument\");return mL.apply(this,vL(arguments))}Pw.exports=gL});var xv=v((Ufe,Cw)=\u003e{var yL=Nd(),Ow=Td(),_L=_r();function bL(){if(arguments.length===0)throw new Error(\"composeK requires at least one argument\");var n=Array.prototype.slice.call(arguments),e=n.pop();return Ow(Ow.apply(this,_L(yL,n)),e)}Cw.exports=bL});var Rw=v(($fe,Aw)=\u003e{function xL(n,e){return function(){var r=this;return n.apply(r,arguments).then(function(i){return e.call(r,i)})}}Aw.exports=xL});var kv=v((Hfe,Ew)=\u003e{var kL=Er(),NL=Rw(),wL=Qr(),qL=Lo();function TL(){if(arguments.length===0)throw new Error(\"pipeP requires at least one argument\");return kL(arguments[0].length,wL(NL,arguments[0],qL(arguments)))}Ew.exports=TL});var Dw=v((Yfe,jw)=\u003e{var ML=kv(),SL=Wo();function PL(){if(arguments.length===0)throw new Error(\"composeP requires at least one argument\");return ML.apply(this,SL(arguments))}jw.exports=PL});var Md=v((Xfe,Iw)=\u003e{var OL=fs(),CL=OL(0);Iw.exports=CL});var Sd=v((Zfe,Fw)=\u003e{function AL(n){return n}Fw.exports=AL});var Bo=v((Kfe,Vw)=\u003e{var RL=We(),EL=Sd(),jL=RL(EL);Vw.exports=jL});var Nv=v((Qfe,Lw)=\u003e{var DL=Er(),IL=re(),FL=Md(),VL=er(),LL=Lo(),WL=Bo(),BL=IL(function(e,r){if(r.length\u003c=0)return WL;var i=FL(r),o=LL(r);return DL(i.length,function(){return VL(function(c,d){return e.call(this,d,c)},i.apply(this,arguments),o)})});Lw.exports=BL});var Bw=v((Jfe,Ww)=\u003e{var zL=re(),GL=Nv(),UL=Wo(),$L=zL(function(e,r){return GL.apply(this,[e,UL(r)])});Ww.exports=$L});var Gw=v((eme,zw)=\u003e{function HL(n){for(var e=[],r;!(r=n.next()).done;)e.push(r.value);return e}zw.exports=HL});var dc=v((tme,Uw)=\u003e{function YL(n,e,r){for(var i=0,o=r.length;i\u003co;){if(n(e,r[i]))return!0;i+=1}return!1}Uw.exports=YL});var Hw=v((nme,$w)=\u003e{function XL(n){var e=String(n).match(/^function (\\w*)/);return e==null?\"\":e[1]}$w.exports=XL});var wv=v((rme,Yw)=\u003e{function ZL(n,e){return n===e?n!==0||1/n==1/e:n!==n\u0026\u0026e!==e}Yw.exports=typeof Object.is==\"function\"?Object.is:ZL});var tq=v((ame,eq)=\u003e{var Xw=Gw(),Zw=dc(),KL=Hw(),QL=tr(),qv=wv(),Kw=jr(),Qw=wd();function Jw(n,e,r,i){var o=Xw(n),c=Xw(e);function d(p,g){return Tv(p,g,r.slice(),i.slice())}return!Zw(function(p,g){return!Zw(d,g,p)},c,o)}function Tv(n,e,r,i){if(qv(n,e))return!0;var o=Qw(n);if(o!==Qw(e)||n==null||e==null)return!1;if(typeof n[\"fantasy-land/equals\"]==\"function\"||typeof e[\"fantasy-land/equals\"]==\"function\")return typeof n[\"fantasy-land/equals\"]==\"function\"\u0026\u0026n[\"fantasy-land/equals\"](e)\u0026\u0026typeof e[\"fantasy-land/equals\"]==\"function\"\u0026\u0026e[\"fantasy-land/equals\"](n);if(typeof n.equals==\"function\"||typeof e.equals==\"function\")return typeof n.equals==\"function\"\u0026\u0026n.equals(e)\u0026\u0026typeof e.equals==\"function\"\u0026\u0026e.equals(n);switch(o){case\"Arguments\":case\"Array\":case\"Object\":if(typeof n.constructor==\"function\"\u0026\u0026KL(n.constructor)===\"Promise\")return n===e;break;case\"Boolean\":case\"Number\":case\"String\":if(!(typeof n==typeof e\u0026\u0026qv(n.valueOf(),e.valueOf())))return!1;break;case\"Date\":if(!qv(n.valueOf(),e.valueOf()))return!1;break;case\"Error\":return n.name===e.name\u0026\u0026n.message===e.message;case\"RegExp\":if(!(n.source===e.source\u0026\u0026n.global===e.global\u0026\u0026n.ignoreCase===e.ignoreCase\u0026\u0026n.multiline===e.multiline\u0026\u0026n.sticky===e.sticky\u0026\u0026n.unicode===e.unicode))return!1;break}for(var c=r.length-1;c\u003e=0;){if(r[c]===n)return i[c]===e;c-=1}switch(o){case\"Map\":return n.size!==e.size?!1:Jw(n.entries(),e.entries(),r.concat([n]),i.concat([e]));case\"Set\":return n.size!==e.size?!1:Jw(n.values(),e.values(),r.concat([n]),i.concat([e]));case\"Arguments\":case\"Array\":case\"Object\":case\"Boolean\":case\"Number\":case\"String\":case\"Date\":case\"Error\":case\"RegExp\":case\"Int8Array\":case\"Uint8Array\":case\"Uint8ClampedArray\":case\"Int16Array\":case\"Uint16Array\":case\"Int32Array\":case\"Uint32Array\":case\"Float32Array\":case\"Float64Array\":case\"ArrayBuffer\":break;default:return!1}var d=Kw(n);if(d.length!==Kw(e).length)return!1;var p=r.concat([n]),g=i.concat([e]);for(c=d.length-1;c\u003e=0;){var _=d[c];if(!(QL(_,e)\u0026\u0026Tv(e[_],n[_],p,g)))return!1;c-=1}return!0}eq.exports=Tv});var nr=v((ime,nq)=\u003e{var JL=re(),eW=tq(),tW=JL(function(e,r){return eW(e,r,[],[])});nq.exports=tW});var Mv=v((sme,rq)=\u003e{var nW=nr();function rW(n,e,r){var i,o;if(typeof n.indexOf==\"function\")switch(typeof e){case\"number\":if(e===0){for(i=1/e;r\u003cn.length;){if(o=n[r],o===0\u0026\u00261/o===i)return r;r+=1}return-1}else if(e!==e){for(;r\u003cn.length;){if(o=n[r],typeof o==\"number\"\u0026\u0026o!==o)return r;r+=1}return-1}return n.indexOf(e,r);case\"string\":case\"boolean\":case\"function\":case\"undefined\":return n.indexOf(e,r);case\"object\":if(e===null)return n.indexOf(e,r)}for(;r\u003cn.length;){if(nW(n[r],e))return r;r+=1}return-1}rq.exports=rW});var ms=v((ome,aq)=\u003e{var aW=Mv();function iW(n,e){return aW(e,n,0)\u003e=0}aq.exports=iW});var sq=v((ume,iq)=\u003e{function sW(n){var e=n.replace(/\\\\/g,\"\\\\\\\\\").replace(/[\\b]/g,\"\\\\b\").replace(/\\f/g,\"\\\\f\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\t/g,\"\\\\t\").replace(/\\v/g,\"\\\\v\").replace(/\\0/g,\"\\\\0\");return'\"'+e.replace(/\"/g,'\\\\\"')+'\"'}iq.exports=sW});var uq=v((cme,oq)=\u003e{var pc=function(e){return(e\u003c10?\"0\":\"\")+e},oW=typeof Date.prototype.toISOString==\"function\"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+\"-\"+pc(e.getUTCMonth()+1)+\"-\"+pc(e.getUTCDate())+\"T\"+pc(e.getUTCHours())+\":\"+pc(e.getUTCMinutes())+\":\"+pc(e.getUTCSeconds())+\".\"+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+\"Z\"};oq.exports=oW});var Sv=v((lme,cq)=\u003e{function uW(n){return function(){return!n.apply(this,arguments)}}cq.exports=uW});var Pd=v((hme,lq)=\u003e{function cW(n,e){for(var r=0,i=e.length,o=[];r\u003ci;)n(e[r])\u0026\u0026(o[o.length]=e[r]),r+=1;return o}lq.exports=cW});var Od=v((dme,hq)=\u003e{function lW(n){return Object.prototype.toString.call(n)===\"[object Object]\"}hq.exports=lW});var fq=v((pme,pq)=\u003e{var hW=re(),dq=rn(),dW=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=dq.init,n.prototype[\"@@transducer/result\"]=dq.result,n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)?this.xf[\"@@transducer/step\"](e,r):e},n}(),pW=hW(function(e,r){return new dW(e,r)});pq.exports=pW});var Cd=v((fme,mq)=\u003e{var fW=re(),mW=Jt(),vW=Pd(),gW=Od(),yW=er(),_W=fq(),bW=jr(),xW=fW(mW([\"filter\"],_W,function(n,e){return gW(e)?yW(function(r,i){return n(e[i])\u0026\u0026(r[i]=e[i]),r},{},bW(e)):vW(n,e)}));mq.exports=xW});var fc=v((mme,vq)=\u003e{var kW=Sv(),NW=re(),wW=Cd(),qW=NW(function(e,r){return wW(kW(e),r)});vq.exports=qW});var Cv=v((vme,_q)=\u003e{var TW=ms(),Pv=ic(),Ov=sq(),MW=uq(),gq=jr(),SW=fc();function yq(n,e){var r=function(d){var p=e.concat([n]);return TW(d,p)?\"\u003cCircular\u003e\":yq(d,p)},i=function(c,d){return Pv(function(p){return Ov(p)+\": \"+r(c[p])},d.slice().sort())};switch(Object.prototype.toString.call(n)){case\"[object Arguments]\":return\"(function() { return arguments; }(\"+Pv(r,n).join(\", \")+\"))\";case\"[object Array]\":return\"[\"+Pv(r,n).concat(i(n,SW(function(c){return/^\\d+$/.test(c)},gq(n)))).join(\", \")+\"]\";case\"[object Boolean]\":return typeof n==\"object\"?\"new Boolean(\"+r(n.valueOf())+\")\":n.toString();case\"[object Date]\":return\"new Date(\"+(isNaN(n.valueOf())?r(NaN):Ov(MW(n)))+\")\";case\"[object Null]\":return\"null\";case\"[object Number]\":return typeof n==\"object\"?\"new Number(\"+r(n.valueOf())+\")\":1/n==-1/0?\"-0\":n.toString(10);case\"[object String]\":return typeof n==\"object\"?\"new String(\"+r(n.valueOf())+\")\":Ov(n);case\"[object Undefined]\":return\"undefined\";default:if(typeof n.toString==\"function\"){var o=n.toString();if(o!==\"[object Object]\")return o}return\"{\"+i(n,gq(n)).join(\", \")+\"}\"}}_q.exports=yq});var mc=v((gme,bq)=\u003e{var PW=We(),OW=Cv(),CW=PW(function(e){return OW(e,[])});bq.exports=CW});var Ad=v((yme,wq)=\u003e{var AW=re(),xq=ya(),kq=Fo(),Nq=Eo(),Av=mc(),RW=AW(function(e,r){if(xq(e)){if(xq(r))return e.concat(r);throw new TypeError(Av(r)+\" is not an array\")}if(Nq(e)){if(Nq(r))return e+r;throw new TypeError(Av(r)+\" is not a string\")}if(e!=null\u0026\u0026kq(e[\"fantasy-land/concat\"]))return e[\"fantasy-land/concat\"](r);if(e!=null\u0026\u0026kq(e.concat))return e.concat(r);throw new TypeError(Av(e)+' does not have a method named \"concat\" or \"fantasy-land/concat\"')});wq.exports=RW});var Rv=v((_me,qq)=\u003e{var EW=Er(),jW=We(),DW=_r(),IW=ps(),FW=Qr(),VW=jW(function(e){var r=FW(IW,0,DW(function(i){return i[0].length},e));return EW(r,function(){for(var i=0;i\u003ce.length;){if(e[i][0].apply(this,arguments))return e[i][1].apply(this,arguments);i+=1}})});qq.exports=VW});var Ev=v((bme,Tq)=\u003e{var LW=re(),WW=Oi(),BW=cc(),zW=LW(function(e,r){if(e\u003e10)throw new Error(\"Constructor with greater than ten arguments\");return e===0?function(){return new r}:WW(BW(e,function(i,o,c,d,p,g,_,k,x,q){switch(arguments.length){case 1:return new r(i);case 2:return new r(i,o);case 3:return new r(i,o,c);case 4:return new r(i,o,c,d);case 5:return new r(i,o,c,d,p);case 6:return new r(i,o,c,d,p,g);case 7:return new r(i,o,c,d,p,g,_);case 8:return new r(i,o,c,d,p,g,_,k);case 9:return new r(i,o,c,d,p,g,_,k,x);case 10:return new r(i,o,c,d,p,g,_,k,x,q)}}))});Tq.exports=zW});var Sq=v((xme,Mq)=\u003e{var GW=We(),UW=Ev(),$W=GW(function(e){return UW(e.length,e)});Mq.exports=$W});var Oq=v((kme,Pq)=\u003e{var HW=ms(),YW=re(),XW=YW(HW);Pq.exports=XW});var Rd=v((Nme,Cq)=\u003e{var ZW=re(),KW=ic(),QW=_n(),JW=ps(),eB=jo(),tB=Qr(),nB=ZW(function(e,r){return QW(tB(JW,0,eB(\"length\",r)),function(){var i=arguments,o=this;return e.apply(o,KW(function(c){return c.apply(o,i)},r))})});Cq.exports=nB});var Rq=v((wme,Aq)=\u003e{var rB=ac(),aB=tr(),iB=rn(),sB=function(){function n(e,r,i,o){this.valueFn=e,this.valueAcc=r,this.keyFn=i,this.xf=o,this.inputs={}}return n.prototype[\"@@transducer/init\"]=iB.init,n.prototype[\"@@transducer/result\"]=function(e){var r;for(r in this.inputs)if(aB(r,this.inputs)\u0026\u0026(e=this.xf[\"@@transducer/step\"](e,this.inputs[r]),e[\"@@transducer/reduced\"])){e=e[\"@@transducer/value\"];break}return this.inputs=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){var i=this.keyFn(r);return this.inputs[i]=this.inputs[i]||[i,this.valueAcc],this.inputs[i][1]=this.valueFn(this.inputs[i][1],r),e},n}(),oB=rB(4,[],function(e,r,i,o){return new sB(e,r,i,o)});Aq.exports=oB});var vc=v((qme,Eq)=\u003e{var uB=qd(),cB=ac(),lB=Jt(),hB=tr(),dB=er(),pB=Rq(),fB=cB(4,[],lB([],pB,function(e,r,i,o){return dB(function(c,d){var p=i(d);return c[p]=e(hB(p,c)?c[p]:uB(r,[],[],!1),d),c},{},o)}));Eq.exports=fB});var Dq=v((Tme,jq)=\u003e{var mB=vc(),vB=mB(function(n,e){return n+1},0);jq.exports=vB});var Fq=v((Mme,Iq)=\u003e{var gB=rc(),yB=gB(-1);Iq.exports=yB});var jv=v((Sme,Vq)=\u003e{var _B=re(),bB=_B(function(e,r){return r==null||r!==r?e:r});Vq.exports=bB});var Wq=v((Pme,Lq)=\u003e{var xB=Ke(),kB=xB(function(e,r,i){var o=e(r),c=e(i);return o\u003ec?-1:o\u003cc?1:0});Lq.exports=kB});var Dv=v((Ome,Gq)=\u003e{var Bq=ms(),NB=function(){function n(){this._nativeSet=typeof Set==\"function\"?new Set:null,this._items={}}return n.prototype.add=function(e){return!zq(e,!0,this)},n.prototype.has=function(e){return zq(e,!1,this)},n}();function zq(n,e,r){var i=typeof n,o,c;switch(i){case\"string\":case\"number\":return n===0\u0026\u00261/n==-1/0?r._items[\"-0\"]?!0:(e\u0026\u0026(r._items[\"-0\"]=!0),!1):r._nativeSet!==null?e?(o=r._nativeSet.size,r._nativeSet.add(n),c=r._nativeSet.size,c===o):r._nativeSet.has(n):i in r._items?n in r._items[i]?!0:(e\u0026\u0026(r._items[i][n]=!0),!1):(e\u0026\u0026(r._items[i]={},r._items[i][n]=!0),!1);case\"boolean\":if(i in r._items){var d=n?1:0;return r._items[i][d]?!0:(e\u0026\u0026(r._items[i][d]=!0),!1)}else return e\u0026\u0026(r._items[i]=n?[!1,!0]:[!0,!1]),!1;case\"function\":return r._nativeSet!==null?e?(o=r._nativeSet.size,r._nativeSet.add(n),c=r._nativeSet.size,c===o):r._nativeSet.has(n):i in r._items?Bq(n,r._items[i])?!0:(e\u0026\u0026r._items[i].push(n),!1):(e\u0026\u0026(r._items[i]=[n]),!1);case\"undefined\":return r._items[i]?!0:(e\u0026\u0026(r._items[i]=!0),!1);case\"object\":if(n===null)return r._items.null?!0:(e\u0026\u0026(r._items.null=!0),!1);default:return i=Object.prototype.toString.call(n),i in r._items?Bq(n,r._items[i])?!0:(e\u0026\u0026r._items[i].push(n),!1):(e\u0026\u0026(r._items[i]=[n]),!1)}}Gq.exports=NB});var Iv=v((Cme,Uq)=\u003e{var wB=re(),qB=Dv(),TB=wB(function(e,r){for(var i=[],o=0,c=e.length,d=r.length,p=new qB,g=0;g\u003cd;g+=1)p.add(r[g]);for(;o\u003cc;)p.add(e[o])\u0026\u0026(i[i.length]=e[o]),o+=1;return i});Uq.exports=TB});var Fv=v((Ame,Hq)=\u003e{var $q=dc(),MB=Ke(),SB=MB(function(e,r,i){for(var o=[],c=0,d=r.length;c\u003cd;)!$q(e,r[c],i)\u0026\u0026!$q(e,r[c],o)\u0026\u0026o.push(r[c]),c+=1;return o});Hq.exports=SB});var Vv=v((Rme,Yq)=\u003e{var PB=re(),OB=PB(function(e,r){var i={};for(var o in r)i[o]=r[o];return delete i[e],i});Yq.exports=OB});var Lv=v((Eme,Xq)=\u003e{var CB=Ke(),AB=CB(function(e,r,i){var o=Array.prototype.slice.call(i,0);return o.splice(e,r),o});Xq.exports=AB});var Ed=v((jme,Zq)=\u003e{var RB=Ke(),EB=iv(),jB=Do(),DB=RB(function(e,r,i){return EB(e,jB(r),i)});Zq.exports=DB});var e2=v((Dme,Jq)=\u003e{var IB=re(),Kq=oc(),Qq=ya(),FB=Io(),VB=Vv(),LB=Lv(),WB=Ed(),BB=IB(function n(e,r){switch(e.length){case 0:return r;case 1:return Kq(e[0])\u0026\u0026Qq(r)?LB(e[0],1,r):VB(e[0],r);default:var i=e[0],o=Array.prototype.slice.call(e,1);return r[i]==null?r:Kq(i)\u0026\u0026Qq(r)?WB(i,n(o,r[i]),r):FB(i,n(o,r[i]),r)}});Jq.exports=BB});var n2=v((Ime,t2)=\u003e{var zB=re(),GB=zB(function(e,r){return e/r});t2.exports=GB});var i2=v((Fme,a2)=\u003e{var UB=re(),r2=rn(),$B=function(){function n(e,r){this.xf=r,this.n=e}return n.prototype[\"@@transducer/init\"]=r2.init,n.prototype[\"@@transducer/result\"]=r2.result,n.prototype[\"@@transducer/step\"]=function(e,r){return this.n\u003e0?(this.n-=1,e):this.xf[\"@@transducer/step\"](e,r)},n}(),HB=UB(function(e,r){return new $B(e,r)});a2.exports=HB});var Wv=v((Vme,s2)=\u003e{var YB=re(),XB=Jt(),ZB=i2(),KB=Dr(),QB=YB(XB([\"drop\"],ZB,function(e,r){return KB(Math.max(0,e),1/0,r)}));s2.exports=QB});var c2=v((Lme,u2)=\u003e{var JB=re(),ez=$a(),o2=rn(),tz=function(){function n(e,r){this.xf=r,this.n=e,this.i=0}return n.prototype[\"@@transducer/init\"]=o2.init,n.prototype[\"@@transducer/result\"]=o2.result,n.prototype[\"@@transducer/step\"]=function(e,r){this.i+=1;var i=this.n===0?e:this.xf[\"@@transducer/step\"](e,r);return this.n\u003e=0\u0026\u0026this.i\u003e=this.n?ez(i):i},n}(),nz=JB(function(e,r){return new tz(e,r)});u2.exports=nz});var jd=v((Wme,l2)=\u003e{var rz=re(),az=Jt(),iz=c2(),sz=Dr(),oz=rz(az([\"take\"],iz,function(e,r){return sz(0,e\u003c0?1/0:e,r)}));l2.exports=oz});var d2=v((Bme,h2)=\u003e{var uz=jd();function cz(n,e){return uz(n\u003ce.length?e.length-n:0,e)}h2.exports=cz});var f2=v((zme,p2)=\u003e{var lz=re(),hz=rn(),dz=function(){function n(e,r){this.xf=r,this.pos=0,this.full=!1,this.acc=new Array(e)}return n.prototype[\"@@transducer/init\"]=hz.init,n.prototype[\"@@transducer/result\"]=function(e){return this.acc=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.full\u0026\u0026(e=this.xf[\"@@transducer/step\"](e,this.acc[this.pos])),this.store(r),e},n.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length\u0026\u0026(this.pos=0,this.full=!0)},n}(),pz=lz(function(e,r){return new dz(e,r)});p2.exports=pz});var v2=v((Gme,m2)=\u003e{var fz=re(),mz=Jt(),vz=d2(),gz=f2(),yz=fz(mz([],gz,vz));m2.exports=yz});var y2=v((Ume,g2)=\u003e{var _z=Dr();function bz(n,e){for(var r=e.length-1;r\u003e=0\u0026\u0026n(e[r]);)r-=1;return _z(0,r+1,e)}g2.exports=bz});var b2=v(($me,_2)=\u003e{var xz=re(),kz=er(),Nz=rn(),wz=function(){function n(e,r){this.f=e,this.retained=[],this.xf=r}return n.prototype[\"@@transducer/init\"]=Nz.init,n.prototype[\"@@transducer/result\"]=function(e){return this.retained=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)?this.retain(e,r):this.flush(e,r)},n.prototype.flush=function(e,r){return e=kz(this.xf[\"@@transducer/step\"],e,this.retained),this.retained=[],this.xf[\"@@transducer/step\"](e,r)},n.prototype.retain=function(e,r){return this.retained.push(r),e},n}(),qz=xz(function(e,r){return new wz(e,r)});_2.exports=qz});var k2=v((Hme,x2)=\u003e{var Tz=re(),Mz=Jt(),Sz=y2(),Pz=b2(),Oz=Tz(Mz([],Pz,Sz));x2.exports=Oz});var Bv=v((Yme,w2)=\u003e{var Cz=re(),N2=rn(),Az=function(){function n(e,r){this.xf=r,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return n.prototype[\"@@transducer/init\"]=N2.init,n.prototype[\"@@transducer/result\"]=N2.result,n.prototype[\"@@transducer/step\"]=function(e,r){var i=!1;return this.seenFirstValue?this.pred(this.lastValue,r)\u0026\u0026(i=!0):this.seenFirstValue=!0,this.lastValue=r,i?e:this.xf[\"@@transducer/step\"](e,r)},n}(),Rz=Cz(function(e,r){return new Az(e,r)});w2.exports=Rz});var Dd=v((Xme,q2)=\u003e{var Ez=fs(),jz=Ez(-1);q2.exports=jz});var zv=v((Zme,T2)=\u003e{var Dz=re(),Iz=Jt(),Fz=Bv(),Vz=Dd(),Lz=Dz(Iz([],Fz,function(e,r){var i=[],o=1,c=r.length;if(c!==0)for(i[0]=r[0];o\u003cc;)e(Vz(i),r[o])||(i[i.length]=r[o]),o+=1;return i}));T2.exports=Lz});var P2=v((Kme,S2)=\u003e{var Wz=We(),Bz=Jt(),zz=Bv(),Gz=zv(),M2=nr(),Uz=Wz(Bz([],zz(M2),Gz(M2)));S2.exports=Uz});var A2=v((Qme,C2)=\u003e{var $z=re(),O2=rn(),Hz=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=O2.init,n.prototype[\"@@transducer/result\"]=O2.result,n.prototype[\"@@transducer/step\"]=function(e,r){if(this.f){if(this.f(r))return e;this.f=null}return this.xf[\"@@transducer/step\"](e,r)},n}(),Yz=$z(function(e,r){return new Hz(e,r)});C2.exports=Yz});var E2=v((Jme,R2)=\u003e{var Xz=re(),Zz=Jt(),Kz=A2(),Qz=Dr(),Jz=Xz(Zz([\"dropWhile\"],Kz,function(e,r){for(var i=0,o=r.length;i\u003co\u0026\u0026e(r[i]);)i+=1;return Qz(i,1/0,r)}));R2.exports=Jz});var Id=v((eve,j2)=\u003e{var eG=re(),tG=eG(function(e,r){return e||r});j2.exports=tG});var Gv=v((tve,D2)=\u003e{var nG=re(),rG=Fo(),aG=lc(),iG=Id(),sG=nG(function(e,r){return rG(e)?function(){return e.apply(this,arguments)||r.apply(this,arguments)}:aG(iG)(e,r)});D2.exports=sG});var Uv=v((nve,I2)=\u003e{var oG=We(),uG=cv(),cG=ya(),lG=Od(),hG=Eo(),dG=oG(function(e){return e!=null\u0026\u0026typeof e[\"fantasy-land/empty\"]==\"function\"?e[\"fantasy-land/empty\"]():e!=null\u0026\u0026e.constructor!=null\u0026\u0026typeof e.constructor[\"fantasy-land/empty\"]==\"function\"?e.constructor[\"fantasy-land/empty\"]():e!=null\u0026\u0026typeof e.empty==\"function\"?e.empty():e!=null\u0026\u0026e.constructor!=null\u0026\u0026typeof e.constructor.empty==\"function\"?e.constructor.empty():cG(e)?[]:hG(e)?\"\":lG(e)?{}:uG(e)?function(){return arguments}():void 0});I2.exports=dG});var $v=v((rve,F2)=\u003e{var pG=re(),fG=Wv(),mG=pG(function(e,r){return fG(e\u003e=0?r.length-e:0,r)});F2.exports=mG});var L2=v((ave,V2)=\u003e{var vG=re(),gG=nr(),yG=$v(),_G=vG(function(n,e){return gG(yG(n.length,e),n)});V2.exports=_G});var B2=v((ive,W2)=\u003e{var bG=Ke(),xG=nr(),kG=bG(function(e,r,i){return xG(e(r),e(i))});W2.exports=kG});var G2=v((sve,z2)=\u003e{var NG=Ke(),wG=nr(),qG=NG(function(e,r,i){return wG(r[e],i[e])});z2.exports=qG});var $2=v((ove,U2)=\u003e{var TG=re(),MG=TG(function n(e,r){var i=r instanceof Array?[]:{},o,c,d;for(c in r)o=e[c],d=typeof o,i[c]=d===\"function\"?o(r[c]):o\u0026\u0026d===\"object\"?n(o,r[c]):r[c];return i});U2.exports=MG});var Y2=v((uve,H2)=\u003e{var SG=re(),PG=$a(),OG=rn(),CG=function(){function n(e,r){this.xf=r,this.f=e,this.found=!1}return n.prototype[\"@@transducer/init\"]=OG.init,n.prototype[\"@@transducer/result\"]=function(e){return this.found||(e=this.xf[\"@@transducer/step\"](e,void 0)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)\u0026\u0026(this.found=!0,e=PG(this.xf[\"@@transducer/step\"](e,r))),e},n}(),AG=SG(function(e,r){return new CG(e,r)});H2.exports=AG});var Z2=v((cve,X2)=\u003e{var RG=re(),EG=Jt(),jG=Y2(),DG=RG(EG([\"find\"],jG,function(e,r){for(var i=0,o=r.length;i\u003co;){if(e(r[i]))return r[i];i+=1}}));X2.exports=DG});var Q2=v((lve,K2)=\u003e{var IG=re(),FG=$a(),VG=rn(),LG=function(){function n(e,r){this.xf=r,this.f=e,this.idx=-1,this.found=!1}return n.prototype[\"@@transducer/init\"]=VG.init,n.prototype[\"@@transducer/result\"]=function(e){return this.found||(e=this.xf[\"@@transducer/step\"](e,-1)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.idx+=1,this.f(r)\u0026\u0026(this.found=!0,e=FG(this.xf[\"@@transducer/step\"](e,this.idx))),e},n}(),WG=IG(function(e,r){return new LG(e,r)});K2.exports=WG});var eT=v((hve,J2)=\u003e{var BG=re(),zG=Jt(),GG=Q2(),UG=BG(zG([],GG,function(e,r){for(var i=0,o=r.length;i\u003co;){if(e(r[i]))return i;i+=1}return-1}));J2.exports=UG});var nT=v((dve,tT)=\u003e{var $G=re(),HG=rn(),YG=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=HG.init,n.prototype[\"@@transducer/result\"]=function(e){return this.xf[\"@@transducer/result\"](this.xf[\"@@transducer/step\"](e,this.last))},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)\u0026\u0026(this.last=r),e},n}(),XG=$G(function(e,r){return new YG(e,r)});tT.exports=XG});var aT=v((pve,rT)=\u003e{var ZG=re(),KG=Jt(),QG=nT(),JG=ZG(KG([],QG,function(e,r){for(var i=r.length-1;i\u003e=0;){if(e(r[i]))return r[i];i-=1}}));rT.exports=JG});var sT=v((fve,iT)=\u003e{var eU=re(),tU=rn(),nU=function(){function n(e,r){this.xf=r,this.f=e,this.idx=-1,this.lastIdx=-1}return n.prototype[\"@@transducer/init\"]=tU.init,n.prototype[\"@@transducer/result\"]=function(e){return this.xf[\"@@transducer/result\"](this.xf[\"@@transducer/step\"](e,this.lastIdx))},n.prototype[\"@@transducer/step\"]=function(e,r){return this.idx+=1,this.f(r)\u0026\u0026(this.lastIdx=this.idx),e},n}(),rU=eU(function(e,r){return new nU(e,r)});iT.exports=rU});var uT=v((mve,oT)=\u003e{var aU=re(),iU=Jt(),sU=sT(),oU=aU(iU([],sU,function(e,r){for(var i=r.length-1;i\u003e=0;){if(e(r[i]))return i;i-=1}return-1}));oT.exports=oU});var lT=v((vve,cT)=\u003e{var uU=We(),cU=gv(),lU=uU(cU(!0));cT.exports=lU});var gc=v((gve,hT)=\u003e{var hU=We(),dU=_n(),pU=hU(function(e){return dU(e.length,function(r,i){var o=Array.prototype.slice.call(arguments,0);return o[0]=i,o[1]=r,e.apply(this,o)})});hT.exports=pU});var pT=v((yve,dT)=\u003e{var fU=Vo(),mU=re(),vU=mU(fU(\"forEach\",function(e,r){for(var i=r.length,o=0;o\u003ci;)e(r[o]),o+=1;return r}));dT.exports=vU});var mT=v((_ve,fT)=\u003e{var gU=re(),yU=jr(),_U=gU(function(e,r){for(var i=yU(r),o=0;o\u003ci.length;){var c=i[o];e(r[c],c,r),o+=1}return r});fT.exports=_U});var gT=v((bve,vT)=\u003e{var bU=We(),xU=bU(function(e){for(var r={},i=0;i\u003ce.length;)r[e[i][0]]=e[i][1],i+=1;return r});vT.exports=xU});var _T=v((xve,yT)=\u003e{var kU=Vo(),NU=re(),wU=vc(),qU=NU(kU(\"groupBy\",wU(function(n,e){return n==null\u0026\u0026(n=[]),n.push(e),n},null)));yT.exports=qU});var xT=v((kve,bT)=\u003e{var TU=re(),MU=TU(function(n,e){for(var r=[],i=0,o=e.length;i\u003co;){for(var c=i+1;c\u003co\u0026\u0026n(e[c-1],e[c]);)c+=1;r.push(e.slice(i,c)),i=c}return r});bT.exports=MU});var NT=v((Nve,kT)=\u003e{var SU=re(),PU=SU(function(e,r){return e\u003er});kT.exports=PU});var qT=v((wve,wT)=\u003e{var OU=re(),CU=OU(function(e,r){return e\u003e=r});wT.exports=CU});var Hv=v((qve,MT)=\u003e{var AU=re(),RU=tr(),TT=kd(),EU=AU(function(e,r){if(e.length===0||TT(r))return!1;for(var i=r,o=0;o\u003ce.length;)if(!TT(i)\u0026\u0026RU(e[o],i))i=i[e[o]],o+=1;else return!1;return!0});MT.exports=EU});var Yv=v((Tve,ST)=\u003e{var jU=re(),DU=Hv(),IU=jU(function(e,r){return DU([e],r)});ST.exports=IU});var OT=v((Mve,PT)=\u003e{var FU=re(),VU=FU(function(e,r){return e in r});PT.exports=VU});var AT=v((Sve,CT)=\u003e{var LU=wv(),WU=re(),BU=WU(LU);CT.exports=BU});var Xv=v((Pve,RT)=\u003e{var zU=Ke(),GU=_n(),UU=zU(function(e,r,i){return GU(Math.max(e.length,r.length,i.length),function(){return e.apply(this,arguments)?r.apply(this,arguments):i.apply(this,arguments)})});RT.exports=UU});var jT=v((Ove,ET)=\u003e{var $U=rc(),HU=$U(1);ET.exports=HU});var IT=v((Cve,DT)=\u003e{var YU=ms(),XU=re(),ZU=XU(YU);DT.exports=ZU});var VT=v((Ave,FT)=\u003e{var KU=vc(),QU=KU(function(n,e){return e},null);FT.exports=QU});var WT=v((Rve,LT)=\u003e{var JU=re(),e$=Mv(),t$=ya(),n$=JU(function(e,r){return typeof r.indexOf==\"function\"\u0026\u0026!t$(r)?r.indexOf(e):e$(r,e,0)});LT.exports=n$});var Zv=v((Eve,BT)=\u003e{var r$=Dr(),a$=r$(0,-1);BT.exports=a$});var GT=v((jve,zT)=\u003e{var i$=dc(),s$=Ke(),o$=Pd(),u$=s$(function(e,r,i){return o$(function(o){return i$(e,o,i)},r)});zT.exports=u$});var $T=v((Dve,UT)=\u003e{var c$=Ke(),l$=c$(function(e,r,i){e=e\u003ci.length\u0026\u0026e\u003e=0?e:i.length;var o=Array.prototype.slice.call(i,0);return o.splice(e,0,r),o});UT.exports=l$});var YT=v((Ive,HT)=\u003e{var h$=Ke(),d$=h$(function(e,r,i){return e=e\u003ci.length\u0026\u0026e\u003e=0?e:i.length,[].concat(Array.prototype.slice.call(i,0,e),r,Array.prototype.slice.call(i,e))});HT.exports=d$});var Kv=v((Fve,XT)=\u003e{var p$=Dv(),f$=re(),m$=f$(function(e,r){for(var i=new p$,o=[],c=0,d,p;c\u003cr.length;)p=r[c],d=e(p),i.add(d)\u0026\u0026o.push(p),c+=1;return o});XT.exports=m$});var Fd=v((Vve,ZT)=\u003e{var v$=Bo(),g$=Kv(),y$=g$(v$);ZT.exports=y$});var QT=v((Lve,KT)=\u003e{var _$=ms(),b$=re(),x$=Pd(),k$=gc(),N$=Fd(),w$=b$(function(e,r){var i,o;return e.length\u003er.length?(i=e,o=r):(i=r,o=e),N$(x$(k$(_$)(i),o))});KT.exports=w$});var eM=v((Wve,JT)=\u003e{var q$=Vo(),T$=re(),M$=T$(q$(\"intersperse\",function(e,r){for(var i=[],o=0,c=r.length;o\u003cc;)o===c-1?i.push(r[o]):i.push(r[o],e),o+=1;return i}));JT.exports=M$});var zo=v((Bve,tM)=\u003e{var S$=tr();function P$(n){if(n==null)throw new TypeError(\"Cannot convert undefined or null to object\");for(var e=Object(n),r=1,i=arguments.length;r\u003ci;){var o=arguments[r];if(o!=null)for(var c in o)S$(c,o)\u0026\u0026(e[c]=o[c]);r+=1}return e}tM.exports=typeof Object.assign==\"function\"?Object.assign:P$});var Qv=v((zve,nM)=\u003e{var O$=re(),C$=O$(function(e,r){var i={};return i[e]=r,i});nM.exports=C$});var iM=v((Gve,aM)=\u003e{var A$=zo(),Jv=Sd(),rM=sc(),R$=bd(),E$=Qv(),j$={\"@@transducer/init\":Array,\"@@transducer/step\":function(n,e){return n.push(e),n},\"@@transducer/result\":Jv},D$={\"@@transducer/init\":String,\"@@transducer/step\":function(n,e){return n+e},\"@@transducer/result\":Jv},I$={\"@@transducer/init\":Object,\"@@transducer/step\":function(n,e){return A$(n,rM(e)?E$(e[0],e[1]):e)},\"@@transducer/result\":Jv};function F$(n){if(R$(n))return n;if(rM(n))return j$;if(typeof n==\"string\")return D$;if(typeof n==\"object\")return I$;throw new Error(\"Cannot create transformer for \"+n)}aM.exports=F$});var uM=v((Uve,oM)=\u003e{var V$=qd(),L$=Ke(),W$=bd(),sM=er(),B$=iM(),z$=L$(function(e,r,i){return W$(e)?sM(r(e),e[\"@@transducer/init\"](),i):sM(r(B$(e)),V$(e,[],[],!1),i)});oM.exports=z$});var lM=v(($ve,cM)=\u003e{var G$=We(),U$=tr(),$$=jr(),H$=G$(function(e){for(var r=$$(e),i=r.length,o=0,c={};o\u003ci;){var d=r[o],p=e[d],g=U$(p,c)?c[p]:c[p]=[];g[g.length]=d,o+=1}return c});cM.exports=H$});var dM=v((Hve,hM)=\u003e{var Y$=We(),X$=jr(),Z$=Y$(function(e){for(var r=X$(e),i=r.length,o=0,c={};o\u003ci;){var d=r[o];c[e[d]]=d,o+=1}return c});hM.exports=Z$});var Go=v((Yve,pM)=\u003e{var K$=re(),Q$=Fo(),J$=_n(),eH=mc(),tH=K$(function(e,r){return J$(e+1,function(){var i=arguments[e];if(i!=null\u0026\u0026Q$(i[r]))return i[r].apply(i,Array.prototype.slice.call(arguments,0,e));throw new TypeError(eH(i)+' does not have a method named \"'+r+'\"')})});pM.exports=tH});var eg=v((Xve,fM)=\u003e{var nH=re(),rH=nH(function(e,r){return r!=null\u0026\u0026r.constructor===e||r instanceof e});fM.exports=rH});var vM=v((Zve,mM)=\u003e{var aH=We(),iH=Uv(),sH=nr(),oH=aH(function(e){return e!=null\u0026\u0026sH(e,iH(e))});mM.exports=oH});var yM=v((Kve,gM)=\u003e{var uH=Go(),cH=uH(1,\"join\");gM.exports=cH});var Vd=v((Qve,_M)=\u003e{var lH=We(),hH=Rd(),dH=lH(function(e){return hH(function(){return Array.prototype.slice.call(arguments,0)},e)});_M.exports=dH});var xM=v((Jve,bM)=\u003e{var pH=We(),fH=pH(function(e){var r,i=[];for(r in e)i[i.length]=r;return i});bM.exports=fH});var NM=v((ege,kM)=\u003e{var mH=re(),vH=ya(),gH=nr(),yH=mH(function(e,r){if(typeof r.lastIndexOf==\"function\"\u0026\u0026!vH(r))return r.lastIndexOf(e);for(var i=r.length-1;i\u003e=0;){if(gH(r[i],e))return i;i-=1}return-1});kM.exports=yH});var tg=v((tge,wM)=\u003e{function _H(n){return Object.prototype.toString.call(n)===\"[object Number]\"}wM.exports=_H});var ng=v((nge,qM)=\u003e{var bH=We(),xH=tg(),kH=bH(function(e){return e!=null\u0026\u0026xH(e.length)?e.length:NaN});qM.exports=kH});var yc=v((rge,TM)=\u003e{var NH=re(),wH=_r(),qH=NH(function(e,r){return function(i){return function(o){return wH(function(c){return r(c,o)},i(e(o)))}}});TM.exports=qH});var SM=v((age,MM)=\u003e{var TH=We(),MH=yc(),SH=fs(),PH=Ed(),OH=TH(function(e){return MH(SH(e),PH(e))});MM.exports=OH});var OM=v((ige,PM)=\u003e{var CH=We(),AH=fv(),RH=yc(),EH=Pi(),jH=CH(function(e){return RH(EH(e),AH(e))});PM.exports=jH});var AM=v((sge,CM)=\u003e{var DH=We(),IH=Io(),FH=yc(),VH=uc(),LH=DH(function(e){return FH(VH(e),IH(e))});CM.exports=LH});var EM=v((oge,RM)=\u003e{var WH=re(),BH=WH(function(e,r){return e\u003cr});RM.exports=BH});var DM=v((uge,jM)=\u003e{var zH=re(),GH=zH(function(e,r){return e\u003c=r});jM.exports=GH});var FM=v((cge,IM)=\u003e{var UH=Ke(),$H=UH(function(e,r,i){for(var o=0,c=i.length,d=[],p=[r];o\u003cc;)p=e(p[0],i[o]),d[o]=p[1],o+=1;return[p[0],d]});IM.exports=$H});var LM=v((lge,VM)=\u003e{var HH=Ke(),YH=HH(function(e,r,i){for(var o=i.length-1,c=[],d=[r];o\u003e=0;)d=e(d[0],i[o]),c[o]=d[1],o-=1;return[d[0],c]});VM.exports=YH});var BM=v((hge,WM)=\u003e{var XH=re(),ZH=er(),KH=jr(),QH=XH(function(e,r){return ZH(function(i,o){return i[o]=e(r[o],o,r),i},{},KH(r))});WM.exports=QH});var GM=v((dge,zM)=\u003e{var JH=re(),eY=JH(function(e,r){return r.match(e)||[]});zM.exports=eY});var HM=v((pge,$M)=\u003e{var tY=re(),UM=oc(),nY=tY(function(e,r){return UM(e)?!UM(r)||r\u003c1?NaN:(e%r+r)%r:NaN});$M.exports=nY});var XM=v((fge,YM)=\u003e{var rY=Ke(),aY=rY(function(e,r,i){return e(i)\u003ee(r)?i:r});YM.exports=aY});var rg=v((mge,ZM)=\u003e{var iY=rc(),sY=Qr(),oY=sY(iY,0);ZM.exports=oY});var ag=v((vge,KM)=\u003e{var uY=We(),cY=rg(),lY=uY(function(e){return cY(e)/e.length});KM.exports=lY});var JM=v((gge,QM)=\u003e{var hY=We(),dY=ag(),pY=hY(function(e){var r=e.length;if(r===0)return NaN;var i=2-r%2,o=(r-i)/2;return dY(Array.prototype.slice.call(e,0).sort(function(c,d){return c\u003cd?-1:c\u003ed?1:0}).slice(o,o+i))});QM.exports=pY});var tS=v((yge,eS)=\u003e{var fY=Er(),mY=re(),vY=tr(),gY=mY(function(e,r){var i={};return fY(r.length,function(){var o=e.apply(this,arguments);return vY(o,i)||(i[o]=r.apply(this,arguments)),i[o]})});eS.exports=gY});var ig=v((_ge,nS)=\u003e{var yY=zo(),_Y=re(),bY=_Y(function(e,r){return yY({},e,r)});nS.exports=bY});var aS=v((bge,rS)=\u003e{var xY=zo(),kY=We(),NY=kY(function(e){return xY.apply(null,[{}].concat(e))});rS.exports=NY});var Wd=v((xge,iS)=\u003e{var wY=Ke(),Ld=tr(),qY=wY(function(e,r,i){var o={},c;for(c in r)Ld(c,r)\u0026\u0026(o[c]=Ld(c,i)?e(c,r[c],i[c]):r[c]);for(c in i)Ld(c,i)\u0026\u0026!Ld(c,o)\u0026\u0026(o[c]=i[c]);return o});iS.exports=qY});var _c=v((kge,oS)=\u003e{var TY=Ke(),sS=Od(),MY=Wd(),SY=TY(function n(e,r,i){return MY(function(o,c,d){return sS(c)\u0026\u0026sS(d)?n(e,c,d):e(o,c,d)},r,i)});oS.exports=SY});var cS=v((Nge,uS)=\u003e{var PY=re(),OY=_c(),CY=PY(function(e,r){return OY(function(i,o,c){return o},e,r)});uS.exports=CY});var hS=v((wge,lS)=\u003e{var AY=re(),RY=_c(),EY=AY(function(e,r){return RY(function(i,o,c){return c},e,r)});lS.exports=EY});var pS=v((qge,dS)=\u003e{var jY=Ke(),DY=_c(),IY=jY(function(e,r,i){return DY(function(o,c,d){return e(c,d)},r,i)});dS.exports=IY});var mS=v((Tge,fS)=\u003e{var FY=zo(),VY=re(),LY=VY(function(e,r){return FY({},r,e)});fS.exports=LY});var gS=v((Mge,vS)=\u003e{var WY=zo(),BY=re(),zY=BY(function(e,r){return WY({},e,r)});vS.exports=zY});var _S=v((Sge,yS)=\u003e{var GY=Ke(),UY=Wd(),$Y=GY(function(e,r,i){return UY(function(o,c,d){return e(c,d)},r,i)});yS.exports=$Y});var xS=v((Pge,bS)=\u003e{var HY=re(),YY=HY(function(e,r){return r\u003ce?r:e});bS.exports=YY});var NS=v((Oge,kS)=\u003e{var XY=Ke(),ZY=XY(function(e,r,i){return e(i)\u003ce(r)?i:r});kS.exports=ZY});var qS=v((Cge,wS)=\u003e{var KY=re(),QY=KY(function(e,r){return e%r});wS.exports=QY});var MS=v((Age,TS)=\u003e{var JY=Ke(),eX=JY(function(n,e,r){var i=r.length,o=r.slice(),c=n\u003c0?i+n:n,d=e\u003c0?i+e:e,p=o.splice(c,1);return c\u003c0||c\u003e=r.length||d\u003c0||d\u003e=r.length?r:[].concat(o.slice(0,d)).concat(p).concat(o.slice(d,r.length))});TS.exports=eX});var sg=v((Rge,SS)=\u003e{var tX=re(),nX=tX(function(e,r){return e*r});SS.exports=nX});var OS=v((Ege,PS)=\u003e{var rX=We(),aX=rX(function(e){return-e});PS.exports=aX});var AS=v((jge,CS)=\u003e{var iX=Sv(),sX=re(),oX=sv(),uX=sX(function(e,r){return oX(iX(e),r)});CS.exports=uX});var ES=v((Dge,RS)=\u003e{var cX=We(),lX=_n(),hX=fs(),dX=cX(function(e){var r=e\u003c0?1:e+1;return lX(r,function(){return hX(e,arguments)})});RS.exports=dX});var DS=v((Ige,jS)=\u003e{var pX=Ke(),fX=pX(function(e,r,i){return e(r(i))});jS.exports=fX});var FS=v((Fge,IS)=\u003e{function mX(n){return[n]}IS.exports=mX});var og=v((Vge,VS)=\u003e{var vX=We(),gX=FS(),yX=vX(gX);VS.exports=yX});var WS=v((Lge,LS)=\u003e{var _X=re(),bX=_X(function(e,r){for(var i={},o={},c=0,d=e.length;c\u003cd;)o[e[c]]=1,c+=1;for(var p in r)o.hasOwnProperty(p)||(i[p]=r[p]);return i});LS.exports=bX});var zS=v((Wge,BS)=\u003e{var xX=Er(),kX=We(),NX=kX(function(e){var r=!1,i;return xX(e.length,function(){return r||(r=!0,i=e.apply(this,arguments)),i})});BS.exports=NX});var ug=v((Bge,GS)=\u003e{var wX=Fo(),qX=Cv();function TX(n,e){if(e==null||!wX(e.then))throw new TypeError(\"`\"+n+\"` expected a Promise, received \"+qX(e,[]))}GS.exports=TX});var $S=v((zge,US)=\u003e{var MX=re(),SX=ug(),PX=MX(function(e,r){return SX(\"otherwise\",r),r.then(null,e)});US.exports=PX});var cg=v((Gge,YS)=\u003e{var OX=Ke(),HS=function(n){return{value:n,map:function(e){return HS(e(n))}}},CX=OX(function(e,r,i){return e(function(o){return HS(r(o))})(i).value});YS.exports=CX});var ZS=v((Uge,XS)=\u003e{var AX=re(),RX=AX(function(e,r){return[e,r]});XS.exports=RX});var lg=v(($ge,KS)=\u003e{var EX=Er(),jX=re();function DX(n){return jX(function(e,r){return EX(Math.max(0,e.length-r.length),function(){return e.apply(this,n(r,arguments))})})}KS.exports=DX});var JS=v((Hge,QS)=\u003e{var IX=Rr(),FX=lg(),VX=FX(IX);QS.exports=VX});var tP=v((Yge,eP)=\u003e{var LX=Rr(),WX=lg(),BX=gc(),zX=WX(BX(LX));eP.exports=zX});var rP=v((Xge,nP)=\u003e{var GX=Cd(),UX=Vd(),$X=fc(),HX=UX([GX,$X]);nP.exports=HX});var iP=v((Zge,aP)=\u003e{var YX=Ke(),XX=nr(),ZX=Pi(),KX=YX(function(e,r,i){return XX(ZX(e,i),r)});aP.exports=KX});var hg=v((Kge,sP)=\u003e{var QX=Ke(),JX=jv(),eZ=Pi(),tZ=QX(function(e,r,i){return JX(e,eZ(r,i))});sP.exports=tZ});var uP=v((Qge,oP)=\u003e{var nZ=Ke(),rZ=Pi(),aZ=nZ(function(e,r,i){return e(rZ(r,i))});oP.exports=aZ});var lP=v((Jge,cP)=\u003e{var iZ=re(),sZ=iZ(function(e,r){for(var i={},o=0;o\u003ce.length;)e[o]in r\u0026\u0026(i[e[o]]=r[e[o]]),o+=1;return i});cP.exports=sZ});var dg=v((eye,hP)=\u003e{var oZ=re(),uZ=oZ(function(e,r){for(var i={},o=0,c=e.length;o\u003cc;){var d=e[o];i[d]=r[d],o+=1}return i});hP.exports=uZ});var pP=v((tye,dP)=\u003e{var cZ=re(),lZ=cZ(function(e,r){var i={};for(var o in r)e(r[o],o,r)\u0026\u0026(i[o]=r[o]);return i});dP.exports=lZ});var mP=v((nye,fP)=\u003e{var hZ=xv(),dZ=Wo();function pZ(){if(arguments.length===0)throw new Error(\"pipeK requires at least one argument\");return hZ.apply(this,dZ(arguments))}fP.exports=pZ});var pg=v((rye,vP)=\u003e{var fZ=Rr(),mZ=re(),vZ=mZ(function(e,r){return fZ([e],r)});vP.exports=vZ});var yP=v((aye,gP)=\u003e{var gZ=sg(),yZ=Qr(),_Z=yZ(gZ,1);gP.exports=_Z});var fg=v((iye,_P)=\u003e{var bZ=re(),xZ=_n(),kZ=bZ(function(e,r){return xZ(r.length,function(){for(var i=[],o=0;o\u003cr.length;)i.push(r[o].call(this,arguments[o])),o+=1;return e.apply(this,i.concat(Array.prototype.slice.call(arguments,r.length)))})});_P.exports=kZ});var xP=v((sye,bP)=\u003e{var NZ=ic(),wZ=Bo(),qZ=dg(),TZ=fg(),MZ=TZ(NZ,[qZ,wZ]);bP.exports=MZ});var NP=v((oye,kP)=\u003e{var SZ=Ke(),PZ=nr(),OZ=SZ(function(e,r,i){return PZ(r,i[e])});kP.exports=OZ});var qP=v((uye,wP)=\u003e{var CZ=Ke(),AZ=eg(),RZ=CZ(function(e,r,i){return AZ(e,i[r])});wP.exports=RZ});var MP=v((cye,TP)=\u003e{var EZ=Ke(),jZ=hg(),DZ=EZ(function(e,r,i){return jZ(e,[r],i)});TP.exports=DZ});var PP=v((lye,SP)=\u003e{var IZ=Ke(),FZ=IZ(function(e,r,i){return e(i[r])});SP.exports=FZ});var CP=v((hye,OP)=\u003e{var VZ=re(),LZ=Pi(),WZ=VZ(function(e,r){return e.map(function(i){return LZ([i],r)})});OP.exports=WZ});var EP=v((dye,RP)=\u003e{var BZ=re(),AP=tg(),zZ=BZ(function(e,r){if(!(AP(e)\u0026\u0026AP(r)))throw new TypeError(\"Both arguments to range must be numbers\");for(var i=[],o=e;o\u003cr;)i.push(o),o+=1;return i});RP.exports=zZ});var mg=v((pye,jP)=\u003e{var GZ=Ke(),UZ=GZ(function(e,r,i){for(var o=i.length-1;o\u003e=0;)r=e(i[o],r),o-=1;return r});jP.exports=UZ});var IP=v((fye,DP)=\u003e{var $Z=ac(),HZ=er(),YZ=$a(),XZ=$Z(4,[],function(e,r,i,o){return HZ(function(c,d){return e(c,d)?r(c,d):YZ(c)},i,o)});DP.exports=XZ});var VP=v((mye,FP)=\u003e{var ZZ=We(),KZ=$a(),QZ=ZZ(KZ);FP.exports=QZ});var vg=v((vye,LP)=\u003e{var JZ=re(),eK=JZ(function(e,r){var i=Number(r),o=0,c;if(i\u003c0||isNaN(i))throw new RangeError(\"n must be a non-negative number\");for(c=new Array(i);o\u003ci;)c[o]=e(o),o+=1;return c});LP.exports=eK});var BP=v((gye,WP)=\u003e{var tK=re(),nK=Do(),rK=vg(),aK=tK(function(e,r){return rK(nK(e),r)});WP.exports=aK});var GP=v((yye,zP)=\u003e{var iK=Ke(),sK=iK(function(e,r,i){return i.replace(e,r)});zP.exports=sK});var $P=v((_ye,UP)=\u003e{var oK=Ke(),uK=oK(function(e,r,i){for(var o=0,c=i.length,d=[r];o\u003cc;)r=e(r,i[o]),d[o+1]=r,o+=1;return d});UP.exports=uK});var gg=v((bye,HP)=\u003e{var cK=re(),lK=xd(),hK=_r(),dK=pg(),pK=mg(),fK=cK(function(e,r){return typeof r.sequence==\"function\"?r.sequence(e):pK(function(i,o){return lK(hK(dK,i),o)},e([]),r)});HP.exports=fK});var XP=v((xye,YP)=\u003e{var mK=Ke(),vK=Do(),gK=cg(),yK=mK(function(e,r,i){return gK(e,vK(r),i)});YP.exports=yK});var KP=v((kye,ZP)=\u003e{var _K=re(),bK=_K(function(e,r){return Array.prototype.slice.call(r,0).sort(e)});ZP.exports=bK});var JP=v((Nye,QP)=\u003e{var xK=re(),kK=xK(function(e,r){return Array.prototype.slice.call(r,0).sort(function(i,o){var c=e(i),d=e(o);return c\u003cd?-1:c\u003ed?1:0})});QP.exports=kK});var t7=v((wye,e7)=\u003e{var NK=re(),wK=NK(function(e,r){return Array.prototype.slice.call(r,0).sort(function(i,o){for(var c=0,d=0;c===0\u0026\u0026d\u003ce.length;)c=e[d](i,o),d+=1;return c})});e7.exports=wK});var r7=v((qye,n7)=\u003e{var qK=Go(),TK=qK(1,\"split\");n7.exports=TK});var s7=v((Tye,i7)=\u003e{var MK=re(),SK=ng(),a7=Dr(),PK=MK(function(e,r){return[a7(0,e,r),a7(e,SK(r),r)]});i7.exports=PK});var u7=v((Mye,o7)=\u003e{var OK=re(),CK=Dr(),AK=OK(function(e,r){if(e\u003c=0)throw new Error(\"First argument to splitEvery must be a positive integer\");for(var i=[],o=0;o\u003cr.length;)i.push(CK(o,o+=e,r));return i});o7.exports=AK});var l7=v((Sye,c7)=\u003e{var RK=re(),EK=RK(function(e,r){for(var i=0,o=r.length,c=[];i\u003co\u0026\u0026!e(r[i]);)c.push(r[i]),i+=1;return[c,Array.prototype.slice.call(r,i)]});c7.exports=EK});var d7=v((Pye,h7)=\u003e{var jK=re(),DK=nr(),IK=jd(),FK=jK(function(n,e){return DK(IK(n.length,e),n)});h7.exports=FK});var f7=v((Oye,p7)=\u003e{var VK=re(),LK=VK(function(e,r){return Number(e)-Number(r)});p7.exports=LK});var g7=v((Cye,v7)=\u003e{var WK=re(),BK=Ad(),m7=Iv(),zK=WK(function(e,r){return BK(m7(e,r),m7(r,e))});v7.exports=zK});var b7=v((Aye,_7)=\u003e{var GK=Ke(),UK=Ad(),y7=Fv(),$K=GK(function(e,r,i){return UK(y7(e,r,i),y7(e,i,r))});_7.exports=$K});var k7=v((Rye,x7)=\u003e{var HK=re(),YK=Dr(),XK=HK(function(e,r){for(var i=r.length-1;i\u003e=0\u0026\u0026e(r[i]);)i-=1;return YK(i+1,1/0,r)});x7.exports=XK});var q7=v((Eye,w7)=\u003e{var ZK=re(),KK=$a(),N7=rn(),QK=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=N7.init,n.prototype[\"@@transducer/result\"]=N7.result,n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)?this.xf[\"@@transducer/step\"](e,r):KK(e)},n}(),JK=ZK(function(e,r){return new QK(e,r)});w7.exports=JK});var M7=v((jye,T7)=\u003e{var eQ=re(),tQ=Jt(),nQ=q7(),rQ=Dr(),aQ=eQ(tQ([\"takeWhile\"],nQ,function(e,r){for(var i=0,o=r.length;i\u003co\u0026\u0026e(r[i]);)i+=1;return rQ(0,i,r)}));T7.exports=aQ});var O7=v((Dye,P7)=\u003e{var iQ=re(),S7=rn(),sQ=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=S7.init,n.prototype[\"@@transducer/result\"]=S7.result,n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r),this.xf[\"@@transducer/step\"](e,r)},n}(),oQ=iQ(function(e,r){return new sQ(e,r)});P7.exports=oQ});var A7=v((Iye,C7)=\u003e{var uQ=re(),cQ=Jt(),lQ=O7(),hQ=uQ(cQ([],lQ,function(e,r){return e(r),r}));C7.exports=hQ});var E7=v((Fye,R7)=\u003e{function dQ(n){return Object.prototype.toString.call(n)===\"[object RegExp]\"}R7.exports=dQ});var D7=v((Vye,j7)=\u003e{var pQ=yv(),fQ=re(),mQ=E7(),vQ=mc(),gQ=fQ(function(e,r){if(!mQ(e))throw new TypeError(\"\\u2018test\\u2019 requires a value of type RegExp as its first argument; received \"+vQ(e));return pQ(e).test(r)});j7.exports=gQ});var F7=v((Lye,I7)=\u003e{var yQ=re(),_Q=ug(),bQ=yQ(function(e,r){return _Q(\"andThen\",r),r.then(e)});I7.exports=bQ});var L7=v((Wye,V7)=\u003e{var xQ=Go(),kQ=xQ(0,\"toLowerCase\");V7.exports=kQ});var B7=v((Bye,W7)=\u003e{var NQ=We(),wQ=tr(),qQ=NQ(function(e){var r=[];for(var i in e)wQ(i,e)\u0026\u0026(r[r.length]=[i,e[i]]);return r});W7.exports=qQ});var G7=v((zye,z7)=\u003e{var TQ=We(),MQ=TQ(function(e){var r=[];for(var i in e)r[r.length]=[i,e[i]];return r});z7.exports=MQ});var $7=v((Gye,U7)=\u003e{var SQ=Go(),PQ=SQ(0,\"toUpperCase\");U7.exports=PQ});var Y7=v((Uye,H7)=\u003e{var OQ=er(),CQ=ov(),AQ=_n(),RQ=AQ(4,function(e,r,i,o){return OQ(e(typeof r==\"function\"?CQ(r):r),i,o)});H7.exports=RQ});var Z7=v(($ye,X7)=\u003e{var EQ=We(),jQ=EQ(function(e){for(var r=0,i=[];r\u003ce.length;){for(var o=e[r],c=0;c\u003co.length;)typeof i[c]==\"undefined\"\u0026\u0026(i[c]=[]),i[c].push(o[c]),c+=1;r+=1}return i});X7.exports=jQ});var Q7=v((Hye,K7)=\u003e{var DQ=Ke(),IQ=_r(),FQ=gg(),VQ=DQ(function(e,r,i){return typeof i[\"fantasy-land/traverse\"]==\"function\"?i[\"fantasy-land/traverse\"](r,e):FQ(e,IQ(r,i))});K7.exports=VQ});var tO=v((Yye,eO)=\u003e{var J7=We(),bc=`\t\n\\v\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF`,LQ=\"\\u200B\",WQ=typeof String.prototype.trim==\"function\",BQ=J7(!WQ||bc.trim()||!LQ.trim()?function(e){var r=new RegExp(\"^[\"+bc+\"][\"+bc+\"]*\"),i=new RegExp(\"[\"+bc+\"][\"+bc+\"]*$\");return e.replace(r,\"\").replace(i,\"\")}:function(e){return e.trim()});eO.exports=BQ});var rO=v((Xye,nO)=\u003e{var zQ=Er(),GQ=Rr(),UQ=re(),$Q=UQ(function(e,r){return zQ(e.length,function(){try{return e.apply(this,arguments)}catch(i){return r.apply(this,GQ([i],arguments))}})});nO.exports=$Q});var iO=v((Zye,aO)=\u003e{var HQ=We(),YQ=HQ(function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}});aO.exports=YQ});var oO=v((Kye,sO)=\u003e{var XQ=We(),ZQ=cc(),KQ=XQ(function(e){return ZQ(1,e)});sO.exports=KQ});var cO=v((Qye,uO)=\u003e{var QQ=re(),JQ=_n(),eJ=QQ(function(e,r){return JQ(e,function(){for(var i=1,o=r,c=0,d;i\u003c=e\u0026\u0026typeof o==\"function\";)d=i===e?arguments.length:c+o.length,o=o.apply(this,Array.prototype.slice.call(arguments,c,d)),i+=1,c=d;return o})});uO.exports=eJ});var hO=v((Jye,lO)=\u003e{var tJ=re(),nJ=tJ(function(e,r){for(var i=e(r),o=[];i\u0026\u0026i.length;)o[o.length]=i[0],i=e(i[1]);return o});lO.exports=nJ});var pO=v((e_e,dO)=\u003e{var rJ=Rr(),aJ=re(),iJ=Td(),sJ=Fd(),oJ=aJ(iJ(sJ,rJ));dO.exports=oJ});var yg=v((t_e,fO)=\u003e{var uJ=dc(),cJ=re(),lJ=cJ(function(e,r){for(var i=0,o=r.length,c=[],d;i\u003co;)d=r[i],uJ(e,d,c)||(c[c.length]=d),i+=1;return c});fO.exports=lJ});var vO=v((n_e,mO)=\u003e{var hJ=Rr(),dJ=Ke(),pJ=yg(),fJ=dJ(function(e,r,i){return pJ(e,hJ(r,i))});mO.exports=fJ});var _g=v((r_e,gO)=\u003e{var mJ=Ke(),vJ=mJ(function(e,r,i){return e(i)?i:r(i)});gO.exports=vJ});var bg=v((a_e,yO)=\u003e{var gJ=Sd(),yJ=Nd(),_J=yJ(gJ);yO.exports=_J});var Bd=v((i_e,_O)=\u003e{var bJ=Ke(),xJ=bJ(function(e,r,i){for(var o=i;!e(o);)o=r(o);return o});_O.exports=xJ});var xO=v((s_e,bO)=\u003e{var kJ=We(),NJ=kJ(function(e){var r,i=[];for(r in e)i[i.length]=e[r];return i});bO.exports=NJ});var NO=v((o_e,kO)=\u003e{var wJ=re(),qJ=function(n){return{value:n,\"fantasy-land/map\":function(){return this}}},TJ=wJ(function(e,r){return e(qJ)(r).value});kO.exports=TJ});var xg=v((u_e,wO)=\u003e{var MJ=Ke(),SJ=MJ(function(e,r,i){return e(i)?r(i):i});wO.exports=SJ});var kg=v((c_e,qO)=\u003e{var PJ=re(),OJ=tr(),CJ=PJ(function(e,r){for(var i in e)if(OJ(i,e)\u0026\u0026!e[i](r[i]))return!1;return!0});qO.exports=CJ});var MO=v((l_e,TO)=\u003e{var AJ=re(),RJ=nr(),EJ=_r(),jJ=kg(),DJ=AJ(function(e,r){return jJ(EJ(RJ,e),r)});TO.exports=DJ});var PO=v((h_e,SO)=\u003e{var IJ=ms(),FJ=re(),VJ=gc(),LJ=fc(),WJ=FJ(function(n,e){return LJ(VJ(IJ)(n),e)});SO.exports=WJ});var CO=v((d_e,OO)=\u003e{var BJ=re(),zJ=BJ(function(e,r){return Boolean(!e^!r)});OO.exports=zJ});var RO=v((p_e,AO)=\u003e{var GJ=re(),UJ=GJ(function(e,r){for(var i=0,o=e.length,c,d=r.length,p=[];i\u003co;){for(c=0;c\u003cd;)p[p.length]=[e[i],r[c]],c+=1;i+=1}return p});AO.exports=UJ});var jO=v((f_e,EO)=\u003e{var $J=re(),HJ=$J(function(e,r){for(var i=[],o=0,c=Math.min(e.length,r.length);o\u003cc;)i[o]=[e[o],r[o]],o+=1;return i});EO.exports=HJ});var IO=v((m_e,DO)=\u003e{var YJ=re(),XJ=YJ(function(e,r){for(var i=0,o=Math.min(e.length,r.length),c={};i\u003co;)c[e[i]]=r[i],i+=1;return c});DO.exports=XJ});var VO=v((v_e,FO)=\u003e{var ZJ=Ke(),KJ=ZJ(function(e,r,i){for(var o=[],c=0,d=Math.min(r.length,i.length);c\u003cd;)o[c]=e(r[c],i[c]),c+=1;return o});FO.exports=KJ});var WO=v((g_e,LO)=\u003e{var QJ=_n(),JJ=We(),eee=JJ(function(e){return QJ(e.length,function(){var i=arguments;return function(){return e.apply(this,i)}})});LO.exports=eee});var zd=v((y_e,C)=\u003e{C.exports={};C.exports.F=hk();C.exports.T=nv();C.exports.__=rv();C.exports.add=rc();C.exports.addIndex=qk();C.exports.adjust=iv();C.exports.all=sv();C.exports.allPass=dN();C.exports.always=Do();C.exports.and=hv();C.exports.any=yN();C.exports.anyPass=bN();C.exports.ap=xd();C.exports.aperture=MN();C.exports.append=PN();C.exports.apply=dv();C.exports.applySpec=EN();C.exports.applyTo=DN();C.exports.ascend=FN();C.exports.assoc=Io();C.exports.assocPath=fv();C.exports.binary=UN();C.exports.bind=uv();C.exports.both=KN();C.exports.call=vv();C.exports.chain=Nd();C.exports.clamp=hw();C.exports.clone=gw();C.exports.comparator=_w();C.exports.complement=bv();C.exports.compose=Td();C.exports.composeK=xv();C.exports.composeP=Dw();C.exports.composeWith=Bw();C.exports.concat=Ad();C.exports.cond=Rv();C.exports.construct=Sq();C.exports.constructN=Ev();C.exports.contains=Oq();C.exports.converge=Rd();C.exports.countBy=Dq();C.exports.curry=Oi();C.exports.curryN=_n();C.exports.dec=Fq();C.exports.defaultTo=jv();C.exports.descend=Wq();C.exports.difference=Iv();C.exports.differenceWith=Fv();C.exports.dissoc=Vv();C.exports.dissocPath=e2();C.exports.divide=n2();C.exports.drop=Wv();C.exports.dropLast=v2();C.exports.dropLastWhile=k2();C.exports.dropRepeats=P2();C.exports.dropRepeatsWith=zv();C.exports.dropWhile=E2();C.exports.either=Gv();C.exports.empty=Uv();C.exports.endsWith=L2();C.exports.eqBy=B2();C.exports.eqProps=G2();C.exports.equals=nr();C.exports.evolve=$2();C.exports.filter=Cd();C.exports.find=Z2();C.exports.findIndex=eT();C.exports.findLast=aT();C.exports.findLastIndex=uT();C.exports.flatten=lT();C.exports.flip=gc();C.exports.forEach=pT();C.exports.forEachObjIndexed=mT();C.exports.fromPairs=gT();C.exports.groupBy=_T();C.exports.groupWith=xT();C.exports.gt=NT();C.exports.gte=qT();C.exports.has=Yv();C.exports.hasIn=OT();C.exports.hasPath=Hv();C.exports.head=Md();C.exports.identical=AT();C.exports.identity=Bo();C.exports.ifElse=Xv();C.exports.inc=jT();C.exports.includes=IT();C.exports.indexBy=VT();C.exports.indexOf=WT();C.exports.init=Zv();C.exports.innerJoin=GT();C.exports.insert=$T();C.exports.insertAll=YT();C.exports.intersection=QT();C.exports.intersperse=eM();C.exports.into=uM();C.exports.invert=lM();C.exports.invertObj=dM();C.exports.invoker=Go();C.exports.is=eg();C.exports.isEmpty=vM();C.exports.isNil=kd();C.exports.join=yM();C.exports.juxt=Vd();C.exports.keys=jr();C.exports.keysIn=xM();C.exports.last=Dd();C.exports.lastIndexOf=NM();C.exports.length=ng();C.exports.lens=yc();C.exports.lensIndex=SM();C.exports.lensPath=OM();C.exports.lensProp=AM();C.exports.lift=lc();C.exports.liftN=mv();C.exports.lt=EM();C.exports.lte=DM();C.exports.map=_r();C.exports.mapAccum=FM();C.exports.mapAccumRight=LM();C.exports.mapObjIndexed=BM();C.exports.match=GM();C.exports.mathMod=HM();C.exports.max=ps();C.exports.maxBy=XM();C.exports.mean=ag();C.exports.median=JM();C.exports.memoizeWith=tS();C.exports.merge=ig();C.exports.mergeAll=aS();C.exports.mergeDeepLeft=cS();C.exports.mergeDeepRight=hS();C.exports.mergeDeepWith=pS();C.exports.mergeDeepWithKey=_c();C.exports.mergeLeft=mS();C.exports.mergeRight=gS();C.exports.mergeWith=_S();C.exports.mergeWithKey=Wd();C.exports.min=xS();C.exports.minBy=NS();C.exports.modulo=qS();C.exports.move=MS();C.exports.multiply=sg();C.exports.nAry=cc();C.exports.negate=OS();C.exports.none=AS();C.exports.not=_v();C.exports.nth=fs();C.exports.nthArg=ES();C.exports.o=DS();C.exports.objOf=Qv();C.exports.of=og();C.exports.omit=WS();C.exports.once=zS();C.exports.or=Id();C.exports.otherwise=$S();C.exports.over=cg();C.exports.pair=ZS();C.exports.partial=JS();C.exports.partialRight=tP();C.exports.partition=rP();C.exports.path=Pi();C.exports.paths=lv();C.exports.pathEq=iP();C.exports.pathOr=hg();C.exports.pathSatisfies=uP();C.exports.pick=lP();C.exports.pickAll=dg();C.exports.pickBy=pP();C.exports.pipe=hc();C.exports.pipeK=mP();C.exports.pipeP=kv();C.exports.pipeWith=Nv();C.exports.pluck=jo();C.exports.prepend=pg();C.exports.product=yP();C.exports.project=xP();C.exports.prop=uc();C.exports.propEq=NP();C.exports.propIs=qP();C.exports.propOr=MP();C.exports.propSatisfies=PP();C.exports.props=CP();C.exports.range=EP();C.exports.reduce=Qr();C.exports.reduceBy=vc();C.exports.reduceRight=mg();C.exports.reduceWhile=IP();C.exports.reduced=VP();C.exports.reject=fc();C.exports.remove=Lv();C.exports.repeat=BP();C.exports.replace=GP();C.exports.reverse=Wo();C.exports.scan=$P();C.exports.sequence=gg();C.exports.set=XP();C.exports.slice=Dr();C.exports.sort=KP();C.exports.sortBy=JP();C.exports.sortWith=t7();C.exports.split=r7();C.exports.splitAt=s7();C.exports.splitEvery=u7();C.exports.splitWhen=l7();C.exports.startsWith=d7();C.exports.subtract=f7();C.exports.sum=rg();C.exports.symmetricDifference=g7();C.exports.symmetricDifferenceWith=b7();C.exports.tail=Lo();C.exports.take=jd();C.exports.takeLast=$v();C.exports.takeLastWhile=k7();C.exports.takeWhile=M7();C.exports.tap=A7();C.exports.test=D7();C.exports.andThen=F7();C.exports.times=vg();C.exports.toLower=L7();C.exports.toPairs=B7();C.exports.toPairsIn=G7();C.exports.toString=mc();C.exports.toUpper=$7();C.exports.transduce=Y7();C.exports.transpose=Z7();C.exports.traverse=Q7();C.exports.trim=tO();C.exports.tryCatch=rO();C.exports.type=wd();C.exports.unapply=iO();C.exports.unary=oO();C.exports.uncurryN=cO();C.exports.unfold=hO();C.exports.union=pO();C.exports.unionWith=vO();C.exports.uniq=Fd();C.exports.uniqBy=Kv();C.exports.uniqWith=yg();C.exports.unless=_g();C.exports.unnest=bg();C.exports.until=Bd();C.exports.update=Ed();C.exports.useWith=fg();C.exports.values=pv();C.exports.valuesIn=xO();C.exports.view=NO();C.exports.when=xg();C.exports.where=kg();C.exports.whereEq=MO();C.exports.without=PO();C.exports.xor=CO();C.exports.xprod=RO();C.exports.zip=jO();C.exports.zipObj=IO();C.exports.zipWith=VO();C.exports.thunkify=WO()});var _a=v((Gd,BO)=\u003e{(function(n,e){typeof Gd==\"object\"\u0026\u0026typeof BO!=\"undefined\"?e(Gd):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.d3=n.d3||{}))})(Gd,function(n){\"use strict\";function e(M,A){return M\u003cA?-1:M\u003eA?1:M\u003e=A?0:NaN}function r(M){let A=M,E=M;M.length===1\u0026\u0026(A=(_e,qe)=\u003eM(_e)-qe,E=i(M));function F(_e,qe,Ue,Ze){for(Ue==null\u0026\u0026(Ue=0),Ze==null\u0026\u0026(Ze=_e.length);Ue\u003cZe;){let vt=Ue+Ze\u003e\u003e\u003e1;E(_e[vt],qe)\u003c0?Ue=vt+1:Ze=vt}return Ue}function I(_e,qe,Ue,Ze){for(Ue==null\u0026\u0026(Ue=0),Ze==null\u0026\u0026(Ze=_e.length);Ue\u003cZe;){let vt=Ue+Ze\u003e\u003e\u003e1;E(_e[vt],qe)\u003e0?Ze=vt:Ue=vt+1}return Ue}function z(_e,qe,Ue,Ze){Ue==null\u0026\u0026(Ue=0),Ze==null\u0026\u0026(Ze=_e.length);let vt=F(_e,qe,Ue,Ze-1);return vt\u003eUe\u0026\u0026A(_e[vt-1],qe)\u003e-A(_e[vt],qe)?vt-1:vt}return{left:F,center:z,right:I}}function i(M){return(A,E)=\u003ee(M(A),E)}function o(M){return M===null?NaN:+M}function*c(M,A){if(A===void 0)for(let E of M)E!=null\u0026\u0026(E=+E)\u003e=E\u0026\u0026(yield E);else{let E=-1;for(let F of M)(F=A(F,++E,M))!=null\u0026\u0026(F=+F)\u003e=F\u0026\u0026(yield F)}}let d=r(e),p=d.right,g=d.left,_=r(o).center;function k(M,A){let E=0;if(A===void 0)for(let F of M)F!=null\u0026\u0026(F=+F)\u003e=F\u0026\u0026++E;else{let F=-1;for(let I of M)(I=A(I,++F,M))!=null\u0026\u0026(I=+I)\u003e=I\u0026\u0026++E}return E}function x(M){return M.length|0}function q(M){return!(M\u003e0)}function V(M){return typeof M!=\"object\"||\"length\"in M?M:Array.from(M)}function P(M){return A=\u003eM(...A)}function W(...M){let A=typeof M[M.length-1]==\"function\"\u0026\u0026P(M.pop());M=M.map(V);let E=M.map(x),F=M.length-1,I=new Array(F+1).fill(0),z=[];if(F\u003c0||E.some(q))return z;for(;;){z.push(I.map((qe,Ue)=\u003eM[Ue][qe]));let _e=F;for(;++I[_e]===E[_e];){if(_e===0)return A?z.map(A):z;I[_e--]=0}}}function K(M,A){var E=0,F=0;return Float64Array.from(M,A===void 0?I=\u003eE+=+I||0:I=\u003eE+=+A(I,F++,M)||0)}function J(M,A){return A\u003cM?-1:A\u003eM?1:A\u003e=M?0:NaN}function X(M,A){let E=0,F,I=0,z=0;if(A===void 0)for(let _e of M)_e!=null\u0026\u0026(_e=+_e)\u003e=_e\u0026\u0026(F=_e-I,I+=F/++E,z+=F*(_e-I));else{let _e=-1;for(let qe of M)(qe=A(qe,++_e,M))!=null\u0026\u0026(qe=+qe)\u003e=qe\u0026\u0026(F=qe-I,I+=F/++E,z+=F*(qe-I))}if(E\u003e1)return z/(E-1)}function oe(M,A){let E=X(M,A);return E\u0026\u0026Math.sqrt(E)}function G(M,A){let E,F;if(A===void 0)for(let I of M)I!=null\u0026\u0026(E===void 0?I\u003e=I\u0026\u0026(E=F=I):(E\u003eI\u0026\u0026(E=I),F\u003cI\u0026\u0026(F=I)));else{let I=-1;for(let z of M)(z=A(z,++I,M))!=null\u0026\u0026(E===void 0?z\u003e=z\u0026\u0026(E=F=z):(E\u003ez\u0026\u0026(E=z),F\u003cz\u0026\u0026(F=z)))}return[E,F]}class R{constructor(){this._partials=new Float64Array(32),this._n=0}add(A){let E=this._partials,F=0;for(let I=0;I\u003cthis._n\u0026\u0026I\u003c32;I++){let z=E[I],_e=A+z,qe=Math.abs(A)\u003cMath.abs(z)?A-(_e-z):z-(_e-A);qe\u0026\u0026(E[F++]=qe),A=_e}return E[F]=A,this._n=F+1,this}valueOf(){let A=this._partials,E=this._n,F,I,z,_e=0;if(E\u003e0){for(_e=A[--E];E\u003e0\u0026\u0026(F=_e,I=A[--E],_e=F+I,z=I-(_e-F),!z););E\u003e0\u0026\u0026(z\u003c0\u0026\u0026A[E-1]\u003c0||z\u003e0\u0026\u0026A[E-1]\u003e0)\u0026\u0026(I=z*2,F=_e+I,I==F-_e\u0026\u0026(_e=F))}return _e}}function $(M,A){let E=new R;if(A===void 0)for(let F of M)(F=+F)\u0026\u0026E.add(F);else{let F=-1;for(let I of M)(I=+A(I,++F,M))\u0026\u0026E.add(I)}return+E}function U(M,A){let E=new R,F=-1;return Float64Array.from(M,A===void 0?I=\u003eE.add(+I||0):I=\u003eE.add(+A(I,++F,M)||0))}class te extends Map{constructor(A,E=ze){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:E}}),A!=null)for(let[F,I]of A)this.set(F,I)}get(A){return super.get(be(this,A))}has(A){return super.has(be(this,A))}set(A,E){return super.set(Ne(this,A),E)}delete(A){return super.delete(Ae(this,A))}}class ie extends Set{constructor(A,E=ze){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:E}}),A!=null)for(let F of A)this.add(F)}has(A){return super.has(be(this,A))}add(A){return super.add(Ne(this,A))}delete(A){return super.delete(Ae(this,A))}}function be({_intern:M,_key:A},E){let F=A(E);return M.has(F)?M.get(F):E}function Ne({_intern:M,_key:A},E){let F=A(E);return M.has(F)?M.get(F):(M.set(F,E),E)}function Ae({_intern:M,_key:A},E){let F=A(E);return M.has(F)\u0026\u0026(E=M.get(E),M.delete(F)),E}function ze(M){return M!==null\u0026\u0026typeof M==\"object\"?M.valueOf():M}function $e(M){return M}function Y(M,...A){return Je(M,$e,$e,A)}function ue(M,...A){return Je(M,Array.from,$e,A)}function le(M,A,...E){return Je(M,$e,A,E)}function ce(M,A,...E){return Je(M,Array.from,A,E)}function ye(M,...A){return Je(M,$e,je,A)}function me(M,...A){return Je(M,Array.from,je,A)}function je(M){if(M.length!==1)throw new Error(\"duplicate key\");return M[0]}function Je(M,A,E,F){return function I(z,_e){if(_e\u003e=F.length)return E(z);let qe=new te,Ue=F[_e++],Ze=-1;for(let vt of z){let qt=Ue(vt,++Ze,z),Ut=qe.get(qt);Ut?Ut.push(vt):qe.set(qt,[vt])}for(let[vt,qt]of qe)qe.set(vt,I(qt,_e));return A(qe)}(M,0)}function ft(M,A){return Array.from(A,E=\u003eM[E])}function de(M,...A){if(typeof M[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");M=Array.from(M);let[E=e]=A;if(E.length===1||A.length\u003e1){let F=Uint32Array.from(M,(I,z)=\u003ez);return A.length\u003e1?(A=A.map(I=\u003eM.map(I)),F.sort((I,z)=\u003e{for(let _e of A){let qe=e(_e[I],_e[z]);if(qe)return qe}})):(E=M.map(E),F.sort((I,z)=\u003ee(E[I],E[z]))),ft(M,F)}return M.sort(E)}function xe(M,A,E){return(A.length===1?de(le(M,A,E),([F,I],[z,_e])=\u003ee(I,_e)||e(F,z)):de(Y(M,E),([F,I],[z,_e])=\u003eA(I,_e)||e(F,z))).map(([F])=\u003eF)}var Oe=Array.prototype,Ge=Oe.slice;function Pe(M){return function(){return M}}var Se=Math.sqrt(50),nt=Math.sqrt(10),ct=Math.sqrt(2);function Gt(M,A,E){var F,I=-1,z,_e,qe;if(A=+A,M=+M,E=+E,M===A\u0026\u0026E\u003e0)return[M];if((F=A\u003cM)\u0026\u0026(z=M,M=A,A=z),(qe=fn(M,A,E))===0||!isFinite(qe))return[];if(qe\u003e0){let Ue=Math.round(M/qe),Ze=Math.round(A/qe);for(Ue*qe\u003cM\u0026\u0026++Ue,Ze*qe\u003eA\u0026\u0026--Ze,_e=new Array(z=Ze-Ue+1);++I\u003cz;)_e[I]=(Ue+I)*qe}else{qe=-qe;let Ue=Math.round(M*qe),Ze=Math.round(A*qe);for(Ue/qe\u003cM\u0026\u0026++Ue,Ze/qe\u003eA\u0026\u0026--Ze,_e=new Array(z=Ze-Ue+1);++I\u003cz;)_e[I]=(Ue+I)/qe}return F\u0026\u0026_e.reverse(),_e}function fn(M,A,E){var F=(A-M)/Math.max(0,E),I=Math.floor(Math.log(F)/Math.LN10),z=F/Math.pow(10,I);return I\u003e=0?(z\u003e=Se?10:z\u003e=nt?5:z\u003e=ct?2:1)*Math.pow(10,I):-Math.pow(10,-I)/(z\u003e=Se?10:z\u003e=nt?5:z\u003e=ct?2:1)}function Ot(M,A,E){var F=Math.abs(A-M)/Math.max(0,E),I=Math.pow(10,Math.floor(Math.log(F)/Math.LN10)),z=F/I;return z\u003e=Se?I*=10:z\u003e=nt?I*=5:z\u003e=ct\u0026\u0026(I*=2),A\u003cM?-I:I}function mn(M,A,E){let F;for(;;){let I=fn(M,A,E);if(I===F||I===0||!isFinite(I))return[M,A];I\u003e0?(M=Math.floor(M/I)*I,A=Math.ceil(A/I)*I):I\u003c0\u0026\u0026(M=Math.ceil(M*I)/I,A=Math.floor(A*I)/I),F=I}}function wn(M){return Math.ceil(Math.log(k(M))/Math.LN2)+1}function Un(){var M=$e,A=G,E=wn;function F(I){Array.isArray(I)||(I=Array.from(I));var z,_e=I.length,qe,Ue=new Array(_e);for(z=0;z\u003c_e;++z)Ue[z]=M(I[z],z,I);var Ze=A(Ue),vt=Ze[0],qt=Ze[1],Ut=E(Ue,vt,qt);if(!Array.isArray(Ut)){let gm=qt,Xs=+Ut;if(A===G\u0026\u0026([vt,qt]=mn(vt,qt,Xs)),Ut=Gt(vt,qt,Xs),Ut[Ut.length-1]\u003e=qt)if(gm\u003e=qt\u0026\u0026A===G){let Mr=fn(vt,qt,Xs);isFinite(Mr)\u0026\u0026(Mr\u003e0?qt=(Math.floor(qt/Mr)+1)*Mr:Mr\u003c0\u0026\u0026(qt=(Math.ceil(qt*-Mr)+1)/-Mr))}else Ut.pop()}for(var Gr=Ut.length;Ut[0]\u003c=vt;)Ut.shift(),--Gr;for(;Ut[Gr-1]\u003eqt;)Ut.pop(),--Gr;var ns=new Array(Gr+1),Ys;for(z=0;z\u003c=Gr;++z)Ys=ns[z]=[],Ys.x0=z\u003e0?Ut[z-1]:vt,Ys.x1=z\u003cGr?Ut[z]:qt;for(z=0;z\u003c_e;++z)qe=Ue[z],vt\u003c=qe\u0026\u0026qe\u003c=qt\u0026\u0026ns[p(Ut,qe,0,Gr)].push(I[z]);return ns}return F.value=function(I){return arguments.length?(M=typeof I==\"function\"?I:Pe(I),F):M},F.domain=function(I){return arguments.length?(A=typeof I==\"function\"?I:Pe([I[0],I[1]]),F):A},F.thresholds=function(I){return arguments.length?(E=typeof I==\"function\"?I:Array.isArray(I)?Pe(Ge.call(I)):Pe(I),F):E},F}function $n(M,A){let E;if(A===void 0)for(let F of M)F!=null\u0026\u0026(E\u003cF||E===void 0\u0026\u0026F\u003e=F)\u0026\u0026(E=F);else{let F=-1;for(let I of M)(I=A(I,++F,M))!=null\u0026\u0026(E\u003cI||E===void 0\u0026\u0026I\u003e=I)\u0026\u0026(E=I)}return E}function Hn(M,A){let E;if(A===void 0)for(let F of M)F!=null\u0026\u0026(E\u003eF||E===void 0\u0026\u0026F\u003e=F)\u0026\u0026(E=F);else{let F=-1;for(let I of M)(I=A(I,++F,M))!=null\u0026\u0026(E\u003eI||E===void 0\u0026\u0026I\u003e=I)\u0026\u0026(E=I)}return E}function mt(M,A,E=0,F=M.length-1,I=e){for(;F\u003eE;){if(F-E\u003e600){let Ue=F-E+1,Ze=A-E+1,vt=Math.log(Ue),qt=.5*Math.exp(2*vt/3),Ut=.5*Math.sqrt(vt*qt*(Ue-qt)/Ue)*(Ze-Ue/2\u003c0?-1:1),Gr=Math.max(E,Math.floor(A-Ze*qt/Ue+Ut)),ns=Math.min(F,Math.floor(A+(Ue-Ze)*qt/Ue+Ut));mt(M,A,Gr,ns,I)}let z=M[A],_e=E,qe=F;for(jn(M,E,A),I(M[F],z)\u003e0\u0026\u0026jn(M,E,F);_e\u003cqe;){for(jn(M,_e,qe),++_e,--qe;I(M[_e],z)\u003c0;)++_e;for(;I(M[qe],z)\u003e0;)--qe}I(M[E],z)===0?jn(M,E,qe):(++qe,jn(M,qe,F)),qe\u003c=A\u0026\u0026(E=qe+1),A\u003c=qe\u0026\u0026(F=qe-1)}return M}function jn(M,A,E){let F=M[A];M[A]=M[E],M[E]=F}function Dn(M,A,E){if(M=Float64Array.from(c(M,E)),!!(F=M.length)){if((A=+A)\u003c=0||F\u003c2)return Hn(M);if(A\u003e=1)return $n(M);var F,I=(F-1)*A,z=Math.floor(I),_e=$n(mt(M,z).subarray(0,z+1)),qe=Hn(M.subarray(z+1));return _e+(qe-_e)*(I-z)}}function Wr(M,A,E=o){if(!!(F=M.length)){if((A=+A)\u003c=0||F\u003c2)return+E(M[0],0,M);if(A\u003e=1)return+E(M[F-1],F-1,M);var F,I=(F-1)*A,z=Math.floor(I),_e=+E(M[z],z,M),qe=+E(M[z+1],z+1,M);return _e+(qe-_e)*(I-z)}}function sa(M,A,E){return Math.ceil((E-A)/(2*(Dn(M,.75)-Dn(M,.25))*Math.pow(k(M),-1/3)))}function Tr(M,A,E){return Math.ceil((E-A)/(3.5*oe(M)*Math.pow(k(M),-1/3)))}function Br(M,A){let E,F=-1,I=-1;if(A===void 0)for(let z of M)++I,z!=null\u0026\u0026(E\u003cz||E===void 0\u0026\u0026z\u003e=z)\u0026\u0026(E=z,F=I);else for(let z of M)(z=A(z,++I,M))!=null\u0026\u0026(E\u003cz||E===void 0\u0026\u0026z\u003e=z)\u0026\u0026(E=z,F=I);return F}function si(M,A){let E=0,F=0;if(A===void 0)for(let I of M)I!=null\u0026\u0026(I=+I)\u003e=I\u0026\u0026(++E,F+=I);else{let I=-1;for(let z of M)(z=A(z,++I,M))!=null\u0026\u0026(z=+z)\u003e=z\u0026\u0026(++E,F+=z)}if(E)return F/E}function hr(M,A){return Dn(M,.5,A)}function*Yn(M){for(let A of M)yield*A}function oi(M){return Array.from(Yn(M))}function Ea(M,A){let E,F=-1,I=-1;if(A===void 0)for(let z of M)++I,z!=null\u0026\u0026(E\u003ez||E===void 0\u0026\u0026z\u003e=z)\u0026\u0026(E=z,F=I);else for(let z of M)(z=A(z,++I,M))!=null\u0026\u0026(E\u003ez||E===void 0\u0026\u0026z\u003e=z)\u0026\u0026(E=z,F=I);return F}function oa(M,A=ja){let E=[],F,I=!1;for(let z of M)I\u0026\u0026E.push(A(F,z)),F=z,I=!0;return E}function ja(M,A){return[M,A]}function ua(M,A,E){M=+M,A=+A,E=(I=arguments.length)\u003c2?(A=M,M=0,1):I\u003c3?1:+E;for(var F=-1,I=Math.max(0,Math.ceil((A-M)/E))|0,z=new Array(I);++F\u003cI;)z[F]=M+F*E;return z}function es(M,A=e){let E,F=!1;if(A.length===1){let I;for(let z of M){let _e=A(z);(F?e(_e,I)\u003c0:e(_e,_e)===0)\u0026\u0026(E=z,I=_e,F=!0)}}else for(let I of M)(F?A(I,E)\u003c0:A(I,I)===0)\u0026\u0026(E=I,F=!0);return E}function ui(M,A=e){if(A.length===1)return Ea(M,A);let E,F=-1,I=-1;for(let z of M)++I,(F\u003c0?A(z,z)===0:A(z,E)\u003c0)\u0026\u0026(E=z,F=I);return F}function He(M,A=e){let E,F=!1;if(A.length===1){let I;for(let z of M){let _e=A(z);(F?e(_e,I)\u003e0:e(_e,_e)===0)\u0026\u0026(E=z,I=_e,F=!0)}}else for(let I of M)(F?A(I,E)\u003e0:A(I,I)===0)\u0026\u0026(E=I,F=!0);return E}function zr(M,A=e){if(A.length===1)return Br(M,A);let E,F=-1,I=-1;for(let z of M)++I,(F\u003c0?A(z,z)===0:A(z,E)\u003e0)\u0026\u0026(E=z,F=I);return F}function ca(M,A){let E=ui(M,A);return E\u003c0?void 0:E}var ci=li(Math.random);function li(M){return function(E,F=0,I=E.length){let z=I-(F=+F);for(;z;){let _e=M()*z--|0,qe=E[z+F];E[z+F]=E[_e+F],E[_e+F]=qe}return E}}function hi(M,A){let E=0;if(A===void 0)for(let F of M)(F=+F)\u0026\u0026(E+=F);else{let F=-1;for(let I of M)(I=+A(I,++F,M))\u0026\u0026(E+=I)}return E}function Us(M){if(!(z=M.length))return[];for(var A=-1,E=Hn(M,di),F=new Array(E);++A\u003cE;)for(var I=-1,z,_e=F[A]=new Array(z);++I\u003cz;)_e[I]=M[I][A];return F}function di(M){return M.length}function It(){return Us(arguments)}function pi(M,A){if(typeof A!=\"function\")throw new TypeError(\"test is not a function\");let E=-1;for(let F of M)if(!A(F,++E,M))return!1;return!0}function Eu(M,A){if(typeof A!=\"function\")throw new TypeError(\"test is not a function\");let E=-1;for(let F of M)if(A(F,++E,M))return!0;return!1}function $s(M,A){if(typeof A!=\"function\")throw new TypeError(\"test is not a function\");let E=[],F=-1;for(let I of M)A(I,++F,M)\u0026\u0026E.push(I);return E}function Re(M,A){if(typeof M[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");if(typeof A!=\"function\")throw new TypeError(\"mapper is not a function\");return Array.from(M,(E,F)=\u003eA(E,F,M))}function zt(M,A,E){if(typeof A!=\"function\")throw new TypeError(\"reducer is not a function\");let F=M[Symbol.iterator](),I,z,_e=-1;if(arguments.length\u003c3){if({done:I,value:E}=F.next(),I)return;++_e}for(;{done:I,value:z}=F.next(),!I;)E=A(E,z,++_e,M);return E}function ts(M){if(typeof M[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");return Array.from(M).reverse()}function _t(M,...A){M=new Set(M);for(let E of A)for(let F of E)M.delete(F);return M}function Zt(M,A){let E=A[Symbol.iterator](),F=new Set;for(let I of M){if(F.has(I))return!1;let z,_e;for(;({value:z,done:_e}=E.next())\u0026\u0026!_e;){if(Object.is(I,z))return!1;F.add(z)}}return!0}function Vl(M){return M instanceof Set?M:new Set(M)}function Ft(M,...A){M=new Set(M),A=A.map(Vl);e:for(let E of M)for(let F of A)if(!F.has(E)){M.delete(E);continue e}return M}function Hs(M,A){let E=M[Symbol.iterator](),F=new Set;for(let I of A){if(F.has(I))continue;let z,_e;for(;{value:z,done:_e}=E.next();){if(_e)return!1;if(F.add(z),Object.is(I,z))break}}return!0}function ju(M,A){return Hs(A,M)}function Ll(...M){let A=new Set;for(let E of M)for(let F of E)A.add(F);return A}n.Adder=R,n.InternMap=te,n.InternSet=ie,n.ascending=e,n.bin=Un,n.bisect=p,n.bisectCenter=_,n.bisectLeft=g,n.bisectRight=p,n.bisector=r,n.count=k,n.cross=W,n.cumsum=K,n.descending=J,n.deviation=oe,n.difference=_t,n.disjoint=Zt,n.every=pi,n.extent=G,n.fcumsum=U,n.filter=$s,n.fsum=$,n.greatest=He,n.greatestIndex=zr,n.group=Y,n.groupSort=xe,n.groups=ue,n.histogram=Un,n.index=ye,n.indexes=me,n.intersection=Ft,n.least=es,n.leastIndex=ui,n.map=Re,n.max=$n,n.maxIndex=Br,n.mean=si,n.median=hr,n.merge=oi,n.min=Hn,n.minIndex=Ea,n.nice=mn,n.pairs=oa,n.permute=ft,n.quantile=Dn,n.quantileSorted=Wr,n.quickselect=mt,n.range=ua,n.reduce=zt,n.reverse=ts,n.rollup=le,n.rollups=ce,n.scan=ca,n.shuffle=ci,n.shuffler=li,n.some=Eu,n.sort=de,n.subset=ju,n.sum=hi,n.superset=Hs,n.thresholdFreedmanDiaconis=sa,n.thresholdScott=Tr,n.thresholdSturges=wn,n.tickIncrement=fn,n.tickStep=Ot,n.ticks=Gt,n.transpose=Us,n.union=Ll,n.variance=X,n.zip=It,Object.defineProperty(n,\"__esModule\",{value:!0})})});var np=v(Fe=\u003e{\"use strict\";Object.defineProperty(Fe,\"__esModule\",{value:!0});Fe.replace=Fe.edit=Fe.appendChild=Fe.insertChild=Fe.insertRight=Fe.insertLeft=Fe.prev=Fe.next=Fe.root=Fe.up=Fe.canGoUp=Fe.canGoRight=Fe.canGoLeft=Fe.isRightmost=Fe.isLeftmost=Fe.isNotTop=Fe.isTop=Fe.isEnd=Fe.getChildren=Fe.isLeaf=Fe.value=Fe.whilst=void 0;Fe.zipperFrom=ar;Fe.isBranch=vs;Fe.leftmost=i3;Fe.left=Wg;Fe.right=Jd;Fe.rightmost=Bg;Fe.canGoDown=zg;Fe.down=ep;Fe.remove=l3;Fe.makeZipper=p3;var tee=rv(),GO=St(tee),nee=Io(),Sg=St(nee),ree=og(),aee=St(ree),iee=Do(),see=St(iee),oee=vv(),uee=St(oee),cee=Rv(),UO=St(cee),lee=Rd(),Ud=St(lee),hee=bv(),Uo=St(hee),dee=Oi(),Ci=St(dee),pee=Gv(),fee=St(pee),mee=Md(),Pg=St(mee),vee=nr(),Og=St(vee),gee=Bo(),$d=St(gee),yee=Zv(),Cg=St(yee),_ee=Xv(),$O=St(_ee),bee=Dd(),Hd=St(bee),xee=Id(),Ag=St(xee),kee=uc(),Ha=St(kee),Nee=Vd(),wee=St(Nee),qee=Lo(),Rg=St(qee),Tee=hc(),Yt=St(Tee),Mee=ig(),Ai=St(Mee),See=nv(),HO=St(See),Pee=xg(),YO=St(Pee),Oee=_g(),Cee=St(Oee),Aee=Bd(),Ree=St(Aee),Eee=bg(),jee=St(Eee);function St(n){return n\u0026\u0026n.__esModule?n:{default:n}}var Eg=null,jg=\"END\";function Dg(n){return!n.length}var Ig=Fe.whilst=(0,Ci.default)(function(n,e,r){for(var i=r;n(i);)i=e(i);return i}),Dee={left:[],right:[],parentItems:Eg,parentPath:Eg,changed:!1};function Fg(n,e,r){this.item=n,this.path=e,this.meta=r}var rr=(0,Ha.default)(\"item\"),Iee=Fe.value=rr,En=(0,Ha.default)(\"path\"),Yd=(0,Ha.default)(\"meta\"),Fee=(0,Ci.default)(function(n,e){return n(e),e}),Vee=function(e){return function(){throw new Error(e)}},XO=(0,Yt.default)(Vee,Fee);function ar(n,e,r,i){return new Fg(e,r||En(n),i||Yd(n))}function vs(n){return Yd(n).isBranch(rr(n))}var ZO=Fe.isLeaf=(0,Uo.default)(vs),Lee=(0,Yt.default)(Yd,(0,Ha.default)(\"getChildren\")),Xd=Fe.getChildren=(0,Yt.default)((0,YO.default)(ZO,XO(\"Tried getting children of a leaf\")),(0,Ud.default)(uee.default,[Lee,rr]));function Zd(n,e,r){return Yd(n).makeItem(e,r)}var gs=Fe.isEnd=(0,Yt.default)(En,(0,Og.default)(jg)),Vg=(0,Ha.default)(\"parentItems\"),KO=(0,Yt.default)(Vg,Hd.default),QO=(0,Ha.default)(\"parentPath\"),Wee=(0,Yt.default)(En,(0,YO.default)((0,Og.default)(jg),XO(\"Can't get parent items from end path.\")),Vg),JO=(0,Yt.default)(En,KO),e3=(0,Yt.default)(En,QO),ba=Fe.isTop=(0,Yt.default)(Wee,(0,Og.default)(Eg)),t3=Fe.isNotTop=(0,Uo.default)(ba),ys=(0,Yt.default)((0,Ha.default)(\"left\"),(0,Ag.default)(GO.default,[])),_s=(0,Yt.default)((0,Ha.default)(\"right\"),(0,Ag.default)(GO.default,[])),n3=(0,Yt.default)(En,ys),r3=(0,Yt.default)(En,_s),Bee=(0,Yt.default)(En,(0,Ha.default)(\"changed\"),Boolean),zee=(0,Uo.default)(Bee),Gee=(0,Uo.default)(Dg),Kd=Fe.isLeftmost=(0,Yt.default)(n3,Dg),Qd=Fe.isRightmost=(0,Yt.default)(r3,Dg),a3=Fe.canGoLeft=(0,Uo.default)(Kd),Lg=Fe.canGoRight=(0,Uo.default)(Qd);function i3(n){if(ba(n)||Kd(n))return n;var e=En(n),r=ys(e),i=_s(e),o=rr(n),c=(0,Pg.default)(r),d=[],p=(0,Rg.default)(r).concat([o],i);return ar(n,c,(0,Ai.default)(e,{left:d,right:p}))}function Wg(n){if(gs(n))return n;if(Kd(n))return null;var e=rr(n),r=En(n),i=ys(r),o=_s(r),c=(0,Hd.default)(i),d=(0,Cg.default)(i),p=[e].concat(o);return ar(n,c,(0,Ai.default)(r,{left:d,right:p}))}function Jd(n){if(gs(n))return n;if(Qd(n))return null;var e=rr(n),r=En(n),i=ys(r),o=_s(r),c=(0,Pg.default)(o),d=i.concat([e]),p=(0,Rg.default)(o);return ar(n,c,(0,Ai.default)(r,{left:d,right:p}))}function Bg(n){if(Qd(n))return n;var e=En(n),r=_s(e),i=ys(e),o=rr(n),c=(0,Hd.default)(r),d=i.concat([o],(0,Cg.default)(r)),p=[];return ar(n,c,(0,Ai.default)(e,{left:d,right:p}))}function zg(n){return vs(n)\u0026\u0026Gee(Xd(n))}function ep(n){if(!vs(n))return null;var e=rr(n),r=En(n),i=Xd(n),o=[],c=(0,Rg.default)(i),d=ar(n,(0,Pg.default)(i),(0,Ai.default)(r,{left:o,right:c,parentItems:(Vg(r)||[]).concat([e]),parentPath:r}));return d}function s3(n,e){if(ba(e))throw new Error(\"Tried inserting left of top\");var r=rr(e),i=En(e),o=ys(i);return ar(e,r,(0,Ai.default)(i,{left:o.concat([n]),changed:!0}))}function o3(n,e){if(ba(e))throw new Error(\"Tried inserting left of top\");var r=rr(e),i=En(e),o=_s(i);return ar(e,r,(0,Ai.default)(i,{right:[n].concat(o),changed:!0}))}function xc(n,e){return rr(e)===n?e:ar(e,n,(0,Sg.default)(\"changed\",!0,En(e)))}function u3(n,e){return xc(n(rr(e)),e)}var Uee=Fe.canGoUp=t3,$ee=(0,Ud.default)(ar,[$d.default,JO,e3]),Hee=(0,Yt.default)((0,wee.default)([n3,(0,Yt.default)(rr,aee.default),r3]),jee.default),Yee=(0,Ud.default)(Zd,[$d.default,JO,Hee]),tp=Fe.up=(0,UO.default)([[(0,Ag.default)(ba,gs),(0,see.default)(null)],[zee,$ee],[HO.default,(0,Ud.default)(ar,[$d.default,Yee,(0,Yt.default)(e3,(0,Sg.default)(\"changed\",!0))])]]),Xee=Fe.root=(0,Cee.default)(gs,Ig(t3,tp)),Zee=function(e){return ar(e,rr(e),jg)},Kee=(0,Yt.default)((0,Ree.default)((0,fee.default)(ba,Lg),tp),(0,$O.default)(ba,Zee,Jd)),Qee=Fe.next=(0,UO.default)([[gs,$d.default],[zg,ep],[Lg,Jd],[HO.default,Kee]]),c3=(0,Yt.default)(ep,Bg),Jee=Fe.prev=(0,$O.default)(a3,(0,Yt.default)(Wg,Ig(vs,c3)),tp);function l3(n){if(ba(n))throw new Error(\"Can't remove top.\");if(gs(n))throw new Error(\"Can't remove end\");var e=En(n),r=ys(e);if(r.length){var i=ar(n,(0,Hd.default)(r),(0,Ai.default)(e,{left:(0,Cg.default)(r),changed:!0}));return Ig(vs,c3,i)}else{var o=_s(e),c=QO(e),d=KO(e);return ar(n,Zd(n,d,o),ba(n)?c:(0,Sg.default)(\"changed\",!0,c))}}function h3(n,e){var r=[n].concat(Xd(e));return xc(Zd(e,n,r),e)}function d3(n,e){var r=Xd(e).concat([n]);return xc(Zd(e,n,r),e)}function en(n){return function(){return n(this)}}function $o(n){return function(r){return n(r,this)}}Object.assign(Fg.prototype,{value:en(Iee),root:en(Xee),up:en(tp),down:en(ep),left:en(Wg),right:en(Jd),leftmost:en(i3),rightmost:en(Bg),next:en(Qee),prev:en(Jee),isEnd:en(gs),isTop:en(ba),isBranch:en(vs),isLeaf:en(ZO),isLeftmost:en(Kd),isRightmost:en(Qd),canGoUp:en(Uee),canGoLeft:en(a3),canGoRight:en(Lg),canGoDown:en(zg),edit:$o(u3),replace:$o(xc),insertLeft:$o(s3),insertRight:$o(o3),insertChild:$o(h3),appendChild:$o(d3),remove:en(l3)});function p3(n,e,r){function i(o){return new Fg(o,Dee,{isBranch:n,getChildren:e,makeItem:r})}return i.from=i,i}var S_e=Fe.insertLeft=(0,Ci.default)(s3),P_e=Fe.insertRight=(0,Ci.default)(o3),O_e=Fe.insertChild=(0,Ci.default)(h3),C_e=Fe.appendChild=(0,Ci.default)(d3),A_e=Fe.edit=(0,Ci.default)(u3),R_e=Fe.replace=(0,Ci.default)(xc);Fe.default=p3});var Yg=v(Ir=\u003e{\"use strict\";Object.defineProperty(Ir,\"__esModule\",{value:!0});Ir.onPost=Ir.onPre=Ir.visit=Ir.POST=Ir.PRE=void 0;var ete=Oi(),f3=v3(ete),tte=Yv(),m3=v3(tte),Jr=np();function v3(n){return n\u0026\u0026n.__esModule?n:{default:n}}var g3=Ir.PRE=\"PRE\",Gg=Ir.POST=\"POST\";function nte(n,e,r,i){for(var o=e,c=r,d=!1,p=!1,g=0;g\u003ci.length;g++){var _=i[g],k=_(n,o,c)||{},x=k.item,q=k.state,V=k.stop,P=k.cut;if((0,m3.default)(\"item\",k)\u0026\u0026(o=x),(0,m3.default)(\"state\",k)\u0026\u0026(c=q),V||P){d=V,p=P;break}}return{item:o,state:c,stop:d,cut:p}}function Ug(n,e,r,i){var o=nte(n,(0,Jr.value)(e),r,i)||{},c=o.item,d=o.state,p=o.stop,g=o.cut;return{loc:o.hasOwnProperty(\"item\")?(0,Jr.replace)(c,e):e,state:o.hasOwnProperty(\"state\")?d:r,stop:p,cut:g}}var $g=\"DOWN\",Hg=\"RIGHT\";function y3(n,e){return{item:(0,Jr.value)((0,Jr.root)(n)),state:e}}var j_e=Ir.visit=(0,f3.default)(function(e,r,i){for(var o=$g,c=i,d=r,p=!0;p||(0,Jr.isNotTop)(c);)if(p=!1,o===$g){var g=Ug(g3,c,d,e);if(d=g.state,c=g.loc,g.stop)return y3(c,d);!g.cut\u0026\u0026(0,Jr.canGoDown)(c)?c=(0,Jr.down)(c):o=Hg}else if(o===Hg){var _=Ug(Gg,c,d,e);if(d=_.state,c=_.loc,_.stop)return y3(c,d);(0,Jr.canGoRight)(c)?(c=(0,Jr.right)(c),o=$g):(c=(0,Jr.up)(c),o=Hg)}var k=Ug(Gg,c,d,e);return d=k.state,c=k.loc,{item:(0,Jr.value)(c),zipper:c,state:d}}),_3=(0,f3.default)(function(n,e){return function(r,i,o){return r===n?e(i,o):void 0}}),D_e=Ir.onPre=_3(g3),I_e=Ir.onPost=_3(Gg)});var b3=v(Ya=\u003e{\"use strict\";Object.defineProperty(Ya,\"__esModule\",{value:!0});Ya.walk=Ya.preWalk=Ya.postWalk=void 0;var rte=Oi(),Xg=ate(rte),bs=Yg();function ate(n){return n\u0026\u0026n.__esModule?n:{default:n}}var rp=function(e){return function(r,i){return{item:e(r)}}},ite=Ya.postWalk=(0,Xg.default)(function(n,e){return(0,bs.visit)([(0,bs.onPost)(rp(n))],void 0,e).zipper}),ste=Ya.preWalk=(0,Xg.default)(function(n,e){return(0,bs.visit)([(0,bs.onPre)(rp(n))],void 0,e).zipper}),ote=Ya.walk=(0,Xg.default)(function(n,e,r){return(0,bs.visit)([(0,bs.onPre)(rp(n)),(0,bs.onPost)(rp(e))],void 0,r).zipper});Ya.default={walk:ote,postWalk:ite,preWalk:ste}});var x3=v(kc=\u003e{\"use strict\";Object.defineProperty(kc,\"__esModule\",{value:!0});kc.ArrayZipper=void 0;var ute=np(),cte=kc.ArrayZipper=(0,ute.makeZipper)(function(n){return!!n.length},function(n){return n},function(n,e){return e});kc.default=cte});var ey=v(xa=\u003e{\"use strict\";Object.defineProperty(xa,\"__esModule\",{value:!0});xa.ArrayZipper=xa.zip=void 0;var lte=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)\u0026\u0026(n[i]=r[i])}return n},Zg=b3();Object.keys(Zg).forEach(function(n){n!==\"default\"\u0026\u0026Object.defineProperty(xa,n,{enumerable:!0,get:function(){return Zg[n]}})});var Kg=Yg();Object.keys(Kg).forEach(function(n){n!==\"default\"\u0026\u0026Object.defineProperty(xa,n,{enumerable:!0,get:function(){return Kg[n]}})});var Qg=np();Object.keys(Qg).forEach(function(n){n!==\"default\"\u0026\u0026Object.defineProperty(xa,n,{enumerable:!0,get:function(){return Qg[n]}})});var ap=Jg(Qg),hte=Jg(Zg),dte=x3(),k3=pte(dte),N3=Jg(Kg);function pte(n){return n\u0026\u0026n.__esModule?n:{default:n}}function Jg(n){if(n\u0026\u0026n.__esModule)return n;var e={};if(n!=null)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)\u0026\u0026(e[r]=n[r]);return e.default=n,e}xa.zip=ap;xa.ArrayZipper=k3.default;var fte=lte({},ap,N3,{ArrayZipper:k3.default,walk:hte,makeZipper:ap.makeZipper,visit:N3,zip:ap});xa.default=fte});var ut=v((j0e,F3)=\u003e{F3.exports=React});var Tc=v((qc,oy)=\u003e{(function(n,e){typeof qc==\"object\"\u0026\u0026typeof oy==\"object\"?oy.exports=e():typeof define==\"function\"\u0026\u0026define.amd?define([],e):typeof qc==\"object\"?qc.Tone=e():n.Tone=e()})(typeof self!=\"undefined\"?self:qc,function(){return function(n){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=n,r.c=e,r.d=function(i,o,c){r.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:c})},r.r=function(i){typeof Symbol!=\"undefined\"\u0026\u0026Symbol.toStringTag\u0026\u0026Object.defineProperty(i,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(i,\"__esModule\",{value:!0})},r.t=function(i,o){if(1\u0026o\u0026\u0026(i=r(i)),8\u0026o||4\u0026o\u0026\u0026typeof i==\"object\"\u0026\u0026i\u0026\u0026i.__esModule)return i;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,\"default\",{enumerable:!0,value:i}),2\u0026o\u0026\u0026typeof i!=\"string\")for(var d in i)r.d(c,d,function(p){return i[p]}.bind(null,d));return c},r.n=function(i){var o=i\u0026\u0026i.__esModule?function(){return i.default}:function(){return i};return r.d(o,\"a\",o),o},r.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},r.p=\"\",r(r.s=9)}([function(n,e,r){(function(i,o,c,d){\"use strict\";function p(Y){return Y\u0026\u0026typeof Y==\"object\"\u0026\u0026\"default\"in Y?Y:{default:Y}}var g=p(o),_=p(c),k=p(d),x=function(Y,ue,le){return{endTime:ue,insertTime:le,type:\"exponentialRampToValue\",value:Y}},q=function(Y,ue,le){return{endTime:ue,insertTime:le,type:\"linearRampToValue\",value:Y}},V=function(Y,ue){return{startTime:ue,type:\"setValue\",value:Y}},P=function(Y,ue,le){return{duration:le,startTime:ue,type:\"setValueCurve\",values:Y}},W=function(Y,ue,le){var ce=le.startTime,ye=le.target,me=le.timeConstant;return ye+(ue-ye)*Math.exp((ce-Y)/me)},K=function(Y){return Y.type===\"exponentialRampToValue\"},J=function(Y){return Y.type===\"linearRampToValue\"},X=function(Y){return K(Y)||J(Y)},oe=function(Y){return Y.type===\"setValue\"},G=function(Y){return Y.type===\"setValueCurve\"},R=function Y(ue,le,ce,ye){var me=ue[le];return me===void 0?ye:X(me)||oe(me)?me.value:G(me)?me.values[me.values.length-1]:W(ce,Y(ue,le-1,me.startTime,ye),me)},$=function(Y,ue,le,ce,ye){return le===void 0?[ce.insertTime,ye]:X(le)?[le.endTime,le.value]:oe(le)?[le.startTime,le.value]:G(le)?[le.startTime+le.duration,le.values[le.values.length-1]]:[le.startTime,R(Y,ue-1,le.startTime,ye)]},U=function(Y){return Y.type===\"cancelAndHold\"},te=function(Y){return Y.type===\"cancelScheduledValues\"},ie=function(Y){return U(Y)||te(Y)?Y.cancelTime:K(Y)||J(Y)?Y.endTime:Y.startTime},be=function(Y,ue,le,ce){var ye=ce.endTime,me=ce.value;return le===me?me:0\u003cle\u0026\u00260\u003cme||le\u003c0\u0026\u0026me\u003c0?le*Math.pow(me/le,(Y-ue)/(ye-ue)):0},Ne=function(Y,ue,le,ce){return le+(Y-ue)/(ce.endTime-ue)*(ce.value-le)},Ae=function(Y,ue){var le=ue.duration,ce=ue.startTime,ye=ue.values;return function(me,je){var Je=Math.floor(je),ft=Math.ceil(je);return Je===ft?me[Je]:(1-(je-Je))*me[Je]+(1-(ft-je))*me[ft]}(ye,(Y-ce)/le*(ye.length-1))},ze=function(Y){return Y.type===\"setTarget\"},$e=function(){function Y(ue){_.default(this,Y),this._automationEvents=[],this._currenTime=0,this._defaultValue=ue}return k.default(Y,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:\"add\",value:function(ue){var le=ie(ue);if(U(ue)||te(ue)){var ce=this._automationEvents.findIndex(function(Pe){return te(ue)\u0026\u0026G(Pe)?Pe.startTime+Pe.duration\u003e=le:ie(Pe)\u003e=le}),ye=this._automationEvents[ce];if(ce!==-1\u0026\u0026(this._automationEvents=this._automationEvents.slice(0,ce)),U(ue)){var me=this._automationEvents[this._automationEvents.length-1];if(ye!==void 0\u0026\u0026X(ye)){if(ze(me))throw new Error(\"The internal list is malformed.\");var je=G(me)?me.startTime+me.duration:ie(me),Je=G(me)?me.values[me.values.length-1]:me.value,ft=K(ye)?be(le,je,Je,ye):Ne(le,je,Je,ye),de=K(ye)?x(ft,le,this._currenTime):q(ft,le,this._currenTime);this._automationEvents.push(de)}me!==void 0\u0026\u0026ze(me)\u0026\u0026this._automationEvents.push(V(this.getValue(le),le)),me!==void 0\u0026\u0026G(me)\u0026\u0026me.startTime+me.duration\u003ele\u0026\u0026(this._automationEvents[this._automationEvents.length-1]=P(new Float32Array([6,7]),me.startTime,le-me.startTime))}}else{var xe=this._automationEvents.findIndex(function(Pe){return ie(Pe)\u003ele}),Oe=xe===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[xe-1];if(Oe!==void 0\u0026\u0026G(Oe)\u0026\u0026ie(Oe)+Oe.duration\u003ele)return!1;var Ge=K(ue)?x(ue.value,ue.endTime,this._currenTime):J(ue)?q(ue.value,le,this._currenTime):ue;if(xe===-1)this._automationEvents.push(Ge);else{if(G(ue)\u0026\u0026le+ue.duration\u003eie(this._automationEvents[xe]))return!1;this._automationEvents.splice(xe,0,Ge)}}return!0}},{key:\"flush\",value:function(ue){var le=this._automationEvents.findIndex(function(me){return ie(me)\u003eue});if(le\u003e1){var ce=this._automationEvents.slice(le-1),ye=ce[0];ze(ye)\u0026\u0026ce.unshift(V(R(this._automationEvents,le-2,ye.startTime,this._defaultValue),ye.startTime)),this._automationEvents=ce}}},{key:\"getValue\",value:function(ue){if(this._automationEvents.length===0)return this._defaultValue;var le=this._automationEvents[this._automationEvents.length-1],ce=this._automationEvents.findIndex(function(Se){return ie(Se)\u003eue}),ye=this._automationEvents[ce],me=ie(le)\u003c=ue?le:this._automationEvents[ce-1];if(me!==void 0\u0026\u0026ze(me)\u0026\u0026(ye===void 0||!X(ye)||ye.insertTime\u003eue))return W(ue,R(this._automationEvents,ce-2,me.startTime,this._defaultValue),me);if(me!==void 0\u0026\u0026oe(me)\u0026\u0026(ye===void 0||!X(ye)))return me.value;if(me!==void 0\u0026\u0026G(me)\u0026\u0026(ye===void 0||!X(ye)||me.startTime+me.duration\u003eue))return ue\u003cme.startTime+me.duration?Ae(ue,me):me.values[me.values.length-1];if(me!==void 0\u0026\u0026X(me)\u0026\u0026(ye===void 0||!X(ye)))return me.value;if(ye!==void 0\u0026\u0026K(ye)){var je=$(this._automationEvents,ce-1,me,ye,this._defaultValue),Je=g.default(je,2),ft=Je[0],de=Je[1];return be(ue,ft,de,ye)}if(ye!==void 0\u0026\u0026J(ye)){var xe=$(this._automationEvents,ce-1,me,ye,this._defaultValue),Oe=g.default(xe,2),Ge=Oe[0],Pe=Oe[1];return Ne(ue,Ge,Pe,ye)}return this._defaultValue}}]),Y}();i.AutomationEventList=$e,i.createCancelAndHoldAutomationEvent=function(Y){return{cancelTime:Y,type:\"cancelAndHold\"}},i.createCancelScheduledValuesAutomationEvent=function(Y){return{cancelTime:Y,type:\"cancelScheduledValues\"}},i.createExponentialRampToValueAutomationEvent=function(Y,ue){return{endTime:ue,type:\"exponentialRampToValue\",value:Y}},i.createLinearRampToValueAutomationEvent=function(Y,ue){return{endTime:ue,type:\"linearRampToValue\",value:Y}},i.createSetTargetAutomationEvent=function(Y,ue,le){return{startTime:ue,target:Y,timeConstant:le,type:\"setTarget\"}},i.createSetValueAutomationEvent=V,i.createSetValueCurveAutomationEvent=P,Object.defineProperty(i,\"__esModule\",{value:!0})})(e,r(1),r(7),r(8))},function(n,e,r){var i=r(2),o=r(3),c=r(4),d=r(6);n.exports=function(p,g){return i(p)||o(p,g)||c(p,g)||d()}},function(n,e){n.exports=function(r){if(Array.isArray(r))return r}},function(n,e){n.exports=function(r,i){if(typeof Symbol!=\"undefined\"\u0026\u0026Symbol.iterator in Object(r)){var o=[],c=!0,d=!1,p=void 0;try{for(var g,_=r[Symbol.iterator]();!(c=(g=_.next()).done)\u0026\u0026(o.push(g.value),!i||o.length!==i);c=!0);}catch(k){d=!0,p=k}finally{try{c||_.return==null||_.return()}finally{if(d)throw p}}return o}}},function(n,e,r){var i=r(5);n.exports=function(o,c){if(o){if(typeof o==\"string\")return i(o,c);var d=Object.prototype.toString.call(o).slice(8,-1);return d===\"Object\"\u0026\u0026o.constructor\u0026\u0026(d=o.constructor.name),d===\"Map\"||d===\"Set\"?Array.from(o):d===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?i(o,c):void 0}}},function(n,e){n.exports=function(r,i){(i==null||i\u003er.length)\u0026\u0026(i=r.length);for(var o=0,c=new Array(i);o\u003ci;o++)c[o]=r[o];return c}},function(n,e){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,e){n.exports=function(r,i){if(!(r instanceof i))throw new TypeError(\"Cannot call a class as a function\")}},function(n,e){function r(i,o){for(var c=0;c\u003co.length;c++){var d=o[c];d.enumerable=d.enumerable||!1,d.configurable=!0,\"value\"in d\u0026\u0026(d.writable=!0),Object.defineProperty(i,d.key,d)}}n.exports=function(i,o,c){return o\u0026\u0026r(i.prototype,o),c\u0026\u0026r(i,c),i}},function(n,e,r){\"use strict\";r.r(e),r.d(e,\"getContext\",function(){return At}),r.d(e,\"setContext\",function(){return Kl}),r.d(e,\"Clock\",function(){return is}),r.d(e,\"Context\",function(){return to}),r.d(e,\"BaseContext\",function(){return Lm}),r.d(e,\"Delay\",function(){return Kn}),r.d(e,\"Gain\",function(){return Ce}),r.d(e,\"Offline\",function(){return t8}),r.d(e,\"OfflineContext\",function(){return no}),r.d(e,\"Param\",function(){return Ye}),r.d(e,\"ToneAudioBuffer\",function(){return lt}),r.d(e,\"ToneAudioBuffers\",function(){return oo}),r.d(e,\"ToneAudioNode\",function(){return ge}),r.d(e,\"connectSeries\",function(){return mr}),r.d(e,\"connect\",function(){return Zn}),r.d(e,\"disconnect\",function(){return zm}),r.d(e,\"FrequencyClass\",function(){return zn}),r.d(e,\"Frequency\",function(){return J4}),r.d(e,\"MidiClass\",function(){return uo}),r.d(e,\"Midi\",function(){return n8}),r.d(e,\"TimeClass\",function(){return fr}),r.d(e,\"Time\",function(){return Z4}),r.d(e,\"TicksClass\",function(){return Mt}),r.d(e,\"Ticks\",function(){return r8}),r.d(e,\"TransportTimeClass\",function(){return tn}),r.d(e,\"TransportTime\",function(){return e8}),r.d(e,\"Emitter\",function(){return eo}),r.d(e,\"IntervalTimeline\",function(){return dx}),r.d(e,\"StateTimeline\",function(){return io}),r.d(e,\"Timeline\",function(){return Xr}),r.d(e,\"isUndef\",function(){return Xn}),r.d(e,\"isDefined\",function(){return et}),r.d(e,\"isFunction\",function(){return ax}),r.d(e,\"isNumber\",function(){return pr}),r.d(e,\"isObject\",function(){return Ia}),r.d(e,\"isBoolean\",function(){return Fm}),r.d(e,\"isArray\",function(){return Mn}),r.d(e,\"isString\",function(){return Sr}),r.d(e,\"isNote\",function(){return Vu}),r.d(e,\"dbToGain\",function(){return ro}),r.d(e,\"gainToDb\",function(){return Wu}),r.d(e,\"intervalToFrequencyRatio\",function(){return ao}),r.d(e,\"ftom\",function(){return gi}),r.d(e,\"mtof\",function(){return Wm}),r.d(e,\"optionsFromArguments\",function(){return L}),r.d(e,\"defaultArg\",function(){return Or}),r.d(e,\"Unit\",function(){return o}),r.d(e,\"debug\",function(){return i}),r.d(e,\"Noise\",function(){return Wa}),r.d(e,\"UserMedia\",function(){return co}),r.d(e,\"Oscillator\",function(){return Rt}),r.d(e,\"AMOscillator\",function(){return ho}),r.d(e,\"FMOscillator\",function(){return os}),r.d(e,\"PulseOscillator\",function(){return us}),r.d(e,\"FatOscillator\",function(){return po}),r.d(e,\"PWMOscillator\",function(){return fo}),r.d(e,\"OmniOscillator\",function(){return pa}),r.d(e,\"ToneOscillatorNode\",function(){return lo}),r.d(e,\"LFO\",function(){return In}),r.d(e,\"ToneBufferSource\",function(){return La}),r.d(e,\"Player\",function(){return ls}),r.d(e,\"Players\",function(){return ih}),r.d(e,\"GrainPlayer\",function(){return sh}),r.d(e,\"Add\",function(){return cs}),r.d(e,\"Abs\",function(){return vx}),r.d(e,\"AudioToGain\",function(){return rh}),r.d(e,\"GainToAudio\",function(){return gx}),r.d(e,\"GreaterThan\",function(){return Uu}),r.d(e,\"GreaterThanZero\",function(){return oh}),r.d(e,\"Multiply\",function(){return Et}),r.d(e,\"Negate\",function(){return Um}),r.d(e,\"Pow\",function(){return mo}),r.d(e,\"Signal\",function(){return Be}),r.d(e,\"connectSignal\",function(){return zu}),r.d(e,\"Scale\",function(){return fa}),r.d(e,\"ScaleExp\",function(){return $u}),r.d(e,\"Subtract\",function(){return hs}),r.d(e,\"SyncedSignal\",function(){return o8}),r.d(e,\"WaveShaper\",function(){return Cr}),r.d(e,\"Zero\",function(){return ah}),r.d(e,\"AMSynth\",function(){return $m}),r.d(e,\"DuoSynth\",function(){return ch}),r.d(e,\"FMSynth\",function(){return lh}),r.d(e,\"MetalSynth\",function(){return hh}),r.d(e,\"MembraneSynth\",function(){return bo}),r.d(e,\"MonoSynth\",function(){return _i}),r.d(e,\"NoiseSynth\",function(){return dh}),r.d(e,\"PluckSynth\",function(){return ph}),r.d(e,\"PolySynth\",function(){return fh}),r.d(e,\"Sampler\",function(){return wo}),r.d(e,\"Synth\",function(){return Ga}),r.d(e,\"Loop\",function(){return qo}),r.d(e,\"Part\",function(){return To}),r.d(e,\"Pattern\",function(){return mh}),r.d(e,\"Sequence\",function(){return vh}),r.d(e,\"ToneEvent\",function(){return Zr}),r.d(e,\"AutoFilter\",function(){return yh}),r.d(e,\"AutoPanner\",function(){return _h}),r.d(e,\"AutoWah\",function(){return bh}),r.d(e,\"BitCrusher\",function(){return xh}),r.d(e,\"Chebyshev\",function(){return Nh}),r.d(e,\"Chorus\",function(){return wh}),r.d(e,\"Distortion\",function(){return qh}),r.d(e,\"FeedbackDelay\",function(){return Mh}),r.d(e,\"FrequencyShifter\",function(){return Sh}),r.d(e,\"Freeverb\",function(){return Ph}),r.d(e,\"JCReverb\",function(){return Oh}),r.d(e,\"PingPongDelay\",function(){return Ch}),r.d(e,\"PitchShift\",function(){return Ah}),r.d(e,\"Phaser\",function(){return Rh}),r.d(e,\"Reverb\",function(){return Eh}),r.d(e,\"StereoWidener\",function(){return jh}),r.d(e,\"Tremolo\",function(){return Dh}),r.d(e,\"Vibrato\",function(){return Ih}),r.d(e,\"Analyser\",function(){return Oo}),r.d(e,\"Meter\",function(){return Fh}),r.d(e,\"FFT\",function(){return Vh}),r.d(e,\"DCMeter\",function(){return Km}),r.d(e,\"Waveform\",function(){return Lh}),r.d(e,\"Follower\",function(){return Po}),r.d(e,\"Channel\",function(){return ki}),r.d(e,\"CrossFade\",function(){return ds}),r.d(e,\"Merge\",function(){return Ua}),r.d(e,\"MidSideMerge\",function(){return Xu}),r.d(e,\"MidSideSplit\",function(){return Yu}),r.d(e,\"Mono\",function(){return Qm}),r.d(e,\"MultibandSplit\",function(){return Co}),r.d(e,\"Panner\",function(){return So}),r.d(e,\"Panner3D\",function(){return Wh}),r.d(e,\"PanVol\",function(){return Zu}),r.d(e,\"Recorder\",function(){return Ku}),r.d(e,\"Solo\",function(){return Ht}),r.d(e,\"Split\",function(){return bi}),r.d(e,\"Volume\",function(){return da}),r.d(e,\"Compressor\",function(){return va}),r.d(e,\"Gate\",function(){return Bh}),r.d(e,\"Limiter\",function(){return zh}),r.d(e,\"MidSideCompressor\",function(){return Gh}),r.d(e,\"MultibandCompressor\",function(){return Uh}),r.d(e,\"AmplitudeEnvelope\",function(){return vo}),r.d(e,\"Envelope\",function(){return yn}),r.d(e,\"FrequencyEnvelope\",function(){return _o}),r.d(e,\"EQ3\",function(){return $h}),r.d(e,\"Filter\",function(){return Qn}),r.d(e,\"OnePoleFilter\",function(){return ko}),r.d(e,\"FeedbackCombFilter\",function(){return xo}),r.d(e,\"LowpassCombFilter\",function(){return No}),r.d(e,\"Convolver\",function(){return Hh}),r.d(e,\"BiquadFilter\",function(){return yo}),r.d(e,\"version\",function(){return c}),r.d(e,\"start\",function(){return X4}),r.d(e,\"supported\",function(){return G4}),r.d(e,\"now\",function(){return g8}),r.d(e,\"immediate\",function(){return y8}),r.d(e,\"Transport\",function(){return _8}),r.d(e,\"getTransport\",function(){return b8}),r.d(e,\"Destination\",function(){return x8}),r.d(e,\"Master\",function(){return k8}),r.d(e,\"getDestination\",function(){return N8}),r.d(e,\"Listener\",function(){return w8}),r.d(e,\"getListener\",function(){return q8}),r.d(e,\"Draw\",function(){return T8}),r.d(e,\"getDraw\",function(){return M8}),r.d(e,\"context\",function(){return S8}),r.d(e,\"loaded\",function(){return P8}),r.d(e,\"Buffer\",function(){return O8}),r.d(e,\"Buffers\",function(){return C8}),r.d(e,\"BufferSource\",function(){return A8});var i={};r.r(i),r.d(i,\"assert\",function(){return Ee}),r.d(i,\"assertRange\",function(){return Tn}),r.d(i,\"assertContextRunning\",function(){return Dm}),r.d(i,\"setLogger\",function(){return U4}),r.d(i,\"log\",function(){return rx}),r.d(i,\"warn\",function(){return Fu});var o={};r.r(o);let c=\"14.7.77\";var d=r(0);let p=new WeakSet,g=new WeakMap,_=new WeakMap,k=new WeakMap,x=new WeakMap,q=new WeakMap,V=new WeakMap,P=new WeakMap,W=new WeakMap,K=new WeakMap,J={construct:()=\u003eJ},X=/^import(?:(?:[\\s]+[\\w]+|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\{[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?(?:[\\s]*,[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?)*[\\s]*}|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\*[\\s]+as[\\s]+[\\w]+)[\\s]+from)?(?:[\\s]*)(\"([^\"\\\\]|\\\\.)+\"|'([^'\\\\]|\\\\.)+')(?:[\\s]*);?/,oe=(l,t)=\u003e{let s=[],u=l.replace(/^[\\s]+/,\"\"),h=u.match(X);for(;h!==null;){let f=h[1].slice(1,-1),m=h[0].replace(/([\\s]+)?;?$/,\"\").replace(f,new URL(f,t).toString());s.push(m),u=u.slice(h[0].length).replace(/^[\\s]+/,\"\"),h=u.match(X)}return[s.join(\";\"),u]},G=l=\u003e{if(l!==void 0\u0026\u0026!Array.isArray(l))throw new TypeError(\"The parameterDescriptors property of given value for processorCtor is not an array.\")},R=l=\u003e{if(!(t=\u003e{try{new new Proxy(t,J)}catch{return!1}return!0})(l))throw new TypeError(\"The given value for processorCtor should be a constructor.\");if(l.prototype===null||typeof l.prototype!=\"object\")throw new TypeError(\"The given value for processorCtor should have a prototype.\")},$=(l,t)=\u003e{let s=l.get(t);if(s===void 0)throw new Error(\"A value with the given key could not be found.\");return s},U=(l,t)=\u003e{let s=Array.from(l).filter(t);if(s.length\u003e1)throw Error(\"More than one element was found.\");if(s.length===0)throw Error(\"No element was found.\");let[u]=s;return l.delete(u),u},te=(l,t,s,u)=\u003e{let h=$(l,t),f=U(h,m=\u003em[0]===s\u0026\u0026m[1]===u);return h.size===0\u0026\u0026l.delete(t),f},ie=l=\u003e$(V,l),be=l=\u003e{if(p.has(l))throw new Error(\"The AudioNode is already stored.\");p.add(l),ie(l).forEach(t=\u003et(!0))},Ne=l=\u003e\"port\"in l,Ae=l=\u003e{if(!p.has(l))throw new Error(\"The AudioNode is not stored.\");p.delete(l),ie(l).forEach(t=\u003et(!1))},ze=(l,t)=\u003e{!Ne(l)\u0026\u0026t.every(s=\u003es.size===0)\u0026\u0026Ae(l)},$e={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Y=(l,t)=\u003el.context===t,ue=l=\u003e{try{l.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},le=()=\u003enew DOMException(\"\",\"IndexSizeError\"),ce=l=\u003e{var t;l.getChannelData=(t=l.getChannelData,s=\u003e{try{return t.call(l,s)}catch(u){throw u.code===12?le():u}})},ye={numberOfChannels:1},me=-34028234663852886e22,je=-me,Je=l=\u003ep.has(l),ft={buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},de=l=\u003e$(g,l),xe=l=\u003e$(k,l),Oe=(l,t)=\u003e{let{activeInputs:s}=de(l);s.forEach(h=\u003eh.forEach(([f])=\u003e{t.includes(l)||Oe(f,[...t,l])}));let u=(h=\u003e\"playbackRate\"in h)(l)?[l.playbackRate]:Ne(l)?Array.from(l.parameters.values()):(h=\u003e\"frequency\"in h\u0026\u0026\"gain\"in h)(l)?[l.Q,l.detune,l.frequency,l.gain]:(h=\u003e\"offset\"in h)(l)?[l.offset]:(h=\u003e!(\"frequency\"in h)\u0026\u0026\"gain\"in h)(l)?[l.gain]:(h=\u003e\"detune\"in h\u0026\u0026\"frequency\"in h)(l)?[l.detune,l.frequency]:(h=\u003e\"pan\"in h)(l)?[l.pan]:[];for(let h of u){let f=xe(h);f!==void 0\u0026\u0026f.activeInputs.forEach(([m])=\u003eOe(m,t))}Je(l)\u0026\u0026Ae(l)},Ge=l=\u003e{Oe(l.destination,[])},Pe=l=\u003el===void 0||typeof l==\"number\"||typeof l==\"string\"\u0026\u0026(l===\"balanced\"||l===\"interactive\"||l===\"playback\"),Se=l=\u003e\"context\"in l,nt=l=\u003eSe(l[0]),ct=(l,t,s,u)=\u003e{for(let h of l)if(s(h)){if(u)return!1;throw Error(\"The set contains at least one similar element.\")}return l.add(t),!0},Gt=(l,t,[s,u],h)=\u003e{ct(l,[t,s,u],f=\u003ef[0]===t\u0026\u0026f[1]===s,h)},fn=(l,[t,s,u],h)=\u003e{let f=l.get(t);f===void 0?l.set(t,new Set([[s,u]])):ct(f,[s,u],m=\u003em[0]===s,h)},Ot=l=\u003e\"inputs\"in l,mn=(l,t,s,u)=\u003e{if(Ot(t)){let h=t.inputs[u];return l.connect(h,s,0),[h,s,0]}return l.connect(t,s,u),[t,s,u]},wn=(l,t,s)=\u003e{for(let u of l)if(u[0]===t\u0026\u0026u[1]===s)return l.delete(u),u;return null},Un=(l,t)=\u003e{if(!ie(l).delete(t))throw new Error(\"Missing the expected event listener.\")},$n=(l,t,s)=\u003e{let u=$(l,t),h=U(u,f=\u003ef[0]===s);return u.size===0\u0026\u0026l.delete(t),h},Hn=(l,t,s,u)=\u003e{Ot(t)?l.disconnect(t.inputs[u],s,0):l.disconnect(t,s,u)},mt=l=\u003e$(_,l),jn=l=\u003e$(x,l),Dn=l=\u003eP.has(l),Wr=l=\u003e!p.has(l),sa=l=\u003enew Promise(t=\u003e{let s=l.createScriptProcessor(256,1,1),u=l.createGain(),h=l.createBuffer(1,2,44100),f=h.getChannelData(0);f[0]=1,f[1]=1;let m=l.createBufferSource();m.buffer=h,m.loop=!0,m.connect(s).connect(l.destination),m.connect(u),m.disconnect(u),s.onaudioprocess=y=\u003e{let b=y.inputBuffer.getChannelData(0);Array.prototype.some.call(b,N=\u003eN===1)?t(!0):t(!1),m.stop(),s.onaudioprocess=null,m.disconnect(s),s.disconnect(l.destination)},m.start()}),Tr=(l,t)=\u003e{let s=new Map;for(let u of l)for(let h of u){let f=s.get(h);s.set(h,f===void 0?1:f+1)}s.forEach((u,h)=\u003et(h,u))},Br=l=\u003e\"context\"in l,si=(l,t,s,u)=\u003e{let{activeInputs:h,passiveInputs:f}=xe(t),{outputs:m}=de(l),y=ie(l),b=N=\u003e{let S=mt(l),w=jn(t);if(N){let O=$n(f,l,s);Gt(h,l,O,!1),u||Dn(l)||S.connect(w,s)}else{let O=((T,H,D)=\u003eU(T,j=\u003ej[0]===H\u0026\u0026j[1]===D))(h,l,s);fn(f,O,!1),u||Dn(l)||S.disconnect(w,s)}};return!!ct(m,[t,s],N=\u003eN[0]===t\u0026\u0026N[1]===s,!0)\u0026\u0026(y.add(b),Je(l)?Gt(h,l,[s,b],!0):fn(f,[l,s,b],!0),!0)},hr=(l,t,s,u,h)=\u003e{let[f,m]=((y,b,N,S)=\u003e{let{activeInputs:w,passiveInputs:O}=de(b),T=wn(w[S],y,N);return T===null?[te(O,y,N,S)[2],!1]:[T[2],!0]})(l,s,u,h);if(f!==null\u0026\u0026(Un(l,f),!m||t||Dn(l)||Hn(mt(l),mt(s),u,h)),Je(s)){let{activeInputs:y}=de(s);ze(s,y)}},Yn=(l,t,s,u)=\u003e{let[h,f]=((m,y,b)=\u003e{let{activeInputs:N,passiveInputs:S}=xe(y),w=wn(N,m,b);return w===null?[$n(S,m,b)[1],!1]:[w[2],!0]})(l,s,u);h!==null\u0026\u0026(Un(l,h),!f||t||Dn(l)||mt(l).disconnect(jn(s),u))};class oi{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,s=null){return this._map.forEach((u,h)=\u003et.call(s,u,h,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}let Ea={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function oa(l,t,s,u,h){if(typeof l.copyFromChannel==\"function\")t[s].byteLength===0\u0026\u0026(t[s]=new Float32Array(128)),l.copyFromChannel(t[s],u,h);else{let f=l.getChannelData(u);if(t[s].byteLength===0)t[s]=f.slice(h,h+128);else{let m=new Float32Array(f.buffer,h*Float32Array.BYTES_PER_ELEMENT,128);t[s].set(m)}}}let ja=(l,t,s,u,h)=\u003e{typeof l.copyToChannel==\"function\"?t[s].byteLength!==0\u0026\u0026l.copyToChannel(t[s],u,h):t[s].byteLength!==0\u0026\u0026l.getChannelData(u).set(t[s],h)},ua=(l,t)=\u003e{let s=[];for(let u=0;u\u003cl;u+=1){let h=[],f=typeof t==\"number\"?t:t[u];for(let m=0;m\u003cf;m+=1)h.push(new Float32Array(128));s.push(h)}return s},es=async(l,t,s,u,h,f,m)=\u003e{let y=t===null?128*Math.ceil(l.context.length/128):t.length,b=u.channelCount*u.numberOfInputs,N=h.reduce((j,B)=\u003ej+B,0),S=N===0?null:s.createBuffer(N,y,s.sampleRate);if(f===void 0)throw new Error(\"Missing the processor constructor.\");let w=de(l),O=await((j,B)=\u003e{let Q=$(K,j),Z=mt(B);return $(Q,Z)})(s,l),T=ua(u.numberOfInputs,u.channelCount),H=ua(u.numberOfOutputs,h),D=Array.from(l.parameters.keys()).reduce((j,B)=\u003e({...j,[B]:new Float32Array(128)}),{});for(let j=0;j\u003cy;j+=128){if(u.numberOfInputs\u003e0\u0026\u0026t!==null)for(let B=0;B\u003cu.numberOfInputs;B+=1)for(let Q=0;Q\u003cu.channelCount;Q+=1)oa(t,T[B],Q,Q,j);f.parameterDescriptors!==void 0\u0026\u0026t!==null\u0026\u0026f.parameterDescriptors.forEach(({name:B},Q)=\u003e{oa(t,D,B,b+Q,j)});for(let B=0;B\u003cu.numberOfInputs;B+=1)for(let Q=0;Q\u003ch[B];Q+=1)H[B][Q].byteLength===0\u0026\u0026(H[B][Q]=new Float32Array(128));try{let B=T.map((Z,ee)=\u003ew.activeInputs[ee].size===0?[]:Z),Q=m(j/s.sampleRate,s.sampleRate,()=\u003eO.process(B,H,D));if(S!==null)for(let Z=0,ee=0;Z\u003cu.numberOfOutputs;Z+=1){for(let ae=0;ae\u003ch[Z];ae+=1)ja(S,H[Z],ae,ee+ae,j);ee+=h[Z]}if(!Q)break}catch(B){l.dispatchEvent(new ErrorEvent(\"processorerror\",{colno:B.colno,filename:B.filename,lineno:B.lineno,message:B.message}));break}}return S},ui={Q:1,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",detune:0,frequency:350,gain:0,type:\"lowpass\"},He={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:6},zr={channelCount:6,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:6},ca={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",offset:1},ci={buffer:null,channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",disableNormalization:!1},li={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",delayTime:0,maxDelayTime:1},hi=(l,t,s)=\u003e{let u=t[s];if(u===void 0)throw l();return u},Us={attack:.003,channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",knee:30,ratio:12,release:.25,threshold:-24},di={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",gain:1},It=()=\u003enew DOMException(\"\",\"InvalidStateError\"),pi=()=\u003enew DOMException(\"\",\"InvalidAccessError\"),Eu={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\"},$s=(l,t,s,u,h,f,m,y,b,N,S)=\u003e{let w=N.length,O=y;for(let T=0;T\u003cw;T+=1){let H=s[0]*N[T];for(let D=1;D\u003ch;D+=1){let j=O-D\u0026b-1;H+=s[D]*f[j],H-=l[D]*m[j]}for(let D=h;D\u003cu;D+=1)H+=s[D]*f[O-D\u0026b-1];for(let D=h;D\u003ct;D+=1)H-=l[D]*m[O-D\u0026b-1];f[O]=N[T],m[O]=H,O=O+1\u0026b-1,S[T]=H}return O},Re={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\"},zt=l=\u003e{let t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{let s=l.decodeAudioData(t.buffer,()=\u003e{});return s!==void 0\u0026\u0026(s.catch(()=\u003e{}),!0)}catch{}return!1},ts={numberOfChannels:1},_t=(l,t,s)=\u003e{let u=t[s];u!==void 0\u0026\u0026u!==l[s]\u0026\u0026(l[s]=u)},Zt=(l,t)=\u003e{_t(l,t,\"channelCount\"),_t(l,t,\"channelCountMode\"),_t(l,t,\"channelInterpretation\")},Vl=l=\u003etypeof l.getFloatTimeDomainData==\"function\",Ft=(l,t,s)=\u003e{let u=t[s];u!==void 0\u0026\u0026u!==l[s].value\u0026\u0026(l[s].value=u)},Hs=l=\u003e{var t;l.start=(t=l.start,(s=0,u=0,h)=\u003e{if(typeof h==\"number\"\u0026\u0026h\u003c0||u\u003c0||s\u003c0)throw new RangeError(\"The parameters can't be negative.\");t.call(l,s,u,h)})},ju=l=\u003e{var t;l.stop=(t=l.stop,(s=0)=\u003e{if(s\u003c0)throw new RangeError(\"The parameter can't be negative.\");t.call(l,s)})},Ll=(l,t)=\u003el===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(l*t))))),M=async(l,t)=\u003enew l(await(s=\u003enew Promise((u,h)=\u003e{let{port1:f,port2:m}=new MessageChannel;f.onmessage=({data:y})=\u003e{f.close(),m.close(),u(y)},f.onmessageerror=({data:y})=\u003e{f.close(),m.close(),h(y)},m.postMessage(s)}))(t)),A=(l,t)=\u003e{let s=l.createBiquadFilter();return Zt(s,t),Ft(s,t,\"Q\"),Ft(s,t,\"detune\"),Ft(s,t,\"frequency\"),Ft(s,t,\"gain\"),_t(s,t,\"type\"),s},E=(l,t)=\u003e{let s=l.createChannelSplitter(t.numberOfOutputs);return Zt(s,t),(u=\u003e{let h=u.numberOfOutputs;Object.defineProperty(u,\"channelCount\",{get:()=\u003eh,set:f=\u003e{if(f!==h)throw It()}}),Object.defineProperty(u,\"channelCountMode\",{get:()=\u003e\"explicit\",set:f=\u003e{if(f!==\"explicit\")throw It()}}),Object.defineProperty(u,\"channelInterpretation\",{get:()=\u003e\"discrete\",set:f=\u003e{if(f!==\"discrete\")throw It()}})})(s),s},F=(l,t)=\u003e(l.connect=t.connect.bind(t),l.disconnect=t.disconnect.bind(t),l),I=(l,t)=\u003e{let s=l.createDelay(t.maxDelayTime);return Zt(s,t),Ft(s,t,\"delayTime\"),s},z=(l,t)=\u003e{let s=l.createGain();return Zt(s,t),Ft(s,t,\"gain\"),s};function _e(l,t){let s=t[0]*t[0]+t[1]*t[1];return[(l[0]*t[0]+l[1]*t[1])/s,(l[1]*t[0]-l[0]*t[1])/s]}function qe(l,t){let s=[0,0];for(let f=l.length-1;f\u003e=0;f-=1)h=t,s=[(u=s)[0]*h[0]-u[1]*h[1],u[0]*h[1]+u[1]*h[0]],s[0]+=l[f];var u,h;return s}let Ue=(l,t,s,u)=\u003el.createScriptProcessor(t,s,u),Ze=()=\u003enew DOMException(\"\",\"NotSupportedError\"),vt={numberOfChannels:1},qt={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",detune:0,frequency:440,periodicWave:void 0,type:\"sine\"},Ut={channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:\"inverse\",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:\"equalpower\",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Gr={disableNormalization:!1},ns={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",pan:0},Ys=()=\u003enew DOMException(\"\",\"UnknownError\"),gm={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",curve:null,oversample:\"none\"},Xs=l=\u003e{if(l===null)return!1;let t=l.length;return t%2!=0?l[Math.floor(t/2)]!==0:l[t/2-1]+l[t/2]!==0},Mr=(l,t,s,u)=\u003e{let h=Object.getPrototypeOf(l);for(;!h.hasOwnProperty(t);)h=Object.getPrototypeOf(h);let{get:f,set:m}=Object.getOwnPropertyDescriptor(h,t);Object.defineProperty(l,t,{get:s(f),set:u(m)})},t1=(l,t,s)=\u003e{try{l.setValueAtTime(t,s)}catch(u){if(u.code!==9)throw u;t1(l,t,s+1e-7)}},ym=l=\u003e{let t=l.createOscillator();try{t.start(-1)}catch(s){return s instanceof RangeError}return!1},n1=l=\u003e{let t=l.createBuffer(1,1,44100),s=l.createBufferSource();s.buffer=t,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},_m=l=\u003e{let t=l.createOscillator();try{t.stop(-1)}catch(s){return s instanceof RangeError}return!1},BD=()=\u003e{try{new DOMException}catch{return!1}return!0},zD=()=\u003enew Promise(l=\u003e{let t=new ArrayBuffer(0),{port1:s,port2:u}=new MessageChannel;s.onmessage=({data:h})=\u003el(h!==null),u.postMessage(t,[t])}),r1=(l,t)=\u003e{let s=t.createGain();l.connect(s);let u=(h=l.disconnect,()=\u003e{h.call(l,s),l.removeEventListener(\"ended\",u)});var h;l.addEventListener(\"ended\",u),F(l,s),l.stop=(f=\u003e{let m=!1;return(y=0)=\u003e{if(m)try{f.call(l,y)}catch{s.gain.setValueAtTime(0,y)}else f.call(l,y),m=!0}})(l.stop)},Zs=(l,t)=\u003es=\u003e{let u={value:l};return Object.defineProperties(s,{currentTarget:u,target:u}),typeof t==\"function\"?t.call(l,s):t.handleEvent.call(l,s)},GD=(a1=ct,(l,t,[s,u,h],f)=\u003e{a1(l[u],[t,s,h],m=\u003em[0]===t\u0026\u0026m[1]===s,f)});var a1;let UD=(l=\u003e(t,s,[u,h,f],m)=\u003e{let y=t.get(u);y===void 0?t.set(u,new Set([[h,s,f]])):l(y,[h,s,f],b=\u003eb[0]===h\u0026\u0026b[1]===s,m)})(ct),$D=(l=\u003e(t,s,u,h)=\u003el(t[h],f=\u003ef[0]===s\u0026\u0026f[1]===u))(U),i1=new WeakMap,HD=(l=\u003et=\u003e{var s;return(s=l.get(t))!==null\u0026\u0026s!==void 0?s:0})(i1),dr=(Wl=new Map,Du=new WeakMap,(l,t)=\u003e{let s=Du.get(l);if(s!==void 0)return s;let u=Wl.get(l);if(u!==void 0)return u;try{let h=t();return h instanceof Promise?(Wl.set(l,h),h.catch(()=\u003e!1).then(f=\u003e(Wl.delete(l),Du.set(l,f),f))):(Du.set(l,h),h)}catch{return Du.set(l,!1),!1}});var Wl,Du;let Ur=typeof window==\"undefined\"?null:window,s1=(o1=dr,u1=le,(l,t)=\u003e{let s=l.createAnalyser();if(Zt(s,t),!(t.maxDecibels\u003et.minDecibels))throw u1();return _t(s,t,\"fftSize\"),_t(s,t,\"maxDecibels\"),_t(s,t,\"minDecibels\"),_t(s,t,\"smoothingTimeConstant\"),o1(Vl,()=\u003eVl(s))||(u=\u003e{u.getFloatTimeDomainData=h=\u003e{let f=new Uint8Array(h.length);u.getByteTimeDomainData(f);let m=Math.max(f.length,u.fftSize);for(let y=0;y\u003cm;y+=1)h[y]=.0078125*(f[y]-128);return h}})(s),s});var o1,u1;let bm=(c1=de,l=\u003e{let t=c1(l);if(t.renderer===null)throw new Error(\"Missing the renderer of the given AudioNode in the audio graph.\");return t.renderer});var c1;let qn=((l,t,s)=\u003easync(u,h,f,m)=\u003e{let y=l(u),b=[...m,u];await Promise.all(y.activeInputs.map((N,S)=\u003eArray.from(N).filter(([w])=\u003e!b.includes(w)).map(async([w,O])=\u003e{let T=t(w),H=await T.render(w,h,b),D=u.context.destination;s(w)||u===D\u0026\u0026s(u)||H.connect(f,O,S)})).reduce((N,S)=\u003e[...N,...S],[]))})(de,bm,Dn),YD=(l1=s1,h1=mt,d1=qn,()=\u003e{let l=new WeakMap;return{render(t,s,u){let h=l.get(s);return h!==void 0?Promise.resolve(h):(async(f,m,y)=\u003e{let b=h1(f);if(!Y(b,m)){let N={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,fftSize:b.fftSize,maxDecibels:b.maxDecibels,minDecibels:b.minDecibels,smoothingTimeConstant:b.smoothingTimeConstant};b=l1(m,N)}return l.set(m,b),await d1(f,m,b,y),b})(t,s,u)}}});var l1,h1,d1;let Ct=(p1=q,l=\u003e{let t=p1.get(l);if(t===void 0)throw It();return t});var p1;let vn=(l=\u003el===null?null:l.hasOwnProperty(\"OfflineAudioContext\")?l.OfflineAudioContext:l.hasOwnProperty(\"webkitOfflineAudioContext\")?l.webkitOfflineAudioContext:null)(Ur),kt=(xm=vn,l=\u003exm!==null\u0026\u0026l instanceof xm);var xm;let f1=new WeakMap,m1=(v1=Zs,class{constructor(l){this._nativeEventTarget=l,this._listeners=new WeakMap}addEventListener(l,t,s){if(t!==null){let u=this._listeners.get(t);u===void 0\u0026\u0026(u=v1(this,t),typeof t==\"function\"\u0026\u0026this._listeners.set(t,u)),this._nativeEventTarget.addEventListener(l,u,s)}}dispatchEvent(l){return this._nativeEventTarget.dispatchEvent(l)}removeEventListener(l,t,s){let u=t===null?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(l,u===void 0?null:u,s)}});var v1;let Da=(l=\u003el===null?null:l.hasOwnProperty(\"AudioContext\")?l.AudioContext:l.hasOwnProperty(\"webkitAudioContext\")?l.webkitAudioContext:null)(Ur),km=(Nm=Da,l=\u003eNm!==null\u0026\u0026l instanceof Nm);var Nm;let wm=(l=\u003et=\u003el!==null\u0026\u0026typeof l.AudioNode==\"function\"\u0026\u0026t instanceof l.AudioNode)(Ur),g1=(l=\u003et=\u003el!==null\u0026\u0026typeof l.AudioParam==\"function\"\u0026\u0026t instanceof l.AudioParam)(Ur),Kt=((l,t,s,u,h,f,m,y,b,N,S,w,O,T,H)=\u003eclass extends N{constructor(D,j,B,Q){super(B),this._context=D,this._nativeAudioNode=B;let Z=S(D);w(Z)\u0026\u0026s(sa,()=\u003esa(Z))!==!0\u0026\u0026(ee=\u003e{let ae=new Map;var ne,se;ee.connect=(ne=ee.connect.bind(ee),(ke,he=0,fe=0)=\u003e{let ve=Br(ke)?ne(ke,he,fe):ne(ke,he),Te=ae.get(ke);return Te===void 0?ae.set(ke,[{input:fe,output:he}]):Te.every(Le=\u003eLe.input!==fe||Le.output!==he)\u0026\u0026Te.push({input:fe,output:he}),ve}),ee.disconnect=(se=ee.disconnect,(ke,he,fe)=\u003e{if(se.apply(ee),ke===void 0)ae.clear();else if(typeof ke==\"number\")for(let[ve,Te]of ae){let Le=Te.filter(ht=\u003eht.output!==ke);Le.length===0?ae.delete(ve):ae.set(ve,Le)}else if(ae.has(ke))if(he===void 0)ae.delete(ke);else{let ve=ae.get(ke);if(ve!==void 0){let Te=ve.filter(Le=\u003eLe.output!==he\u0026\u0026(Le.input!==fe||fe===void 0));Te.length===0?ae.delete(ke):ae.set(ke,Te)}}for(let[ve,Te]of ae)Te.forEach(Le=\u003e{Br(ve)?ee.connect(ve,Le.output,Le.input):ee.connect(ve,Le.output)})})})(B),_.set(this,B),V.set(this,new Set),D.state!==\"closed\"\u0026\u0026j\u0026\u0026be(this),l(this,Q,B)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(D){this._nativeAudioNode.channelCount=D}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(D){this._nativeAudioNode.channelCountMode=D}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(D){this._nativeAudioNode.channelInterpretation=D}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(D,j=0,B=0){if(j\u003c0||j\u003e=this._nativeAudioNode.numberOfOutputs)throw h();let Q=S(this._context),Z=H(Q);if(O(D)||T(D))throw f();if(Se(D)){let ae=mt(D);try{let ne=mn(this._nativeAudioNode,ae,j,B),se=Wr(this);(Z||se)\u0026\u0026this._nativeAudioNode.disconnect(...ne),this.context.state!==\"closed\"\u0026\u0026!se\u0026\u0026Wr(D)\u0026\u0026be(D)}catch(ne){throw ne.code===12?f():ne}if(t(this,D,j,B,Z)){let ne=b([this],D);Tr(ne,u(Z))}return D}let ee=jn(D);if(ee.name===\"playbackRate\")throw m();try{this._nativeAudioNode.connect(ee,j),(Z||Wr(this))\u0026\u0026this._nativeAudioNode.disconnect(ee,j)}catch(ae){throw ae.code===12?f():ae}if(si(this,D,j,Z)){let ae=b([this],D);Tr(ae,u(Z))}}disconnect(D,j,B){let Q,Z=S(this._context),ee=H(Z);if(D===void 0)Q=((ae,ne)=\u003e{let se=de(ae),ke=[];for(let he of se.outputs)nt(he)?hr(ae,ne,...he):Yn(ae,ne,...he),ke.push(he[0]);return se.outputs.clear(),ke})(this,ee);else if(typeof D==\"number\"){if(D\u003c0||D\u003e=this.numberOfOutputs)throw h();Q=((ae,ne,se)=\u003e{let ke=de(ae),he=[];for(let fe of ke.outputs)fe[1]===se\u0026\u0026(nt(fe)?hr(ae,ne,...fe):Yn(ae,ne,...fe),he.push(fe[0]),ke.outputs.delete(fe));return he})(this,ee,D)}else{if(j!==void 0\u0026\u0026(j\u003c0||j\u003e=this.numberOfOutputs)||Se(D)\u0026\u0026B!==void 0\u0026\u0026(B\u003c0||B\u003e=D.numberOfInputs))throw h();if(Q=((ae,ne,se,ke,he)=\u003e{let fe=de(ae);return Array.from(fe.outputs).filter(ve=\u003e!(ve[0]!==se||ke!==void 0\u0026\u0026ve[1]!==ke||he!==void 0\u0026\u0026ve[2]!==he)).map(ve=\u003e(nt(ve)?hr(ae,ne,...ve):Yn(ae,ne,...ve),fe.outputs.delete(ve),ve[0]))})(this,ee,D,j,B),Q.length===0)throw f()}for(let ae of Q){let ne=b([this],ae);Tr(ne,y)}}})((y1=g,(l,t,s)=\u003e{let u=[];for(let h=0;h\u003cs.numberOfInputs;h+=1)u.push(new Set);y1.set(l,{activeInputs:u,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((l,t,s,u,h,f,m,y,b,N,S,w,O)=\u003e(T,H,D,j,B)=\u003e{let{activeInputs:Q,passiveInputs:Z}=f(H),{outputs:ee}=f(T),ae=y(T),ne=se=\u003e{let ke=b(H),he=b(T);if(se){let fe=te(Z,T,D,j);l(Q,T,fe,!1),B||w(T)||s(he,ke,D,j),O(H)\u0026\u0026be(H)}else{let fe=u(Q,T,D,j);t(Z,j,fe,!1),B||w(T)||h(he,ke,D,j);let ve=m(H);ve===0?S(H)\u0026\u0026ze(H,Q):setTimeout(()=\u003e{S(H)\u0026\u0026ze(H,Q)},1e3*ve)}};return!!N(ee,[H,D,j],se=\u003ese[0]===H\u0026\u0026se[1]===D\u0026\u0026se[2]===j,!0)\u0026\u0026(ae.add(ne),S(T)?l(Q,T,[D,j,ne],!0):t(Z,j,[T,D,ne],!0),!0)})(GD,UD,mn,$D,Hn,de,HD,ie,mt,ct,Je,Dn,Wr),dr,((l,t,s,u,h,f)=\u003em=\u003e(y,b)=\u003e{let N=l.get(y);if(N===void 0){if(!m\u0026\u0026f(y)){let S=u(y),{outputs:w}=s(y);for(let O of w)if(nt(O)){let T=u(O[0]);t(S,T,O[1],O[2])}else{let T=h(O[0]);S.disconnect(T,O[1])}}l.set(y,b)}else l.set(y,N+b)})(P,Hn,de,mt,jn,Je),le,pi,Ze,((l,t,s,u,h,f,m,y)=\u003e(b,N)=\u003e{let S=t.get(b);if(S===void 0)throw new Error(\"Missing the expected cycle count.\");let w=f(b.context),O=y(w);if(S===N){if(t.delete(b),!O\u0026\u0026m(b)){let T=u(b),{outputs:H}=s(b);for(let D of H)if(nt(D)){let j=u(D[0]);l(T,j,D[1],D[2])}else{let j=h(D[0]);T.connect(j,D[1])}}}else t.set(b,S-N)})(mn,P,de,mt,jn,Ct,Je,kt),((l,t,s)=\u003efunction u(h,f){let m=Se(f)?f:s(l,f);if((b=\u003e\"delayTime\"in b)(m))return[];if(h[0]===m)return[h];if(h.includes(m))return[];let{outputs:y}=t(m);return Array.from(y).map(b=\u003eu([...h,m],b[0])).reduce((b,N)=\u003eb.concat(N),[])})(f1,de,$),m1,Ct,km,wm,g1,kt);var y1;let XD=((l,t,s,u,h,f)=\u003eclass extends l{constructor(m,y){let b=h(m),N={...$e,...y},S=u(b,N);super(m,!1,S,f(b)?t():null),this._nativeAnalyserNode=S}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(m){this._nativeAnalyserNode.fftSize=m}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(m){let y=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=m,!(m\u003ethis._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=y,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(m){let y=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=m,!(this._nativeAnalyserNode.maxDecibels\u003em))throw this._nativeAnalyserNode.minDecibels=y,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(m){this._nativeAnalyserNode.smoothingTimeConstant=m}getByteFrequencyData(m){this._nativeAnalyserNode.getByteFrequencyData(m)}getByteTimeDomainData(m){this._nativeAnalyserNode.getByteTimeDomainData(m)}getFloatFrequencyData(m){this._nativeAnalyserNode.getFloatFrequencyData(m)}getFloatTimeDomainData(m){this._nativeAnalyserNode.getFloatTimeDomainData(m)}})(Kt,YD,le,s1,Ct,kt),qm=new WeakSet,_1=(l=\u003el===null?null:l.hasOwnProperty(\"AudioBuffer\")?l.AudioBuffer:null)(Ur),b1=(Tm=new Uint32Array(1),l=\u003e(Tm[0]=l,Tm[0]));var Tm;let Mm=((l,t)=\u003es=\u003e{s.copyFromChannel=(u,h,f=0)=\u003e{let m=l(f),y=l(h);if(y\u003e=s.numberOfChannels)throw t();let b=s.length,N=s.getChannelData(y),S=u.length;for(let w=m\u003c0?-m:0;w+m\u003cb\u0026\u0026w\u003cS;w+=1)u[w]=N[w+m]},s.copyToChannel=(u,h,f=0)=\u003e{let m=l(f),y=l(h);if(y\u003e=s.numberOfChannels)throw t();let b=s.length,N=s.getChannelData(y),S=u.length;for(let w=m\u003c0?-m:0;w+m\u003cb\u0026\u0026w\u003cS;w+=1)N[w+m]=u[w]}})(b1,le),Sm=(l=\u003et=\u003e{t.copyFromChannel=(s=\u003e(u,h,f=0)=\u003e{let m=l(f),y=l(h);if(m\u003ct.length)return s.call(t,u,y,m)})(t.copyFromChannel),t.copyToChannel=(s=\u003e(u,h,f=0)=\u003e{let m=l(f),y=l(h);if(m\u003ct.length)return s.call(t,u,y,m)})(t.copyToChannel)})(b1),ZD=((l,t,s,u,h,f,m,y)=\u003e{let b=null;return class V3{constructor(S){if(h===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let{length:w,numberOfChannels:O,sampleRate:T}={...ye,...S};b===null\u0026\u0026(b=new h(1,1,44100));let H=u!==null\u0026\u0026t(f,f)?new u({length:w,numberOfChannels:O,sampleRate:T}):b.createBuffer(O,w,T);if(H.numberOfChannels===0)throw s();return typeof H.copyFromChannel!=\"function\"?(m(H),ce(H)):t(ue,()=\u003eue(H))||y(H),l.add(H),H}static[Symbol.hasInstance](S){return S!==null\u0026\u0026typeof S==\"object\"\u0026\u0026Object.getPrototypeOf(S)===V3.prototype||l.has(S)}}})(qm,dr,Ze,_1,vn,(Pm=_1,()=\u003e{if(Pm===null)return!1;try{new Pm({length:1,sampleRate:44100})}catch{return!1}return!0}),Mm,Sm);var Pm;let Bl=(x1=z,(l,t)=\u003e{let s=x1(l,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});t.connect(s).connect(l.destination);let u=()=\u003e{t.removeEventListener(\"ended\",u),t.disconnect(s),s.disconnect()};t.addEventListener(\"ended\",u)});var x1;let k1=((l,t,s)=\u003easync(u,h,f,m)=\u003e{let y=t(u);await Promise.all(Array.from(y.activeInputs).map(async([b,N])=\u003e{let S=l(b),w=await S.render(b,h,m);s(b)||w.connect(f,N)}))})(bm,xe,Dn),la=(l=\u003e(t,s,u,h)=\u003el(s,t,u,h))(k1),Ks=((l,t,s,u,h,f,m,y,b,N,S)=\u003e(w,O)=\u003e{let T=w.createBufferSource();return Zt(T,O),Ft(T,O,\"playbackRate\"),_t(T,O,\"buffer\"),_t(T,O,\"loop\"),_t(T,O,\"loopEnd\"),_t(T,O,\"loopStart\"),t(s,()=\u003es(w))||(H=\u003e{H.start=(D=\u003e{let j=!1;return(B=0,Q=0,Z)=\u003e{if(j)throw It();D.call(H,B,Q,Z),j=!0}})(H.start)})(T),t(u,()=\u003eu(w))||b(T),t(h,()=\u003eh(w))||N(T,w),t(f,()=\u003ef(w))||Hs(T),t(m,()=\u003em(w))||S(T,w),t(y,()=\u003ey(w))||ju(T),l(w,T),T})(Bl,dr,l=\u003e{let t=l.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},l=\u003e{let t=l.createBufferSource(),s=l.createBuffer(1,1,44100);t.buffer=s;try{t.start(0,1)}catch{return!1}return!0},l=\u003e{let t=l.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},ym,n1,_m,l=\u003e{var t;l.start=(t=l.start,(s=0,u=0,h)=\u003e{let f=l.buffer,m=f===null?u:Math.min(f.duration,u);f!==null\u0026\u0026m\u003ef.duration-.5/l.context.sampleRate?t.call(l,s,0,0):t.call(l,s,m,h)})},(N1=Mr,(l,t)=\u003e{let s=t.createBuffer(1,1,44100);l.buffer===null\u0026\u0026(l.buffer=s),N1(l,\"buffer\",u=\u003e()=\u003e{let h=u.call(l);return h===s?null:h},u=\u003eh=\u003eu.call(l,h===null?s:h))}),r1);var N1;let ha=((l,t)=\u003e(s,u,h,f)=\u003e(l(u).replay(h),t(u,s,h,f)))((l=\u003et=\u003e{let s=l(t);if(s.renderer===null)throw new Error(\"Missing the renderer of the given AudioParam in the audio graph.\");return s.renderer})(xe),k1),KD=((l,t,s,u,h)=\u003e()=\u003e{let f=new WeakMap,m=null,y=null;return{set start(b){m=b},set stop(b){y=b},render(b,N,S){let w=f.get(N);return w!==void 0?Promise.resolve(w):(async(O,T,H)=\u003e{let D=s(O),j=Y(D,T);if(!j){let B={buffer:D.buffer,channelCount:D.channelCount,channelCountMode:D.channelCountMode,channelInterpretation:D.channelInterpretation,loop:D.loop,loopEnd:D.loopEnd,loopStart:D.loopStart,playbackRate:D.playbackRate.value};D=t(T,B),m!==null\u0026\u0026D.start(...m),y!==null\u0026\u0026D.stop(y)}return f.set(T,D),j?await l(T,O.playbackRate,D.playbackRate,H):await u(T,O.playbackRate,D.playbackRate,H),await h(O,T,D,H),D})(b,N,S)}}})(la,Ks,mt,ha,qn),$r=((l,t,s,u,h,f,m,y,b,N,S,w,O)=\u003e(T,H,D,j=null,B=null)=\u003e{let Q=new d.AutomationEventList(D.defaultValue),Z=H?u(Q):null,ee={get defaultValue(){return D.defaultValue},get maxValue(){return j===null?D.maxValue:j},get minValue(){return B===null?D.minValue:B},get value(){return D.value},set value(ae){D.value=ae,ee.setValueAtTime(ae,T.context.currentTime)},cancelAndHoldAtTime(ae){if(typeof D.cancelAndHoldAtTime==\"function\")Z===null\u0026\u0026Q.flush(T.context.currentTime),Q.add(h(ae)),D.cancelAndHoldAtTime(ae);else{let ne=Array.from(Q).pop();Z===null\u0026\u0026Q.flush(T.context.currentTime),Q.add(h(ae));let se=Array.from(Q).pop();D.cancelScheduledValues(ae),ne!==se\u0026\u0026se!==void 0\u0026\u0026(se.type===\"exponentialRampToValue\"?D.exponentialRampToValueAtTime(se.value,se.endTime):se.type===\"linearRampToValue\"?D.linearRampToValueAtTime(se.value,se.endTime):se.type===\"setValue\"?D.setValueAtTime(se.value,se.startTime):se.type===\"setValueCurve\"\u0026\u0026D.setValueCurveAtTime(se.values,se.startTime,se.duration))}return ee},cancelScheduledValues:ae=\u003e(Z===null\u0026\u0026Q.flush(T.context.currentTime),Q.add(f(ae)),D.cancelScheduledValues(ae),ee),exponentialRampToValueAtTime(ae,ne){if(ae===0)throw new RangeError;if(!Number.isFinite(ne)||ne\u003c0)throw new RangeError;return Z===null\u0026\u0026Q.flush(T.context.currentTime),Q.add(m(ae,ne)),D.exponentialRampToValueAtTime(ae,ne),ee},linearRampToValueAtTime:(ae,ne)=\u003e(Z===null\u0026\u0026Q.flush(T.context.currentTime),Q.add(y(ae,ne)),D.linearRampToValueAtTime(ae,ne),ee),setTargetAtTime:(ae,ne,se)=\u003e(Z===null\u0026\u0026Q.flush(T.context.currentTime),Q.add(b(ae,ne,se)),D.setTargetAtTime(ae,ne,se),ee),setValueAtTime:(ae,ne)=\u003e(Z===null\u0026\u0026Q.flush(T.context.currentTime),Q.add(N(ae,ne)),D.setValueAtTime(ae,ne),ee),setValueCurveAtTime(ae,ne,se){let ke=ae instanceof Float32Array?ae:new Float32Array(ae);if(w!==null\u0026\u0026w.name===\"webkitAudioContext\"){let he=ne+se,fe=T.context.sampleRate,ve=Math.ceil(ne*fe),Te=Math.floor(he*fe),Le=Te-ve,ht=new Float32Array(Le);for(let Qe=0;Qe\u003cLe;Qe+=1){let st=(ke.length-1)/se*((ve+Qe)/fe-ne),Xe=Math.floor(st),at=Math.ceil(st);ht[Qe]=Xe===at?ke[Xe]:(1-(st-Xe))*ke[Xe]+(1-(at-st))*ke[at]}Z===null\u0026\u0026Q.flush(T.context.currentTime),Q.add(S(ht,ne,se)),D.setValueCurveAtTime(ht,ne,se);let De=Te/fe;De\u003che\u0026\u0026O(ee,ht[ht.length-1],De),O(ee,ke[ke.length-1],he)}else Z===null\u0026\u0026Q.flush(T.context.currentTime),Q.add(S(ke,ne,se)),D.setValueCurveAtTime(ke,ne,se);return ee}};return s.set(ee,D),t.set(ee,T),l(ee,Z),ee})((w1=k,(l,t)=\u003e{w1.set(l,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),f1,x,l=\u003e({replay(t){for(let s of l)if(s.type===\"exponentialRampToValue\"){let{endTime:u,value:h}=s;t.exponentialRampToValueAtTime(h,u)}else if(s.type===\"linearRampToValue\"){let{endTime:u,value:h}=s;t.linearRampToValueAtTime(h,u)}else if(s.type===\"setTarget\"){let{startTime:u,target:h,timeConstant:f}=s;t.setTargetAtTime(h,u,f)}else if(s.type===\"setValue\"){let{startTime:u,value:h}=s;t.setValueAtTime(h,u)}else{if(s.type!==\"setValueCurve\")throw new Error(\"Can't apply an unknown automation.\");{let{duration:u,startTime:h,values:f}=s;t.setValueCurveAtTime(f,h,u)}}}}),d.createCancelAndHoldAutomationEvent,d.createCancelScheduledValuesAutomationEvent,d.createExponentialRampToValueAutomationEvent,d.createLinearRampToValueAutomationEvent,d.createSetTargetAutomationEvent,d.createSetValueAutomationEvent,d.createSetValueCurveAutomationEvent,Da,t1);var w1;let QD=((l,t,s,u,h,f,m,y)=\u003eclass extends l{constructor(b,N){let S=f(b),w={...ft,...N},O=h(S,w),T=m(S),H=T?t():null;super(b,!1,O,H),this._audioBufferSourceNodeRenderer=H,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=O,this._onended=null,this._playbackRate=s(this,T,O.playbackRate,je,me)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(b){if(this._nativeAudioBufferSourceNode.buffer=b,b!==null){if(this._isBufferSet)throw u();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(b){this._nativeAudioBufferSourceNode.loop=b}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(b){this._nativeAudioBufferSourceNode.loopEnd=b}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(b){this._nativeAudioBufferSourceNode.loopStart=b}get onended(){return this._onended}set onended(b){let N=typeof b==\"function\"?y(this,b):null;this._nativeAudioBufferSourceNode.onended=N;let S=this._nativeAudioBufferSourceNode.onended;this._onended=S!==null\u0026\u0026S===N?b:S}get playbackRate(){return this._playbackRate}start(b=0,N=0,S){if(this._nativeAudioBufferSourceNode.start(b,N,S),this._audioBufferSourceNodeRenderer!==null\u0026\u0026(this._audioBufferSourceNodeRenderer.start=S===void 0?[b,N]:[b,N,S]),this.context.state!==\"closed\"){be(this);let w=()=\u003e{this._nativeAudioBufferSourceNode.removeEventListener(\"ended\",w),Je(this)\u0026\u0026Ae(this)};this._nativeAudioBufferSourceNode.addEventListener(\"ended\",w)}}stop(b=0){this._nativeAudioBufferSourceNode.stop(b),this._audioBufferSourceNodeRenderer!==null\u0026\u0026(this._audioBufferSourceNodeRenderer.stop=b)}})(Kt,KD,$r,It,Ks,Ct,kt,Zs),JD=((l,t,s,u,h,f,m,y)=\u003eclass extends l{constructor(b,N){let S=f(b),w=m(S),O=h(S,N,w);super(b,!1,O,w?t(y):null),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=O}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(b){if(this._isNodeOfNativeOfflineAudioContext)throw u();if(b\u003ethis._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=b}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(b){if(this._isNodeOfNativeOfflineAudioContext)throw u();this._nativeAudioDestinationNode.channelCountMode=b}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Kt,l=\u003e{let t=null;return{render:(s,u,h)=\u003e(t===null\u0026\u0026(t=(async(f,m,y)=\u003e{let b=m.destination;return await l(f,m,b,y),b})(s,u,h)),t)}},le,It,((l,t)=\u003e(s,u,h)=\u003e{let f=s.destination;if(f.channelCount!==u)try{f.channelCount=u}catch{}h\u0026\u0026f.channelCountMode!==\"explicit\"\u0026\u0026(f.channelCountMode=\"explicit\"),f.maxChannelCount===0\u0026\u0026Object.defineProperty(f,\"maxChannelCount\",{value:u});let m=l(s,{channelCount:u,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});return t(m,\"channelCount\",y=\u003e()=\u003ey.call(m),y=\u003eb=\u003e{y.call(m,b);try{f.channelCount=b}catch(N){if(b\u003ef.maxChannelCount)throw N}}),t(m,\"channelCountMode\",y=\u003e()=\u003ey.call(m),y=\u003eb=\u003e{y.call(m,b),f.channelCountMode=b}),t(m,\"channelInterpretation\",y=\u003e()=\u003ey.call(m),y=\u003eb=\u003e{y.call(m,b),f.channelInterpretation=b}),Object.defineProperty(m,\"maxChannelCount\",{get:()=\u003ef.maxChannelCount}),m.connect(f),m})(z,Mr),Ct,kt,qn),e4=((l,t,s,u,h)=\u003e()=\u003e{let f=new WeakMap;return{render(m,y,b){let N=f.get(y);return N!==void 0?Promise.resolve(N):(async(S,w,O)=\u003e{let T=s(S),H=Y(T,w);if(!H){let D={Q:T.Q.value,channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,detune:T.detune.value,frequency:T.frequency.value,gain:T.gain.value,type:T.type};T=t(w,D)}return f.set(w,T),H?(await l(w,S.Q,T.Q,O),await l(w,S.detune,T.detune,O),await l(w,S.frequency,T.frequency,O),await l(w,S.gain,T.gain,O)):(await u(w,S.Q,T.Q,O),await u(w,S.detune,T.detune,O),await u(w,S.frequency,T.frequency,O),await u(w,S.gain,T.gain,O)),await h(S,w,T,O),T})(m,y,b)}}})(la,A,mt,ha,qn),rs=(l=\u003e(t,s)=\u003el.set(t,s))(i1),t4=(q1=Kt,Iu=$r,T1=e4,Om=pi,M1=A,S1=Ct,P1=kt,O1=rs,class extends q1{constructor(l,t){let s=S1(l),u={...ui,...t},h=M1(s,u),f=P1(s);super(l,!1,h,f?T1():null),this._Q=Iu(this,f,h.Q,je,me),this._detune=Iu(this,f,h.detune,1200*Math.log2(je),-1200*Math.log2(je)),this._frequency=Iu(this,f,h.frequency,l.sampleRate/2,0),this._gain=Iu(this,f,h.gain,40*Math.log10(je),me),this._nativeBiquadFilterNode=h,O1(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,t,s){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,t,s)}catch(u){throw u.code===11?Om():u}if(l.length!==t.length||t.length!==s.length)throw Om()}});var q1,Iu,T1,Om,M1,S1,P1,O1;let fi=((l,t)=\u003e(s,u,h)=\u003e{let f=new Set;var m,y;return s.connect=(m=s.connect,(b,N=0,S=0)=\u003e{let w=f.size===0;if(t(b))return m.call(s,b,N,S),l(f,[b,N,S],O=\u003eO[0]===b\u0026\u0026O[1]===N\u0026\u0026O[2]===S,!0),w\u0026\u0026u(),b;m.call(s,b,N),l(f,[b,N],O=\u003eO[0]===b\u0026\u0026O[1]===N,!0),w\u0026\u0026u()}),s.disconnect=(y=s.disconnect,(b,N,S)=\u003e{let w=f.size\u003e0;if(b===void 0)y.apply(s),f.clear();else if(typeof b==\"number\"){y.call(s,b);for(let T of f)T[1]===b\u0026\u0026f.delete(T)}else{t(b)?y.call(s,b,N,S):y.call(s,b,N);for(let T of f)T[0]!==b||N!==void 0\u0026\u0026T[1]!==N||S!==void 0\u0026\u0026T[2]!==S||f.delete(T)}let O=f.size===0;w\u0026\u0026O\u0026\u0026h()}),s})(ct,wm),n4=(Cm=It,C1=fi,(l,t)=\u003e{t.channelCount=1,t.channelCountMode=\"explicit\",Object.defineProperty(t,\"channelCount\",{get:()=\u003e1,set:()=\u003e{throw Cm()}}),Object.defineProperty(t,\"channelCountMode\",{get:()=\u003e\"explicit\",set:()=\u003e{throw Cm()}});let s=l.createBufferSource();C1(t,()=\u003e{let u=t.numberOfInputs;for(let h=0;h\u003cu;h+=1)s.connect(t,0,h)},()=\u003es.disconnect(t))});var Cm,C1;let mi=((l,t)=\u003e(s,u)=\u003e{let h=s.createChannelMerger(u.numberOfInputs);return l!==null\u0026\u0026l.name===\"webkitAudioContext\"\u0026\u0026t(s,h),Zt(h,u),h})(Da,n4),r4=((l,t,s,u,h)=\u003eclass extends l{constructor(f,m){let y=u(f),b={...He,...m};super(f,!1,s(y,b),h(y)?t():null)}})(Kt,((l,t,s)=\u003e()=\u003e{let u=new WeakMap;return{render(h,f,m){let y=u.get(f);return y!==void 0?Promise.resolve(y):(async(b,N,S)=\u003e{let w=t(b);if(!Y(w,N)){let O={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,numberOfInputs:w.numberOfInputs};w=l(N,O)}return u.set(N,w),await s(b,N,w,S),w})(h,f,m)}}})(mi,mt,qn),mi,Ct,kt),a4=((l,t,s,u,h,f)=\u003eclass extends l{constructor(m,y){let b=u(m),N=f({...zr,...y});super(m,!1,s(b,N),h(b)?t():null)}})(Kt,((l,t,s)=\u003e()=\u003e{let u=new WeakMap;return{render(h,f,m){let y=u.get(f);return y!==void 0?Promise.resolve(y):(async(b,N,S)=\u003e{let w=t(b);if(!Y(w,N)){let O={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,numberOfOutputs:w.numberOfOutputs};w=l(N,O)}return u.set(N,w),await s(b,N,w,S),w})(h,f,m)}}})(E,mt,qn),E,Ct,kt,l=\u003e({...l,channelCount:l.numberOfOutputs})),i4=((l,t,s,u)=\u003e(h,{offset:f,...m})=\u003e{let y=h.createBuffer(1,2,44100),b=t(h,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),N=s(h,{...m,gain:f}),S=y.getChannelData(0);S[0]=1,S[1]=1,b.buffer=y,b.loop=!0;let w={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(O){N.channelCount=O},get channelCountMode(){return N.channelCountMode},set channelCountMode(O){N.channelCountMode=O},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(O){N.channelInterpretation=O},get context(){return N.context},get inputs(){return[]},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get offset(){return N.gain},get onended(){return b.onended},set onended(O){b.onended=O},addEventListener:(...O)=\u003eb.addEventListener(O[0],O[1],O[2]),dispatchEvent:(...O)=\u003eb.dispatchEvent(O[0]),removeEventListener:(...O)=\u003eb.removeEventListener(O[0],O[1],O[2]),start(O=0){b.start.call(b,O)},stop(O=0){b.stop.call(b,O)}};return l(h,b),u(F(w,N),()=\u003eb.connect(N),()=\u003eb.disconnect(N))})(Bl,Ks,z,fi),Qs=((l,t,s,u,h)=\u003e(f,m)=\u003e{if(f.createConstantSource===void 0)return s(f,m);let y=f.createConstantSource();return Zt(y,m),Ft(y,m,\"offset\"),t(u,()=\u003eu(f))||Hs(y),t(h,()=\u003eh(f))||ju(y),l(f,y),y})(Bl,dr,i4,ym,_m),s4=((l,t,s,u,h,f,m)=\u003eclass extends l{constructor(y,b){let N=h(y),S={...ca,...b},w=u(N,S),O=f(N),T=O?s():null;super(y,!1,w,T),this._constantSourceNodeRenderer=T,this._nativeConstantSourceNode=w,this._offset=t(this,O,w.offset,je,me),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(y){let b=typeof y==\"function\"?m(this,y):null;this._nativeConstantSourceNode.onended=b;let N=this._nativeConstantSourceNode.onended;this._onended=N!==null\u0026\u0026N===b?y:N}start(y=0){if(this._nativeConstantSourceNode.start(y),this._constantSourceNodeRenderer!==null\u0026\u0026(this._constantSourceNodeRenderer.start=y),this.context.state!==\"closed\"){be(this);let b=()=\u003e{this._nativeConstantSourceNode.removeEventListener(\"ended\",b),Je(this)\u0026\u0026Ae(this)};this._nativeConstantSourceNode.addEventListener(\"ended\",b)}}stop(y=0){this._nativeConstantSourceNode.stop(y),this._constantSourceNodeRenderer!==null\u0026\u0026(this._constantSourceNodeRenderer.stop=y)}})(Kt,$r,((l,t,s,u,h)=\u003e()=\u003e{let f=new WeakMap,m=null,y=null;return{set start(b){m=b},set stop(b){y=b},render(b,N,S){let w=f.get(N);return w!==void 0?Promise.resolve(w):(async(O,T,H)=\u003e{let D=s(O),j=Y(D,T);if(!j){let B={channelCount:D.channelCount,channelCountMode:D.channelCountMode,channelInterpretation:D.channelInterpretation,offset:D.offset.value};D=t(T,B),m!==null\u0026\u0026D.start(m),y!==null\u0026\u0026D.stop(y)}return f.set(T,D),j?await l(T,O.offset,D.offset,H):await u(T,O.offset,D.offset,H),await h(O,T,D,H),D})(b,N,S)}}})(la,Qs,mt,ha,qn),Qs,Ct,kt,Zs),A1=((l,t)=\u003e(s,u)=\u003e{let h=s.createConvolver();if(Zt(h,u),u.disableNormalization===h.normalize\u0026\u0026(h.normalize=!u.disableNormalization),_t(h,u,\"buffer\"),u.channelCount\u003e2||(t(h,\"channelCount\",f=\u003e()=\u003ef.call(h),f=\u003em=\u003e{if(m\u003e2)throw l();return f.call(h,m)}),u.channelCountMode===\"max\"))throw l();return t(h,\"channelCountMode\",f=\u003e()=\u003ef.call(h),f=\u003em=\u003e{if(m===\"max\")throw l();return f.call(h,m)}),h})(Ze,Mr),o4=((l,t,s,u,h,f)=\u003eclass extends l{constructor(m,y){let b=u(m),N={...ci,...y},S=s(b,N);super(m,!1,S,h(b)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=S,N.buffer!==null\u0026\u0026f(this,N.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(m){if(this._nativeConvolverNode.buffer=m,m===null\u0026\u0026this._nativeConvolverNode.buffer!==null){let y=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=y.createBuffer(1,1,44100),this._isBufferNullified=!0,f(this,0)}else this._isBufferNullified=!1,f(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(m){this._nativeConvolverNode.normalize=m}})(Kt,((l,t,s)=\u003e()=\u003e{let u=new WeakMap;return{render(h,f,m){let y=u.get(f);return y!==void 0?Promise.resolve(y):(async(b,N,S)=\u003e{let w=t(b);if(!Y(w,N)){let O={buffer:w.buffer,channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,disableNormalization:!w.normalize};w=l(N,O)}return u.set(N,w),Ot(w)?await s(b,N,w.inputs[0],S):await s(b,N,w,S),w})(h,f,m)}}})(A1,mt,qn),A1,Ct,kt,rs),u4=((l,t,s,u,h,f,m)=\u003eclass extends l{constructor(y,b){let N=h(y),S={...li,...b},w=u(N,S),O=f(N);super(y,!1,w,O?s(S.maxDelayTime):null),this._delayTime=t(this,O,w.delayTime),m(this,S.maxDelayTime)}get delayTime(){return this._delayTime}})(Kt,$r,((l,t,s,u,h)=\u003ef=\u003e{let m=new WeakMap;return{render(y,b,N){let S=m.get(b);return S!==void 0?Promise.resolve(S):(async(w,O,T)=\u003e{let H=s(w),D=Y(H,O);if(!D){let j={channelCount:H.channelCount,channelCountMode:H.channelCountMode,channelInterpretation:H.channelInterpretation,delayTime:H.delayTime.value,maxDelayTime:f};H=t(O,j)}return m.set(O,H),D?await l(O,w.delayTime,H.delayTime,T):await u(O,w.delayTime,H.delayTime,T),await h(w,O,H,T),H})(y,b,N)}}})(la,I,mt,ha,qn),I,Ct,kt,rs),R1=(Am=Ze,(l,t)=\u003e{let s=l.createDynamicsCompressor();if(Zt(s,t),t.channelCount\u003e2||t.channelCountMode===\"max\")throw Am();return Ft(s,t,\"attack\"),Ft(s,t,\"knee\"),Ft(s,t,\"ratio\"),Ft(s,t,\"release\"),Ft(s,t,\"threshold\"),s});var Am;let c4=((l,t,s,u,h,f,m,y)=\u003eclass extends l{constructor(b,N){let S=f(b),w={...Us,...N},O=u(S,w),T=m(S);super(b,!1,O,T?s():null),this._attack=t(this,T,O.attack),this._knee=t(this,T,O.knee),this._nativeDynamicsCompressorNode=O,this._ratio=t(this,T,O.ratio),this._release=t(this,T,O.release),this._threshold=t(this,T,O.threshold),y(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(b){let N=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=b,b\u003e2)throw this._nativeDynamicsCompressorNode.channelCount=N,h()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(b){let N=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=b,b===\"max\")throw this._nativeDynamicsCompressorNode.channelCountMode=N,h()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value==\"number\"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Kt,$r,((l,t,s,u,h)=\u003e()=\u003e{let f=new WeakMap;return{render(m,y,b){let N=f.get(y);return N!==void 0?Promise.resolve(N):(async(S,w,O)=\u003e{let T=s(S),H=Y(T,w);if(!H){let D={attack:T.attack.value,channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,knee:T.knee.value,ratio:T.ratio.value,release:T.release.value,threshold:T.threshold.value};T=t(w,D)}return f.set(w,T),H?(await l(w,S.attack,T.attack,O),await l(w,S.knee,T.knee,O),await l(w,S.ratio,T.ratio,O),await l(w,S.release,T.release,O),await l(w,S.threshold,T.threshold,O)):(await u(w,S.attack,T.attack,O),await u(w,S.knee,T.knee,O),await u(w,S.ratio,T.ratio,O),await u(w,S.release,T.release,O),await u(w,S.threshold,T.threshold,O)),await h(S,w,T,O),T})(m,y,b)}}})(la,R1,mt,ha,qn),R1,Ze,Ct,kt,rs),l4=((l,t,s,u,h,f)=\u003eclass extends l{constructor(m,y){let b=h(m),N={...di,...y},S=u(b,N),w=f(b);super(m,!1,S,w?s():null),this._gain=t(this,w,S.gain,je,me)}get gain(){return this._gain}})(Kt,$r,((l,t,s,u,h)=\u003e()=\u003e{let f=new WeakMap;return{render(m,y,b){let N=f.get(y);return N!==void 0?Promise.resolve(N):(async(S,w,O)=\u003e{let T=s(S),H=Y(T,w);if(!H){let D={channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:T.gain.value};T=t(w,D)}return f.set(w,T),H?await l(w,S.gain,T.gain,O):await u(w,S.gain,T.gain,O),await h(S,w,T,O),T})(m,y,b)}}})(la,z,mt,ha,qn),z,Ct,kt),h4=((l,t,s,u)=\u003e(h,f,{channelCount:m,channelCountMode:y,channelInterpretation:b,feedback:N,feedforward:S})=\u003e{let w=Ll(f,h.sampleRate),O=N instanceof Float64Array?N:new Float64Array(N),T=S instanceof Float64Array?S:new Float64Array(S),H=O.length,D=T.length,j=Math.min(H,D);if(H===0||H\u003e20)throw u();if(O[0]===0)throw t();if(D===0||D\u003e20)throw u();if(T[0]===0)throw t();if(O[0]!==1){for(let ne=0;ne\u003cD;ne+=1)T[ne]/=O[0];for(let ne=1;ne\u003cH;ne+=1)O[ne]/=O[0]}let B=s(h,w,m,m);B.channelCount=m,B.channelCountMode=y,B.channelInterpretation=b;let Q=[],Z=[],ee=[];for(let ne=0;ne\u003cm;ne+=1){Q.push(0);let se=new Float32Array(32),ke=new Float32Array(32);se.fill(0),ke.fill(0),Z.push(se),ee.push(ke)}B.onaudioprocess=ne=\u003e{let se=ne.inputBuffer,ke=ne.outputBuffer,he=se.numberOfChannels;for(let fe=0;fe\u003che;fe+=1){let ve=se.getChannelData(fe),Te=ke.getChannelData(fe);Q[fe]=$s(O,H,T,D,j,Z[fe],ee[fe],Q[fe],32,ve,Te)}};let ae=h.sampleRate/2;return F({get bufferSize(){return w},get channelCount(){return B.channelCount},set channelCount(ne){B.channelCount=ne},get channelCountMode(){return B.channelCountMode},set channelCountMode(ne){B.channelCountMode=ne},get channelInterpretation(){return B.channelInterpretation},set channelInterpretation(ne){B.channelInterpretation=ne},get context(){return B.context},get inputs(){return[B]},get numberOfInputs(){return B.numberOfInputs},get numberOfOutputs(){return B.numberOfOutputs},addEventListener:(...ne)=\u003eB.addEventListener(ne[0],ne[1],ne[2]),dispatchEvent:(...ne)=\u003eB.dispatchEvent(ne[0]),getFrequencyResponse(ne,se,ke){if(ne.length!==se.length||se.length!==ke.length)throw l();let he=ne.length;for(let fe=0;fe\u003che;fe+=1){let ve=-Math.PI*(ne[fe]/ae),Te=[Math.cos(ve),Math.sin(ve)],Le=_e(qe(T,Te),qe(O,Te));se[fe]=Math.sqrt(Le[0]*Le[0]+Le[1]*Le[1]),ke[fe]=Math.atan2(Le[1],Le[0])}},removeEventListener:(...ne)=\u003eB.removeEventListener(ne[0],ne[1],ne[2])},B)})(pi,It,Ue,Ze),zl=((l,t,s,u)=\u003eh=\u003el(zt,()=\u003ezt(h))?Promise.resolve(l(u,u)).then(f=\u003e{if(!f){let m=s(h,512,0,1);h.oncomplete=()=\u003e{m.onaudioprocess=null,m.disconnect()},m.onaudioprocess=()=\u003eh.currentTime,m.connect(h.destination)}return h.startRendering()}):new Promise(f=\u003e{let m=t(h,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});h.oncomplete=y=\u003e{m.disconnect(),f(y.renderedBuffer)},m.connect(h.destination),h.startRendering()}))(dr,z,Ue,((l,t)=\u003e()=\u003e{if(t===null)return Promise.resolve(!1);let s=new t(1,1,44100),u=l(s,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});return new Promise(h=\u003e{s.oncomplete=()=\u003e{u.disconnect(),h(s.currentTime!==0)},s.startRendering()})})(z,vn)),d4=((l,t,s,u,h)=\u003e(f,m)=\u003e{let y=new WeakMap,b=null,N=async(S,w,O)=\u003e{let T=null,H=t(S),D=Y(H,w);if(w.createIIRFilter===void 0?T=l(w,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):D||(H=w.createIIRFilter(m,f)),y.set(w,T===null?H:T),T!==null){if(b===null){if(s===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let B=new s(S.context.destination.channelCount,S.context.length,w.sampleRate);b=(async()=\u003e(await u(S,B,B.destination,O),((Q,Z,ee,ae)=\u003e{let ne=ee instanceof Float64Array?ee:new Float64Array(ee),se=ae instanceof Float64Array?ae:new Float64Array(ae),ke=ne.length,he=se.length,fe=Math.min(ke,he);if(ne[0]!==1){for(let De=0;De\u003cke;De+=1)se[De]/=ne[0];for(let De=1;De\u003che;De+=1)ne[De]/=ne[0]}let ve=new Float32Array(32),Te=new Float32Array(32),Le=Z.createBuffer(Q.numberOfChannels,Q.length,Q.sampleRate),ht=Q.numberOfChannels;for(let De=0;De\u003cht;De+=1){let Qe=Q.getChannelData(De),st=Le.getChannelData(De);ve.fill(0),Te.fill(0),$s(ne,ke,se,he,fe,ve,Te,0,32,Qe,st)}return Le})(await h(B),w,f,m)))()}let j=await b;return T.buffer=j,T.start(0),T}return await u(S,w,H,O),H};return{render(S,w,O){let T=y.get(w);return T!==void 0?Promise.resolve(T):N(S,w,O)}}})(Ks,mt,vn,qn,zl);var E1;let p4=((l,t,s,u,h,f)=\u003eclass extends l{constructor(m,y){let b=u(m),N=h(b),S={...Eu,...y},w=t(b,N?null:m.baseLatency,S);super(m,!1,w,N?s(S.feedback,S.feedforward):null),(O=\u003e{var T;O.getFrequencyResponse=(T=O.getFrequencyResponse,(H,D,j)=\u003e{if(H.length!==D.length||D.length!==j.length)throw pi();return T.call(O,H,D,j)})})(w),this._nativeIIRFilterNode=w,f(this,1)}getFrequencyResponse(m,y,b){return this._nativeIIRFilterNode.getFrequencyResponse(m,y,b)}})(Kt,(E1=h4,(l,t,s)=\u003e{if(l.createIIRFilter===void 0)return E1(l,t,s);let u=l.createIIRFilter(s.feedforward,s.feedback);return Zt(u,s),u}),d4,Ct,kt,rs),f4=((l,t,s,u,h)=\u003e(f,m)=\u003e{let y=m.listener,{forwardX:b,forwardY:N,forwardZ:S,positionX:w,positionY:O,positionZ:T,upX:H,upY:D,upZ:j}=y.forwardX===void 0?(()=\u003e{let B=t(m,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:9}),Q=h(m),Z=u(m,256,9,0),ee=(se,ke)=\u003e{let he=s(m,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:ke});return he.connect(B,0,se),he.start(),Object.defineProperty(he.offset,\"defaultValue\",{get:()=\u003eke}),l({context:f},Q,he.offset,je,me)},ae=[0,0,-1,0,1,0],ne=[0,0,0];return Z.onaudioprocess=({inputBuffer:se})=\u003e{let ke=[se.getChannelData(0)[0],se.getChannelData(1)[0],se.getChannelData(2)[0],se.getChannelData(3)[0],se.getChannelData(4)[0],se.getChannelData(5)[0]];ke.some((fe,ve)=\u003efe!==ae[ve])\u0026\u0026(y.setOrientation(...ke),ae=ke);let he=[se.getChannelData(6)[0],se.getChannelData(7)[0],se.getChannelData(8)[0]];he.some((fe,ve)=\u003efe!==ne[ve])\u0026\u0026(y.setPosition(...he),ne=he)},B.connect(Z),{forwardX:ee(0,0),forwardY:ee(1,0),forwardZ:ee(2,-1),positionX:ee(6,0),positionY:ee(7,0),positionZ:ee(8,0),upX:ee(3,0),upY:ee(4,1),upZ:ee(5,0)}})():y;return{get forwardX(){return b},get forwardY(){return N},get forwardZ(){return S},get positionX(){return w},get positionY(){return O},get positionZ(){return T},get upX(){return H},get upY(){return D},get upZ(){return j}}})($r,mi,Qs,Ue,kt),j1=new WeakMap,Rm=((l,t,s,u,h,f)=\u003eclass extends s{constructor(m,y){super(m),this._nativeContext=m,q.set(this,m),u(m)\u0026\u0026h.set(m,new Set),this._destination=new l(this,y),this._listener=t(this,m),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(m){let y=typeof m==\"function\"?f(this,m):null;this._nativeContext.onstatechange=y;let b=this._nativeContext.onstatechange;this._onstatechange=b!==null\u0026\u0026b===y?m:b}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(JD,f4,m1,kt,j1,Zs),D1=((l,t,s,u,h,f)=\u003e(m,y)=\u003e{let b=m.createOscillator();return Zt(b,y),Ft(b,y,\"detune\"),Ft(b,y,\"frequency\"),y.periodicWave!==void 0?b.setPeriodicWave(y.periodicWave):_t(b,y,\"type\"),t(s,()=\u003es(m))||Hs(b),t(u,()=\u003eu(m))||f(b,m),t(h,()=\u003eh(m))||ju(b),l(m,b),b})(Bl,dr,ym,n1,_m,r1),m4=((l,t,s,u,h,f,m)=\u003eclass extends l{constructor(y,b){let N=h(y),S={...qt,...b},w=s(N,S),O=f(N),T=O?u():null,H=y.sampleRate/2;super(y,!1,w,T),this._detune=t(this,O,w.detune,153600,-153600),this._frequency=t(this,O,w.frequency,H,-H),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=T,this._oscillatorNodeRenderer!==null\u0026\u0026S.periodicWave!==void 0\u0026\u0026(this._oscillatorNodeRenderer.periodicWave=S.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(y){let b=typeof y==\"function\"?m(this,y):null;this._nativeOscillatorNode.onended=b;let N=this._nativeOscillatorNode.onended;this._onended=N!==null\u0026\u0026N===b?y:N}get type(){return this._nativeOscillatorNode.type}set type(y){this._nativeOscillatorNode.type=y,this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(y){this._nativeOscillatorNode.setPeriodicWave(y),this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.periodicWave=y)}start(y=0){if(this._nativeOscillatorNode.start(y),this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.start=y),this.context.state!==\"closed\"){be(this);let b=()=\u003e{this._nativeOscillatorNode.removeEventListener(\"ended\",b),Je(this)\u0026\u0026Ae(this)};this._nativeOscillatorNode.addEventListener(\"ended\",b)}}stop(y=0){this._nativeOscillatorNode.stop(y),this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.stop=y)}})(Kt,$r,D1,((l,t,s,u,h)=\u003e()=\u003e{let f=new WeakMap,m=null,y=null,b=null;return{set periodicWave(N){m=N},set start(N){y=N},set stop(N){b=N},render(N,S,w){let O=f.get(S);return O!==void 0?Promise.resolve(O):(async(T,H,D)=\u003e{let j=s(T),B=Y(j,H);if(!B){let Q={channelCount:j.channelCount,channelCountMode:j.channelCountMode,channelInterpretation:j.channelInterpretation,detune:j.detune.value,frequency:j.frequency.value,periodicWave:m===null?void 0:m,type:j.type};j=t(H,Q),y!==null\u0026\u0026j.start(y),b!==null\u0026\u0026j.stop(b)}return f.set(H,j),B?(await l(H,T.detune,j.detune,D),await l(H,T.frequency,j.frequency,D)):(await u(H,T.detune,j.detune,D),await u(H,T.frequency,j.frequency,D)),await h(T,H,j,D),j})(N,S,w)}}})(la,D1,mt,ha,qn),Ct,kt,Zs),I1=(F1=Ks,(l,t)=\u003e{let s=F1(l,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=l.createBuffer(1,2,44100);return s.buffer=u,s.loop=!0,s.connect(t),s.start(),()=\u003e{s.stop(),s.disconnect(t)}});var F1;let v4=((l,t,s,u,h)=\u003e(f,{curve:m,oversample:y,...b})=\u003e{let N=f.createWaveShaper(),S=f.createWaveShaper();Zt(N,b),Zt(S,b);let w=s(f,{...b,gain:1}),O=s(f,{...b,gain:-1}),T=s(f,{...b,gain:1}),H=s(f,{...b,gain:-1}),D=null,j=!1,B=null,Q={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(Z){w.channelCount=Z,O.channelCount=Z,N.channelCount=Z,T.channelCount=Z,S.channelCount=Z,H.channelCount=Z},get channelCountMode(){return N.channelCountMode},set channelCountMode(Z){w.channelCountMode=Z,O.channelCountMode=Z,N.channelCountMode=Z,T.channelCountMode=Z,S.channelCountMode=Z,H.channelCountMode=Z},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(Z){w.channelInterpretation=Z,O.channelInterpretation=Z,N.channelInterpretation=Z,T.channelInterpretation=Z,S.channelInterpretation=Z,H.channelInterpretation=Z},get context(){return N.context},get curve(){return B},set curve(Z){if(Z!==null\u0026\u0026Z.length\u003c2)throw t();if(Z===null)N.curve=Z,S.curve=Z;else{let ee=Z.length,ae=new Float32Array(ee+2-ee%2),ne=new Float32Array(ee+2-ee%2);ae[0]=Z[0],ne[0]=-Z[ee-1];let se=Math.ceil((ee+1)/2),ke=(ee+1)/2-1;for(let he=1;he\u003cse;he+=1){let fe=he/se*ke,ve=Math.floor(fe),Te=Math.ceil(fe);ae[he]=ve===Te?Z[ve]:(1-(fe-ve))*Z[ve]+(1-(Te-fe))*Z[Te],ne[he]=ve===Te?-Z[ee-1-ve]:-(1-(fe-ve))*Z[ee-1-ve]-(1-(Te-fe))*Z[ee-1-Te]}ae[se]=ee%2==1?Z[se-1]:(Z[se-2]+Z[se-1])/2,N.curve=ae,S.curve=ne}B=Z,j\u0026\u0026(u(B)\u0026\u0026D===null?D=l(f,w):D!==null\u0026\u0026(D(),D=null))},get inputs(){return[w]},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get oversample(){return N.oversample},set oversample(Z){N.oversample=Z,S.oversample=Z},addEventListener:(...Z)=\u003ew.addEventListener(Z[0],Z[1],Z[2]),dispatchEvent:(...Z)=\u003ew.dispatchEvent(Z[0]),removeEventListener:(...Z)=\u003ew.removeEventListener(Z[0],Z[1],Z[2])};return m!==null\u0026\u0026(Q.curve=m instanceof Float32Array?m:new Float32Array(m)),y!==Q.oversample\u0026\u0026(Q.oversample=y),h(F(Q,T),()=\u003e{w.connect(N).connect(T),w.connect(O).connect(S).connect(H).connect(T),j=!0,u(B)\u0026\u0026(D=l(f,w))},()=\u003e{w.disconnect(N),N.disconnect(T),w.disconnect(O),O.disconnect(S),S.disconnect(H),H.disconnect(T),j=!1,D!==null\u0026\u0026(D(),D=null)})})(I1,It,z,Xs,fi),Gl=((l,t,s,u,h,f,m)=\u003e(y,b)=\u003e{let N=y.createWaveShaper();if(f!==null\u0026\u0026f.name===\"webkitAudioContext\"\u0026\u0026y.createGain().gain.automationRate===void 0)return s(y,b);Zt(N,b);let S=b.curve===null||b.curve instanceof Float32Array?b.curve:new Float32Array(b.curve);if(S!==null\u0026\u0026S.length\u003c2)throw t();_t(N,{curve:S},\"curve\"),_t(N,b,\"oversample\");let w=null,O=!1;return m(N,\"curve\",T=\u003e()=\u003eT.call(N),T=\u003eH=\u003e(T.call(N,H),O\u0026\u0026(u(H)\u0026\u0026w===null?w=l(y,N):u(H)||w===null||(w(),w=null)),H)),h(N,()=\u003e{O=!0,u(N.curve)\u0026\u0026(w=l(y,N))},()=\u003e{O=!1,w!==null\u0026\u0026(w(),w=null)})})(I1,It,v4,Xs,fi,Da,Mr),g4=((l,t,s,u,h,f,m,y,b)=\u003e(N,{coneInnerAngle:S,coneOuterAngle:w,coneOuterGain:O,distanceModel:T,maxDistance:H,orientationX:D,orientationY:j,orientationZ:B,panningModel:Q,positionX:Z,positionY:ee,positionZ:ae,refDistance:ne,rolloffFactor:se,...ke})=\u003e{let he=N.createPanner();if(ke.channelCount\u003e2||ke.channelCountMode===\"max\")throw m();Zt(he,ke);let fe={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\"},ve=s(N,{...fe,channelInterpretation:\"speakers\",numberOfInputs:6}),Te=u(N,{...ke,gain:1}),Le=u(N,{...fe,gain:1}),ht=u(N,{...fe,gain:0}),De=u(N,{...fe,gain:0}),Qe=u(N,{...fe,gain:0}),st=u(N,{...fe,gain:0}),Xe=u(N,{...fe,gain:0}),at=h(N,256,6,1),dt=f(N,{...fe,curve:new Float32Array([1,1]),oversample:\"none\"}),Qt=[D,j,B],cn=[Z,ee,ae];at.onaudioprocess=({inputBuffer:Ie})=\u003e{let On=[Ie.getChannelData(0)[0],Ie.getChannelData(1)[0],Ie.getChannelData(2)[0]];On.some((yr,Ni)=\u003eyr!==Qt[Ni])\u0026\u0026(he.setOrientation(...On),Qt=On);let ga=[Ie.getChannelData(3)[0],Ie.getChannelData(4)[0],Ie.getChannelData(5)[0]];ga.some((yr,Ni)=\u003eyr!==cn[Ni])\u0026\u0026(he.setPosition(...ga),cn=ga)},Object.defineProperty(ht.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(De.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(Qe.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(st.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(Xe.gain,\"defaultValue\",{get:()=\u003e0});let ot={get bufferSize(){},get channelCount(){return he.channelCount},set channelCount(Ie){if(Ie\u003e2)throw m();Te.channelCount=Ie,he.channelCount=Ie},get channelCountMode(){return he.channelCountMode},set channelCountMode(Ie){if(Ie===\"max\")throw m();Te.channelCountMode=Ie,he.channelCountMode=Ie},get channelInterpretation(){return he.channelInterpretation},set channelInterpretation(Ie){Te.channelInterpretation=Ie,he.channelInterpretation=Ie},get coneInnerAngle(){return he.coneInnerAngle},set coneInnerAngle(Ie){he.coneInnerAngle=Ie},get coneOuterAngle(){return he.coneOuterAngle},set coneOuterAngle(Ie){he.coneOuterAngle=Ie},get coneOuterGain(){return he.coneOuterGain},set coneOuterGain(Ie){if(Ie\u003c0||Ie\u003e1)throw t();he.coneOuterGain=Ie},get context(){return he.context},get distanceModel(){return he.distanceModel},set distanceModel(Ie){he.distanceModel=Ie},get inputs(){return[Te]},get maxDistance(){return he.maxDistance},set maxDistance(Ie){if(Ie\u003c0)throw new RangeError;he.maxDistance=Ie},get numberOfInputs(){return he.numberOfInputs},get numberOfOutputs(){return he.numberOfOutputs},get orientationX(){return Le.gain},get orientationY(){return ht.gain},get orientationZ(){return De.gain},get panningModel(){return he.panningModel},set panningModel(Ie){he.panningModel=Ie},get positionX(){return Qe.gain},get positionY(){return st.gain},get positionZ(){return Xe.gain},get refDistance(){return he.refDistance},set refDistance(Ie){if(Ie\u003c0)throw new RangeError;he.refDistance=Ie},get rolloffFactor(){return he.rolloffFactor},set rolloffFactor(Ie){if(Ie\u003c0)throw new RangeError;he.rolloffFactor=Ie},addEventListener:(...Ie)=\u003eTe.addEventListener(Ie[0],Ie[1],Ie[2]),dispatchEvent:(...Ie)=\u003eTe.dispatchEvent(Ie[0]),removeEventListener:(...Ie)=\u003eTe.removeEventListener(Ie[0],Ie[1],Ie[2])};return S!==ot.coneInnerAngle\u0026\u0026(ot.coneInnerAngle=S),w!==ot.coneOuterAngle\u0026\u0026(ot.coneOuterAngle=w),O!==ot.coneOuterGain\u0026\u0026(ot.coneOuterGain=O),T!==ot.distanceModel\u0026\u0026(ot.distanceModel=T),H!==ot.maxDistance\u0026\u0026(ot.maxDistance=H),D!==ot.orientationX.value\u0026\u0026(ot.orientationX.value=D),j!==ot.orientationY.value\u0026\u0026(ot.orientationY.value=j),B!==ot.orientationZ.value\u0026\u0026(ot.orientationZ.value=B),Q!==ot.panningModel\u0026\u0026(ot.panningModel=Q),Z!==ot.positionX.value\u0026\u0026(ot.positionX.value=Z),ee!==ot.positionY.value\u0026\u0026(ot.positionY.value=ee),ae!==ot.positionZ.value\u0026\u0026(ot.positionZ.value=ae),ne!==ot.refDistance\u0026\u0026(ot.refDistance=ne),se!==ot.rolloffFactor\u0026\u0026(ot.rolloffFactor=se),Qt[0]===1\u0026\u0026Qt[1]===0\u0026\u0026Qt[2]===0||he.setOrientation(...Qt),cn[0]===0\u0026\u0026cn[1]===0\u0026\u0026cn[2]===0||he.setPosition(...cn),b(F(ot,he),()=\u003e{Te.connect(he),l(Te,dt,0,0),dt.connect(Le).connect(ve,0,0),dt.connect(ht).connect(ve,0,1),dt.connect(De).connect(ve,0,2),dt.connect(Qe).connect(ve,0,3),dt.connect(st).connect(ve,0,4),dt.connect(Xe).connect(ve,0,5),ve.connect(at).connect(N.destination)},()=\u003e{Te.disconnect(he),y(Te,dt,0,0),dt.disconnect(Le),Le.disconnect(ve),dt.disconnect(ht),ht.disconnect(ve),dt.disconnect(De),De.disconnect(ve),dt.disconnect(Qe),Qe.disconnect(ve),dt.disconnect(st),st.disconnect(ve),dt.disconnect(Xe),Xe.disconnect(ve),ve.disconnect(at),at.disconnect(N.destination)})})(mn,It,mi,z,Ue,Gl,Ze,Hn,fi),V1=(L1=g4,(l,t)=\u003e{let s=l.createPanner();return s.orientationX===void 0?L1(l,t):(Zt(s,t),Ft(s,t,\"orientationX\"),Ft(s,t,\"orientationY\"),Ft(s,t,\"orientationZ\"),Ft(s,t,\"positionX\"),Ft(s,t,\"positionY\"),Ft(s,t,\"positionZ\"),_t(s,t,\"coneInnerAngle\"),_t(s,t,\"coneOuterAngle\"),_t(s,t,\"coneOuterGain\"),_t(s,t,\"distanceModel\"),_t(s,t,\"maxDistance\"),_t(s,t,\"panningModel\"),_t(s,t,\"refDistance\"),_t(s,t,\"rolloffFactor\"),s)});var L1;let y4=((l,t,s,u,h,f,m)=\u003eclass extends l{constructor(y,b){let N=h(y),S={...Ut,...b},w=s(N,S),O=f(N);super(y,!1,w,O?u():null),this._nativePannerNode=w,this._orientationX=t(this,O,w.orientationX,je,me),this._orientationY=t(this,O,w.orientationY,je,me),this._orientationZ=t(this,O,w.orientationZ,je,me),this._positionX=t(this,O,w.positionX,je,me),this._positionY=t(this,O,w.positionY,je,me),this._positionZ=t(this,O,w.positionZ,je,me),m(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(y){this._nativePannerNode.coneInnerAngle=y}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(y){this._nativePannerNode.coneOuterAngle=y}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(y){this._nativePannerNode.coneOuterGain=y}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(y){this._nativePannerNode.distanceModel=y}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(y){this._nativePannerNode.maxDistance=y}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(y){this._nativePannerNode.panningModel=y}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(y){this._nativePannerNode.refDistance=y}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(y){this._nativePannerNode.rolloffFactor=y}})(Kt,$r,V1,((l,t,s,u,h,f,m,y,b,N)=\u003e()=\u003e{let S=new WeakMap,w=null;return{render(O,T,H){let D=S.get(T);return D!==void 0?Promise.resolve(D):(async(j,B,Q)=\u003e{let Z=null,ee=f(j),ae={channelCount:ee.channelCount,channelCountMode:ee.channelCountMode,channelInterpretation:ee.channelInterpretation},ne={...ae,coneInnerAngle:ee.coneInnerAngle,coneOuterAngle:ee.coneOuterAngle,coneOuterGain:ee.coneOuterGain,distanceModel:ee.distanceModel,maxDistance:ee.maxDistance,panningModel:ee.panningModel,refDistance:ee.refDistance,rolloffFactor:ee.rolloffFactor},se=Y(ee,B);if(\"bufferSize\"in ee)Z=u(B,{...ae,gain:1});else if(!se){let ke={...ne,orientationX:ee.orientationX.value,orientationY:ee.orientationY.value,orientationZ:ee.orientationZ.value,positionX:ee.positionX.value,positionY:ee.positionY.value,positionZ:ee.positionZ.value};ee=h(B,ke)}if(S.set(B,Z===null?ee:Z),Z!==null){if(w===null){if(m===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let De=new m(6,j.context.length,B.sampleRate),Qe=t(De,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:6});Qe.connect(De.destination),w=(async()=\u003e{let st=await Promise.all([j.orientationX,j.orientationY,j.orientationZ,j.positionX,j.positionY,j.positionZ].map(async(Xe,at)=\u003e{let dt=s(De,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:at===0?1:0});return await y(De,Xe,dt.offset,Q),dt}));for(let Xe=0;Xe\u003c6;Xe+=1)st[Xe].connect(Qe,0,Xe),st[Xe].start(0);return N(De)})()}let ke=await w,he=u(B,{...ae,gain:1});await b(j,B,he,Q);let fe=[];for(let De=0;De\u003cke.numberOfChannels;De+=1)fe.push(ke.getChannelData(De));let ve=[fe[0][0],fe[1][0],fe[2][0]],Te=[fe[3][0],fe[4][0],fe[5][0]],Le=u(B,{...ae,gain:1}),ht=h(B,{...ne,orientationX:ve[0],orientationY:ve[1],orientationZ:ve[2],positionX:Te[0],positionY:Te[1],positionZ:Te[2]});he.connect(Le).connect(ht.inputs[0]),ht.connect(Z);for(let De=128;De\u003cke.length;De+=128){let Qe=[fe[0][De],fe[1][De],fe[2][De]],st=[fe[3][De],fe[4][De],fe[5][De]];if(Qe.some((Xe,at)=\u003eXe!==ve[at])||st.some((Xe,at)=\u003eXe!==Te[at])){ve=Qe,Te=st;let Xe=De/B.sampleRate;Le.gain.setValueAtTime(0,Xe),Le=u(B,{...ae,gain:0}),ht=h(B,{...ne,orientationX:ve[0],orientationY:ve[1],orientationZ:ve[2],positionX:Te[0],positionY:Te[1],positionZ:Te[2]}),Le.gain.setValueAtTime(1,Xe),he.connect(Le).connect(ht.inputs[0]),ht.connect(Z)}}return Z}return se?(await l(B,j.orientationX,ee.orientationX,Q),await l(B,j.orientationY,ee.orientationY,Q),await l(B,j.orientationZ,ee.orientationZ,Q),await l(B,j.positionX,ee.positionX,Q),await l(B,j.positionY,ee.positionY,Q),await l(B,j.positionZ,ee.positionZ,Q)):(await y(B,j.orientationX,ee.orientationX,Q),await y(B,j.orientationY,ee.orientationY,Q),await y(B,j.orientationZ,ee.orientationZ,Q),await y(B,j.positionX,ee.positionX,Q),await y(B,j.positionY,ee.positionY,Q),await y(B,j.positionZ,ee.positionZ,Q)),Ot(ee)?await b(j,B,ee.inputs[0],Q):await b(j,B,ee,Q),ee})(O,T,H)}}})(la,mi,Qs,z,V1,mt,vn,ha,qn,zl),Ct,kt,rs),_4=((l,t,s,u)=\u003eclass L3{constructor(f,m){let y=t(f),b=u({...Gr,...m}),N=l(y,b);return s.add(N),N}static[Symbol.hasInstance](f){return f!==null\u0026\u0026typeof f==\"object\"\u0026\u0026Object.getPrototypeOf(f)===L3.prototype||s.has(f)}})((l=\u003e(t,{disableNormalization:s,imag:u,real:h})=\u003e{let f=u instanceof Float32Array?u:new Float32Array(u),m=h instanceof Float32Array?h:new Float32Array(h),y=t.createPeriodicWave(m,f,{disableNormalization:s});if(Array.from(u).length\u003c2)throw l();return y})(le),Ct,new WeakSet,l=\u003e{let{imag:t,real:s}=l;return t===void 0?s===void 0?{...l,imag:[0,0],real:[0,0]}:{...l,imag:Array.from(s,()=\u003e0),real:s}:s===void 0?{...l,imag:t,real:Array.from(t,()=\u003e0)}:{...l,imag:t,real:s}}),W1=((l,t)=\u003e(s,u)=\u003e{let h=u.channelCountMode;if(h===\"clamped-max\")throw t();if(s.createStereoPanner===void 0)return l(s,u);let f=s.createStereoPanner();return Zt(f,u),Ft(f,u,\"pan\"),Object.defineProperty(f,\"channelCountMode\",{get:()=\u003eh,set:m=\u003e{if(m!==h)throw t()}}),f})(((l,t,s,u,h,f)=\u003e{let m=new Float32Array([1,1]),y=Math.PI/2,b={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\"},N={...b,oversample:\"none\"},S=(w,O,T,H,D)=\u003e{if(O===1)return((j,B,Q,Z)=\u003e{let ee=new Float32Array(16385),ae=new Float32Array(16385);for(let ve=0;ve\u003c16385;ve+=1){let Te=ve/16384*y;ee[ve]=Math.cos(Te),ae[ve]=Math.sin(Te)}let ne=s(j,{...b,gain:0}),se=u(j,{...N,curve:ee}),ke=u(j,{...N,curve:m}),he=s(j,{...b,gain:0}),fe=u(j,{...N,curve:ae});return{connectGraph(){B.connect(ne),B.connect(ke.inputs===void 0?ke:ke.inputs[0]),B.connect(he),ke.connect(Q),Q.connect(se.inputs===void 0?se:se.inputs[0]),Q.connect(fe.inputs===void 0?fe:fe.inputs[0]),se.connect(ne.gain),fe.connect(he.gain),ne.connect(Z,0,0),he.connect(Z,0,1)},disconnectGraph(){B.disconnect(ne),B.disconnect(ke.inputs===void 0?ke:ke.inputs[0]),B.disconnect(he),ke.disconnect(Q),Q.disconnect(se.inputs===void 0?se:se.inputs[0]),Q.disconnect(fe.inputs===void 0?fe:fe.inputs[0]),se.disconnect(ne.gain),fe.disconnect(he.gain),ne.disconnect(Z,0,0),he.disconnect(Z,0,1)}}})(w,T,H,D);if(O===2)return((j,B,Q,Z)=\u003e{let ee=new Float32Array(16385),ae=new Float32Array(16385),ne=new Float32Array(16385),se=new Float32Array(16385),ke=Math.floor(8192.5);for(let at=0;at\u003c16385;at+=1)if(at\u003eke){let dt=(at-ke)/(16384-ke)*y;ee[at]=Math.cos(dt),ae[at]=Math.sin(dt),ne[at]=0,se[at]=1}else{let dt=at/(16384-ke)*y;ee[at]=1,ae[at]=0,ne[at]=Math.cos(dt),se[at]=Math.sin(dt)}let he=t(j,{channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:2}),fe=s(j,{...b,gain:0}),ve=u(j,{...N,curve:ee}),Te=s(j,{...b,gain:0}),Le=u(j,{...N,curve:ae}),ht=u(j,{...N,curve:m}),De=s(j,{...b,gain:0}),Qe=u(j,{...N,curve:ne}),st=s(j,{...b,gain:0}),Xe=u(j,{...N,curve:se});return{connectGraph(){B.connect(he),B.connect(ht.inputs===void 0?ht:ht.inputs[0]),he.connect(fe,0),he.connect(Te,0),he.connect(De,1),he.connect(st,1),ht.connect(Q),Q.connect(ve.inputs===void 0?ve:ve.inputs[0]),Q.connect(Le.inputs===void 0?Le:Le.inputs[0]),Q.connect(Qe.inputs===void 0?Qe:Qe.inputs[0]),Q.connect(Xe.inputs===void 0?Xe:Xe.inputs[0]),ve.connect(fe.gain),Le.connect(Te.gain),Qe.connect(De.gain),Xe.connect(st.gain),fe.connect(Z,0,0),De.connect(Z,0,0),Te.connect(Z,0,1),st.connect(Z,0,1)},disconnectGraph(){B.disconnect(he),B.disconnect(ht.inputs===void 0?ht:ht.inputs[0]),he.disconnect(fe,0),he.disconnect(Te,0),he.disconnect(De,1),he.disconnect(st,1),ht.disconnect(Q),Q.disconnect(ve.inputs===void 0?ve:ve.inputs[0]),Q.disconnect(Le.inputs===void 0?Le:Le.inputs[0]),Q.disconnect(Qe.inputs===void 0?Qe:Qe.inputs[0]),Q.disconnect(Xe.inputs===void 0?Xe:Xe.inputs[0]),ve.disconnect(fe.gain),Le.disconnect(Te.gain),Qe.disconnect(De.gain),Xe.disconnect(st.gain),fe.disconnect(Z,0,0),De.disconnect(Z,0,0),Te.disconnect(Z,0,1),st.disconnect(Z,0,1)}}})(w,T,H,D);throw h()};return(w,{channelCount:O,channelCountMode:T,pan:H,...D})=\u003e{if(T===\"max\")throw h();let j=l(w,{...D,channelCount:1,channelCountMode:T,numberOfInputs:2}),B=s(w,{...D,channelCount:O,channelCountMode:T,gain:1}),Q=s(w,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:H}),{connectGraph:Z,disconnectGraph:ee}=S(w,O,B,Q,j);Object.defineProperty(Q.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(Q.gain,\"maxValue\",{get:()=\u003e1}),Object.defineProperty(Q.gain,\"minValue\",{get:()=\u003e-1});let ae={get bufferSize(){},get channelCount(){return B.channelCount},set channelCount(se){B.channelCount!==se\u0026\u0026(ne\u0026\u0026ee(),{connectGraph:Z,disconnectGraph:ee}=S(w,se,B,Q,j),ne\u0026\u0026Z()),B.channelCount=se},get channelCountMode(){return B.channelCountMode},set channelCountMode(se){if(se===\"clamped-max\"||se===\"max\")throw h();B.channelCountMode=se},get channelInterpretation(){return B.channelInterpretation},set channelInterpretation(se){B.channelInterpretation=se},get context(){return B.context},get inputs(){return[B]},get numberOfInputs(){return B.numberOfInputs},get numberOfOutputs(){return B.numberOfOutputs},get pan(){return Q.gain},addEventListener:(...se)=\u003eB.addEventListener(se[0],se[1],se[2]),dispatchEvent:(...se)=\u003eB.dispatchEvent(se[0]),removeEventListener:(...se)=\u003eB.removeEventListener(se[0],se[1],se[2])},ne=!1;return f(F(ae,j),()=\u003e{Z(),ne=!0},()=\u003e{ee(),ne=!1})}})(mi,E,z,Gl,Ze,fi),Ze),b4=((l,t,s,u,h,f)=\u003eclass extends l{constructor(m,y){let b=h(m),N={...ns,...y},S=s(b,N),w=f(b);super(m,!1,S,w?u():null),this._pan=t(this,w,S.pan)}get pan(){return this._pan}})(Kt,$r,W1,((l,t,s,u,h)=\u003e()=\u003e{let f=new WeakMap;return{render(m,y,b){let N=f.get(y);return N!==void 0?Promise.resolve(N):(async(S,w,O)=\u003e{let T=s(S),H=Y(T,w);if(!H){let D={channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,pan:T.pan.value};T=t(w,D)}return f.set(w,T),H?await l(w,S.pan,T.pan,O):await u(w,S.pan,T.pan,O),Ot(T)?await h(S,w,T.inputs[0],O):await h(S,w,T,O),T})(m,y,b)}}})(la,W1,mt,ha,qn),Ct,kt),x4=((l,t,s)=\u003e()=\u003e{let u=new WeakMap;return{render(h,f,m){let y=u.get(f);return y!==void 0?Promise.resolve(y):(async(b,N,S)=\u003e{let w=t(b);if(!Y(w,N)){let O={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,curve:w.curve,oversample:w.oversample};w=l(N,O)}return u.set(N,w),Ot(w)?await s(b,N,w.inputs[0],S):await s(b,N,w,S),w})(h,f,m)}}})(Gl,mt,qn),k4=((l,t,s,u,h,f,m)=\u003eclass extends l{constructor(y,b){let N=h(y),S={...gm,...b},w=s(N,S);super(y,!0,w,f(N)?u():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,m(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(y){if(y===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(y.length\u003c2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=y}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(y){this._nativeWaveShaperNode.oversample=y}})(Kt,It,Gl,x4,Ct,kt,rs),B1=(l=\u003el!==null\u0026\u0026l.isSecureContext)(Ur),Em=(l=\u003e(t,s,u)=\u003e{Object.defineProperties(l,{currentFrame:{configurable:!0,get:()=\u003eMath.round(t*s)},currentTime:{configurable:!0,get:()=\u003et}});try{return u()}finally{l!==null\u0026\u0026(delete l.currentFrame,delete l.currentTime)}})(Ur),z1=new WeakMap,N4=((l,t)=\u003es=\u003e{let u=l.get(s);if(u!==void 0)return u;if(t===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");return u=new t(1,1,8e3),l.set(s,u),u})(z1,vn),Ul=(l=\u003el===null?null:l.hasOwnProperty(\"AudioWorkletNode\")?l.AudioWorkletNode:null)(Ur),w4=B1?((l,t,s,u,h,f,m,y,b,N,S,w)=\u003e(O,T,H={credentials:\"omit\"})=\u003e{let D=f(O);if(D.audioWorklet!==void 0)return Promise.all([h(T),Promise.resolve(l(S,S))]).then(([[Z,ee],ae])=\u003e{let[ne,se]=oe(Z,ee),ke=ae?se:se.replace(/\\s+extends\\s+AudioWorkletProcessor\\s*{/,\" extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=\u003ep.postMessage=(q=\u003e(m,t)=\u003eq.call(p,m,t?t.filter(u=\u003e!this.__b.has(u)):t))(p.postMessage))(this.port)}}){\"),he=new Blob([`${ne};(registerProcessor=\u003e{${ke}\n})((n,p)=\u003eregisterProcessor(n,class extends p{${ae?\"\":\"__c = (a) =\u003e a.forEach(e=\u003ethis.__b.add(e.buffer));\"}process(i,o,p){${ae?\"\":\"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));\"}return super.process(i.map(j=\u003ej.some(k=\u003ek.length===0)?[]:j),o,p)}}))`],{type:\"application/javascript; charset=utf-8\"}),fe=URL.createObjectURL(he);return D.audioWorklet.addModule(fe,H).then(()=\u003e{if(!y(D))return m(D).audioWorklet.addModule(fe,H)}).finally(()=\u003eURL.revokeObjectURL(fe))});let j=N.get(O);if(j!==void 0\u0026\u0026j.has(T))return Promise.resolve();let B=b.get(O);if(B!==void 0){let Z=B.get(T);if(Z!==void 0)return Z}let Q=h(T).then(([Z,ee])=\u003e{let[ae,ne]=oe(Z,ee);return s(`${ae};((a,b)=\u003e{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=\u003e{${ne}\n})})(window,'_AWGS')`)}).then(()=\u003e{let Z=w._AWGS.pop();if(Z===void 0)throw new SyntaxError;u(D.currentTime,D.sampleRate,()=\u003eZ(class{},void 0,(ee,ae)=\u003e{if(ee.trim()===\"\")throw t();let ne=W.get(D);if(ne!==void 0){if(ne.has(ee))throw t();R(ae),G(ae.parameterDescriptors),ne.set(ee,ae)}else R(ae),G(ae.parameterDescriptors),W.set(D,new Map([[ee,ae]]))},D.sampleRate,void 0,void 0))});return B===void 0?b.set(O,new Map([[T,Q]])):B.set(T,Q),Q.then(()=\u003e{let Z=N.get(O);Z===void 0?N.set(O,new Set([T])):Z.add(T)}).finally(()=\u003e{let Z=b.get(O);Z!==void 0\u0026\u0026Z.delete(T)}),Q})(dr,Ze,(l=\u003et=\u003enew Promise((s,u)=\u003e{if(l===null)return void u(new SyntaxError);let h=l.document.head;if(h===null)u(new SyntaxError);else{let f=l.document.createElement(\"script\"),m=new Blob([t],{type:\"application/javascript\"}),y=URL.createObjectURL(m),b=l.onerror,N=()=\u003e{l.onerror=b,URL.revokeObjectURL(y)};l.onerror=(S,w,O,T,H)=\u003ew===y||w===l.location.href\u0026\u0026O===1\u0026\u0026T===1?(N(),u(H),!1):b!==null?b(S,w,O,T,H):void 0,f.onerror=()=\u003e{N(),u(new SyntaxError)},f.onload=()=\u003e{N(),s()},f.src=y,f.type=\"module\",h.appendChild(f)}}))(Ur),Em,(l=\u003easync t=\u003e{try{let s=await fetch(t);if(s.ok)return[await s.text(),s.url]}catch{}throw l()})(()=\u003enew DOMException(\"\",\"AbortError\")),Ct,N4,kt,new WeakMap,new WeakMap,((l,t)=\u003easync()=\u003e{if(l===null)return!0;if(t===null)return!1;let s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor(\"a\",A)'],{type:\"application/javascript; charset=utf-8\"}),u=new t(1,128,8e3),h=URL.createObjectURL(s),f=!1,m=!1;try{await u.audioWorklet.addModule(h);let y=new l(u,\"a\",{numberOfOutputs:0}),b=u.createOscillator();y.port.onmessage=()=\u003ef=!0,y.onprocessorerror=()=\u003em=!0,b.connect(y),await u.startRendering()}catch{}finally{URL.revokeObjectURL(h)}return f\u0026\u0026!m})(Ul,vn),Ur):void 0,q4=((l,t)=\u003es=\u003el(s)||t(s))(km,kt),G1=((l,t,s,u,h,f,m,y,b,N,S,w,O,T,H,D,j,B,Q,Z)=\u003eclass extends H{constructor(ee,ae){super(ee,ae),this._nativeContext=ee,this._audioWorklet=l===void 0?void 0:{addModule:(ne,se)=\u003el(this,ne,se)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new h(this)}createBuffer(ee,ae,ne){return new s({length:ae,numberOfChannels:ee,sampleRate:ne})}createBufferSource(){return new u(this)}createChannelMerger(ee=6){return new f(this,{numberOfInputs:ee})}createChannelSplitter(ee=6){return new m(this,{numberOfOutputs:ee})}createConstantSource(){return new y(this)}createConvolver(){return new b(this)}createDelay(ee=1){return new S(this,{maxDelayTime:ee})}createDynamicsCompressor(){return new w(this)}createGain(){return new O(this)}createIIRFilter(ee,ae){return new T(this,{feedback:ae,feedforward:ee})}createOscillator(){return new D(this)}createPanner(){return new j(this)}createPeriodicWave(ee,ae,ne={disableNormalization:!1}){return new B(this,{...ne,imag:ae,real:ee})}createStereoPanner(){return new Q(this)}createWaveShaper(){return new Z(this)}decodeAudioData(ee,ae,ne){return N(this._nativeContext,ee).then(se=\u003e(typeof ae==\"function\"\u0026\u0026ae(se),se)).catch(se=\u003e{throw typeof ne==\"function\"\u0026\u0026ne(se),se})}})(w4,XD,ZD,QD,t4,r4,a4,s4,o4,((l,t,s,u,h,f,m,y,b,N,S)=\u003e(w,O)=\u003e{let T=m(w)?w:f(w);if(h.has(O)){let H=s();return Promise.reject(H)}try{h.add(O)}catch{}return t(b,()=\u003eb(T))?T.decodeAudioData(O).then(H=\u003e(t(y,()=\u003ey(H))||S(H),l.add(H),H)):new Promise((H,D)=\u003e{let j=()=\u003e{try{(Q=\u003e{let{port1:Z}=new MessageChannel;Z.postMessage(Q,[Q])})(O)}catch{}},B=Q=\u003e{D(Q),j()};try{T.decodeAudioData(O,Q=\u003e{typeof Q.copyFromChannel!=\"function\"\u0026\u0026(N(Q),ce(Q)),l.add(Q),j(),H(Q)},Q=\u003e{B(Q===null?u():Q)})}catch(Q){B(Q)}})})(qm,dr,()=\u003enew DOMException(\"\",\"DataCloneError\"),()=\u003enew DOMException(\"\",\"EncodingError\"),new WeakSet,Ct,q4,ue,zt,Mm,Sm),u4,c4,l4,p4,Rm,m4,y4,_4,b4,k4),T4=((l,t,s,u)=\u003eclass extends l{constructor(h,f){let m=s(h),y=t(m,f);if(u(m))throw TypeError();super(h,!0,y,null),this._nativeMediaElementAudioSourceNode=y}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Kt,(l,t)=\u003el.createMediaElementSource(t.mediaElement),Ct,kt),M4=((l,t,s,u)=\u003eclass extends l{constructor(h,f){let m=s(h);if(u(m))throw new TypeError;let y={...Re,...f},b=t(m,y);super(h,!1,b,null),this._nativeMediaStreamAudioDestinationNode=b}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Kt,(l,t)=\u003e{let s=l.createMediaStreamDestination();return Zt(s,t),s.numberOfOutputs===1\u0026\u0026Object.defineProperty(s,\"numberOfOutputs\",{get:()=\u003e0}),s},Ct,kt),S4=((l,t,s,u)=\u003eclass extends l{constructor(h,f){let m=s(h),y=t(m,f);if(u(m))throw new TypeError;super(h,!0,y,null),this._nativeMediaStreamAudioSourceNode=y}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Kt,(l,{mediaStream:t})=\u003e{let s=t.getAudioTracks();s.sort((f,m)=\u003ef.id\u003cm.id?-1:f.id\u003em.id?1:0);let u=s.slice(0,1),h=l.createMediaStreamSource(new MediaStream(u));return Object.defineProperty(h,\"mediaStream\",{value:t}),h},Ct,kt),P4=((l,t,s)=\u003eclass extends l{constructor(u,h){let f=s(u);super(u,!0,t(f,h),null)}})(Kt,((l,t)=\u003e(s,{mediaStreamTrack:u})=\u003e{if(typeof s.createMediaStreamTrackSource==\"function\")return s.createMediaStreamTrackSource(u);let h=new MediaStream([u]),f=s.createMediaStreamSource(h);if(u.kind!==\"audio\")throw l();if(t(s))throw new TypeError;return f})(It,kt),Ct),O4=((l,t,s,u,h,f,m,y,b)=\u003eclass extends l{constructor(N={}){if(b===null)throw new Error(\"Missing the native AudioContext constructor.\");let S=new b(N);if(S===null)throw u();if(!Pe(N.latencyHint))throw new TypeError(`The provided value '${N.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(N.sampleRate!==void 0\u0026\u0026S.sampleRate!==N.sampleRate)throw s();super(S,2);let{latencyHint:w}=N,{sampleRate:O}=S;if(this._baseLatency=typeof S.baseLatency==\"number\"?S.baseLatency:w===\"balanced\"?512/O:w===\"interactive\"||w===void 0?256/O:w===\"playback\"?1024/O:128*Math.max(2,Math.min(128,Math.round(w*O/128)))/O,this._nativeAudioContext=S,b.name===\"webkitAudioContext\"?(this._nativeGainNode=S.createGain(),this._nativeOscillatorNode=S.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(S.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,S.state===\"running\"){this._state=\"suspended\";let T=()=\u003e{this._state===\"suspended\"\u0026\u0026(this._state=null),S.removeEventListener(\"statechange\",T)};S.addEventListener(\"statechange\",T)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state===\"closed\"?this._nativeAudioContext.close().then(()=\u003e{throw t()}):(this._state===\"suspended\"\u0026\u0026(this._state=null),this._nativeAudioContext.close().then(()=\u003e{this._nativeGainNode!==null\u0026\u0026this._nativeOscillatorNode!==null\u0026\u0026(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Ge(this)}))}createMediaElementSource(N){return new h(this,{mediaElement:N})}createMediaStreamDestination(){return new f(this)}createMediaStreamSource(N){return new m(this,{mediaStream:N})}createMediaStreamTrackSource(N){return new y(this,{mediaStreamTrack:N})}resume(){return this._state===\"suspended\"?new Promise((N,S)=\u003e{let w=()=\u003e{this._nativeAudioContext.removeEventListener(\"statechange\",w),this._nativeAudioContext.state===\"running\"?N():this.resume().then(N,S)};this._nativeAudioContext.addEventListener(\"statechange\",w)}):this._nativeAudioContext.resume().catch(N=\u003e{throw N===void 0||N.code===15?t():N})}suspend(){return this._nativeAudioContext.suspend().catch(N=\u003e{throw N===void 0?t():N})}})(G1,It,Ze,Ys,T4,M4,S4,P4,Da),jm=(U1=j1,l=\u003e{let t=U1.get(l);if(t===void 0)throw new Error(\"The context has no set of AudioWorkletNodes.\");return t});var U1;let C4=($1=jm,(l,t)=\u003e{$1(l).add(t)});var $1;let H1=(l=\u003e(t,s,u=0,h=0)=\u003e{let f=t[u];if(f===void 0)throw l();return Br(s)?f.connect(s,0,h):f.connect(s,0)})(le),A4=(l=\u003e(t,s)=\u003e{l(t).delete(s)})(jm),Y1=(l=\u003e(t,s,u,h=0)=\u003es===void 0?t.forEach(f=\u003ef.disconnect()):typeof s==\"number\"?hi(l,t,s).disconnect():Br(s)?u===void 0?t.forEach(f=\u003ef.disconnect(s)):h===void 0?hi(l,t,u).disconnect(s,0):hi(l,t,u).disconnect(s,0,h):u===void 0?t.forEach(f=\u003ef.disconnect(s)):hi(l,t,u).disconnect(s,0))(le),X1=new WeakMap,R4=((l,t)=\u003es=\u003et(l,s))(X1,$),E4=((l,t,s,u,h,f,m,y,b,N,S,w,O)=\u003e(T,H,D,j)=\u003e{if(j.numberOfInputs===0\u0026\u0026j.numberOfOutputs===0)throw b();let B=Array.isArray(j.outputChannelCount)?j.outputChannelCount:Array.from(j.outputChannelCount);if(B.some(we=\u003ewe\u003c1))throw b();if(B.length!==j.numberOfOutputs)throw t();if(j.channelCountMode!==\"explicit\")throw b();let Q=j.channelCount*j.numberOfInputs,Z=B.reduce((we,gt)=\u003ewe+gt,0),ee=D.parameterDescriptors===void 0?0:D.parameterDescriptors.length;if(Q+ee\u003e6||Z\u003e6)throw b();let ae=new MessageChannel,ne=[],se=[];for(let we=0;we\u003cj.numberOfInputs;we+=1)ne.push(m(T,{channelCount:j.channelCount,channelCountMode:j.channelCountMode,channelInterpretation:j.channelInterpretation,gain:1})),se.push(h(T,{channelCount:j.channelCount,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:j.channelCount}));let ke=[];if(D.parameterDescriptors!==void 0)for(let{defaultValue:we,maxValue:gt,minValue:Cn,name:Vt}of D.parameterDescriptors){let pt=f(T,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:j.parameterData[Vt]!==void 0?j.parameterData[Vt]:we===void 0?0:we});Object.defineProperties(pt.offset,{defaultValue:{get:()=\u003ewe===void 0?0:we},maxValue:{get:()=\u003egt===void 0?je:gt},minValue:{get:()=\u003eCn===void 0?me:Cn}}),ke.push(pt)}let he=u(T,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:Math.max(1,Q+ee)}),fe=Ll(H,T.sampleRate),ve=y(T,fe,Q+ee,Math.max(1,Z)),Te=h(T,{channelCount:Math.max(1,Z),channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:Math.max(1,Z)}),Le=[];for(let we=0;we\u003cj.numberOfOutputs;we+=1)Le.push(u(T,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:B[we]}));for(let we=0;we\u003cj.numberOfInputs;we+=1){ne[we].connect(se[we]);for(let gt=0;gt\u003cj.channelCount;gt+=1)se[we].connect(he,gt,we*j.channelCount+gt)}let ht=new oi(D.parameterDescriptors===void 0?[]:D.parameterDescriptors.map(({name:we},gt)=\u003e{let Cn=ke[gt];return Cn.connect(he,0,Q+gt),Cn.start(0),[we,Cn.offset]}));he.connect(ve);let De=j.channelInterpretation,Qe=null,st=j.numberOfOutputs===0?[ve]:Le,Xe={get bufferSize(){return fe},get channelCount(){return j.channelCount},set channelCount(we){throw s()},get channelCountMode(){return j.channelCountMode},set channelCountMode(we){throw s()},get channelInterpretation(){return De},set channelInterpretation(we){for(let gt of ne)gt.channelInterpretation=we;De=we},get context(){return ve.context},get inputs(){return ne},get numberOfInputs(){return j.numberOfInputs},get numberOfOutputs(){return j.numberOfOutputs},get onprocessorerror(){return Qe},set onprocessorerror(we){typeof Qe==\"function\"\u0026\u0026Xe.removeEventListener(\"processorerror\",Qe),Qe=typeof we==\"function\"?we:null,typeof Qe==\"function\"\u0026\u0026Xe.addEventListener(\"processorerror\",Qe)},get parameters(){return ht},get port(){return ae.port2},addEventListener:(...we)=\u003eve.addEventListener(we[0],we[1],we[2]),connect:l.bind(null,st),disconnect:N.bind(null,st),dispatchEvent:(...we)=\u003eve.dispatchEvent(we[0]),removeEventListener:(...we)=\u003eve.removeEventListener(we[0],we[1],we[2])},at=new Map;var dt,Qt;ae.port1.addEventListener=(dt=ae.port1.addEventListener,(...we)=\u003e{if(we[0]===\"message\"){let gt=typeof we[1]==\"function\"?we[1]:typeof we[1]==\"object\"\u0026\u0026we[1]!==null\u0026\u0026typeof we[1].handleEvent==\"function\"?we[1].handleEvent:null;if(gt!==null){let Cn=at.get(we[1]);Cn!==void 0?we[1]=Cn:(we[1]=Vt=\u003e{S(T.currentTime,T.sampleRate,()=\u003egt(Vt))},at.set(gt,we[1]))}}return dt.call(ae.port1,we[0],we[1],we[2])}),ae.port1.removeEventListener=(Qt=ae.port1.removeEventListener,(...we)=\u003e{if(we[0]===\"message\"){let gt=at.get(we[1]);gt!==void 0\u0026\u0026(at.delete(we[1]),we[1]=gt)}return Qt.call(ae.port1,we[0],we[1],we[2])});let cn=null;Object.defineProperty(ae.port1,\"onmessage\",{get:()=\u003ecn,set:we=\u003e{typeof cn==\"function\"\u0026\u0026ae.port1.removeEventListener(\"message\",cn),cn=typeof we==\"function\"?we:null,typeof cn==\"function\"\u0026\u0026(ae.port1.addEventListener(\"message\",cn),ae.port1.start())}}),D.prototype.port=ae.port1;let ot=null;((we,gt,Cn,Vt)=\u003e{let pt=K.get(we);pt===void 0\u0026\u0026(pt=new WeakMap,K.set(we,pt));let jt=M(Cn,Vt);return pt.set(gt,jt),jt})(T,Xe,D,j).then(we=\u003eot=we);let Ie=ua(j.numberOfInputs,j.channelCount),On=ua(j.numberOfOutputs,B),ga=D.parameterDescriptors===void 0?[]:D.parameterDescriptors.reduce((we,{name:gt})=\u003e({...we,[gt]:new Float32Array(128)}),{}),yr=!0,Ni=()=\u003e{j.numberOfOutputs\u003e0\u0026\u0026ve.disconnect(Te);for(let we=0,gt=0;we\u003cj.numberOfOutputs;we+=1){let Cn=Le[we];for(let Vt=0;Vt\u003cB[we];Vt+=1)Te.disconnect(Cn,gt+Vt,Vt);gt+=B[we]}},wi=new Map;ve.onaudioprocess=({inputBuffer:we,outputBuffer:gt})=\u003e{if(ot!==null){let Cn=w(Xe);for(let Vt=0;Vt\u003cfe;Vt+=128){for(let pt=0;pt\u003cj.numberOfInputs;pt+=1)for(let jt=0;jt\u003cj.channelCount;jt+=1)oa(we,Ie[pt],jt,jt,Vt);D.parameterDescriptors!==void 0\u0026\u0026D.parameterDescriptors.forEach(({name:pt},jt)=\u003e{oa(we,ga,pt,Q+jt,Vt)});for(let pt=0;pt\u003cj.numberOfInputs;pt+=1)for(let jt=0;jt\u003cB[pt];jt+=1)On[pt][jt].byteLength===0\u0026\u0026(On[pt][jt]=new Float32Array(128));try{let pt=Ie.map((Ar,qi)=\u003e{if(Cn[qi].size\u003e0)return wi.set(qi,fe/128),Ar;let Ti=wi.get(qi);return Ti===void 0?[]:(Ar.every(R8=\u003eR8.every(E8=\u003eE8===0))\u0026\u0026(Ti===1?wi.delete(qi):wi.set(qi,Ti-1)),Ar)});yr=S(T.currentTime+Vt/T.sampleRate,T.sampleRate,()=\u003eot.process(pt,On,ga));for(let Ar=0,qi=0;Ar\u003cj.numberOfOutputs;Ar+=1){for(let Ti=0;Ti\u003cB[Ar];Ti+=1)ja(gt,On[Ar],Ti,qi+Ti,Vt);qi+=B[Ar]}}catch(pt){yr=!1,Xe.dispatchEvent(new ErrorEvent(\"processorerror\",{colno:pt.colno,filename:pt.filename,lineno:pt.lineno,message:pt.message}))}if(!yr){for(let pt=0;pt\u003cj.numberOfInputs;pt+=1){ne[pt].disconnect(se[pt]);for(let jt=0;jt\u003cj.channelCount;jt+=1)se[Vt].disconnect(he,jt,pt*j.channelCount+jt)}if(D.parameterDescriptors!==void 0){let pt=D.parameterDescriptors.length;for(let jt=0;jt\u003cpt;jt+=1){let Ar=ke[jt];Ar.disconnect(he,0,Q+jt),Ar.stop()}}he.disconnect(ve),ve.onaudioprocess=null,nn?Ni():Sx();break}}}};let nn=!1,Jn=m(T,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0}),Mx=()=\u003eve.connect(Jn).connect(T.destination),Sx=()=\u003e{ve.disconnect(Jn),Jn.disconnect()};return Mx(),O(Xe,()=\u003e{if(yr){Sx(),j.numberOfOutputs\u003e0\u0026\u0026ve.connect(Te);for(let we=0,gt=0;we\u003cj.numberOfOutputs;we+=1){let Cn=Le[we];for(let Vt=0;Vt\u003cB[we];Vt+=1)Te.connect(Cn,gt+Vt,Vt);gt+=B[we]}}nn=!0},()=\u003e{yr\u0026\u0026(Mx(),Ni()),nn=!1})})(H1,le,It,mi,E,Qs,z,Ue,Ze,Y1,Em,R4,fi),j4=((l,t,s,u,h)=\u003e(f,m,y,b,N,S)=\u003e{if(y!==null)try{let T=new y(f,b,S),H=new Map,D=null;if(Object.defineProperties(T,{channelCount:{get:()=\u003eS.channelCount,set:()=\u003e{throw l()}},channelCountMode:{get:()=\u003e\"explicit\",set:()=\u003e{throw l()}},onprocessorerror:{get:()=\u003eD,set:j=\u003e{typeof D==\"function\"\u0026\u0026T.removeEventListener(\"processorerror\",D),D=typeof j==\"function\"?j:null,typeof D==\"function\"\u0026\u0026T.addEventListener(\"processorerror\",D)}}}),T.addEventListener=(O=T.addEventListener,(...j)=\u003e{if(j[0]===\"processorerror\"){let B=typeof j[1]==\"function\"?j[1]:typeof j[1]==\"object\"\u0026\u0026j[1]!==null\u0026\u0026typeof j[1].handleEvent==\"function\"?j[1].handleEvent:null;if(B!==null){let Q=H.get(j[1]);Q!==void 0?j[1]=Q:(j[1]=Z=\u003e{Z.type===\"error\"?(Object.defineProperties(Z,{type:{value:\"processorerror\"}}),B(Z)):B(new ErrorEvent(j[0],{...Z}))},H.set(B,j[1]))}}return O.call(T,\"error\",j[1],j[2]),O.call(T,...j)}),T.removeEventListener=(w=T.removeEventListener,(...j)=\u003e{if(j[0]===\"processorerror\"){let B=H.get(j[1]);B!==void 0\u0026\u0026(H.delete(j[1]),j[1]=B)}return w.call(T,\"error\",j[1],j[2]),w.call(T,j[0],j[1],j[2])}),S.numberOfOutputs!==0){let j=s(f,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});return T.connect(j).connect(f.destination),h(T,()=\u003ej.disconnect(),()=\u003ej.connect(f.destination))}return T}catch(T){throw T.code===11?u():T}var w,O;if(N===void 0)throw u();return(T=\u003e{let{port1:H}=new MessageChannel;try{H.postMessage(T)}finally{H.close()}})(S),t(f,m,N,S)})(It,E4,z,Ze,fi),D4=((l,t,s,u,h,f,m,y,b,N,S,w,O,T,H,D)=\u003e(j,B,Q)=\u003e{let Z=new WeakMap,ee=null;return{render(ae,ne,se){y(ne,ae);let ke=Z.get(ne);return ke!==void 0?Promise.resolve(ke):(async(he,fe,ve)=\u003e{let Te=S(he),Le=null,ht=Y(Te,fe),De=Array.isArray(B.outputChannelCount)?B.outputChannelCount:Array.from(B.outputChannelCount);if(w===null){let Qe=De.reduce((dt,Qt)=\u003edt+Qt,0),st=h(fe,{channelCount:Math.max(1,Qe),channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:Math.max(1,Qe)}),Xe=[];for(let dt=0;dt\u003che.numberOfOutputs;dt+=1)Xe.push(u(fe,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:De[dt]}));let at=m(fe,{channelCount:B.channelCount,channelCountMode:B.channelCountMode,channelInterpretation:B.channelInterpretation,gain:1});at.connect=t.bind(null,Xe),at.disconnect=b.bind(null,Xe),Le=[st,Xe,at]}else ht||(Te=new w(fe,j));if(Z.set(fe,Le===null?Te:Le[2]),Le!==null){if(ee===null){if(Q===void 0)throw new Error(\"Missing the processor constructor.\");if(O===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let Qt=he.channelCount*he.numberOfInputs,cn=Q.parameterDescriptors===void 0?0:Q.parameterDescriptors.length,ot=Qt+cn;ee=es(he,ot===0?null:await(async()=\u003e{let On=new O(ot,128*Math.ceil(he.context.length/128),fe.sampleRate),ga=[],yr=[];for(let nn=0;nn\u003cB.numberOfInputs;nn+=1)ga.push(m(On,{channelCount:B.channelCount,channelCountMode:B.channelCountMode,channelInterpretation:B.channelInterpretation,gain:1})),yr.push(h(On,{channelCount:B.channelCount,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:B.channelCount}));let Ni=await Promise.all(Array.from(he.parameters.values()).map(async nn=\u003e{let Jn=f(On,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:nn.value});return await T(On,nn,Jn.offset,ve),Jn})),wi=u(On,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:Math.max(1,Qt+cn)});for(let nn=0;nn\u003cB.numberOfInputs;nn+=1){ga[nn].connect(yr[nn]);for(let Jn=0;Jn\u003cB.channelCount;Jn+=1)yr[nn].connect(wi,Jn,nn*B.channelCount+Jn)}for(let[nn,Jn]of Ni.entries())Jn.connect(wi,0,Qt+nn),Jn.start(0);return wi.connect(On.destination),await Promise.all(ga.map(nn=\u003eH(he,On,nn,ve))),D(On)})(),fe,B,De,Q,N)}let Qe=await ee,st=s(fe,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[Xe,at,dt]=Le;Qe!==null\u0026\u0026(st.buffer=Qe,st.start(0)),st.connect(Xe);for(let Qt=0,cn=0;Qt\u003che.numberOfOutputs;Qt+=1){let ot=at[Qt];for(let Ie=0;Ie\u003cDe[Qt];Ie+=1)Xe.connect(ot,cn+Ie,Ie);cn+=De[Qt]}return dt}if(ht)for(let[Qe,st]of he.parameters.entries())await l(fe,st,Te.parameters.get(Qe),ve);else for(let[Qe,st]of he.parameters.entries())await T(fe,st,Te.parameters.get(Qe),ve);return await H(he,fe,Te,ve),Te})(ae,ne,se)}}})(la,H1,Ks,mi,E,Qs,z,A4,Y1,Em,mt,Ul,vn,ha,qn,zl),I4=(l=\u003et=\u003el.get(t))(z1),F4=(l=\u003e(t,s)=\u003e{l.set(t,s)})(X1),Z1=B1?((l,t,s,u,h,f,m,y,b,N,S,w,O)=\u003eclass extends t{constructor(T,H,D){var j;let B=y(T),Q=b(B),Z=S({...Ea,...D}),ee=W.get(B),ae=ee==null?void 0:ee.get(H),ne=Q||B.state!==\"closed\"?B:(j=m(B))!==null\u0026\u0026j!==void 0?j:B,se=h(ne,Q?null:T.baseLatency,N,H,ae,Z);super(T,!0,se,Q?u(H,Z,ae):null);let ke=[];se.parameters.forEach((fe,ve)=\u003e{let Te=s(this,Q,fe);ke.push([ve,Te])}),this._nativeAudioWorkletNode=se,this._onprocessorerror=null,this._parameters=new oi(ke),Q\u0026\u0026l(B,this);let{activeInputs:he}=f(this);w(se,he)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(T){let H=typeof T==\"function\"?O(this,T):null;this._nativeAudioWorkletNode.onprocessorerror=H;let D=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=D!==null\u0026\u0026D===H?T:D}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(C4,Kt,$r,D4,j4,de,I4,Ct,kt,Ul,l=\u003e({...l,outputChannelCount:l.outputChannelCount!==void 0?l.outputChannelCount:l.numberOfInputs===1\u0026\u0026l.numberOfOutputs===1?[l.channelCount]:Array.from({length:l.numberOfOutputs},()=\u003e1)}),F4,Zs):void 0,K1=(((l,t,s,u,h)=\u003e{})(It,Ze,Ys,Rm,Da),((l,t)=\u003e(s,u,h)=\u003e{if(t===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");try{return new t(s,u,h)}catch(f){throw f.name===\"SyntaxError\"?l():f}})(Ze,vn)),Q1=((l,t,s,u,h,f,m,y)=\u003e{let b=[];return(N,S)=\u003es(N).render(N,S,b).then(()=\u003ePromise.all(Array.from(u(S)).map(w=\u003es(w).render(w,S,b)))).then(()=\u003eh(S)).then(w=\u003e(typeof w.copyFromChannel!=\"function\"?(m(w),ce(w)):t(f,()=\u003ef(w))||y(w),l.add(w),w))})(qm,dr,bm,jm,zl,ue,Mm,Sm),V4=(((l,t,s,u,h)=\u003e{})(dr,It,K1,Rm,Q1),((l,t,s,u,h)=\u003eclass extends l{constructor(f,m,y){let b;if(typeof f==\"number\"\u0026\u0026m!==void 0\u0026\u0026y!==void 0)b={length:m,numberOfChannels:f,sampleRate:y};else{if(typeof f!=\"object\")throw new Error(\"The given parameters are not valid.\");b=f}let{length:N,numberOfChannels:S,sampleRate:w}={...vt,...b},O=u(S,N,w);t(zt,()=\u003ezt(O))||O.addEventListener(\"statechange\",(()=\u003e{let T=0,H=D=\u003e{this._state===\"running\"\u0026\u0026(T\u003e0?(O.removeEventListener(\"statechange\",H),D.stopImmediatePropagation(),this._waitForThePromiseToSettle(D)):T+=1)};return H})()),super(O,S),this._length=N,this._nativeOfflineAudioContext=O,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state===\"running\"?Promise.reject(s()):(this._state=\"running\",h(this.destination,this._nativeOfflineAudioContext).finally(()=\u003e{this._state=null,Ge(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=\u003ethis._waitForThePromiseToSettle(f))}})(G1,dr,It,K1,Q1)),L4=((l,t)=\u003es=\u003e{let u=l.get(s);return t(u)||t(s)})(q,km),W4=(J1=_,ex=wm,l=\u003eJ1.has(l)||ex(l));var J1,ex;let B4=(tx=x,nx=g1,l=\u003etx.has(l)||nx(l));var tx,nx;let z4=((l,t)=\u003es=\u003e{let u=l.get(s);return t(u)||t(s)})(q,kt),G4=()=\u003e(async(l,t,s,u,h,f,m,y,b,N,S,w,O,T,H,D)=\u003el(t,t)\u0026\u0026l(s,s)\u0026\u0026l(h,h)\u0026\u0026l(f,f)\u0026\u0026l(y,y)\u0026\u0026l(b,b)\u0026\u0026l(N,N)\u0026\u0026l(S,S)\u0026\u0026l(w,w)\u0026\u0026l(O,O)\u0026\u0026l(T,T)?(await Promise.all([l(u,u),l(m,m),l(H,H),l(D,D)])).every(j=\u003ej):!1)(dr,(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createBuffer(1,1,44100);if(t.copyToChannel===void 0)return!0;let s=new Float32Array(2);try{t.copyFromChannel(s,0,0)}catch{return!1}return!0})(vn),(l=\u003e()=\u003e{if(l===null)return!1;if(l.prototype!==void 0\u0026\u0026l.prototype.close!==void 0)return!0;let t=new l,s=t.close!==void 0;try{t.close()}catch{}return s})(Da),(l=\u003e()=\u003e{if(l===null)return Promise.resolve(!1);let t=new l(1,1,44100);return new Promise(s=\u003e{let u=!0,h=m=\u003e{u\u0026\u0026(u=!1,t.startRendering(),s(m instanceof TypeError))},f;try{f=t.decodeAudioData(null,()=\u003e{},h)}catch(m){h(m)}f!==void 0\u0026\u0026f.catch(h)})})(vn),(l=\u003e()=\u003e{if(l===null)return!1;let t;try{t=new l({latencyHint:\"balanced\"})}catch{return!1}return t.close(),!0})(Da),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createGain(),s=t.connect(t)===t;return t.disconnect(t),s})(vn),((l,t)=\u003easync()=\u003e{if(l===null)return!0;if(t===null)return!1;let s=new Blob(['class A extends AudioWorkletProcessor{process(){this.port.postMessage(0)}}registerProcessor(\"a\",A)'],{type:\"application/javascript; charset=utf-8\"}),u=new t(1,128,8e3),h=URL.createObjectURL(s),f=!1;try{await u.audioWorklet.addModule(h);let m=new l(u,\"a\",{numberOfOutputs:0}),y=u.createOscillator();m.port.onmessage=()=\u003ef=!0,y.connect(m),y.start(0),await u.startRendering(),f||await new Promise(b=\u003esetTimeout(b,5))}catch{}finally{URL.revokeObjectURL(h)}return f})(Ul,vn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createChannelMerger();if(t.channelCountMode===\"max\")return!0;try{t.channelCount=2}catch{return!0}return!1})(vn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100);return t.createConstantSource===void 0?!0:t.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(vn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100),s=t.createConvolver();s.buffer=t.createBuffer(1,1,t.sampleRate);try{s.buffer=t.createBuffer(1,1,t.sampleRate)}catch{return!1}return!0})(vn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createConvolver();try{t.channelCount=1}catch{return!1}return!0})(vn),BD,(l=\u003e()=\u003el!==null\u0026\u0026l.hasOwnProperty(\"isSecureContext\"))(Ur),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l;try{return t.createMediaStreamSource(new MediaStream),!1}catch(s){return!0}})(Da),(l=\u003e()=\u003e{if(l===null)return Promise.resolve(!1);let t=new l(1,1,44100);if(t.createStereoPanner===void 0||t.createConstantSource===void 0)return Promise.resolve(!0);let s=t.createConstantSource(),u=t.createStereoPanner();return s.channelCount=1,s.offset.value=1,u.channelCount=1,s.start(),s.connect(u).connect(t.destination),t.startRendering().then(h=\u003eh.getChannelData(0)[0]!==1)})(vn),zD);function Ee(l,t){if(!l)throw new Error(t)}function Tn(l,t,s=1/0){if(!(t\u003c=l\u0026\u0026l\u003c=s))throw new RangeError(`Value must be within [${t}, ${s}], got: ${l}`)}function Dm(l){l.isOffline||l.state===\"running\"||Fu('The AudioContext is \"suspended\". Invoke Tone.start() from a user action to start the audio.')}let Im=console;function U4(l){Im=l}function rx(...l){Im.log(...l)}function Fu(...l){Im.warn(...l)}function Xn(l){return l===void 0}function et(l){return!Xn(l)}function ax(l){return typeof l==\"function\"}function pr(l){return typeof l==\"number\"}function Ia(l){return Object.prototype.toString.call(l)===\"[object Object]\"\u0026\u0026l.constructor===Object}function Fm(l){return typeof l==\"boolean\"}function Mn(l){return Array.isArray(l)}function Sr(l){return typeof l==\"string\"}function Vu(l){return Sr(l)\u0026\u0026/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(l)}let Fa=typeof self==\"object\"?self:null,$4=Fa\u0026\u0026(Fa.hasOwnProperty(\"AudioContext\")||Fa.hasOwnProperty(\"webkitAudioContext\"));function Hr(l,t,s,u){var h,f=arguments.length,m=f\u003c3?t:u===null?u=Object.getOwnPropertyDescriptor(t,s):u;if(typeof Reflect==\"object\"\u0026\u0026typeof Reflect.decorate==\"function\")m=Reflect.decorate(l,t,s,u);else for(var y=l.length-1;y\u003e=0;y--)(h=l[y])\u0026\u0026(m=(f\u003c3?h(m):f\u003e3?h(t,s,m):h(t,s))||m);return f\u003e3\u0026\u0026m\u0026\u0026Object.defineProperty(t,s,m),m}function Tt(l,t,s,u){return new(s||(s=Promise))(function(h,f){function m(N){try{b(u.next(N))}catch(S){f(S)}}function y(N){try{b(u.throw(N))}catch(S){f(S)}}function b(N){var S;N.done?h(N.value):(S=N.value,S instanceof s?S:new s(function(w){w(S)})).then(m,y)}b((u=u.apply(l,t||[])).next())})}class H4{constructor(t,s,u){this._callback=t,this._type=s,this._updateInterval=u,this._createClock()}_createWorker(){let t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:\"text/javascript\"}),s=URL.createObjectURL(t),u=new Worker(s);u.onmessage=this._callback.bind(this),this._worker=u}_createTimeout(){this._timeout=setTimeout(()=\u003e{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if(this._type===\"worker\")try{this._createWorker()}catch(t){this._type=\"timeout\",this._createClock()}else this._type===\"timeout\"\u0026\u0026this._createTimeout()}_disposeClock(){this._timeout\u0026\u0026(clearTimeout(this._timeout),this._timeout=0),this._worker\u0026\u0026(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),this._type===\"worker\"\u0026\u0026this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function as(l){return B4(l)}function vi(l){return W4(l)}function $l(l){return z4(l)}function Js(l){return L4(l)}function ix(l){return l instanceof AudioBuffer}function Y4(l,t){return l===\"value\"||as(t)||vi(t)||ix(t)}function Pr(l,...t){if(!t.length)return l;let s=t.shift();if(Ia(l)\u0026\u0026Ia(s))for(let u in s)Y4(u,s[u])?l[u]=s[u]:Ia(s[u])?(l[u]||Object.assign(l,{[u]:{}}),Pr(l[u],s[u])):Object.assign(l,{[u]:s[u]});return Pr(l,...t)}function L(l,t,s=[],u){let h={},f=Array.from(t);if(Ia(f[0])\u0026\u0026u\u0026\u0026!Reflect.has(f[0],u)\u0026\u0026(Object.keys(f[0]).some(m=\u003eReflect.has(l,m))||(Pr(h,{[u]:f[0]}),s.splice(s.indexOf(u),1),f.shift())),f.length===1\u0026\u0026Ia(f[0]))Pr(h,f[0]);else for(let m=0;m\u003cs.length;m++)et(f[m])\u0026\u0026(h[s[m]]=f[m]);return Pr(l,h)}function Or(l,t){return Xn(l)?t:l}function Sn(l,t){return t.forEach(s=\u003e{Reflect.has(l,s)\u0026\u0026delete l[s]}),l}class Va{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Fa\u0026\u0026this.toString()===Fa.TONE_DEBUG_CLASS)\u0026\u0026rx(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Va.version=c;function Hl(l,t){return l\u003et+1e-6}function Vm(l,t){return Hl(l,t)||Yr(l,t)}function sx(l,t){return l+1e-6\u003ct}function Yr(l,t){return Math.abs(l-t)\u003c1e-6}function ox(l,t,s){return Math.max(Math.min(l,s),t)}class Xr extends Va{constructor(){super(),this.name=\"Timeline\",this._timeline=[];let t=L(Xr.getDefaults(),arguments,[\"memory\"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Ee(Reflect.has(t,\"time\"),\"Timeline: events must have a time attribute\"),t.time=t.time.valueOf(),this.increasing\u0026\u0026this.length){let s=this._timeline[this.length-1];Ee(Vm(t.time,s.time),\"The time must be greater than or equal to the last scheduled time\"),this._timeline.push(t)}else{let s=this._search(t.time);this._timeline.splice(s+1,0,t)}if(this.length\u003ethis.memory){let s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(t){let s=this._timeline.indexOf(t);return s!==-1\u0026\u0026this._timeline.splice(s,1),this}get(t,s=\"time\"){let u=this._search(t,s);return u!==-1?this._timeline[u]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,s=\"time\"){let u=this._search(t,s);return u+1\u003cthis._timeline.length?this._timeline[u+1]:null}getBefore(t){let s=this._timeline.length;if(s\u003e0\u0026\u0026this._timeline[s-1].time\u003ct)return this._timeline[s-1];let u=this._search(t);return u-1\u003e=0?this._timeline[u-1]:null}cancel(t){if(this._timeline.length\u003e1){let s=this._search(t);if(s\u003e=0)if(Yr(this._timeline[s].time,t)){for(let u=s;u\u003e=0\u0026\u0026Yr(this._timeline[u].time,t);u--)s=u;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1\u0026\u0026Vm(this._timeline[0].time,t)\u0026\u0026(this._timeline=[]);return this}cancelBefore(t){let s=this._search(t);return s\u003e=0\u0026\u0026(this._timeline=this._timeline.slice(s+1)),this}previousEvent(t){let s=this._timeline.indexOf(t);return s\u003e0?this._timeline[s-1]:null}_search(t,s=\"time\"){if(this._timeline.length===0)return-1;let u=0,h=this._timeline.length,f=h;if(h\u003e0\u0026\u0026this._timeline[h-1][s]\u003c=t)return h-1;for(;u\u003cf;){let m=Math.floor(u+(f-u)/2),y=this._timeline[m],b=this._timeline[m+1];if(Yr(y[s],t)){for(let N=m;N\u003cthis._timeline.length\u0026\u0026Yr(this._timeline[N][s],t);N++)m=N;return m}if(sx(y[s],t)\u0026\u0026Hl(b[s],t))return m;Hl(y[s],t)?f=m:u=m+1}return-1}_iterate(t,s=0,u=this._timeline.length-1){this._timeline.slice(s,u+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,s){let u=this._search(t);return u!==-1\u0026\u0026this._iterate(s,0,u),this}forEachAfter(t,s){let u=this._search(t);return this._iterate(s,u+1),this}forEachBetween(t,s,u){let h=this._search(t),f=this._search(s);return h!==-1\u0026\u0026f!==-1?(this._timeline[h].time!==t\u0026\u0026(h+=1),this._timeline[f].time===s\u0026\u0026(f-=1),this._iterate(u,h,f)):h===-1\u0026\u0026this._iterate(u,0,f),this}forEachFrom(t,s){let u=this._search(t);for(;u\u003e=0\u0026\u0026this._timeline[u].time\u003e=t;)u--;return this._iterate(s,u+1),this}forEachAtTime(t,s){let u=this._search(t);if(u!==-1\u0026\u0026Yr(this._timeline[u].time,t)){let h=u;for(let f=u;f\u003e=0\u0026\u0026Yr(this._timeline[f].time,t);f--)h=f;this._iterate(f=\u003e{s(f)},h,u)}return this}dispose(){return super.dispose(),this._timeline=[],this}}let ux=[];function Yl(l){ux.push(l)}let cx=[];function Xl(l){cx.push(l)}class eo extends Va{constructor(){super(...arguments),this.name=\"Emitter\"}on(t,s){return t.split(/\\W+/).forEach(u=\u003e{Xn(this._events)\u0026\u0026(this._events={}),this._events.hasOwnProperty(u)||(this._events[u]=[]),this._events[u].push(s)}),this}once(t,s){let u=(...h)=\u003e{s(...h),this.off(t,u)};return this.on(t,u),this}off(t,s){return t.split(/\\W+/).forEach(u=\u003e{if(Xn(this._events)\u0026\u0026(this._events={}),this._events.hasOwnProperty(t))if(Xn(s))this._events[t]=[];else{let h=this._events[t];for(let f=h.length-1;f\u003e=0;f--)h[f]===s\u0026\u0026h.splice(f,1)}}),this}emit(t,...s){if(this._events\u0026\u0026this._events.hasOwnProperty(t)){let u=this._events[t].slice(0);for(let h=0,f=u.length;h\u003cf;h++)u[h].apply(this,s)}return this}static mixin(t){[\"on\",\"once\",\"off\",\"emit\"].forEach(s=\u003e{let u=Object.getOwnPropertyDescriptor(eo.prototype,s);Object.defineProperty(t.prototype,s,u)})}dispose(){return super.dispose(),this._events=void 0,this}}class Lm extends eo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class to extends Lm{constructor(){super(),this.name=\"Context\",this._constants=new Map,this._timeouts=new Xr,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;let t=L(to.getDefaults(),arguments,[\"context\"]);t.context?this._context=t.context:this._context=function(s){return new O4(s)}({latencyHint:t.latencyHint}),this._ticker=new H4(this.emit.bind(this,\"tick\"),t.clockSource,t.updateInterval),this.on(\"tick\",this._timeoutLoop.bind(this)),this._context.onstatechange=()=\u003e{this.emit(\"statechange\",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:\"worker\",latencyHint:\"interactive\",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,ux.forEach(s=\u003es(t)),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,s,u){return this._context.createBuffer(t,s,u)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,s){return this._context.createIIRFilter(t,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,s,u){return this._context.createPeriodicWave(t,s,u)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Ee(Js(this._context),\"Not available if OfflineAudioContext\"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Ee(Js(this._context),\"Not available if OfflineAudioContext\"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Ee(Js(this._context),\"Not available if OfflineAudioContext\"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Ee(!this._initialized,\"The listener cannot be set after initialization.\"),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Ee(!this._initialized,\"The transport cannot be set after initialization.\"),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Ee(!this._initialized,\"Draw cannot be set after initialization.\"),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Ee(!this._initialized,\"The destination cannot be set after initialization.\"),this._destination=t}createAudioWorkletNode(t,s){return function(u,h,f){return Ee(et(Z1),\"This node only works in a secure context (https or localhost)\"),new Z1(u,h,f)}(this.rawContext,t,s)}addAudioWorkletModule(t,s){return Tt(this,void 0,void 0,function*(){Ee(et(this.rawContext.audioWorklet),\"AudioWorkletNode is only available in a secure context (https or localhost)\"),this._workletModules.has(s)||this._workletModules.set(s,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(s)})}workletsAreReady(){return Tt(this,void 0,void 0,function*(){let t=[];this._workletModules.forEach(s=\u003et.push(s)),yield Promise.all(t)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let s=0;if(this._latencyHint=t,Sr(t))switch(t){case\"interactive\":s=.1;break;case\"playback\":s=.5;break;case\"balanced\":s=.25}this.lookAhead=s,this.updateInterval=s/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Js(this._context)?this._context.resume():Promise.resolve()}close(){return Tt(this,void 0,void 0,function*(){var t;Js(this._context)\u0026\u0026(yield this._context.close()),this._initialized\u0026\u0026(t=this,cx.forEach(s=\u003es(t)))})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{let s=this._context.createBuffer(1,128,this._context.sampleRate),u=s.getChannelData(0);for(let f=0;f\u003cu.length;f++)u[f]=t;let h=this._context.createBufferSource();return h.channelCount=1,h.channelCountMode=\"explicit\",h.buffer=s,h.loop=!0,h.start(0),this._constants.set(t,h),h}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=\u003ethis._constants[t].disconnect()),this}_timeoutLoop(){let t=this.now(),s=this._timeouts.peek();for(;this._timeouts.length\u0026\u0026s\u0026\u0026s.time\u003c=t;)s.callback(),this._timeouts.shift(),s=this._timeouts.peek()}setTimeout(t,s){this._timeoutIds++;let u=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:u+s}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(s=\u003e{s.id===t\u0026\u0026this._timeouts.remove(s)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,s){let u=++this._timeoutIds,h=()=\u003e{let f=this.now();this._timeouts.add({callback:()=\u003e{t(),h()},id:u,time:f+s})};return h(),u}}function Ve(l,t){Mn(t)?t.forEach(s=\u003eVe(l,s)):Object.defineProperty(l,t,{enumerable:!0,writable:!1})}function Lu(l,t){Mn(t)?t.forEach(s=\u003eLu(l,s)):Object.defineProperty(l,t,{writable:!0})}let it=()=\u003e{};class lt extends Va{constructor(){super(),this.name=\"ToneAudioBuffer\",this.onload=it;let t=L(lt.getDefaults(),arguments,[\"url\",\"onload\",\"onerror\"]);this.reverse=t.reverse,this.onload=t.onload,t.url\u0026\u0026ix(t.url)||t.url instanceof lt?this.set(t.url):Sr(t.url)\u0026\u0026this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:it,onload:it,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:At().sampleRate}set(t){return t instanceof lt?t.loaded?this._buffer=t.get():t.onload=()=\u003e{this.set(t),this.onload(this)}:this._buffer=t,this._reversed\u0026\u0026this._reverse(),this}get(){return this._buffer}load(t){return Tt(this,void 0,void 0,function*(){let s=lt.load(t).then(u=\u003e{this.set(u),this.onload(this)});lt.downloads.push(s);try{yield s}finally{let u=lt.downloads.indexOf(s);lt.downloads.splice(u,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){let s=Mn(t)\u0026\u0026t[0].length\u003e0,u=s?t.length:1,h=s?t[0].length:t.length,f=At(),m=f.createBuffer(u,h,f.sampleRate),y=s||u!==1?t:[t];for(let b=0;b\u003cu;b++)m.copyToChannel(y[b],b);return this._buffer=m,this}toMono(t){if(pr(t))this.fromArray(this.toArray(t));else{let s=new Float32Array(this.length),u=this.numberOfChannels;for(let h=0;h\u003cu;h++){let f=this.toArray(h);for(let m=0;m\u003cf.length;m++)s[m]+=f[m]}s=s.map(h=\u003eh/u),this.fromArray(s)}return this}toArray(t){if(pr(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{let s=[];for(let u=0;u\u003cthis.numberOfChannels;u++)s[u]=this.getChannelData(u);return s}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,s=this.duration){let u=Math.floor(t*this.sampleRate),h=Math.floor(s*this.sampleRate);Ee(u\u003ch,\"The start time must be less than the end time\");let f=h-u,m=At().createBuffer(this.numberOfChannels,f,this.sampleRate);for(let y=0;y\u003cthis.numberOfChannels;y++)m.copyToChannel(this.getChannelData(y).subarray(u,h),y);return new lt(m)}_reverse(){if(this.loaded)for(let t=0;t\u003cthis.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length\u003e0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t\u0026\u0026(this._reversed=t,this._reverse())}static fromArray(t){return new lt().fromArray(t)}static fromUrl(t){return Tt(this,void 0,void 0,function*(){return yield new lt().load(t)})}static load(t){return Tt(this,void 0,void 0,function*(){let s=t.match(/\\[([^\\]\\[]+\\|.+)\\]$/);if(s){let m=s[1].split(\"|\"),y=m[0];for(let b of m)if(lt.supportsType(b)){y=b;break}t=t.replace(s[0],y)}let u=lt.baseUrl===\"\"||lt.baseUrl.endsWith(\"/\")?lt.baseUrl:lt.baseUrl+\"/\",h=yield fetch(u+t);if(!h.ok)throw new Error(\"could not load url: \"+t);let f=yield h.arrayBuffer();return yield At().decodeAudioData(f)})}static supportsType(t){let s=t.split(\".\"),u=s[s.length-1];return document.createElement(\"audio\").canPlayType(\"audio/\"+u)!==\"\"}static loaded(){return Tt(this,void 0,void 0,function*(){for(yield Promise.resolve();lt.downloads.length;)yield lt.downloads[0]})}}lt.baseUrl=\"\",lt.downloads=[];class no extends to{constructor(){var t,s,u;super({clockSource:\"offline\",context:$l(arguments[0])?arguments[0]:(t=arguments[0],s=arguments[1]*arguments[2],u=arguments[2],new V4(t,s,u)),lookAhead:0,updateInterval:$l(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name=\"OfflineContext\",this._currentTime=0,this.isOffline=!0,this._duration=$l(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Tt(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime\u003e=0;){this.emit(\"tick\"),this._currentTime+=128/this.sampleRate,s++;let u=Math.floor(this.sampleRate/128);t\u0026\u0026s%u==0\u0026\u0026(yield new Promise(h=\u003esetTimeout(h,1)))}})}render(t=!0){return Tt(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(t);let s=yield this._context.startRendering();return new lt(s)})}close(){return Promise.resolve()}}let lx=new class extends Lm{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(l,t,s){return{}}createChannelMerger(l){return{}}createChannelSplitter(l){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(l){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(l,t){return{}}createPanner(){return{}}createPeriodicWave(l,t,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(l){return{}}createMediaElementSource(l){return{}}createMediaStreamDestination(){return{}}decodeAudioData(l){return Promise.resolve({})}createAudioWorkletNode(l,t){return{}}get rawContext(){return{}}addAudioWorkletModule(l,t){return Tt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(l,t){return 0}clearTimeout(l){return this}setInterval(l,t){return 0}clearInterval(l){return this}getConstant(l){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(l){}get destination(){return{}}set destination(l){}now(){return 0}immediate(){return 0}},Zl=lx;function At(){return Zl===lx\u0026\u0026$4\u0026\u0026Kl(new to),Zl}function Kl(l){Zl=Js(l)?new to(l):$l(l)?new no(l):l}function X4(){return Zl.resume()}if(Fa\u0026\u0026!Fa.TONE_SILENCE_LOGGING){let l=\"v\";c===\"dev\"\u0026\u0026(l=\"\");let t=` * Tone.js ${l}${c} * `;console.log(\"%c\"+t,\"background: #000; color: #fff\")}function ro(l){return Math.pow(10,l/20)}function Wu(l){return Math.log(l)/Math.LN10*20}function ao(l){return Math.pow(2,l/12)}let Ql=440;function gi(l){return Math.round(hx(l))}function hx(l){return 69+12*Math.log2(l/Ql)}function Wm(l){return Ql*Math.pow(2,(l-69)/12)}class Bm extends Va{constructor(t,s,u){super(),this.defaultUnits=\"s\",this._val=s,this._units=u,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=\u003ethis._frequencyToUnits(parseFloat(t)),regexp:/^(\\d+(?:\\.\\d+)?)hz$/i},i:{method:t=\u003ethis._ticksToUnits(parseInt(t,10)),regexp:/^(\\d+)i$/i},m:{method:t=\u003ethis._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\\d+)m$/i},n:{method:(t,s)=\u003e{let u=parseInt(t,10),h=s===\".\"?1.5:1;return u===1?this._beatsToUnits(this._getTimeSignature())*h:this._beatsToUnits(4/u)*h},regexp:/^(\\d+)n(\\.?)$/i},number:{method:t=\u003ethis._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\\d+(?:\\.\\d+)?)$/},s:{method:t=\u003ethis._secondsToUnits(parseFloat(t)),regexp:/^(\\d+(?:\\.\\d+)?)s$/},samples:{method:t=\u003eparseInt(t,10)/this.context.sampleRate,regexp:/^(\\d+)samples$/},t:{method:t=\u003e{let s=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(s)))},regexp:/^(\\d+)t$/i},tr:{method:(t,s,u)=\u003e{let h=0;return t\u0026\u0026t!==\"0\"\u0026\u0026(h+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),s\u0026\u0026s!==\"0\"\u0026\u0026(h+=this._beatsToUnits(parseFloat(s))),u\u0026\u0026u!==\"0\"\u0026\u0026(h+=this._beatsToUnits(parseFloat(u)/4)),h},regexp:/^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?$/}}}valueOf(){if(this._val instanceof Bm\u0026\u0026this.fromType(this._val),Xn(this._val))return this._noArg();if(Sr(this._val)\u0026\u0026Xn(this._units)){for(let t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Ia(this._val)){let t=0;for(let s in this._val)if(et(this._val[s])){let u=this._val[s];t+=new this.constructor(this.context,s).valueOf()*u}return t}if(et(this._units)){let t=this._expressions[this._units],s=this._val.toString().trim().match(t.regexp);return s?t.method.apply(this,s.slice(1)):t.method.call(this,this._val)}return Sr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case\"s\":this._val=t.toSeconds();break;case\"i\":this._val=t.toTicks();break;case\"hz\":this._val=t.toFrequency();break;case\"midi\":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class fr extends Bm{constructor(){super(...arguments),this.name=\"TimeClass\"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=\u003ethis._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\\+(.+)/},quantize:{method:t=\u003e{let s=new fr(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(t,s=1){let u=new this.constructor(this.context,t).valueOf(),h=this.valueOf();return h+(Math.round(h/u)*u-h)*s}toNotation(){let t=this.toSeconds(),s=[\"1m\"];for(let f=1;f\u003c9;f++){let m=Math.pow(2,f);s.push(m+\"n.\"),s.push(m+\"n\"),s.push(m+\"t\")}s.push(\"0\");let u=s[0],h=new fr(this.context,s[0]).toSeconds();return s.forEach(f=\u003e{let m=new fr(this.context,f).toSeconds();Math.abs(m-t)\u003cMath.abs(h-t)\u0026\u0026(u=f,h=m)}),u}toBarsBeatsSixteenths(){let t=this._beatsToUnits(1),s=this.valueOf()/t;s=parseFloat(s.toFixed(4));let u=Math.floor(s/this._getTimeSignature()),h=s%1*4;s=Math.floor(s)%this._getTimeSignature();let f=h.toString();return f.length\u003e3\u0026\u0026(h=parseFloat(parseFloat(f).toFixed(3))),[u,s,h].join(\":\")}toTicks(){let t=this._beatsToUnits(1),s=this.valueOf()/t;return Math.round(s*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return gi(this.toFrequency())}_now(){return this.context.now()}}function Z4(l,t){return new fr(At(),l,t)}class zn extends fr{constructor(){super(...arguments),this.name=\"Frequency\",this.defaultUnits=\"hz\"}static get A4(){return Ql}static set A4(t){(function(s){Ql=s})(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\\d+(?:\\.\\d+)?midi)/,method(t){return this.defaultUnits===\"midi\"?t:zn.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,s){let u=K4[t.toLowerCase()]+12*(parseInt(s,10)+1);return this.defaultUnits===\"midi\"?u:zn.mtof(u)}},tr:{regexp:/^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?/,method(t,s,u){let h=1;return t\u0026\u0026t!==\"0\"\u0026\u0026(h*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),s\u0026\u0026s!==\"0\"\u0026\u0026(h*=this._beatsToUnits(parseFloat(s))),u\u0026\u0026u!==\"0\"\u0026\u0026(h*=this._beatsToUnits(parseFloat(u)/4)),h}}})}transpose(t){return new zn(this.context,this.valueOf()*ao(t))}harmonize(t){return t.map(s=\u003ethis.transpose(s))}toMidi(){return gi(this.valueOf())}toNote(){let t=this.toFrequency(),s=Math.log2(t/zn.A4),u=Math.round(12*s)+57,h=Math.floor(u/12);return h\u003c0\u0026\u0026(u+=-12*h),Q4[u%12]+h.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){let t=this._beatsToUnits(1),s=this.valueOf()/t;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return Wm(t)}static ftom(t){return gi(t)}}let K4={cbb:-2,cb:-1,c:0,\"c#\":1,cx:2,dbb:0,db:1,d:2,\"d#\":3,dx:4,ebb:2,eb:3,e:4,\"e#\":5,ex:6,fbb:3,fb:4,f:5,\"f#\":6,fx:7,gbb:5,gb:6,g:7,\"g#\":8,gx:9,abb:7,ab:8,a:9,\"a#\":10,ax:11,bbb:9,bb:10,b:11,\"b#\":12,bx:13},Q4=[\"C\",\"C#\",\"D\",\"D#\",\"E\",\"F\",\"F#\",\"G\",\"G#\",\"A\",\"A#\",\"B\"];function J4(l,t){return new zn(At(),l,t)}class tn extends fr{constructor(){super(...arguments),this.name=\"TransportTime\"}_now(){return this.context.transport.seconds}}function e8(l,t){return new tn(At(),l,t)}class gn extends Va{constructor(){super();let t=L(gn.getDefaults(),arguments,[\"context\"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:At()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new fr(this.context,t).toSeconds()}toFrequency(t){return new zn(this.context,t).toFrequency()}toTicks(t){return new tn(this.context,t).toTicks()}_getPartialProperties(t){let s=this.get();return Object.keys(s).forEach(u=\u003e{Xn(t[u])\u0026\u0026delete s[u]}),s}get(){let t=this.constructor.getDefaults();return Object.keys(t).forEach(s=\u003e{if(Reflect.has(this,s)){let u=this[s];et(u)\u0026\u0026et(u.value)\u0026\u0026et(u.setValueAtTime)?t[s]=u.value:u instanceof gn?t[s]=u._getPartialProperties(t[s]):Mn(u)||pr(u)||Sr(u)||Fm(u)?t[s]=u:delete t[s]}}),t}set(t){return Object.keys(t).forEach(s=\u003e{Reflect.has(this,s)\u0026\u0026et(this[s])\u0026\u0026(this[s]\u0026\u0026et(this[s].value)\u0026\u0026et(this[s].setValueAtTime)?this[s].value!==t[s]\u0026\u0026(this[s].value=t[s]):this[s]instanceof gn?this[s].set(t[s]):this[s]=t[s])}),this}}class io extends Xr{constructor(t=\"stopped\"){super(),this.name=\"StateTimeline\",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){let s=this.get(t);return s!==null?s.state:this._initial}setStateAtTime(t,s,u){return Tn(s,0),this.add(Object.assign({},u,{state:t,time:s})),this}getLastState(t,s){for(let u=this._search(s);u\u003e=0;u--){let h=this._timeline[u];if(h.state===t)return h}}getNextState(t,s){let u=this._search(s);if(u!==-1)for(let h=u;h\u003cthis._timeline.length;h++){let f=this._timeline[h];if(f.state===t)return f}}}class Ye extends gn{constructor(){super(L(Ye.getDefaults(),arguments,[\"param\",\"units\",\"convert\"])),this.name=\"Param\",this.overridden=!1,this._minOutput=1e-7;let t=L(Ye.getDefaults(),arguments,[\"param\",\"units\",\"convert\"]);for(Ee(et(t.param)\u0026\u0026(as(t.param)||t.param instanceof Ye),\"param must be an AudioParam\");!as(t.param);)t.param=t.param._param;this._swappable=!!et(t.swappable)\u0026\u0026t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Xr(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,et(t.value)\u0026\u0026t.value!==this._toType(this._initialValue)\u0026\u0026this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(gn.getDefaults(),{convert:!0,units:\"number\"})}get value(){let t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return et(this._minValue)?this._minValue:this.units===\"time\"||this.units===\"frequency\"||this.units===\"normalRange\"||this.units===\"positive\"||this.units===\"transportTime\"||this.units===\"ticks\"||this.units===\"bpm\"||this.units===\"hertz\"||this.units===\"samples\"?0:this.units===\"audioRange\"?-1:this.units===\"decibels\"?-1/0:this._param.minValue}get maxValue(){return et(this._maxValue)?this._maxValue:this.units===\"normalRange\"||this.units===\"audioRange\"?1:this._param.maxValue}_is(t,s){return this.units===s}_assertRange(t){return et(this.maxValue)\u0026\u0026et(this.minValue)\u0026\u0026Tn(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert\u0026\u0026!this.overridden?this._is(t,\"time\")?this.toSeconds(t):this._is(t,\"decibels\")?ro(t):this._is(t,\"frequency\")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert\u0026\u0026this.units===\"decibels\"?Wu(t):t}setValueAtTime(t,s){let u=this.toSeconds(s),h=this._fromType(t);return Ee(isFinite(h)\u0026\u0026isFinite(u),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._assertRange(h),this.log(this.units,\"setValueAtTime\",t,u),this._events.add({time:u,type:\"setValueAtTime\",value:h}),this._param.setValueAtTime(h,u),this}getValueAtTime(t){let s=Math.max(this.toSeconds(t),0),u=this._events.getAfter(s),h=this._events.get(s),f=this._initialValue;if(h===null)f=this._initialValue;else if(h.type!==\"setTargetAtTime\"||u!==null\u0026\u0026u.type!==\"setValueAtTime\")if(u===null)f=h.value;else if(u.type===\"linearRampToValueAtTime\"||u.type===\"exponentialRampToValueAtTime\"){let m=h.value;if(h.type===\"setTargetAtTime\"){let y=this._events.getBefore(h.time);m=y===null?this._initialValue:y.value}f=u.type===\"linearRampToValueAtTime\"?this._linearInterpolate(h.time,m,u.time,u.value,s):this._exponentialInterpolate(h.time,m,u.time,u.value,s)}else f=h.value;else{let m=this._events.getBefore(h.time),y;y=m===null?this._initialValue:m.value,h.type===\"setTargetAtTime\"\u0026\u0026(f=this._exponentialApproach(h.time,y,h.value,h.constant,s))}return this._toType(f)}setRampPoint(t){t=this.toSeconds(t);let s=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(s)===0\u0026\u0026(s=this._toType(this._minOutput)),this.setValueAtTime(s,t),this}linearRampToValueAtTime(t,s){let u=this._fromType(t),h=this.toSeconds(s);return Ee(isFinite(u)\u0026\u0026isFinite(h),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._assertRange(u),this._events.add({time:h,type:\"linearRampToValueAtTime\",value:u}),this.log(this.units,\"linearRampToValueAtTime\",t,h),this._param.linearRampToValueAtTime(u,h),this}exponentialRampToValueAtTime(t,s){let u=this._fromType(t);u=Yr(u,0)?this._minOutput:u,this._assertRange(u);let h=this.toSeconds(s);return Ee(isFinite(u)\u0026\u0026isFinite(h),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._events.add({time:h,type:\"exponentialRampToValueAtTime\",value:u}),this.log(this.units,\"exponentialRampToValueAtTime\",t,h),this._param.exponentialRampToValueAtTime(u,h),this}exponentialRampTo(t,s,u){return u=this.toSeconds(u),this.setRampPoint(u),this.exponentialRampToValueAtTime(t,u+this.toSeconds(s)),this}linearRampTo(t,s,u){return u=this.toSeconds(u),this.setRampPoint(u),this.linearRampToValueAtTime(t,u+this.toSeconds(s)),this}targetRampTo(t,s,u){return u=this.toSeconds(u),this.setRampPoint(u),this.exponentialApproachValueAtTime(t,u,s),this}exponentialApproachValueAtTime(t,s,u){s=this.toSeconds(s),u=this.toSeconds(u);let h=Math.log(u+1)/Math.log(200);return this.setTargetAtTime(t,s,h),this.cancelAndHoldAtTime(s+.9*u),this.linearRampToValueAtTime(t,s+u),this}setTargetAtTime(t,s,u){let h=this._fromType(t);Ee(isFinite(u)\u0026\u0026u\u003e0,\"timeConstant must be a number greater than 0\");let f=this.toSeconds(s);return this._assertRange(h),Ee(isFinite(h)\u0026\u0026isFinite(f),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._events.add({constant:u,time:f,type:\"setTargetAtTime\",value:h}),this.log(this.units,\"setTargetAtTime\",t,f,u),this._param.setTargetAtTime(h,f,u),this}setValueCurveAtTime(t,s,u,h=1){u=this.toSeconds(u),s=this.toSeconds(s);let f=this._fromType(t[0])*h;this.setValueAtTime(this._toType(f),s);let m=u/(t.length-1);for(let y=1;y\u003ct.length;y++){let b=this._fromType(t[y])*h;this.linearRampToValueAtTime(this._toType(b),s+y*m)}return this}cancelScheduledValues(t){let s=this.toSeconds(t);return Ee(isFinite(s),\"Invalid argument to cancelScheduledValues: \"+JSON.stringify(t)),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,\"cancelScheduledValues\",s),this}cancelAndHoldAtTime(t){let s=this.toSeconds(t),u=this._fromType(this.getValueAtTime(s));Ee(isFinite(s),\"Invalid argument to cancelAndHoldAtTime: \"+JSON.stringify(t)),this.log(this.units,\"cancelAndHoldAtTime\",s,\"value=\"+u);let h=this._events.get(s),f=this._events.getAfter(s);return h\u0026\u0026Yr(h.time,s)?f?(this._param.cancelScheduledValues(f.time),this._events.cancel(f.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):f\u0026\u0026(this._param.cancelScheduledValues(f.time),this._events.cancel(f.time),f.type===\"linearRampToValueAtTime\"?this.linearRampToValueAtTime(this._toType(u),s):f.type===\"exponentialRampToValueAtTime\"\u0026\u0026this.exponentialRampToValueAtTime(this._toType(u),s)),this._events.add({time:s,type:\"setValueAtTime\",value:u}),this._param.setValueAtTime(u,s),this}rampTo(t,s=.1,u){return this.units===\"frequency\"||this.units===\"bpm\"||this.units===\"decibels\"?this.exponentialRampTo(t,s,u):this.linearRampTo(t,s,u),this}apply(t){let s=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(s),s);let u=this._events.get(s);if(u\u0026\u0026u.type===\"setTargetAtTime\"){let h=this._events.getAfter(u.time),f=h?h.time:s+2,m=(f-s)/10;for(let y=s;y\u003cf;y+=m)t.linearRampToValueAtTime(this.getValueAtTime(y),y)}return this._events.forEachAfter(this.context.currentTime,h=\u003e{h.type===\"cancelScheduledValues\"?t.cancelScheduledValues(h.time):h.type===\"setTargetAtTime\"?t.setTargetAtTime(h.value,h.time,h.constant):t[h.type](h.value,h.time)}),this}setParam(t){Ee(this._swappable,\"The Param must be assigned as 'swappable' in the constructor\");let s=this.input;return s.disconnect(this._param),this.apply(t),this._param=t,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,s,u,h,f){return u+(s-u)*Math.exp(-(f-t)/h)}_linearInterpolate(t,s,u,h,f){return s+(f-t)/(u-t)*(h-s)}_exponentialInterpolate(t,s,u,h,f){return s*Math.pow(h/s,(f-t)/(u-t))}}class ge extends gn{constructor(){super(...arguments),this.name=\"ToneAudioNode\",this._internalChannels=[]}get numberOfInputs(){return et(this.input)?as(this.input)||this.input instanceof Ye?1:this.input.numberOfInputs:0}get numberOfOutputs(){return et(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return et(t)\u0026\u0026(t instanceof ge||vi(t))}_getInternalNodes(){let t=this._internalChannels.slice(0);return this._isAudioNode(this.input)\u0026\u0026t.push(this.input),this._isAudioNode(this.output)\u0026\u0026this.input!==this.output\u0026\u0026t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(s=\u003e{s.channelCount=t.channelCount,s.channelCountMode=t.channelCountMode,s.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){let t=this._getInternalNodes();Ee(t.length\u003e0,\"ToneAudioNode does not have any internal nodes\");let s=t[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){let s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){let s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){let s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:t}))}connect(t,s=0,u=0){return Zn(this,t,s,u),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Fu(\"toMaster() has been renamed toDestination()\"),this.toDestination()}disconnect(t,s=0,u=0){return zm(this,t,s,u),this}chain(...t){return mr(this,...t),this}fan(...t){return t.forEach(s=\u003ethis.connect(s)),this}dispose(){return super.dispose(),et(this.input)\u0026\u0026(this.input instanceof ge?this.input.dispose():vi(this.input)\u0026\u0026this.input.disconnect()),et(this.output)\u0026\u0026(this.output instanceof ge?this.output.dispose():vi(this.output)\u0026\u0026this.output.disconnect()),this._internalChannels=[],this}}function mr(...l){let t=l.shift();l.reduce((s,u)=\u003e(s instanceof ge?s.connect(u):vi(s)\u0026\u0026Zn(s,u),u),t)}function Zn(l,t,s=0,u=0){for(Ee(et(l),\"Cannot connect from undefined node\"),Ee(et(t),\"Cannot connect to undefined node\"),(t instanceof ge||vi(t))\u0026\u0026Ee(t.numberOfInputs\u003e0,\"Cannot connect to node with no inputs\"),Ee(l.numberOfOutputs\u003e0,\"Cannot connect from node with no outputs\");t instanceof ge||t instanceof Ye;)et(t.input)\u0026\u0026(t=t.input);for(;l instanceof ge;)et(l.output)\u0026\u0026(l=l.output);as(t)?l.connect(t,s):l.connect(t,s,u)}function zm(l,t,s=0,u=0){if(et(t))for(;t instanceof ge;)t=t.input;for(;!vi(l);)et(l.output)\u0026\u0026(l=l.output);as(t)?l.disconnect(t,s):vi(t)?l.disconnect(t,s,u):l.disconnect()}class Ce extends ge{constructor(){super(L(Ce.getDefaults(),arguments,[\"gain\",\"units\"])),this.name=\"Gain\",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;let t=L(Ce.getDefaults(),arguments,[\"gain\",\"units\"]);this.gain=new Ye({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Ve(this,\"gain\")}static getDefaults(){return Object.assign(ge.getDefaults(),{convert:!0,gain:1,units:\"gain\"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class so extends ge{constructor(t){super(t),this.onended=it,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ce({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){let u=this.toSeconds(s);return this._startTime!==-1\u0026\u0026u\u003e=this._startTime\u0026\u0026(this._stopTime===-1||u\u003c=this._stopTime)?\"started\":\"stopped\"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(ge.getDefaults(),{curve:\"linear\",fadeIn:0,fadeOut:0,onended:it})}_startGain(t,s=1){Ee(this._startTime===-1,\"Source cannot be started more than once\");let u=this.toSeconds(this._fadeIn);return this._startTime=t+u,this._startTime=Math.max(this._startTime,this.context.currentTime),u\u003e0?(this._gainNode.gain.setValueAtTime(0,t),this._curve===\"linear\"?this._gainNode.gain.linearRampToValueAtTime(s,t+u):this._gainNode.gain.exponentialApproachValueAtTime(s,t,u)):this._gainNode.gain.setValueAtTime(s,t),this}stop(t){return this.log(\"stop\",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Ee(this._startTime!==-1,\"'start' must be called before 'stop'\"),this.cancelStop();let s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+s,this._stopTime=Math.max(this._stopTime,this.context.currentTime),s\u003e0?this._curve===\"linear\"?this._gainNode.gain.linearRampTo(0,s,t):this._gainNode.gain.targetRampTo(0,s,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=\u003e{let u=this._curve===\"exponential\"?2*s:0;this._stopSource(this.now()+u),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==it\u0026\u0026(this.onended(this),this.onended=it,!this.context.isOffline)){let t=()=\u003ethis.dispose();window.requestIdleCallback!==void 0?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log(\"cancelStop\"),Ee(this._startTime!==-1,\"Source is not started\"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Bu extends so{constructor(){super(L(Bu.getDefaults(),arguments,[\"offset\"])),this.name=\"ToneConstantSource\",this._source=this.context.createConstantSource();let t=L(Bu.getDefaults(),arguments,[\"offset\"]);Zn(this._source,this._gainNode),this.offset=new Ye({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(so.getDefaults(),{convert:!0,offset:1,units:\"number\"})}start(t){let s=this.toSeconds(t);return this.log(\"start\",s),this._startGain(s),this._source.start(s),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state===\"started\"\u0026\u0026this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Be extends ge{constructor(){super(L(Be.getDefaults(),arguments,[\"value\",\"units\"])),this.name=\"Signal\",this.override=!0;let t=L(Be.getDefaults(),arguments,[\"value\",\"units\"]);this.output=this._constantSource=new Bu({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ge.getDefaults(),{convert:!0,units:\"number\",value:0})}connect(t,s=0,u=0){return zu(this,t,s,u),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,s){return this._param.setValueAtTime(t,s),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,s){return this._param.linearRampToValueAtTime(t,s),this}exponentialRampToValueAtTime(t,s){return this._param.exponentialRampToValueAtTime(t,s),this}exponentialRampTo(t,s,u){return this._param.exponentialRampTo(t,s,u),this}linearRampTo(t,s,u){return this._param.linearRampTo(t,s,u),this}targetRampTo(t,s,u){return this._param.targetRampTo(t,s,u),this}exponentialApproachValueAtTime(t,s,u){return this._param.exponentialApproachValueAtTime(t,s,u),this}setTargetAtTime(t,s,u){return this._param.setTargetAtTime(t,s,u),this}setValueCurveAtTime(t,s,u,h){return this._param.setValueCurveAtTime(t,s,u,h),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,s,u){return this._param.rampTo(t,s,u),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function zu(l,t,s,u){(t instanceof Ye||as(t)||t instanceof Be\u0026\u0026t.override)\u0026\u0026(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof Be\u0026\u0026(t.overridden=!0)),Zn(l,t,s,u)}class Jl extends Ye{constructor(){super(L(Jl.getDefaults(),arguments,[\"value\"])),this.name=\"TickParam\",this._events=new Xr(1/0),this._multiplier=1;let t=L(Jl.getDefaults(),arguments,[\"value\"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:\"setValueAtTime\",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ye.getDefaults(),{multiplier:1,units:\"hertz\",value:1})}setTargetAtTime(t,s,u){s=this.toSeconds(s),this.setRampPoint(s);let h=this._fromType(t),f=this._events.get(s),m=Math.round(Math.max(1/u,1));for(let y=0;y\u003c=m;y++){let b=u*y+s,N=this._exponentialApproach(f.time,f.value,h,u,b);this.linearRampToValueAtTime(this._toType(N),b)}return this}setValueAtTime(t,s){let u=this.toSeconds(s);super.setValueAtTime(t,s);let h=this._events.get(u),f=this._events.previousEvent(h),m=this._getTicksUntilEvent(f,u);return h.ticks=Math.max(m,0),this}linearRampToValueAtTime(t,s){let u=this.toSeconds(s);super.linearRampToValueAtTime(t,s);let h=this._events.get(u),f=this._events.previousEvent(h),m=this._getTicksUntilEvent(f,u);return h.ticks=Math.max(m,0),this}exponentialRampToValueAtTime(t,s){s=this.toSeconds(s);let u=this._fromType(t),h=this._events.get(s),f=Math.round(Math.max(10*(s-h.time),1)),m=(s-h.time)/f;for(let y=0;y\u003c=f;y++){let b=m*y+h.time,N=this._exponentialInterpolate(h.time,h.value,s,u,b);this.linearRampToValueAtTime(this._toType(N),b)}return this}_getTicksUntilEvent(t,s){if(t===null)t={ticks:0,time:0,type:\"setValueAtTime\",value:0};else if(Xn(t.ticks)){let m=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(m,t.time)}let u=this._fromType(this.getValueAtTime(t.time)),h=this._fromType(this.getValueAtTime(s)),f=this._events.get(s);return f\u0026\u0026f.time===s\u0026\u0026f.type===\"setValueAtTime\"\u0026\u0026(h=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-t.time)*(u+h)+t.ticks}getTicksAtTime(t){let s=this.toSeconds(t),u=this._events.get(s);return Math.max(this._getTicksUntilEvent(u,s),0)}getDurationOfTicks(t,s){let u=this.toSeconds(s),h=this.getTicksAtTime(s);return this.getTimeOfTick(h+t)-u}getTimeOfTick(t){let s=this._events.get(t,\"ticks\"),u=this._events.getAfter(t,\"ticks\");if(s\u0026\u0026s.ticks===t)return s.time;if(s\u0026\u0026u\u0026\u0026u.type===\"linearRampToValueAtTime\"\u0026\u0026s.value!==u.value){let h=this._fromType(this.getValueAtTime(s.time)),f=(this._fromType(this.getValueAtTime(u.time))-h)/(u.time-s.time),m=Math.sqrt(Math.pow(h,2)-2*f*(s.ticks-t)),y=(-h+m)/f,b=(-h-m)/f;return(y\u003e0?y:b)+s.time}return s?s.value===0?1/0:s.time+(t-s.ticks)/s.value:t/this._initialValue}ticksToTime(t,s){return this.getDurationOfTicks(t,s)}timeToTicks(t,s){let u=this.toSeconds(s),h=this.toSeconds(t),f=this.getTicksAtTime(u);return this.getTicksAtTime(u+h)-f}_fromType(t){return this.units===\"bpm\"\u0026\u0026this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units===\"bpm\"\u0026\u0026this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){let s=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class eh extends Be{constructor(){super(L(eh.getDefaults(),arguments,[\"value\"])),this.name=\"TickSignal\";let t=L(eh.getDefaults(),arguments,[\"value\"]);this.input=this._param=new Jl({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Be.getDefaults(),{multiplier:1,units:\"hertz\",value:1})}ticksToTime(t,s){return this._param.ticksToTime(t,s)}timeToTicks(t,s){return this._param.timeToTicks(t,s)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,s){return this._param.getDurationOfTicks(t,s)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class th extends gn{constructor(){super(L(th.getDefaults(),arguments,[\"frequency\"])),this.name=\"TickSource\",this._state=new io,this._tickOffset=new Xr;let t=L(th.getDefaults(),arguments,[\"frequency\"]);this.frequency=new eh({context:this.context,units:t.units,value:t.frequency}),Ve(this,\"frequency\"),this._state.setStateAtTime(\"stopped\",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:\"hertz\"},gn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,s){let u=this.toSeconds(t);return this._state.getValueAtTime(u)!==\"started\"\u0026\u0026(this._state.setStateAtTime(\"started\",u),et(s)\u0026\u0026this.setTicksAtTime(s,u)),this}stop(t){let s=this.toSeconds(t);if(this._state.getValueAtTime(s)===\"stopped\"){let u=this._state.get(s);u\u0026\u0026u.time\u003e0\u0026\u0026(this._tickOffset.cancel(u.time),this._state.cancel(u.time))}return this._state.cancel(s),this._state.setStateAtTime(\"stopped\",s),this.setTicksAtTime(0,s),this}pause(t){let s=this.toSeconds(t);return this._state.getValueAtTime(s)===\"started\"\u0026\u0026this._state.setStateAtTime(\"paused\",s),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){let s=this.toSeconds(t),u=this._state.getLastState(\"stopped\",s),h={state:\"paused\",time:s};this._state.add(h);let f=u,m=0;return this._state.forEachBetween(u.time,s+this.sampleTime,y=\u003e{let b=f.time,N=this._tickOffset.get(y.time);N\u0026\u0026N.time\u003e=f.time\u0026\u0026(m=N.ticks,b=N.time),f.state===\"started\"\u0026\u0026y.state!==\"started\"\u0026\u0026(m+=this.frequency.getTicksAtTime(y.time)-this.frequency.getTicksAtTime(b)),f=y}),this._state.remove(h),m}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){let s=this.now(),u=this.frequency.timeToTicks(t,s);this.setTicksAtTime(u,s)}getSecondsAtTime(t){t=this.toSeconds(t);let s=this._state.getLastState(\"stopped\",t),u={state:\"paused\",time:t};this._state.add(u);let h=s,f=0;return this._state.forEachBetween(s.time,t+this.sampleTime,m=\u003e{let y=h.time,b=this._tickOffset.get(m.time);b\u0026\u0026b.time\u003e=h.time\u0026\u0026(f=b.seconds,y=b.time),h.state===\"started\"\u0026\u0026m.state!==\"started\"\u0026\u0026(f+=m.time-y),h=m}),this._state.remove(u),f}setTicksAtTime(t,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,s),ticks:t,time:s}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,s=this.now()){let u=this._tickOffset.get(s),h=this._state.get(s),f=Math.max(u.time,h.time),m=this.frequency.getTicksAtTime(f)+t-u.ticks;return this.frequency.getTimeOfTick(m)}forEachTickBetween(t,s,u){let h=this._state.get(t);this._state.forEachBetween(t,s,m=\u003e{h\u0026\u0026h.state===\"started\"\u0026\u0026m.state!==\"started\"\u0026\u0026this.forEachTickBetween(Math.max(h.time,t),m.time-this.sampleTime,u),h=m});let f=null;if(h\u0026\u0026h.state===\"started\"){let m=Math.max(h.time,t),y=this.frequency.getTicksAtTime(m),b=y-this.frequency.getTicksAtTime(h.time),N=Math.ceil(b)-b;N=Yr(N,1)?0:N;let S=this.frequency.getTimeOfTick(y+N);for(;S\u003cs;){try{u(S,Math.round(this.getTicksAtTime(S)))}catch(w){f=w;break}S+=this.frequency.getDurationOfTicks(1,S)}}if(f)throw f;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class is extends gn{constructor(){super(L(is.getDefaults(),arguments,[\"callback\",\"frequency\"])),this.name=\"Clock\",this.callback=it,this._lastUpdate=0,this._state=new io(\"stopped\"),this._boundLoop=this._loop.bind(this);let t=L(is.getDefaults(),arguments,[\"callback\",\"frequency\"]);this.callback=t.callback,this._tickSource=new th({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ve(this,\"frequency\"),this._state.setStateAtTime(\"stopped\",0),this.context.on(\"tick\",this._boundLoop)}static getDefaults(){return Object.assign(gn.getDefaults(),{callback:it,frequency:1,units:\"hertz\"})}get state(){return this._state.getValueAtTime(this.now())}start(t,s){Dm(this.context);let u=this.toSeconds(t);return this.log(\"start\",u),this._state.getValueAtTime(u)!==\"started\"\u0026\u0026(this._state.setStateAtTime(\"started\",u),this._tickSource.start(u,s),u\u003cthis._lastUpdate\u0026\u0026this.emit(\"start\",u,s)),this}stop(t){let s=this.toSeconds(t);return this.log(\"stop\",s),this._state.cancel(s),this._state.setStateAtTime(\"stopped\",s),this._tickSource.stop(s),s\u003cthis._lastUpdate\u0026\u0026this.emit(\"stop\",s),this}pause(t){let s=this.toSeconds(t);return this._state.getValueAtTime(s)===\"started\"\u0026\u0026(this._state.setStateAtTime(\"paused\",s),this._tickSource.pause(s),s\u003cthis._lastUpdate\u0026\u0026this.emit(\"pause\",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,s){return this._tickSource.setTicksAtTime(t,s),this}getTimeOfTick(t,s=this.now()){return this._tickSource.getTimeOfTick(t,s)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,s){let u=this.toSeconds(s),h=this.getTicksAtTime(u);return this._tickSource.getTimeOfTick(h+t,u)}_loop(){let t=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log(\"loop\",t,s),t!==s\u0026\u0026(this._state.forEachBetween(t,s,u=\u003e{switch(u.state){case\"started\":let h=this._tickSource.getTicksAtTime(u.time);this.emit(\"start\",u.time,h);break;case\"stopped\":u.time!==0\u0026\u0026this.emit(\"stop\",u.time);break;case\"paused\":this.emit(\"pause\",u.time)}}),this._tickSource.forEachTickBetween(t,s,(u,h)=\u003e{this.callback(u,h)}))}getStateAtTime(t){let s=this.toSeconds(t);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off(\"tick\",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}eo.mixin(is);class Kn extends ge{constructor(){super(L(Kn.getDefaults(),arguments,[\"delayTime\",\"maxDelay\"])),this.name=\"Delay\";let t=L(Kn.getDefaults(),arguments,[\"delayTime\",\"maxDelay\"]),s=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(s,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(s),this.delayTime=new Ye({context:this.context,param:this._delayNode.delayTime,units:\"time\",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Ve(this,\"delayTime\")}static getDefaults(){return Object.assign(ge.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function t8(l,t,s=2,u=At().sampleRate){return Tt(this,void 0,void 0,function*(){let h=At(),f=new no(s,t,u);Kl(f),yield l(f);let m=f.render();Kl(h);let y=yield m;return new lt(y)})}class oo extends Va{constructor(){super(),this.name=\"ToneAudioBuffers\",this._buffers=new Map,this._loadingCount=0;let t=L(oo.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(s=\u003e{this._loadingCount++;let u=t.urls[s];this.add(s,u,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:\"\",onerror:it,onload:it,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Ee(this.has(t),\"ToneAudioBuffers has no buffer named: \"+t),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0\u0026\u0026t\u0026\u0026t()}get loaded(){return Array.from(this._buffers).every(([t,s])=\u003es.loaded)}add(t,s,u=it,h=it){return Sr(s)?this._buffers.set(t.toString(),new lt(this.baseUrl+s,u,h)):this._buffers.set(t.toString(),new lt(s,u,h)),this}dispose(){return super.dispose(),this._buffers.forEach(t=\u003et.dispose()),this._buffers.clear(),this}}class uo extends zn{constructor(){super(...arguments),this.name=\"MidiClass\",this.defaultUnits=\"midi\"}_frequencyToUnits(t){return gi(super._frequencyToUnits(t))}_ticksToUnits(t){return gi(super._ticksToUnits(t))}_beatsToUnits(t){return gi(super._beatsToUnits(t))}_secondsToUnits(t){return gi(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return Wm(this.toMidi())}transpose(t){return new uo(this.context,this.toMidi()+t)}}function n8(l,t){return new uo(At(),l,t)}class Mt extends tn{constructor(){super(...arguments),this.name=\"Ticks\",this.defaultUnits=\"i\"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function r8(l,t){return new Mt(At(),l,t)}class a8 extends gn{constructor(){super(...arguments),this.name=\"Draw\",this.expiration=.25,this.anticipation=.008,this._events=new Xr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,s){return this._events.add({callback:t,time:this.toSeconds(s)}),this._events.length===1\u0026\u0026(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){let t=this.context.currentTime;for(;this._events.length\u0026\u0026this._events.peek().time-this.anticipation\u003c=t;){let s=this._events.shift();s\u0026\u0026t-s.time\u003c=this.expiration\u0026\u0026s.callback()}this._events.length\u003e0\u0026\u0026(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Yl(l=\u003e{l.draw=new a8({context:l})}),Xl(l=\u003e{l.draw.dispose()});class dx extends Va{constructor(){super(...arguments),this.name=\"IntervalTimeline\",this._root=null,this._length=0}add(t){Ee(et(t.time),\"Events must have a time property\"),Ee(et(t.duration),\"Events must have a duration parameter\"),t.time=t.time.valueOf();let s=new i8(t.time,t.time+t.duration,t);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(t){if(this._root!==null){let s=[];this._root.search(t.time,s);for(let u of s)if(u.event===t){this._removeNode(u),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,s=\u003ethis.remove(s)),this}_setRoot(t){this._root=t,this._root!==null\u0026\u0026(this._root.parent=null)}_replaceNodeInParent(t,s){t.parent!==null?(t.isLeftChild()?t.parent.left=s:t.parent.right=s,this._rebalance(t.parent)):this._setRoot(s)}_removeNode(t){if(t.left===null\u0026\u0026t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{let s,u=null;if(t.getBalance()\u003e0)if(t.left.right===null)s=t.left,s.right=t.right,u=s;else{for(s=t.left.right;s.right!==null;)s=s.right;s.parent\u0026\u0026(s.parent.right=s.left,u=s.parent,s.left=t.left,s.right=t.right)}else if(t.right.left===null)s=t.right,s.left=t.left,u=s;else{for(s=t.right.left;s.left!==null;)s=s.left;s.parent\u0026\u0026(s.parent.left=s.right,u=s.parent,s.left=t.left,s.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=s:t.parent.right=s:this._setRoot(s),u\u0026\u0026this._rebalance(u)}t.dispose()}_rotateLeft(t){let s=t.parent,u=t.isLeftChild(),h=t.right;h\u0026\u0026(t.right=h.left,h.left=t),s!==null?u?s.left=h:s.right=h:this._setRoot(h)}_rotateRight(t){let s=t.parent,u=t.isLeftChild(),h=t.left;h\u0026\u0026(t.left=h.right,h.right=t),s!==null?u?s.left=h:s.right=h:this._setRoot(h)}_rebalance(t){let s=t.getBalance();s\u003e1\u0026\u0026t.left?t.left.getBalance()\u003c0?this._rotateLeft(t.left):this._rotateRight(t):s\u003c-1\u0026\u0026t.right\u0026\u0026(t.right.getBalance()\u003e0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){let s=[];if(this._root.search(t,s),s.length\u003e0){let u=s[0];for(let h=1;h\u003cs.length;h++)s[h].low\u003eu.low\u0026\u0026(u=s[h]);return u.event}}return null}forEach(t){if(this._root!==null){let s=[];this._root.traverse(u=\u003es.push(u)),s.forEach(u=\u003e{u.event\u0026\u0026t(u.event)})}return this}forEachAtTime(t,s){if(this._root!==null){let u=[];this._root.search(t,u),u.forEach(h=\u003e{h.event\u0026\u0026s(h.event)})}return this}forEachFrom(t,s){if(this._root!==null){let u=[];this._root.searchAfter(t,u),u.forEach(h=\u003e{h.event\u0026\u0026s(h.event)})}return this}dispose(){return super.dispose(),this._root!==null\u0026\u0026this._root.traverse(t=\u003et.dispose()),this._root=null,this}}class i8{constructor(t,s,u){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=u,this.low=t,this.high=s,this.max=this.high}insert(t){t.low\u003c=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,s){t\u003ethis.max||(this.left!==null\u0026\u0026this.left.search(t,s),this.low\u003c=t\u0026\u0026this.high\u003et\u0026\u0026s.push(this),this.low\u003et||this.right!==null\u0026\u0026this.right.search(t,s))}searchAfter(t,s){this.low\u003e=t\u0026\u0026(s.push(this),this.left!==null\u0026\u0026this.left.searchAfter(t,s)),this.right!==null\u0026\u0026this.right.searchAfter(t,s)}traverse(t){t(this),this.left!==null\u0026\u0026this.left.traverse(t),this.right!==null\u0026\u0026this.right.traverse(t)}updateHeight(){this.left!==null\u0026\u0026this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null\u0026\u0026(this.max=Math.max(this.max,this.left.max)),this.right!==null\u0026\u0026(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null\u0026\u0026this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null\u0026\u0026(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null\u0026\u0026this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null\u0026\u0026(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null\u0026\u0026(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class da extends ge{constructor(){super(L(da.getDefaults(),arguments,[\"volume\"])),this.name=\"Volume\";let t=L(da.getDefaults(),arguments,[\"volume\"]);this.input=this.output=new Ce({context:this.context,gain:t.volume,units:\"decibels\"}),this.volume=this.output.gain,Ve(this,\"volume\"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute\u0026\u0026t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute\u0026\u0026!t\u0026\u0026(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class nh extends ge{constructor(){super(L(nh.getDefaults(),arguments)),this.name=\"Destination\",this.input=new da({context:this.context}),this.output=new Ce({context:this.context}),this.volume=this.input.volume;let t=L(nh.getDefaults(),arguments);mr(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),mr(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Yl(l=\u003e{l.destination=new nh({context:l})}),Xl(l=\u003e{l.destination.dispose()});class s8 extends Va{constructor(t){super(),this.name=\"TimelineValue\",this._timeline=new Xr({memory:10}),this._initialValue=t}set(t,s){return this._timeline.add({value:t,time:s}),this}get(t){let s=this._timeline.get(t);return s?s.value:this._initialValue}}class yi{constructor(t,s){this.id=yi._eventId++;let u=Object.assign(yi.getDefaults(),s);this.transport=t,this.callback=u.callback,this._once=u.once,this.time=u.time}static getDefaults(){return{callback:it,once:!1,time:0}}invoke(t){this.callback\u0026\u0026(this.callback(t),this._once\u0026\u0026this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}yi._eventId=0;class Gm extends yi{constructor(t,s){super(t,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);let u=Object.assign(Gm.getDefaults(),s);this.duration=new Mt(t.context,u.duration).valueOf(),this._interval=new Mt(t.context,u.interval).valueOf(),this._nextTick=u.time,this.transport.on(\"start\",this._boundRestart),this.transport.on(\"loopStart\",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},yi.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){let s=this.transport.getTicksAtTime(t);s\u003e=this.time\u0026\u0026s\u003e=this._nextTick\u0026\u0026this._nextTick+this._interval\u003cthis.time+this.duration\u0026\u0026(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Mt(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;let s=this.transport.getTicksAtTime(t);s\u003ethis.time\u0026\u0026(this._nextTick=this.time+Math.ceil((s-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Mt(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Mt(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off(\"start\",this._boundRestart),this.transport.off(\"loopStart\",this._boundRestart),this}}class Gu extends gn{constructor(){super(L(Gu.getDefaults(),arguments)),this.name=\"Transport\",this._loop=new s8(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Xr,this._repeatedEvents=new dx,this._syncedSignals=[],this._swingAmount=0;let t=L(Gu.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new is({callback:this._processTick.bind(this),context:this.context,frequency:0,units:\"bpm\"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Ve(this,\"bpm\"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(gn.getDefaults(),{bpm:120,loopEnd:\"4m\",loopStart:0,ppq:192,swing:0,swingSubdivision:\"8n\",timeSignature:4})}_processTick(t,s){if(this._loop.get(t)\u0026\u0026s\u003e=this._loopEnd\u0026\u0026(this.emit(\"loopEnd\",t),this._clock.setTicksAtTime(this._loopStart,t),s=this._loopStart,this.emit(\"loopStart\",t,this._clock.getSecondsAtTime(t)),this.emit(\"loop\",t)),this._swingAmount\u003e0\u0026\u0026s%this._ppq!=0\u0026\u0026s%(2*this._swingTicks)!=0){let u=s%(2*this._swingTicks)/(2*this._swingTicks),h=Math.sin(u*Math.PI)*this._swingAmount;t+=new Mt(this.context,2*this._swingTicks/3).toSeconds()*h}this._timeline.forEachAtTime(s,u=\u003eu.invoke(t))}schedule(t,s){let u=new yi(this,{callback:t,time:new tn(this.context,s).toTicks()});return this._addEvent(u,this._timeline)}scheduleRepeat(t,s,u,h=1/0){let f=new Gm(this,{callback:t,duration:new fr(this.context,h).toTicks(),interval:new fr(this.context,s).toTicks(),time:new tn(this.context,u).toTicks()});return this._addEvent(f,this._repeatedEvents)}scheduleOnce(t,s){let u=new yi(this,{callback:t,once:!0,time:new tn(this.context,s).toTicks()});return this._addEvent(u,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){let s=this._scheduledEvents[t.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,s){return this._scheduledEvents[t.id.toString()]={event:t,timeline:s},s.add(t),t.id}cancel(t=0){let s=this.toTicks(t);return this._timeline.forEachFrom(s,u=\u003ethis.clear(u.id)),this._repeatedEvents.forEachFrom(s,u=\u003ethis.clear(u.id)),this}_bindClockEvents(){this._clock.on(\"start\",(t,s)=\u003e{s=new Mt(this.context,s).toSeconds(),this.emit(\"start\",t,s)}),this._clock.on(\"stop\",t=\u003e{this.emit(\"stop\",t)}),this._clock.on(\"pause\",t=\u003e{this.emit(\"pause\",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,s){let u;return et(s)\u0026\u0026(u=this.toTicks(s)),this._clock.start(t,u),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!==\"started\"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Mn(t)\u0026\u0026(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new fr(this.context,this._loopStart,\"i\").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new fr(this.context,this._loopEnd,\"i\").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,s){return this.loopStart=t,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Mt(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){let t=this.now(),s=this._clock.getTicksAtTime(t);return new Mt(this.context,s).toBarsBeatsSixteenths()}set position(t){let s=this.toTicks(t);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(t){let s=this.now(),u=this._clock.frequency.timeToTicks(t,s);this.ticks=u}get progress(){if(this.loop){let t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){let s=this.now();if(this.state===\"started\"){let u=this._clock.getTicksAtTime(s),h=s+this._clock.frequency.getDurationOfTicks(Math.ceil(u)-u,s);this.emit(\"stop\",h),this._clock.setTicksAtTime(t,h),this.emit(\"start\",h,this._clock.getSecondsAtTime(h))}else this._clock.setTicksAtTime(t,s)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!==\"started\")return 0;{let s=this.now(),u=t-this.getTicksAtTime(s)%t;return this._clock.nextTickTime(u,s)}}syncSignal(t,s){if(!s){let h=this.now();if(t.getValueAtTime(h)!==0){let f=1/(60/this.bpm.getValueAtTime(h)/this.PPQ);s=t.getValueAtTime(h)/f}else s=0}let u=new Ce(s);return this.bpm.connect(u),u.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:u,signal:t}),t.value=0,this}unsyncSignal(t){for(let s=this._syncedSignals.length-1;s\u003e=0;s--){let u=this._syncedSignals[s];u.signal===t\u0026\u0026(u.ratio.dispose(),u.signal.value=u.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Lu(this,\"bpm\"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}eo.mixin(Gu),Yl(l=\u003e{l.transport=new Gu({context:l})}),Xl(l=\u003e{l.transport.dispose()});class $t extends ge{constructor(t){super(t),this.input=void 0,this._state=new io(\"stopped\"),this._synced=!1,this._scheduled=[],this._syncedStart=it,this._syncedStop=it,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new da({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Ve(this,\"volume\"),this.onstop=t.onstop}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,onstop:it,volume:0})}get state(){return this._synced?this.context.transport.state===\"started\"?this._state.getValueAtTime(this.context.transport.seconds):\"stopped\":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,s,u){let h=Xn(t)\u0026\u0026this._synced?this.context.transport.seconds:this.toSeconds(t);if(h=this._clampToCurrentTime(h),this._synced||this._state.getValueAtTime(h)!==\"started\")if(this.log(\"start\",h),this._state.setStateAtTime(\"started\",h),this._synced){let f=this._state.get(h);f\u0026\u0026(f.offset=this.toSeconds(Or(s,0)),f.duration=u?this.toSeconds(u):void 0);let m=this.context.transport.schedule(y=\u003e{this._start(y,s,u)},h);this._scheduled.push(m),this.context.transport.state===\"started\"\u0026\u0026this.context.transport.getSecondsAtTime(this.immediate())\u003eh\u0026\u0026this._syncedStart(this.now(),this.context.transport.seconds)}else Dm(this.context),this._start(h,s,u);else Ee(Hl(h,this._state.get(h).time),\"Start time must be strictly greater than previous start time\"),this._state.cancel(h),this._state.setStateAtTime(\"started\",h),this.log(\"restart\",h),this.restart(h,s,u);return this}stop(t){let s=Xn(t)\u0026\u0026this._synced?this.context.transport.seconds:this.toSeconds(t);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)===\"started\"||et(this._state.getNextState(\"started\",s))){if(this.log(\"stop\",s),this._synced){let u=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(u)}else this._stop(s);this._state.cancel(s),this._state.setStateAtTime(\"stopped\",s)}return this}restart(t,s,u){return t=this.toSeconds(t),this._state.getValueAtTime(t)===\"started\"\u0026\u0026(this._state.cancel(t),this._restart(t,s,u)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,s)=\u003e{if(s\u003e0){let u=this._state.get(s);if(u\u0026\u0026u.state===\"started\"\u0026\u0026u.time!==s){let h=s-this.toSeconds(u.time),f;u.duration\u0026\u0026(f=this.toSeconds(u.duration)-h),this._start(t,this.toSeconds(u.offset)+h,f)}}},this._syncedStop=t=\u003e{let s=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(s)===\"started\"\u0026\u0026this._stop(t)},this.context.transport.on(\"start\",this._syncedStart),this.context.transport.on(\"loopStart\",this._syncedStart),this.context.transport.on(\"stop\",this._syncedStop),this.context.transport.on(\"pause\",this._syncedStop),this.context.transport.on(\"loopEnd\",this._syncedStop)),this}unsync(){return this._synced\u0026\u0026(this.context.transport.off(\"stop\",this._syncedStop),this.context.transport.off(\"pause\",this._syncedStop),this.context.transport.off(\"loopEnd\",this._syncedStop),this.context.transport.off(\"start\",this._syncedStart),this.context.transport.off(\"loopStart\",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=\u003ethis.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=it,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class La extends so{constructor(){super(L(La.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"ToneBufferSource\",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;let t=L(La.getDefaults(),arguments,[\"url\",\"onload\"]);Zn(this._source,this._gainNode),this._source.onended=()=\u003ethis._stopSource(),this.playbackRate=new Ye({context:this.context,param:this._source.playbackRate,units:\"positive\",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new lt(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(so.getDefaults(),{url:new lt,loop:!1,loopEnd:0,loopStart:0,onload:it,onerror:it,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,s,u,h=1){Ee(this.buffer.loaded,\"buffer is either not set or not loaded\");let f=this.toSeconds(t);this._startGain(f,h),s=this.loop?Or(s,this.loopStart):Or(s,0);let m=Math.max(this.toSeconds(s),0);if(this.loop){let y=this.toSeconds(this.loopEnd)||this.buffer.duration,b=this.toSeconds(this.loopStart),N=y-b;Vm(m,y)\u0026\u0026(m=(m-b)%N+b),Yr(m,this.buffer.duration)\u0026\u0026(m=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,sx(m,this.buffer.duration)\u0026\u0026(this._sourceStarted=!0,this._source.start(f,m)),et(u)){let y=this.toSeconds(u);y=Math.max(y,0),this.stop(f+y)}return this}_stopSource(t){!this._sourceStopped\u0026\u0026this._sourceStarted\u0026\u0026(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted\u0026\u0026this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Wa extends $t{constructor(){super(L(Wa.getDefaults(),arguments,[\"type\"])),this.name=\"Noise\",this._source=null;let t=L(Wa.getDefaults(),arguments,[\"type\"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign($t.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:\"white\"})}get type(){return this._type}set type(t){if(Ee(t in px,\"Noise: invalid type: \"+t),this._type!==t\u0026\u0026(this._type=t,this.state===\"started\")){let s=this.now();this._stop(s),this._start(s)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source\u0026\u0026(this._source.playbackRate.value=t)}_start(t){let s=px[this._type];this._source=new La({url:s,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=\u003ethis.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(s.duration-.001))}_stop(t){this._source\u0026\u0026(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source\u0026\u0026(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source\u0026\u0026(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source\u0026\u0026this._source.disconnect(),this}}let Ba={brown:null,pink:null,white:null},px={get brown(){if(!Ba.brown){let l=[];for(let t=0;t\u003c2;t++){let s=new Float32Array(220500);l[t]=s;let u=0;for(let h=0;h\u003c220500;h++){let f=2*Math.random()-1;s[h]=(u+.02*f)/1.02,u=s[h],s[h]*=3.5}}Ba.brown=new lt().fromArray(l)}return Ba.brown},get pink(){if(!Ba.pink){let l=[];for(let t=0;t\u003c2;t++){let s=new Float32Array(220500),u,h,f,m,y,b,N;l[t]=s,u=h=f=m=y=b=N=0;for(let S=0;S\u003c220500;S++){let w=2*Math.random()-1;u=.99886*u+.0555179*w,h=.99332*h+.0750759*w,f=.969*f+.153852*w,m=.8665*m+.3104856*w,y=.55*y+.5329522*w,b=-.7616*b-.016898*w,s[S]=u+h+f+m+y+b+N+.5362*w,s[S]*=.11,N=.115926*w}}Ba.pink=new lt().fromArray(l)}return Ba.pink},get white(){if(!Ba.white){let l=[];for(let t=0;t\u003c2;t++){let s=new Float32Array(220500);l[t]=s;for(let u=0;u\u003c220500;u++)s[u]=2*Math.random()-1}Ba.white=new lt().fromArray(l)}return Ba.white}};class co extends ge{constructor(){super(L(co.getDefaults(),arguments,[\"volume\"])),this.name=\"UserMedia\";let t=L(co.getDefaults(),arguments,[\"volume\"]);this._volume=this.output=new da({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ve(this,\"volume\"),this.mute=t.mute}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,volume:0})}open(t){return Tt(this,void 0,void 0,function*(){Ee(co.supported,\"UserMedia is not supported\"),this.state===\"started\"\u0026\u0026this.close();let s=yield co.enumerateDevices();pr(t)?this._device=s[t]:(this._device=s.find(f=\u003ef.label===t||f.deviceId===t),!this._device\u0026\u0026s.length\u003e0\u0026\u0026(this._device=s[0]),Ee(et(this._device),\"No matching device \"+t));let u={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device\u0026\u0026(u.audio.deviceId=this._device.deviceId);let h=yield navigator.mediaDevices.getUserMedia(u);if(!this._stream){this._stream=h;let f=this.context.createMediaStreamSource(h);Zn(f,this.output),this._mediaStream=f}return this})}close(){return this._stream\u0026\u0026this._mediaStream\u0026\u0026(this._stream.getAudioTracks().forEach(t=\u003e{t.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return Tt(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(t=\u003et.kind===\"audioinput\")})}get state(){return this._stream\u0026\u0026this._stream.active?\"started\":\"stopped\"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return et(navigator.mediaDevices)\u0026\u0026et(navigator.mediaDevices.getUserMedia)}}function ss(l,t){return Tt(this,void 0,void 0,function*(){let s=t/l.context.sampleRate,u=new no(1,s,l.context.sampleRate);return new l.constructor(Object.assign(l.get(),{frequency:2/s,detune:0,context:u})).toDestination().start(0),(yield u.render()).getChannelData(0)})}class lo extends so{constructor(){super(L(lo.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"ToneOscillatorNode\",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];let t=L(lo.getDefaults(),arguments,[\"frequency\",\"type\"]);Zn(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Ye({context:this.context,param:this._oscillator.frequency,units:\"frequency\",value:t.frequency}),this.detune=new Ye({context:this.context,param:this._oscillator.detune,units:\"cents\",value:t.detune}),Ve(this,[\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(so.getDefaults(),{detune:0,frequency:440,type:\"sine\"})}start(t){let s=this.toSeconds(t);return this.log(\"start\",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state===\"started\"\u0026\u0026this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Rt extends $t{constructor(){super(L(Rt.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"Oscillator\",this._oscillator=null;let t=L(Rt.getDefaults(),arguments,[\"frequency\",\"type\"]);this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency}),Ve(this,\"frequency\"),this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),Ve(this,\"detune\"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount\u0026\u0026t.type!==\"custom\"\u0026\u0026(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign($t.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:\"sine\"})}_start(t){let s=this.toSeconds(t),u=new lo({context:this.context,onended:()=\u003ethis.onstop(this)});this._oscillator=u,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(t){let s=this.toSeconds(t);this._oscillator\u0026\u0026this._oscillator.stop(s)}_restart(t){let s=this.toSeconds(t);return this.log(\"restart\",s),this._oscillator\u0026\u0026this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type===\"custom\")return Rt._periodicWaveCache.find(t=\u003e{return t.phase===this._phase\u0026\u0026(s=t.partials,u=this._partials,s.length===u.length\u0026\u0026s.every((h,f)=\u003eu[f]===h));var s,u});{let t=Rt._periodicWaveCache.find(s=\u003es.type===this._type\u0026\u0026s.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;let s=[\"sine\",\"square\",\"sawtooth\",\"triangle\"].indexOf(t)!==-1;if(this._phase===0\u0026\u0026s)this._wave=void 0,this._partialCount=0,this._oscillator!==null\u0026\u0026(this._oscillator.type=t);else{let u=this._getCachedPeriodicWave();if(et(u)){let{partials:h,wave:f}=u;this._wave=f,this._partials=h,this._oscillator!==null\u0026\u0026this._oscillator.setPeriodicWave(this._wave)}else{let[h,f]=this._getRealImaginary(t,this._phase),m=this.context.createPeriodicWave(h,f);this._wave=m,this._oscillator!==null\u0026\u0026this._oscillator.setPeriodicWave(this._wave),Rt._periodicWaveCache.push({imag:f,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:h,type:this._type,wave:this._wave}),Rt._periodicWaveCache.length\u003e100\u0026\u0026Rt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),\"\")}set baseType(t){this.partialCount\u0026\u0026this._type!==\"custom\"\u0026\u0026t!==\"custom\"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Tn(t,0);let s=this._type,u=/^(sine|triangle|square|sawtooth)(\\d+)$/.exec(this._type);if(u\u0026\u0026(s=u[1]),this._type!==\"custom\")this.type=t===0?s:s+t.toString();else{let h=new Float32Array(t);this._partials.forEach((f,m)=\u003eh[m]=f),this._partials=Array.from(h),this.type=this._type}}_getRealImaginary(t,s){let u=2048,h=new Float32Array(u),f=new Float32Array(u),m=1;if(t===\"custom\"){if(m=this._partials.length+1,this._partialCount=this._partials.length,u=m,this._partials.length===0)return[h,f]}else{let y=/^(sine|triangle|square|sawtooth)(\\d+)$/.exec(t);y?(m=parseInt(y[2],10)+1,this._partialCount=parseInt(y[2],10),t=y[1],m=Math.max(m,2),u=m):this._partialCount=0,this._partials=[]}for(let y=1;y\u003cu;++y){let b=2/(y*Math.PI),N;switch(t){case\"sine\":N=y\u003c=m?1:0,this._partials[y-1]=N;break;case\"square\":N=1\u0026y?2*b:0,this._partials[y-1]=N;break;case\"sawtooth\":N=b*(1\u0026y?1:-1),this._partials[y-1]=N;break;case\"triangle\":N=1\u0026y?b*b*2*(y-1\u003e\u003e1\u00261?-1:1):0,this._partials[y-1]=N;break;case\"custom\":N=this._partials[y-1];break;default:throw new TypeError(\"Oscillator: invalid type: \"+t)}N!==0?(h[y]=-N*Math.sin(s*y),f[y]=N*Math.cos(s*y)):(h[y]=0,f[y]=0)}return[h,f]}_inverseFFT(t,s,u){let h=0,f=t.length;for(let m=0;m\u003cf;m++)h+=t[m]*Math.cos(m*u)+s[m]*Math.sin(m*u);return h}getInitialValue(){let[t,s]=this._getRealImaginary(this._type,0),u=0,h=2*Math.PI;for(let f=0;f\u003c32;f++)u=Math.max(this._inverseFFT(t,s,f/32*h),u);return ox(-this._inverseFFT(t,s,this._phase)/u,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length\u0026\u0026(this.type=\"custom\")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ss(this,t)})}dispose(){return super.dispose(),this._oscillator!==null\u0026\u0026this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Rt._periodicWaveCache=[];class vr extends ge{constructor(){super(Object.assign(L(vr.getDefaults(),arguments,[\"context\"])))}connect(t,s=0,u=0){return zu(this,t,s,u),this}}class Cr extends vr{constructor(){super(Object.assign(L(Cr.getDefaults(),arguments,[\"mapping\",\"length\"]))),this.name=\"WaveShaper\",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;let t=L(Cr.getDefaults(),arguments,[\"mapping\",\"length\"]);Mn(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):ax(t.mapping)\u0026\u0026this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Be.getDefaults(),{length:1024})}setMap(t,s=1024){let u=new Float32Array(s);for(let h=0,f=s;h\u003cf;h++){let m=h/(f-1)*2-1;u[h]=t(m,h)}return this.curve=u,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Ee([\"none\",\"2x\",\"4x\"].some(s=\u003es.includes(t)),\"oversampling must be either 'none', '2x', or '4x'\"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class rh extends vr{constructor(){super(...arguments),this.name=\"AudioToGain\",this._norm=new Cr({context:this.context,mapping:t=\u003e(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Et extends Be{constructor(){super(Object.assign(L(Et.getDefaults(),arguments,[\"value\"]))),this.name=\"Multiply\",this.override=!1;let t=L(Et.getDefaults(),arguments,[\"value\"]);this._mult=this.input=this.output=new Ce({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Be.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class ho extends $t{constructor(){super(L(ho.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"])),this.name=\"AMOscillator\",this._modulationScale=new rh({context:this.context}),this._modulationNode=new Ce({context:this.context});let t=L(ho.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"]);this._carrier=new Rt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=\u003ethis.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Rt({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Et({context:this.context,units:\"positive\",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ve(this,[\"frequency\",\"detune\",\"harmonicity\"])}static getDefaults(){return Object.assign(Rt.getDefaults(),{harmonicity:1,modulationType:\"square\"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ss(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class os extends $t{constructor(){super(L(os.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"])),this.name=\"FMOscillator\",this._modulationNode=new Ce({context:this.context,gain:0});let t=L(os.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"]);this._carrier=new Rt({context:this.context,detune:t.detune,frequency:0,onstop:()=\u003ethis.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency}),this._modulator=new Rt({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Et({context:this.context,units:\"positive\",value:t.harmonicity}),this.modulationIndex=new Et({context:this.context,units:\"positive\",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ve(this,[\"modulationIndex\",\"frequency\",\"detune\",\"harmonicity\"])}static getDefaults(){return Object.assign(Rt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:\"square\"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ss(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class us extends $t{constructor(){super(L(us.getDefaults(),arguments,[\"frequency\",\"width\"])),this.name=\"PulseOscillator\",this._widthGate=new Ce({context:this.context,gain:0}),this._thresh=new Cr({context:this.context,mapping:s=\u003es\u003c=0?-1:1});let t=L(us.getDefaults(),arguments,[\"frequency\",\"width\"]);this.width=new Be({context:this.context,units:\"audioRange\",value:t.width}),this._triangle=new Rt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=\u003ethis.onstop(this),phase:t.phase,type:\"triangle\"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ve(this,[\"width\",\"frequency\",\"detune\"])}static getDefaults(){return Object.assign($t.getDefaults(),{detune:0,frequency:440,phase:0,type:\"pulse\",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return\"pulse\"}get baseType(){return\"pulse\"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ss(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class po extends $t{constructor(){super(L(po.getDefaults(),arguments,[\"frequency\",\"type\",\"spread\"])),this.name=\"FatOscillator\",this._oscillators=[];let t=L(po.getDefaults(),arguments,[\"frequency\",\"type\",\"spread\"]);this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Ve(this,[\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(Rt.getDefaults(),{count:3,spread:20,type:\"sawtooth\"})}_start(t){t=this.toSeconds(t),this._forEach(s=\u003es.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(s=\u003es.stop(t))}_restart(t){this._forEach(s=\u003es.restart(t))}_forEach(t){for(let s=0;s\u003cthis._oscillators.length;s++)t(this._oscillators[s],s)}get type(){return this._type}set type(t){this._type=t,this._forEach(s=\u003es.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length\u003e1){let s=-t/2,u=t/(this._oscillators.length-1);this._forEach((h,f)=\u003eh.detune.value=s+u*f)}}get count(){return this._oscillators.length}set count(t){if(Tn(t,1),this._oscillators.length!==t){this._forEach(s=\u003es.dispose()),this._oscillators=[];for(let s=0;s\u003ct;s++){let u=new Rt({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+s/t*360,partialCount:this._partialCount,onstop:s===0?()=\u003ethis.onstop(this):it});this.type===\"custom\"\u0026\u0026(u.partials=this._partials),this.frequency.connect(u.frequency),this.detune.connect(u.detune),u.detune.overridden=!1,u.connect(this.output),this._oscillators[s]=u}this.spread=this._spread,this.state===\"started\"\u0026\u0026this._forEach(s=\u003es.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((s,u)=\u003es.phase=this._phase+u/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(s=\u003es.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length\u0026\u0026(this._type=\"custom\",this._forEach(s=\u003es.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(s=\u003es.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ss(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=\u003et.dispose()),this}}class fo extends $t{constructor(){super(L(fo.getDefaults(),arguments,[\"frequency\",\"modulationFrequency\"])),this.name=\"PWMOscillator\",this.sourceType=\"pwm\",this._scale=new Et({context:this.context,value:2});let t=L(fo.getDefaults(),arguments,[\"frequency\",\"modulationFrequency\"]);this._pulse=new us({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType=\"sine\",this.modulationFrequency=this._pulse.frequency,this._modulator=new Rt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=\u003ethis.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ve(this,[\"modulationFrequency\",\"frequency\",\"detune\"])}static getDefaults(){return Object.assign($t.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:\"pwm\"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return\"pwm\"}get baseType(){return\"pwm\"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ss(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}let fx={am:ho,fat:po,fm:os,oscillator:Rt,pulse:us,pwm:fo};class pa extends $t{constructor(){super(L(pa.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"OmniOscillator\";let t=L(pa.getDefaults(),arguments,[\"frequency\",\"type\"]);this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),Ve(this,[\"frequency\",\"detune\"]),this.set(t)}static getDefaults(){return Object.assign(Rt.getDefaults(),os.getDefaults(),ho.getDefaults(),po.getDefaults(),us.getDefaults(),fo.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t=\"\";return[\"am\",\"fm\",\"fat\"].some(s=\u003ethis._sourceType===s)\u0026\u0026(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)===\"fm\"?(this._createNewOscillator(\"fm\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)===\"am\"?(this._createNewOscillator(\"am\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)===\"fat\"?(this._createNewOscillator(\"fat\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t===\"pwm\"?(this._createNewOscillator(\"pwm\"),this._oscillator=this._oscillator):t===\"pulse\"?this._createNewOscillator(\"pulse\"):(this._createNewOscillator(\"oscillator\"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,\"type\")\u0026\u0026t.type\u0026\u0026(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;let s=fx[t],u=this.now();if(this._oscillator){let h=this._oscillator;h.stop(u),this.context.setTimeout(()=\u003eh.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=\u003ethis.onstop(this),this.state===\"started\"\u0026\u0026this._oscillator.start(u)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let s=\"sine\";this._oscillator.type!==\"pwm\"\u0026\u0026this._oscillator.type!==\"pulse\"\u0026\u0026(s=this._oscillator.type),t===\"fm\"?this.type=\"fm\"+s:t===\"am\"?this.type=\"am\"+s:t===\"fat\"?this.type=\"fat\"+s:t===\"oscillator\"?this.type=s:t===\"pulse\"?this.type=\"pulse\":t===\"pwm\"\u0026\u0026(this.type=\"pwm\")}_getOscType(t,s){return t instanceof fx[s]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||t===\"pulse\"||t===\"pwm\"||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,\"pulse\")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,\"fat\")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,\"fat\")\u0026\u0026pr(t)\u0026\u0026(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,\"fat\")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,\"fat\")\u0026\u0026pr(t)\u0026\u0026(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\"))\u0026\u0026Sr(t)\u0026\u0026(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,\"fm\")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,\"pwm\")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ss(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class cs extends Be{constructor(){super(Object.assign(L(cs.getDefaults(),arguments,[\"value\"]))),this.override=!1,this.name=\"Add\",this._sum=new Ce({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,mr(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Be.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class fa extends vr{constructor(){super(Object.assign(L(fa.getDefaults(),arguments,[\"min\",\"max\"]))),this.name=\"Scale\";let t=L(fa.getDefaults(),arguments,[\"min\",\"max\"]);this._mult=this.input=new Et({context:this.context,value:t.max-t.min}),this._add=this.output=new cs({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(vr.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class ah extends vr{constructor(){super(Object.assign(L(ah.getDefaults(),arguments))),this.name=\"Zero\",this._gain=new Ce({context:this.context}),this.output=this._gain,this.input=void 0,Zn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),zm(this.context.getConstant(0),this._gain),this}}class In extends ge{constructor(){super(L(In.getDefaults(),arguments,[\"frequency\",\"min\",\"max\"])),this.name=\"LFO\",this._stoppedValue=0,this._units=\"number\",this.convert=!0,this._fromType=Ye.prototype._fromType,this._toType=Ye.prototype._toType,this._is=Ye.prototype._is,this._clampValue=Ye.prototype._clampValue;let t=L(In.getDefaults(),arguments,[\"frequency\",\"min\",\"max\"]);this._oscillator=new Rt(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Ce({context:this.context,gain:t.amplitude,units:\"normalRange\"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Be({context:this.context,units:\"audioRange\",value:0}),this._zeros=new ah({context:this.context}),this._a2g=new rh({context:this.context}),this._scaler=this.output=new fa({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ve(this,[\"amplitude\",\"frequency\"]),this.phase=t.phase}static getDefaults(){return Object.assign(Rt.getDefaults(),{amplitude:1,frequency:\"4n\",max:1,min:0,type:\"sine\",units:\"number\"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){let s=this.min,u=this.max;this._units=t,this.min=s,this.max=u}get state(){return this._oscillator.state}connect(t,s,u){return(t instanceof Ye||t instanceof Be)\u0026\u0026(this.convert=t.convert,this.units=t.units),zu(this,t,s,u),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function mx(l,t=1/0){let s=new WeakMap;return function(u,h){Reflect.defineProperty(u,h,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(f){Tn(f,l,t),s.set(this,f)}})}}function za(l,t=1/0){let s=new WeakMap;return function(u,h){Reflect.defineProperty(u,h,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(f){Tn(this.toSeconds(f),l,t),s.set(this,f)}})}}class ls extends $t{constructor(){super(L(ls.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"Player\",this._activeSources=new Set;let t=L(ls.getDefaults(),arguments,[\"url\",\"onload\"]);this._buffer=new lt({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign($t.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:it,onerror:it,playbackRate:1,reverse:!1})}load(t){return Tt(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=it){t(),this.autostart\u0026\u0026this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size!==0||this._synced||this._state.getValueAtTime(this.now())!==\"started\"||(this._state.cancel(this.now()),this._state.setStateAtTime(\"stopped\",this.now()))}start(t,s,u){return super.start(t,s,u),this}_start(t,s,u){s=this._loop?Or(s,this._loopStart):Or(s,0);let h=this.toSeconds(s),f=u;u=Or(u,Math.max(this._buffer.duration-h,0));let m=this.toSeconds(u);m/=this._playbackRate,t=this.toSeconds(t);let y=new La({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+m),this._state.setStateAtTime(\"stopped\",t+m,{implicitEnd:!0})),this._activeSources.add(y),this._loop\u0026\u0026Xn(f)?y.start(t,h):y.start(t,h,m-this.toSeconds(this.fadeOut))}_stop(t){let s=this.toSeconds(t);this._activeSources.forEach(u=\u003eu.stop(s))}restart(t,s,u){return super.restart(t,s,u),this}_restart(t,s,u){this._stop(t),this._start(t,s,u)}seek(t,s){let u=this.toSeconds(s);if(this._state.getValueAtTime(u)===\"started\"){let h=this.toSeconds(t);this._stop(u),this._start(u,h)}return this}setLoopPoints(t,s){return this.loopStart=t,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded\u0026\u0026Tn(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(s=\u003e{s.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded\u0026\u0026Tn(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(s=\u003e{s.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t\u0026\u0026(this._loop=t,this._activeSources.forEach(s=\u003e{s.loop=t}),t)){let s=this._state.getNextState(\"stopped\",this.now());s\u0026\u0026this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;let s=this.now(),u=this._state.getNextState(\"stopped\",s);u\u0026\u0026u.implicitEnd\u0026\u0026(this._state.cancel(u.time),this._activeSources.forEach(h=\u003eh.cancelStop())),this._activeSources.forEach(h=\u003e{h.playbackRate.setValueAtTime(t,s)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=\u003et.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Hr([za(0)],ls.prototype,\"fadeIn\",void 0),Hr([za(0)],ls.prototype,\"fadeOut\",void 0);class ih extends ge{constructor(){super(L(ih.getDefaults(),arguments,[\"urls\",\"onload\"],\"urls\")),this.name=\"Players\",this.input=void 0,this._players=new Map;let t=L(ih.getDefaults(),arguments,[\"urls\",\"onload\"],\"urls\");this._volume=this.output=new da({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ve(this,\"volume\"),this._buffers=new oo({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign($t.getDefaults(),{baseUrl:\"\",fadeIn:0,fadeOut:0,mute:!1,onload:it,onerror:it,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach(s=\u003e{s.fadeIn=t})}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach(s=\u003e{s.fadeOut=t})}get state(){return Array.from(this._players).some(([t,s])=\u003es.state===\"started\")?\"started\":\"stopped\"}has(t){return this._buffers.has(t)}player(t){if(Ee(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){let s=new ls({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,s)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,s,u){return Ee(!this._buffers.has(t),\"A buffer with that name already exists on this object\"),this._buffers.add(t,s,u),this}stopAll(t){return this._players.forEach(s=\u003es.stop(t)),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach(t=\u003et.dispose()),this._buffers.dispose(),this}}class sh extends $t{constructor(){super(L(sh.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"GrainPlayer\",this._loopStart=0,this._loopEnd=0,this._activeSources=[];let t=L(sh.getDefaults(),arguments,[\"url\",\"onload\"]);this.buffer=new lt({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new is({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on(\"stop\",this._onstop.bind(this))}static getDefaults(){return Object.assign($t.getDefaults(),{onload:it,onerror:it,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,s,u){s=Or(s,0),s=this.toSeconds(s),t=this.toSeconds(t);let h=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,s/h),u\u0026\u0026this.stop(t+this.toSeconds(u))}restart(t,s,u){return super.restart(t,s,u),this}_restart(t,s,u){this._stop(t),this._start(t,s,u)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach(s=\u003e{s.fadeOut=0,s.stop(t)}),this.onstop(this)}_tick(t){let s=this._clock.getTicksAtTime(t),u=s*this._grainSize;if(this.log(\"offset\",u),!this.loop\u0026\u0026u\u003ethis.buffer.duration)return void this.stop(t);let h=u\u003cthis._overlap?0:this._overlap,f=new La({context:this.context,url:this.buffer,fadeIn:h,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:ao(this.detune/100)}).connect(this.output);f.start(t,this._grainSize*s),f.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(f),f.onended=()=\u003e{let m=this._activeSources.indexOf(f);m!==-1\u0026\u0026this._activeSources.splice(m,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){Tn(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded\u0026\u0026Tn(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded\u0026\u0026Tn(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){let s=this.toSeconds(t);Tn(s,0),this._overlap=s}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach(t=\u003et.dispose()),this}}class vx extends vr{constructor(){super(...arguments),this.name=\"Abs\",this._abs=new Cr({context:this.context,mapping:t=\u003eMath.abs(t)\u003c.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class gx extends vr{constructor(){super(...arguments),this.name=\"GainToAudio\",this._norm=new Cr({context:this.context,mapping:t=\u003e2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Um extends vr{constructor(){super(...arguments),this.name=\"Negate\",this._multiply=new Et({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class hs extends Be{constructor(){super(Object.assign(L(hs.getDefaults(),arguments,[\"value\"]))),this.override=!1,this.name=\"Subtract\",this._sum=new Ce({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Um({context:this.context}),this.subtrahend=this._param,mr(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Be.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class oh extends vr{constructor(){super(Object.assign(L(oh.getDefaults(),arguments))),this.name=\"GreaterThanZero\",this._thresh=this.output=new Cr({context:this.context,length:127,mapping:t=\u003et\u003c=0?0:1}),this._scale=this.input=new Et({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class Uu extends Be{constructor(){super(Object.assign(L(Uu.getDefaults(),arguments,[\"value\"]))),this.name=\"GreaterThan\",this.override=!1;let t=L(Uu.getDefaults(),arguments,[\"value\"]);this._subtract=this.input=new hs({context:this.context,value:t.value}),this._gtz=this.output=new oh({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Ve(this,\"comparator\"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Be.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class mo extends vr{constructor(){super(Object.assign(L(mo.getDefaults(),arguments,[\"value\"]))),this.name=\"Pow\";let t=L(mo.getDefaults(),arguments,[\"value\"]);this._exponentScaler=this.input=this.output=new Cr({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(vr.getDefaults(),{value:1})}_expFunc(t){return s=\u003eMath.pow(Math.abs(s),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class $u extends fa{constructor(){super(Object.assign(L($u.getDefaults(),arguments,[\"min\",\"max\",\"exponent\"]))),this.name=\"ScaleExp\";let t=L($u.getDefaults(),arguments,[\"min\",\"max\",\"exponent\"]);this.input=this._exp=new mo({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(fa.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class o8 extends Be{constructor(){super(L(Be.getDefaults(),arguments,[\"value\",\"units\"])),this.name=\"SyncedSignal\",this.override=!1;let t=L(Be.getDefaults(),arguments,[\"value\",\"units\"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),\"1i\"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on(\"start\",this._syncedCallback),this.context.transport.on(\"pause\",this._syncedCallback),this.context.transport.on(\"stop\",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new Bu({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){let s=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==s\u0026\u0026(this._lastVal=s,this._constantSource.offset.setValueAtTime(s,t))}_anchorValue(t){let s=super.getValueAtTime(this.context.transport.seconds);this._lastVal=s,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(s,t)}getValueAtTime(t){let s=new tn(this.context,t).toSeconds();return super.getValueAtTime(s)}setValueAtTime(t,s){let u=new tn(this.context,s).toSeconds();return super.setValueAtTime(t,u),this}linearRampToValueAtTime(t,s){let u=new tn(this.context,s).toSeconds();return super.linearRampToValueAtTime(t,u),this}exponentialRampToValueAtTime(t,s){let u=new tn(this.context,s).toSeconds();return super.exponentialRampToValueAtTime(t,u),this}setTargetAtTime(t,s,u){let h=new tn(this.context,s).toSeconds();return super.setTargetAtTime(t,h,u),this}cancelScheduledValues(t){let s=new tn(this.context,t).toSeconds();return super.cancelScheduledValues(s),this}setValueCurveAtTime(t,s,u,h){let f=new tn(this.context,s).toSeconds();return u=this.toSeconds(u),super.setValueCurveAtTime(t,f,u,h),this}cancelAndHoldAtTime(t){let s=new tn(this.context,t).toSeconds();return super.cancelAndHoldAtTime(s),this}setRampPoint(t){let s=new tn(this.context,t).toSeconds();return super.setRampPoint(s),this}exponentialRampTo(t,s,u){let h=new tn(this.context,u).toSeconds();return super.exponentialRampTo(t,s,h),this}linearRampTo(t,s,u){let h=new tn(this.context,u).toSeconds();return super.linearRampTo(t,s,h),this}targetRampTo(t,s,u){let h=new tn(this.context,u).toSeconds();return super.targetRampTo(t,s,h),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off(\"start\",this._syncedCallback),this.context.transport.off(\"pause\",this._syncedCallback),this.context.transport.off(\"stop\",this._syncedCallback),this._constantSource.dispose(),this}}class yn extends ge{constructor(){super(L(yn.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"Envelope\",this._sig=new Be({context:this.context,value:0}),this.output=this._sig,this.input=void 0;let t=L(yn.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(ge.getDefaults(),{attack:.01,attackCurve:\"linear\",decay:.1,decayCurve:\"exponential\",release:1,releaseCurve:\"exponential\",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,s){if(Sr(t))return t;{let u;for(u in uh)if(uh[u][s]===t)return u;return t}}_setCurve(t,s,u){if(Sr(u)\u0026\u0026Reflect.has(uh,u)){let h=uh[u];Ia(h)?t!==\"_decayCurve\"\u0026\u0026(this[t]=h[s]):this[t]=h}else{if(!Mn(u)||t===\"_decayCurve\")throw new Error(\"Envelope: invalid curve: \"+u);this[t]=u}}get attackCurve(){return this._getCurve(this._attackCurve,\"In\")}set attackCurve(t){this._setCurve(\"_attackCurve\",\"In\",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,\"Out\")}set releaseCurve(t){this._setCurve(\"_releaseCurve\",\"Out\",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Ee([\"linear\",\"exponential\"].some(s=\u003es===t),\"Invalid envelope curve: \"+t),this._decayCurve=t}triggerAttack(t,s=1){this.log(\"triggerAttack\",t,s),t=this.toSeconds(t);let u=this.toSeconds(this.attack),h=this.toSeconds(this.decay),f=this.getValueAtTime(t);if(f\u003e0\u0026\u0026(u=(1-f)/(1/u)),u\u003cthis.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(s,t);else if(this._attackCurve===\"linear\")this._sig.linearRampTo(s,u,t);else if(this._attackCurve===\"exponential\")this._sig.targetRampTo(s,u,t);else{this._sig.cancelAndHoldAtTime(t);let m=this._attackCurve;for(let y=1;y\u003cm.length;y++)if(m[y-1]\u003c=f\u0026\u0026f\u003c=m[y]){m=this._attackCurve.slice(y),m[0]=f;break}this._sig.setValueCurveAtTime(m,t,u,s)}if(h\u0026\u0026this.sustain\u003c1){let m=s*this.sustain,y=t+u;this.log(\"decay\",y),this._decayCurve===\"linear\"?this._sig.linearRampToValueAtTime(m,h+y):this._sig.exponentialApproachValueAtTime(m,y,h)}return this}triggerRelease(t){this.log(\"triggerRelease\",t),t=this.toSeconds(t);let s=this.getValueAtTime(t);if(s\u003e0){let u=this.toSeconds(this.release);u\u003cthis.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve===\"linear\"?this._sig.linearRampTo(0,u,t):this._releaseCurve===\"exponential\"?this._sig.targetRampTo(0,u,t):(Ee(Mn(this._releaseCurve),\"releaseCurve must be either 'linear', 'exponential' or an array\"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,u,s))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,s,u=1){return s=this.toSeconds(s),this.triggerAttack(s,u),this.triggerRelease(s+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,s=0,u=0){return zu(this,t,s,u),this}asArray(t=1024){return Tt(this,void 0,void 0,function*(){let s=t/this.context.sampleRate,u=new no(1,s,this.context.sampleRate),h=this.toSeconds(this.attack)+this.toSeconds(this.decay),f=h+this.toSeconds(this.release),m=.1*f,y=f+m,b=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/y,decay:s*this.toSeconds(this.decay)/y,release:s*this.toSeconds(this.release)/y,context:u}));return b._sig.toDestination(),b.triggerAttackRelease(s*(h+m)/y,0),(yield u.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Hr([za(0)],yn.prototype,\"attack\",void 0),Hr([za(0)],yn.prototype,\"decay\",void 0),Hr([mx(0,1)],yn.prototype,\"sustain\",void 0),Hr([za(0)],yn.prototype,\"release\",void 0);let uh=(()=\u003e{let l,t,s=[];for(l=0;l\u003c128;l++)s[l]=Math.sin(l/127*(Math.PI/2));let u=[];for(l=0;l\u003c127;l++){t=l/127;let N=Math.sin(t*(2*Math.PI)*6.4-Math.PI/2)+1;u[l]=N/10+.83*t}u[127]=1;let h=[];for(l=0;l\u003c128;l++)h[l]=Math.ceil(l/127*5)/5;let f=[];for(l=0;l\u003c128;l++)t=l/127,f[l]=.5*(1-Math.cos(Math.PI*t));let m=[];for(l=0;l\u003c128;l++){t=l/127;let N=4*Math.pow(t,3)+.2,S=Math.cos(N*Math.PI*2*t);m[l]=Math.abs(S*(1-t))}function y(N){let S=new Array(N.length);for(let w=0;w\u003cN.length;w++)S[w]=1-N[w];return S}return{bounce:{In:y(m),Out:m},cosine:{In:s,Out:(b=s,b.slice(0).reverse())},exponential:\"exponential\",linear:\"linear\",ripple:{In:u,Out:y(u)},sine:{In:f,Out:y(f)},step:{In:h,Out:y(h)}};var b})();class gr extends ge{constructor(){super(L(gr.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;let t=L(gr.getDefaults(),arguments);this._volume=this.output=new da({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ve(this,\"volume\")}static getDefaults(){return Object.assign(ge.getDefaults(),{volume:0})}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,s){let u=this[\"_original_\"+t]=this[t];this[t]=(...h)=\u003e{let f=h[s],m=this.context.transport.schedule(y=\u003e{h[s]=y,u.apply(this,h)},f);this._scheduledEvents.push(m)}}unsync(){return this._scheduledEvents.forEach(t=\u003ethis.context.transport.clear(t)),this._scheduledEvents=[],this._synced\u0026\u0026(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,s,u,h){let f=this.toSeconds(u),m=this.toSeconds(s);return this.triggerAttack(t,f,h),this.triggerRelease(f+m),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Pn extends gr{constructor(){super(L(Pn.getDefaults(),arguments));let t=L(Pn.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(gr.getDefaults(),{detune:0,onsilence:it,portamento:0})}triggerAttack(t,s,u=1){this.log(\"triggerAttack\",t,s,u);let h=this.toSeconds(s);return this._triggerEnvelopeAttack(h,u),this.setNote(t,h),this}triggerRelease(t){this.log(\"triggerRelease\",t);let s=this.toSeconds(t);return this._triggerEnvelopeRelease(s),this}setNote(t,s){let u=this.toSeconds(s),h=t instanceof zn?t.toFrequency():t;if(this.portamento\u003e0\u0026\u0026this.getLevelAtTime(u)\u003e.05){let f=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(h,f,u)}else this.frequency.setValueAtTime(h,u);return this}}Hr([za(0)],Pn.prototype,\"portamento\",void 0);class vo extends yn{constructor(){super(L(vo.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"AmplitudeEnvelope\",this._gainNode=new Ce({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ga extends Pn{constructor(){super(L(Ga.getDefaults(),arguments)),this.name=\"Synth\";let t=L(Ga.getDefaults(),arguments);this.oscillator=new pa(Object.assign({context:this.context,detune:t.detune,onstop:()=\u003ethis.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new vo(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Ve(this,[\"oscillator\",\"frequency\",\"detune\",\"envelope\"])}static getDefaults(){return Object.assign(Pn.getDefaults(),{envelope:Object.assign(Sn(yn.getDefaults(),Object.keys(ge.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Sn(pa.getDefaults(),[...Object.keys($t.getDefaults()),\"frequency\",\"detune\"]),{type:\"triangle\"})})}_triggerEnvelopeAttack(t,s){if(this.envelope.triggerAttack(t,s),this.oscillator.start(t),this.envelope.sustain===0){let u=this.toSeconds(this.envelope.attack),h=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+u+h)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class go extends Pn{constructor(){super(L(go.getDefaults(),arguments)),this.name=\"ModulationSynth\";let t=L(go.getDefaults(),arguments);this._carrier=new Ga({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=\u003ethis.onsilence(this),volume:-10}),this._modulator=new Ga({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Be({context:this.context,units:\"frequency\"}),this.detune=new Be({context:this.context,value:t.detune,units:\"cents\"}),this.harmonicity=new Et({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new Ce({context:this.context,gain:0}),Ve(this,[\"frequency\",\"harmonicity\",\"oscillator\",\"envelope\",\"modulation\",\"modulationEnvelope\",\"detune\"])}static getDefaults(){return Object.assign(Pn.getDefaults(),{harmonicity:3,oscillator:Object.assign(Sn(pa.getDefaults(),[...Object.keys($t.getDefaults()),\"frequency\",\"detune\"]),{type:\"sine\"}),envelope:Object.assign(Sn(yn.getDefaults(),Object.keys(ge.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Sn(pa.getDefaults(),[...Object.keys($t.getDefaults()),\"frequency\",\"detune\"]),{type:\"square\"}),modulationEnvelope:Object.assign(Sn(yn.getDefaults(),Object.keys(ge.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,s){this._carrier._triggerEnvelopeAttack(t,s),this._modulator._triggerEnvelopeAttack(t,s)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class $m extends go{constructor(){super(L($m.getDefaults(),arguments)),this.name=\"AMSynth\",this._modulationScale=new rh({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class yo extends ge{constructor(){super(L(yo.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"BiquadFilter\";let t=L(yo.getDefaults(),arguments,[\"frequency\",\"type\"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Ye({context:this.context,units:\"number\",value:t.Q,param:this._filter.Q}),this.frequency=new Ye({context:this.context,units:\"frequency\",value:t.frequency,param:this._filter.frequency}),this.detune=new Ye({context:this.context,units:\"cents\",value:t.detune,param:this._filter.detune}),this.gain=new Ye({context:this.context,units:\"decibels\",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(ge.getDefaults(),{Q:1,type:\"lowpass\",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){Ee([\"lowpass\",\"highpass\",\"bandpass\",\"lowshelf\",\"highshelf\",\"notch\",\"allpass\",\"peaking\"].indexOf(t)!==-1,\"Invalid filter type: \"+t),this._filter.type=t}getFrequencyResponse(t=128){let s=new Float32Array(t);for(let m=0;m\u003ct;m++){let y=19980*Math.pow(m/t,2)+20;s[m]=y}let u=new Float32Array(t),h=new Float32Array(t),f=this.context.createBiquadFilter();return f.type=this.type,f.Q.value=this.Q.value,f.frequency.value=this.frequency.value,f.gain.value=this.gain.value,f.getFrequencyResponse(s,u,h),u}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Qn extends ge{constructor(){super(L(Qn.getDefaults(),arguments,[\"frequency\",\"type\",\"rolloff\"])),this.name=\"Filter\",this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this._filters=[];let t=L(Qn.getDefaults(),arguments,[\"frequency\",\"type\",\"rolloff\"]);this._filters=[],this.Q=new Be({context:this.context,units:\"positive\",value:t.Q}),this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),this.gain=new Be({context:this.context,units:\"decibels\",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,Ve(this,[\"detune\",\"frequency\",\"gain\",\"Q\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:\"lowpass\"})}get type(){return this._type}set type(t){Ee([\"lowpass\",\"highpass\",\"bandpass\",\"lowshelf\",\"highshelf\",\"notch\",\"allpass\",\"peaking\"].indexOf(t)!==-1,\"Invalid filter type: \"+t),this._type=t,this._filters.forEach(s=\u003es.type=t)}get rolloff(){return this._rolloff}set rolloff(t){let s=pr(t)?t:parseInt(t,10),u=[-12,-24,-48,-96],h=u.indexOf(s);Ee(h!==-1,\"rolloff can only be \"+u.join(\", \")),h+=1,this._rolloff=s,this.input.disconnect(),this._filters.forEach(f=\u003ef.disconnect()),this._filters=new Array(h);for(let f=0;f\u003ch;f++){let m=new yo({context:this.context});m.type=this._type,this.frequency.connect(m.frequency),this.detune.connect(m.detune),this.Q.connect(m.Q),this.gain.connect(m.gain),this._filters[f]=m}this._internalChannels=this._filters,mr(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){let s=new yo({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),u=new Float32Array(t).map(()=\u003e1);return this._filters.forEach(()=\u003e{s.getFrequencyResponse(t).forEach((h,f)=\u003eu[f]*=h)}),s.dispose(),u}dispose(){return super.dispose(),this._filters.forEach(t=\u003e{t.dispose()}),Lu(this,[\"detune\",\"frequency\",\"gain\",\"Q\"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class _o extends yn{constructor(){super(L(_o.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"FrequencyEnvelope\";let t=L(_o.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new mo({context:this.context,value:t.exponent}),this._scale=this.output=new fa({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(yn.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){let s=this.toFrequency(t);Tn(s,0),this._baseFrequency=s,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class _i extends Pn{constructor(){super(L(_i.getDefaults(),arguments)),this.name=\"MonoSynth\";let t=L(_i.getDefaults(),arguments);this.oscillator=new pa(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=\u003ethis.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Qn(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new _o(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new vo(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Ve(this,[\"oscillator\",\"frequency\",\"detune\",\"filter\",\"filterEnvelope\",\"envelope\"])}static getDefaults(){return Object.assign(Pn.getDefaults(),{envelope:Object.assign(Sn(yn.getDefaults(),Object.keys(ge.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Sn(Qn.getDefaults(),Object.keys(ge.getDefaults())),{Q:1,rolloff:-12,type:\"lowpass\"}),filterEnvelope:Object.assign(Sn(_o.getDefaults(),Object.keys(ge.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Sn(pa.getDefaults(),Object.keys($t.getDefaults())),{type:\"sawtooth\"})})}_triggerEnvelopeAttack(t,s=1){if(this.envelope.triggerAttack(t,s),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),this.envelope.sustain===0){let u=this.toSeconds(this.envelope.attack),h=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+u+h)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class ch extends Pn{constructor(){super(L(ch.getDefaults(),arguments)),this.name=\"DuoSynth\";let t=L(ch.getDefaults(),arguments);this.voice0=new _i(Object.assign(t.voice0,{context:this.context,onsilence:()=\u003ethis.onsilence(this)})),this.voice1=new _i(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new Et({context:this.context,units:\"positive\",value:t.harmonicity}),this._vibrato=new In({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new Ce({context:this.context,units:\"normalRange\",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Be({context:this.context,units:\"frequency\",value:440}),this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Ve(this,[\"voice0\",\"voice1\",\"frequency\",\"vibratoAmount\",\"vibratoRate\"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return Pr(Pn.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Pr(Sn(_i.getDefaults(),Object.keys(Pn.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Pr(Sn(_i.getDefaults(),Object.keys(Pn.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,s){this.voice0._triggerEnvelopeAttack(t,s),this.voice1._triggerEnvelopeAttack(t,s)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class lh extends go{constructor(){super(L(lh.getDefaults(),arguments)),this.name=\"FMSynth\";let t=L(lh.getDefaults(),arguments);this.modulationIndex=new Et({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(go.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}let yx=[1,1.483,1.932,2.546,2.63,3.897];class hh extends Pn{constructor(){super(L(hh.getDefaults(),arguments)),this.name=\"MetalSynth\",this._oscillators=[],this._freqMultipliers=[];let t=L(hh.getDefaults(),arguments);this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),this.frequency=new Be({context:this.context,units:\"frequency\"}),this._amplitude=new Ce({context:this.context,gain:0}).connect(this.output),this._highpass=new Qn({Q:0,context:this.context,type:\"highpass\"}).connect(this._amplitude);for(let s=0;s\u003cyx.length;s++){let u=new os({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:\"square\",onstop:s===0?()=\u003ethis.onsilence(this):it,type:\"square\"});u.connect(this._highpass),this._oscillators[s]=u;let h=new Et({context:this.context,value:yx[s]});this._freqMultipliers[s]=h,this.frequency.chain(h,u.frequency),this.detune.connect(u.detune)}this._filterFreqScaler=new fa({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new yn({attack:t.envelope.attack,attackCurve:\"linear\",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return Pr(Pn.getDefaults(),{envelope:Object.assign(Sn(yn.getDefaults(),Object.keys(ge.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,s=1){return this.envelope.triggerAttack(t,s),this._oscillators.forEach(u=\u003eu.start(t)),this.envelope.sustain===0\u0026\u0026this._oscillators.forEach(u=\u003e{u.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach(s=\u003es.stop(t+this.toSeconds(this.envelope.release))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach(s=\u003es.modulationIndex.value=t)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach(s=\u003es.harmonicity.value=t)}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach(t=\u003et.dispose()),this._freqMultipliers.forEach(t=\u003et.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class bo extends Ga{constructor(){super(L(bo.getDefaults(),arguments)),this.name=\"MembraneSynth\",this.portamento=0;let t=L(bo.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Ve(this,[\"oscillator\",\"envelope\"])}static getDefaults(){return Pr(Pn.getDefaults(),Ga.getDefaults(),{envelope:{attack:.001,attackCurve:\"exponential\",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:\"sine\"},pitchDecay:.05})}setNote(t,s){let u=this.toSeconds(s),h=this.toFrequency(t instanceof zn?t.toFrequency():t),f=h*this.octaves;return this.oscillator.frequency.setValueAtTime(f,u),this.oscillator.frequency.exponentialRampToValueAtTime(h,u+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Hr([mx(0)],bo.prototype,\"octaves\",void 0),Hr([za(0)],bo.prototype,\"pitchDecay\",void 0);class dh extends gr{constructor(){super(L(dh.getDefaults(),arguments)),this.name=\"NoiseSynth\";let t=L(dh.getDefaults(),arguments);this.noise=new Wa(Object.assign({context:this.context},t.noise)),this.envelope=new vo(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(gr.getDefaults(),{envelope:Object.assign(Sn(yn.getDefaults(),Object.keys(ge.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Sn(Wa.getDefaults(),Object.keys($t.getDefaults())),{type:\"white\"})})}triggerAttack(t,s=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,s),this.noise.start(t),this.envelope.sustain===0\u0026\u0026this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",0),this._syncMethod(\"triggerRelease\",0)),this}triggerAttackRelease(t,s,u=1){return s=this.toSeconds(s),t=this.toSeconds(t),this.triggerAttack(s,u),this.triggerRelease(s+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}let Hm=new Set;function Ym(l){Hm.add(l)}function _x(l,t){let s=`registerProcessor(\"${l}\", ${t})`;Hm.add(s)}class Xm extends ge{constructor(t){super(t),this.name=\"ToneAudioWorklet\",this.workletOptions={},this.onprocessorerror=it;let s=URL.createObjectURL(new Blob([Array.from(Hm).join(`\n`)],{type:\"text/javascript\"})),u=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(s,u).then(()=\u003e{this.disposed||(this._worklet=this.context.createAudioWorkletNode(u,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet\u0026\u0026(this._worklet.port.postMessage(\"dispose\"),this._worklet.disconnect()),this}}Ym(`\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it's disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) =\u003e {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === \"dispose\") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n`),Ym(`\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length \u003e 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input \u0026\u0026 input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample \u003c this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel \u003c channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input \u0026\u0026 input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n`),Ym(`\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i \u003c channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] \u003e this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead \u003c 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n`),_x(\"feedback-comb-filter\",`\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"delayTime\",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: \"k-rate\"\n\t\t\t}, {\n\t\t\t\tname: \"feedback\",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: \"k-rate\"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n`);class xo extends Xm{constructor(){super(L(xo.getDefaults(),arguments,[\"delayTime\",\"resonance\"])),this.name=\"FeedbackCombFilter\";let t=L(xo.getDefaults(),arguments,[\"delayTime\",\"resonance\"]);this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this.delayTime=new Ye({context:this.context,value:t.delayTime,units:\"time\",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Ye({context:this.context,value:t.resonance,units:\"normalRange\",param:this._dummyParam,swappable:!0}),Ve(this,[\"resonance\",\"delayTime\"])}_audioWorkletName(){return\"feedback-comb-filter\"}static getDefaults(){return Object.assign(ge.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){mr(this.input,t,this.output);let s=t.parameters.get(\"delayTime\");this.delayTime.setParam(s);let u=t.parameters.get(\"feedback\");this.resonance.setParam(u)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class ko extends ge{constructor(){super(L(ko.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"OnePoleFilter\";let t=L(ko.getDefaults(),arguments,[\"frequency\",\"type\"]);this._frequency=t.frequency,this._type=t.type,this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(ge.getDefaults(),{frequency:880,type:\"lowpass\"})}_createFilter(){let t=this._filter,s=this.toFrequency(this._frequency),u=1/(2*Math.PI*s);if(this._type===\"lowpass\"){let h=1/(u*this.context.sampleRate),f=h-1;this._filter=this.context.createIIRFilter([h,0],[1,f])}else{let h=1/(u*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,h])}this.input.chain(this._filter,this.output),t\u0026\u0026this.context.setTimeout(()=\u003e{this.disposed||(this.input.disconnect(t),t.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){let s=new Float32Array(t);for(let f=0;f\u003ct;f++){let m=19980*Math.pow(f/t,2)+20;s[f]=m}let u=new Float32Array(t),h=new Float32Array(t);return this._filter.getFrequencyResponse(s,u,h),u}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class No extends ge{constructor(){super(L(No.getDefaults(),arguments,[\"delayTime\",\"resonance\",\"dampening\"])),this.name=\"LowpassCombFilter\";let t=L(No.getDefaults(),arguments,[\"delayTime\",\"resonance\",\"dampening\"]);this._combFilter=this.output=new xo({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new ko({context:this.context,frequency:t.dampening,type:\"lowpass\"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(ge.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class ph extends gr{constructor(){super(L(ph.getDefaults(),arguments)),this.name=\"PluckSynth\";let t=L(ph.getDefaults(),arguments);this._noise=new Wa({context:this.context,type:\"pink\"}),this.attackNoise=t.attackNoise,this._lfcf=new No({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Pr(gr.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,s){let u=this.toFrequency(t);s=this.toSeconds(s);let h=1/u;return this._lfcf.delayTime.setValueAtTime(h,s),this._noise.start(s),this._noise.stop(s+h*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(s),this._lfcf.resonance.setValueAtTime(this.resonance,s),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class fh extends gr{constructor(){super(L(fh.getDefaults(),arguments,[\"voice\",\"options\"])),this.name=\"PolySynth\",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;let t=L(fh.getDefaults(),arguments,[\"voice\",\"options\"]);Ee(!pr(t.voice),\"DEPRECATED: The polyphony count is no longer the first argument.\");let s=t.voice.getDefaults();this.options=Object.assign(s,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();let u=this._voices.indexOf(this._dummyVoice);this._voices.splice(u,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(gr.getDefaults(),{maxPolyphony:32,options:{},voice:Ga})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);let s=this._activeVoices.findIndex(u=\u003eu.voice===t);this._activeVoices.splice(s,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length\u003cthis.maxPolyphony){let t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}Fu(\"Max polyphony exceeded. Note dropped.\")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length\u0026\u0026this._voices.length\u003eMath.ceil(this._averageActiveVoices+1)){let t=this._availableVoices.shift(),s=this._voices.indexOf(t);this._voices.splice(s,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,s,u){t.forEach(h=\u003e{let f=new uo(this.context,h).toMidi(),m=this._getNextAvailableVoice();m\u0026\u0026(m.triggerAttack(h,s,u),this._activeVoices.push({midi:f,voice:m,released:!1}),this.log(\"triggerAttack\",h,s))})}_triggerRelease(t,s){t.forEach(u=\u003e{let h=new uo(this.context,u).toMidi(),f=this._activeVoices.find(({midi:m,released:y})=\u003em===h\u0026\u0026!y);f\u0026\u0026(f.voice.triggerRelease(s),f.released=!0,this.log(\"triggerRelease\",u,s))})}_scheduleEvent(t,s,u,h){Ee(!this.disposed,\"Synth was already disposed\"),u\u003c=this.now()?t===\"attack\"?this._triggerAttack(s,u,h):this._triggerRelease(s,u):this.context.setTimeout(()=\u003e{this._scheduleEvent(t,s,u,h)},u-this.now())}triggerAttack(t,s,u){Array.isArray(t)||(t=[t]);let h=this.toSeconds(s);return this._scheduleEvent(\"attack\",t,h,u),this}triggerRelease(t,s){Array.isArray(t)||(t=[t]);let u=this.toSeconds(s);return this._scheduleEvent(\"release\",t,u),this}triggerAttackRelease(t,s,u,h){let f=this.toSeconds(u);if(this.triggerAttack(t,f,h),Mn(s)){Ee(Mn(t),\"If the duration is an array, the notes must also be an array\"),t=t;for(let m=0;m\u003ct.length;m++){let y=s[Math.min(m,s.length-1)],b=this.toSeconds(y);Ee(b\u003e0,\"The duration must be greater than 0\"),this.triggerRelease(t[m],f+b)}}else{let m=this.toSeconds(s);Ee(m\u003e0,\"The duration must be greater than 0\"),this.triggerRelease(t,f+m)}return this}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",1)),this}set(t){let s=Sn(t,[\"onsilence\",\"context\"]);return this.options=Pr(this.options,s),this._voices.forEach(u=\u003eu.set(s)),this._dummyVoice.set(s),this}get(){return this._dummyVoice.get()}releaseAll(t){let s=this.toSeconds(t);return this._activeVoices.forEach(({voice:u})=\u003e{u.triggerRelease(s)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=\u003et.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class wo extends gr{constructor(){super(L(wo.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\")),this.name=\"Sampler\",this._activeSources=new Map;let t=L(wo.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\"),s={};Object.keys(t.urls).forEach(u=\u003e{let h=parseInt(u,10);if(Ee(Vu(u)||pr(h)\u0026\u0026isFinite(h),\"url key is neither a note or midi pitch: \"+u),Vu(u)){let f=new zn(this.context,u).toMidi();s[f]=t.urls[u]}else pr(h)\u0026\u0026isFinite(h)\u0026\u0026(s[h]=t.urls[h])}),this._buffers=new oo({urls:s,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded\u0026\u0026Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(gr.getDefaults(),{attack:0,baseUrl:\"\",curve:\"exponential\",onload:it,onerror:it,release:.1,urls:{}})}_findClosest(t){let s=0;for(;s\u003c96;){if(this._buffers.has(t+s))return-s;if(this._buffers.has(t-s))return s;s++}throw new Error(\"No available buffers for note: \"+t)}triggerAttack(t,s,u=1){return this.log(\"triggerAttack\",t,s,u),Array.isArray(t)||(t=[t]),t.forEach(h=\u003e{let f=hx(new zn(this.context,h).toFrequency()),m=Math.round(f),y=f-m,b=this._findClosest(m),N=m-b,S=this._buffers.get(N),w=ao(b+y),O=new La({url:S,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:w}).connect(this.output);O.start(s,0,S.duration/w,u),Mn(this._activeSources.get(m))||this._activeSources.set(m,[]),this._activeSources.get(m).push(O),O.onended=()=\u003e{if(this._activeSources\u0026\u0026this._activeSources.has(m)){let T=this._activeSources.get(m),H=T.indexOf(O);H!==-1\u0026\u0026T.splice(H,1)}}}),this}triggerRelease(t,s){return this.log(\"triggerRelease\",t,s),Array.isArray(t)||(t=[t]),t.forEach(u=\u003e{let h=new zn(this.context,u).toMidi();if(this._activeSources.has(h)\u0026\u0026this._activeSources.get(h).length){let f=this._activeSources.get(h);s=this.toSeconds(s),f.forEach(m=\u003e{m.stop(s)}),this._activeSources.set(h,[])}}),this}releaseAll(t){let s=this.toSeconds(t);return this._activeSources.forEach(u=\u003e{for(;u.length;)u.shift().stop(s)}),this}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",1)),this}triggerAttackRelease(t,s,u,h=1){let f=this.toSeconds(u);return this.triggerAttack(t,f,h),Mn(s)?(Ee(Mn(t),\"notes must be an array when duration is array\"),t.forEach((m,y)=\u003e{let b=s[Math.min(y,s.length-1)];this.triggerRelease(m,f+this.toSeconds(b))})):this.triggerRelease(t,f+this.toSeconds(s)),this}add(t,s,u){if(Ee(Vu(t)||isFinite(t),\"note must be a pitch or midi: \"+t),Vu(t)){let h=new zn(this.context,t).toMidi();this._buffers.add(h,s,u)}else this._buffers.add(t,s,u);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=\u003e{t.forEach(s=\u003es.dispose())}),this._activeSources.clear(),this}}Hr([za(0)],wo.prototype,\"attack\",void 0),Hr([za(0)],wo.prototype,\"release\",void 0);class Zr extends gn{constructor(){super(L(Zr.getDefaults(),arguments,[\"callback\",\"value\"])),this.name=\"ToneEvent\",this._state=new io(\"stopped\"),this._startOffset=0;let t=L(Zr.getDefaults(),arguments,[\"callback\",\"value\"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(gn.getDefaults(),{callback:it,humanize:!1,loop:!1,loopEnd:\"1m\",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,s=\u003e{let u;if(s.state===\"started\"){s.id!==-1\u0026\u0026this.context.transport.clear(s.id);let h=s.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||pr(this._loop)\u0026\u0026this._loop\u003e1){u=1/0,pr(this._loop)\u0026\u0026(u=this._loop*this._getLoopDuration());let f=this._state.getAfter(h);f!==null\u0026\u0026(u=Math.min(u,f.time-h)),u!==1/0\u0026\u0026(this._state.setStateAtTime(\"stopped\",h+u+1,{id:-1}),u=new Mt(this.context,u));let m=new Mt(this.context,this._getLoopDuration());s.id=this.context.transport.scheduleRepeat(this._tick.bind(this),m,new Mt(this.context,h),u)}else s.id=this.context.transport.schedule(this._tick.bind(this),new Mt(this.context,h))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){let s=this.toTicks(t);return this._state.getValueAtTime(s)===\"stopped\"\u0026\u0026(this._state.add({id:-1,state:\"started\",time:s}),this._rescheduleEvents(s)),this}stop(t){this.cancel(t);let s=this.toTicks(t);if(this._state.getValueAtTime(s)===\"started\"){this._state.setStateAtTime(\"stopped\",s,{id:-1});let u=this._state.getBefore(s),h=s;u!==null\u0026\u0026(h=u.time),this._rescheduleEvents(h)}return this}cancel(t){t=Or(t,-1/0);let s=this.toTicks(t);return this._state.forEachFrom(s,u=\u003e{this.context.transport.clear(u.id)}),this._state.cancel(s),this}_tick(t){let s=this.context.transport.getTicksAtTime(t);if(!this.mute\u0026\u0026this._state.getValueAtTime(s)===\"started\"){if(this.probability\u003c1\u0026\u0026Math.random()\u003ethis.probability)return;if(this.humanize){let u=.02;Fm(this.humanize)||(u=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*u}this.callback(t,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new Mt(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop\u0026\u0026this._rescheduleEvents()}get loopStart(){return new Mt(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop\u0026\u0026this._rescheduleEvents()}get progress(){if(this._loop){let t=this.context.transport.ticks,s=this._state.get(t);if(s!==null\u0026\u0026s.state===\"started\"){let u=this._getLoopDuration();return(t-s.time)%u/u}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class qo extends gn{constructor(){super(L(qo.getDefaults(),arguments,[\"callback\",\"interval\"])),this.name=\"Loop\";let t=L(qo.getDefaults(),arguments,[\"callback\",\"interval\"]);this._event=new Zr({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(gn.getDefaults(),{interval:\"4n\",callback:it,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class To extends Zr{constructor(){super(L(To.getDefaults(),arguments,[\"callback\",\"events\"])),this.name=\"Part\",this._state=new io(\"stopped\"),this._events=new Set;let t=L(To.getDefaults(),arguments,[\"callback\",\"events\"]);this._state.increasing=!0,t.events.forEach(s=\u003e{Mn(s)?this.add(s[0],s[1]):this.add(s)})}static getDefaults(){return Object.assign(Zr.getDefaults(),{events:[]})}start(t,s){let u=this.toTicks(t);if(this._state.getValueAtTime(u)!==\"started\"){s=Or(s,this._loop?this._loopStart:0),s=this._loop?Or(s,this._loopStart):Or(s,0);let h=this.toTicks(s);this._state.add({id:-1,offset:h,state:\"started\",time:u}),this._forEach(f=\u003e{this._startNote(f,u,h)})}return this}_startNote(t,s,u){s-=u,this._loop?t.startOffset\u003e=this._loopStart\u0026\u0026t.startOffset\u003cthis._loopEnd?(t.startOffset\u003cu\u0026\u0026(s+=this._getLoopDuration()),t.start(new Mt(this.context,s))):t.startOffset\u003cthis._loopStart\u0026\u0026t.startOffset\u003e=u\u0026\u0026(t.loop=!1,t.start(new Mt(this.context,s))):t.startOffset\u003e=u\u0026\u0026t.start(new Mt(this.context,s))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach(s=\u003e{s.startOffset+=this._startOffset})}stop(t){let s=this.toTicks(t);return this._state.cancel(s),this._state.setStateAtTime(\"stopped\",s),this._forEach(u=\u003e{u.stop(t)}),this}at(t,s){let u=new tn(this.context,t).toTicks(),h=new Mt(this.context,1).toSeconds(),f=this._events.values(),m=f.next();for(;!m.done;){let y=m.value;if(Math.abs(u-y.startOffset)\u003ch)return et(s)\u0026\u0026(y.value=s),y;m=f.next()}return et(s)?(this.add(t,s),this.at(t)):null}add(t,s){t instanceof Object\u0026\u0026Reflect.has(t,\"time\")\u0026\u0026(t=(s=t).time);let u=this.toTicks(t),h;return s instanceof Zr?(h=s,h.callback=this._tick.bind(this)):h=new Zr({callback:this._tick.bind(this),context:this.context,value:s}),h.startOffset=u,h.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(h),this._restartEvent(h),this}_restartEvent(t){this._state.forEach(s=\u003e{s.state===\"started\"?this._startNote(t,s.time,s.offset):t.stop(new Mt(this.context,s.time))})}remove(t,s){return Ia(t)\u0026\u0026t.hasOwnProperty(\"time\")\u0026\u0026(t=(s=t).time),t=this.toTicks(t),this._events.forEach(u=\u003e{u.startOffset===t\u0026\u0026(Xn(s)||et(s)\u0026\u0026u.value===s)\u0026\u0026(this._events.delete(u),u.dispose())}),this}clear(){return this._forEach(t=\u003et.dispose()),this._events.clear(),this}cancel(t){return this._forEach(s=\u003es.cancel(t)),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events\u0026\u0026this._events.forEach(s=\u003e{s instanceof To?s._forEach(t):t(s)}),this}_setAll(t,s){this._forEach(u=\u003e{u[t]=s})}_tick(t,s){this.mute||this.callback(t,s)}_testLoopBoundries(t){this._loop\u0026\u0026(t.startOffset\u003cthis._loopStart||t.startOffset\u003e=this._loopEnd)?t.cancel(0):t.state===\"stopped\"\u0026\u0026this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll(\"probability\",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll(\"humanize\",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach(s=\u003e{s.loopStart=this.loopStart,s.loopEnd=this.loopEnd,s.loop=t,this._testLoopBoundries(s)})}get loopEnd(){return new Mt(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop\u0026\u0026this._forEach(s=\u003e{s.loopEnd=t,this._testLoopBoundries(s)})}get loopStart(){return new Mt(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop\u0026\u0026this._forEach(s=\u003e{s.loopStart=this.loopStart,this._testLoopBoundries(s)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll(\"playbackRate\",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*u8(l){let t=0;for(;t\u003cl.length;)t=Mo(t,l),yield l[t],t++}function*c8(l){let t=l.length-1;for(;t\u003e=0;)t=Mo(t,l),yield l[t],t--}function*Hu(l,t){for(;;)yield*t(l)}function Mo(l,t){return ox(l,0,t.length-1)}function*bx(l,t){let s=t?0:l.length-1;for(;;)s=Mo(s,l),yield l[s],t?(s++,s\u003e=l.length-1\u0026\u0026(t=!1)):(s--,s\u003c=0\u0026\u0026(t=!0))}function*l8(l){let t=0,s=0;for(;t\u003cl.length;)t=Mo(t,l),yield l[t],s++,t+=s%2?2:-1}function*h8(l){let t=l.length-1,s=0;for(;t\u003e=0;)t=Mo(t,l),yield l[t],s++,t+=s%2?-2:1}function*d8(l){let t=[];for(let s=0;s\u003cl.length;s++)t.push(s);for(;t.length\u003e0;){let s=Mo(t.splice(Math.floor(t.length*Math.random()),1)[0],l);yield l[s]}}function*xx(l,t=\"up\",s=0){switch(Ee(l.length\u003e0,\"The array must have more than one value in it\"),t){case\"up\":yield*Hu(l,u8);case\"down\":yield*Hu(l,c8);case\"upDown\":yield*bx(l,!0);case\"downUp\":yield*bx(l,!1);case\"alternateUp\":yield*Hu(l,l8);case\"alternateDown\":yield*Hu(l,h8);case\"random\":yield*function*(u){for(;;){let h=Math.floor(Math.random()*u.length);yield u[h]}}(l);case\"randomOnce\":yield*Hu(l,d8);case\"randomWalk\":yield*function*(u){let h=Math.floor(Math.random()*u.length);for(;;)h===0?h++:h===u.length-1||Math.random()\u003c.5?h--:h++,yield u[h]}(l)}}class mh extends qo{constructor(){super(L(mh.getDefaults(),arguments,[\"callback\",\"values\",\"pattern\"])),this.name=\"Pattern\";let t=L(mh.getDefaults(),arguments,[\"callback\",\"values\",\"pattern\"]);this.callback=t.callback,this._values=t.values,this._pattern=xx(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(qo.getDefaults(),{pattern:\"up\",values:[],callback:it})}_tick(t){let s=this._pattern.next();this._value=s.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=xx(this._values,this._type)}}class vh extends Zr{constructor(){super(L(vh.getDefaults(),arguments,[\"callback\",\"events\",\"subdivision\"])),this.name=\"Sequence\",this._part=new To({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];let t=L(vh.getDefaults(),arguments,[\"callback\",\"events\",\"subdivision\"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(Sn(Zr.getDefaults(),[\"value\"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:\"8n\"})}_seqCallback(t,s){s!==null\u0026\u0026this.callback(t,s)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,s){return this._part.start(t,s\u0026\u0026this._indexTime(s)),this}stop(t){return this._part.stop(t),this}get subdivision(){return new Mt(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(s,u)=\u003es[u],set:(s,u,h)=\u003e(Sr(u)\u0026\u0026isFinite(parseInt(u,10))\u0026\u0026Mn(h)?s[u]=this._createSequence(h):s[u]=h,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,s,u){t.forEach((h,f)=\u003e{let m=f*s+u;if(Mn(h))this._rescheduleSequence(h,s/h.length,m);else{let y=new Mt(this.context,m,\"i\").toSeconds();this._part.add(y,h)}})}_indexTime(t){return new Mt(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=t===0?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class ds extends ge{constructor(){super(Object.assign(L(ds.getDefaults(),arguments,[\"fade\"]))),this.name=\"CrossFade\",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new gx({context:this.context}),this.a=new Ce({context:this.context,gain:0}),this.b=new Ce({context:this.context,gain:0}),this.output=new Ce({context:this.context}),this._internalChannels=[this.a,this.b];let t=L(ds.getDefaults(),arguments,[\"fade\"]);this.fade=new Be({context:this.context,units:\"normalRange\",value:t.fade}),Ve(this,\"fade\"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode=\"explicit\",Zn(this._split,this.a.gain,0),Zn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ge.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class un extends ge{constructor(t){super(t),this.name=\"Effect\",this._dryWet=new ds({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Ce({context:this.context}),this.effectReturn=new Ce({context:this.context}),this.input=new Ce({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ve(this,\"wet\")}static getDefaults(){return Object.assign(ge.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class gh extends un{constructor(t){super(t),this.name=\"LFOEffect\",this._lfo=new In({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,Ve(this,[\"frequency\",\"depth\"])}static getDefaults(){return Object.assign(un.getDefaults(),{frequency:1,type:\"sine\",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class yh extends gh{constructor(){super(L(yh.getDefaults(),arguments,[\"frequency\",\"baseFrequency\",\"octaves\"])),this.name=\"AutoFilter\";let t=L(yh.getDefaults(),arguments,[\"frequency\",\"baseFrequency\",\"octaves\"]);this.filter=new Qn(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(gh.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:\"lowpass\",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class So extends ge{constructor(){super(Object.assign(L(So.getDefaults(),arguments,[\"pan\"]))),this.name=\"Panner\",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;let t=L(So.getDefaults(),arguments,[\"pan\"]);this.pan=new Ye({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode=\"explicit\",Ve(this,\"pan\")}static getDefaults(){return Object.assign(ge.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class _h extends gh{constructor(){super(L(_h.getDefaults(),arguments,[\"frequency\"])),this.name=\"AutoPanner\";let t=L(_h.getDefaults(),arguments,[\"frequency\"]);this._panner=new So({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(gh.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Po extends ge{constructor(){super(L(Po.getDefaults(),arguments,[\"smoothing\"])),this.name=\"Follower\";let t=L(Po.getDefaults(),arguments,[\"smoothing\"]);this._abs=this.input=new vx({context:this.context}),this._lowpass=this.output=new ko({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:\"lowpass\"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(ge.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class bh extends un{constructor(){super(L(bh.getDefaults(),arguments,[\"baseFrequency\",\"octaves\",\"sensitivity\"])),this.name=\"AutoWah\";let t=L(bh.getDefaults(),arguments,[\"baseFrequency\",\"octaves\",\"sensitivity\"]);this._follower=new Po({context:this.context,smoothing:t.follower}),this._sweepRange=new $u({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new Ce({context:this.context}),this._bandpass=new Qn({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new Qn({context:this.context,type:\"peaking\"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,Ve(this,[\"gain\",\"Q\"])}static getDefaults(){return Object.assign(un.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return Wu(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/ro(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}_x(\"bit-crusher\",`\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n`);class xh extends un{constructor(){super(L(xh.getDefaults(),arguments,[\"bits\"])),this.name=\"BitCrusher\";let t=L(xh.getDefaults(),arguments,[\"bits\"]);this._bitCrusherWorklet=new kh({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(un.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class kh extends Xm{constructor(){super(L(kh.getDefaults(),arguments)),this.name=\"BitCrusherWorklet\";let t=L(kh.getDefaults(),arguments);this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this.bits=new Ye({context:this.context,value:t.bits,units:\"positive\",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(Xm.getDefaults(),{bits:12})}_audioWorkletName(){return\"bit-crusher\"}onReady(t){mr(this.input,t,this.output);let s=t.parameters.get(\"bits\");this.bits.setParam(s)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Nh extends un{constructor(){super(L(Nh.getDefaults(),arguments,[\"order\"])),this.name=\"Chebyshev\";let t=L(Nh.getDefaults(),arguments,[\"order\"]);this._shaper=new Cr({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(un.getDefaults(),{order:1,oversample:\"none\"})}_getCoefficient(t,s,u){return u.has(s)||(s===0?u.set(s,0):s===1?u.set(s,t):u.set(s,2*t*this._getCoefficient(t,s-1,u)-this._getCoefficient(t,s-2,u))),u.get(s)}get order(){return this._order}set order(t){this._order=t,this._shaper.setMap(s=\u003ethis._getCoefficient(s,t,new Map))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class bi extends ge{constructor(){super(L(bi.getDefaults(),arguments,[\"channels\"])),this.name=\"Split\";let t=L(bi.getDefaults(),arguments,[\"channels\"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ge.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Ua extends ge{constructor(){super(L(Ua.getDefaults(),arguments,[\"channels\"])),this.name=\"Merge\";let t=L(Ua.getDefaults(),arguments,[\"channels\"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(ge.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class ma extends ge{constructor(t){super(t),this.name=\"StereoEffect\",this.input=new Ce({context:this.context}),this.input.channelCount=2,this.input.channelCountMode=\"explicit\",this._dryWet=this.output=new ds({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new bi({context:this.context,channels:2}),this._merge=new Ua({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Ve(this,[\"wet\"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),mr(...t),Zn(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),mr(...t),Zn(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(ge.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Zm extends ma{constructor(t){super(t),this.feedback=new Be({context:this.context,value:t.feedback,units:\"normalRange\"}),this._feedbackL=new Ce({context:this.context}),this._feedbackR=new Ce({context:this.context}),this._feedbackSplit=new bi({context:this.context,channels:2}),this._feedbackMerge=new Ua({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Ve(this,[\"feedback\"])}static getDefaults(){return Object.assign(ma.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class wh extends Zm{constructor(){super(L(wh.getDefaults(),arguments,[\"frequency\",\"delayTime\",\"depth\"])),this.name=\"Chorus\";let t=L(wh.getDefaults(),arguments,[\"frequency\",\"delayTime\",\"depth\"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new In({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new In({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Kn({context:this.context}),this._delayNodeR=new Kn({context:this.context}),this.frequency=this._lfoL.frequency,Ve(this,[\"frequency\"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(Zm.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:\"sine\",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;let s=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-s,0),this._lfoL.max=this._delayTime+s,this._lfoR.min=Math.max(this._delayTime-s,0),this._lfoR.max=this._delayTime+s}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class qh extends un{constructor(){super(L(qh.getDefaults(),arguments,[\"distortion\"])),this.name=\"Distortion\";let t=L(qh.getDefaults(),arguments,[\"distortion\"]);this._shaper=new Cr({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(un.getDefaults(),{distortion:.4,oversample:\"none\"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;let s=100*t,u=Math.PI/180;this._shaper.setMap(h=\u003eMath.abs(h)\u003c.001?0:(3+s)*h*20*u/(Math.PI+s*Math.abs(h)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Th extends un{constructor(t){super(t),this.name=\"FeedbackEffect\",this._feedbackGain=new Ce({context:this.context,gain:t.feedback,units:\"normalRange\"}),this.feedback=this._feedbackGain.gain,Ve(this,\"feedback\"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(un.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Mh extends Th{constructor(){super(L(Mh.getDefaults(),arguments,[\"delayTime\",\"feedback\"])),this.name=\"FeedbackDelay\";let t=L(Mh.getDefaults(),arguments,[\"delayTime\",\"feedback\"]);this._delayNode=new Kn({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Ve(this,\"delayTime\")}static getDefaults(){return Object.assign(Th.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class p8 extends ge{constructor(t){super(t),this.name=\"PhaseShiftAllpass\",this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this.offset90=new Ce({context:this.context}),this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),mr(this.input,...this._bank0,this._oneSampleDelay,this.output),mr(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map(s=\u003e{let u=[[s*s,0,-1],[1,0,-s*s]];return this.context.createIIRFilter(u[0],u[1])})}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach(t=\u003et.disconnect()),this._bank1.forEach(t=\u003et.disconnect()),this._oneSampleDelay.disconnect(),this}}class Sh extends un{constructor(){super(L(Sh.getDefaults(),arguments,[\"frequency\"])),this.name=\"FrequencyShifter\";let t=L(Sh.getDefaults(),arguments,[\"frequency\"]);this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new lo({context:this.context,type:\"sine\"}),this._cosine=new Rt({context:this.context,phase:-90,type:\"sine\"}),this._sineMultiply=new Et({context:this.context}),this._cosineMultiply=new Et({context:this.context}),this._negate=new Um({context:this.context}),this._add=new cs({context:this.context}),this._phaseShifter=new p8({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);let s=this.immediate();this._sine.start(s),this._cosine.start(s)}static getDefaults(){return Object.assign(un.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}let kx=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],Nx=[225,556,441,341];class Ph extends ma{constructor(){super(L(Ph.getDefaults(),arguments,[\"roomSize\",\"dampening\"])),this.name=\"Freeverb\",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];let t=L(Ph.getDefaults(),arguments,[\"roomSize\",\"dampening\"]);this.roomSize=new Be({context:this.context,value:t.roomSize,units:\"normalRange\"}),this._allpassFiltersL=Nx.map(s=\u003e{let u=this.context.createBiquadFilter();return u.type=\"allpass\",u.frequency.value=s,u}),this._allpassFiltersR=Nx.map(s=\u003e{let u=this.context.createBiquadFilter();return u.type=\"allpass\",u.frequency.value=s,u}),this._combFilters=kx.map((s,u)=\u003e{let h=new No({context:this.context,dampening:t.dampening,delayTime:s});return u\u003ckx.length/2?this.connectEffectLeft(h,...this._allpassFiltersL):this.connectEffectRight(h,...this._allpassFiltersR),this.roomSize.connect(h.resonance),h}),Ve(this,[\"roomSize\"])}static getDefaults(){return Object.assign(ma.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach(s=\u003es.dampening=t)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(t=\u003et.disconnect()),this._allpassFiltersR.forEach(t=\u003et.disconnect()),this._combFilters.forEach(t=\u003et.dispose()),this.roomSize.dispose(),this}}let wx=[.06748,.06404,.08212,.09004],f8=[.773,.802,.753,.733],m8=[347,113,37];class Oh extends ma{constructor(){super(L(Oh.getDefaults(),arguments,[\"roomSize\"])),this.name=\"JCReverb\",this._allpassFilters=[],this._feedbackCombFilters=[];let t=L(Oh.getDefaults(),arguments,[\"roomSize\"]);this.roomSize=new Be({context:this.context,value:t.roomSize,units:\"normalRange\"}),this._scaleRoomSize=new fa({context:this.context,min:-.733,max:.197}),this._allpassFilters=m8.map(s=\u003e{let u=this.context.createBiquadFilter();return u.type=\"allpass\",u.frequency.value=s,u}),this._feedbackCombFilters=wx.map((s,u)=\u003e{let h=new xo({context:this.context,delayTime:s});return this._scaleRoomSize.connect(h.resonance),h.resonance.value=f8[u],u\u003cwx.length/2?this.connectEffectLeft(...this._allpassFilters,h):this.connectEffectRight(...this._allpassFilters,h),h}),this.roomSize.connect(this._scaleRoomSize),Ve(this,[\"roomSize\"])}static getDefaults(){return Object.assign(ma.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(t=\u003et.disconnect()),this._feedbackCombFilters.forEach(t=\u003et.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class qx extends Zm{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Ve(this,[\"feedback\"])}}class Ch extends qx{constructor(){super(L(Ch.getDefaults(),arguments,[\"delayTime\",\"feedback\"])),this.name=\"PingPongDelay\";let t=L(Ch.getDefaults(),arguments,[\"delayTime\",\"feedback\"]);this._leftDelay=new Kn({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new Kn({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new Kn({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new Be({context:this.context,units:\"time\",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Ve(this,[\"delayTime\"])}static getDefaults(){return Object.assign(qx.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Ah extends Th{constructor(){super(L(Ah.getDefaults(),arguments,[\"pitch\"])),this.name=\"PitchShift\";let t=L(Ah.getDefaults(),arguments,[\"pitch\"]);this._frequency=new Be({context:this.context}),this._delayA=new Kn({maxDelay:1,context:this.context}),this._lfoA=new In({context:this.context,min:0,max:.1,type:\"sawtooth\"}).connect(this._delayA.delayTime),this._delayB=new Kn({maxDelay:1,context:this.context}),this._lfoB=new In({context:this.context,min:0,max:.1,type:\"sawtooth\",phase:180}).connect(this._delayB.delayTime),this._crossFade=new ds({context:this.context}),this._crossFadeLFO=new In({context:this.context,min:0,max:1,type:\"triangle\",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Kn({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Ve(this,\"delayTime\"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);let s=this.now();this._lfoA.start(s),this._lfoB.start(s),this._crossFadeLFO.start(s),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Th.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let s=0;t\u003c0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,s=ao(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,s=ao(t)-1),this._frequency.value=s*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Rh extends ma{constructor(){super(L(Rh.getDefaults(),arguments,[\"frequency\",\"octaves\",\"baseFrequency\"])),this.name=\"Phaser\";let t=L(Rh.getDefaults(),arguments,[\"frequency\",\"octaves\",\"baseFrequency\"]);this._lfoL=new In({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new In({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new Be({context:this.context,value:t.Q,units:\"positive\"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),Ve(this,[\"frequency\",\"Q\"])}static getDefaults(){return Object.assign(ma.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,s){let u=[];for(let h=0;h\u003ct;h++){let f=this.context.createBiquadFilter();f.type=\"allpass\",this.Q.connect(f.Q),s.connect(f.frequency),u.push(f)}return u}get octaves(){return this._octaves}set octaves(t){this._octaves=t;let s=this._baseFrequency*Math.pow(2,t);this._lfoL.max=s,this._lfoR.max=s}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(t=\u003et.disconnect()),this._filtersR.forEach(t=\u003et.disconnect()),this.frequency.dispose(),this}}class Eh extends un{constructor(){super(L(Eh.getDefaults(),arguments,[\"decay\"])),this.name=\"Reverb\",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();let t=L(Eh.getDefaults(),arguments,[\"decay\"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(un.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){Tn(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){Tn(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return Tt(this,void 0,void 0,function*(){let t=this.ready,s=new no(2,this._decay+this._preDelay,this.context.sampleRate),u=new Wa({context:s}),h=new Wa({context:s}),f=new Ua({context:s});u.connect(f,0,0),h.connect(f,0,1);let m=new Ce({context:s}).toDestination();f.connect(m),u.start(0),h.start(0),m.gain.setValueAtTime(0,0),m.gain.setValueAtTime(1,this._preDelay),m.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);let y=s.render();return this.ready=y.then(it),yield t,this._convolver.buffer=(yield y).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Yu extends ge{constructor(){super(L(Yu.getDefaults(),arguments)),this.name=\"MidSideSplit\",this._split=this.input=new bi({channels:2,context:this.context}),this._midAdd=new cs({context:this.context}),this.mid=new Et({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new hs({context:this.context}),this.side=new Et({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class Xu extends ge{constructor(){super(L(Xu.getDefaults(),arguments)),this.name=\"MidSideMerge\",this.mid=new Ce({context:this.context}),this.side=new Ce({context:this.context}),this._left=new cs({context:this.context}),this._leftMult=new Et({context:this.context,value:Math.SQRT1_2}),this._right=new hs({context:this.context}),this._rightMult=new Et({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new Ua({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class Tx extends un{constructor(t){super(t),this.name=\"MidSideEffect\",this._midSideMerge=new Xu({context:this.context}),this._midSideSplit=new Yu({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class jh extends Tx{constructor(){super(L(jh.getDefaults(),arguments,[\"width\"])),this.name=\"StereoWidener\";let t=L(jh.getDefaults(),arguments,[\"width\"]);this.width=new Be({context:this.context,value:t.width,units:\"normalRange\"}),Ve(this,[\"width\"]),this._twoTimesWidthMid=new Et({context:this.context,value:2}),this._twoTimesWidthSide=new Et({context:this.context,value:2}),this._midMult=new Et({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new hs({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),Zn(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Et({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(Tx.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class Dh extends ma{constructor(){super(L(Dh.getDefaults(),arguments,[\"frequency\",\"depth\"])),this.name=\"Tremolo\";let t=L(Dh.getDefaults(),arguments,[\"frequency\",\"depth\"]);this._lfoL=new In({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new In({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new Ce({context:this.context}),this._amplitudeR=new Ce({context:this.context}),this.frequency=new Be({context:this.context,value:t.frequency,units:\"frequency\"}),this.depth=new Be({context:this.context,value:t.depth,units:\"normalRange\"}),Ve(this,[\"frequency\",\"depth\"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(ma.getDefaults(),{frequency:10,type:\"sine\",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Ih extends un{constructor(){super(L(Ih.getDefaults(),arguments,[\"frequency\",\"depth\"])),this.name=\"Vibrato\";let t=L(Ih.getDefaults(),arguments,[\"frequency\",\"depth\"]);this._delayNode=new Kn({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new In({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,Ve(this,[\"frequency\",\"depth\"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(un.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:\"sine\"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Oo extends ge{constructor(){super(L(Oo.getDefaults(),arguments,[\"type\",\"size\"])),this.name=\"Analyser\",this._analysers=[],this._buffers=[];let t=L(Oo.getDefaults(),arguments,[\"type\",\"size\"]);this.input=this.output=this._gain=new Ce({context:this.context}),this._split=new bi({context:this.context,channels:t.channels}),this.input.connect(this._split),Tn(t.channels,1);for(let s=0;s\u003ct.channels;s++)this._analysers[s]=this.context.createAnalyser(),this._split.connect(this._analysers[s],s,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(ge.getDefaults(),{size:1024,smoothing:.8,type:\"fft\",channels:1})}getValue(){return this._analysers.forEach((t,s)=\u003e{let u=this._buffers[s];this._type===\"fft\"?t.getFloatFrequencyData(u):this._type===\"waveform\"\u0026\u0026t.getFloatTimeDomainData(u)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach((s,u)=\u003e{s.fftSize=2*t,this._buffers[u]=new Float32Array(t)})}get channels(){return this._analysers.length}get type(){return this._type}set type(t){Ee(t===\"waveform\"||t===\"fft\",\"Analyser: invalid type: \"+t),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach(s=\u003es.smoothingTimeConstant=t)}dispose(){return super.dispose(),this._analysers.forEach(t=\u003et.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class xi extends ge{constructor(){super(L(xi.getDefaults(),arguments)),this.name=\"MeterBase\",this.input=this.output=this._analyser=new Oo({context:this.context,size:256,type:\"waveform\"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Fh extends xi{constructor(){super(L(Fh.getDefaults(),arguments,[\"smoothing\"])),this.name=\"Meter\",this._rms=0;let t=L(Fh.getDefaults(),arguments,[\"smoothing\"]);this.input=this.output=this._analyser=new Oo({context:this.context,size:256,type:\"waveform\",channels:t.channels}),this.smoothing=t.smoothing,this.normalRange=t.normalRange}static getDefaults(){return Object.assign(xi.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return Fu(\"'getLevel' has been changed to 'getValue'\"),this.getValue()}getValue(){let t=this._analyser.getValue(),s=(this.channels===1?[t]:t).map(u=\u003e{let h=u.reduce((m,y)=\u003em+y*y,0),f=Math.sqrt(h/u.length);return this._rms=Math.max(f,this._rms*this.smoothing),this.normalRange?this._rms:Wu(this._rms)});return this.channels===1?s[0]:s}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Vh extends xi{constructor(){super(L(Vh.getDefaults(),arguments,[\"size\"])),this.name=\"FFT\";let t=L(Vh.getDefaults(),arguments,[\"size\"]);this.normalRange=t.normalRange,this._analyser.type=\"fft\",this.size=t.size}static getDefaults(){return Object.assign(ge.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map(t=\u003ethis.normalRange?ro(t):t)}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return Ee(0\u003c=t\u0026\u0026t\u003cthis.size,\"index must be greater than or equal to 0 and less than \"+this.size),t*this.context.sampleRate/(2*this.size)}}class Km extends xi{constructor(){super(L(Km.getDefaults(),arguments)),this.name=\"DCMeter\",this._analyser.type=\"waveform\",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class Lh extends xi{constructor(){super(L(Lh.getDefaults(),arguments,[\"size\"])),this.name=\"Waveform\";let t=L(Lh.getDefaults(),arguments,[\"size\"]);this._analyser.type=\"waveform\",this.size=t.size}static getDefaults(){return Object.assign(xi.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class Ht extends ge{constructor(){super(L(Ht.getDefaults(),arguments,[\"solo\"])),this.name=\"Solo\";let t=L(Ht.getDefaults(),arguments,[\"solo\"]);this.input=this.output=new Ce({context:this.context}),Ht._allSolos.has(this.context)||Ht._allSolos.set(this.context,new Set),Ht._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(ge.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Ht._allSolos.get(this.context).forEach(s=\u003es._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ht._soloed.has(this.context)||Ht._soloed.set(this.context,new Set),Ht._soloed.get(this.context).add(this)}_removeSolo(){Ht._soloed.has(this.context)\u0026\u0026Ht._soloed.get(this.context).delete(this)}_isSoloed(){return Ht._soloed.has(this.context)\u0026\u0026Ht._soloed.get(this.context).has(this)}_noSolos(){return!Ht._soloed.has(this.context)||Ht._soloed.has(this.context)\u0026\u0026Ht._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ht._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ht._allSolos=new Map,Ht._soloed=new Map;class Zu extends ge{constructor(){super(L(Zu.getDefaults(),arguments,[\"pan\",\"volume\"])),this.name=\"PanVol\";let t=L(Zu.getDefaults(),arguments,[\"pan\",\"volume\"]);this._panner=this.input=new So({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new da({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Ve(this,[\"pan\",\"volume\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ki extends ge{constructor(){super(L(ki.getDefaults(),arguments,[\"volume\",\"pan\"])),this.name=\"Channel\";let t=L(ki.getDefaults(),arguments,[\"volume\",\"pan\"]);this._solo=this.input=new Ht({solo:t.solo,context:this.context}),this._panVol=this.output=new Zu({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ve(this,[\"pan\",\"volume\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return ki.buses.has(t)||ki.buses.set(t,new Ce({context:this.context})),ki.buses.get(t)}send(t,s=0){let u=this._getBus(t),h=new Ce({context:this.context,units:\"decibels\",gain:s});return this.connect(h),h.connect(u),h}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ki.buses=new Map;class Qm extends ge{constructor(){super(L(Qm.getDefaults(),arguments)),this.name=\"Mono\",this.input=new Ce({context:this.context}),this._merge=this.output=new Ua({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class Co extends ge{constructor(){super(L(Co.getDefaults(),arguments,[\"lowFrequency\",\"highFrequency\"])),this.name=\"MultibandSplit\",this.input=new Ce({context:this.context}),this.output=void 0,this.low=new Qn({context:this.context,frequency:0,type:\"lowpass\"}),this._lowMidFilter=new Qn({context:this.context,frequency:0,type:\"highpass\"}),this.mid=new Qn({context:this.context,frequency:0,type:\"lowpass\"}),this.high=new Qn({context:this.context,frequency:0,type:\"highpass\"}),this._internalChannels=[this.low,this.mid,this.high];let t=L(Co.getDefaults(),arguments,[\"lowFrequency\",\"highFrequency\"]);this.lowFrequency=new Be({context:this.context,units:\"frequency\",value:t.lowFrequency}),this.highFrequency=new Be({context:this.context,units:\"frequency\",value:t.highFrequency}),this.Q=new Be({context:this.context,units:\"positive\",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Ve(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Lu(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class v8 extends ge{constructor(){super(...arguments),this.name=\"Listener\",this.positionX=new Ye({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ye({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ye({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ye({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ye({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ye({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ye({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ye({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ye({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ge.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Yl(l=\u003e{l.listener=new v8({context:l})}),Xl(l=\u003e{l.listener.dispose()});class Wh extends ge{constructor(){super(L(Wh.getDefaults(),arguments,[\"positionX\",\"positionY\",\"positionZ\"])),this.name=\"Panner3D\";let t=L(Wh.getDefaults(),arguments,[\"positionX\",\"positionY\",\"positionZ\"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new Ye({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new Ye({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new Ye({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new Ye({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new Ye({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new Ye({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(ge.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:\"inverse\",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:\"equalpower\",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,s,u){return this.positionX.value=t,this.positionY.value=s,this.positionZ.value=u,this}setOrientation(t,s,u){return this.orientationX.value=t,this.orientationY.value=s,this.orientationZ.value=u,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class Ku extends ge{constructor(){super(L(Ku.getDefaults(),arguments)),this.name=\"Recorder\";let t=L(Ku.getDefaults(),arguments);this.input=new Ce({context:this.context}),Ee(Ku.supported,\"Media Recorder API is not available\"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return ge.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return Fa!==null\u0026\u0026Reflect.has(Fa,\"MediaRecorder\")}get state(){return this._recorder.state===\"inactive\"?\"stopped\":this._recorder.state===\"paused\"?\"paused\":\"started\"}start(){return Tt(this,void 0,void 0,function*(){Ee(this.state!==\"started\",\"Recorder is already started\");let t=new Promise(s=\u003e{let u=()=\u003e{this._recorder.removeEventListener(\"start\",u,!1),s()};this._recorder.addEventListener(\"start\",u,!1)});return this._recorder.start(),yield t})}stop(){return Tt(this,void 0,void 0,function*(){Ee(this.state!==\"stopped\",\"Recorder is not started\");let t=new Promise(s=\u003e{let u=h=\u003e{this._recorder.removeEventListener(\"dataavailable\",u,!1),s(h.data)};this._recorder.addEventListener(\"dataavailable\",u,!1)});return this._recorder.stop(),yield t})}pause(){return Ee(this.state===\"started\",\"Recorder must be started\"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class va extends ge{constructor(){super(L(va.getDefaults(),arguments,[\"threshold\",\"ratio\"])),this.name=\"Compressor\",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;let t=L(va.getDefaults(),arguments,[\"threshold\",\"ratio\"]);this.threshold=new Ye({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:\"decibels\",value:t.threshold}),this.attack=new Ye({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:\"time\",value:t.attack}),this.release=new Ye({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:\"time\",value:t.release}),this.knee=new Ye({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:\"decibels\",value:t.knee}),this.ratio=new Ye({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:\"positive\",value:t.ratio}),Ve(this,[\"knee\",\"release\",\"attack\",\"ratio\",\"threshold\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Bh extends ge{constructor(){super(Object.assign(L(Bh.getDefaults(),arguments,[\"threshold\",\"smoothing\"]))),this.name=\"Gate\";let t=L(Bh.getDefaults(),arguments,[\"threshold\",\"smoothing\"]);this._follower=new Po({context:this.context,smoothing:t.smoothing}),this._gt=new Uu({context:this.context,value:ro(t.threshold)}),this.input=new Ce({context:this.context}),this._gate=this.output=new Ce({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(ge.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return Wu(this._gt.value)}set threshold(t){this._gt.value=ro(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class zh extends ge{constructor(){super(Object.assign(L(zh.getDefaults(),arguments,[\"threshold\"]))),this.name=\"Limiter\";let t=L(zh.getDefaults(),arguments,[\"threshold\"]);this._compressor=this.input=this.output=new va({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,Ve(this,\"threshold\")}static getDefaults(){return Object.assign(ge.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Gh extends ge{constructor(){super(Object.assign(L(Gh.getDefaults(),arguments))),this.name=\"MidSideCompressor\";let t=L(Gh.getDefaults(),arguments);this._midSideSplit=this.input=new Yu({context:this.context}),this._midSideMerge=this.output=new Xu({context:this.context}),this.mid=new va(Object.assign(t.mid,{context:this.context})),this.side=new va(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Ve(this,[\"mid\",\"side\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class Uh extends ge{constructor(){super(Object.assign(L(Uh.getDefaults(),arguments))),this.name=\"MultibandCompressor\";let t=L(Uh.getDefaults(),arguments);this._splitter=this.input=new Co({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new Ce({context:this.context}),this.low=new va(Object.assign(t.low,{context:this.context})),this.mid=new va(Object.assign(t.mid,{context:this.context})),this.high=new va(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Ve(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class $h extends ge{constructor(){super(L($h.getDefaults(),arguments,[\"low\",\"mid\",\"high\"])),this.name=\"EQ3\",this.output=new Ce({context:this.context}),this._internalChannels=[];let t=L($h.getDefaults(),arguments,[\"low\",\"mid\",\"high\"]);this.input=this._multibandSplit=new Co({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new Ce({context:this.context,gain:t.low,units:\"decibels\"}),this._midGain=new Ce({context:this.context,gain:t.mid,units:\"decibels\"}),this._highGain=new Ce({context:this.context,gain:t.high,units:\"decibels\"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Ve(this,[\"low\",\"mid\",\"high\",\"lowFrequency\",\"highFrequency\"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(ge.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Lu(this,[\"low\",\"mid\",\"high\",\"lowFrequency\",\"highFrequency\"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Hh extends ge{constructor(){super(L(Hh.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"Convolver\",this._convolver=this.context.createConvolver();let t=L(Hh.getDefaults(),arguments,[\"url\",\"onload\"]);this._buffer=new lt(t.url,s=\u003e{this.buffer=s,t.onload()}),this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this._buffer.loaded\u0026\u0026(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(ge.getDefaults(),{normalize:!0,onload:it})}load(t){return Tt(this,void 0,void 0,function*(){this.buffer=yield this._buffer.load(t)})}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t\u0026\u0026this._buffer.set(t),this._convolver.buffer\u0026\u0026(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));let s=this._buffer.get();this._convolver.buffer=s||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function g8(){return At().now()}function y8(){return At().immediate()}let _8=At().transport;function b8(){return At().transport}let x8=At().destination,k8=At().destination;function N8(){return At().destination}let w8=At().listener;function q8(){return At().listener}let T8=At().draw;function M8(){return At().draw}let S8=At();function P8(){return lt.loaded()}let O8=lt,C8=oo,A8=La}])})});function Xa(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function Ei(n,e){var r=Object.create(n.prototype);for(var i in e)r[i]=e[i];return r}var hp=yt(()=\u003e{});function Na(){}function z3(){return this.rgb().formatHex()}function Ete(){return X3(this).formatHsl()}function G3(){return this.rgb().formatRgb()}function Za(n){var e,r;return n=(n+\"\").trim().toLowerCase(),(e=Mte.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?U3(e):r===3?new hn(e\u003e\u003e8\u002615|e\u003e\u003e4\u0026240,e\u003e\u003e4\u002615|e\u0026240,(e\u002615)\u003c\u003c4|e\u002615,1):r===8?dp(e\u003e\u003e24\u0026255,e\u003e\u003e16\u0026255,e\u003e\u003e8\u0026255,(e\u0026255)/255):r===4?dp(e\u003e\u003e12\u002615|e\u003e\u003e8\u0026240,e\u003e\u003e8\u002615|e\u003e\u003e4\u0026240,e\u003e\u003e4\u002615|e\u0026240,((e\u002615)\u003c\u003c4|e\u002615)/255):null):(e=Ste.exec(n))?new hn(e[1],e[2],e[3],1):(e=Pte.exec(n))?new hn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ote.exec(n))?dp(e[1],e[2],e[3],e[4]):(e=Cte.exec(n))?dp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ate.exec(n))?Y3(e[1],e[2]/100,e[3]/100,1):(e=Rte.exec(n))?Y3(e[1],e[2]/100,e[3]/100,e[4]):B3.hasOwnProperty(n)?U3(B3[n]):n===\"transparent\"?new hn(NaN,NaN,NaN,0):null}function U3(n){return new hn(n\u003e\u003e16\u0026255,n\u003e\u003e8\u0026255,n\u0026255,1)}function dp(n,e,r,i){return i\u003c=0\u0026\u0026(n=e=r=NaN),new hn(n,e,r,i)}function Sc(n){return n instanceof Na||(n=Za(n)),n?(n=n.rgb(),new hn(n.r,n.g,n.b,n.opacity)):new hn}function ks(n,e,r,i){return arguments.length===1?Sc(n):new hn(n,e,r,i??1)}function hn(n,e,r,i){this.r=+n,this.g=+e,this.b=+r,this.opacity=+i}function $3(){return\"#\"+uy(this.r)+uy(this.g)+uy(this.b)}function H3(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?\")\":\", \"+n+\")\")}function uy(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n\u003c16?\"0\":\"\")+n.toString(16)}function Y3(n,e,r,i){return i\u003c=0?n=e=r=NaN:r\u003c=0||r\u003e=1?n=e=NaN:e\u003c=0\u0026\u0026(n=NaN),new qa(n,e,r,i)}function X3(n){if(n instanceof qa)return new qa(n.h,n.s,n.l,n.opacity);if(n instanceof Na||(n=Za(n)),!n)return new qa;if(n instanceof qa)return n;n=n.rgb();var e=n.r/255,r=n.g/255,i=n.b/255,o=Math.min(e,r,i),c=Math.max(e,r,i),d=NaN,p=c-o,g=(c+o)/2;return p?(e===c?d=(r-i)/p+(r\u003ci)*6:r===c?d=(i-e)/p+2:d=(e-r)/p+4,p/=g\u003c.5?c+o:2-c-o,d*=60):p=g\u003e0\u0026\u0026g\u003c1?0:d,new qa(d,p,g,n.opacity)}function Zo(n,e,r,i){return arguments.length===1?X3(n):new qa(n,e,r,i??1)}function qa(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}function cy(n,e,r){return(n\u003c60?e+(r-e)*n/60:n\u003c180?r:n\u003c240?e+(r-e)*(240-n)/60:e)*255}var ji,xs,Xo,Mc,wa,Mte,Ste,Pte,Ote,Cte,Ate,Rte,B3,pp=yt(()=\u003e{hp();ji=.7,xs=1/ji,Xo=\"\\\\s*([+-]?\\\\d+)\\\\s*\",Mc=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",wa=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",Mte=/^#([0-9a-f]{3,8})$/,Ste=new RegExp(\"^rgb\\\\(\"+[Xo,Xo,Xo]+\"\\\\)$\"),Pte=new RegExp(\"^rgb\\\\(\"+[wa,wa,wa]+\"\\\\)$\"),Ote=new RegExp(\"^rgba\\\\(\"+[Xo,Xo,Xo,Mc]+\"\\\\)$\"),Cte=new RegExp(\"^rgba\\\\(\"+[wa,wa,wa,Mc]+\"\\\\)$\"),Ate=new RegExp(\"^hsl\\\\(\"+[Mc,wa,wa]+\"\\\\)$\"),Rte=new RegExp(\"^hsla\\\\(\"+[Mc,wa,wa,Mc]+\"\\\\)$\"),B3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xa(Na,Za,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:z3,formatHex:z3,formatHsl:Ete,formatRgb:G3,toString:G3});Xa(hn,ks,Ei(Na,{brighter:function(n){return n=n==null?xs:Math.pow(xs,n),new hn(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=n==null?ji:Math.pow(ji,n),new hn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5\u003c=this.r\u0026\u0026this.r\u003c255.5\u0026\u0026-.5\u003c=this.g\u0026\u0026this.g\u003c255.5\u0026\u0026-.5\u003c=this.b\u0026\u0026this.b\u003c255.5\u0026\u00260\u003c=this.opacity\u0026\u0026this.opacity\u003c=1},hex:$3,formatHex:$3,formatRgb:H3,toString:H3}));Xa(qa,Zo,Ei(Na,{brighter:function(n){return n=n==null?xs:Math.pow(xs,n),new qa(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?ji:Math.pow(ji,n),new qa(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+(this.h\u003c0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r\u003c.5?r:1-r)*e,o=2*r-i;return new hn(cy(n\u003e=240?n-240:n+120,o,i),cy(n,o,i),cy(n\u003c120?n+240:n-120,o,i),this.opacity)},displayable:function(){return(0\u003c=this.s\u0026\u0026this.s\u003c=1||isNaN(this.s))\u0026\u00260\u003c=this.l\u0026\u0026this.l\u003c=1\u0026\u00260\u003c=this.opacity\u0026\u0026this.opacity\u003c=1},formatHsl:function(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+(this.s||0)*100+\"%, \"+(this.l||0)*100+\"%\"+(n===1?\")\":\", \"+n+\")\")}}))});var fp,mp,ly=yt(()=\u003e{fp=Math.PI/180,mp=180/Math.PI});function tC(n){if(n instanceof ea)return new ea(n.l,n.a,n.b,n.opacity);if(n instanceof Ta)return iC(n);n instanceof hn||(n=Sc(n));var e=fy(n.r),r=fy(n.g),i=fy(n.b),o=hy((.2225045*e+.7168786*r+.0606169*i)/K3),c,d;return e===r\u0026\u0026r===i?c=d=o:(c=hy((.4360747*e+.3850649*r+.1430804*i)/Z3),d=hy((.0139322*e+.0971045*r+.7141733*i)/Q3)),new ea(116*o-16,500*(c-o),200*(o-d),n.opacity)}function nC(n,e){return new ea(n,0,0,e??1)}function Ns(n,e,r,i){return arguments.length===1?tC(n):new ea(n,e,r,i??1)}function ea(n,e,r,i){this.l=+n,this.a=+e,this.b=+r,this.opacity=+i}function hy(n){return n\u003ejte?Math.pow(n,1/3):n/eC+J3}function dy(n){return n\u003eKo?n*n*n:eC*(n-J3)}function py(n){return 255*(n\u003c=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function fy(n){return(n/=255)\u003c=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function rC(n){if(n instanceof Ta)return new Ta(n.h,n.c,n.l,n.opacity);if(n instanceof ea||(n=tC(n)),n.a===0\u0026\u0026n.b===0)return new Ta(NaN,0\u003cn.l\u0026\u0026n.l\u003c100?0:NaN,n.l,n.opacity);var e=Math.atan2(n.b,n.a)*mp;return new Ta(e\u003c0?e+360:e,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function aC(n,e,r,i){return arguments.length===1?rC(n):new Ta(r,e,n,i??1)}function Qo(n,e,r,i){return arguments.length===1?rC(n):new Ta(n,e,r,i??1)}function Ta(n,e,r,i){this.h=+n,this.c=+e,this.l=+r,this.opacity=+i}function iC(n){if(isNaN(n.h))return new ea(n.l,0,0,n.opacity);var e=n.h*fp;return new ea(n.l,Math.cos(e)*n.c,Math.sin(e)*n.c,n.opacity)}var vp,Z3,K3,Q3,J3,Ko,eC,jte,sC=yt(()=\u003e{hp();pp();ly();vp=18,Z3=.96422,K3=1,Q3=.82521,J3=4/29,Ko=6/29,eC=3*Ko*Ko,jte=Ko*Ko*Ko;Xa(ea,Ns,Ei(Na,{brighter:function(n){return new ea(this.l+vp*(n??1),this.a,this.b,this.opacity)},darker:function(n){return new ea(this.l-vp*(n??1),this.a,this.b,this.opacity)},rgb:function(){var n=(this.l+16)/116,e=isNaN(this.a)?n:n+this.a/500,r=isNaN(this.b)?n:n-this.b/200;return e=Z3*dy(e),n=K3*dy(n),r=Q3*dy(r),new hn(py(3.1338561*e-1.6168667*n-.4906146*r),py(-.9787684*e+1.9161415*n+.033454*r),py(.0719453*e-.2289914*n+1.4052427*r),this.opacity)}}));Xa(Ta,Qo,Ei(Na,{brighter:function(n){return new Ta(this.h,this.c,this.l+vp*(n??1),this.opacity)},darker:function(n){return new Ta(this.h,this.c,this.l-vp*(n??1),this.opacity)},rgb:function(){return iC(this).rgb()}}))});function Dte(n){if(n instanceof qs)return new qs(n.h,n.s,n.l,n.opacity);n instanceof hn||(n=Sc(n));var e=n.r/255,r=n.g/255,i=n.b/255,o=(lC*i+uC*e-cC*r)/(lC+uC-cC),c=i-o,d=(Pc*(r-o)-vy*c)/gp,p=Math.sqrt(d*d+c*c)/(Pc*o*(1-o)),g=p?Math.atan2(d,c)*mp-120:NaN;return new qs(g\u003c0?g+360:g,p,o,n.opacity)}function ws(n,e,r,i){return arguments.length===1?Dte(n):new qs(n,e,r,i??1)}function qs(n,e,r,i){this.h=+n,this.s=+e,this.l=+r,this.opacity=+i}var oC,my,vy,gp,Pc,uC,cC,lC,hC=yt(()=\u003e{hp();pp();ly();oC=-.14861,my=1.78277,vy=-.29227,gp=-.90649,Pc=1.97294,uC=Pc*gp,cC=Pc*my,lC=my*vy-gp*oC;Xa(qs,ws,Ei(Na,{brighter:function(n){return n=n==null?xs:Math.pow(xs,n),new qs(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?ji:Math.pow(ji,n),new qs(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=isNaN(this.h)?0:(this.h+120)*fp,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(n),o=Math.sin(n);return new hn(255*(e+r*(oC*i+my*o)),255*(e+r*(vy*i+gp*o)),255*(e+r*(Pc*i)),this.opacity)}}))});var dC={};Jm(dC,{color:()=\u003eZa,cubehelix:()=\u003ews,gray:()=\u003enC,hcl:()=\u003eQo,hsl:()=\u003eZo,lab:()=\u003eNs,lch:()=\u003eaC,rgb:()=\u003eks});var Di=yt(()=\u003e{pp();sC();hC()});function gy(n,e,r,i,o){var c=n*n,d=c*n;return((1-3*n+3*c-d)*e+(4-6*c+3*d)*r+(1+3*n+3*c-3*d)*i+d*o)/6}function yp(n){var e=n.length-1;return function(r){var i=r\u003c=0?r=0:r\u003e=1?(r=1,e-1):Math.floor(r*e),o=n[i],c=n[i+1],d=i\u003e0?n[i-1]:2*o-c,p=i\u003ce-1?n[i+2]:2*c-o;return gy((r-i/e)*e,d,o,c,p)}}var _p=yt(()=\u003e{});function bp(n){var e=n.length;return function(r){var i=Math.floor(((r%=1)\u003c0?++r:r)*e),o=n[(i+e-1)%e],c=n[i%e],d=n[(i+1)%e],p=n[(i+2)%e];return gy((r-i/e)*e,o,c,d,p)}}var yy=yt(()=\u003e{_p()});var Jo,_y=yt(()=\u003e{Jo=n=\u003e()=\u003en});function pC(n,e){return function(r){return n+r*e}}function Ite(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(i){return Math.pow(n+i*e,r)}}function Ii(n,e){var r=e-n;return r?pC(n,r\u003e180||r\u003c-180?r-360*Math.round(r/360):r):Jo(isNaN(n)?e:n)}function fC(n){return(n=+n)==1?Lt:function(e,r){return r-e?Ite(e,r,n):Jo(isNaN(e)?r:e)}}function Lt(n,e){var r=e-n;return r?pC(n,r):Jo(isNaN(n)?e:n)}var Ts=yt(()=\u003e{_y()});function mC(n){return function(e){var r=e.length,i=new Array(r),o=new Array(r),c=new Array(r),d,p;for(d=0;d\u003cr;++d)p=ks(e[d]),i[d]=p.r||0,o[d]=p.g||0,c[d]=p.b||0;return i=n(i),o=n(o),c=n(c),p.opacity=1,function(g){return p.r=i(g),p.g=o(g),p.b=c(g),p+\"\"}}}var Oc,vC,gC,by=yt(()=\u003e{Di();_p();yy();Ts();Oc=function n(e){var r=fC(e);function i(o,c){var d=r((o=ks(o)).r,(c=ks(c)).r),p=r(o.g,c.g),g=r(o.b,c.b),_=Lt(o.opacity,c.opacity);return function(k){return o.r=d(k),o.g=p(k),o.b=g(k),o.opacity=_(k),o+\"\"}}return i.gamma=n,i}(1);vC=mC(yp),gC=mC(bp)});function eu(n,e){e||(e=[]);var r=n?Math.min(e.length,n.length):0,i=e.slice(),o;return function(c){for(o=0;o\u003cr;++o)i[o]=n[o]*(1-c)+e[o]*c;return i}}function xp(n){return ArrayBuffer.isView(n)\u0026\u0026!(n instanceof DataView)}var kp=yt(()=\u003e{});function yC(n,e){return(xp(e)?eu:xy)(n,e)}function xy(n,e){var r=e?e.length:0,i=n?Math.min(r,n.length):0,o=new Array(i),c=new Array(r),d;for(d=0;d\u003ci;++d)o[d]=Ma(n[d],e[d]);for(;d\u003cr;++d)c[d]=e[d];return function(p){for(d=0;d\u003ci;++d)c[d]=o[d](p);return c}}var ky=yt(()=\u003e{Cc();kp()});function Np(n,e){var r=new Date;return n=+n,e=+e,function(i){return r.setTime(n*(1-i)+e*i),r}}var Ny=yt(()=\u003e{});function Fn(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}var Ac=yt(()=\u003e{});function wp(n,e){var r={},i={},o;(n===null||typeof n!=\"object\")\u0026\u0026(n={}),(e===null||typeof e!=\"object\")\u0026\u0026(e={});for(o in e)o in n?r[o]=Ma(n[o],e[o]):i[o]=e[o];return function(c){for(o in r)i[o]=r[o](c);return i}}var wy=yt(()=\u003e{Cc()});function Fte(n){return function(){return n}}function Vte(n){return function(e){return n(e)+\"\"}}function qp(n,e){var r=qy.lastIndex=Ty.lastIndex=0,i,o,c,d=-1,p=[],g=[];for(n=n+\"\",e=e+\"\";(i=qy.exec(n))\u0026\u0026(o=Ty.exec(e));)(c=o.index)\u003er\u0026\u0026(c=e.slice(r,c),p[d]?p[d]+=c:p[++d]=c),(i=i[0])===(o=o[0])?p[d]?p[d]+=o:p[++d]=o:(p[++d]=null,g.push({i:d,x:Fn(i,o)})),r=Ty.lastIndex;return r\u003ce.length\u0026\u0026(c=e.slice(r),p[d]?p[d]+=c:p[++d]=c),p.length\u003c2?g[0]?Vte(g[0].x):Fte(e):(e=g.length,function(_){for(var k=0,x;k\u003ce;++k)p[(x=g[k]).i]=x.x(_);return p.join(\"\")})}var qy,Ty,My=yt(()=\u003e{Ac();qy=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Ty=new RegExp(qy.source,\"g\")});function Ma(n,e){var r=typeof e,i;return e==null||r===\"boolean\"?Jo(e):(r===\"number\"?Fn:r===\"string\"?(i=Za(e))?(e=i,Oc):qp:e instanceof Za?Oc:e instanceof Date?Np:xp(e)?eu:Array.isArray(e)?xy:typeof e.valueOf!=\"function\"\u0026\u0026typeof e.toString!=\"function\"||isNaN(e)?wp:Fn)(n,e)}var Cc=yt(()=\u003e{Di();by();ky();Ny();Ac();wy();My();_y();kp()});function _C(n){var e=n.length;return function(r){return n[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}var bC=yt(()=\u003e{});function xC(n,e){var r=Ii(+n,+e);return function(i){var o=r(i);return o-360*Math.floor(o/360)}}var kC=yt(()=\u003e{Ts()});function Tp(n,e){return n=+n,e=+e,function(r){return Math.round(n*(1-r)+e*r)}}var NC=yt(()=\u003e{});function Sy(n,e,r,i,o,c){var d,p,g;return(d=Math.sqrt(n*n+e*e))\u0026\u0026(n/=d,e/=d),(g=n*r+e*i)\u0026\u0026(r-=n*g,i-=e*g),(p=Math.sqrt(r*r+i*i))\u0026\u0026(r/=p,i/=p,g/=p),n*i\u003ce*r\u0026\u0026(n=-n,e=-e,g=-g,d=-d),{translateX:o,translateY:c,rotate:Math.atan2(e,n)*wC,skewX:Math.atan(g)*wC,scaleX:d,scaleY:p}}var wC,Mp,qC=yt(()=\u003e{wC=180/Math.PI,Mp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function TC(n){let e=new(typeof DOMMatrix==\"function\"?DOMMatrix:WebKitCSSMatrix)(n+\"\");return e.isIdentity?Mp:Sy(e.a,e.b,e.c,e.d,e.e,e.f)}function MC(n){return n==null?Mp:(Sp||(Sp=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),Sp.setAttribute(\"transform\",n),(n=Sp.transform.baseVal.consolidate())?(n=n.matrix,Sy(n.a,n.b,n.c,n.d,n.e,n.f)):Mp)}var Sp,SC=yt(()=\u003e{qC()});function PC(n,e,r,i){function o(_){return _.length?_.pop()+\" \":\"\"}function c(_,k,x,q,V,P){if(_!==x||k!==q){var W=V.push(\"translate(\",null,e,null,r);P.push({i:W-4,x:Fn(_,x)},{i:W-2,x:Fn(k,q)})}else(x||q)\u0026\u0026V.push(\"translate(\"+x+e+q+r)}function d(_,k,x,q){_!==k?(_-k\u003e180?k+=360:k-_\u003e180\u0026\u0026(_+=360),q.push({i:x.push(o(x)+\"rotate(\",null,i)-2,x:Fn(_,k)})):k\u0026\u0026x.push(o(x)+\"rotate(\"+k+i)}function p(_,k,x,q){_!==k?q.push({i:x.push(o(x)+\"skewX(\",null,i)-2,x:Fn(_,k)}):k\u0026\u0026x.push(o(x)+\"skewX(\"+k+i)}function g(_,k,x,q,V,P){if(_!==x||k!==q){var W=V.push(o(V)+\"scale(\",null,\",\",null,\")\");P.push({i:W-4,x:Fn(_,x)},{i:W-2,x:Fn(k,q)})}else(x!==1||q!==1)\u0026\u0026V.push(o(V)+\"scale(\"+x+\",\"+q+\")\")}return function(_,k){var x=[],q=[];return _=n(_),k=n(k),c(_.translateX,_.translateY,k.translateX,k.translateY,x,q),d(_.rotate,k.rotate,x,q),p(_.skewX,k.skewX,x,q),g(_.scaleX,_.scaleY,k.scaleX,k.scaleY,x,q),_=k=null,function(V){for(var P=-1,W=q.length,K;++P\u003cW;)x[(K=q[P]).i]=K.x(V);return x.join(\"\")}}}var OC,CC,AC=yt(()=\u003e{Ac();SC();OC=PC(TC,\"px, \",\"px)\",\"deg)\"),CC=PC(MC,\", \",\")\",\")\")});function RC(n){return((n=Math.exp(n))+1/n)/2}function Wte(n){return((n=Math.exp(n))-1/n)/2}function Bte(n){return((n=Math.exp(2*n))-1)/(n+1)}var Lte,EC,jC=yt(()=\u003e{Lte=1e-12;EC=function n(e,r,i){function o(c,d){var p=c[0],g=c[1],_=c[2],k=d[0],x=d[1],q=d[2],V=k-p,P=x-g,W=V*V+P*P,K,J;if(W\u003cLte)J=Math.log(q/_)/e,K=function(U){return[p+U*V,g+U*P,_*Math.exp(e*U*J)]};else{var X=Math.sqrt(W),oe=(q*q-_*_+i*W)/(2*_*r*X),G=(q*q-_*_-i*W)/(2*q*r*X),R=Math.log(Math.sqrt(oe*oe+1)-oe),$=Math.log(Math.sqrt(G*G+1)-G);J=($-R)/e,K=function(U){var te=U*J,ie=RC(R),be=_/(r*X)*(ie*Bte(e*te+R)-Wte(R));return[p+be*V,g+be*P,_*ie/RC(e*te+R)]}}return K.duration=J*1e3*e/Math.SQRT2,K}return o.rho=function(c){var d=Math.max(.001,+c),p=d*d,g=p*p;return n(d,p,g)},o}(Math.SQRT2,2,4)});function DC(n){return function(e,r){var i=n((e=Zo(e)).h,(r=Zo(r)).h),o=Lt(e.s,r.s),c=Lt(e.l,r.l),d=Lt(e.opacity,r.opacity);return function(p){return e.h=i(p),e.s=o(p),e.l=c(p),e.opacity=d(p),e+\"\"}}}var IC,FC,VC=yt(()=\u003e{Di();Ts();IC=DC(Ii),FC=DC(Lt)});function Py(n,e){var r=Lt((n=Ns(n)).l,(e=Ns(e)).l),i=Lt(n.a,e.a),o=Lt(n.b,e.b),c=Lt(n.opacity,e.opacity);return function(d){return n.l=r(d),n.a=i(d),n.b=o(d),n.opacity=c(d),n+\"\"}}var LC=yt(()=\u003e{Di();Ts()});function WC(n){return function(e,r){var i=n((e=Qo(e)).h,(r=Qo(r)).h),o=Lt(e.c,r.c),c=Lt(e.l,r.l),d=Lt(e.opacity,r.opacity);return function(p){return e.h=i(p),e.c=o(p),e.l=c(p),e.opacity=d(p),e+\"\"}}}var BC,zC,GC=yt(()=\u003e{Di();Ts();BC=WC(Ii),zC=WC(Lt)});function UC(n){return function e(r){r=+r;function i(o,c){var d=n((o=ws(o)).h,(c=ws(c)).h),p=Lt(o.s,c.s),g=Lt(o.l,c.l),_=Lt(o.opacity,c.opacity);return function(k){return o.h=d(k),o.s=p(k),o.l=g(Math.pow(k,r)),o.opacity=_(k),o+\"\"}}return i.gamma=e,i}(1)}var $C,HC,YC=yt(()=\u003e{Di();Ts();$C=UC(Ii),HC=UC(Lt)});function Oy(n,e){e===void 0\u0026\u0026(e=n,n=Ma);for(var r=0,i=e.length-1,o=e[0],c=new Array(i\u003c0?0:i);r\u003ci;)c[r]=n(o,o=e[++r]);return function(d){var p=Math.max(0,Math.min(i-1,Math.floor(d*=i)));return c[p](d-p)}}var XC=yt(()=\u003e{Cc()});function ZC(n,e){for(var r=new Array(e),i=0;i\u003ce;++i)r[i]=n(i/(e-1));return r}var KC=yt(()=\u003e{});var QC={};Jm(QC,{interpolate:()=\u003eMa,interpolateArray:()=\u003eyC,interpolateBasis:()=\u003eyp,interpolateBasisClosed:()=\u003ebp,interpolateCubehelix:()=\u003e$C,interpolateCubehelixLong:()=\u003eHC,interpolateDate:()=\u003eNp,interpolateDiscrete:()=\u003e_C,interpolateHcl:()=\u003eBC,interpolateHclLong:()=\u003ezC,interpolateHsl:()=\u003eIC,interpolateHslLong:()=\u003eFC,interpolateHue:()=\u003exC,interpolateLab:()=\u003ePy,interpolateNumber:()=\u003eFn,interpolateNumberArray:()=\u003eeu,interpolateObject:()=\u003ewp,interpolateRgb:()=\u003eOc,interpolateRgbBasis:()=\u003evC,interpolateRgbBasisClosed:()=\u003egC,interpolateRound:()=\u003eTp,interpolateString:()=\u003eqp,interpolateTransformCss:()=\u003eOC,interpolateTransformSvg:()=\u003eCC,interpolateZoom:()=\u003eEC,piecewise:()=\u003eOy,quantize:()=\u003eZC});var Cy=yt(()=\u003e{Cc();ky();_p();yy();Ny();bC();kC();Ac();kp();wy();NC();My();AC();jC();by();VC();LC();GC();YC();XC();KC()});var Uy=v((Ep,hA)=\u003e{(function(n,e){typeof Ep==\"object\"\u0026\u0026typeof hA!=\"undefined\"?e(Ep,(Cy(),QC),(Di(),dC)):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"d3-interpolate\",\"d3-color\"],e):(n=n||self,e(n.d3=n.d3||{},n.d3,n.d3))})(Ep,function(n,e,r){\"use strict\";function i(Re){for(var zt=Re.length/6|0,ts=new Array(zt),_t=0;_t\u003czt;)ts[_t]=\"#\"+Re.slice(_t*6,++_t*6);return ts}var o=i(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\"),c=i(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\"),d=i(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\"),p=i(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\"),g=i(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\"),_=i(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\"),k=i(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\"),x=i(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\"),q=i(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\"),V=i(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\"),P=Re=\u003ee.interpolateRgbBasis(Re[Re.length-1]),W=new Array(3).concat(\"d8b365f5f5f55ab4ac\",\"a6611adfc27d80cdc1018571\",\"a6611adfc27df5f5f580cdc1018571\",\"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\").map(i),K=P(W),J=new Array(3).concat(\"af8dc3f7f7f77fbf7b\",\"7b3294c2a5cfa6dba0008837\",\"7b3294c2a5cff7f7f7a6dba0008837\",\"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\").map(i),X=P(J),oe=new Array(3).concat(\"e9a3c9f7f7f7a1d76a\",\"d01c8bf1b6dab8e1864dac26\",\"d01c8bf1b6daf7f7f7b8e1864dac26\",\"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\").map(i),G=P(oe),R=new Array(3).concat(\"998ec3f7f7f7f1a340\",\"5e3c99b2abd2fdb863e66101\",\"5e3c99b2abd2f7f7f7fdb863e66101\",\"542788998ec3d8daebfee0b6f1a340b35806\",\"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\").map(i),$=P(R),U=new Array(3).concat(\"ef8a62f7f7f767a9cf\",\"ca0020f4a58292c5de0571b0\",\"ca0020f4a582f7f7f792c5de0571b0\",\"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\").map(i),te=P(U),ie=new Array(3).concat(\"ef8a62ffffff999999\",\"ca0020f4a582bababa404040\",\"ca0020f4a582ffffffbababa404040\",\"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\").map(i),be=P(ie),Ne=new Array(3).concat(\"fc8d59ffffbf91bfdb\",\"d7191cfdae61abd9e92c7bb6\",\"d7191cfdae61ffffbfabd9e92c7bb6\",\"d73027fc8d59fee090e0f3f891bfdb4575b4\",\"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\").map(i),Ae=P(Ne),ze=new Array(3).concat(\"fc8d59ffffbf91cf60\",\"d7191cfdae61a6d96a1a9641\",\"d7191cfdae61ffffbfa6d96a1a9641\",\"d73027fc8d59fee08bd9ef8b91cf601a9850\",\"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\").map(i),$e=P(ze),Y=new Array(3).concat(\"fc8d59ffffbf99d594\",\"d7191cfdae61abdda42b83ba\",\"d7191cfdae61ffffbfabdda42b83ba\",\"d53e4ffc8d59fee08be6f59899d5943288bd\",\"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\").map(i),ue=P(Y),le=new Array(3).concat(\"e5f5f999d8c92ca25f\",\"edf8fbb2e2e266c2a4238b45\",\"edf8fbb2e2e266c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\").map(i),ce=P(le),ye=new Array(3).concat(\"e0ecf49ebcda8856a7\",\"edf8fbb3cde38c96c688419d\",\"edf8fbb3cde38c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\").map(i),me=P(ye),je=new Array(3).concat(\"e0f3dba8ddb543a2ca\",\"f0f9e8bae4bc7bccc42b8cbe\",\"f0f9e8bae4bc7bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\").map(i),Je=P(je),ft=new Array(3).concat(\"fee8c8fdbb84e34a33\",\"fef0d9fdcc8afc8d59d7301f\",\"fef0d9fdcc8afc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\").map(i),de=P(ft),xe=new Array(3).concat(\"ece2f0a6bddb1c9099\",\"f6eff7bdc9e167a9cf02818a\",\"f6eff7bdc9e167a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\").map(i),Oe=P(xe),Ge=new Array(3).concat(\"ece7f2a6bddb2b8cbe\",\"f1eef6bdc9e174a9cf0570b0\",\"f1eef6bdc9e174a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\").map(i),Pe=P(Ge),Se=new Array(3).concat(\"e7e1efc994c7dd1c77\",\"f1eef6d7b5d8df65b0ce1256\",\"f1eef6d7b5d8df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\").map(i),nt=P(Se),ct=new Array(3).concat(\"fde0ddfa9fb5c51b8a\",\"feebe2fbb4b9f768a1ae017e\",\"feebe2fbb4b9f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\").map(i),Gt=P(ct),fn=new Array(3).concat(\"edf8b17fcdbb2c7fb8\",\"ffffcca1dab441b6c4225ea8\",\"ffffcca1dab441b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\").map(i),Ot=P(fn),mn=new Array(3).concat(\"f7fcb9addd8e31a354\",\"ffffccc2e69978c679238443\",\"ffffccc2e69978c67931a354006837\",\"ffffccd9f0a3addd8e78c67931a354006837\",\"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\").map(i),wn=P(mn),Un=new Array(3).concat(\"fff7bcfec44fd95f0e\",\"ffffd4fed98efe9929cc4c02\",\"ffffd4fed98efe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\").map(i),$n=P(Un),Hn=new Array(3).concat(\"ffeda0feb24cf03b20\",\"ffffb2fecc5cfd8d3ce31a1c\",\"ffffb2fecc5cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\").map(i),mt=P(Hn),jn=new Array(3).concat(\"deebf79ecae13182bd\",\"eff3ffbdd7e76baed62171b5\",\"eff3ffbdd7e76baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\").map(i),Dn=P(jn),Wr=new Array(3).concat(\"e5f5e0a1d99b31a354\",\"edf8e9bae4b374c476238b45\",\"edf8e9bae4b374c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\").map(i),sa=P(Wr),Tr=new Array(3).concat(\"f0f0f0bdbdbd636363\",\"f7f7f7cccccc969696525252\",\"f7f7f7cccccc969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\").map(i),Br=P(Tr),si=new Array(3).concat(\"efedf5bcbddc756bb1\",\"f2f0f7cbc9e29e9ac86a51a3\",\"f2f0f7cbc9e29e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\").map(i),hr=P(si),Yn=new Array(3).concat(\"fee0d2fc9272de2d26\",\"fee5d9fcae91fb6a4acb181d\",\"fee5d9fcae91fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\").map(i),oi=P(Yn),Ea=new Array(3).concat(\"fee6cefdae6be6550d\",\"feeddefdbe85fd8d3cd94701\",\"feeddefdbe85fd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\").map(i),oa=P(Ea);function ja(Re){return Re=Math.max(0,Math.min(1,Re)),\"rgb(\"+Math.max(0,Math.min(255,Math.round(-4.54-Re*(35.34-Re*(2381.73-Re*(6402.7-Re*(7024.72-Re*2710.57)))))))+\", \"+Math.max(0,Math.min(255,Math.round(32.49+Re*(170.73+Re*(52.82-Re*(131.46-Re*(176.58-Re*67.37)))))))+\", \"+Math.max(0,Math.min(255,Math.round(81.24+Re*(442.36-Re*(2482.43-Re*(6167.24-Re*(6614.94-Re*2475.67)))))))+\")\"}var ua=e.interpolateCubehelixLong(r.cubehelix(300,.5,0),r.cubehelix(-240,.5,1)),es=e.interpolateCubehelixLong(r.cubehelix(-100,.75,.35),r.cubehelix(80,1.5,.8)),ui=e.interpolateCubehelixLong(r.cubehelix(260,.75,.35),r.cubehelix(80,1.5,.8)),He=r.cubehelix();function zr(Re){(Re\u003c0||Re\u003e1)\u0026\u0026(Re-=Math.floor(Re));var zt=Math.abs(Re-.5);return He.h=360*Re-100,He.s=1.5-1.5*zt,He.l=.8-.9*zt,He+\"\"}var ca=r.rgb(),ci=Math.PI/3,li=Math.PI*2/3;function hi(Re){var zt;return Re=(.5-Re)*Math.PI,ca.r=255*(zt=Math.sin(Re))*zt,ca.g=255*(zt=Math.sin(Re+ci))*zt,ca.b=255*(zt=Math.sin(Re+li))*zt,ca+\"\"}function Us(Re){return Re=Math.max(0,Math.min(1,Re)),\"rgb(\"+Math.max(0,Math.min(255,Math.round(34.61+Re*(1172.33-Re*(10793.56-Re*(33300.12-Re*(38394.49-Re*14825.05)))))))+\", \"+Math.max(0,Math.min(255,Math.round(23.31+Re*(557.33+Re*(1225.33-Re*(3574.96-Re*(1073.77+Re*707.56)))))))+\", \"+Math.max(0,Math.min(255,Math.round(27.2+Re*(3211.1-Re*(15327.97-Re*(27814-Re*(22569.18-Re*6838.66)))))))+\")\"}function di(Re){var zt=Re.length;return function(ts){return Re[Math.max(0,Math.min(zt-1,Math.floor(ts*zt)))]}}var It=di(i(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\")),pi=di(i(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\")),Eu=di(i(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\")),$s=di(i(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));n.interpolateBlues=Dn,n.interpolateBrBG=K,n.interpolateBuGn=ce,n.interpolateBuPu=me,n.interpolateCividis=ja,n.interpolateCool=ui,n.interpolateCubehelixDefault=ua,n.interpolateGnBu=Je,n.interpolateGreens=sa,n.interpolateGreys=Br,n.interpolateInferno=Eu,n.interpolateMagma=pi,n.interpolateOrRd=de,n.interpolateOranges=oa,n.interpolatePRGn=X,n.interpolatePiYG=G,n.interpolatePlasma=$s,n.interpolatePuBu=Pe,n.interpolatePuBuGn=Oe,n.interpolatePuOr=$,n.interpolatePuRd=nt,n.interpolatePurples=hr,n.interpolateRainbow=zr,n.interpolateRdBu=te,n.interpolateRdGy=be,n.interpolateRdPu=Gt,n.interpolateRdYlBu=Ae,n.interpolateRdYlGn=$e,n.interpolateReds=oi,n.interpolateSinebow=hi,n.interpolateSpectral=ue,n.interpolateTurbo=Us,n.interpolateViridis=It,n.interpolateWarm=es,n.interpolateYlGn=wn,n.interpolateYlGnBu=Ot,n.interpolateYlOrBr=$n,n.interpolateYlOrRd=mt,n.schemeAccent=c,n.schemeBlues=jn,n.schemeBrBG=W,n.schemeBuGn=le,n.schemeBuPu=ye,n.schemeCategory10=o,n.schemeDark2=d,n.schemeGnBu=je,n.schemeGreens=Wr,n.schemeGreys=Tr,n.schemeOrRd=ft,n.schemeOranges=Ea,n.schemePRGn=J,n.schemePaired=p,n.schemePastel1=g,n.schemePastel2=_,n.schemePiYG=oe,n.schemePuBu=Ge,n.schemePuBuGn=xe,n.schemePuOr=R,n.schemePuRd=Se,n.schemePurples=si,n.schemeRdBu=U,n.schemeRdGy=ie,n.schemeRdPu=ct,n.schemeRdYlBu=Ne,n.schemeRdYlGn=ze,n.schemeReds=Yn,n.schemeSet1=k,n.schemeSet2=x,n.schemeSet3=q,n.schemeSpectral=Y,n.schemeTableau10=V,n.schemeYlGn=mn,n.schemeYlGnBu=fn,n.schemeYlOrBr=Un,n.schemeYlOrRd=Hn,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Me=v((wxe,Rc)=\u003e{function Zte(n){return n\u0026\u0026n.__esModule?n:{default:n}}Rc.exports=Zte;Rc.exports.default=Rc.exports,Rc.exports.__esModule=!0});var au=v((qxe,xr)=\u003e{function jp(n){return typeof Symbol==\"function\"\u0026\u0026typeof Symbol.iterator==\"symbol\"?(xr.exports=jp=function(r){return typeof r},xr.exports.default=xr.exports,xr.exports.__esModule=!0):(xr.exports=jp=function(r){return r\u0026\u0026typeof Symbol==\"function\"\u0026\u0026r.constructor===Symbol\u0026\u0026r!==Symbol.prototype?\"symbol\":typeof r},xr.exports.default=xr.exports,xr.exports.__esModule=!0),jp(n)}xr.exports=jp;xr.exports.default=xr.exports,xr.exports.__esModule=!0});var sn=v((Txe,Ec)=\u003e{var Kte=au().default;function pA(n){if(typeof WeakMap!=\"function\")return null;var e=new WeakMap,r=new WeakMap;return(pA=function(o){return o?r:e})(n)}function Qte(n,e){if(!e\u0026\u0026n\u0026\u0026n.__esModule)return n;if(n===null||Kte(n)!==\"object\"\u0026\u0026typeof n!=\"function\")return{default:n};var r=pA(e);if(r\u0026\u0026r.has(n))return r.get(n);var i={},o=Object.defineProperty\u0026\u0026Object.getOwnPropertyDescriptor;for(var c in n)if(c!==\"default\"\u0026\u0026Object.prototype.hasOwnProperty.call(n,c)){var d=o?Object.getOwnPropertyDescriptor(n,c):null;d\u0026\u0026(d.get||d.set)?Object.defineProperty(i,c,d):i[c]=n[c]}return i.default=n,r\u0026\u0026r.set(n,i),i}Ec.exports=Qte;Ec.exports.default=Ec.exports,Ec.exports.__esModule=!0});var Hy=v((Mxe,jc)=\u003e{function Jte(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,c;for(c=0;c\u003ci.length;c++)o=i[c],!(e.indexOf(o)\u003e=0)\u0026\u0026(r[o]=n[o]);return r}jc.exports=Jte;jc.exports.default=jc.exports,jc.exports.__esModule=!0});var Vn=v((Sxe,Dc)=\u003e{var ene=Hy();function tne(n,e){if(n==null)return{};var r=ene(n,e),i,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o\u003cc.length;o++)i=c[o],!(e.indexOf(i)\u003e=0)\u0026\u0026(!Object.prototype.propertyIsEnumerable.call(n,i)||(r[i]=n[i]))}return r}Dc.exports=tne;Dc.exports.default=Dc.exports,Dc.exports.__esModule=!0});var xt=v((Pxe,Ka)=\u003e{function Yy(){return Ka.exports=Yy=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)\u0026\u0026(n[i]=r[i])}return n},Ka.exports.default=Ka.exports,Ka.exports.__esModule=!0,Yy.apply(this,arguments)}Ka.exports=Yy;Ka.exports.default=Ka.exports,Ka.exports.__esModule=!0});var mA=v((Oxe,fA)=\u003e{\"use strict\";var nne=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\";fA.exports=nne});var _A=v((Cxe,yA)=\u003e{\"use strict\";var rne=mA();function vA(){}function gA(){}gA.resetWarningCache=vA;yA.exports=function(){function n(i,o,c,d,p,g){if(g!==rne){var _=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw _.name=\"Invariant Violation\",_}}n.isRequired=n;function e(){return n}var r={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gA,resetWarningCache:vA};return r.PropTypes=r,r}});var Wt=v((Exe,bA)=\u003e{bA.exports=_A()();var Axe,Rxe});var Vi=v((jxe,kA)=\u003e{function xA(n){var e,r,i=\"\";if(typeof n==\"string\"||typeof n==\"number\")i+=n;else if(typeof n==\"object\")if(Array.isArray(n))for(e=0;e\u003cn.length;e++)n[e]\u0026\u0026(r=xA(n[e]))\u0026\u0026(i\u0026\u0026(i+=\" \"),i+=r);else for(e in n)n[e]\u0026\u0026(i\u0026\u0026(i+=\" \"),i+=e);return i}kA.exports=function(){for(var n=0,e,r,i=\"\";n\u003carguments.length;)(e=arguments[n++])\u0026\u0026(r=xA(e))\u0026\u0026(i\u0026\u0026(i+=\" \"),i+=r);return i}});var Dp=v(Xy=\u003e{\"use strict\";Object.defineProperty(Xy,\"__esModule\",{value:!0});Xy.default=ane;function ane(n,e){return function(){return null}}});var qA=v(Fp=\u003e{\"use strict\";var NA=Me();Object.defineProperty(Fp,\"__esModule\",{value:!0});Fp.isPlainObject=Ip;Fp.default=wA;var ine=NA(xt()),sne=NA(au());function Ip(n){return n\u0026\u0026(0,sne.default)(n)===\"object\"\u0026\u0026n.constructor===Object}function wA(n,e){var r=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:{clone:!0},i=r.clone?(0,ine.default)({},n):n;return Ip(n)\u0026\u0026Ip(e)\u0026\u0026Object.keys(e).forEach(function(o){o!==\"__proto__\"\u0026\u0026(Ip(e[o])\u0026\u0026o in n?i[o]=wA(n[o],e[o],r):i[o]=e[o])}),i}});var CA=v(Vp=\u003e{\"use strict\";var TA=Me();Object.defineProperty(Vp,\"__esModule\",{value:!0});Vp.default=void 0;var MA=TA(Wt()),SA=TA(Dp());function one(n){var e=n.prototype,r=e===void 0?{}:e;return Boolean(r.isReactComponent)}function PA(n,e,r,i,o){var c=n[e],d=o||e;if(c==null)return null;var p,g=c.type;return typeof g==\"function\"\u0026\u0026!one(g)\u0026\u0026(p=\"Did you accidentally use a plain function component for an element instead?\"),p!==void 0?new Error(\"Invalid \".concat(i,\" `\").concat(d,\"` supplied to `\").concat(r,\"`. \")+\"Expected an element that can hold a ref. \".concat(p,\" \")+\"For more information see https://material-ui.com/r/caveat-with-refs-guide\"):null}var OA=(0,SA.default)(MA.default.element,PA);OA.isRequired=(0,SA.default)(MA.default.element.isRequired,PA);var une=OA;Vp.default=une});var AA=v(Lp=\u003e{\"use strict\";var cne=Me(),lne=sn();Object.defineProperty(Lp,\"__esModule\",{value:!0});Lp.default=void 0;var hne=lne(Wt()),dne=cne(Dp());function pne(n){var e=n.prototype,r=e===void 0?{}:e;return Boolean(r.isReactComponent)}function fne(n,e,r,i,o){var c=n[e],d=o||e;if(c==null)return null;var p;return typeof c==\"function\"\u0026\u0026!pne(c)\u0026\u0026(p=\"Did you accidentally provide a plain function component instead?\"),p!==void 0?new Error(\"Invalid \".concat(i,\" `\").concat(d,\"` supplied to `\").concat(r,\"`. \")+\"Expected an element type that can hold a ref. \".concat(p,\" \")+\"For more information see https://material-ui.com/r/caveat-with-refs-guide\"):null}var mne=(0,dne.default)(hne.elementType,fne);Lp.default=mne});var Fc=v((Lxe,Ic)=\u003e{function vne(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}Ic.exports=vne;Ic.exports.default=Ic.exports,Ic.exports.__esModule=!0});var jA=v(Vc=\u003e{\"use strict\";var RA=Me();Object.defineProperty(Vc,\"__esModule\",{value:!0});Vc.default=_ne;Vc.specialProperty=void 0;var gne=RA(Fc()),yne=RA(xt()),EA=\"exact-prop: \\u200B\";Vc.specialProperty=EA;function _ne(n){return n}});var DA=v(Zy=\u003e{\"use strict\";Object.defineProperty(Zy,\"__esModule\",{value:!0});Zy.default=bne;function bne(n){for(var e=\"https://material-ui.com/production-error/?code=\"+n,r=1;r\u003carguments.length;r+=1)e+=\"\u0026args[]=\"+encodeURIComponent(arguments[r]);return\"Minified Material-UI error #\"+n+\"; visit \"+e+\" for the full message.\"}});var BA=v(Pt=\u003e{\"use strict\";var Wp=60103,Bp=60106,Lc=60107,Wc=60108,Bc=60114,zc=60109,Gc=60110,Uc=60112,$c=60113,Ky=60120,Hc=60115,Yc=60116,IA=60121,FA=60122,VA=60117,LA=60129,WA=60131;typeof Symbol==\"function\"\u0026\u0026Symbol.for\u0026\u0026(bn=Symbol.for,Wp=bn(\"react.element\"),Bp=bn(\"react.portal\"),Lc=bn(\"react.fragment\"),Wc=bn(\"react.strict_mode\"),Bc=bn(\"react.profiler\"),zc=bn(\"react.provider\"),Gc=bn(\"react.context\"),Uc=bn(\"react.forward_ref\"),$c=bn(\"react.suspense\"),Ky=bn(\"react.suspense_list\"),Hc=bn(\"react.memo\"),Yc=bn(\"react.lazy\"),IA=bn(\"react.block\"),FA=bn(\"react.server.block\"),VA=bn(\"react.fundamental\"),LA=bn(\"react.debug_trace_mode\"),WA=bn(\"react.legacy_hidden\"));var bn;function ta(n){if(typeof n==\"object\"\u0026\u0026n!==null){var e=n.$$typeof;switch(e){case Wp:switch(n=n.type,n){case Lc:case Bc:case Wc:case $c:case Ky:return n;default:switch(n=n\u0026\u0026n.$$typeof,n){case Gc:case Uc:case Yc:case Hc:case zc:return n;default:return e}}case Bp:return e}}}var xne=zc,kne=Wp,Nne=Uc,wne=Lc,qne=Yc,Tne=Hc,Mne=Bp,Sne=Bc,Pne=Wc,One=$c;Pt.ContextConsumer=Gc;Pt.ContextProvider=xne;Pt.Element=kne;Pt.ForwardRef=Nne;Pt.Fragment=wne;Pt.Lazy=qne;Pt.Memo=Tne;Pt.Portal=Mne;Pt.Profiler=Sne;Pt.StrictMode=Pne;Pt.Suspense=One;Pt.isAsyncMode=function(){return!1};Pt.isConcurrentMode=function(){return!1};Pt.isContextConsumer=function(n){return ta(n)===Gc};Pt.isContextProvider=function(n){return ta(n)===zc};Pt.isElement=function(n){return typeof n==\"object\"\u0026\u0026n!==null\u0026\u0026n.$$typeof===Wp};Pt.isForwardRef=function(n){return ta(n)===Uc};Pt.isFragment=function(n){return ta(n)===Lc};Pt.isLazy=function(n){return ta(n)===Yc};Pt.isMemo=function(n){return ta(n)===Hc};Pt.isPortal=function(n){return ta(n)===Bp};Pt.isProfiler=function(n){return ta(n)===Bc};Pt.isStrictMode=function(n){return ta(n)===Wc};Pt.isSuspense=function(n){return ta(n)===$c};Pt.isValidElementType=function(n){return typeof n==\"string\"||typeof n==\"function\"||n===Lc||n===Bc||n===LA||n===Wc||n===$c||n===Ky||n===WA||typeof n==\"object\"\u0026\u0026n!==null\u0026\u0026(n.$$typeof===Yc||n.$$typeof===Hc||n.$$typeof===zc||n.$$typeof===Gc||n.$$typeof===Uc||n.$$typeof===VA||n.$$typeof===IA||n[0]===FA)};Pt.typeOf=ta});var Qy=v((Gxe,zA)=\u003e{\"use strict\";zA.exports=BA()});var YA=v(zp=\u003e{\"use strict\";var Cne=Me();Object.defineProperty(zp,\"__esModule\",{value:!0});zp.getFunctionName=UA;zp.default=Ene;var Ane=Cne(au()),GA=Qy(),Rne=/^\\s*function(?:\\s|\\s*\\/\\*.*\\*\\/\\s*)+([^(\\s/]*)\\s*/;function UA(n){var e=\"\".concat(n).match(Rne),r=e\u0026\u0026e[1];return r||\"\"}function $A(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:\"\";return n.displayName||n.name||UA(n)||e}function HA(n,e,r){var i=$A(e);return n.displayName||(i!==\"\"?\"\".concat(r,\"(\").concat(i,\")\"):r)}function Ene(n){if(n!=null){if(typeof n==\"string\")return n;if(typeof n==\"function\")return $A(n,\"Component\");if((0,Ane.default)(n)===\"object\")switch(n.$$typeof){case GA.ForwardRef:return HA(n,n.render,\"ForwardRef\");case GA.Memo:return HA(n,n.type,\"memo\");default:return}}}});var XA=v(Jy=\u003e{\"use strict\";Object.defineProperty(Jy,\"__esModule\",{value:!0});Jy.default=jne;function jne(n,e,r,i,o){return null;var c,d}});var ZA=v(Gp=\u003e{\"use strict\";Object.defineProperty(Gp,\"__esModule\",{value:!0});Gp.default=void 0;var Dne=typeof window!=\"undefined\"\u0026\u0026window.Math==Math?window:typeof self!=\"undefined\"\u0026\u0026self.Math==Math?self:Function(\"return this\")();Gp.default=Dne});var KA=v(Up=\u003e{\"use strict\";var Ine=Me();Object.defineProperty(Up,\"__esModule\",{value:!0});Up.default=void 0;var e_=Ine(Wt()),Fne=e_.default.oneOfType([e_.default.func,e_.default.object]),Vne=Fne;Up.default=Vne});var on=v(Fr=\u003e{\"use strict\";var Pa=Me();Object.defineProperty(Fr,\"__esModule\",{value:!0});Object.defineProperty(Fr,\"chainPropTypes\",{enumerable:!0,get:function(){return Lne.default}});Object.defineProperty(Fr,\"deepmerge\",{enumerable:!0,get:function(){return Wne.default}});Object.defineProperty(Fr,\"elementAcceptingRef\",{enumerable:!0,get:function(){return Bne.default}});Object.defineProperty(Fr,\"elementTypeAcceptingRef\",{enumerable:!0,get:function(){return zne.default}});Object.defineProperty(Fr,\"exactProp\",{enumerable:!0,get:function(){return Gne.default}});Object.defineProperty(Fr,\"formatMuiErrorMessage\",{enumerable:!0,get:function(){return Une.default}});Object.defineProperty(Fr,\"getDisplayName\",{enumerable:!0,get:function(){return $ne.default}});Object.defineProperty(Fr,\"HTMLElementType\",{enumerable:!0,get:function(){return Hne.default}});Object.defineProperty(Fr,\"ponyfillGlobal\",{enumerable:!0,get:function(){return Yne.default}});Object.defineProperty(Fr,\"refType\",{enumerable:!0,get:function(){return Xne.default}});var Lne=Pa(Dp()),Wne=Pa(qA()),Bne=Pa(CA()),zne=Pa(AA()),Gne=Pa(jA()),Une=Pa(DA()),$ne=Pa(YA()),Hne=Pa(XA()),Yne=Pa(ZA()),Xne=Pa(KA())});var t_=v($p=\u003e{\"use strict\";Object.defineProperty($p,\"__esModule\",{value:!0});$p.default=void 0;var Zne=typeof Symbol==\"function\"\u0026\u0026Symbol.for,Kne=Zne?Symbol.for(\"mui.nested\"):\"__THEME_NESTED__\";$p.default=Kne});var QA=v(n_=\u003e{\"use strict\";var Qne=Me();Object.defineProperty(n_,\"__esModule\",{value:!0});n_.default=tre;var Jne=Qne(t_()),ere=[\"checked\",\"disabled\",\"error\",\"focused\",\"focusVisible\",\"required\",\"expanded\",\"selected\"];function tre(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.disableGlobal,r=e===void 0?!1:e,i=n.productionPrefix,o=i===void 0?\"jss\":i,c=n.seed,d=c===void 0?\"\":c,p=d===\"\"?\"\":\"\".concat(d,\"-\"),g=0,_=function(){return g+=1,g};return function(k,x){var q=x.options.name;if(q\u0026\u0026q.indexOf(\"Mui\")===0\u0026\u0026!x.options.link\u0026\u0026!r){if(ere.indexOf(k.key)!==-1)return\"Mui-\".concat(k.key);var V=\"\".concat(p).concat(q,\"-\").concat(k.key);return!x.options.theme[Jne.default]||d!==\"\"?V:\"\".concat(V,\"-\").concat(_())}return\"\".concat(p).concat(o).concat(_());var P}}});var Hp=v(r_=\u003e{\"use strict\";var nre=Me();Object.defineProperty(r_,\"__esModule\",{value:!0});Object.defineProperty(r_,\"default\",{enumerable:!0,get:function(){return rre.default}});var rre=nre(QA())});var JA=v(a_=\u003e{\"use strict\";Object.defineProperty(a_,\"__esModule\",{value:!0});a_.default=are;function are(n){return n}});var e5=v(i_=\u003e{\"use strict\";var ire=Me();Object.defineProperty(i_,\"__esModule\",{value:!0});Object.defineProperty(i_,\"default\",{enumerable:!0,get:function(){return sre.default}});var sre=ire(JA())});var t5=v(s_=\u003e{\"use strict\";Object.defineProperty(s_,\"__esModule\",{value:!0});s_.default=ore;function ore(n){var e=n.theme,r=n.name,i=n.props;if(!e||!e.props||!e.props[r])return i;var o=e.props[r],c;for(c in o)i[c]===void 0\u0026\u0026(i[c]=o[c]);return i}});var u_=v(o_=\u003e{\"use strict\";var ure=Me();Object.defineProperty(o_,\"__esModule\",{value:!0});Object.defineProperty(o_,\"default\",{enumerable:!0,get:function(){return cre.default}});var cre=ure(t5())});var Yp=v((rke,n5)=\u003e{\"use strict\";var lre=!0;function hre(n,e){if(!lre){if(n)return;var r=\"Warning: \"+e;typeof console!=\"undefined\"\u0026\u0026console.warn(r);try{throw Error(r)}catch(i){}}}n5.exports=hre});var c_=v(Xp=\u003e{\"use strict\";Object.defineProperty(Xp,\"__esModule\",{value:!0});var r5=typeof Symbol==\"function\"\u0026\u0026typeof Symbol.iterator==\"symbol\"?function(n){return typeof n}:function(n){return n\u0026\u0026typeof Symbol==\"function\"\u0026\u0026n.constructor===Symbol\u0026\u0026n!==Symbol.prototype?\"symbol\":typeof n},dre=Xp.isBrowser=(typeof window==\"undefined\"?\"undefined\":r5(window))===\"object\"\u0026\u0026(typeof document==\"undefined\"?\"undefined\":r5(document))===\"object\"\u0026\u0026document.nodeType===9;Xp.default=dre});var l_=v((ike,Xc)=\u003e{function a5(n,e){for(var r=0;r\u003ce.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i\u0026\u0026(i.writable=!0),Object.defineProperty(n,i.key,i)}}function pre(n,e,r){return e\u0026\u0026a5(n.prototype,e),r\u0026\u0026a5(n,r),n}Xc.exports=pre;Xc.exports.default=Xc.exports,Xc.exports.__esModule=!0});var i5=v((ske,Qa)=\u003e{function h_(n,e){return Qa.exports=h_=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},Qa.exports.default=Qa.exports,Qa.exports.__esModule=!0,h_(n,e)}Qa.exports=h_;Qa.exports.default=Qa.exports,Qa.exports.__esModule=!0});var s5=v((oke,Zc)=\u003e{var fre=i5();function mre(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,fre(n,e)}Zc.exports=mre;Zc.exports.default=Zc.exports,Zc.exports.__esModule=!0});var o5=v((uke,Kc)=\u003e{function vre(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}Kc.exports=vre;Kc.exports.default=Kc.exports,Kc.exports.__esModule=!0});var Li=v(kr=\u003e{\"use strict\";Object.defineProperty(kr,\"__esModule\",{value:!0});var gre=xt(),yre=c_(),_re=Yp(),bre=l_(),xre=s5(),kre=o5(),Nre=Hy();function Os(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var Oa=Os(gre),wre=Os(yre),u5=Os(_re),d_=Os(bre),c5=Os(xre),l5=Os(kre),qre=Os(Nre),Tre={}.constructor;function p_(n){if(n==null||typeof n!=\"object\")return n;if(Array.isArray(n))return n.map(p_);if(n.constructor!==Tre)return n;var e={};for(var r in n)e[r]=p_(n[r]);return e}function f_(n,e,r){n===void 0\u0026\u0026(n=\"unnamed\");var i=r.jss,o=p_(e),c=i.plugins.onCreateRule(n,o,r);return c||(n[0]===\"@\",null)}var h5=function(e,r){for(var i=\"\",o=0;o\u003ce.length\u0026\u0026e[o]!==\"!important\";o++)i\u0026\u0026(i+=r),i+=e[o];return i},iu=function(e,r){if(r===void 0\u0026\u0026(r=!1),!Array.isArray(e))return e;var i=\"\";if(Array.isArray(e[0]))for(var o=0;o\u003ce.length\u0026\u0026e[o]!==\"!important\";o++)i\u0026\u0026(i+=\", \"),i+=h5(e[o],\" \");else i=h5(e,\", \");return!r\u0026\u0026e[e.length-1]===\"!important\"\u0026\u0026(i+=\" !important\"),i};function Qc(n,e){for(var r=\"\",i=0;i\u003ce;i++)r+=\"  \";return r+n}function Jc(n,e,r){r===void 0\u0026\u0026(r={});var i=\"\";if(!e)return i;var o=r,c=o.indent,d=c===void 0?0:c,p=e.fallbacks;if(n\u0026\u0026d++,p)if(Array.isArray(p))for(var g=0;g\u003cp.length;g++){var _=p[g];for(var k in _){var x=_[k];x!=null\u0026\u0026(i\u0026\u0026(i+=`\n`),i+=Qc(k+\": \"+iu(x)+\";\",d))}}else for(var q in p){var V=p[q];V!=null\u0026\u0026(i\u0026\u0026(i+=`\n`),i+=Qc(q+\": \"+iu(V)+\";\",d))}for(var P in e){var W=e[P];W!=null\u0026\u0026P!==\"fallbacks\"\u0026\u0026(i\u0026\u0026(i+=`\n`),i+=Qc(P+\": \"+iu(W)+\";\",d))}return!i\u0026\u0026!r.allowEmpty||!n?i:(d--,i\u0026\u0026(i=`\n`+i+`\n`),Qc(n+\" {\"+i,d)+Qc(\"}\",d))}var Mre=/([[\\].#*$\u003e\u003c+~=|^:(),\"'`\\s])/g,d5=typeof CSS!=\"undefined\"\u0026\u0026CSS.escape,m_=function(n){return d5?d5(n):n.replace(Mre,\"\\\\$1\")},p5=function(){function n(r,i,o){this.type=\"style\",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var c=o.sheet,d=o.Renderer;this.key=r,this.options=o,this.style=i,c?this.renderer=c.renderer:d\u0026\u0026(this.renderer=new d)}var e=n.prototype;return e.prop=function(i,o,c){if(o===void 0)return this.style[i];var d=c?c.force:!1;if(!d\u0026\u0026this.style[i]===o)return this;var p=o;(!c||c.process!==!1)\u0026\u0026(p=this.options.jss.plugins.onChangeValue(o,i,this));var g=p==null||p===!1,_=i in this.style;if(g\u0026\u0026!_\u0026\u0026!d)return this;var k=g\u0026\u0026_;if(k?delete this.style[i]:this.style[i]=p,this.renderable\u0026\u0026this.renderer)return k?this.renderer.removeProperty(this.renderable,i):this.renderer.setProperty(this.renderable,i,p),this;var x=this.options.sheet;return x\u0026\u0026x.attached,this},n}(),v_=function(n){c5.default(e,n);function e(i,o,c){var d;d=n.call(this,i,o,c)||this,d.selectorText=void 0,d.id=void 0,d.renderable=void 0;var p=c.selector,g=c.scoped,_=c.sheet,k=c.generateId;return p?d.selectorText=p:g!==!1\u0026\u0026(d.id=k(l5.default(l5.default(d)),_),d.selectorText=\".\"+m_(d.id)),d}var r=e.prototype;return r.applyTo=function(o){var c=this.renderer;if(c){var d=this.toJSON();for(var p in d)c.setProperty(o,p,d[p])}return this},r.toJSON=function(){var o={};for(var c in this.style){var d=this.style[c];typeof d!=\"object\"?o[c]=d:Array.isArray(d)\u0026\u0026(o[c]=iu(d))}return o},r.toString=function(o){var c=this.options.sheet,d=c?c.options.link:!1,p=d?Oa.default({},o,{allowEmpty:!0}):o;return Jc(this.selectorText,this.style,p)},d_.default(e,[{key:\"selector\",set:function(o){if(o!==this.selectorText){this.selectorText=o;var c=this.renderer,d=this.renderable;if(!(!d||!c)){var p=c.setSelector(d,o);p||c.replaceRule(d,this)}}},get:function(){return this.selectorText}}]),e}(p5),Sre={onCreateRule:function(e,r,i){return e[0]===\"@\"||i.parent\u0026\u0026i.parent.type===\"keyframes\"?null:new v_(e,r,i)}},g_={indent:1,children:!0},Pre=/@([\\w-]+)/,Ore=function(){function n(r,i,o){this.type=\"conditional\",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=r;var c=r.match(Pre);this.at=c?c[1]:\"unknown\",this.query=o.name||\"@\"+this.at,this.options=o,this.rules=new Zp(Oa.default({},o,{parent:this}));for(var d in i)this.rules.add(d,i[d]);this.rules.process()}var e=n.prototype;return e.getRule=function(i){return this.rules.get(i)},e.indexOf=function(i){return this.rules.indexOf(i)},e.addRule=function(i,o,c){var d=this.rules.add(i,o,c);return d?(this.options.jss.plugins.onProcessRule(d),d):null},e.toString=function(i){if(i===void 0\u0026\u0026(i=g_),i.indent==null\u0026\u0026(i.indent=g_.indent),i.children==null\u0026\u0026(i.children=g_.children),i.children===!1)return this.query+\" {}\";var o=this.rules.toString(i);return o?this.query+` {\n`+o+`\n}`:\"\"},n}(),Cre=/@media|@supports\\s+/,Are={onCreateRule:function(e,r,i){return Cre.test(e)?new Ore(e,r,i):null}},y_={indent:1,children:!0},Rre=/@keyframes\\s+([\\w-]+)/,__=function(){function n(r,i,o){this.type=\"keyframes\",this.at=\"@keyframes\",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var c=r.match(Rre);c\u0026\u0026c[1]?this.name=c[1]:this.name=\"noname\",this.key=this.type+\"-\"+this.name,this.options=o;var d=o.scoped,p=o.sheet,g=o.generateId;this.id=d===!1?this.name:m_(g(this,p)),this.rules=new Zp(Oa.default({},o,{parent:this}));for(var _ in i)this.rules.add(_,i[_],Oa.default({},o,{parent:this}));this.rules.process()}var e=n.prototype;return e.toString=function(i){if(i===void 0\u0026\u0026(i=y_),i.indent==null\u0026\u0026(i.indent=y_.indent),i.children==null\u0026\u0026(i.children=y_.children),i.children===!1)return this.at+\" \"+this.id+\" {}\";var o=this.rules.toString(i);return o\u0026\u0026(o=`\n`+o+`\n`),this.at+\" \"+this.id+\" {\"+o+\"}\"},n}(),Ere=/@keyframes\\s+/,jre=/\\$([\\w-]+)/g,b_=function(e,r){return typeof e==\"string\"?e.replace(jre,function(i,o){return o in r?r[o]:i}):e},f5=function(e,r,i){var o=e[r],c=b_(o,i);c!==o\u0026\u0026(e[r]=c)},Dre={onCreateRule:function(e,r,i){return typeof e==\"string\"\u0026\u0026Ere.test(e)?new __(e,r,i):null},onProcessStyle:function(e,r,i){return r.type!==\"style\"||!i||(\"animation-name\"in e\u0026\u0026f5(e,\"animation-name\",i.keyframes),\"animation\"in e\u0026\u0026f5(e,\"animation\",i.keyframes)),e},onChangeValue:function(e,r,i){var o=i.options.sheet;if(!o)return e;switch(r){case\"animation\":return b_(e,o.keyframes);case\"animation-name\":return b_(e,o.keyframes);default:return e}}},Ire=function(n){c5.default(e,n);function e(){for(var i,o=arguments.length,c=new Array(o),d=0;d\u003co;d++)c[d]=arguments[d];return i=n.call.apply(n,[this].concat(c))||this,i.renderable=void 0,i}var r=e.prototype;return r.toString=function(o){var c=this.options.sheet,d=c?c.options.link:!1,p=d?Oa.default({},o,{allowEmpty:!0}):o;return Jc(this.key,this.style,p)},e}(p5),Fre={onCreateRule:function(e,r,i){return i.parent\u0026\u0026i.parent.type===\"keyframes\"?new Ire(e,r,i):null}},Vre=function(){function n(r,i,o){this.type=\"font-face\",this.at=\"@font-face\",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=r,this.style=i,this.options=o}var e=n.prototype;return e.toString=function(i){if(Array.isArray(this.style)){for(var o=\"\",c=0;c\u003cthis.style.length;c++)o+=Jc(this.at,this.style[c]),this.style[c+1]\u0026\u0026(o+=`\n`);return o}return Jc(this.at,this.style,i)},n}(),Lre=/@font-face/,Wre={onCreateRule:function(e,r,i){return Lre.test(e)?new Vre(e,r,i):null}},Bre=function(){function n(r,i,o){this.type=\"viewport\",this.at=\"@viewport\",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=r,this.style=i,this.options=o}var e=n.prototype;return e.toString=function(i){return Jc(this.key,this.style,i)},n}(),zre={onCreateRule:function(e,r,i){return e===\"@viewport\"||e===\"@-ms-viewport\"?new Bre(e,r,i):null}},Gre=function(){function n(r,i,o){this.type=\"simple\",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=r,this.value=i,this.options=o}var e=n.prototype;return e.toString=function(i){if(Array.isArray(this.value)){for(var o=\"\",c=0;c\u003cthis.value.length;c++)o+=this.key+\" \"+this.value[c]+\";\",this.value[c+1]\u0026\u0026(o+=`\n`);return o}return this.key+\" \"+this.value+\";\"},n}(),Ure={\"@charset\":!0,\"@import\":!0,\"@namespace\":!0},$re={onCreateRule:function(e,r,i){return e in Ure?new Gre(e,r,i):null}},m5=[Sre,Are,Dre,Fre,Wre,zre,$re],Hre={process:!0},v5={force:!0,process:!0},Zp=function(){function n(r){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=r,this.classes=r.classes,this.keyframes=r.keyframes}var e=n.prototype;return e.add=function(i,o,c){var d=this.options,p=d.parent,g=d.sheet,_=d.jss,k=d.Renderer,x=d.generateId,q=d.scoped,V=Oa.default({classes:this.classes,parent:p,sheet:g,jss:_,Renderer:k,generateId:x,scoped:q,name:i,keyframes:this.keyframes,selector:void 0},c),P=i;i in this.raw\u0026\u0026(P=i+\"-d\"+this.counter++),this.raw[P]=o,P in this.classes\u0026\u0026(V.selector=\".\"+m_(this.classes[P]));var W=f_(P,o,V);if(!W)return null;this.register(W);var K=V.index===void 0?this.index.length:V.index;return this.index.splice(K,0,W),W},e.get=function(i){return this.map[i]},e.remove=function(i){this.unregister(i),delete this.raw[i.key],this.index.splice(this.index.indexOf(i),1)},e.indexOf=function(i){return this.index.indexOf(i)},e.process=function(){var i=this.options.jss.plugins;this.index.slice(0).forEach(i.onProcessRule,i)},e.register=function(i){this.map[i.key]=i,i instanceof v_?(this.map[i.selector]=i,i.id\u0026\u0026(this.classes[i.key]=i.id)):i instanceof __\u0026\u0026this.keyframes\u0026\u0026(this.keyframes[i.name]=i.id)},e.unregister=function(i){delete this.map[i.key],i instanceof v_?(delete this.map[i.selector],delete this.classes[i.key]):i instanceof __\u0026\u0026delete this.keyframes[i.name]},e.update=function(){var i,o,c;if(typeof(arguments.length\u003c=0?void 0:arguments[0])==\"string\"?(i=arguments.length\u003c=0?void 0:arguments[0],o=arguments.length\u003c=1?void 0:arguments[1],c=arguments.length\u003c=2?void 0:arguments[2]):(o=arguments.length\u003c=0?void 0:arguments[0],c=arguments.length\u003c=1?void 0:arguments[1],i=null),i)this.updateOne(this.map[i],o,c);else for(var d=0;d\u003cthis.index.length;d++)this.updateOne(this.index[d],o,c)},e.updateOne=function(i,o,c){c===void 0\u0026\u0026(c=Hre);var d=this.options,p=d.jss.plugins,g=d.sheet;if(i.rules instanceof n){i.rules.update(o,c);return}var _=i,k=_.style;if(p.onUpdate(o,i,g,c),c.process\u0026\u0026k\u0026\u0026k!==_.style){p.onProcessStyle(_.style,_,g);for(var x in _.style){var q=_.style[x],V=k[x];q!==V\u0026\u0026_.prop(x,q,v5)}for(var P in k){var W=_.style[P],K=k[P];W==null\u0026\u0026W!==K\u0026\u0026_.prop(P,null,v5)}}},e.toString=function(i){for(var o=\"\",c=this.options.sheet,d=c?c.options.link:!1,p=0;p\u003cthis.index.length;p++){var g=this.index[p],_=g.toString(i);!_\u0026\u0026!d||(o\u0026\u0026(o+=`\n`),o+=_)}return o},n}(),g5=function(){function n(r,i){this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Oa.default({},i,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),i.Renderer\u0026\u0026(this.renderer=new i.Renderer(this)),this.rules=new Zp(this.options);for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=n.prototype;return e.attach=function(){return this.attached?this:(this.renderer\u0026\u0026this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer\u0026\u0026this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(i,o,c){var d=this.queue;this.attached\u0026\u0026!d\u0026\u0026(this.queue=[]);var p=this.rules.add(i,o,c);return p?(this.options.jss.plugins.onProcessRule(p),this.attached?(this.deployed\u0026\u0026(d?d.push(p):(this.insertRule(p),this.queue\u0026\u0026(this.queue.forEach(this.insertRule,this),this.queue=void 0))),p):(this.deployed=!1,p)):null},e.insertRule=function(i){this.renderer\u0026\u0026this.renderer.insertRule(i)},e.addRules=function(i,o){var c=[];for(var d in i){var p=this.addRule(d,i[d],o);p\u0026\u0026c.push(p)}return c},e.getRule=function(i){return this.rules.get(i)},e.deleteRule=function(i){var o=typeof i==\"object\"?i:this.rules.get(i);return!o||this.attached\u0026\u0026!o.renderable?!1:(this.rules.remove(o),this.attached\u0026\u0026o.renderable\u0026\u0026this.renderer?this.renderer.deleteRule(o.renderable):!0)},e.indexOf=function(i){return this.rules.indexOf(i)},e.deploy=function(){return this.renderer\u0026\u0026this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var i;return(i=this.rules).update.apply(i,arguments),this},e.updateOne=function(i,o,c){return this.rules.updateOne(i,o,c),this},e.toString=function(i){return this.rules.toString(i)},n}(),Yre=function(){function n(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=n.prototype;return e.onCreateRule=function(i,o,c){for(var d=0;d\u003cthis.registry.onCreateRule.length;d++){var p=this.registry.onCreateRule[d](i,o,c);if(p)return p}return null},e.onProcessRule=function(i){if(!i.isProcessed){for(var o=i.options.sheet,c=0;c\u003cthis.registry.onProcessRule.length;c++)this.registry.onProcessRule[c](i,o);i.style\u0026\u0026this.onProcessStyle(i.style,i,o),i.isProcessed=!0}},e.onProcessStyle=function(i,o,c){for(var d=0;d\u003cthis.registry.onProcessStyle.length;d++)o.style=this.registry.onProcessStyle[d](o.style,o,c)},e.onProcessSheet=function(i){for(var o=0;o\u003cthis.registry.onProcessSheet.length;o++)this.registry.onProcessSheet[o](i)},e.onUpdate=function(i,o,c,d){for(var p=0;p\u003cthis.registry.onUpdate.length;p++)this.registry.onUpdate[p](i,o,c,d)},e.onChangeValue=function(i,o,c){for(var d=i,p=0;p\u003cthis.registry.onChangeValue.length;p++)d=this.registry.onChangeValue[p](d,o,c);return d},e.use=function(i,o){o===void 0\u0026\u0026(o={queue:\"external\"});var c=this.plugins[o.queue];c.indexOf(i)===-1\u0026\u0026(c.push(i),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(d,p){for(var g in p)g in d\u0026\u0026d[g].push(p[g]);return d},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},n}(),y5=function(){function n(){this.registry=[]}var e=n.prototype;return e.add=function(i){var o=this.registry,c=i.options.index;if(o.indexOf(i)===-1){if(o.length===0||c\u003e=this.index){o.push(i);return}for(var d=0;d\u003co.length;d++)if(o[d].options.index\u003ec){o.splice(d,0,i);return}}},e.reset=function(){this.registry=[]},e.remove=function(i){var o=this.registry.indexOf(i);this.registry.splice(o,1)},e.toString=function(i){for(var o=i===void 0?{}:i,c=o.attached,d=qre.default(o,[\"attached\"]),p=\"\",g=0;g\u003cthis.registry.length;g++){var _=this.registry[g];c!=null\u0026\u0026_.attached!==c||(p\u0026\u0026(p+=`\n`),p+=_.toString(d))}return p},d_.default(n,[{key:\"index\",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),n}(),su=new y5,x_=typeof globalThis!=\"undefined\"?globalThis:typeof window!=\"undefined\"\u0026\u0026window.Math===Math?window:typeof self!=\"undefined\"\u0026\u0026self.Math===Math?self:Function(\"return this\")(),k_=\"2f1acc6c3a606b082e5eef5e54414ffb\";x_[k_]==null\u0026\u0026(x_[k_]=0);var _5=x_[k_]++,Xre=1e10,N_=function(e){e===void 0\u0026\u0026(e={});var r=0,i=function(c,d){r+=1,r\u003eXre;var p=\"\",g=\"\";return d\u0026\u0026(d.options.classNamePrefix\u0026\u0026(g=d.options.classNamePrefix),d.options.jss.id!=null\u0026\u0026(p=String(d.options.jss.id))),e.minify?\"\"+(g||\"c\")+_5+p+r:g+c.key+\"-\"+_5+(p?\"-\"+p:\"\")+\"-\"+r};return i},b5=function(e){var r;return function(){return r||(r=e()),r}},Zre=function(e,r){try{return e.attributeStyleMap?e.attributeStyleMap.get(r):e.style.getPropertyValue(r)}catch(i){return\"\"}},Kre=function(e,r,i){try{var o=i;if(Array.isArray(i)\u0026\u0026(o=iu(i,!0),i[i.length-1]===\"!important\"))return e.style.setProperty(r,o,\"important\"),!0;e.attributeStyleMap?e.attributeStyleMap.set(r,o):e.style.setProperty(r,o)}catch(c){return!1}return!0},Qre=function(e,r){try{e.attributeStyleMap?e.attributeStyleMap.delete(r):e.style.removeProperty(r)}catch(i){}},Jre=function(e,r){return e.selectorText=r,e.selectorText===r},x5=b5(function(){return document.querySelector(\"head\")});function eae(n,e){for(var r=0;r\u003cn.length;r++){var i=n[r];if(i.attached\u0026\u0026i.options.index\u003ee.index\u0026\u0026i.options.insertionPoint===e.insertionPoint)return i}return null}function tae(n,e){for(var r=n.length-1;r\u003e=0;r--){var i=n[r];if(i.attached\u0026\u0026i.options.insertionPoint===e.insertionPoint)return i}return null}function nae(n){for(var e=x5(),r=0;r\u003ce.childNodes.length;r++){var i=e.childNodes[r];if(i.nodeType===8\u0026\u0026i.nodeValue.trim()===n)return i}return null}function rae(n){var e=su.registry;if(e.length\u003e0){var r=eae(e,n);if(r\u0026\u0026r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if(r=tae(e,n),r\u0026\u0026r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var i=n.insertionPoint;if(i\u0026\u0026typeof i==\"string\"){var o=nae(i);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}function aae(n,e){var r=e.insertionPoint,i=rae(e);if(i!==!1\u0026\u0026i.parent){i.parent.insertBefore(n,i.node);return}if(r\u0026\u0026typeof r.nodeType==\"number\"){var o=r,c=o.parentNode;c\u0026\u0026c.insertBefore(n,o.nextSibling);return}x5().appendChild(n)}var iae=b5(function(){var n=document.querySelector('meta[property=\"csp-nonce\"]');return n?n.getAttribute(\"content\"):null}),k5=function(e,r,i){try{if(\"insertRule\"in e){var o=e;o.insertRule(r,i)}else if(\"appendRule\"in e){var c=e;c.appendRule(r)}}catch(d){return!1}return e.cssRules[i]},N5=function(e,r){var i=e.cssRules.length;return r===void 0||r\u003ei?i:r},sae=function(){var e=document.createElement(\"style\");return e.textContent=`\n`,e},oae=function(){function n(r){this.getPropertyValue=Zre,this.setProperty=Kre,this.removeProperty=Qre,this.setSelector=Jre,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],r\u0026\u0026su.add(r),this.sheet=r;var i=this.sheet?this.sheet.options:{},o=i.media,c=i.meta,d=i.element;this.element=d||sae(),this.element.setAttribute(\"data-jss\",\"\"),o\u0026\u0026this.element.setAttribute(\"media\",o),c\u0026\u0026this.element.setAttribute(\"data-meta\",c);var p=iae();p\u0026\u0026this.element.setAttribute(\"nonce\",p)}var e=n.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){aae(this.element,this.sheet.options);var i=Boolean(this.sheet\u0026\u0026this.sheet.deployed);this.hasInsertedRules\u0026\u0026i\u0026\u0026(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(!!this.sheet){var i=this.element.parentNode;i\u0026\u0026i.removeChild(this.element),this.sheet.options.link\u0026\u0026(this.cssRules=[],this.element.textContent=`\n`)}},e.deploy=function(){var i=this.sheet;if(!!i){if(i.options.link){this.insertRules(i.rules);return}this.element.textContent=`\n`+i.toString()+`\n`}},e.insertRules=function(i,o){for(var c=0;c\u003ci.index.length;c++)this.insertRule(i.index[c],c,o)},e.insertRule=function(i,o,c){if(c===void 0\u0026\u0026(c=this.element.sheet),i.rules){var d=i,p=c;if(i.type===\"conditional\"||i.type===\"keyframes\"){var g=N5(c,o);if(p=k5(c,d.toString({children:!1}),g),p===!1)return!1;this.refCssRule(i,g,p)}return this.insertRules(d.rules,p),p}var _=i.toString();if(!_)return!1;var k=N5(c,o),x=k5(c,_,k);return x===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(i,k,x),x)},e.refCssRule=function(i,o,c){i.renderable=c,i.options.parent instanceof g5\u0026\u0026(this.cssRules[o]=c)},e.deleteRule=function(i){var o=this.element.sheet,c=this.indexOf(i);return c===-1?!1:(o.deleteRule(c),this.cssRules.splice(c,1),!0)},e.indexOf=function(i){return this.cssRules.indexOf(i)},e.replaceRule=function(i,o){var c=this.indexOf(i);return c===-1?!1:(this.element.sheet.deleteRule(c),this.cssRules.splice(c,1),this.insertRule(o,c))},e.getRules=function(){return this.element.sheet.cssRules},n}(),uae=0,cae=function(){function n(r){this.id=uae++,this.version=\"10.7.1\",this.plugins=new Yre,this.options={id:{minify:!1},createGenerateId:N_,Renderer:wre.default?oae:null,plugins:[]},this.generateId=N_({minify:!1});for(var i=0;i\u003cm5.length;i++)this.plugins.use(m5[i],{queue:\"internal\"});this.setup(r)}var e=n.prototype;return e.setup=function(i){return i===void 0\u0026\u0026(i={}),i.createGenerateId\u0026\u0026(this.options.createGenerateId=i.createGenerateId),i.id\u0026\u0026(this.options.id=Oa.default({},this.options.id,i.id)),(i.createGenerateId||i.id)\u0026\u0026(this.generateId=this.options.createGenerateId(this.options.id)),i.insertionPoint!=null\u0026\u0026(this.options.insertionPoint=i.insertionPoint),\"Renderer\"in i\u0026\u0026(this.options.Renderer=i.Renderer),i.plugins\u0026\u0026this.use.apply(this,i.plugins),this},e.createStyleSheet=function(i,o){o===void 0\u0026\u0026(o={});var c=o,d=c.index;typeof d!=\"number\"\u0026\u0026(d=su.index===0?0:su.index+1);var p=new g5(i,Oa.default({},o,{jss:this,generateId:o.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:d}));return this.plugins.onProcessSheet(p),p},e.removeStyleSheet=function(i){return i.detach(),su.remove(i),this},e.createRule=function(i,o,c){if(o===void 0\u0026\u0026(o={}),c===void 0\u0026\u0026(c={}),typeof i==\"object\")return this.createRule(void 0,i,o);var d=Oa.default({},c,{name:i,jss:this,Renderer:this.options.Renderer});d.generateId||(d.generateId=this.generateId),d.classes||(d.classes={}),d.keyframes||(d.keyframes={});var p=f_(i,o,d);return p\u0026\u0026this.plugins.onProcessRule(p),p},e.use=function(){for(var i=this,o=arguments.length,c=new Array(o),d=0;d\u003co;d++)c[d]=arguments[d];return c.forEach(function(p){i.plugins.use(p)}),this},n}();function w5(n){var e=null;for(var r in n){var i=n[r],o=typeof i;if(o===\"function\")e||(e={}),e[r]=i;else if(o===\"object\"\u0026\u0026i!==null\u0026\u0026!Array.isArray(i)){var c=w5(i);c\u0026\u0026(e||(e={}),e[r]=c)}}return e}var lae=function(){function n(){this.length=0,this.sheets=new WeakMap}var e=n.prototype;return e.get=function(i){var o=this.sheets.get(i);return o\u0026\u0026o.sheet},e.add=function(i,o){this.sheets.has(i)||(this.length++,this.sheets.set(i,{sheet:o,refs:0}))},e.manage=function(i){var o=this.sheets.get(i);if(o)return o.refs===0\u0026\u0026o.sheet.attach(),o.refs++,o.sheet;u5.default(!1,\"[JSS] SheetsManager: can't find sheet to manage\")},e.unmanage=function(i){var o=this.sheets.get(i);o?o.refs\u003e0\u0026\u0026(o.refs--,o.refs===0\u0026\u0026o.sheet.detach()):u5.default(!1,\"SheetsManager: can't find sheet to unmanage\")},d_.default(n,[{key:\"size\",get:function(){return this.length}}]),n}();var hae=typeof CSS==\"object\"\u0026\u0026CSS!=null\u0026\u0026\"number\"in CSS,q5=function(e){return new cae(e)},dae=q5();kr.RuleList=Zp;kr.SheetsManager=lae;kr.SheetsRegistry=y5;kr.create=q5;kr.createGenerateId=N_;kr.createRule=f_;kr.default=dae;kr.getDynamicStyles=w5;kr.hasCSSTOMSupport=hae;kr.sheets=su;kr.toCssValue=iu});var M5=v(T_=\u003e{\"use strict\";Object.defineProperty(T_,\"__esModule\",{value:!0});var lke=Yp(),pae=Li(),T5=Date.now(),w_=\"fnValues\"+T5,q_=\"fnStyle\"+ ++T5,fae=function(){return{onCreateRule:function(r,i,o){if(typeof i!=\"function\")return null;var c=pae.createRule(r,{},o);return c[q_]=i,c},onProcessStyle:function(r,i){if(w_ in i||q_ in i)return r;var o={};for(var c in r){var d=r[c];typeof d==\"function\"\u0026\u0026(delete r[c],o[c]=d)}return i[w_]=o,r},onUpdate:function(r,i,o,c){var d=i,p=d[q_];if(p\u0026\u0026(d.style=p(r)||{},!1))for(var g in d.style);var _=d[w_];if(_)for(var k in _)d.prop(k,_[k](r),c)}}};T_.default=fae});var P5=v(S_=\u003e{\"use strict\";Object.defineProperty(S_,\"__esModule\",{value:!0});var mae=xt(),vae=Li();function gae(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var Kp=gae(mae),Wi=\"@global\",M_=\"@global \",yae=function(){function n(r,i,o){this.type=\"global\",this.at=Wi,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=r,this.options=o,this.rules=new vae.RuleList(Kp.default({},o,{parent:this}));for(var c in i)this.rules.add(c,i[c]);this.rules.process()}var e=n.prototype;return e.getRule=function(i){return this.rules.get(i)},e.addRule=function(i,o,c){var d=this.rules.add(i,o,c);return d\u0026\u0026this.options.jss.plugins.onProcessRule(d),d},e.indexOf=function(i){return this.rules.indexOf(i)},e.toString=function(){return this.rules.toString()},n}(),_ae=function(){function n(r,i,o){this.type=\"global\",this.at=Wi,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=r,this.options=o;var c=r.substr(M_.length);this.rule=o.jss.createRule(c,i,Kp.default({},o,{parent:this}))}var e=n.prototype;return e.toString=function(i){return this.rule?this.rule.toString(i):\"\"},n}(),bae=/\\s*,\\s*/g;function S5(n,e){for(var r=n.split(bae),i=\"\",o=0;o\u003cr.length;o++)i+=e+\" \"+r[o].trim(),r[o+1]\u0026\u0026(i+=\", \");return i}function xae(n,e){var r=n.options,i=n.style,o=i?i[Wi]:null;if(!!o){for(var c in o)e.addRule(c,o[c],Kp.default({},r,{selector:S5(c,n.selector)}));delete i[Wi]}}function kae(n,e){var r=n.options,i=n.style;for(var o in i)if(!(o[0]!==\"@\"||o.substr(0,Wi.length)!==Wi)){var c=S5(o.substr(Wi.length),n.selector);e.addRule(c,i[o],Kp.default({},r,{selector:c})),delete i[o]}}function Nae(){function n(r,i,o){if(!r)return null;if(r===Wi)return new yae(r,i,o);if(r[0]===\"@\"\u0026\u0026r.substr(0,M_.length)===M_)return new _ae(r,i,o);var c=o.parent;return c\u0026\u0026(c.type===\"global\"||c.options.parent\u0026\u0026c.options.parent.type===\"global\")\u0026\u0026(o.scoped=!1),o.scoped===!1\u0026\u0026(o.selector=r),null}function e(r,i){r.type!==\"style\"||!i||(xae(r,i),kae(r,i))}return{onCreateRule:n,onProcessRule:e}}S_.default=Nae});var C5=v(O_=\u003e{\"use strict\";Object.defineProperty(O_,\"__esModule\",{value:!0});var wae=xt(),pke=Yp();function qae(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var P_=qae(wae),O5=/\\s*,\\s*/g,Tae=/\u0026/g,Mae=/\\$([\\w-]+)/g;function Sae(){function n(o,c){return function(d,p){var g=o.getRule(p)||c\u0026\u0026c.getRule(p);return g?(g=g,g.selector):p}}function e(o,c){for(var d=c.split(O5),p=o.split(O5),g=\"\",_=0;_\u003cd.length;_++)for(var k=d[_],x=0;x\u003cp.length;x++){var q=p[x];g\u0026\u0026(g+=\", \"),g+=q.indexOf(\"\u0026\")!==-1?q.replace(Tae,k):k+\" \"+q}return g}function r(o,c,d){if(d)return P_.default({},d,{index:d.index+1});var p=o.options.nestingLevel;p=p===void 0?1:p+1;var g=P_.default({},o.options,{nestingLevel:p,index:c.indexOf(o)+1});return delete g.name,g}function i(o,c,d){if(c.type!==\"style\")return o;var p=c,g=p.options.parent,_,k;for(var x in o){var q=x.indexOf(\"\u0026\")!==-1,V=x[0]===\"@\";if(!(!q\u0026\u0026!V)){if(_=r(p,g,_),q){var P=e(x,p.selector);k||(k=n(g,d)),P=P.replace(Mae,k),g.addRule(P,o[x],P_.default({},_,{selector:P}))}else V\u0026\u0026g.addRule(x,{},_).addRule(p.key,o[x],{selector:p.selector});delete o[x]}}return o}return{onProcessStyle:i}}O_.default=Sae});var R5=v((mke,A5)=\u003e{\"use strict\";var Pae=/[A-Z]/g,Oae=/^ms-/,C_={};function Cae(n){return\"-\"+n.toLowerCase()}function Aae(n){if(C_.hasOwnProperty(n))return C_[n];var e=n.replace(Pae,Cae);return C_[n]=Oae.test(e)?\"-\"+e:e}A5.exports=Aae});var j5=v(A_=\u003e{\"use strict\";Object.defineProperty(A_,\"__esModule\",{value:!0});var Rae=R5();function Eae(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var E5=Eae(Rae);function Qp(n){var e={};for(var r in n){var i=r.indexOf(\"--\")===0?r:E5.default(r);e[i]=n[r]}return n.fallbacks\u0026\u0026(Array.isArray(n.fallbacks)?e.fallbacks=n.fallbacks.map(Qp):e.fallbacks=Qp(n.fallbacks)),e}function jae(){function n(r){if(Array.isArray(r)){for(var i=0;i\u003cr.length;i++)r[i]=Qp(r[i]);return r}return Qp(r)}function e(r,i,o){if(i.indexOf(\"--\")===0)return r;var c=E5.default(i);return i===c?r:(o.prop(c,r),null)}return{onProcessStyle:n,onChangeValue:e}}A_.default=jae});var I5=v(E_=\u003e{\"use strict\";Object.defineProperty(E_,\"__esModule\",{value:!0});var R_=Li(),pe=R_.hasCSSTOMSupport\u0026\u0026CSS?CSS.px:\"px\",Jp=R_.hasCSSTOMSupport\u0026\u0026CSS?CSS.ms:\"ms\",ou=R_.hasCSSTOMSupport\u0026\u0026CSS?CSS.percent:\"%\",Dae={\"animation-delay\":Jp,\"animation-duration\":Jp,\"background-position\":pe,\"background-position-x\":pe,\"background-position-y\":pe,\"background-size\":pe,border:pe,\"border-bottom\":pe,\"border-bottom-left-radius\":pe,\"border-bottom-right-radius\":pe,\"border-bottom-width\":pe,\"border-left\":pe,\"border-left-width\":pe,\"border-radius\":pe,\"border-right\":pe,\"border-right-width\":pe,\"border-top\":pe,\"border-top-left-radius\":pe,\"border-top-right-radius\":pe,\"border-top-width\":pe,\"border-width\":pe,\"border-block\":pe,\"border-block-end\":pe,\"border-block-end-width\":pe,\"border-block-start\":pe,\"border-block-start-width\":pe,\"border-block-width\":pe,\"border-inline\":pe,\"border-inline-end\":pe,\"border-inline-end-width\":pe,\"border-inline-start\":pe,\"border-inline-start-width\":pe,\"border-inline-width\":pe,\"border-start-start-radius\":pe,\"border-start-end-radius\":pe,\"border-end-start-radius\":pe,\"border-end-end-radius\":pe,margin:pe,\"margin-bottom\":pe,\"margin-left\":pe,\"margin-right\":pe,\"margin-top\":pe,\"margin-block\":pe,\"margin-block-end\":pe,\"margin-block-start\":pe,\"margin-inline\":pe,\"margin-inline-end\":pe,\"margin-inline-start\":pe,padding:pe,\"padding-bottom\":pe,\"padding-left\":pe,\"padding-right\":pe,\"padding-top\":pe,\"padding-block\":pe,\"padding-block-end\":pe,\"padding-block-start\":pe,\"padding-inline\":pe,\"padding-inline-end\":pe,\"padding-inline-start\":pe,\"mask-position-x\":pe,\"mask-position-y\":pe,\"mask-size\":pe,height:pe,width:pe,\"min-height\":pe,\"max-height\":pe,\"min-width\":pe,\"max-width\":pe,bottom:pe,left:pe,top:pe,right:pe,inset:pe,\"inset-block\":pe,\"inset-block-end\":pe,\"inset-block-start\":pe,\"inset-inline\":pe,\"inset-inline-end\":pe,\"inset-inline-start\":pe,\"box-shadow\":pe,\"text-shadow\":pe,\"column-gap\":pe,\"column-rule\":pe,\"column-rule-width\":pe,\"column-width\":pe,\"font-size\":pe,\"font-size-delta\":pe,\"letter-spacing\":pe,\"text-decoration-thickness\":pe,\"text-indent\":pe,\"text-stroke\":pe,\"text-stroke-width\":pe,\"word-spacing\":pe,motion:pe,\"motion-offset\":pe,outline:pe,\"outline-offset\":pe,\"outline-width\":pe,perspective:pe,\"perspective-origin-x\":ou,\"perspective-origin-y\":ou,\"transform-origin\":ou,\"transform-origin-x\":ou,\"transform-origin-y\":ou,\"transform-origin-z\":ou,\"transition-delay\":Jp,\"transition-duration\":Jp,\"vertical-align\":pe,\"flex-basis\":pe,\"shape-margin\":pe,size:pe,gap:pe,grid:pe,\"grid-gap\":pe,\"row-gap\":pe,\"grid-row-gap\":pe,\"grid-column-gap\":pe,\"grid-template-rows\":pe,\"grid-template-columns\":pe,\"grid-auto-rows\":pe,\"grid-auto-columns\":pe,\"box-shadow-x\":pe,\"box-shadow-y\":pe,\"box-shadow-blur\":pe,\"box-shadow-spread\":pe,\"font-line-height\":pe,\"text-shadow-x\":pe,\"text-shadow-y\":pe,\"text-shadow-blur\":pe};function D5(n){var e=/(-[a-z])/g,r=function(d){return d[1].toUpperCase()},i={};for(var o in n)i[o]=n[o],i[o.replace(e,r)]=n[o];return i}var Iae=D5(Dae);function el(n,e,r){if(e==null)return e;if(Array.isArray(e))for(var i=0;i\u003ce.length;i++)e[i]=el(n,e[i],r);else if(typeof e==\"object\")if(n===\"fallbacks\")for(var o in e)e[o]=el(o,e[o],r);else for(var c in e)e[c]=el(n+\"-\"+c,e[c],r);else if(typeof e==\"number\"\u0026\u0026isNaN(e)===!1){var d=r[n]||Iae[n];return d\u0026\u0026!(e===0\u0026\u0026d===pe)?typeof d==\"function\"?d(e).toString():\"\"+e+d:e.toString()}return e}function Fae(n){n===void 0\u0026\u0026(n={});var e=D5(n);function r(o,c){if(c.type!==\"style\")return o;for(var d in o)o[d]=el(d,o[d],e);return o}function i(o,c){return el(c,o,e)}return{onProcessStyle:r,onChangeValue:i}}E_.default=Fae});var j_=v((yke,tl)=\u003e{function Vae(n,e){(e==null||e\u003en.length)\u0026\u0026(e=n.length);for(var r=0,i=new Array(e);r\u003ce;r++)i[r]=n[r];return i}tl.exports=Vae;tl.exports.default=tl.exports,tl.exports.__esModule=!0});var F5=v((_ke,nl)=\u003e{var Lae=j_();function Wae(n){if(Array.isArray(n))return Lae(n)}nl.exports=Wae;nl.exports.default=nl.exports,nl.exports.__esModule=!0});var V5=v((bke,rl)=\u003e{function Bae(n){if(typeof Symbol!=\"undefined\"\u0026\u0026n[Symbol.iterator]!=null||n[\"@@iterator\"]!=null)return Array.from(n)}rl.exports=Bae;rl.exports.default=rl.exports,rl.exports.__esModule=!0});var D_=v((xke,al)=\u003e{var L5=j_();function zae(n,e){if(!!n){if(typeof n==\"string\")return L5(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r===\"Object\"\u0026\u0026n.constructor\u0026\u0026(r=n.constructor.name),r===\"Map\"||r===\"Set\")return Array.from(n);if(r===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L5(n,e)}}al.exports=zae;al.exports.default=al.exports,al.exports.__esModule=!0});var W5=v((kke,il)=\u003e{function Gae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}il.exports=Gae;il.exports.default=il.exports,il.exports.__esModule=!0});var ol=v((Nke,sl)=\u003e{var Uae=F5(),$ae=V5(),Hae=D_(),Yae=W5();function Xae(n){return Uae(n)||$ae(n)||Hae(n)||Yae()}sl.exports=Xae;sl.exports.default=sl.exports,sl.exports.__esModule=!0});var Z5=v(cu=\u003e{\"use strict\";Object.defineProperty(cu,\"__esModule\",{value:!0});function B5(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n.default:n}var ef=B5(c_()),Zae=B5(ol()),ul=\"\",I_=\"\",z5=\"\",G5=\"\",Kae=ef\u0026\u0026\"ontouchstart\"in document.documentElement;if(ef){tf={Moz:\"-moz-\",ms:\"-ms-\",O:\"-o-\",Webkit:\"-webkit-\"},U5=document.createElement(\"p\"),nf=U5.style,$5=\"Transform\";for(rf in tf)if(rf+$5 in nf){ul=rf,I_=tf[rf];break}ul===\"Webkit\"\u0026\u0026\"msHyphens\"in nf\u0026\u0026(ul=\"ms\",I_=tf.ms,G5=\"edge\"),ul===\"Webkit\"\u0026\u0026\"-apple-trailing-word\"in nf\u0026\u0026(z5=\"apple\")}var tf,U5,nf,$5,rf,tt={js:ul,css:I_,vendor:z5,browser:G5,isTouch:Kae};function Qae(n){return n[1]===\"-\"||tt.js===\"ms\"?n:\"@\"+tt.css+\"keyframes\"+n.substr(10)}var Jae={noPrefill:[\"appearance\"],supportedProperty:function(e){return e!==\"appearance\"?!1:tt.js===\"ms\"?\"-webkit-\"+e:tt.css+e}},eie={noPrefill:[\"color-adjust\"],supportedProperty:function(e){return e!==\"color-adjust\"?!1:tt.js===\"Webkit\"?tt.css+\"print-\"+e:e}},tie=/[-\\s]+(.)?/g;function nie(n,e){return e?e.toUpperCase():\"\"}function F_(n){return n.replace(tie,nie)}function Bi(n){return F_(\"-\"+n)}var rie={noPrefill:[\"mask\"],supportedProperty:function(e,r){if(!/^mask/.test(e))return!1;if(tt.js===\"Webkit\"){var i=\"mask-image\";if(F_(i)in r)return e;if(tt.js+Bi(i)in r)return tt.css+e}return e}},aie={noPrefill:[\"text-orientation\"],supportedProperty:function(e){return e!==\"text-orientation\"?!1:tt.vendor===\"apple\"\u0026\u0026!tt.isTouch?tt.css+e:e}},iie={noPrefill:[\"transform\"],supportedProperty:function(e,r,i){return e!==\"transform\"?!1:i.transform?e:tt.css+e}},sie={noPrefill:[\"transition\"],supportedProperty:function(e,r,i){return e!==\"transition\"?!1:i.transition?e:tt.css+e}},oie={noPrefill:[\"writing-mode\"],supportedProperty:function(e){return e!==\"writing-mode\"?!1:tt.js===\"Webkit\"||tt.js===\"ms\"\u0026\u0026tt.browser!==\"edge\"?tt.css+e:e}},uie={noPrefill:[\"user-select\"],supportedProperty:function(e){return e!==\"user-select\"?!1:tt.js===\"Moz\"||tt.js===\"ms\"||tt.vendor===\"apple\"?tt.css+e:e}},cie={supportedProperty:function(e,r){if(!/^break-/.test(e))return!1;if(tt.js===\"Webkit\"){var i=\"WebkitColumn\"+Bi(e);return i in r?tt.css+\"column-\"+e:!1}if(tt.js===\"Moz\"){var o=\"page\"+Bi(e);return o in r?\"page-\"+e:!1}return!1}},lie={supportedProperty:function(e,r){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(tt.js===\"Moz\")return e;var i=e.replace(\"-inline\",\"\");return tt.js+Bi(i)in r?tt.css+i:!1}},hie={supportedProperty:function(e,r){return F_(e)in r?e:!1}},die={supportedProperty:function(e,r){var i=Bi(e);return e[0]===\"-\"||e[0]===\"-\"\u0026\u0026e[1]===\"-\"?e:tt.js+i in r?tt.css+e:tt.js!==\"Webkit\"\u0026\u0026\"Webkit\"+i in r?\"-webkit-\"+e:!1}},pie={supportedProperty:function(e){return e.substring(0,11)!==\"scroll-snap\"?!1:tt.js===\"ms\"?\"\"+tt.css+e:e}},fie={supportedProperty:function(e){return e!==\"overscroll-behavior\"?!1:tt.js===\"ms\"?tt.css+\"scroll-chaining\":e}},mie={\"flex-grow\":\"flex-positive\",\"flex-shrink\":\"flex-negative\",\"flex-basis\":\"flex-preferred-size\",\"justify-content\":\"flex-pack\",order:\"flex-order\",\"align-items\":\"flex-align\",\"align-content\":\"flex-line-pack\"},vie={supportedProperty:function(e,r){var i=mie[e];return i\u0026\u0026tt.js+Bi(i)in r?tt.css+i:!1}},H5={flex:\"box-flex\",\"flex-grow\":\"box-flex\",\"flex-direction\":[\"box-orient\",\"box-direction\"],order:\"box-ordinal-group\",\"align-items\":\"box-align\",\"flex-flow\":[\"box-orient\",\"box-direction\"],\"justify-content\":\"box-pack\"},gie=Object.keys(H5),yie=function(e){return tt.css+e},_ie={supportedProperty:function(e,r,i){var o=i.multiple;if(gie.indexOf(e)\u003e-1){var c=H5[e];if(!Array.isArray(c))return tt.js+Bi(c)in r?tt.css+c:!1;if(!o)return!1;for(var d=0;d\u003cc.length;d++)if(!(tt.js+Bi(c[0])in r))return!1;return c.map(yie)}return!1}},Y5=[Jae,eie,rie,aie,iie,sie,oie,uie,cie,lie,hie,die,pie,fie,vie,_ie],X5=Y5.filter(function(n){return n.supportedProperty}).map(function(n){return n.supportedProperty}),bie=Y5.filter(function(n){return n.noPrefill}).reduce(function(n,e){return n.push.apply(n,Zae(e.noPrefill)),n},[]),cl,Cs={};if(ef){cl=document.createElement(\"p\"),af=window.getComputedStyle(document.documentElement,\"\");for(sf in af)isNaN(sf)||(Cs[af[sf]]=af[sf]);bie.forEach(function(n){return delete Cs[n]})}var af,sf;function V_(n,e){if(e===void 0\u0026\u0026(e={}),!cl)return n;if(Cs[n]!=null)return Cs[n];(n===\"transition\"||n===\"transform\")\u0026\u0026(e[n]=n in cl.style);for(var r=0;r\u003cX5.length\u0026\u0026(Cs[n]=X5[r](n,cl.style,e),!Cs[n]);r++);try{cl.style[n]=\"\"}catch(i){return!1}return Cs[n]}var uu={},xie={transition:1,\"transition-property\":1,\"-webkit-transition\":1,\"-webkit-transition-property\":1},kie=/(^\\s*[\\w-]+)|, (\\s*[\\w-]+)(?![^()]*\\))/g,zi;function Nie(n,e,r){if(e===\"var\")return\"var\";if(e===\"all\")return\"all\";if(r===\"all\")return\", all\";var i=e?V_(e):\", \"+V_(r);return i||e||r}ef\u0026\u0026(zi=document.createElement(\"p\"));function wie(n,e){var r=e;if(!zi||n===\"content\")return e;if(typeof r!=\"string\"||!isNaN(parseInt(r,10)))return r;var i=n+r;if(uu[i]!=null)return uu[i];try{zi.style[n]=r}catch(o){return uu[i]=!1,!1}if(xie[n])r=r.replace(kie,Nie);else if(zi.style[n]===\"\"\u0026\u0026(r=tt.css+r,r===\"-ms-flex\"\u0026\u0026(zi.style[n]=\"-ms-flexbox\"),zi.style[n]=r,zi.style[n]===\"\"))return uu[i]=!1,!1;return zi.style[n]=\"\",uu[i]=r,uu[i]}cu.prefix=tt;cu.supportedKeyframes=Qae;cu.supportedProperty=V_;cu.supportedValue=wie});var Q5=v(L_=\u003e{\"use strict\";Object.defineProperty(L_,\"__esModule\",{value:!0});var of=Z5(),K5=Li();function qie(){function n(o){if(o.type===\"keyframes\"){var c=o;c.at=of.supportedKeyframes(c.at)}}function e(o){for(var c in o){var d=o[c];if(c===\"fallbacks\"\u0026\u0026Array.isArray(d)){o[c]=d.map(e);continue}var p=!1,g=of.supportedProperty(c);g\u0026\u0026g!==c\u0026\u0026(p=!0);var _=!1,k=of.supportedValue(g,K5.toCssValue(d));k\u0026\u0026k!==d\u0026\u0026(_=!0),(p||_)\u0026\u0026(p\u0026\u0026delete o[c],o[g||c]=k||d)}return o}function r(o,c){return c.type!==\"style\"?o:e(o)}function i(o,c){return of.supportedValue(c,K5.toCssValue(o))||o}return{onProcessRule:n,onProcessStyle:r,onChangeValue:i}}L_.default=qie});var J5=v(W_=\u003e{\"use strict\";Object.defineProperty(W_,\"__esModule\",{value:!0});function Tie(){var n=function(r,i){return r.length===i.length?r\u003ei?1:-1:r.length-i.length};return{onProcessStyle:function(r,i){if(i.type!==\"style\")return r;for(var o={},c=Object.keys(r).sort(n),d=0;d\u003cc.length;d++)o[c[d]]=r[c[d]];return o}}}W_.default=Tie});var eR=v(B_=\u003e{\"use strict\";var As=Me();Object.defineProperty(B_,\"__esModule\",{value:!0});B_.default=Eie;var Mie=As(M5()),Sie=As(P5()),Pie=As(C5()),Oie=As(j5()),Cie=As(I5()),Aie=As(Q5()),Rie=As(J5());function Eie(){return{plugins:[(0,Mie.default)(),(0,Sie.default)(),(0,Pie.default)(),(0,Oie.default)(),(0,Cie.default)(),typeof window==\"undefined\"?null:(0,Aie.default)(),(0,Rie.default)()]}}});var G_=v(z_=\u003e{\"use strict\";var jie=Me();Object.defineProperty(z_,\"__esModule\",{value:!0});Object.defineProperty(z_,\"default\",{enumerable:!0,get:function(){return Die.default}});var Die=jie(eR())});var tR=v(U_=\u003e{\"use strict\";var Iie=Me();Object.defineProperty(U_,\"__esModule\",{value:!0});U_.default=Vie;var Fie=Iie(xt()),Pke=on();function Vie(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.baseClasses,r=n.newClasses,i=n.Component;if(!r)return e;var o=(0,Fie.default)({},e);return Object.keys(r).forEach(function(c){r[c]\u0026\u0026(o[c]=\"\".concat(e[c],\" \").concat(r[c]))}),o}});var H_=v($_=\u003e{\"use strict\";var Lie=Me();Object.defineProperty($_,\"__esModule\",{value:!0});Object.defineProperty($_,\"default\",{enumerable:!0,get:function(){return Wie.default}});var Wie=Lie(tR())});var nR=v(uf=\u003e{\"use strict\";Object.defineProperty(uf,\"__esModule\",{value:!0});uf.default=void 0;var Bie={set:function(e,r,i,o){var c=e.get(r);c||(c=new Map,e.set(r,c)),c.set(i,o)},get:function(e,r,i){var o=e.get(r);return o?o.get(i):void 0},delete:function(e,r,i){var o=e.get(r);o.delete(i)}},zie=Bie;uf.default=zie});var Y_=v(cf=\u003e{\"use strict\";var Gie=Me();Object.defineProperty(cf,\"__esModule\",{value:!0});cf.default=void 0;var Uie=Gie(ut()),$ie=Uie.default.createContext(null),Hie=$ie;cf.default=Hie});var aR=v(X_=\u003e{\"use strict\";var rR=Me();Object.defineProperty(X_,\"__esModule\",{value:!0});X_.default=Zie;var Yie=rR(ut()),Xie=rR(Y_());function Zie(){var n=Yie.default.useContext(Xie.default);return n}});var lu=v(Z_=\u003e{\"use strict\";var Kie=Me();Object.defineProperty(Z_,\"__esModule\",{value:!0});Object.defineProperty(Z_,\"default\",{enumerable:!0,get:function(){return Qie.default}});var Qie=Kie(aR())});var uR=v(Rs=\u003e{\"use strict\";var hu=Me();Object.defineProperty(Rs,\"__esModule\",{value:!0});Rs.default=ise;Rs.StylesContext=Rs.sheetsManager=void 0;var Jie=hu(xt()),ese=hu(Vn()),K_=hu(ut()),Dke=hu(Wt()),Ike=on(),tse=hu(Hp()),iR=Li(),sR=hu(G_()),nse=(0,iR.create)((0,sR.default)()),rse=(0,tse.default)(),oR=new Map;Rs.sheetsManager=oR;var ase={disableGeneration:!1,generateClassName:rse,jss:nse,sheetsCache:null,sheetsManager:oR,sheetsRegistry:null},Q_=K_.default.createContext(ase);Rs.StylesContext=Q_;var lf;function ise(n){var e=n.children,r=n.injectFirst,i=r===void 0?!1:r,o=n.disableGeneration,c=o===void 0?!1:o,d=(0,ese.default)(n,[\"children\",\"injectFirst\",\"disableGeneration\"]),p=K_.default.useContext(Q_),g=(0,Jie.default)({},p,{disableGeneration:c},d);if(!g.jss.options.insertionPoint\u0026\u0026i\u0026\u0026typeof window!=\"undefined\"){if(!lf){var _=document.head;lf=document.createComment(\"mui-inject-first\"),_.insertBefore(lf,_.firstChild)}g.jss=(0,iR.create)({plugins:(0,sR.default)().plugins,insertionPoint:lf})}return K_.default.createElement(Q_.Provider,{value:g},e)}});var df=v(hf=\u003e{\"use strict\";var sse=sn();Object.defineProperty(hf,\"__esModule\",{value:!0});var ose={};Object.defineProperty(hf,\"default\",{enumerable:!0,get:function(){return J_.default}});var J_=sse(uR());Object.keys(J_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ose,n)||Object.defineProperty(hf,n,{enumerable:!0,get:function(){return J_[n]}})})});var lR=v(e0=\u003e{\"use strict\";Object.defineProperty(e0,\"__esModule\",{value:!0});e0.increment=use;var cR=-1e9;function use(){return cR+=1,cR}});var t0=v(pf=\u003e{\"use strict\";Object.defineProperty(pf,\"__esModule\",{value:!0});pf.default=void 0;var cse={},lse=cse;pf.default=lse});var hR=v(r0=\u003e{\"use strict\";var n0=Me();Object.defineProperty(r0,\"__esModule\",{value:!0});r0.default=pse;var hse=n0(xt()),Bke=n0(au()),dse=on(),zke=n0(t0());function pse(n){var e=typeof n==\"function\";return{create:function(i,o){var c;try{c=e?n(i):n}catch(g){throw g}if(!o||!i.overrides||!i.overrides[o])return c;var d=i.overrides[o],p=(0,hse.default)({},c);return Object.keys(d).forEach(function(g){p[g]=(0,dse.deepmerge)(p[g],d[g])}),p},options:{}}}});var dR=v(a0=\u003e{\"use strict\";var fse=Me();Object.defineProperty(a0,\"__esModule\",{value:!0});Object.defineProperty(a0,\"default\",{enumerable:!0,get:function(){return mse.default}});var mse=fse(hR())});var fR=v(i0=\u003e{\"use strict\";var Gi=Me();Object.defineProperty(i0,\"__esModule\",{value:!0});i0.default=Sse;var vse=Gi(Vn()),ff=Gi(xt()),Es=Gi(ut()),gse=Li(),pR=Gi(H_()),du=Gi(nR()),yse=Gi(lu()),_se=df(),bse=lR(),xse=Gi(dR()),kse=Gi(t0());function Nse(n,e,r){var i=n.state,o=n.stylesOptions;if(o.disableGeneration)return e||{};i.cacheClasses||(i.cacheClasses={value:null,lastProp:null,lastJSS:{}});var c=!1;return i.classes!==i.cacheClasses.lastJSS\u0026\u0026(i.cacheClasses.lastJSS=i.classes,c=!0),e!==i.cacheClasses.lastProp\u0026\u0026(i.cacheClasses.lastProp=e,c=!0),c\u0026\u0026(i.cacheClasses.value=(0,pR.default)({baseClasses:i.cacheClasses.lastJSS,newClasses:e,Component:r})),i.cacheClasses.value}function wse(n,e){var r=n.state,i=n.theme,o=n.stylesOptions,c=n.stylesCreator,d=n.name;if(!o.disableGeneration){var p=du.default.get(o.sheetsManager,c,i);p||(p={refs:0,staticSheet:null,dynamicStyles:null},du.default.set(o.sheetsManager,c,i,p));var g=(0,ff.default)({},c.options,o,{theme:i,flip:typeof o.flip==\"boolean\"?o.flip:i.direction===\"rtl\"});g.generateId=g.serverGenerateClassName||g.generateClassName;var _=o.sheetsRegistry;if(p.refs===0){var k;o.sheetsCache\u0026\u0026(k=du.default.get(o.sheetsCache,c,i));var x=c.create(i,d);k||(k=o.jss.createStyleSheet(x,(0,ff.default)({link:!1},g)),k.attach(),o.sheetsCache\u0026\u0026du.default.set(o.sheetsCache,c,i,k)),_\u0026\u0026_.add(k),p.staticSheet=k,p.dynamicStyles=(0,gse.getDynamicStyles)(x)}if(p.dynamicStyles){var q=o.jss.createStyleSheet(p.dynamicStyles,(0,ff.default)({link:!0},g));q.update(e),q.attach(),r.dynamicSheet=q,r.classes=(0,pR.default)({baseClasses:p.staticSheet.classes,newClasses:q.classes}),_\u0026\u0026_.add(q)}else r.classes=p.staticSheet.classes;p.refs+=1}}function qse(n,e){var r=n.state;r.dynamicSheet\u0026\u0026r.dynamicSheet.update(e)}function Tse(n){var e=n.state,r=n.theme,i=n.stylesOptions,o=n.stylesCreator;if(!i.disableGeneration){var c=du.default.get(i.sheetsManager,o,r);c.refs-=1;var d=i.sheetsRegistry;c.refs===0\u0026\u0026(du.default.delete(i.sheetsManager,o,r),i.jss.removeStyleSheet(c.staticSheet),d\u0026\u0026d.remove(c.staticSheet)),e.dynamicSheet\u0026\u0026(i.jss.removeStyleSheet(e.dynamicSheet),d\u0026\u0026d.remove(e.dynamicSheet))}}function Mse(n,e){var r=Es.default.useRef([]),i,o=Es.default.useMemo(function(){return{}},e);r.current!==o\u0026\u0026(r.current=o,i=n()),Es.default.useEffect(function(){return function(){i\u0026\u0026i()}},[o])}function Sse(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},r=e.name,i=e.classNamePrefix,o=e.Component,c=e.defaultTheme,d=c===void 0?kse.default:c,p=(0,vse.default)(e,[\"name\",\"classNamePrefix\",\"Component\",\"defaultTheme\"]),g=(0,xse.default)(n),_=r||i||\"makeStyles\";g.options={index:(0,bse.increment)(),name:r,meta:_,classNamePrefix:_};var k=function(){var q=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},V=(0,yse.default)()||d,P=(0,ff.default)({},Es.default.useContext(_se.StylesContext),p),W=Es.default.useRef(),K=Es.default.useRef();Mse(function(){var X={name:r,state:{},stylesCreator:g,stylesOptions:P,theme:V};return wse(X,q),K.current=!1,W.current=X,function(){Tse(X)}},[V,g]),Es.default.useEffect(function(){K.current\u0026\u0026qse(W.current,q),K.current=!0});var J=Nse(W.current,q.classes,o);return J};return k}});var mf=v(s0=\u003e{\"use strict\";var Pse=Me();Object.defineProperty(s0,\"__esModule\",{value:!0});Object.defineProperty(s0,\"default\",{enumerable:!0,get:function(){return Ose.default}});var Ose=Pse(fR())});var mR=v((Yke,ll)=\u003e{function Cse(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")}ll.exports=Cse;ll.exports.default=ll.exports,ll.exports.__esModule=!0});var yR=v(vf=\u003e{\"use strict\";var pu=Me();Object.defineProperty(vf,\"__esModule\",{value:!0});vf.default=void 0;var vR=pu(xt()),Ase=pu(mR()),Rse=pu(l_()),gR=pu(ut()),Ese=Li(),jse=pu(df()),Dse=pu(Hp()),Ise=function(){function n(){var e=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{};(0,Ase.default)(this,n),this.options=e}return(0,Rse.default)(n,[{key:\"collect\",value:function(r){var i=new Map;this.sheetsRegistry=new Ese.SheetsRegistry;var o=(0,Dse.default)();return gR.default.createElement(jse.default,(0,vR.default)({sheetsManager:i,serverGenerateClassName:o,sheetsRegistry:this.sheetsRegistry},this.options),r)}},{key:\"toString\",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():\"\"}},{key:\"getStyleElement\",value:function(r){return gR.default.createElement(\"style\",(0,vR.default)({id:\"jss-server-side\",key:\"jss-server-side\",dangerouslySetInnerHTML:{__html:this.toString()}},r))}}]),n}();vf.default=Ise});var _R=v(o0=\u003e{\"use strict\";var Fse=Me();Object.defineProperty(o0,\"__esModule\",{value:!0});Object.defineProperty(o0,\"default\",{enumerable:!0,get:function(){return Vse.default}});var Vse=Fse(yR())});var gf=v((Kke,qR)=\u003e{\"use strict\";var u0=Qy(),Lse={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Wse={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Bse={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c0={};c0[u0.ForwardRef]=Bse;c0[u0.Memo]=bR;function xR(n){return u0.isMemo(n)?bR:c0[n.$$typeof]||Lse}var zse=Object.defineProperty,Gse=Object.getOwnPropertyNames,kR=Object.getOwnPropertySymbols,Use=Object.getOwnPropertyDescriptor,$se=Object.getPrototypeOf,NR=Object.prototype;function wR(n,e,r){if(typeof e!=\"string\"){if(NR){var i=$se(e);i\u0026\u0026i!==NR\u0026\u0026wR(n,i,r)}var o=Gse(e);kR\u0026\u0026(o=o.concat(kR(e)));for(var c=xR(n),d=xR(e),p=0;p\u003co.length;++p){var g=o[p];if(!Wse[g]\u0026\u0026!(r\u0026\u0026r[g])\u0026\u0026!(d\u0026\u0026d[g])\u0026\u0026!(c\u0026\u0026c[g])){var _=Use(e,g);try{zse(n,g,_)}catch(k){}}}}return n}qR.exports=wR});var SR=v(h0=\u003e{\"use strict\";var js=Me();Object.defineProperty(h0,\"__esModule\",{value:!0});h0.default=Zse;var hl=js(xt()),TR=js(Vn()),l0=js(ut()),MR=js(Vi()),Qke=js(Wt()),Jke=on(),Hse=js(gf()),Yse=js(mf());function Xse(n,e){var r={};return Object.keys(n).forEach(function(i){e.indexOf(i)===-1\u0026\u0026(r[i]=n[i])}),r}function Zse(n){var e=function(i){var o=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},c=o.name,d=(0,TR.default)(o,[\"name\"]),p=c;if(!1\u0026\u0026!c)var g;var _=typeof i==\"function\"?function(P){return{root:function(K){return i((0,hl.default)({theme:P},K))}}}:{root:i},k=(0,Yse.default)(_,(0,hl.default)({Component:n,name:c||n.displayName,classNamePrefix:p},d)),x,q={};i.filterProps\u0026\u0026(x=i.filterProps,delete i.filterProps),i.propTypes\u0026\u0026(q=i.propTypes,delete i.propTypes);var V=l0.default.forwardRef(function(W,K){var J=W.children,X=W.className,oe=W.clone,G=W.component,R=(0,TR.default)(W,[\"children\",\"className\",\"clone\",\"component\"]),$=k(W),U=(0,MR.default)($.root,X),te=R;if(x\u0026\u0026(te=Xse(te,x)),oe)return l0.default.cloneElement(J,(0,hl.default)({className:(0,MR.default)(J.props.className,U)},te));if(typeof J==\"function\")return J((0,hl.default)({className:U},te));var ie=G||n;return l0.default.createElement(ie,(0,hl.default)({ref:K,className:U},te),J)});return(0,Hse.default)(V,n),V};return e}});var PR=v(d0=\u003e{\"use strict\";var Kse=Me();Object.defineProperty(d0,\"__esModule\",{value:!0});Object.defineProperty(d0,\"default\",{enumerable:!0,get:function(){return Qse.default}});var Qse=Kse(SR())});var CR=v(yf=\u003e{\"use strict\";var fu=Me();Object.defineProperty(yf,\"__esModule\",{value:!0});yf.default=void 0;var Jse=fu(xt()),OR=fu(ut()),nNe=fu(Wt()),rNe=on(),eoe=fu(Y_()),toe=fu(lu()),noe=fu(t_());function roe(n,e){if(typeof e==\"function\"){var r=e(n);return r}return(0,Jse.default)({},n,e)}function aoe(n){var e=n.children,r=n.theme,i=(0,toe.default)(),o=OR.default.useMemo(function(){var c=i===null?r:roe(i,r);return c!=null\u0026\u0026(c[noe.default]=i!==null),c},[r,i]);return OR.default.createElement(eoe.default.Provider,{value:o},e)}var ioe=aoe;yf.default=ioe});var AR=v(p0=\u003e{\"use strict\";var soe=Me();Object.defineProperty(p0,\"__esModule\",{value:!0});Object.defineProperty(p0,\"default\",{enumerable:!0,get:function(){return ooe.default}});var ooe=soe(CR())});var jR=v(_f=\u003e{\"use strict\";var Ui=Me();Object.defineProperty(_f,\"__esModule\",{value:!0});_f.default=void 0;var f0=Ui(xt()),RR=Ui(Vn()),ER=Ui(ut()),sNe=Ui(Wt()),uoe=Ui(gf()),oNe=on(),coe=Ui(mf()),loe=Ui(u_()),hoe=Ui(lu()),doe=function(e){var r=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{};return function(i){var o=r.defaultTheme,c=r.withTheme,d=c===void 0?!1:c,p=r.name,g=(0,RR.default)(r,[\"defaultTheme\",\"withTheme\",\"name\"]),_=p;if(!1\u0026\u0026!p)var k;var x=(0,coe.default)(e,(0,f0.default)({defaultTheme:o,Component:i,name:p||i.displayName,classNamePrefix:_},g)),q=ER.default.forwardRef(function(P,W){var K=P.classes,J=P.innerRef,X=(0,RR.default)(P,[\"classes\",\"innerRef\"]),oe=x((0,f0.default)({},i.defaultProps,P)),G,R=X;return(typeof p==\"string\"||d)\u0026\u0026(G=(0,hoe.default)()||o,p\u0026\u0026(R=(0,loe.default)({theme:G,name:p,props:X})),d\u0026\u0026!R.theme\u0026\u0026(R.theme=G)),ER.default.createElement(i,(0,f0.default)({ref:J||W,classes:oe},R))});return(0,uoe.default)(q,i),q}},poe=doe;_f.default=poe});var DR=v(m0=\u003e{\"use strict\";var foe=Me();Object.defineProperty(m0,\"__esModule\",{value:!0});Object.defineProperty(m0,\"default\",{enumerable:!0,get:function(){return moe.default}});var moe=foe(jR())});var VR=v(dl=\u003e{\"use strict\";var mu=Me();Object.defineProperty(dl,\"__esModule\",{value:!0});dl.withThemeCreator=FR;dl.default=void 0;var voe=mu(xt()),goe=mu(Vn()),IR=mu(ut()),lNe=mu(Wt()),yoe=mu(gf()),hNe=on(),_oe=mu(lu());function FR(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.defaultTheme,r=function(o){var c=IR.default.forwardRef(function(p,g){var _=p.innerRef,k=(0,goe.default)(p,[\"innerRef\"]),x=(0,_oe.default)()||e;return IR.default.createElement(o,(0,voe.default)({theme:x,ref:_||g},k))});return(0,yoe.default)(c,o),c};return r}var boe=FR(),xoe=boe;dl.default=xoe});var LR=v(bf=\u003e{\"use strict\";var koe=sn();Object.defineProperty(bf,\"__esModule\",{value:!0});var Noe={};Object.defineProperty(bf,\"default\",{enumerable:!0,get:function(){return v0.default}});var v0=koe(VR());Object.keys(v0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(Noe,n)||Object.defineProperty(bf,n,{enumerable:!0,get:function(){return v0[n]}})})});var WR=v(Nt=\u003e{\"use strict\";var Nr=sn();Object.defineProperty(Nt,\"__esModule\",{value:!0});var wr={createGenerateClassName:!0,createStyles:!0,getThemeProps:!0,jssPreset:!0,makeStyles:!0,mergeClasses:!0,ServerStyleSheets:!0,styled:!0,StylesProvider:!0,ThemeProvider:!0,useTheme:!0,withStyles:!0,withTheme:!0};Object.defineProperty(Nt,\"createGenerateClassName\",{enumerable:!0,get:function(){return g0.default}});Object.defineProperty(Nt,\"createStyles\",{enumerable:!0,get:function(){return y0.default}});Object.defineProperty(Nt,\"getThemeProps\",{enumerable:!0,get:function(){return _0.default}});Object.defineProperty(Nt,\"jssPreset\",{enumerable:!0,get:function(){return b0.default}});Object.defineProperty(Nt,\"makeStyles\",{enumerable:!0,get:function(){return x0.default}});Object.defineProperty(Nt,\"mergeClasses\",{enumerable:!0,get:function(){return k0.default}});Object.defineProperty(Nt,\"ServerStyleSheets\",{enumerable:!0,get:function(){return N0.default}});Object.defineProperty(Nt,\"styled\",{enumerable:!0,get:function(){return w0.default}});Object.defineProperty(Nt,\"StylesProvider\",{enumerable:!0,get:function(){return q0.default}});Object.defineProperty(Nt,\"ThemeProvider\",{enumerable:!0,get:function(){return T0.default}});Object.defineProperty(Nt,\"useTheme\",{enumerable:!0,get:function(){return M0.default}});Object.defineProperty(Nt,\"withStyles\",{enumerable:!0,get:function(){return S0.default}});Object.defineProperty(Nt,\"withTheme\",{enumerable:!0,get:function(){return P0.default}});var fNe=on(),g0=Nr(Hp());Object.keys(g0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return g0[n]}})});var y0=Nr(e5());Object.keys(y0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return y0[n]}})});var _0=Nr(u_());Object.keys(_0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return _0[n]}})});var b0=Nr(G_());Object.keys(b0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return b0[n]}})});var x0=Nr(mf());Object.keys(x0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return x0[n]}})});var k0=Nr(H_());Object.keys(k0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return k0[n]}})});var N0=Nr(_R());Object.keys(N0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return N0[n]}})});var w0=Nr(PR());Object.keys(w0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return w0[n]}})});var q0=Nr(df());Object.keys(q0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return q0[n]}})});var T0=Nr(AR());Object.keys(T0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return T0[n]}})});var M0=Nr(lu());Object.keys(M0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return M0[n]}})});var S0=Nr(DR());Object.keys(S0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return S0[n]}})});var P0=Nr(LR());Object.keys(P0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(wr,n)||Object.defineProperty(Nt,n,{enumerable:!0,get:function(){return P0[n]}})})});var zR=v(pl=\u003e{\"use strict\";var BR=Me();Object.defineProperty(pl,\"__esModule\",{value:!0});pl.default=Toe;pl.keys=void 0;var woe=BR(xt()),qoe=BR(Vn()),Ja=[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"];pl.keys=Ja;function Toe(n){var e=n.values,r=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,i=n.unit,o=i===void 0?\"px\":i,c=n.step,d=c===void 0?5:c,p=(0,qoe.default)(n,[\"values\",\"unit\",\"step\"]);function g(P){var W=typeof r[P]==\"number\"?r[P]:P;return\"@media (min-width:\".concat(W).concat(o,\")\")}function _(P){var W=Ja.indexOf(P)+1,K=r[Ja[W]];if(W===Ja.length)return g(\"xs\");var J=typeof K==\"number\"\u0026\u0026W\u003e0?K:P;return\"@media (max-width:\".concat(J-d/100).concat(o,\")\")}function k(P,W){var K=Ja.indexOf(W);return K===Ja.length-1?g(P):\"@media (min-width:\".concat(typeof r[P]==\"number\"?r[P]:P).concat(o,\") and \")+\"(max-width:\".concat((K!==-1\u0026\u0026typeof r[Ja[K+1]]==\"number\"?r[Ja[K+1]]:W)-d/100).concat(o,\")\")}function x(P){return k(P,P)}var q=!1;function V(P){return r[P]}return(0,woe.default)({keys:Ja,values:r,up:g,down:_,between:k,only:x,width:V},p)}});var UR=v(A0=\u003e{\"use strict\";var GR=Me();Object.defineProperty(A0,\"__esModule\",{value:!0});A0.default=Moe;var O0=GR(Fc()),C0=GR(xt());function Moe(n,e,r){var i;return(0,C0.default)({gutters:function(){var c=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{};return console.warn([\"Material-UI: theme.mixins.gutters() is deprecated.\",\"You can use the source of the mixin directly:\",`\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      `].join(`\n`)),(0,C0.default)({paddingLeft:e(2),paddingRight:e(2)},c,(0,O0.default)({},n.up(\"sm\"),(0,C0.default)({paddingLeft:e(3),paddingRight:e(3)},c[n.up(\"sm\")])))},toolbar:(i={minHeight:56},(0,O0.default)(i,\"\".concat(n.up(\"xs\"),\" and (orientation: landscape)\"),{minHeight:48}),(0,O0.default)(i,n.up(\"sm\"),{minHeight:64}),i)},r)}});var $R=v(xf=\u003e{\"use strict\";Object.defineProperty(xf,\"__esModule\",{value:!0});xf.default=void 0;var Soe={black:\"#000\",white:\"#fff\"},Poe=Soe;xf.default=Poe});var HR=v(kf=\u003e{\"use strict\";Object.defineProperty(kf,\"__esModule\",{value:!0});kf.default=void 0;var Ooe={50:\"#fafafa\",100:\"#f5f5f5\",200:\"#eeeeee\",300:\"#e0e0e0\",400:\"#bdbdbd\",500:\"#9e9e9e\",600:\"#757575\",700:\"#616161\",800:\"#424242\",900:\"#212121\",A100:\"#d5d5d5\",A200:\"#aaaaaa\",A400:\"#303030\",A700:\"#616161\"},Coe=Ooe;kf.default=Coe});var YR=v(Nf=\u003e{\"use strict\";Object.defineProperty(Nf,\"__esModule\",{value:!0});Nf.default=void 0;var Aoe={50:\"#e8eaf6\",100:\"#c5cae9\",200:\"#9fa8da\",300:\"#7986cb\",400:\"#5c6bc0\",500:\"#3f51b5\",600:\"#3949ab\",700:\"#303f9f\",800:\"#283593\",900:\"#1a237e\",A100:\"#8c9eff\",A200:\"#536dfe\",A400:\"#3d5afe\",A700:\"#304ffe\"},Roe=Aoe;Nf.default=Roe});var XR=v(wf=\u003e{\"use strict\";Object.defineProperty(wf,\"__esModule\",{value:!0});wf.default=void 0;var Eoe={50:\"#fce4ec\",100:\"#f8bbd0\",200:\"#f48fb1\",300:\"#f06292\",400:\"#ec407a\",500:\"#e91e63\",600:\"#d81b60\",700:\"#c2185b\",800:\"#ad1457\",900:\"#880e4f\",A100:\"#ff80ab\",A200:\"#ff4081\",A400:\"#f50057\",A700:\"#c51162\"},joe=Eoe;wf.default=joe});var ZR=v(qf=\u003e{\"use strict\";Object.defineProperty(qf,\"__esModule\",{value:!0});qf.default=void 0;var Doe={50:\"#ffebee\",100:\"#ffcdd2\",200:\"#ef9a9a\",300:\"#e57373\",400:\"#ef5350\",500:\"#f44336\",600:\"#e53935\",700:\"#d32f2f\",800:\"#c62828\",900:\"#b71c1c\",A100:\"#ff8a80\",A200:\"#ff5252\",A400:\"#ff1744\",A700:\"#d50000\"},Ioe=Doe;qf.default=Ioe});var KR=v(Tf=\u003e{\"use strict\";Object.defineProperty(Tf,\"__esModule\",{value:!0});Tf.default=void 0;var Foe={50:\"#fff3e0\",100:\"#ffe0b2\",200:\"#ffcc80\",300:\"#ffb74d\",400:\"#ffa726\",500:\"#ff9800\",600:\"#fb8c00\",700:\"#f57c00\",800:\"#ef6c00\",900:\"#e65100\",A100:\"#ffd180\",A200:\"#ffab40\",A400:\"#ff9100\",A700:\"#ff6d00\"},Voe=Foe;Tf.default=Voe});var QR=v(Mf=\u003e{\"use strict\";Object.defineProperty(Mf,\"__esModule\",{value:!0});Mf.default=void 0;var Loe={50:\"#e3f2fd\",100:\"#bbdefb\",200:\"#90caf9\",300:\"#64b5f6\",400:\"#42a5f5\",500:\"#2196f3\",600:\"#1e88e5\",700:\"#1976d2\",800:\"#1565c0\",900:\"#0d47a1\",A100:\"#82b1ff\",A200:\"#448aff\",A400:\"#2979ff\",A700:\"#2962ff\"},Woe=Loe;Mf.default=Woe});var JR=v(Sf=\u003e{\"use strict\";Object.defineProperty(Sf,\"__esModule\",{value:!0});Sf.default=void 0;var Boe={50:\"#e8f5e9\",100:\"#c8e6c9\",200:\"#a5d6a7\",300:\"#81c784\",400:\"#66bb6a\",500:\"#4caf50\",600:\"#43a047\",700:\"#388e3c\",800:\"#2e7d32\",900:\"#1b5e20\",A100:\"#b9f6ca\",A200:\"#69f0ae\",A400:\"#00e676\",A700:\"#00c853\"},zoe=Boe;Sf.default=zoe});var iE=v(sr=\u003e{\"use strict\";Object.defineProperty(sr,\"__esModule\",{value:!0});sr.hexToRgb=eE;sr.rgbToHex=$oe;sr.hslToRgb=tE;sr.decomposeColor=ei;sr.recomposeColor=fl;sr.getContrastRatio=Hoe;sr.getLuminance=Pf;sr.emphasize=Yoe;sr.fade=Xoe;sr.alpha=nE;sr.darken=rE;sr.lighten=aE;var Goe=on();function R0(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:0,r=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,n),r)}function eE(n){n=n.substr(1);var e=new RegExp(\".{1,\".concat(n.length\u003e=6?2:1,\"}\"),\"g\"),r=n.match(e);return r\u0026\u0026r[0].length===1\u0026\u0026(r=r.map(function(i){return i+i})),r?\"rgb\".concat(r.length===4?\"a\":\"\",\"(\").concat(r.map(function(i,o){return o\u003c3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3}).join(\", \"),\")\"):\"\"}function Uoe(n){var e=n.toString(16);return e.length===1?\"0\".concat(e):e}function $oe(n){if(n.indexOf(\"#\")===0)return n;var e=ei(n),r=e.values;return\"#\".concat(r.map(function(i){return Uoe(i)}).join(\"\"))}function tE(n){n=ei(n);var e=n,r=e.values,i=r[0],o=r[1]/100,c=r[2]/100,d=o*Math.min(c,1-c),p=function(x){var q=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:(x+i/30)%12;return c-d*Math.max(Math.min(q-3,9-q,1),-1)},g=\"rgb\",_=[Math.round(p(0)*255),Math.round(p(8)*255),Math.round(p(4)*255)];return n.type===\"hsla\"\u0026\u0026(g+=\"a\",_.push(r[3])),fl({type:g,values:_})}function ei(n){if(n.type)return n;if(n.charAt(0)===\"#\")return ei(eE(n));var e=n.indexOf(\"(\"),r=n.substring(0,e);if([\"rgb\",\"rgba\",\"hsl\",\"hsla\"].indexOf(r)===-1)throw new Error((0,Goe.formatMuiErrorMessage)(3,n));var i=n.substring(e+1,n.length-1).split(\",\");return i=i.map(function(o){return parseFloat(o)}),{type:r,values:i}}function fl(n){var e=n.type,r=n.values;return e.indexOf(\"rgb\")!==-1?r=r.map(function(i,o){return o\u003c3?parseInt(i,10):i}):e.indexOf(\"hsl\")!==-1\u0026\u0026(r[1]=\"\".concat(r[1],\"%\"),r[2]=\"\".concat(r[2],\"%\")),\"\".concat(e,\"(\").concat(r.join(\", \"),\")\")}function Hoe(n,e){var r=Pf(n),i=Pf(e);return(Math.max(r,i)+.05)/(Math.min(r,i)+.05)}function Pf(n){n=ei(n);var e=n.type===\"hsl\"?ei(tE(n)).values:n.values;return e=e.map(function(r){return r/=255,r\u003c=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Yoe(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:.15;return Pf(n)\u003e.5?rE(n,e):aE(n,e)}function Xoe(n,e){return nE(n,e)}function nE(n,e){return n=ei(n),e=R0(e),(n.type===\"rgb\"||n.type===\"hsl\")\u0026\u0026(n.type+=\"a\"),n.values[3]=e,fl(n)}function rE(n,e){if(n=ei(n),e=R0(e),n.type.indexOf(\"hsl\")!==-1)n.values[2]*=1-e;else if(n.type.indexOf(\"rgb\")!==-1)for(var r=0;r\u003c3;r+=1)n.values[r]*=1-e;return fl(n)}function aE(n,e){if(n=ei(n),e=R0(e),n.type.indexOf(\"hsl\")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf(\"rgb\")!==-1)for(var r=0;r\u003c3;r+=1)n.values[r]+=(255-n.values[r])*e;return fl(n)}});var cE=v(Ds=\u003e{\"use strict\";var Ca=Me();Object.defineProperty(Ds,\"__esModule\",{value:!0});Ds.default=Koe;Ds.dark=Ds.light=void 0;var sE=Ca(xt()),Zoe=Ca(Vn()),oE=on(),Of=Ca($R()),E0=Ca(HR()),j0=Ca(YR()),D0=Ca(XR()),I0=Ca(ZR()),F0=Ca(KR()),V0=Ca(QR()),L0=Ca(JR()),W0=iE(),B0={text:{primary:\"rgba(0, 0, 0, 0.87)\",secondary:\"rgba(0, 0, 0, 0.54)\",disabled:\"rgba(0, 0, 0, 0.38)\",hint:\"rgba(0, 0, 0, 0.38)\"},divider:\"rgba(0, 0, 0, 0.12)\",background:{paper:Of.default.white,default:E0.default[50]},action:{active:\"rgba(0, 0, 0, 0.54)\",hover:\"rgba(0, 0, 0, 0.04)\",hoverOpacity:.04,selected:\"rgba(0, 0, 0, 0.08)\",selectedOpacity:.08,disabled:\"rgba(0, 0, 0, 0.26)\",disabledBackground:\"rgba(0, 0, 0, 0.12)\",disabledOpacity:.38,focus:\"rgba(0, 0, 0, 0.12)\",focusOpacity:.12,activatedOpacity:.12}};Ds.light=B0;var Cf={text:{primary:Of.default.white,secondary:\"rgba(255, 255, 255, 0.7)\",disabled:\"rgba(255, 255, 255, 0.5)\",hint:\"rgba(255, 255, 255, 0.5)\",icon:\"rgba(255, 255, 255, 0.5)\"},divider:\"rgba(255, 255, 255, 0.12)\",background:{paper:E0.default[800],default:\"#303030\"},action:{active:Of.default.white,hover:\"rgba(255, 255, 255, 0.08)\",hoverOpacity:.08,selected:\"rgba(255, 255, 255, 0.16)\",selectedOpacity:.16,disabled:\"rgba(255, 255, 255, 0.3)\",disabledBackground:\"rgba(255, 255, 255, 0.12)\",disabledOpacity:.38,focus:\"rgba(255, 255, 255, 0.12)\",focusOpacity:.12,activatedOpacity:.24}};Ds.dark=Cf;function uE(n,e,r,i){var o=i.light||i,c=i.dark||i*1.5;n[e]||(n.hasOwnProperty(r)?n[e]=n[r]:e===\"light\"?n.light=(0,W0.lighten)(n.main,o):e===\"dark\"\u0026\u0026(n.dark=(0,W0.darken)(n.main,c)))}function Koe(n){var e=n.primary,r=e===void 0?{light:j0.default[300],main:j0.default[500],dark:j0.default[700]}:e,i=n.secondary,o=i===void 0?{light:D0.default.A200,main:D0.default.A400,dark:D0.default.A700}:i,c=n.error,d=c===void 0?{light:I0.default[300],main:I0.default[500],dark:I0.default[700]}:c,p=n.warning,g=p===void 0?{light:F0.default[300],main:F0.default[500],dark:F0.default[700]}:p,_=n.info,k=_===void 0?{light:V0.default[300],main:V0.default[500],dark:V0.default[700]}:_,x=n.success,q=x===void 0?{light:L0.default[300],main:L0.default[500],dark:L0.default[700]}:x,V=n.type,P=V===void 0?\"light\":V,W=n.contrastThreshold,K=W===void 0?3:W,J=n.tonalOffset,X=J===void 0?.2:J,oe=(0,Zoe.default)(n,[\"primary\",\"secondary\",\"error\",\"warning\",\"info\",\"success\",\"type\",\"contrastThreshold\",\"tonalOffset\"]);function G(te){var ie=(0,W0.getContrastRatio)(te,Cf.text.primary)\u003e=K?Cf.text.primary:B0.text.primary;if(!1)var be;return ie}var R=function(ie){var be=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:500,Ne=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:300,Ae=arguments.length\u003e3\u0026\u0026arguments[3]!==void 0?arguments[3]:700;if(ie=(0,sE.default)({},ie),!ie.main\u0026\u0026ie[be]\u0026\u0026(ie.main=ie[be]),!ie.main)throw new Error((0,oE.formatMuiErrorMessage)(4,be));if(typeof ie.main!=\"string\")throw new Error(_formatMuiErrorMessage(5,JSON.stringify(ie.main)));return uE(ie,\"light\",Ne,X),uE(ie,\"dark\",Ae,X),ie.contrastText||(ie.contrastText=G(ie.main)),ie},$={dark:Cf,light:B0},U=(0,oE.deepmerge)((0,sE.default)({common:Of.default,type:P,primary:R(r),secondary:R(o,\"A400\",\"A200\",\"A700\"),error:R(d),warning:R(g),info:R(k),success:R(q),grey:E0.default,contrastThreshold:K,getContrastText:G,augmentColor:R,tonalOffset:X},$[P]),oe);return U}});var mE=v(z0=\u003e{\"use strict\";var lE=Me();Object.defineProperty(z0,\"__esModule\",{value:!0});z0.default=tue;var hE=lE(xt()),Qoe=lE(Vn()),Joe=on();function dE(n){return Math.round(n*1e5)/1e5}function eue(n){return dE(n)}var pE={textTransform:\"uppercase\"},fE='\"Roboto\", \"Helvetica\", \"Arial\", sans-serif';function tue(n,e){var r=typeof e==\"function\"?e(n):e,i=r.fontFamily,o=i===void 0?fE:i,c=r.fontSize,d=c===void 0?14:c,p=r.fontWeightLight,g=p===void 0?300:p,_=r.fontWeightRegular,k=_===void 0?400:_,x=r.fontWeightMedium,q=x===void 0?500:x,V=r.fontWeightBold,P=V===void 0?700:V,W=r.htmlFontSize,K=W===void 0?16:W,J=r.allVariants,X=r.pxToRem,oe=(0,Qoe.default)(r,[\"fontFamily\",\"fontSize\",\"fontWeightLight\",\"fontWeightRegular\",\"fontWeightMedium\",\"fontWeightBold\",\"htmlFontSize\",\"allVariants\",\"pxToRem\"]),G=d/14,R=X||function(te){return\"\".concat(te/K*G,\"rem\")},$=function(ie,be,Ne,Ae,ze){return(0,hE.default)({fontFamily:o,fontWeight:ie,fontSize:R(be),lineHeight:Ne},o===fE?{letterSpacing:\"\".concat(dE(Ae/be),\"em\")}:{},ze,J)},U={h1:$(g,96,1.167,-1.5),h2:$(g,60,1.2,-.5),h3:$(k,48,1.167,0),h4:$(k,34,1.235,.25),h5:$(k,24,1.334,0),h6:$(q,20,1.6,.15),subtitle1:$(k,16,1.75,.15),subtitle2:$(q,14,1.57,.1),body1:$(k,16,1.5,.15),body2:$(k,14,1.43,.15),button:$(q,14,1.75,.4,pE),caption:$(k,12,1.66,.4),overline:$(k,12,2.66,1,pE)};return(0,Joe.deepmerge)((0,hE.default)({htmlFontSize:K,pxToRem:R,round:eue,fontFamily:o,fontSize:d,fontWeightLight:g,fontWeightRegular:k,fontWeightMedium:q,fontWeightBold:P},U),oe,{clone:!1})}});var vE=v(Af=\u003e{\"use strict\";Object.defineProperty(Af,\"__esModule\",{value:!0});Af.default=void 0;var nue=.2,rue=.14,aue=.12;function Bt(){return[\"\".concat(arguments.length\u003c=0?void 0:arguments[0],\"px \").concat(arguments.length\u003c=1?void 0:arguments[1],\"px \").concat(arguments.length\u003c=2?void 0:arguments[2],\"px \").concat(arguments.length\u003c=3?void 0:arguments[3],\"px rgba(0,0,0,\").concat(nue,\")\"),\"\".concat(arguments.length\u003c=4?void 0:arguments[4],\"px \").concat(arguments.length\u003c=5?void 0:arguments[5],\"px \").concat(arguments.length\u003c=6?void 0:arguments[6],\"px \").concat(arguments.length\u003c=7?void 0:arguments[7],\"px rgba(0,0,0,\").concat(rue,\")\"),\"\".concat(arguments.length\u003c=8?void 0:arguments[8],\"px \").concat(arguments.length\u003c=9?void 0:arguments[9],\"px \").concat(arguments.length\u003c=10?void 0:arguments[10],\"px \").concat(arguments.length\u003c=11?void 0:arguments[11],\"px rgba(0,0,0,\").concat(aue,\")\")].join(\",\")}var iue=[\"none\",Bt(0,2,1,-1,0,1,1,0,0,1,3,0),Bt(0,3,1,-2,0,2,2,0,0,1,5,0),Bt(0,3,3,-2,0,3,4,0,0,1,8,0),Bt(0,2,4,-1,0,4,5,0,0,1,10,0),Bt(0,3,5,-1,0,5,8,0,0,1,14,0),Bt(0,3,5,-1,0,6,10,0,0,1,18,0),Bt(0,4,5,-2,0,7,10,1,0,2,16,1),Bt(0,5,5,-3,0,8,10,1,0,3,14,2),Bt(0,5,6,-3,0,9,12,1,0,3,16,2),Bt(0,6,6,-3,0,10,14,1,0,4,18,3),Bt(0,6,7,-4,0,11,15,1,0,4,20,3),Bt(0,7,8,-4,0,12,17,2,0,5,22,4),Bt(0,7,8,-4,0,13,19,2,0,5,24,4),Bt(0,7,9,-4,0,14,21,2,0,5,26,4),Bt(0,8,9,-5,0,15,22,2,0,6,28,5),Bt(0,8,10,-5,0,16,24,2,0,6,30,5),Bt(0,8,11,-5,0,17,26,2,0,6,32,5),Bt(0,9,11,-5,0,18,28,2,0,7,34,6),Bt(0,9,12,-6,0,19,29,2,0,7,36,6),Bt(0,10,13,-6,0,20,31,3,0,8,38,7),Bt(0,10,13,-6,0,21,33,3,0,8,40,7),Bt(0,10,14,-6,0,22,35,3,0,8,42,7),Bt(0,11,14,-7,0,23,36,3,0,9,44,8),Bt(0,11,15,-7,0,24,38,3,0,9,46,8)],sue=iue;Af.default=sue});var gE=v(Rf=\u003e{\"use strict\";Object.defineProperty(Rf,\"__esModule\",{value:!0});Rf.default=void 0;var oue={borderRadius:4},uue=oue;Rf.default=uue});var G0=v(Ef=\u003e{\"use strict\";var cue=Me();Object.defineProperty(Ef,\"__esModule\",{value:!0});Ef.default=void 0;var CNe=cue(Wt()),lue={},hue=lue;Ef.default=hue});var ml=v(jf=\u003e{\"use strict\";Object.defineProperty(jf,\"__esModule\",{value:!0});jf.default=void 0;var due=on();function pue(n,e){return e?(0,due.deepmerge)(n,e,{clone:!1}):n}var fue=pue;jf.default=fue});var Df=v(gl=\u003e{\"use strict\";var vl=Me();Object.defineProperty(gl,\"__esModule\",{value:!0});gl.handleBreakpoints=bue;gl.default=void 0;var mue=vl(ol()),vue=vl(xt()),gue=vl(au()),ENe=vl(Wt()),yue=vl(ml()),_ue={xs:0,sm:600,md:960,lg:1280,xl:1920},U0={keys:[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"],up:function(e){return\"@media (min-width:\".concat(_ue[e],\"px)\")}};function bue(n,e,r){if(Array.isArray(e)){var i=n.theme.breakpoints||U0;return e.reduce(function(d,p,g){return d[i.up(i.keys[g])]=r(e[g]),d},{})}if((0,gue.default)(e)===\"object\"){var o=n.theme.breakpoints||U0;return Object.keys(e).reduce(function(d,p){return d[o.up(p)]=r(e[p]),d},{})}var c=r(e);return c}function xue(n){var e=function(i){var o=n(i),c=i.theme.breakpoints||U0,d=c.keys.reduce(function(p,g){return i[g]\u0026\u0026(p=p||{},p[c.up(g)]=n((0,vue.default)({theme:i.theme},i[g]))),p},null);return(0,yue.default)(o,d)};return e.propTypes={},e.filterProps=[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"].concat((0,mue.default)(n.filterProps)),e}var kue=xue;gl.default=kue});var na=v(If=\u003e{\"use strict\";var yE=Me();Object.defineProperty(If,\"__esModule\",{value:!0});If.default=void 0;var Nue=yE(Fc()),DNe=yE(G0()),wue=Df();function _E(n,e){return!e||typeof e!=\"string\"?null:e.split(\".\").reduce(function(r,i){return r\u0026\u0026r[i]?r[i]:null},n)}function que(n){var e=n.prop,r=n.cssProperty,i=r===void 0?n.prop:r,o=n.themeKey,c=n.transform,d=function(g){if(g[e]==null)return null;var _=g[e],k=g.theme,x=_E(k,o)||{},q=function(P){var W;return typeof x==\"function\"?W=x(P):Array.isArray(x)?W=x[P]||P:(W=_E(x,P)||P,c\u0026\u0026(W=c(W))),i===!1?W:(0,Nue.default)({},i,W)};return(0,wue.handleBreakpoints)(g,_,q)};return d.propTypes={},d.filterProps=[e],d}var Tue=que;If.default=Tue});var Aa=v(Ff=\u003e{\"use strict\";var bE=Me();Object.defineProperty(Ff,\"__esModule\",{value:!0});Ff.default=void 0;var FNe=bE(xt()),Mue=bE(ml());function Sue(){for(var n=arguments.length,e=new Array(n),r=0;r\u003cn;r++)e[r]=arguments[r];var i=function(c){return e.reduce(function(d,p){var g=p(c);return g?(0,Mue.default)(d,g):d},{})};return i.propTypes={},i.filterProps=e.reduce(function(o,c){return o.concat(c.filterProps)},[]),i}var Pue=Sue;Ff.default=Pue});var PE=v(xn=\u003e{\"use strict\";var xE=Me();Object.defineProperty(xn,\"__esModule\",{value:!0});xn.default=xn.borderRadius=xn.borderColor=xn.borderLeft=xn.borderBottom=xn.borderRight=xn.borderTop=xn.border=void 0;var Is=xE(na()),Oue=xE(Aa());function yl(n){return typeof n!=\"number\"?n:\"\".concat(n,\"px solid\")}var kE=(0,Is.default)({prop:\"border\",themeKey:\"borders\",transform:yl});xn.border=kE;var NE=(0,Is.default)({prop:\"borderTop\",themeKey:\"borders\",transform:yl});xn.borderTop=NE;var wE=(0,Is.default)({prop:\"borderRight\",themeKey:\"borders\",transform:yl});xn.borderRight=wE;var qE=(0,Is.default)({prop:\"borderBottom\",themeKey:\"borders\",transform:yl});xn.borderBottom=qE;var TE=(0,Is.default)({prop:\"borderLeft\",themeKey:\"borders\",transform:yl});xn.borderLeft=TE;var ME=(0,Is.default)({prop:\"borderColor\",themeKey:\"palette\"});xn.borderColor=ME;var SE=(0,Is.default)({prop:\"borderRadius\",themeKey:\"shape\"});xn.borderRadius=SE;var Cue=(0,Oue.default)(kE,NE,wE,qE,TE,ME,SE),Aue=Cue;xn.default=Aue});var RE=v(_l=\u003e{\"use strict\";var Vf=Me();Object.defineProperty(_l,\"__esModule\",{value:!0});_l.css=Eue;_l.default=void 0;var Rue=Vf(ol()),Lf=Vf(xt()),WNe=Vf(Wt()),BNe=on(),OE=Vf(ml());function CE(n,e){var r={};return Object.keys(n).forEach(function(i){e.indexOf(i)===-1\u0026\u0026(r[i]=n[i])}),r}function AE(n){var e=function(i){var o=n(i);return i.css?(0,Lf.default)({},(0,OE.default)(o,n((0,Lf.default)({theme:i.theme},i.css))),CE(i.css,[n.filterProps])):i.sx?(0,Lf.default)({},(0,OE.default)(o,n((0,Lf.default)({theme:i.theme},i.sx))),CE(i.sx,[n.filterProps])):o};return e.propTypes={},e.filterProps=[\"css\",\"sx\"].concat((0,Rue.default)(n.filterProps)),e}function Eue(n){return AE(n)}var jue=AE;_l.default=jue});var WE=v(Ln=\u003e{\"use strict\";var EE=Me();Object.defineProperty(Ln,\"__esModule\",{value:!0});Ln.default=Ln.whiteSpace=Ln.visibility=Ln.textOverflow=Ln.overflow=Ln.displayRaw=Ln.displayPrint=void 0;var vu=EE(na()),Due=EE(Aa()),jE=(0,vu.default)({prop:\"displayPrint\",cssProperty:!1,transform:function(e){return{\"@media print\":{display:e}}}});Ln.displayPrint=jE;var DE=(0,vu.default)({prop:\"display\"});Ln.displayRaw=DE;var IE=(0,vu.default)({prop:\"overflow\"});Ln.overflow=IE;var FE=(0,vu.default)({prop:\"textOverflow\"});Ln.textOverflow=FE;var VE=(0,vu.default)({prop:\"visibility\"});Ln.visibility=VE;var LE=(0,vu.default)({prop:\"whiteSpace\"});Ln.whiteSpace=LE;var Iue=(0,Due.default)(jE,DE,IE,FE,VE,LE);Ln.default=Iue});var n6=v(bt=\u003e{\"use strict\";var BE=Me();Object.defineProperty(bt,\"__esModule\",{value:!0});bt.default=bt.justifySelf=bt.justifyItems=bt.alignSelf=bt.flexShrink=bt.flexGrow=bt.flex=bt.order=bt.alignContent=bt.alignItems=bt.justifyContent=bt.flexWrap=bt.flexDirection=bt.flexBasis=void 0;var qr=BE(na()),Fue=BE(Aa()),zE=(0,qr.default)({prop:\"flexBasis\"});bt.flexBasis=zE;var GE=(0,qr.default)({prop:\"flexDirection\"});bt.flexDirection=GE;var UE=(0,qr.default)({prop:\"flexWrap\"});bt.flexWrap=UE;var $E=(0,qr.default)({prop:\"justifyContent\"});bt.justifyContent=$E;var HE=(0,qr.default)({prop:\"alignItems\"});bt.alignItems=HE;var YE=(0,qr.default)({prop:\"alignContent\"});bt.alignContent=YE;var XE=(0,qr.default)({prop:\"order\"});bt.order=XE;var ZE=(0,qr.default)({prop:\"flex\"});bt.flex=ZE;var KE=(0,qr.default)({prop:\"flexGrow\"});bt.flexGrow=KE;var QE=(0,qr.default)({prop:\"flexShrink\"});bt.flexShrink=QE;var JE=(0,qr.default)({prop:\"alignSelf\"});bt.alignSelf=JE;var e6=(0,qr.default)({prop:\"justifyItems\"});bt.justifyItems=e6;var t6=(0,qr.default)({prop:\"justifySelf\"});bt.justifySelf=t6;var Vue=(0,Fue.default)(zE,GE,UE,$E,HE,YE,XE,ZE,KE,QE,JE,e6,t6),Lue=Vue;bt.default=Lue});var v6=v(wt=\u003e{\"use strict\";var r6=Me();Object.defineProperty(wt,\"__esModule\",{value:!0});wt.default=wt.gridArea=wt.gridTemplateAreas=wt.gridTemplateRows=wt.gridTemplateColumns=wt.gridAutoRows=wt.gridAutoColumns=wt.gridAutoFlow=wt.gridRow=wt.gridColumn=wt.gridRowGap=wt.gridColumnGap=wt.gridGap=void 0;var Vr=r6(na()),Wue=r6(Aa()),a6=(0,Vr.default)({prop:\"gridGap\"});wt.gridGap=a6;var i6=(0,Vr.default)({prop:\"gridColumnGap\"});wt.gridColumnGap=i6;var s6=(0,Vr.default)({prop:\"gridRowGap\"});wt.gridRowGap=s6;var o6=(0,Vr.default)({prop:\"gridColumn\"});wt.gridColumn=o6;var u6=(0,Vr.default)({prop:\"gridRow\"});wt.gridRow=u6;var c6=(0,Vr.default)({prop:\"gridAutoFlow\"});wt.gridAutoFlow=c6;var l6=(0,Vr.default)({prop:\"gridAutoColumns\"});wt.gridAutoColumns=l6;var h6=(0,Vr.default)({prop:\"gridAutoRows\"});wt.gridAutoRows=h6;var d6=(0,Vr.default)({prop:\"gridTemplateColumns\"});wt.gridTemplateColumns=d6;var p6=(0,Vr.default)({prop:\"gridTemplateRows\"});wt.gridTemplateRows=p6;var f6=(0,Vr.default)({prop:\"gridTemplateAreas\"});wt.gridTemplateAreas=f6;var m6=(0,Vr.default)({prop:\"gridArea\"});wt.gridArea=m6;var Bue=(0,Wue.default)(a6,i6,s6,o6,u6,c6,l6,h6,d6,p6,f6,m6),zue=Bue;wt.default=zue});var x6=v($i=\u003e{\"use strict\";var g6=Me();Object.defineProperty($i,\"__esModule\",{value:!0});$i.default=$i.bgcolor=$i.color=void 0;var y6=g6(na()),Gue=g6(Aa()),_6=(0,y6.default)({prop:\"color\",themeKey:\"palette\"});$i.color=_6;var b6=(0,y6.default)({prop:\"bgcolor\",cssProperty:\"backgroundColor\",themeKey:\"palette\"});$i.bgcolor=b6;var Uue=(0,Gue.default)(_6,b6),$ue=Uue;$i.default=$ue});var P6=v(Wn=\u003e{\"use strict\";var k6=Me();Object.defineProperty(Wn,\"__esModule\",{value:!0});Wn.default=Wn.left=Wn.bottom=Wn.right=Wn.top=Wn.zIndex=Wn.position=void 0;var gu=k6(na()),Hue=k6(Aa()),N6=(0,gu.default)({prop:\"position\"});Wn.position=N6;var w6=(0,gu.default)({prop:\"zIndex\",themeKey:\"zIndex\"});Wn.zIndex=w6;var q6=(0,gu.default)({prop:\"top\"});Wn.top=q6;var T6=(0,gu.default)({prop:\"right\"});Wn.right=T6;var M6=(0,gu.default)({prop:\"bottom\"});Wn.bottom=M6;var S6=(0,gu.default)({prop:\"left\"});Wn.left=S6;var Yue=(0,Hue.default)(N6,w6,q6,T6,M6,S6);Wn.default=Yue});var O6=v(Wf=\u003e{\"use strict\";var Xue=Me();Object.defineProperty(Wf,\"__esModule\",{value:!0});Wf.default=void 0;var Zue=Xue(na()),Kue=(0,Zue.default)({prop:\"boxShadow\",themeKey:\"shadows\"}),Que=Kue;Wf.default=Que});var V6=v(Xt=\u003e{\"use strict\";var C6=Me();Object.defineProperty(Xt,\"__esModule\",{value:!0});Xt.default=Xt.boxSizing=Xt.sizeHeight=Xt.sizeWidth=Xt.minHeight=Xt.maxHeight=Xt.height=Xt.minWidth=Xt.maxWidth=Xt.width=void 0;var ti=C6(na()),Jue=C6(Aa());function Hi(n){return n\u003c=1?\"\".concat(n*100,\"%\"):n}var A6=(0,ti.default)({prop:\"width\",transform:Hi});Xt.width=A6;var R6=(0,ti.default)({prop:\"maxWidth\",transform:Hi});Xt.maxWidth=R6;var E6=(0,ti.default)({prop:\"minWidth\",transform:Hi});Xt.minWidth=E6;var j6=(0,ti.default)({prop:\"height\",transform:Hi});Xt.height=j6;var D6=(0,ti.default)({prop:\"maxHeight\",transform:Hi});Xt.maxHeight=D6;var I6=(0,ti.default)({prop:\"minHeight\",transform:Hi});Xt.minHeight=I6;var ece=(0,ti.default)({prop:\"size\",cssProperty:\"width\",transform:Hi});Xt.sizeWidth=ece;var tce=(0,ti.default)({prop:\"size\",cssProperty:\"height\",transform:Hi});Xt.sizeHeight=tce;var F6=(0,ti.default)({prop:\"boxSizing\"});Xt.boxSizing=F6;var nce=(0,Jue.default)(A6,R6,E6,j6,D6,I6,F6),rce=nce;Xt.default=rce});var L6=v((KNe,bl)=\u003e{function ace(n){if(Array.isArray(n))return n}bl.exports=ace;bl.exports.default=bl.exports,bl.exports.__esModule=!0});var W6=v((QNe,xl)=\u003e{function ice(n,e){var r=n==null?null:typeof Symbol!=\"undefined\"\u0026\u0026n[Symbol.iterator]||n[\"@@iterator\"];if(r!=null){var i=[],o=!0,c=!1,d,p;try{for(r=r.call(n);!(o=(d=r.next()).done)\u0026\u0026(i.push(d.value),!(e\u0026\u0026i.length===e));o=!0);}catch(g){c=!0,p=g}finally{try{!o\u0026\u0026r.return!=null\u0026\u0026r.return()}finally{if(c)throw p}}return i}}xl.exports=ice;xl.exports.default=xl.exports,xl.exports.__esModule=!0});var B6=v((JNe,kl)=\u003e{function sce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}kl.exports=sce;kl.exports.default=kl.exports,kl.exports.__esModule=!0});var z6=v((ewe,Nl)=\u003e{var oce=L6(),uce=W6(),cce=D_(),lce=B6();function hce(n,e){return oce(n)||uce(n,e)||cce(n,e)||lce()}Nl.exports=hce;Nl.exports.default=Nl.exports,Nl.exports.__esModule=!0});var G6=v($0=\u003e{\"use strict\";Object.defineProperty($0,\"__esModule\",{value:!0});$0.default=dce;function dce(n){var e={};return function(r){return e[r]===void 0\u0026\u0026(e[r]=n(r)),e[r]}}});var Y6=v(wl=\u003e{\"use strict\";var Bf=Me();Object.defineProperty(wl,\"__esModule\",{value:!0});wl.createUnarySpacing=H6;wl.default=void 0;var pce=Bf(z6()),nwe=Bf(G0()),fce=Df(),mce=Bf(ml()),vce=Bf(G6()),gce={m:\"margin\",p:\"padding\"},yce={t:\"Top\",r:\"Right\",b:\"Bottom\",l:\"Left\",x:[\"Left\",\"Right\"],y:[\"Top\",\"Bottom\"]},U6={marginX:\"mx\",marginY:\"my\",paddingX:\"px\",paddingY:\"py\"},_ce=(0,vce.default)(function(n){if(n.length\u003e2)if(U6[n])n=U6[n];else return[n];var e=n.split(\"\"),r=(0,pce.default)(e,2),i=r[0],o=r[1],c=gce[i],d=yce[o]||\"\";return Array.isArray(d)?d.map(function(p){return c+p}):[c+d]}),$6=[\"m\",\"mt\",\"mr\",\"mb\",\"ml\",\"mx\",\"my\",\"p\",\"pt\",\"pr\",\"pb\",\"pl\",\"px\",\"py\",\"margin\",\"marginTop\",\"marginRight\",\"marginBottom\",\"marginLeft\",\"marginX\",\"marginY\",\"padding\",\"paddingTop\",\"paddingRight\",\"paddingBottom\",\"paddingLeft\",\"paddingX\",\"paddingY\"];function H6(n){var e=n.spacing||8;return typeof e==\"number\"?function(r){return e*r}:Array.isArray(e)?function(r){return e[r]}:typeof e==\"function\"?e:function(){}}function bce(n,e){if(typeof e==\"string\"||e==null)return e;var r=Math.abs(e),i=n(r);return e\u003e=0?i:typeof i==\"number\"?-i:\"-\".concat(i)}function xce(n,e){return function(r){return n.reduce(function(i,o){return i[o]=bce(e,r),i},{})}}function H0(n){var e=n.theme,r=H6(e);return Object.keys(n).map(function(i){if($6.indexOf(i)===-1)return null;var o=_ce(i),c=xce(o,r),d=n[i];return(0,fce.handleBreakpoints)(n,d,c)}).reduce(mce.default,{})}H0.propTypes={};H0.filterProps=$6;var kce=H0;wl.default=kce});var rj=v(kn=\u003e{\"use strict\";var X6=Me();Object.defineProperty(kn,\"__esModule\",{value:!0});kn.default=kn.textAlign=kn.lineHeight=kn.letterSpacing=kn.fontWeight=kn.fontStyle=kn.fontSize=kn.fontFamily=void 0;var Fs=X6(na()),Nce=X6(Aa()),Z6=(0,Fs.default)({prop:\"fontFamily\",themeKey:\"typography\"});kn.fontFamily=Z6;var K6=(0,Fs.default)({prop:\"fontSize\",themeKey:\"typography\"});kn.fontSize=K6;var Q6=(0,Fs.default)({prop:\"fontStyle\",themeKey:\"typography\"});kn.fontStyle=Q6;var J6=(0,Fs.default)({prop:\"fontWeight\",themeKey:\"typography\"});kn.fontWeight=J6;var ej=(0,Fs.default)({prop:\"letterSpacing\"});kn.letterSpacing=ej;var tj=(0,Fs.default)({prop:\"lineHeight\"});kn.lineHeight=tj;var nj=(0,Fs.default)({prop:\"textAlign\"});kn.textAlign=nj;var wce=(0,Nce.default)(Z6,K6,Q6,J6,ej,tj,nj),qce=wce;kn.default=qce});var aj=v(Dt=\u003e{\"use strict\";var ql=Me(),ni=sn();Object.defineProperty(Dt,\"__esModule\",{value:!0});var ri={borders:!0,breakpoints:!0,compose:!0,styleFunctionSx:!0,display:!0,flexbox:!0,grid:!0,palette:!0,positions:!0,shadows:!0,sizing:!0,spacing:!0,style:!0,typography:!0};Object.defineProperty(Dt,\"borders\",{enumerable:!0,get:function(){return Y0.default}});Object.defineProperty(Dt,\"breakpoints\",{enumerable:!0,get:function(){return Tce.default}});Object.defineProperty(Dt,\"compose\",{enumerable:!0,get:function(){return Mce.default}});Object.defineProperty(Dt,\"styleFunctionSx\",{enumerable:!0,get:function(){return X0.default}});Object.defineProperty(Dt,\"display\",{enumerable:!0,get:function(){return Sce.default}});Object.defineProperty(Dt,\"flexbox\",{enumerable:!0,get:function(){return Z0.default}});Object.defineProperty(Dt,\"grid\",{enumerable:!0,get:function(){return K0.default}});Object.defineProperty(Dt,\"palette\",{enumerable:!0,get:function(){return Q0.default}});Object.defineProperty(Dt,\"positions\",{enumerable:!0,get:function(){return J0.default}});Object.defineProperty(Dt,\"shadows\",{enumerable:!0,get:function(){return Pce.default}});Object.defineProperty(Dt,\"sizing\",{enumerable:!0,get:function(){return eb.default}});Object.defineProperty(Dt,\"spacing\",{enumerable:!0,get:function(){return tb.default}});Object.defineProperty(Dt,\"style\",{enumerable:!0,get:function(){return Oce.default}});Object.defineProperty(Dt,\"typography\",{enumerable:!0,get:function(){return nb.default}});var Y0=ni(PE());Object.keys(Y0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ri,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return Y0[n]}})});var Tce=ql(Df()),Mce=ql(Aa()),X0=ni(RE());Object.keys(X0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ri,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return X0[n]}})});var Sce=ql(WE()),Z0=ni(n6());Object.keys(Z0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ri,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return Z0[n]}})});var K0=ni(v6());Object.keys(K0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ri,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return K0[n]}})});var Q0=ni(x6());Object.keys(Q0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ri,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return Q0[n]}})});var J0=ni(P6());Object.keys(J0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ri,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return J0[n]}})});var Pce=ql(O6()),eb=ni(V6());Object.keys(eb).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ri,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return eb[n]}})});var tb=ni(Y6());Object.keys(tb).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ri,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return tb[n]}})});var Oce=ql(na()),nb=ni(rj());Object.keys(nb).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ri,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return nb[n]}})})});var ij=v(rb=\u003e{\"use strict\";Object.defineProperty(rb,\"__esModule\",{value:!0});rb.default=Ace;var Cce=aj();function Ace(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:8;if(n.mui)return n;var e=(0,Cce.createUnarySpacing)({spacing:n}),r=function(){for(var o=arguments.length,c=new Array(o),d=0;d\u003co;d++)c[d]=arguments[d];return c.length===0?e(1):c.length===1?e(c[0]):c.map(function(p){if(typeof p==\"string\")return p;var g=e(p);return typeof g==\"number\"?\"\".concat(g,\"px\"):g}).join(\" \")};return Object.defineProperty(r,\"unit\",{get:function(){return n}}),r.mui=!0,r}});var oj=v(Yi=\u003e{\"use strict\";var Rce=Me();Object.defineProperty(Yi,\"__esModule\",{value:!0});Yi.default=Yi.duration=Yi.easing=void 0;var Ece=Rce(Vn()),ab={easeInOut:\"cubic-bezier(0.4, 0, 0.2, 1)\",easeOut:\"cubic-bezier(0.0, 0, 0.2, 1)\",easeIn:\"cubic-bezier(0.4, 0, 1, 1)\",sharp:\"cubic-bezier(0.4, 0, 0.6, 1)\"};Yi.easing=ab;var ib={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};Yi.duration=ib;function sj(n){return\"\".concat(Math.round(n),\"ms\")}var jce={easing:ab,duration:ib,create:function(){var e=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:[\"all\"],r=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},i=r.duration,o=i===void 0?ib.standard:i,c=r.easing,d=c===void 0?ab.easeInOut:c,p=r.delay,g=p===void 0?0:p,_=(0,Ece.default)(r,[\"duration\",\"easing\",\"delay\"]);if(!1)var k,x;return(Array.isArray(e)?e:[e]).map(function(q){return\"\".concat(q,\" \").concat(typeof o==\"string\"?o:sj(o),\" \").concat(d,\" \").concat(typeof g==\"string\"?g:sj(g))}).join(\",\")},getAutoHeightDuration:function(e){if(!e)return 0;var r=e/36;return Math.round((4+15*Math.pow(r,.25)+r/5)*10)}};Yi.default=jce});var uj=v(zf=\u003e{\"use strict\";Object.defineProperty(zf,\"__esModule\",{value:!0});zf.default=void 0;var Dce={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ice=Dce;zf.default=Ice});var hj=v(Tl=\u003e{\"use strict\";var ra=Me();Object.defineProperty(Tl,\"__esModule\",{value:!0});Tl.createMuiTheme=Yce;Tl.default=void 0;var cwe=ra(Fc()),Fce=ra(Vn()),cj=on(),Vce=ra(zR()),Lce=ra(UR()),Wce=ra(cE()),Bce=ra(mE()),zce=ra(vE()),Gce=ra(gE()),Uce=ra(ij()),$ce=ra(oj()),Hce=ra(uj());function lj(){for(var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.breakpoints,r=e===void 0?{}:e,i=n.mixins,o=i===void 0?{}:i,c=n.palette,d=c===void 0?{}:c,p=n.spacing,g=n.typography,_=g===void 0?{}:g,k=(0,Fce.default)(n,[\"breakpoints\",\"mixins\",\"palette\",\"spacing\",\"typography\"]),x=(0,Wce.default)(d),q=(0,Vce.default)(r),V=(0,Uce.default)(p),P=(0,cj.deepmerge)({breakpoints:q,direction:\"ltr\",mixins:(0,Lce.default)(q,V,o),overrides:{},palette:x,props:{},shadows:zce.default,typography:(0,Bce.default)(x,_),spacing:V,shape:Gce.default,transitions:$ce.default,zIndex:Hce.default},k),W=arguments.length,K=new Array(W\u003e1?W-1:0),J=1;J\u003cW;J++)K[J-1]=arguments[J];if(P=K.reduce(function(G,R){return(0,cj.deepmerge)(G,R)},P),!1)var X,oe;return P}function Yce(){return lj.apply(void 0,arguments)}var Xce=lj;Tl.default=Xce});var dj=v(Gf=\u003e{\"use strict\";var Zce=Me();Object.defineProperty(Gf,\"__esModule\",{value:!0});Gf.default=void 0;var Kce=Zce(hj()),Qce=(0,Kce.default)(),Jce=Qce;Gf.default=Jce});var yu=v(Uf=\u003e{\"use strict\";var pj=Me();Object.defineProperty(Uf,\"__esModule\",{value:!0});Uf.default=void 0;var ele=pj(xt()),tle=WR(),nle=pj(dj());function rle(n,e){return(0,tle.withStyles)(n,(0,ele.default)({defaultTheme:nle.default},e))}var ale=rle;Uf.default=ale});var Ml=v((pwe,fj)=\u003e{fj.exports=ReactDOM});var ob=v(sb=\u003e{\"use strict\";Object.defineProperty(sb,\"__esModule\",{value:!0});sb.default=ile;function ile(n,e){typeof n==\"function\"?n(e):n\u0026\u0026(n.current=e)}});var cb=v(ub=\u003e{\"use strict\";var sle=Me(),ole=sn();Object.defineProperty(ub,\"__esModule\",{value:!0});ub.default=cle;var ule=ole(ut()),mj=sle(ob());function cle(n,e){return ule.useMemo(function(){return n==null\u0026\u0026e==null?null:function(r){(0,mj.default)(n,r),(0,mj.default)(e,r)}},[n,e])}});var Hf=v(lb=\u003e{\"use strict\";var lle=sn();Object.defineProperty(lb,\"__esModule\",{value:!0});lb.default=dle;var $f=lle(ut()),hle=typeof window!=\"undefined\"?$f.useLayoutEffect:$f.useEffect;function dle(n){var e=$f.useRef(n);return hle(function(){e.current=n}),$f.useCallback(function(){return e.current.apply(void 0,arguments)},[])}});var db=v(hb=\u003e{\"use strict\";Object.defineProperty(hb,\"__esModule\",{value:!0});hb.default=ple;function ple(n,e){return function(){return null}}});var fb=v(Xf=\u003e{\"use strict\";var vj=sn();Object.defineProperty(Xf,\"__esModule\",{value:!0});Xf.teardown=_le;Xf.default=kle;var fle=vj(ut()),mle=vj(Ml()),Yf=!0,pb=!1,gj=null,vle={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,\"datetime-local\":!0};function gle(n){var e=n.type,r=n.tagName;return!!(r===\"INPUT\"\u0026\u0026vle[e]\u0026\u0026!n.readOnly||r===\"TEXTAREA\"\u0026\u0026!n.readOnly||n.isContentEditable)}function yj(n){n.metaKey||n.altKey||n.ctrlKey||(Yf=!0)}function _u(){Yf=!1}function _j(){this.visibilityState===\"hidden\"\u0026\u0026pb\u0026\u0026(Yf=!0)}function yle(n){n.addEventListener(\"keydown\",yj,!0),n.addEventListener(\"mousedown\",_u,!0),n.addEventListener(\"pointerdown\",_u,!0),n.addEventListener(\"touchstart\",_u,!0),n.addEventListener(\"visibilitychange\",_j,!0)}function _le(n){n.removeEventListener(\"keydown\",yj,!0),n.removeEventListener(\"mousedown\",_u,!0),n.removeEventListener(\"pointerdown\",_u,!0),n.removeEventListener(\"touchstart\",_u,!0),n.removeEventListener(\"visibilitychange\",_j,!0)}function ble(n){var e=n.target;try{return e.matches(\":focus-visible\")}catch(r){}return Yf||gle(e)}function xle(){pb=!0,window.clearTimeout(gj),gj=window.setTimeout(function(){pb=!1},100)}function kle(){var n=fle.useCallback(function(e){var r=mle.findDOMNode(e);r!=null\u0026\u0026yle(r.ownerDocument)},[]);return{isFocusVisible:ble,onBlurVisible:xle,ref:n}}});var xj=v((Zf,bj)=\u003e{\"use strict\";Zf.__esModule=!0;Zf.default=Nle;function Nle(n,e){return n.classList?!!e\u0026\u0026n.classList.contains(e):(\" \"+(n.className.baseVal||n.className)+\" \").indexOf(\" \"+e+\" \")!==-1}bj.exports=Zf.default});var Nj=v((Kf,kj)=\u003e{\"use strict\";var wle=Me();Kf.__esModule=!0;Kf.default=Tle;var qle=wle(xj());function Tle(n,e){n.classList?n.classList.add(e):(0,qle.default)(n,e)||(typeof n.className==\"string\"?n.className=n.className+\" \"+e:n.setAttribute(\"class\",(n.className\u0026\u0026n.className.baseVal||\"\")+\" \"+e))}kj.exports=Kf.default});var Tj=v((Qf,qj)=\u003e{\"use strict\";Qf.__esModule=!0;Qf.default=Mle;function wj(n,e){return n.replace(new RegExp(\"(^|\\\\s)\"+e+\"(?:\\\\s|$)\",\"g\"),\"$1\").replace(/\\s+/g,\" \").replace(/^\\s*|\\s*$/g,\"\")}function Mle(n,e){n.classList?n.classList.remove(e):typeof n.className==\"string\"?n.className=wj(n.className,e):n.setAttribute(\"class\",wj(n.className\u0026\u0026n.className.baseVal||\"\",e))}qj.exports=Qf.default});var mb=v((Sl,Mj)=\u003e{\"use strict\";Sl.__esModule=!0;Sl.default=void 0;var Sle={disabled:!1};Sl.default=Sle;Mj.exports=Sl.default});var vb=v(bu=\u003e{\"use strict\";bu.__esModule=!0;bu.classNamesShape=bu.timeoutsShape=void 0;var _we=Ple(Wt());function Ple(n){return n\u0026\u0026n.__esModule?n:{default:n}}var Ole=null;bu.timeoutsShape=Ole;var Cle=null;bu.classNamesShape=Cle});var Jf=v((Pl,Sj)=\u003e{\"use strict\";Pl.__esModule=!0;Pl.default=void 0;var Ale=Rle(ut());function Rle(n){return n\u0026\u0026n.__esModule?n:{default:n}}var Ele=Ale.default.createContext(null);Pl.default=Ele;Sj.exports=Pl.default});var nm=v(or=\u003e{\"use strict\";or.__esModule=!0;or.default=or.EXITING=or.ENTERED=or.ENTERING=or.EXITED=or.UNMOUNTED=void 0;var xwe=Ol(Wt()),em=Ol(ut()),gb=Ol(Ml()),Pj=Ol(mb()),kwe=vb(),Oj=Ol(Jf());function Ol(n){return n\u0026\u0026n.__esModule?n:{default:n}}function jle(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,c;for(c=0;c\u003ci.length;c++)o=i[c],!(e.indexOf(o)\u003e=0)\u0026\u0026(r[o]=n[o]);return r}function Dle(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var xu=\"unmounted\";or.UNMOUNTED=xu;var Xi=\"exited\";or.EXITED=Xi;var Zi=\"entering\";or.ENTERING=Zi;var Vs=\"entered\";or.ENTERED=Vs;var tm=\"exiting\";or.EXITING=tm;var ai=function(n){Dle(e,n);function e(i,o){var c;c=n.call(this,i,o)||this;var d=o,p=d\u0026\u0026!d.isMounting?i.enter:i.appear,g;return c.appearStatus=null,i.in?p?(g=Xi,c.appearStatus=Zi):g=Vs:i.unmountOnExit||i.mountOnEnter?g=xu:g=Xi,c.state={status:g},c.nextCallback=null,c}e.getDerivedStateFromProps=function(o,c){var d=o.in;return d\u0026\u0026c.status===xu?{status:Xi}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var c=null;if(o!==this.props){var d=this.state.status;this.props.in?d!==Zi\u0026\u0026d!==Vs\u0026\u0026(c=Zi):(d===Zi||d===Vs)\u0026\u0026(c=tm)}this.updateStatus(!1,c)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,c,d,p;return c=d=p=o,o!=null\u0026\u0026typeof o!=\"number\"\u0026\u0026(c=o.exit,d=o.enter,p=o.appear!==void 0?o.appear:d),{exit:c,enter:d,appear:p}},r.updateStatus=function(o,c){o===void 0\u0026\u0026(o=!1),c!==null?(this.cancelNextCallback(),c===Zi?this.performEnter(o):this.performExit()):this.props.unmountOnExit\u0026\u0026this.state.status===Xi\u0026\u0026this.setState({status:xu})},r.performEnter=function(o){var c=this,d=this.props.enter,p=this.context?this.context.isMounting:o,g=this.props.nodeRef?[p]:[gb.default.findDOMNode(this),p],_=g[0],k=g[1],x=this.getTimeouts(),q=p?x.appear:x.enter;if(!o\u0026\u0026!d||Pj.default.disabled){this.safeSetState({status:Vs},function(){c.props.onEntered(_)});return}this.props.onEnter(_,k),this.safeSetState({status:Zi},function(){c.props.onEntering(_,k),c.onTransitionEnd(q,function(){c.safeSetState({status:Vs},function(){c.props.onEntered(_,k)})})})},r.performExit=function(){var o=this,c=this.props.exit,d=this.getTimeouts(),p=this.props.nodeRef?void 0:gb.default.findDOMNode(this);if(!c||Pj.default.disabled){this.safeSetState({status:Xi},function(){o.props.onExited(p)});return}this.props.onExit(p),this.safeSetState({status:tm},function(){o.props.onExiting(p),o.onTransitionEnd(d.exit,function(){o.safeSetState({status:Xi},function(){o.props.onExited(p)})})})},r.cancelNextCallback=function(){this.nextCallback!==null\u0026\u0026(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,c){c=this.setNextCallback(c),this.setState(o,c)},r.setNextCallback=function(o){var c=this,d=!0;return this.nextCallback=function(p){d\u0026\u0026(d=!1,c.nextCallback=null,o(p))},this.nextCallback.cancel=function(){d=!1},this.nextCallback},r.onTransitionEnd=function(o,c){this.setNextCallback(c);var d=this.props.nodeRef?this.props.nodeRef.current:gb.default.findDOMNode(this),p=o==null\u0026\u0026!this.props.addEndListener;if(!d||p){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[d,this.nextCallback],_=g[0],k=g[1];this.props.addEndListener(_,k)}o!=null\u0026\u0026setTimeout(this.nextCallback,o)},r.render=function(){var o=this.state.status;if(o===xu)return null;var c=this.props,d=c.children,p=c.in,g=c.mountOnEnter,_=c.unmountOnExit,k=c.appear,x=c.enter,q=c.exit,V=c.timeout,P=c.addEndListener,W=c.onEnter,K=c.onEntering,J=c.onEntered,X=c.onExit,oe=c.onExiting,G=c.onExited,R=c.nodeRef,$=jle(c,[\"children\",\"in\",\"mountOnEnter\",\"unmountOnExit\",\"appear\",\"enter\",\"exit\",\"timeout\",\"addEndListener\",\"onEnter\",\"onEntering\",\"onEntered\",\"onExit\",\"onExiting\",\"onExited\",\"nodeRef\"]);return em.default.createElement(Oj.default.Provider,{value:null},typeof d==\"function\"?d(o,$):em.default.cloneElement(em.default.Children.only(d),$))},e}(em.default.Component);ai.contextType=Oj.default;ai.propTypes={};function ku(){}ai.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ku,onEntering:ku,onEntered:ku,onExit:ku,onExiting:ku,onExited:ku};ai.UNMOUNTED=xu;ai.EXITED=Xi;ai.ENTERING=Zi;ai.ENTERED=Vs;ai.EXITING=tm;var Ile=ai;or.default=Ile});var Rj=v((Al,Aj)=\u003e{\"use strict\";Al.__esModule=!0;Al.default=void 0;var wwe=Cl(Wt()),Fle=Cl(Nj()),Vle=Cl(Tj()),Cj=Cl(ut()),Lle=Cl(nm()),qwe=vb();function Cl(n){return n\u0026\u0026n.__esModule?n:{default:n}}function yb(){return yb=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)\u0026\u0026(n[i]=r[i])}return n},yb.apply(this,arguments)}function Wle(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,c;for(c=0;c\u003ci.length;c++)o=i[c],!(e.indexOf(o)\u003e=0)\u0026\u0026(r[o]=n[o]);return r}function Ble(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var zle=function(e,r){return e\u0026\u0026r\u0026\u0026r.split(\" \").forEach(function(i){return(0,Fle.default)(e,i)})},_b=function(e,r){return e\u0026\u0026r\u0026\u0026r.split(\" \").forEach(function(i){return(0,Vle.default)(e,i)})},bb=function(n){Ble(e,n);function e(){for(var i,o=arguments.length,c=new Array(o),d=0;d\u003co;d++)c[d]=arguments[d];return i=n.call.apply(n,[this].concat(c))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(p,g){var _=i.resolveArguments(p,g),k=_[0],x=_[1];i.removeClasses(k,\"exit\"),i.addClass(k,x?\"appear\":\"enter\",\"base\"),i.props.onEnter\u0026\u0026i.props.onEnter(p,g)},i.onEntering=function(p,g){var _=i.resolveArguments(p,g),k=_[0],x=_[1],q=x?\"appear\":\"enter\";i.addClass(k,q,\"active\"),i.props.onEntering\u0026\u0026i.props.onEntering(p,g)},i.onEntered=function(p,g){var _=i.resolveArguments(p,g),k=_[0],x=_[1],q=x?\"appear\":\"enter\";i.removeClasses(k,q),i.addClass(k,q,\"done\"),i.props.onEntered\u0026\u0026i.props.onEntered(p,g)},i.onExit=function(p){var g=i.resolveArguments(p),_=g[0];i.removeClasses(_,\"appear\"),i.removeClasses(_,\"enter\"),i.addClass(_,\"exit\",\"base\"),i.props.onExit\u0026\u0026i.props.onExit(p)},i.onExiting=function(p){var g=i.resolveArguments(p),_=g[0];i.addClass(_,\"exit\",\"active\"),i.props.onExiting\u0026\u0026i.props.onExiting(p)},i.onExited=function(p){var g=i.resolveArguments(p),_=g[0];i.removeClasses(_,\"exit\"),i.addClass(_,\"exit\",\"done\"),i.props.onExited\u0026\u0026i.props.onExited(p)},i.resolveArguments=function(p,g){return i.props.nodeRef?[i.props.nodeRef.current,p]:[p,g]},i.getClassNames=function(p){var g=i.props.classNames,_=typeof g==\"string\",k=_\u0026\u0026g?g+\"-\":\"\",x=_?\"\"+k+p:g[p],q=_?x+\"-active\":g[p+\"Active\"],V=_?x+\"-done\":g[p+\"Done\"];return{baseClassName:x,activeClassName:q,doneClassName:V}},i}var r=e.prototype;return r.addClass=function(o,c,d){var p=this.getClassNames(c)[d+\"ClassName\"],g=this.getClassNames(\"enter\"),_=g.doneClassName;c===\"appear\"\u0026\u0026d===\"done\"\u0026\u0026_\u0026\u0026(p+=\" \"+_),d===\"active\"\u0026\u0026o\u0026\u0026o.scrollTop,p\u0026\u0026(this.appliedClasses[c][d]=p,zle(o,p))},r.removeClasses=function(o,c){var d=this.appliedClasses[c],p=d.base,g=d.active,_=d.done;this.appliedClasses[c]={},p\u0026\u0026_b(o,p),g\u0026\u0026_b(o,g),_\u0026\u0026_b(o,_)},r.render=function(){var o=this.props,c=o.classNames,d=Wle(o,[\"classNames\"]);return Cj.default.createElement(Lle.default,yb({},d,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Cj.default.Component);bb.defaultProps={classNames:\"\"};bb.propTypes={};var Gle=bb;Al.default=Gle;Aj.exports=Al.default});var jj=v(Nu=\u003e{\"use strict\";Nu.__esModule=!0;Nu.getChildMapping=xb;Nu.mergeChildMappings=Ej;Nu.getInitialChildMapping=Ule;Nu.getNextChildMapping=$le;var ii=ut();function xb(n,e){var r=function(c){return e\u0026\u0026(0,ii.isValidElement)(c)?e(c):c},i=Object.create(null);return n\u0026\u0026ii.Children.map(n,function(o){return o}).forEach(function(o){i[o.key]=r(o)}),i}function Ej(n,e){n=n||{},e=e||{};function r(k){return k in e?e[k]:n[k]}var i=Object.create(null),o=[];for(var c in n)c in e?o.length\u0026\u0026(i[c]=o,o=[]):o.push(c);var d,p={};for(var g in e){if(i[g])for(d=0;d\u003ci[g].length;d++){var _=i[g][d];p[i[g][d]]=r(_)}p[g]=r(g)}for(d=0;d\u003co.length;d++)p[o[d]]=r(o[d]);return p}function Ls(n,e,r){return r[e]!=null?r[e]:n.props[e]}function Ule(n,e){return xb(n.children,function(r){return(0,ii.cloneElement)(r,{onExited:e.bind(null,r),in:!0,appear:Ls(r,\"appear\",n),enter:Ls(r,\"enter\",n),exit:Ls(r,\"exit\",n)})})}function $le(n,e,r){var i=xb(n.children),o=Ej(e,i);return Object.keys(o).forEach(function(c){var d=o[c];if(!!(0,ii.isValidElement)(d)){var p=c in e,g=c in i,_=e[c],k=(0,ii.isValidElement)(_)\u0026\u0026!_.props.in;g\u0026\u0026(!p||k)?o[c]=(0,ii.cloneElement)(d,{onExited:r.bind(null,d),in:!0,exit:Ls(d,\"exit\",n),enter:Ls(d,\"enter\",n)}):!g\u0026\u0026p\u0026\u0026!k?o[c]=(0,ii.cloneElement)(d,{in:!1}):g\u0026\u0026p\u0026\u0026(0,ii.isValidElement)(_)\u0026\u0026(o[c]=(0,ii.cloneElement)(d,{onExited:r.bind(null,d),in:_.props.in,exit:Ls(d,\"exit\",n),enter:Ls(d,\"enter\",n)}))}}),o}});var Tb=v((Rl,Ij)=\u003e{\"use strict\";Rl.__esModule=!0;Rl.default=void 0;var Mwe=Nb(Wt()),rm=Nb(ut()),Dj=Nb(Jf()),kb=jj();function Nb(n){return n\u0026\u0026n.__esModule?n:{default:n}}function Hle(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,c;for(c=0;c\u003ci.length;c++)o=i[c],!(e.indexOf(o)\u003e=0)\u0026\u0026(r[o]=n[o]);return r}function wb(){return wb=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)\u0026\u0026(n[i]=r[i])}return n},wb.apply(this,arguments)}function Yle(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}function Xle(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Zle=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Kle={component:\"div\",childFactory:function(e){return e}},qb=function(n){Xle(e,n);function e(i,o){var c;c=n.call(this,i,o)||this;var d=c.handleExited.bind(Yle(c));return c.state={contextValue:{isMounting:!0},handleExited:d,firstRender:!0},c}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,c){var d=c.children,p=c.handleExited,g=c.firstRender;return{children:g?(0,kb.getInitialChildMapping)(o,p):(0,kb.getNextChildMapping)(o,d,p),firstRender:!1}},r.handleExited=function(o,c){var d=(0,kb.getChildMapping)(this.props.children);o.key in d||(o.props.onExited\u0026\u0026o.props.onExited(c),this.mounted\u0026\u0026this.setState(function(p){var g=wb({},p.children);return delete g[o.key],{children:g}}))},r.render=function(){var o=this.props,c=o.component,d=o.childFactory,p=Hle(o,[\"component\",\"childFactory\"]),g=this.state.contextValue,_=Zle(this.state.children).map(d);return delete p.appear,delete p.enter,delete p.exit,c===null?rm.default.createElement(Dj.default.Provider,{value:g},_):rm.default.createElement(Dj.default.Provider,{value:g},rm.default.createElement(c,p,_))},e}(rm.default.Component);qb.propTypes={};qb.defaultProps=Kle;var Qle=qb;Rl.default=Qle;Ij.exports=Rl.default});var Lj=v((El,Vj)=\u003e{\"use strict\";El.__esModule=!0;El.default=void 0;var Swe=am(Wt()),wu=am(ut()),Jle=am(Ml()),ehe=am(Tb());function am(n){return n\u0026\u0026n.__esModule?n:{default:n}}function the(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,c;for(c=0;c\u003ci.length;c++)o=i[c],!(e.indexOf(o)\u003e=0)\u0026\u0026(r[o]=n[o]);return r}function nhe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Fj=function(n){nhe(e,n);function e(){for(var i,o=arguments.length,c=new Array(o),d=0;d\u003co;d++)c[d]=arguments[d];return i=n.call.apply(n,[this].concat(c))||this,i.handleEnter=function(){for(var p=arguments.length,g=new Array(p),_=0;_\u003cp;_++)g[_]=arguments[_];return i.handleLifecycle(\"onEnter\",0,g)},i.handleEntering=function(){for(var p=arguments.length,g=new Array(p),_=0;_\u003cp;_++)g[_]=arguments[_];return i.handleLifecycle(\"onEntering\",0,g)},i.handleEntered=function(){for(var p=arguments.length,g=new Array(p),_=0;_\u003cp;_++)g[_]=arguments[_];return i.handleLifecycle(\"onEntered\",0,g)},i.handleExit=function(){for(var p=arguments.length,g=new Array(p),_=0;_\u003cp;_++)g[_]=arguments[_];return i.handleLifecycle(\"onExit\",1,g)},i.handleExiting=function(){for(var p=arguments.length,g=new Array(p),_=0;_\u003cp;_++)g[_]=arguments[_];return i.handleLifecycle(\"onExiting\",1,g)},i.handleExited=function(){for(var p=arguments.length,g=new Array(p),_=0;_\u003cp;_++)g[_]=arguments[_];return i.handleLifecycle(\"onExited\",1,g)},i}var r=e.prototype;return r.handleLifecycle=function(o,c,d){var p,g=this.props.children,_=wu.default.Children.toArray(g)[c];if(_.props[o]\u0026\u0026(p=_.props)[o].apply(p,d),this.props[o]){var k=_.props.nodeRef?void 0:Jle.default.findDOMNode(this);this.props[o](k)}},r.render=function(){var o=this.props,c=o.children,d=o.in,p=the(o,[\"children\",\"in\"]),g=wu.default.Children.toArray(c),_=g[0],k=g[1];return delete p.onEnter,delete p.onEntering,delete p.onEntered,delete p.onExit,delete p.onExiting,delete p.onExited,wu.default.createElement(ehe.default,p,d?wu.default.cloneElement(_,{key:\"first\",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):wu.default.cloneElement(k,{key:\"second\",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},e}(wu.default.Component);Fj.propTypes={};var rhe=Fj;El.default=rhe;Vj.exports=El.default});var Wj=v(qu=\u003e{\"use strict\";qu.__esModule=!0;qu.default=qu.modes=void 0;var Lr=Mb(ut()),Pwe=Mb(Wt()),aa=nm(),ahe=Mb(Jf()),im,sm;function Mb(n){return n\u0026\u0026n.__esModule?n:{default:n}}function ihe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function she(n,e){return!(n===e||Lr.default.isValidElement(n)\u0026\u0026Lr.default.isValidElement(e)\u0026\u0026n.key!=null\u0026\u0026n.key===e.key)}var Ws={out:\"out-in\",in:\"in-out\"};qu.modes=Ws;var om=function(e,r,i){return function(){var o;e.props[r]\u0026\u0026(o=e.props)[r].apply(o,arguments),i()}},ohe=(im={},im[Ws.out]=function(n){var e=n.current,r=n.changeState;return Lr.default.cloneElement(e,{in:!1,onExited:om(e,\"onExited\",function(){r(aa.ENTERING,null)})})},im[Ws.in]=function(n){var e=n.current,r=n.changeState,i=n.children;return[e,Lr.default.cloneElement(i,{in:!0,onEntered:om(i,\"onEntered\",function(){r(aa.ENTERING)})})]},im),uhe=(sm={},sm[Ws.out]=function(n){var e=n.children,r=n.changeState;return Lr.default.cloneElement(e,{in:!0,onEntered:om(e,\"onEntered\",function(){r(aa.ENTERED,Lr.default.cloneElement(e,{in:!0}))})})},sm[Ws.in]=function(n){var e=n.current,r=n.children,i=n.changeState;return[Lr.default.cloneElement(e,{in:!1,onExited:om(e,\"onExited\",function(){i(aa.ENTERED,Lr.default.cloneElement(r,{in:!0}))})}),Lr.default.cloneElement(r,{in:!0})]},sm),Sb=function(n){ihe(e,n);function e(){for(var i,o=arguments.length,c=new Array(o),d=0;d\u003co;d++)c[d]=arguments[d];return i=n.call.apply(n,[this].concat(c))||this,i.state={status:aa.ENTERED,current:null},i.appeared=!1,i.changeState=function(p,g){g===void 0\u0026\u0026(g=i.state.current),i.setState({status:p,current:g})},i}var r=e.prototype;return r.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(o,c){return o.children==null?{current:null}:c.status===aa.ENTERING\u0026\u0026o.mode===Ws.in?{status:aa.ENTERING}:c.current\u0026\u0026she(c.current,o.children)?{status:aa.EXITING}:{current:Lr.default.cloneElement(o.children,{in:!0})}},r.render=function(){var o=this.props,c=o.children,d=o.mode,p=this.state,g=p.status,_=p.current,k={children:c,current:_,changeState:this.changeState,status:g},x;switch(g){case aa.ENTERING:x=uhe[d](k);break;case aa.EXITING:x=ohe[d](k);break;case aa.ENTERED:x=_}return Lr.default.createElement(ahe.default.Provider,{value:{isMounting:!this.appeared}},x)},e}(Lr.default.Component);Sb.propTypes={};Sb.defaultProps={mode:Ws.out};var che=Sb;qu.default=che});var Bj=v(ur=\u003e{\"use strict\";ur.__esModule=!0;ur.config=ur.Transition=ur.TransitionGroup=ur.SwitchTransition=ur.ReplaceTransition=ur.CSSTransition=void 0;var lhe=Tu(Rj());ur.CSSTransition=lhe.default;var hhe=Tu(Lj());ur.ReplaceTransition=hhe.default;var dhe=Tu(Wj());ur.SwitchTransition=dhe.default;var phe=Tu(Tb());ur.TransitionGroup=phe.default;var fhe=Tu(nm());ur.Transition=fhe.default;var mhe=Tu(mb());ur.config=mhe.default;function Tu(n){return n\u0026\u0026n.__esModule?n:{default:n}}});var Gj=v(um=\u003e{\"use strict\";var Pb=Me(),vhe=sn();Object.defineProperty(um,\"__esModule\",{value:!0});um.default=void 0;var jl=vhe(ut()),Awe=Pb(Wt()),zj=Pb(Vi()),ghe=Pb(Hf()),yhe=typeof window==\"undefined\"?jl.useEffect:jl.useLayoutEffect;function _he(n){var e=n.classes,r=n.pulsate,i=r===void 0?!1:r,o=n.rippleX,c=n.rippleY,d=n.rippleSize,p=n.in,g=n.onExited,_=g===void 0?function(){}:g,k=n.timeout,x=jl.useState(!1),q=x[0],V=x[1],P=(0,zj.default)(e.ripple,e.rippleVisible,i\u0026\u0026e.ripplePulsate),W={width:d,height:d,top:-(d/2)+c,left:-(d/2)+o},K=(0,zj.default)(e.child,q\u0026\u0026e.childLeaving,i\u0026\u0026e.childPulsate),J=(0,ghe.default)(_);return yhe(function(){if(!p){V(!0);var X=setTimeout(J,k);return function(){clearTimeout(X)}}},[J,p,k]),jl.createElement(\"span\",{className:P,style:W},jl.createElement(\"span\",{className:K}))}var bhe=_he;um.default=bhe});var Hj=v(Ki=\u003e{\"use strict\";var xhe=sn(),Bs=Me();Object.defineProperty(Ki,\"__esModule\",{value:!0});Ki.default=Ki.styles=Ki.DELAY_RIPPLE=void 0;var khe=Bs(xt()),Nhe=Bs(ol()),whe=Bs(Vn()),pn=xhe(ut()),Ewe=Bs(Wt()),qhe=Bj(),The=Bs(Vi()),Mhe=Bs(yu()),She=Bs(Gj()),Ob=550,Uj=80;Ki.DELAY_RIPPLE=Uj;var $j=function(e){return{root:{overflow:\"hidden\",pointerEvents:\"none\",position:\"absolute\",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:\"inherit\"},ripple:{opacity:0,position:\"absolute\"},rippleVisible:{opacity:.3,transform:\"scale(1)\",animation:\"$enter \".concat(Ob,\"ms \").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:\"\".concat(e.transitions.duration.shorter,\"ms\")},child:{opacity:1,display:\"block\",width:\"100%\",height:\"100%\",borderRadius:\"50%\",backgroundColor:\"currentColor\"},childLeaving:{opacity:0,animation:\"$exit \".concat(Ob,\"ms \").concat(e.transitions.easing.easeInOut)},childPulsate:{position:\"absolute\",left:0,top:0,animation:\"$pulsate 2500ms \".concat(e.transitions.easing.easeInOut,\" 200ms infinite\")},\"@keyframes enter\":{\"0%\":{transform:\"scale(0)\",opacity:.1},\"100%\":{transform:\"scale(1)\",opacity:.3}},\"@keyframes exit\":{\"0%\":{opacity:1},\"100%\":{opacity:0}},\"@keyframes pulsate\":{\"0%\":{transform:\"scale(1)\"},\"50%\":{transform:\"scale(0.92)\"},\"100%\":{transform:\"scale(1)\"}}}};Ki.styles=$j;var Phe=pn.forwardRef(function(e,r){var i=e.center,o=i===void 0?!1:i,c=e.classes,d=e.className,p=(0,whe.default)(e,[\"center\",\"classes\",\"className\"]),g=pn.useState([]),_=g[0],k=g[1],x=pn.useRef(0),q=pn.useRef(null);pn.useEffect(function(){q.current\u0026\u0026(q.current(),q.current=null)},[_]);var V=pn.useRef(!1),P=pn.useRef(null),W=pn.useRef(null),K=pn.useRef(null);pn.useEffect(function(){return function(){clearTimeout(P.current)}},[]);var J=pn.useCallback(function(R){var $=R.pulsate,U=R.rippleX,te=R.rippleY,ie=R.rippleSize,be=R.cb;k(function(Ne){return[].concat((0,Nhe.default)(Ne),[pn.createElement(She.default,{key:x.current,classes:c,timeout:Ob,pulsate:$,rippleX:U,rippleY:te,rippleSize:ie})])}),x.current+=1,q.current=be},[c]),X=pn.useCallback(function(){var R=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},$=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},U=arguments.length\u003e2?arguments[2]:void 0,te=$.pulsate,ie=te===void 0?!1:te,be=$.center,Ne=be===void 0?o||$.pulsate:be,Ae=$.fakeElement,ze=Ae===void 0?!1:Ae;if(R.type===\"mousedown\"\u0026\u0026V.current){V.current=!1;return}R.type===\"touchstart\"\u0026\u0026(V.current=!0);var $e=ze?null:K.current,Y=$e?$e.getBoundingClientRect():{width:0,height:0,left:0,top:0},ue,le,ce;if(Ne||R.clientX===0\u0026\u0026R.clientY===0||!R.clientX\u0026\u0026!R.touches)ue=Math.round(Y.width/2),le=Math.round(Y.height/2);else{var ye=R.touches?R.touches[0]:R,me=ye.clientX,je=ye.clientY;ue=Math.round(me-Y.left),le=Math.round(je-Y.top)}if(Ne)ce=Math.sqrt((2*Math.pow(Y.width,2)+Math.pow(Y.height,2))/3),ce%2==0\u0026\u0026(ce+=1);else{var Je=Math.max(Math.abs(($e?$e.clientWidth:0)-ue),ue)*2+2,ft=Math.max(Math.abs(($e?$e.clientHeight:0)-le),le)*2+2;ce=Math.sqrt(Math.pow(Je,2)+Math.pow(ft,2))}R.touches?W.current===null\u0026\u0026(W.current=function(){J({pulsate:ie,rippleX:ue,rippleY:le,rippleSize:ce,cb:U})},P.current=setTimeout(function(){W.current\u0026\u0026(W.current(),W.current=null)},Uj)):J({pulsate:ie,rippleX:ue,rippleY:le,rippleSize:ce,cb:U})},[o,J]),oe=pn.useCallback(function(){X({},{pulsate:!0})},[X]),G=pn.useCallback(function(R,$){if(clearTimeout(P.current),R.type===\"touchend\"\u0026\u0026W.current){R.persist(),W.current(),W.current=null,P.current=setTimeout(function(){G(R,$)});return}W.current=null,k(function(U){return U.length\u003e0?U.slice(1):U}),q.current=$},[]);return pn.useImperativeHandle(r,function(){return{pulsate:oe,start:X,stop:G}},[oe,X,G]),pn.createElement(\"span\",(0,khe.default)({className:(0,The.default)(c.root,d),ref:K},p),pn.createElement(qhe.TransitionGroup,{component:null,exit:!0},_))}),Ohe=(0,Mhe.default)($j,{flip:!1,name:\"MuiTouchRipple\"})(pn.memo(Phe));Ki.default=Ohe});var Kj=v(Mu=\u003e{\"use strict\";var Yj=sn(),Ra=Me();Object.defineProperty(Mu,\"__esModule\",{value:!0});Mu.default=Mu.styles=void 0;var Xj=Ra(xt()),Che=Ra(Vn()),ia=Yj(ut()),Dwe=Ra(Wt()),Ahe=Yj(Ml()),Rhe=Ra(Vi()),Iwe=on(),Cb=Ra(cb()),cm=Ra(Hf()),Fwe=Ra(db()),Ehe=Ra(yu()),jhe=Ra(fb()),Dhe=Ra(Hj()),Zj={root:{display:\"inline-flex\",alignItems:\"center\",justifyContent:\"center\",position:\"relative\",WebkitTapHighlightColor:\"transparent\",backgroundColor:\"transparent\",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:\"pointer\",userSelect:\"none\",verticalAlign:\"middle\",\"-moz-appearance\":\"none\",\"-webkit-appearance\":\"none\",textDecoration:\"none\",color:\"inherit\",\"\u0026::-moz-focus-inner\":{borderStyle:\"none\"},\"\u0026$disabled\":{pointerEvents:\"none\",cursor:\"default\"},\"@media print\":{colorAdjust:\"exact\"}},disabled:{},focusVisible:{}};Mu.styles=Zj;var Ihe=ia.forwardRef(function(e,r){var i=e.action,o=e.buttonRef,c=e.centerRipple,d=c===void 0?!1:c,p=e.children,g=e.classes,_=e.className,k=e.component,x=k===void 0?\"button\":k,q=e.disabled,V=q===void 0?!1:q,P=e.disableRipple,W=P===void 0?!1:P,K=e.disableTouchRipple,J=K===void 0?!1:K,X=e.focusRipple,oe=X===void 0?!1:X,G=e.focusVisibleClassName,R=e.onBlur,$=e.onClick,U=e.onFocus,te=e.onFocusVisible,ie=e.onKeyDown,be=e.onKeyUp,Ne=e.onMouseDown,Ae=e.onMouseLeave,ze=e.onMouseUp,$e=e.onTouchEnd,Y=e.onTouchMove,ue=e.onTouchStart,le=e.onDragLeave,ce=e.tabIndex,ye=ce===void 0?0:ce,me=e.TouchRippleProps,je=e.type,Je=je===void 0?\"button\":je,ft=(0,Che.default)(e,[\"action\",\"buttonRef\",\"centerRipple\",\"children\",\"classes\",\"className\",\"component\",\"disabled\",\"disableRipple\",\"disableTouchRipple\",\"focusRipple\",\"focusVisibleClassName\",\"onBlur\",\"onClick\",\"onFocus\",\"onFocusVisible\",\"onKeyDown\",\"onKeyUp\",\"onMouseDown\",\"onMouseLeave\",\"onMouseUp\",\"onTouchEnd\",\"onTouchMove\",\"onTouchStart\",\"onDragLeave\",\"tabIndex\",\"TouchRippleProps\",\"type\"]),de=ia.useRef(null);function xe(){return Ahe.findDOMNode(de.current)}var Oe=ia.useRef(null),Ge=ia.useState(!1),Pe=Ge[0],Se=Ge[1];V\u0026\u0026Pe\u0026\u0026Se(!1);var nt=(0,jhe.default)(),ct=nt.isFocusVisible,Gt=nt.onBlurVisible,fn=nt.ref;ia.useImperativeHandle(i,function(){return{focusVisible:function(){Se(!0),de.current.focus()}}},[]),ia.useEffect(function(){Pe\u0026\u0026oe\u0026\u0026!W\u0026\u0026Oe.current.pulsate()},[W,oe,Pe]);function Ot(He,zr){var ca=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:J;return(0,cm.default)(function(ci){zr\u0026\u0026zr(ci);var li=ca;return!li\u0026\u0026Oe.current\u0026\u0026Oe.current[He](ci),!0})}var mn=Ot(\"start\",Ne),wn=Ot(\"stop\",le),Un=Ot(\"stop\",ze),$n=Ot(\"stop\",function(He){Pe\u0026\u0026He.preventDefault(),Ae\u0026\u0026Ae(He)}),Hn=Ot(\"start\",ue),mt=Ot(\"stop\",$e),jn=Ot(\"stop\",Y),Dn=Ot(\"stop\",function(He){Pe\u0026\u0026(Gt(He),Se(!1)),R\u0026\u0026R(He)},!1),Wr=(0,cm.default)(function(He){de.current||(de.current=He.currentTarget),ct(He)\u0026\u0026(Se(!0),te\u0026\u0026te(He)),U\u0026\u0026U(He)}),sa=function(){var zr=xe();return x\u0026\u0026x!==\"button\"\u0026\u0026!(zr.tagName===\"A\"\u0026\u0026zr.href)},Tr=ia.useRef(!1),Br=(0,cm.default)(function(He){oe\u0026\u0026!Tr.current\u0026\u0026Pe\u0026\u0026Oe.current\u0026\u0026He.key===\" \"\u0026\u0026(Tr.current=!0,He.persist(),Oe.current.stop(He,function(){Oe.current.start(He)})),He.target===He.currentTarget\u0026\u0026sa()\u0026\u0026He.key===\" \"\u0026\u0026He.preventDefault(),ie\u0026\u0026ie(He),He.target===He.currentTarget\u0026\u0026sa()\u0026\u0026He.key===\"Enter\"\u0026\u0026!V\u0026\u0026(He.preventDefault(),$\u0026\u0026$(He))}),si=(0,cm.default)(function(He){oe\u0026\u0026He.key===\" \"\u0026\u0026Oe.current\u0026\u0026Pe\u0026\u0026!He.defaultPrevented\u0026\u0026(Tr.current=!1,He.persist(),Oe.current.stop(He,function(){Oe.current.pulsate(He)})),be\u0026\u0026be(He),$\u0026\u0026He.target===He.currentTarget\u0026\u0026sa()\u0026\u0026He.key===\" \"\u0026\u0026!He.defaultPrevented\u0026\u0026$(He)}),hr=x;hr===\"button\"\u0026\u0026ft.href\u0026\u0026(hr=\"a\");var Yn={};hr===\"button\"?(Yn.type=Je,Yn.disabled=V):((hr!==\"a\"||!ft.href)\u0026\u0026(Yn.role=\"button\"),Yn[\"aria-disabled\"]=V);var oi=(0,Cb.default)(o,r),Ea=(0,Cb.default)(fn,de),oa=(0,Cb.default)(oi,Ea),ja=ia.useState(!1),ua=ja[0],es=ja[1];ia.useEffect(function(){es(!0)},[]);var ui=ua\u0026\u0026!W\u0026\u0026!V;return ia.createElement(hr,(0,Xj.default)({className:(0,Rhe.default)(g.root,_,Pe\u0026\u0026[g.focusVisible,G],V\u0026\u0026g.disabled),onBlur:Dn,onClick:$,onFocus:Wr,onKeyDown:Br,onKeyUp:si,onMouseDown:mn,onMouseLeave:$n,onMouseUp:Un,onDragLeave:wn,onTouchEnd:mt,onTouchMove:jn,onTouchStart:Hn,ref:oa,tabIndex:V?-1:ye},Yn,ft),p,ui?ia.createElement(Dhe.default,(0,Xj.default)({ref:Oe,center:d},me)):null)}),Fhe=(0,Ehe.default)(Zj,{name:\"MuiButtonBase\"})(Ihe);Mu.default=Fhe});var Qj=v(Ab=\u003e{\"use strict\";var Vhe=Me();Object.defineProperty(Ab,\"__esModule\",{value:!0});Object.defineProperty(Ab,\"default\",{enumerable:!0,get:function(){return Lhe.default}});var Lhe=Vhe(Kj())});var Dl=v(Rb=\u003e{\"use strict\";Object.defineProperty(Rb,\"__esModule\",{value:!0});Rb.default=Bhe;var Whe=on();function Bhe(n){if(typeof n!=\"string\")throw new Error((0,Whe.formatMuiErrorMessage)(7));return n.charAt(0).toUpperCase()+n.slice(1)}});var nD=v(Su=\u003e{\"use strict\";var zhe=sn(),zs=Me();Object.defineProperty(Su,\"__esModule\",{value:!0});Su.default=Su.styles=void 0;var Ghe=zs(Vn()),Jj=zs(xt()),Eb=zhe(ut()),Bwe=zs(Wt()),eD=zs(Vi()),zwe=on(),Uhe=zs(yu()),$he=zs(Qj()),Hhe=zs(Dl()),tD=function(e){return{root:(0,Jj.default)({},e.typography.button,{boxSizing:\"border-box\",minHeight:36,transition:e.transitions.create([\"background-color\",\"box-shadow\",\"border\"],{duration:e.transitions.duration.short}),borderRadius:\"50%\",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],\"\u0026:active\":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],\"\u0026:hover\":{backgroundColor:e.palette.grey.A100,\"@media (hover: none)\":{backgroundColor:e.palette.grey[300]},\"\u0026$disabled\":{backgroundColor:e.palette.action.disabledBackground},textDecoration:\"none\"},\"\u0026$focusVisible\":{boxShadow:e.shadows[6]},\"\u0026$disabled\":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:\"100%\",display:\"inherit\",alignItems:\"inherit\",justifyContent:\"inherit\"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,\"\u0026:hover\":{backgroundColor:e.palette.primary.dark,\"@media (hover: none)\":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,\"\u0026:hover\":{backgroundColor:e.palette.secondary.dark,\"@media (hover: none)\":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:48/2,padding:\"0 16px\",width:\"auto\",minHeight:\"auto\",minWidth:48,height:48,\"\u0026$sizeSmall\":{width:\"auto\",padding:\"0 8px\",borderRadius:34/2,minWidth:34,height:34},\"\u0026$sizeMedium\":{width:\"auto\",padding:\"0 16px\",borderRadius:40/2,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:\"inherit\"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}};Su.styles=tD;var Yhe=Eb.forwardRef(function(e,r){var i=e.children,o=e.classes,c=e.className,d=e.color,p=d===void 0?\"default\":d,g=e.component,_=g===void 0?\"button\":g,k=e.disabled,x=k===void 0?!1:k,q=e.disableFocusRipple,V=q===void 0?!1:q,P=e.focusVisibleClassName,W=e.size,K=W===void 0?\"large\":W,J=e.variant,X=J===void 0?\"circular\":J,oe=(0,Ghe.default)(e,[\"children\",\"classes\",\"className\",\"color\",\"component\",\"disabled\",\"disableFocusRipple\",\"focusVisibleClassName\",\"size\",\"variant\"]);return Eb.createElement($he.default,(0,Jj.default)({className:(0,eD.default)(o.root,c,K!==\"large\"\u0026\u0026o[\"size\".concat((0,Hhe.default)(K))],x\u0026\u0026o.disabled,X===\"extended\"\u0026\u0026o.extended,{primary:o.primary,secondary:o.secondary,inherit:o.colorInherit}[p]),component:_,disabled:x,focusRipple:!V,focusVisibleClassName:(0,eD.default)(o.focusVisible,P),ref:r},oe),Eb.createElement(\"span\",{className:o.label},i))}),Xhe=(0,Uhe.default)(tD,{name:\"MuiFab\"})(Yhe);Su.default=Xhe});var rD=v(jb=\u003e{\"use strict\";var Zhe=Me();Object.defineProperty(jb,\"__esModule\",{value:!0});Object.defineProperty(jb,\"default\",{enumerable:!0,get:function(){return Khe.default}});var Khe=Zhe(nD())});var aD=v(Db=\u003e{\"use strict\";Object.defineProperty(Db,\"__esModule\",{value:!0});Db.default=Qhe;function Qhe(){for(var n=arguments.length,e=new Array(n),r=0;r\u003cn;r++)e[r]=arguments[r];return e.reduce(function(i,o){return o==null?i:function(){for(var d=arguments.length,p=new Array(d),g=0;g\u003cd;g++)p[g]=arguments[g];i.apply(this,p),o.apply(this,p)}},function(){})}});var uD=v(Ou=\u003e{\"use strict\";var Jhe=sn(),Pu=Me();Object.defineProperty(Ou,\"__esModule\",{value:!0});Ou.default=Ou.styles=void 0;var ede=Pu(xt()),tde=Pu(Vn()),Ib=Jhe(ut()),Hwe=Pu(Wt()),nde=Pu(Vi()),Ywe=on(),rde=Pu(yu()),iD=Pu(Dl()),sD=function(e){return{root:{userSelect:\"none\",width:\"1em\",height:\"1em\",display:\"inline-block\",fill:\"currentColor\",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create(\"fill\",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:\"inherit\"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}};Ou.styles=sD;var oD=Ib.forwardRef(function(e,r){var i=e.children,o=e.classes,c=e.className,d=e.color,p=d===void 0?\"inherit\":d,g=e.component,_=g===void 0?\"svg\":g,k=e.fontSize,x=k===void 0?\"medium\":k,q=e.htmlColor,V=e.titleAccess,P=e.viewBox,W=P===void 0?\"0 0 24 24\":P,K=(0,tde.default)(e,[\"children\",\"classes\",\"className\",\"color\",\"component\",\"fontSize\",\"htmlColor\",\"titleAccess\",\"viewBox\"]);return Ib.createElement(_,(0,ede.default)({className:(0,nde.default)(o.root,c,p!==\"inherit\"\u0026\u0026o[\"color\".concat((0,iD.default)(p))],x!==\"default\"\u0026\u0026x!==\"medium\"\u0026\u0026o[\"fontSize\".concat((0,iD.default)(x))]),focusable:\"false\",viewBox:W,color:q,\"aria-hidden\":V?void 0:!0,role:V?\"img\":void 0,ref:r},K),i,V?Ib.createElement(\"title\",null,V):null)});oD.muiName=\"SvgIcon\";var ade=(0,rde.default)(sD,{name:\"MuiSvgIcon\"})(oD);Ou.default=ade});var cD=v(Fb=\u003e{\"use strict\";var ide=Me();Object.defineProperty(Fb,\"__esModule\",{value:!0});Object.defineProperty(Fb,\"default\",{enumerable:!0,get:function(){return sde.default}});var sde=ide(uD())});var hD=v(Wb=\u003e{\"use strict\";var Vb=Me();Object.defineProperty(Wb,\"__esModule\",{value:!0});Wb.default=ude;var ode=Vb(xt()),Lb=Vb(ut()),lD=Vb(cD());function ude(n,e){var r=function(o,c){return Lb.default.createElement(lD.default,(0,ode.default)({ref:c},o),n)};return r.muiName=lD.default.muiName,Lb.default.memo(Lb.default.forwardRef(r))}});var dD=v(Bb=\u003e{\"use strict\";Object.defineProperty(Bb,\"__esModule\",{value:!0});Bb.default=cde;function cde(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:166,r;function i(){for(var o=arguments.length,c=new Array(o),d=0;d\u003co;d++)c[d]=arguments[d];var p=this,g=function(){n.apply(p,c)};clearTimeout(r),r=setTimeout(g,e)}return i.clear=function(){clearTimeout(r)},i}});var pD=v(zb=\u003e{\"use strict\";var lde=sn();Object.defineProperty(zb,\"__esModule\",{value:!0});zb.default=dde;var hde=lde(ut());function dde(n,e){return hde.isValidElement(n)\u0026\u0026e.indexOf(n.type.muiName)!==-1}});var Ub=v(Gb=\u003e{\"use strict\";Object.defineProperty(Gb,\"__esModule\",{value:!0});Gb.default=pde;function pde(n){return n\u0026\u0026n.ownerDocument||document}});var fD=v($b=\u003e{\"use strict\";var fde=Me();Object.defineProperty($b,\"__esModule\",{value:!0});$b.default=vde;var mde=fde(Ub());function vde(n){var e=(0,mde.default)(n);return e.defaultView||window}});var mD=v(Hb=\u003e{\"use strict\";Object.defineProperty(Hb,\"__esModule\",{value:!0});Hb.default=gde;function gde(n){return function(){return null};var e}});var vD=v(Yb=\u003e{\"use strict\";Object.defineProperty(Yb,\"__esModule\",{value:!0});Yb.default=yde;function yde(n,e,r,i,o){return null;var c}});var gD=v(Zb=\u003e{\"use strict\";var _de=sn();Object.defineProperty(Zb,\"__esModule\",{value:!0});Zb.default=bde;var Xb=_de(ut());function bde(n){var e=n.controlled,r=n.default,i=n.name,o=n.state,c=o===void 0?\"value\":o,d=Xb.useRef(e!==void 0),p=d.current,g=Xb.useState(r),_=g[0],k=g[1],x=p?e:_;if(!1)var q,V;var P=Xb.useCallback(function(W){p||k(W)},[]);return[x,P]}});var _D=v(Kb=\u003e{\"use strict\";var xde=sn();Object.defineProperty(Kb,\"__esModule\",{value:!0});Kb.default=kde;var yD=xde(ut());function kde(n){var e=yD.useState(n),r=e[0],i=e[1],o=n||r;return yD.useEffect(function(){r==null\u0026\u0026i(\"mui-\".concat(Math.round(Math.random()*1e5)))},[r]),o}});var bD=v(Nn=\u003e{\"use strict\";var Bn=Me();Object.defineProperty(Nn,\"__esModule\",{value:!0});Object.defineProperty(Nn,\"capitalize\",{enumerable:!0,get:function(){return Nde.default}});Object.defineProperty(Nn,\"createChainedFunction\",{enumerable:!0,get:function(){return wde.default}});Object.defineProperty(Nn,\"createSvgIcon\",{enumerable:!0,get:function(){return qde.default}});Object.defineProperty(Nn,\"debounce\",{enumerable:!0,get:function(){return Tde.default}});Object.defineProperty(Nn,\"deprecatedPropType\",{enumerable:!0,get:function(){return Mde.default}});Object.defineProperty(Nn,\"isMuiElement\",{enumerable:!0,get:function(){return Sde.default}});Object.defineProperty(Nn,\"ownerDocument\",{enumerable:!0,get:function(){return Pde.default}});Object.defineProperty(Nn,\"ownerWindow\",{enumerable:!0,get:function(){return Ode.default}});Object.defineProperty(Nn,\"requirePropFactory\",{enumerable:!0,get:function(){return Cde.default}});Object.defineProperty(Nn,\"setRef\",{enumerable:!0,get:function(){return Ade.default}});Object.defineProperty(Nn,\"unsupportedProp\",{enumerable:!0,get:function(){return Rde.default}});Object.defineProperty(Nn,\"useControlled\",{enumerable:!0,get:function(){return Ede.default}});Object.defineProperty(Nn,\"useEventCallback\",{enumerable:!0,get:function(){return jde.default}});Object.defineProperty(Nn,\"useForkRef\",{enumerable:!0,get:function(){return Dde.default}});Object.defineProperty(Nn,\"unstable_useId\",{enumerable:!0,get:function(){return Ide.default}});Object.defineProperty(Nn,\"useIsFocusVisible\",{enumerable:!0,get:function(){return Fde.default}});var Nde=Bn(Dl()),wde=Bn(aD()),qde=Bn(hD()),Tde=Bn(dD()),Mde=Bn(db()),Sde=Bn(pD()),Pde=Bn(Ub()),Ode=Bn(fD()),Cde=Bn(mD()),Ade=Bn(ob()),Rde=Bn(vD()),Ede=Bn(gD()),jde=Bn(Hf()),Dde=Bn(cb()),Ide=Bn(_D()),Fde=Bn(fb())});var Jb=v(Qb=\u003e{\"use strict\";Object.defineProperty(Qb,\"__esModule\",{value:!0});Object.defineProperty(Qb,\"default\",{enumerable:!0,get:function(){return Vde.createSvgIcon}});var Vde=bD()});var xD=v(lm=\u003e{\"use strict\";var Lde=Me(),Wde=sn();Object.defineProperty(lm,\"__esModule\",{value:!0});lm.default=void 0;var Bde=Wde(ut()),zde=Lde(Jb()),Gde=(0,zde.default)(Bde.createElement(\"path\",{d:\"M8 5v14l11-7z\"}),\"PlayArrow\");lm.default=Gde});var kD=v(hm=\u003e{\"use strict\";var Ude=Me(),$de=sn();Object.defineProperty(hm,\"__esModule\",{value:!0});hm.default=void 0;var Hde=$de(ut()),Yde=Ude(Jb()),Xde=(0,Yde.default)(Hde.createElement(\"path\",{d:\"M6 6h12v12H6z\"}),\"Stop\");hm.default=Xde});var TD=v(Au=\u003e{\"use strict\";var Zde=sn(),Cu=Me();Object.defineProperty(Au,\"__esModule\",{value:!0});Au.default=Au.styles=void 0;var ND=Cu(xt()),Kde=Cu(Vn()),dm=Zde(ut()),lqe=Cu(Wt()),wD=Cu(Vi()),hqe=on(),Qde=Cu(yu()),Jde=Cu(Dl()),Qi=44,qD=function(e){return{root:{display:\"inline-block\"},static:{transition:e.transitions.create(\"transform\")},indeterminate:{animation:\"$circular-rotate 1.4s linear infinite\"},determinate:{transition:e.transitions.create(\"transform\")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:\"block\"},circle:{stroke:\"currentColor\"},circleStatic:{transition:e.transitions.create(\"stroke-dashoffset\")},circleIndeterminate:{animation:\"$circular-dash 1.4s ease-in-out infinite\",strokeDasharray:\"80px, 200px\",strokeDashoffset:\"0px\"},circleDeterminate:{transition:e.transitions.create(\"stroke-dashoffset\")},\"@keyframes circular-rotate\":{\"0%\":{transformOrigin:\"50% 50%\"},\"100%\":{transform:\"rotate(360deg)\"}},\"@keyframes circular-dash\":{\"0%\":{strokeDasharray:\"1px, 200px\",strokeDashoffset:\"0px\"},\"50%\":{strokeDasharray:\"100px, 200px\",strokeDashoffset:\"-15px\"},\"100%\":{strokeDasharray:\"100px, 200px\",strokeDashoffset:\"-125px\"}},circleDisableShrink:{animation:\"none\"}}};Au.styles=qD;var epe=dm.forwardRef(function(e,r){var i=e.classes,o=e.className,c=e.color,d=c===void 0?\"primary\":c,p=e.disableShrink,g=p===void 0?!1:p,_=e.size,k=_===void 0?40:_,x=e.style,q=e.thickness,V=q===void 0?3.6:q,P=e.value,W=P===void 0?0:P,K=e.variant,J=K===void 0?\"indeterminate\":K,X=(0,Kde.default)(e,[\"classes\",\"className\",\"color\",\"disableShrink\",\"size\",\"style\",\"thickness\",\"value\",\"variant\"]),oe={},G={},R={};if(J===\"determinate\"||J===\"static\"){var $=2*Math.PI*((Qi-V)/2);oe.strokeDasharray=$.toFixed(3),R[\"aria-valuenow\"]=Math.round(W),oe.strokeDashoffset=\"\".concat(((100-W)/100*$).toFixed(3),\"px\"),G.transform=\"rotate(-90deg)\"}return dm.createElement(\"div\",(0,ND.default)({className:(0,wD.default)(i.root,o,d!==\"inherit\"\u0026\u0026i[\"color\".concat((0,Jde.default)(d))],{determinate:i.determinate,indeterminate:i.indeterminate,static:i.static}[J]),style:(0,ND.default)({width:k,height:k},G,x),ref:r,role:\"progressbar\"},R,X),dm.createElement(\"svg\",{className:i.svg,viewBox:\"\".concat(Qi/2,\" \").concat(Qi/2,\" \").concat(Qi,\" \").concat(Qi)},dm.createElement(\"circle\",{className:(0,wD.default)(i.circle,g\u0026\u0026i.circleDisableShrink,{determinate:i.circleDeterminate,indeterminate:i.circleIndeterminate,static:i.circleStatic}[J]),style:oe,cx:Qi,cy:Qi,r:(Qi-V)/2,fill:\"none\",strokeWidth:V})))}),tpe=(0,Qde.default)(qD,{name:\"MuiCircularProgress\",flip:!1})(epe);Au.default=tpe});var MD=v(e1=\u003e{\"use strict\";var npe=Me();Object.defineProperty(e1,\"__esModule\",{value:!0});Object.defineProperty(e1,\"default\",{enumerable:!0,get:function(){return rpe.default}});var rpe=npe(TD())});var upe={};Jm(upe,{default:()=\u003eope,frontmatter:()=\u003eipe});var a=rt(Ax());var ka=rt(Si());function ln(n){return typeof n!=\"object\"||Array.isArray(n)?{value:n}:n}function Kr(n){return Array.isArray(n)?n:[n]}function ec(n,e={}){let r=e.getChildren||B8,i=e.isDeep||(d=\u003ed.value\u0026\u0026typeof d.value==\"object\"),o=[],c=r(n,e);return c.forEach((d,p)=\u003e{typeof e.mapChild==\"function\"\u0026\u0026(d=e.mapChild({child:d,isLeaf:!i(d),index:p,props:e,siblings:c,parent:n})),i(d)?(o=o.concat(ec(d,e)),e.includeNonLeaves\u0026\u0026o.push(d)):o.push(d)}),o}function B8(n){let e=ln(n);return(Kr(e.value)||[]).map((i,o,c)=\u003e({...ln(i),path:(e.path||[]).concat([[o,c.length]])}))}var R3=rt(zd());var Ng=rt(_a());function wg(n){let e=ln(n);if(e.type\u0026\u0026e.type!==\"sequential\"||!e.value\u0026\u0026!e.sequential)return e;if(e.value\u0026\u0026e.sequential)throw new Error(\"cannot set value together with sequential\");let r=e.sequential||e.value;return delete e.sequential,{...e,value:r}}function qg(n,e=[]){let r=wg(n);if(!r.value)return r;let i=Kr(r.value||[]),o=i.map(d=\u003eln(d).duration??1),c=(0,Ng.sum)(o);return{...r,value:i.map((d,p)=\u003e{let g=(0,Ng.sum)(o.slice(0,p));d=ln(d);let _;return _=(r.path||[]).concat([[g,o[p],c]]),{...d,path:_}})}}var zO=rt(_a());function Tg(n){if(typeof n!=\"object\")return n;let e=n;if(e.type===\"parallel\"||e.parallel){if(e.value\u0026\u0026e.parallel)throw new Error(\"cannot set value together with parallel\");e.value=e.parallel||e.value,e.type=\"parallel\",delete e.parallel}return e}function Mg(n){let e=Tg(n);if(typeof e!=\"object\"||e.type!==\"parallel\")return e;let r=ln(e),i=Kr(r.value||[]),o=i.map(d=\u003eln(d).duration??1),c=(0,zO.max)(o);return{...r,value:i.map((d,p)=\u003e{d=ln(d);let g;return g=(r.path||[]).concat([[0,o[p],c]]),{...d,path:g}})}}var O3=rt(zd()),C3=rt(ey());var ip=rt(ey());var w3=rt(_a());function ty(n){return Array.isArray(n)?n:n?.parallel||n?.sequential}function q3(n,e){return Array.isArray(n)?e:n.parallel?{...n,parallel:e}:{...n,sequential:e}}var sp=rt(hc()),ny=rt(Bd()),Nc=rt(Oi()),mte=n=\u003e!!ty(n),T3=(0,ip.makeZipper)(mte,ty,q3),{isEnd:vte,isLeaf:gte,next:M3,root:yte,up:H_e,down:Y_e,isTop:X_e}=ip.zip,S3=(0,Nc.default)((n,e)=\u003e(0,sp.default)((0,ny.default)(vte,(0,sp.default)(n,M3)),yte)(e)),_te=(0,Nc.default)((n,e)=\u003eS3((0,sp.default)((0,ny.default)(gte,M3),n),e)),P3=(0,Nc.default)((n,e)=\u003eS3(n,T3(e)).value()),Z_e=(0,Nc.default)((n,e)=\u003e_te(n,T3(e)).value());function A3(n){return e=\u003e{let r=ln(e);return!r[n]||!r.value?r:{...r,value:Kr(r.value).map(i=\u003e{let o=ln(i);return{...o,[n]:o[n]||r[n]}})}}}function bte(n){return Array.isArray(n)?{sequential:n}:typeof n==\"object\"?n:{value:n}}var t0e=(0,O3.curry)((n,e)=\u003eP3(r=\u003e{let i=r.up?.()?.value();return i?.[n]===void 0?r:C3.zip.edit(o=\u003e{let c=bte(o);return{...c,[n]:c[n]??i?.[n]}})(r)},e));function ry(n,e=1){let r=0,i=e;for(let o=0;o\u003cn.length;o++)r=r+n[o][0]/n[o][2]*i,i*=n[o][1]/n[o][2];return[r,i]}function ay(n,e){return e.forEach(r=\u003e{n=r(n)}),n}function xte(n,e=[],r={}){return ec(n,{getChildren:i=\u003e{let o=ln(ay(i,[qg,Mg,A3(\"color\"),...e]));return(Kr(o.value)||[]).map((d,p)=\u003eay(d,[wg,Tg]))},...r})}function br(n,e=[],r={}){let o=ln(n).duration||1;return xte(n,e,r).map(c=\u003e{let{path:d}=c,[p,g]=ry(d,o);return{...c,time:p,duration:g,path:d}})}function kte(n,e=[],r={}){let o=ln(n).duration||1;return ec(n,{getChildren:wte,isDeep:c=\u003e!!c\u0026\u0026[\"value\",\"parallel\",\"sequential\"].reduce((d,p)=\u003ed||c[p]\u0026\u0026typeof c[p]==\"object\",!1),mapChild:Nte(e),...r}).map(c=\u003e{let d=c?.path||[[0,1,1]],[p,g]=ry(d,o);return{...c,time:p,duration:g,path:d}})}function Nte(n=[]){return e=\u003e(n.forEach(r=\u003e{e.child=r(e)}),e.child)}function wte(n){let e=ln(ay(n,[qg,Mg]));return Kr(e.value)||[]}var l0e=(0,R3.curry)((n,e)=\u003ekte(e,n));var qte=rt(_a());var up=rt(Si());var ir=rt(Si());var Ho={m7:[\"3m 5P 7m 9M\",\"7m 9M 10m 12P\"],\"7\":[\"3M 6M 7m 9M\",\"7m 9M 10M 13M\"],\"^7\":[\"3M 5P 7M 9M\",\"7M 9M 10M 12P\"],\"69\":[\"3M 5P 6A 9M\"],m7b5:[\"3m 5d 7m 8P\",\"7m 8P 10m 12d\"],\"7b9\":[\"3M 6m 7m 9m\",\"7m 9m 10M 13m\"],\"7b13\":[\"3M 6m 7m 9m\",\"7m 9m 10M 13m\"],o7:[\"1P 3m 5d 6M\",\"5d 6M 8P 10m\"],\"7#11\":[\"7m 9M 11A 13A\"],\"7#9\":[\"3M 7m 9A\"],mM7:[\"3m 5P 7M 9M\",\"7M 9M 10m 12P\"],m6:[\"3m 5P 6M 9M\",\"6M 9M 10m 12P\"]};var op=rt(Si());function E3(n,e){let{alt:r,letter:i}=op.Note.get(e),{oct:o}=op.Note.get(n),c=op.Note.chroma(i)+r;return c\u003e11?o--:c\u003c0\u0026\u0026o++,e+o}function iy(n,e=Ho,r=[\"D3\",\"A4\"]){let{tonic:i,aliases:o}=ir.Chord.get(n),c=o?.length?Object.keys(e).find(g=\u003eo.includes(g)):n;if(!e[c])return[];let d=e[c].map(g=\u003eg.split(\" \")),p=ir.Range.chromatic(r);return d.reduce((g,_)=\u003e{let k=_.map(P=\u003eir.Interval.substract(P,_[0])),x=ir.Note.transpose(i,_[0]),V=p.filter(P=\u003eir.Note.chroma(P)===ir.Note.chroma(x)).filter(P=\u003eir.Note.midi(ir.Note.transpose(P,k[k.length-1]))\u003c=ir.Note.midi(r[1])).map(P=\u003eE3(P,x)).map(P=\u003ek.map(W=\u003eir.Note.transpose(P,W)));return g.concat(V)},[])}var j3=n=\u003e{let e=n[n.length-1].value,r=i=\u003eMath.abs(up.Note.midi(e)-up.Note.midi(i[i.length-1]));return(i,o)=\u003er(i)-r(o)};var cp={m7:[\"3m 5P 7m 9M\",\"-2M 2M 3m 5P\",\"7m 9M 10m 12P\"],\"7\":[\"3M 6M 7m 9M\",\"-2M 2M 3M 6M\",\"7m 9M 10M 13M\"],\"^7\":[\"3M 5P 7M 9M\",\"-2m 2M 3M 5P\",\"7M 9M 10M 12P\"]};function D3(n,e,r,i){if(typeof e.value==\"string\"){let{intervals:o,tonic:c}=ka.Chord.get(e.value),d=o.map(p=\u003eka.Note.transpose(c+\"3\",p));return n.concat(d.map(p=\u003e({...e,value:p})))}return n}var Yo=n=\u003e(e,r)=\u003e{if(typeof r.value!=\"string\")return e;let{tonic:i,aliases:o}=ka.Chord.get(r.value),c=Object.keys(n).find(x=\u003eo.includes(x));if(!c)return console.log(`no voicings found for chord \"${r.value}\"`),e;let d,p=n[c].map(x=\u003ex.split(\" \")),g=i+\"3\",_=i+\"2\";if(!e.length)d=p[0];else{let x=e[e.length-1].value,q=V=\u003eMath.abs(ka.Note.midi(x)-ka.Note.midi(ka.Note.transpose(g,V[V.length-1])));d=p.sort((V,P)=\u003eq(V)-q(P))[0]}let k=d.map(x=\u003eka.Note.transpose(g,x));return e.concat([{...r,value:_}]).concat(k.map(x=\u003e({...r,value:x})))},wc=(n,e,r=j3)=\u003e(i,o)=\u003e{if(typeof o.value!=\"string\")return i;let c=iy(o.value,n,e),{tonic:d,aliases:p}=ka.Chord.get(o.value);if(!Object.keys(n).find(x=\u003ep.includes(x)))return console.log(`no voicings found for chord \"${o.value}\"`),i;let _=d+\"2\",k;return i.length?k=c.sort(r(i))[0]:k=c[Math.ceil(c.length/2)],i.concat([{...o,value:_}]).concat(k.map(x=\u003e({...o,value:x})))};var I3=rt(zd());var an=rt(Si()),Gn=class{static getBassNote(e,r=!1){if(!e)return null;if(!r\u0026\u0026e.includes(\"/\"))return e.split(\"/\")[1];let i=e.match(/^([A-G][b|#]?)/);return!i||!i.length?\"\":i[0]}static chordInversions(e,r,i){let o=an.Chord.getChord(e,r).notes.map(p=\u003ean.Note.get(p).pc),c=an.Range.chromatic(i).filter(Gn.byPitches(o));return c.length-o.length+1\u003c=0?[]:Array.from({length:c.length-o.length+1},(p,g)=\u003ean.Collection.rotate(g,c).slice(0,o.length))}static tokenizeChord(e){if(!e)return null;let r=Gn.getBassNote(e,!0)||\"\",i=e.replace(r,\"\");return i=i.split(\"/\")[0],Object.keys(Gn.irealToTonal).find(o=\u003eGn.irealToTonal[o]===i)?r+i:[r,i]}static getTonalChord(e){if(!e)return null;let r=Gn.getBassNote(e,!0)||\"\",i=e.replace(r,\"\");return i=i.split(\"/\")[0],Object.keys(Gn.irealToTonal).find(o=\u003eGn.irealToTonal[o]===i)?r+i:(i=Gn.irealToTonal[i],i===void 0?null:r+i)}static minInterval(e,r,i){if(e=Gn.reduceInterval(e,!0),r)return Gn.forceDirection(e,r,i);let o=Gn.invertInterval(e);return Math.abs(an.Interval.semitones(o))\u003cMath.abs(an.Interval.semitones(e))\u0026\u0026(e=o),e}static reduceInterval(e=\"\",r=!1){let i={\"0A\":\"1P\",\"-0A\":\"1P\"};return r\u0026\u0026(i={...i,\"8P\":\"1P\",\"-8P\":\"1P\"},e=an.Interval.simplify(e)),Object.keys(i).includes(e)?i[e]:e}static forceDirection(e,r,i=!1){let o=an.Interval.semitones(e);return r===\"up\"\u0026\u0026o\u003c0||r===\"down\"\u0026\u0026o\u003e0?Gn.invertInterval(e):e===\"1P\"\u0026\u0026i?(r===\"down\"?\"-\":\"\")+\"8P\":e}static invertInterval(e){if(!e)return null;let r=e.replace(\"-\",\"\"),i=Gn.intervalComplement(r);return(e.length\u003er.length?\"\":\"-\")+i}static intervalComplement(e){let r={\"8P\":\"1P\",\"8d\":\"1A\",\"8A\":\"1d\",\"1A\":\"8d\",\"1d\":\"8A\"},i=Object.keys(r).find(o=\u003ee.match(o));return i?r[i]:an.Interval.invert(e)}static isInterval(e){return typeof an.Interval.semitones(e)==\"number\"}static isInRange(e,r){let i=an.Note.midi(e);return an.Note.midi(r[0])\u003c=i\u0026\u0026i\u003c=an.Note.midi(r[1])}static byPitches(e){let r=e.map(i=\u003ean.Note.chroma(i));return i=\u003er.includes(an.Note.chroma(i))}},sy=Gn;Ox(sy,\"irealToTonal\",{\"^7\":\"M7\",\"7\":\"7\",\"-7\":\"m7\",h7:\"m7b5\",\"7#9\":\"7#9\",\"7b9\":\"7b9\",\"^7#5\":\"M7#5\",\"^#5\":\"M#5\",\"\":\"\",\"^\":\"M\",\"6\":\"6\",\"9\":\"9\",\"-6\":\"m6\",o7:\"o7\",h:\"m7b5\",\"-^7\":\"mM7\",o:\"o\",\"^9\":\"M9\",\"7#11\":\"7#11\",\"7#5\":\"7#5\",\"-\":\"m\",\"7sus\":\"7sus\",\"69\":\"69\",\"7b13\":\"7b13\",\"+\":\"+\",\"7b9b5\":\"7b5b9\",\"-9\":\"m9\",\"9sus\":\"9sus\",\"7b9sus\":\"7b9sus\",\"7b9#5\":\"7#5b9\",\"13\":\"13\",\"^7#11\":\"M7#11\",\"-7b5\":\"m7b5\",\"^13\":\"M13\",\"7#9b5\":\"7b5#9\",\"-11\":\"m11\",\"11\":\"11\",\"7b5\":\"7b5\",\"9#5\":\"9#5\",\"13b9\":\"13b9\",\"9#11\":\"9#11\",\"13#11\":\"13#11\",\"-b6\":\"mb6\",\"7#9#5\":\"7#5#9\",\"-69\":\"m69\",\"13sus\":\"13sus\",\"^9#11\":\"M9#11\",\"7b9#9\":\"7b9#9\",sus:\"sus\",sus4:\"Msus4\",sus2:\"Msus2\",\"7#9#11\":\"7#9#11\",\"7b9b13\":\"7b9b13\",\"7b9#11\":\"7b9#11\",\"13#9\":\"13#9\",\"9b5\":\"9b5\",\"-^9\":\"mM9\",\"2\":\"Madd9\",\"-#5\":\"m#5\",\"7+\":\"7#5\",\"7sus4\":\"7sus\",M69:\"M69\"});var Tte=(0,I3.curry)((n,e)=\u003ee.reduce(n,[])),lp=n=\u003e(e,r,i,o)=\u003e{n\u0026\u0026(o=o.filter(n));let c=p=\u003ep\u003co.length\u0026\u0026o[p].value===\"_\";if(c(i))return e;if(!c(i+1))return e.concat([r]);let d=r.duration;for(;c(++i);)d+=o[i].duration;return e.concat([{...r,duration:d}])},R0e=Tte(lp());var Ji=rt(ut()),Ru=rt(Tc());function Ri(){return!!(typeof window!=\"undefined\"\u0026\u0026window.document\u0026\u0026window.document.createElement)}var DD=rt(_a()),ID=rt(ut());var nu=rt(ut()),dn=rt(Si());function W3(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}var Rp=rt(_a());var JC=rt(_a());Cy();function Ay(n){return function(){return n}}function Ry(n){return+n}var eA=[0,1];function tu(n){return n}function Ey(n,e){return(e-=n=+n)?function(r){return(r-n)/e}:Ay(isNaN(e)?NaN:.5)}function zte(n,e){var r;return n\u003ee\u0026\u0026(r=n,n=e,e=r),function(i){return Math.max(n,Math.min(e,i))}}function Gte(n,e,r){var i=n[0],o=n[1],c=e[0],d=e[1];return o\u003ci?(i=Ey(o,i),c=r(d,c)):(i=Ey(i,o),c=r(c,d)),function(p){return c(i(p))}}function Ute(n,e,r){var i=Math.min(n.length,e.length)-1,o=new Array(i),c=new Array(i),d=-1;for(n[i]\u003cn[0]\u0026\u0026(n=n.slice().reverse(),e=e.slice().reverse());++d\u003ci;)o[d]=Ey(n[d],n[d+1]),c[d]=r(e[d],e[d+1]);return function(p){var g=(0,JC.bisect)(n,p,1,i)-1;return c[g](o[g](p))}}function tA(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function $te(){var n=eA,e=eA,r=Ma,i,o,c,d=tu,p,g,_;function k(){var q=Math.min(n.length,e.length);return d!==tu\u0026\u0026(d=zte(n[0],n[q-1])),p=q\u003e2?Ute:Gte,g=_=null,x}function x(q){return q==null||isNaN(q=+q)?c:(g||(g=p(n.map(i),e,r)))(i(d(q)))}return x.invert=function(q){return d(o((_||(_=p(e,n.map(i),Fn)))(q)))},x.domain=function(q){return arguments.length?(n=Array.from(q,Ry),k()):n.slice()},x.range=function(q){return arguments.length?(e=Array.from(q),k()):e.slice()},x.rangeRound=function(q){return e=Array.from(q),r=Tp,k()},x.clamp=function(q){return arguments.length?(d=q?!0:tu,k()):d!==tu},x.interpolate=function(q){return arguments.length?(r=q,k()):r},x.unknown=function(q){return arguments.length?(c=q,x):c},function(q,V){return i=q,o=V,k()}}function jy(){return $te()(tu,tu)}var lA=rt(_a());function nA(n){return Math.abs(n=Math.round(n))\u003e=1e21?n.toLocaleString(\"en\").replace(/,/g,\"\"):n.toString(10)}function Ms(n,e){if((r=(n=e?n.toExponential(e-1):n.toExponential()).indexOf(\"e\"))\u003c0)return null;var r,i=n.slice(0,r);return[i.length\u003e1?i[0]+i.slice(2):i,+n.slice(r+1)]}function Sa(n){return n=Ms(Math.abs(n)),n?n[1]:NaN}function rA(n,e){return function(r,i){for(var o=r.length,c=[],d=0,p=n[0],g=0;o\u003e0\u0026\u0026p\u003e0\u0026\u0026(g+p+1\u003ei\u0026\u0026(p=Math.max(1,i-g)),c.push(r.substring(o-=p,o+p)),!((g+=p+1)\u003ei));)p=n[d=(d+1)%n.length];return c.reverse().join(e)}}function aA(n){return function(e){return e.replace(/[0-9]/g,function(r){return n[+r]})}}var Hte=/^(?:(.)?([\u003c\u003e=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function Fi(n){if(!(e=Hte.exec(n)))throw new Error(\"invalid format: \"+n);var e;return new Pp({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]\u0026\u0026e[8].slice(1),trim:e[9],type:e[10]})}Fi.prototype=Pp.prototype;function Pp(n){this.fill=n.fill===void 0?\" \":n.fill+\"\",this.align=n.align===void 0?\"\u003e\":n.align+\"\",this.sign=n.sign===void 0?\"-\":n.sign+\"\",this.symbol=n.symbol===void 0?\"\":n.symbol+\"\",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?\"\":n.type+\"\"}Pp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(this.width===void 0?\"\":Math.max(1,this.width|0))+(this.comma?\",\":\"\")+(this.precision===void 0?\"\":\".\"+Math.max(0,this.precision|0))+(this.trim?\"~\":\"\")+this.type};function iA(n){e:for(var e=n.length,r=1,i=-1,o;r\u003ce;++r)switch(n[r]){case\".\":i=o=r;break;case\"0\":i===0\u0026\u0026(i=r),o=r;break;default:if(!+n[r])break e;i\u003e0\u0026\u0026(i=0);break}return i\u003e0?n.slice(0,i)+n.slice(o+1):n}var Dy;function sA(n,e){var r=Ms(n,e);if(!r)return n+\"\";var i=r[0],o=r[1],c=o-(Dy=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,d=i.length;return c===d?i:c\u003ed?i+new Array(c-d+1).join(\"0\"):c\u003e0?i.slice(0,c)+\".\"+i.slice(c):\"0.\"+new Array(1-c).join(\"0\")+Ms(n,Math.max(0,e+c-1))[0]}function Iy(n,e){var r=Ms(n,e);if(!r)return n+\"\";var i=r[0],o=r[1];return o\u003c0?\"0.\"+new Array(-o).join(\"0\")+i:i.length\u003eo+1?i.slice(0,o+1)+\".\"+i.slice(o+1):i+new Array(o-i.length+2).join(\"0\")}var Fy={\"%\":(n,e)=\u003e(n*100).toFixed(e),b:n=\u003eMath.round(n).toString(2),c:n=\u003en+\"\",d:nA,e:(n,e)=\u003en.toExponential(e),f:(n,e)=\u003en.toFixed(e),g:(n,e)=\u003en.toPrecision(e),o:n=\u003eMath.round(n).toString(8),p:(n,e)=\u003eIy(n*100,e),r:Iy,s:sA,X:n=\u003eMath.round(n).toString(16).toUpperCase(),x:n=\u003eMath.round(n).toString(16)};function Vy(n){return n}var oA=Array.prototype.map,uA=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\\xB5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];function cA(n){var e=n.grouping===void 0||n.thousands===void 0?Vy:rA(oA.call(n.grouping,Number),n.thousands+\"\"),r=n.currency===void 0?\"\":n.currency[0]+\"\",i=n.currency===void 0?\"\":n.currency[1]+\"\",o=n.decimal===void 0?\".\":n.decimal+\"\",c=n.numerals===void 0?Vy:aA(oA.call(n.numerals,String)),d=n.percent===void 0?\"%\":n.percent+\"\",p=n.minus===void 0?\"\\u2212\":n.minus+\"\",g=n.nan===void 0?\"NaN\":n.nan+\"\";function _(x){x=Fi(x);var q=x.fill,V=x.align,P=x.sign,W=x.symbol,K=x.zero,J=x.width,X=x.comma,oe=x.precision,G=x.trim,R=x.type;R===\"n\"?(X=!0,R=\"g\"):Fy[R]||(oe===void 0\u0026\u0026(oe=12),G=!0,R=\"g\"),(K||q===\"0\"\u0026\u0026V===\"=\")\u0026\u0026(K=!0,q=\"0\",V=\"=\");var $=W===\"$\"?r:W===\"#\"\u0026\u0026/[boxX]/.test(R)?\"0\"+R.toLowerCase():\"\",U=W===\"$\"?i:/[%p]/.test(R)?d:\"\",te=Fy[R],ie=/[defgprs%]/.test(R);oe=oe===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,oe)):Math.max(0,Math.min(20,oe));function be(Ne){var Ae=$,ze=U,$e,Y,ue;if(R===\"c\")ze=te(Ne)+ze,Ne=\"\";else{Ne=+Ne;var le=Ne\u003c0||1/Ne\u003c0;if(Ne=isNaN(Ne)?g:te(Math.abs(Ne),oe),G\u0026\u0026(Ne=iA(Ne)),le\u0026\u0026+Ne==0\u0026\u0026P!==\"+\"\u0026\u0026(le=!1),Ae=(le?P===\"(\"?P:p:P===\"-\"||P===\"(\"?\"\":P)+Ae,ze=(R===\"s\"?uA[8+Dy/3]:\"\")+ze+(le\u0026\u0026P===\"(\"?\")\":\"\"),ie){for($e=-1,Y=Ne.length;++$e\u003cY;)if(ue=Ne.charCodeAt($e),48\u003eue||ue\u003e57){ze=(ue===46?o+Ne.slice($e+1):Ne.slice($e))+ze,Ne=Ne.slice(0,$e);break}}}X\u0026\u0026!K\u0026\u0026(Ne=e(Ne,1/0));var ce=Ae.length+Ne.length+ze.length,ye=ce\u003cJ?new Array(J-ce+1).join(q):\"\";switch(X\u0026\u0026K\u0026\u0026(Ne=e(ye+Ne,ye.length?J-ze.length:1/0),ye=\"\"),V){case\"\u003c\":Ne=Ae+Ne+ze+ye;break;case\"=\":Ne=Ae+ye+Ne+ze;break;case\"^\":Ne=ye.slice(0,ce=ye.length\u003e\u003e1)+Ae+Ne+ze+ye.slice(ce);break;default:Ne=ye+Ae+Ne+ze;break}return c(Ne)}return be.toString=function(){return x+\"\"},be}function k(x,q){var V=_((x=Fi(x),x.type=\"f\",x)),P=Math.max(-8,Math.min(8,Math.floor(Sa(q)/3)))*3,W=Math.pow(10,-P),K=uA[8+P/3];return function(J){return V(W*J)+K}}return{format:_,formatPrefix:k}}var Op,Cp,Ap;Ly({thousands:\",\",grouping:[3],currency:[\"$\",\"\"]});function Ly(n){return Op=cA(n),Cp=Op.format,Ap=Op.formatPrefix,Op}function Wy(n){return Math.max(0,-Sa(Math.abs(n)))}function By(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sa(e)/3)))*3-Sa(Math.abs(n)))}function zy(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Sa(e)-Sa(n))+1}function Gy(n,e,r,i){var o=(0,lA.tickStep)(n,e,r),c;switch(i=Fi(i??\",f\"),i.type){case\"s\":{var d=Math.max(Math.abs(n),Math.abs(e));return i.precision==null\u0026\u0026!isNaN(c=By(o,d))\u0026\u0026(i.precision=c),Ap(i,d)}case\"\":case\"e\":case\"g\":case\"p\":case\"r\":{i.precision==null\u0026\u0026!isNaN(c=zy(o,Math.max(Math.abs(n),Math.abs(e))))\u0026\u0026(i.precision=c-(i.type===\"e\"));break}case\"f\":case\"%\":{i.precision==null\u0026\u0026!isNaN(c=Wy(o))\u0026\u0026(i.precision=c-(i.type===\"%\")*2);break}}return Cp(i)}function Yte(n){var e=n.domain;return n.ticks=function(r){var i=e();return(0,Rp.ticks)(i[0],i[i.length-1],r??10)},n.tickFormat=function(r,i){var o=e();return Gy(o[0],o[o.length-1],r??10,i)},n.nice=function(r){r==null\u0026\u0026(r=10);var i=e(),o=0,c=i.length-1,d=i[o],p=i[c],g,_,k=10;for(p\u003cd\u0026\u0026(_=d,d=p,p=_,_=o,o=c,c=_);k-- \u003e0;){if(_=(0,Rp.tickIncrement)(d,p,r),_===g)return i[o]=d,i[c]=p,e(i);if(_\u003e0)d=Math.floor(d/_)*_,p=Math.ceil(p/_)*_;else if(_\u003c0)d=Math.ceil(d*_)/_,p=Math.floor(p*_)/_;else break;g=_}return n},n}function Ss(){var n=jy();return n.copy=function(){return tA(n,Ss())},W3.apply(n,arguments),Yte(n)}var dA=rt(Uy()),ru=rt(_a());function $y(n){let{width:e=600,height:r=200,strokeWidth:i=1,hiddenSymbols:o=[\"r\"],time:c=0}=n,{maxTime:d,lanes:p,leaves:g,containers:_,timeRange:k,deepest:x}=Xte(n),{center:q=.5}=n;q=q*e;let V=Ss().domain(k).range([i,e-i]),P=Ss().domain([0,d]).range([0,e]),W=Ss().domain([p.length,0]).range([r-i,i]),K=te=\u003ePs(W(te)-i),J=g.filter(({value:te,time:ie,duration:be})=\u003eo.indexOf(te)===-1\u0026\u0026p.indexOf(dn.Note.midi(te)?dn.Note.midi(te)+\"\":te)!==-1).map(te=\u003e({...te,height:1})).concat(_),X=P(c)%e,oe=r/p.length;function G(te=0){return nu.default.createElement(\"g\",null,J.map(({value:ie,time:be,duration:Ne,path:Ae,color:ze,height:$e,lane:Y},ue)=\u003e{let le=Ps(V(be+te)-q),ce=Ps(P(Ne));if(!(le\u003ce-i+X\u0026\u0026le+ce\u003ei+X))return;ie=dn.Note.midi(ie)?dn.Note.midi(ie)+\"\":ie;let me=p.indexOf(Y||ie),je=X!==0\u0026\u0026X+q\u003ele\u0026\u0026X+q\u003cle+ce;return nu.default.createElement(\"rect\",{rx:oe/2,ry:oe/2,stroke:\"black\",strokeWidth:i,fill:je?\"white\":ze||(0,dA.interpolateBlues)((Ae?Ae.length:1)/x),key:ue,x:le,y:Ps(W(me)),width:ce,height:K($e||1)})}))}let R=!0,$,U;return R?($=q-Ps(i),U=-Ps(X)):(U=-q,$=Ps(X)),nu.default.createElement(\"svg\",{...{width:e,height:r}},nu.default.createElement(\"g\",{style:{transform:`translateX(${U}px)`,willChange:\"transform\"}},G(),G(d),G(2*d)),nu.default.createElement(\"line\",{x1:$,x2:$,y1:0,y2:r,strokeWidth:i*2,stroke:\"black\"}))}function Xte(n){let{events:e=[],hiddenSymbols:r=[],fold:i=!1,rhythmLanes:o,noteRange:c}=n,{timeRange:d,noteLanes:p}=n,g=J=\u003e[\"string\",\"number\"].includes(typeof J.value),_=e.filter(g),k=(0,ru.max)(_.map(J=\u003eJ.path?J.path.length:1)),x=_.filter(({value:J})=\u003er.indexOf(J)===-1).map(J=\u003eJ.value).filter((J,X,oe)=\u003eoe.indexOf(J)===X).sort((J,X)=\u003edn.Note.midi(X)-dn.Note.midi(J)),q=x.filter(J=\u003e!!dn.Note.name(J)),V=x.filter(J=\u003e!dn.Note.name(J)),P=(0,ru.max)(_.map(J=\u003eJ.time+J.duration));d=d?[d[0],d[1]]:[0,P];let W;if(i)W=(p?p.filter(J=\u003eq.find(X=\u003edn.Note.midi(X)===dn.Note.midi(J))):q).map(J=\u003edn.Note.midi(J)+\"\").concat(o?o.filter(J=\u003eV.indexOf(J)!==-1):V.reverse());else{if(q.length){let J=c?c.map(X=\u003edn.Note.midi(X)):[(0,ru.min)(q.map(X=\u003edn.Note.midi(X))),(0,ru.max)(q.map(X=\u003edn.Note.midi(X)))];p=(p||dn.Range.chromatic(J.reverse().map(X=\u003edn.Note.fromMidi(X)))).map(X=\u003edn.Note.midi(X)+\"\")}else p=p||[];W=p.concat(o||V.reverse())}let K=[];return n.hierarchy\u0026\u0026(K=e.filter(J=\u003e!g(J)).map(J=\u003e({...J,lane:J.lane||`container-${J.path.length}`})),W=[].concat(K.map(J=\u003eJ.lane).reverse(),W).filter((J,X,oe)=\u003eoe.indexOf(J)===X)),{maxTime:P,timeRange:d,lanes:W,leaves:_,containers:K,deepest:k}}function Ps(n){return Math.floor(n*2)/2}var Il=rt(ut()),OD=rt(rD()),CD=rt(xD()),AD=rt(kD()),RD=rt(MD());var SD=rt(Tc());function PD(n,e={}){return()=\u003enew Promise((r,i)=\u003e{let o;e={volume:-12,attack:.01,...e,onload:()=\u003e{r(o)}};let c=new SD.Players(n,e);o={customSymbols:Object.keys(n),triggerAttackRelease:(d,p,g,_)=\u003e{if(!c.has(d)){console.warn(`key ${d} not found for playback`);return}let k=c.player(d);k.start(g),k.stop(g+p)},connect:d=\u003e(c.connect(d),o),toMaster:()=\u003e(c.toDestination(),o),toDestination:()=\u003e(c.toDestination(),o)}})}var pm={load:async()=\u003e{let n={bd:\"../samples/tidal/bd/BT0A0D0.wav\",sn:\"../samples/tidal/sn/ST0T0S3.wav\",hh:\"../samples/tidal/hh/000_hh3closedhh.wav\",cp:\"../samples/tidal/cp/HANDCLP0.wav\",mt:\"../samples/tidal/mt/MT0D3.wav\",ht:\"../samples/tidal/ht/HT0D3.wav\",lt:\"../samples/tidal/lt/LT0D3.wav\"};return Ri()\u0026\u0026(await PD(n,{volume:-20})()).toDestination()}};var fm=rt(Tc()),Gs=rt(ut());function mm({events:n,instruments:e,draw:r,loop:i}){let[o,c]=(0,Gs.useState)(!1),[d,p]=(0,Gs.useState)(!1),g=(0,Gs.useRef)();(0,Gs.useEffect)(()=\u003e{!o||(o?.removeAll?.(),n.forEach(q=\u003eo.add(q.time,q)))},[n]);function _(){g.current\u0026\u0026g.current.stop(),o?.stop?.(),fm.Transport.stop(),c(!1)}async function k(){let q=Object.keys(e||{});return(await Promise.all(q.map(P=\u003etypeof e[P]==\"function\"?e[P]():typeof e[P]?.load==\"function\"?e[P].load():e[P]))).reduce((P,W,K)=\u003e({...P,[q[K]]:W}),{})}async function x(){if(d)return;fm.start(),p(!0);let q=await k();c(ED(n,{instruments:q||{synth:vm,drums:pm},loop:i})),g.current=jD(r),p(!1)}return Il.default.createElement(OD.default,{color:\"primary\",onClick:()=\u003eo?_():x()},o?Il.default.createElement(AD.default,null):d?Il.default.createElement(RD.default,null):Il.default.createElement(CD.default,null))}var{PolySynth:FD,Synth:VD}=Ru,vm=Ri()\u0026\u0026new FD({maxPolyphony:12,voice:VD,options:{volume:-16,envelope:{attack:.01,decay:.2,sustain:.5,release:.1},oscillator:{type:\"fmtriangle\"}}}).toDestination(),qqe=Ri()\u0026\u0026new FD({maxPolyphony:12,voice:VD,options:{volume:-16,envelope:{attack:.01,decay:.1,sustain:0,release:0},oscillator:{type:\"fmtriangle\"}}}).toDestination();function ED(n,e={}){let r=n.filter(p=\u003e[\"string\",\"number\"].includes(typeof p.value)),{loop:i=!0,instruments:o={synth:vm},duration:c=(0,DD.max)(r.map(p=\u003ep.time+p.duration))}=e,d=new Ru.Part((p,g)=\u003e{g.value===\"r\"||![\"string\",\"number\"].includes(typeof g.value)||ape(g.instrument,o).triggerAttackRelease(g.value,g.duration,p,g.velocity||.9)},r).start(0);return d.loop=i,d.loopEnd=c,Ru.Transport.start(\"+0.1\"),d}function ape(n,e){let r=Object.keys(e);!r.length,n=n||r[0];let i,o=r.find(c=\u003ec===n);if(o)i=e[o];else{let c=r[0];i=e[c]||vm}return i}function jD(n,e=1/30){if(n)return new Ru.Loop(r=\u003e{Ru.Draw.schedule(()=\u003en(Ru.Transport.seconds),r)},e).start(0)}function cr(n){let{hidePianoRoll:e}=n,[r,i]=(0,ID.useState)(0);return e?Ji.default.createElement(mm,{...n,draw:i}):Ji.default.createElement(Ji.default.Fragment,null,Ji.default.createElement($y,{...n,time:r}),Ji.default.createElement(\"div\",{style:{float:\"right\"}},Ji.default.createElement(mm,{...n,draw:i})),Ji.default.createElement(\"div\",{style:{clear:\"both\"}}))}var Fl=rt(Si()),LD=rt(Tc());function WD(n,e={}){return()=\u003enew Promise(r=\u003e{e={volume:-12,attack:.01,...e,onload:()=\u003e{r(o)}};let i=new LD.Sampler(n,e),o={triggerAttackRelease:(c,d,p,g)=\u003e{if(typeof c==\"number\"){i.triggerAttackRelease(c,d,p,g);return}e.transpose\u0026\u0026(c=Fl.Note.transpose(c,Fl.Interval.fromSemitones(e.transpose))),i.triggerAttackRelease(Fl.Note.simplify(c),d,p,g)},triggerAttack:i.triggerAttack,triggerRelease:i.triggerAttack,connect:c=\u003e(i.connect(c),o),toMaster:()=\u003e(i.toDestination(),o),toDestination:()=\u003e(i.toDestination(),o)}})}var lr={load:async()=\u003e{let n={C1:\"../samples/piano/C1.mp3\",C2:\"../samples/piano/C2.mp3\",C3:\"../samples/piano/C3.mp3\",C4:\"../samples/piano/C4.mp3\",C5:\"../samples/piano/C5.mp3\",C6:\"../samples/piano/C6.mp3\",C7:\"../samples/piano/C7.mp3\"};return Ri()\u0026\u0026(await WD(n,{volume:-20})()).toDestination()}};var Wqe=rt(Uy());var ipe={title:\"Rhythmical Chords\",date:\"2020-07-30\",tags:[\"rhythmical\",\"code\"],description:\"To bring rhythmical one step closer to being a hackable backing track player, I want to implement one of the most important things: chord symbols\",image:\"./img/rhythmical-chords.png\"};function spe(n){let e=Object.assign({p:\"p\",ul:\"ul\",li:\"li\",a:\"a\",pre:\"pre\",code:\"code\",span:\"span\",h2:\"h2\",em:\"em\",h3:\"h3\",h4:\"h4\"},n.components),{wrapper:r}=e,i=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.p,{children:\"To bring rhythmical one step closer to being a hackable backing track player, I want to implement one of the most important things: chord symbols.\"}),`\n`,(0,a.jsx)(e.p,{children:\"Disclaimer: To get the most out of this post, you might want to read those posts first:\"}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:\"https://felixroos.github.io/blog/rhythmical-arrays/\",children:\"Rhythmical Arrays\"})}),`\n`,(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:\"https://felixroos.github.io/blog/rhythmical-objects/\",children:\"Rhythmical Objects\"})}),`\n`]}),`\n`,(0,a.jsx)(e.p,{children:\"After this post, we will be able play chords like this:\"}),`\n`,(0,a.jsx)(cr,{instruments:{tinypiano:lr},fold:!1,events:br({duration:64,sequential:[[\"Fm7\",\"Bbm7\",\"Eb7\",\"Ab^7\"],[\"Db^7\",[\"Dm7\",\"G7\"],\"C^7\",\"_\"],[\"Cm7\",\"Fm7\",\"Bb7\",\"Eb^7\"],[\"Ab^7\",[\"Am7\",\"D7\"],\"G^7\",\"_\"],[\"Am7\",\"D7\",\"G^7\",\"_\"],[\"F#m7b5\",\"B7b9\",\"E^7\",\"C7b13\"],[\"Fm7\",\"Bbm7\",\"Eb7\",\"Ab^7\"],[\"Db^7\",\"DbmM7\",\"Cm7\",\"Bo7\"],[\"Bbm7\",\"Eb7\",\"Ab^7\",[\"Gm7b5\",\"C7b9\"]]]}).reduce(lp(),[]).reduce(wc(Ho,[\"G3\",\"G5\"]),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"64\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F#m7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'B7b9'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'E^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'DbmM7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bo7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7b9'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"tieReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(\"br\",{}),`\n`,(0,a.jsxs)(e.p,{children:[\"Without having anything implemented yet, let's \",(0,a.jsx)(e.a,{href:\"https://felixroos.github.io/blog/rhythmical-objects/\",children:\"render\"}),\" the following two bars of major chords:\"]}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"...and look at the result:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"...obviously, we cannot use that for playback, as these are chord symbols, and we need single notes with octaves.\"}),`\n`,(0,a.jsxs)(e.h2,{id:\"most-basic-chord-reducer\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#most-basic-chord-reducer\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Most Basic Chord Reducer\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"As our goal is to get playable events, we need to transform the chord symbols to notes, using \",(0,a.jsx)(e.a,{href:\"https://github.com/tonaljs/tonal/tree/master/packages/chord#chordgetname-string-\",children:\"Chord.get\"}),\" and \",(0,a.jsx)(e.a,{href:\"https://github.com/tonaljs/tonal/tree/master/packages/note#transposenote-string-interval-string--string\",children:\"Note.transpose\"}),\" of \",(0,a.jsx)(e.a,{href:\"https://github.com/tonaljs/tonal\",children:\"tonaljs\"}),\":\"]}),`\n`,(0,a.jsx)(e.pre,{className:\"language-ts\",children:(0,a.jsxs)(e.code,{className:\"language-ts\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,a.jsxs)(e.span,{className:\"token imports\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'@tonaljs/tonal'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"chordReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" index\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" array\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" tonic \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notes \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"tonic \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"notes\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" note \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,a.jsxs)(e.p,{children:[\"to apply the reducer, we can now just use \",(0,a.jsx)(e.a,{href:\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\",children:\"reduce\"}),\":\"]}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"chordReducer\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"Result:\"}),`\n`,(0,a.jsx)(\"div\",{style:{maxHeight:400,overflow:\"auto\",borderRadius:10,marginBottom:10},children:(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,a.jsx)(e.p,{children:\"...which we can now play back:\"}),`\n`,(0,a.jsx)(cr,{instruments:{tinypiano:lr},fold:!1,events:br({duration:8,sequential:[[\"F\",\"G\"],\"C\"]}).reduce(D3,[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"chordReducer\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(\"br\",{}),`\n`,(0,a.jsxs)(e.h2,{id:\"is-this-good-music-yet\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#is-this-good-music-yet\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Is this good music yet?\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Even besides the fact that this is played back by a cheap piano without rhythm, you might not be satisfied with the way the chords are played.\"}),`\n`,(0,a.jsx)(e.p,{children:\"A good pianist would never play chords like this, as their voices are moving with big steps. The voice leading would be much better if the end result sounded something like this:\"}),`\n`,(0,a.jsx)(cr,{fold:!1,instruments:{tinypiano:lr},events:br({duration:8,sequential:[[{parallel:[\"F3\",\"A3\",\"C4\"]},{parallel:[\"D3\",\"G3\",\"B3\"]}],{parallel:[\"E3\",\"G3\",\"C4\"]}]})}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsxs)(e.p,{children:[\"Here, we start on F major in \",(0,a.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Root_position\",children:\"root position\"}),\" (1 3 5), transition to G major in 2nd inversion (5 1 3) to land on C major in 1st inversion (3 5 1).\"]}),`\n`,(0,a.jsx)(e.p,{children:`If we look at the movement between individual notes (voices), we only have small steps between 0 and 3 semitones, as opposed to 2-5 semitones in the previous example.\nThe result is a much smoother sound.`}),`\n`,(0,a.jsxs)(e.h2,{id:\"voicings--voice-leading\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#voicings--voice-leading\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Voicings \u0026 Voice leading\"]}),`\n`,(0,a.jsx)(e.p,{children:\"The problem above brings us to the topic of Voicings and Voice Leading.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"A \",(0,a.jsx)(e.em,{children:\"voicing\"}),\" of a chord is one of many ways to play it, like different inversions. Another way to voice chords is by using wider intervals or doubling notes in different octaves. If you have no clue what I'm talking about, \",(0,a.jsx)(e.a,{href:\"https://www.youtube.com/watch?v=VR3o45Pwx9Y\",children:\"watch this video\"}),\".\"]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.em,{children:\"Voice Leading\"}),\" describes the transition between different voicings of chords, with the general aim to create smooth transitions.\"]}),`\n`,(0,a.jsxs)(e.h2,{id:\"two-approaches-to-algorithmic-voicings\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#two-approaches-to-algorithmic-voicings\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Two approaches to algorithmic voicings\"]}),`\n`,(0,a.jsx)(e.p,{children:\"So far, I came across two approaches to generate voicings automatically:\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"voicing-dictionaries\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#voicing-dictionaries\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Voicing Dictionaries\"]}),`\n`,(0,a.jsx)(e.p,{children:`Many applications (like iReal pro) use dictionaries that contain multiple voicings for each chord, then picking the one with the best voice leading.\nThis is similar to how beginner and intermediate improvising piano players learn chords: Practising different voicings and pressing them on the fly.\nThis is the approach that I want to implement today.`}),`\n`,(0,a.jsxs)(e.h3,{id:\"voicing-permutation\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#voicing-permutation\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Voicing Permutation\"]}),`\n`,(0,a.jsxs)(e.p,{children:[`More advanced improvisers will think in terms of scales/modes and voicings that fit inside, which offers much more freedom.\nThis approach can be mapped by using permutation: Taking all possible notes that can be selected for a chord, and going through all possible combinations one by one.\nAs there are almost endless combinations, especially for chords with more notes, we need to come up with some rules that filter out combinations we do not want + find a way to permutate efficiently.\nThis can be done via `,(0,a.jsx)(e.a,{href:\"https://felixroos.github.io/blog/combinatorial-search/\",children:\"combinatorial search\"}),\", which will be the topic for a future post.\"]}),`\n`,(0,a.jsxs)(e.h2,{id:\"implementing-a-voicing-dictionary\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#implementing-a-voicing-dictionary\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Implementing a Voicing Dictionary\"]}),`\n`,(0,a.jsx)(e.p,{children:\"A small fragment of a voicing dictionary could look like this:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" lefthand \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  m7`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3m 5P 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2M 2M 3m 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10m 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token number\",children:\"7\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 6M 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2M 2M 3M 6M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10M 13M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'^7'\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 5P 7M 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2m 2M 3M 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7M 9M 10M 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsxs)(e.p,{children:[\"These are typical \",(0,a.jsx)(e.a,{href:\"https://www.youtube.com/watch?v=5uoD6LfaDoE\",children:\"rootless lefthand voicings\"}),`, notated using .\nIf we now want to resolve chords with good voice leading, we can do it like this:`]}),`\n`,(0,a.jsx)(\"div\",{style:{maxHeight:400,overflow:\"auto\",borderRadius:10,marginBottom:10},children:(0,a.jsx)(e.pre,{className:\"language-ts\",children:(0,a.jsxs)(e.code,{className:\"language-ts\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,a.jsxs)(e.span,{className:\"token imports\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'@tonaljs/tonal'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token function-variable function\",children:\"voicingDictionaryReducer\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"!==\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tonic\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" aliases \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token builtin\",children:\"symbol\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token known-class-name class-name\",children:\"Object\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"keys\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"find\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"_symbol\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" aliases\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"includes\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"_symbol\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,a.jsx)(e.span,{className:\"token builtin\",children:\"symbol\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token console class-name\",children:\"console\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"log\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsxs)(e.span,{className:\"token template-string\",children:[(0,a.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'no voicings found for chord \"'}),(0,a.jsxs)(e.span,{className:\"token interpolation\",children:[(0,a.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,a.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,a.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" voicings \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token builtin\",children:\"symbol\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"i\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" i\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"split\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"' '\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// split interval strings\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" root \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" tonic \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" bass \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" tonic \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'2'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// first chord =\u003e just use first voicing\"}),`\n    intervals `,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicings\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// not first chord =\u003e find smoothest voicing\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" lastNote \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// last voiced note (top note)\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// calculates the distance between the last note and the given voicings top note\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token function-variable function\",children:\"diff\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"abs\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lastNote\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"root\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// sort voicings by lowest top note difference\"}),`\n    intervals `,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicings\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"sort\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"a\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" b\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"diff\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"a\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"diff\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"b\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// transpose to root\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notes \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"root\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" bass \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"notes\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" note \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,a.jsx)(e.p,{children:\"Now, a 251 sounds like this:\"}),`\n`,(0,a.jsx)(cr,{fold:!1,instruments:{tinypiano:lr},events:br({duration:8,sequential:[[\"Dm7\",\"G7\"],\"C^7\"]}).reduce(Yo(cp),[])}),`\n`,(0,a.jsx)(e.p,{children:\"Ahhh.. yeahhh, niccce. Let's try a tune that only uses 251s but goes through different tonal centers, like joy spring:\"}),`\n`,(0,a.jsx)(cr,{fold:!1,instruments:{tinypiano:lr},events:br({duration:64,sequential:[[\"F^7\",[\"Gm7\",\"C7\"],\"F^7\",[\"Bbm7\",\"Eb7\"]],[[\"Am7\",\"Ab7\"],[\"Gm7\",\"C7\"],\"F^7\",[\"Abm7\",\"Db7\"]],[\"Gb^7\",[\"Abm7\",\"Db7\"],\"Gb^7\",[\"Bm7\",\"E7\"]],[[\"Bbm7\",\"A7\"],[\"Abm7\",\"Db7\"],\"Gb^7\",[\"Am7\",\"D7\"]],[\"G^7\",[\"Gm7\",\"C7\"],\"F^7\",[\"Fm7\",\"Bb7\"]],[\"Eb^7\",[\"Abm7\",\"Db7\"],\"Gb^7\",[\"Gm7\",\"C7\"]],[\"F^7\",[\"Gm7\",\"C7\"],\"F^7\",[\"Bbm7\",\"Eb7\"]],[[\"Am7\",\"Ab7\"],[\"Gm7\",\"C7\"],\"F^7\",[\"Gm7\",\"C7\"]]]}).reduce(Yo(cp),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"64\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Abm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Abm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'E7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'A7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Abm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Abm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingDictionaryReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(\"br\",{}),`\n`,(0,a.jsxs)(e.h3,{id:\"observations\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#observations\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Observations\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Apart from the fact that this still sounds robotic due to the lame rhythm and non existing articulation, we can observe:\"}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:\"the basic voice leading works good\"}),`\n`,(0,a.jsx)(e.li,{children:\"sometimes, it still jumps after getting too low\"}),`\n`,(0,a.jsx)(e.li,{children:\"this is (partly) good, as voicings that are too low sound muddy\"}),`\n`,(0,a.jsx)(e.li,{children:\"for many tunes (like joy spring), it is inevitable that the tightest possible voice leading is going out of range at some point\"}),`\n`,(0,a.jsx)(e.li,{children:\"so at some point, a non optimal voice leading has to be chosen to get back to the sugar range\"}),`\n`]}),`\n`,(0,a.jsxs)(e.h3,{id:\"range-considerations\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#range-considerations\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Range Considerations\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Let's review, how we are transposing the intervals to get the notes:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-ts\",children:(0,a.jsxs)(e.code,{className:\"language-ts\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" root \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" tonic \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notes \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"root\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"This will give us a lowest possible root of C3 and a highest of B3.\"}),`\n`,(0,a.jsx)(e.p,{children:\"If we use the following intervals:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" lefthand \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  m7`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3m 5P 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2M 2M 3m 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10m 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token number\",children:\"7\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 6M 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2M 2M 3M 6M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10M 13M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'^7'\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 5P 7M 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2m 2M 3M 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7M 9M 10M 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"... we have a minimum transposition of -2M and a maximum of 13M. Applying those to our min and max roots we get a note range of:\"}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:\"lowest note: C3 - 2M = Bb2\"}),`\n`,(0,a.jsx)(e.li,{children:\"highest note: B3 + 13M = G#4\"}),`\n`]}),`\n`,(0,a.jsx)(e.p,{children:\"To test some range edge cases, I want to create an example where the voicings get really low. As the first voicing will always use the first interval set:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// first chord =\u003e just use first voicing\"}),`\n  intervals `,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicings\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"...which is:\"}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:\"'3m 5P 7m 9M' for m7\"}),`\n`,(0,a.jsx)(e.li,{children:\"'3M 6M 7m 9M' for 7\"}),`\n`,(0,a.jsx)(e.li,{children:\"'3M 5P 7M 9M' for ^7\"}),`\n`]}),`\n`,(0,a.jsx)(e.p,{children:\"... we will not even use the min or max intervals. If we want to reach them, we have to construct chords so that their smoothest voice leading will go down:\"}),`\n`,(0,a.jsx)(cr,{fold:!1,instruments:{tinypiano:lr},events:br({duration:6,sequential:[\"Cm7\",\"Em7\",\"Dm7\",{value:\"Cm7\",duration:2},\"Bm7\"]}).reduce(Yo(cp),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"6\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Em7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" duration\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingDictionaryReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(e.p,{children:\"Now we reach the lowest possible note (Bb2) on the second Cm7 (the long one). This is kind of low, but still more or less acceptable. What's less acceptable, is the last chord:\"}),`\n`,(0,a.jsx)(e.p,{children:\"I've set up the Bm7 to create a disjoint after the low Cm7. It may not sound unpleasant but for the goal of smooth voice leading, the Bm7 goes higher than it should.\"}),`\n`,(0,a.jsx)(e.p,{children:\"If we add another, even lower octave to our m7 voicings:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-ts\",children:(0,a.jsxs)(e.code,{className:\"language-ts\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\nm7`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3m 5P 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-6M -4P -2M 2M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2M 2M 3m 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10m 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"/* */\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"... we get this:\"}),`\n`,(0,a.jsx)(cr,{fold:!1,instruments:{tinypiano:lr},events:br({duration:6,sequential:[\"Cm7\",\"Em7\",\"Dm7\",{value:\"Cm7\",duration:2},\"Bm7\"]}).reduce(Yo({m7:[\"3m 5P 7m 9M\",\"-6M -4P -2M 2M\",\"-2M 2M 3m 5P\",\"7m 9M 10m 12P\"],\"7\":[\"3M 6M 7m 9M\",\"-6m -3m -2M 2M\",\"-2M 2M 3M 6M\",\"7m 9M 10M 13M\"],\"^7\":[\"3M 5P 7M 9M\",\"-2m 2M 3M 5P\",\"7M 9M 10M 12P\"]}),[])}),`\n`,(0,a.jsx)(e.p,{children:'Now, the Bm7 does not \"overshoot\" and leads much smoother to the higher Cm7. Ok fine, so should we just use that addition?'}),`\n`,(0,a.jsx)(e.p,{children:\"Before we do that, let's modify the example slightly, spinning an extra round to get even lower:\"}),`\n`,(0,a.jsx)(cr,{fold:!1,instruments:{tinypiano:lr},events:br({duration:12,sequential:[\"Cm7\",\"Em7\",\"Db^7\",\"Cm7\",\"Em7\",\"Dm7\",{value:\"Cm7\",duration:2},\"Bm7\"]}).reduce(Yo({m7:[\"3m 5P 7m 9M\",\"-6M -4P -2M 2M\",\"-2M 2M 3m 5P\",\"7m 9M 10m 12P\"],\"7\":[\"3M 6M 7m 9M\",\"-6m -3m -2M 2M\",\"-2M 2M 3M 6M\",\"7m 9M 10M 13M\"],\"^7\":[\"3M 5P 7M 9M\",\"-2m 2M 3M 5P\",\"7M 9M 10M 12P\"]}),[])}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Em7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Em7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" duration\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"Here, we are getting much too low on the longer Cm7...\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"the-dilemma\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-dilemma\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"The dilemma\"]}),`\n`,(0,a.jsx)(e.p,{children:`So now we have the classic coding dilemma: We had a problem (Bm7 did not go low enough), came up with a fix that solved it (add lower voicing), but we created another problem (other voicings are now too low)...\nThis often happens when we are using a wrong abstraction, in this case, using root transposition to create voicings.`}),`\n`,(0,a.jsx)(e.p,{children:`The essential problem: We end up having different ranges for different roots. Also, we have no direct control over the range of the voicings.\nAdditionally, it does not feel right for a voicing appear twice in the dictionary, only differing in octave.`}),`\n`,(0,a.jsxs)(e.h3,{id:\"what-makes-a-voicing-unpleasant\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#what-makes-a-voicing-unpleasant\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"What makes a voicing unpleasant\"]}),`\n`,(0,a.jsx)(e.p,{children:\"When a voicing gets too low, some intervals at the bottom end are getting so close together that their overtones create nasty dissonances, as they get more and more audible.\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"solution\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#solution\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Solution\"]}),`\n`,(0,a.jsx)(e.p,{children:\"It would be great to control the range directly, not indirectly through the dictionary. Let's remove the clutter from our dictionary:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" lefthand \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  m7`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3m 5P 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10m 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token number\",children:\"7\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 6M 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10M 13M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'^7'\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 5P 7M 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7M 9M 10M 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"Now I want to find a way to get all possible voicings inside a given note range. Lets use:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'G2'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsxs)(e.p,{children:[\"like proposed \",(0,a.jsx)(e.a,{href:\"https://youtu.be/5uoD6LfaDoE?t=523\",children:\"here\"}),\".\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Now we want this:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" possibleVoicings \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingsInRange\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'G2'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:`/* [\n  ['Eb3','G3','Bb3','D4'],\n  ['Bb2','D3','Eb3','G3'],\n  ['Bb3','D4','Eb4','G4'],\n]*/`}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"Now those 3 voicings are all possible Cm7 voicings inside the given range, using the provided dictionary.\"}),`\n`,(0,a.jsx)(cr,{fold:!1,instruments:{tinypiano:lr},events:br({duration:4,sequential:[{parallel:[\"Bb2\",\"D3\",\"Eb3\",\"G3\"]},{parallel:[\"Eb3\",\"G3\",\"Bb3\",\"D4\"]},{parallel:[\"Bb3\",\"D4\",\"Eb4\",\"G4\"],duration:2}]})}),`\n`,(0,a.jsxs)(e.h3,{id:\"proper-range-implementation\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#proper-range-implementation\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Proper Range Implementation\"]}),`\n`,(0,a.jsx)(e.p,{children:\"After some back and forth, I ended up implementing the method like this:\"}),`\n`,(0,a.jsx)(\"div\",{style:{maxHeight:\"400px\",overflow:\"auto\",borderRadius:\"10px\",marginBottom:\"10px\"},children:(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,a.jsxs)(e.span,{className:\"token imports\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Range\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Interval\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'@tonaljs/tonal'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingsInRange\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsxs)(e.span,{className:\"token parameter\",children:[\"chord\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" range\"]}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tonic\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" aliases \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"chord\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// find equivalent symbol that is used as a key in dictionary:\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" symbol \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token known-class-name class-name\",children:\"Object\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"keys\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"find\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"_symbol\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" aliases\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"includes\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"_symbol\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// resolve array of interval arrays for the wanted symbol\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" voicings \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"symbol\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"intervals\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"split\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"' '\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notesInRange \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Range\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chromatic\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// gives array of notes inside range\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" voicings\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsxs)(e.span,{className:\"token parameter\",children:[\"voiced\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\"]}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// transpose intervals relative to first interval (e.g. 3m 5P \u003e 1P 3M)\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" relativeIntervals \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"substract\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// interval from bottom to top note\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" voicingSpan \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// get enharmonic correct pitch class the bottom note\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" bottomPitchClass \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"tonic\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// get all possible start notes for voicing\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" starts \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` notesInRange\n      `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// only get the start notes:\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"filter\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chroma\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chroma\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"bottomPitchClass\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// filter out start notes that will overshoot the top end of the range\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"filter\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicingSpan\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// replace Range.chromatic notes with the correct enharmonic equivalents\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"enharmonicEquivalent\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" bottomPitchClass\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// render one voicing for each start note\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notes \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" starts\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"start\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"start\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" voiced\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"notes\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"using \",(0,a.jsx)(e.a,{href:\"https://github.com/tonaljs/tonal/tree/master/packages/range\",children:\"Range.chromatic\"}),\" to create the range + a custom enharmonicEquivalent function to get the accidentals right.\"]}),`\n`,(0,a.jsxs)(e.h4,{id:\"enharmonic-considerations\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#enharmonic-considerations\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Enharmonic Considerations\"]}),`\n`,(0,a.jsx)(e.p,{children:\"One tricky part of the implementation above was the enharmonicEquivalent method.\"}),`\n`,(0,a.jsx)(e.p,{children:\"To understand the problem, let's try to create an edge case, by rendering the chord Fm7b5 with a specific voicing:\"}),`\n`,(0,a.jsx)(\"div\",{style:{maxHeight:\"400px\",overflow:\"auto\",borderRadius:\"10px\",marginBottom:\"10px\"},children:(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" tonic \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" voicing \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'5d 7m 8P 10m'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" range \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'A2'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notesInRange \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Range\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chromatic\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['A2','Bb2','B2','C3','Db3','D3','Eb3','E3','F3','Gb3','G3','Ab3','A3','Bb3','B3','C4']\"}),`\nvoicing `,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"split\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"' '\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['5d', '7m', '8P', '10m']\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// map intervals relative to start\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" relativeIntervals \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"substract\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['1P', '3M', '4A', '6M']\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// interval from bottom to top note:\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" voicingSpan \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// 6M\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// find out the bottom pitch class\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" bottomPitchClass \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"tonic\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// F + 5d = Cb\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// filter the range\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" starts \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` notesInRange\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// .. only keep notes that are enharmonically equivalent to Cb\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"filter\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chroma\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chroma\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"bottomPitchClass\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['B2','B3']\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// .. only keep notes that stay within range when added the voicingSpan\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"filter\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicingSpan\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['B2']\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// .map(note =\u003e enharmonicEquivalent(note, bottomPitchClass)) // intentionally left out\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// render one voicing for each start note\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notes \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" starts\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"start\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"start\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['1P', '3M', '4A', '6M'].map((interval) =\u003e Note.transpose('B2', interval))\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// yields ['B2','D#3','E#3', 'G#3']\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// but we want ['Cb3','Eb3','F3','Ab3']\"}),`\n`]})})}),`\n`,(0,a.jsx)(e.p,{children:\"So the last piece of the puzzle is a function that turns the B2 to a Cb3 before calculating the notes.\"}),`\n`,(0,a.jsx)(e.p,{children:\"My first attempt at this was just swapping the octave number:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"enharmonicEquivalent\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsxs)(e.span,{className:\"token parameter\",children:[\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" pitchClass\"]}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" oct \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" pitchClass \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" oct\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('F2', 'E#') =\u003e E#2 =\u003e fine\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('B2', 'Cb') =\u003e Cb2 =\u003e not fine =\u003e 1 octave too low\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('C2', 'B#') =\u003e B#2 =\u003e not fine =\u003e 1 octave too high\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:`But for cases where the enharmonic equivalents have a different octave number, this results in octave shifts.\nI finally implemented it like this:`}),`\n`,(0,a.jsx)(e.pre,{className:\"language-ts\",children:(0,a.jsxs)(e.code,{className:\"language-ts\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"enharmonicEquivalent\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" pitchClass\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" alt\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" letter \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"pitchClass\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" oct \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" letterChroma \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chroma\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"letter\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" alt\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"letterChroma \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"11\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    oct`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"--\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"letterChroma \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    oct`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"++\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" pitchClass \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" oct\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('F2', 'E#') =\u003e E#2 =\u003e fine\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('B2', 'Cb') =\u003e Cb3 =\u003e fine\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('C2', 'B#') =\u003e B#1 =\u003e fine\"}),`\n`]})}),`\n`,(0,a.jsxs)(e.h3,{id:\"conclusion\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#conclusion\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),`\n`,(0,a.jsx)(e.p,{children:'Finally the \"problematic\" chord progression sounds like this:'}),`\n`,(0,a.jsx)(cr,{fold:!1,instruments:{tinypiano:lr,drums:pm},events:br({duration:12,sequential:[\"Cm7\",\"Em7\",\"Dm7\",\"Cm7\",\"Em7\",\"Dm7\",{value:\"Cm7\",duration:2},{value:\"Bm7\",duration:2}]}).reduce(wc(Ho,[\"C3\",\"C6\"]),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" drums \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"12\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Em7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Em7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" duration\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" duration\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C6'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(\"br\",{}),`\n`,(0,a.jsx)(e.p,{children:\"Now this seems to work perfectly, the only jump remains at the repetition, which could be fixed by regenerating the voicing each round, which I will implement in the future.\"}),`\n`,(0,a.jsx)(e.p,{children:\"Now to close the gap, here's the basic cadence again, this time generated algorithmically:\"}),`\n`,(0,a.jsx)(cr,{fold:!0,instruments:{tinypiano:lr},events:br({duration:4,sequential:[[\"F\",\"G\"],\"C\"]}).reduce(wc({M:[\"1P 3M 5P\",\"3M 5P 8P\",\"5P 8P 10M\"]},[\"C3\",\"A4\"]),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(e.span,{className:\"token constant\",children:\"M\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'1P 3M 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 5P 8P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'5P 8P 10M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(e.p,{children:\"Let's try some autumn leaves (with more voicings added to the dictionary):\"}),`\n`,(0,a.jsx)(cr,{instruments:{piano:lr},fold:!1,events:br({duration:64,sequential:[[\"Cm7\",\"F7\",\"Bb^7\",\"Eb^7\"],[\"Am7b5\",\"D7b13\",\"Gm6\",\"_\"],[\"Cm7\",\"F7\",\"Bb^7\",\"Eb^7\"],[\"Am7b5\",\"D7b13\",\"Gm6\",\"_\"],[\"Am7b5\",\"D7b13\",\"Gm6\",\"_\"],[\"Cm7\",\"F7\",\"Bb^7\",\"Eb^7\"],[\"Am7b5\",\"D7b13\",[\"Gm7\",\"Gb7\"],[\"Fm7\",\"E7\"]],[\"Am7b5\",\"D7b13\",\"Gm6\",\"_\"]]}).reduce(lp(),[]).reduce(wc(Ho,[\"D3\",\"E5\"]),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" piano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"64\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm6'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm6'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm6'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'E7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm6'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"tieReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(\"br\",{}),`\n`,(0,a.jsxs)(e.h2,{id:\"tbd\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#tbd\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"TBD\"]}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:\"error handling !\"}),`\n`,(0,a.jsx)(e.li,{children:\"remove hard coded bass from voicingReducer =\u003e add bassReducer\"}),`\n`,(0,a.jsx)(e.li,{children:\"add filterReducer + combineReducers =\u003e apply voicing reducer only to chords\"}),`\n`,(0,a.jsx)(e.li,{children:\"add duplicateReducer (removes duplicate events) =\u003e remove notes that are covered by melody\"}),`\n`,(0,a.jsx)(e.li,{children:\"add rangeReducer (remove notes outside a certain range) =\u003e remove notes above melody\"}),`\n`]})]});return r?(0,a.jsx)(r,Object.assign({},n,{children:i})):i}var ope=spe;return upe;})();\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n/**\n * A better abstraction over CSS.\n *\n * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n * @website https://github.com/cssinjs/jss\n * @license MIT\n */\n/**\n * Tone.js\n * @author Yotam Mann\n * @license http://opensource.org/licenses/MIT MIT License\n * @copyright 2014-2019 Yotam Mann\n */\n/** @license Material-UI v4.11.2\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/** @license Material-UI v4.11.4\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/** @license Material-UI v4.12.1\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/** @license React v17.0.2\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n;return Component.default;"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"rhythmical-chords"},"buildId":"80PaSk-4VJq0dcP6nviFX","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>