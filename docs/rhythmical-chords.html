<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Loophole Letters</title><meta content="This is where felixroos writes about music and coding and stuff that he finds interesting." name="description"/><meta property="og:url" content="https://felixroos.github.io/rhythmical-chords"/><link rel="canonical" href="https://felixroos.github.io/rhythmical-chords"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"/><meta property="og:type" content="website"/><meta property="og:site_name" content="Loophole Letters"/><meta property="og:description" content="This is where felixroos writes about music and coding and stuff that he finds interesting."/><meta property="og:title" content="Loophole Letters"/><meta property="og:image" content="https://felixroos.github.io/images/site-preview.png"/><meta name="next-head-count" content="12"/><link rel="preload" href="/_next/static/css/824406bfec680877c871.css" as="style"/><link rel="stylesheet" href="/_next/static/css/824406bfec680877c871.css" data-n-g=""/><link rel="preload" href="/_next/static/css/3dd4d340904c9260f6d8.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3dd4d340904c9260f6d8.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-ddd010a953737b6e3536.js" defer=""></script><script src="/_next/static/chunks/framework-895f067827ebe11ffe45.js" defer=""></script><script src="/_next/static/chunks/main-222191e14496d29481e0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-99b66f93221fbb7f4a73.js" defer=""></script><script src="/_next/static/chunks/404-d5935ede064e9f79c1b7.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-451cfbeca75d2f1e006e.js" defer=""></script><script src="/_next/static/G3PuGP-3UQ_TjRSvK8pry/_buildManifest.js" defer=""></script><script src="/_next/static/G3PuGP-3UQ_TjRSvK8pry/_ssgManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css-global 1ob364s">html{--theme-ui-colors-primary:#307AC6;--theme-ui-colors-secondary:#27a727;--theme-ui-colors-background:#fff;--theme-ui-colors-text:#1b1e21;--theme-ui-colors-blue:#4169e1;--theme-ui-colors-cyan:#41b9e1;--theme-ui-colors-gray:#667788;--theme-ui-colors-green:#27a727;--theme-ui-colors-purple:#6941e1;--theme-ui-colors-orange:#fba100;--theme-ui-colors-pink:#e141b9;--theme-ui-colors-red:#ee5555;--theme-ui-colors-white:#fff;--theme-ui-colors-yellow:#FFDD22;--theme-ui-colors-lite:#eee;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}html.theme-ui-__default{--theme-ui-colors-primary:#307AC6;--theme-ui-colors-secondary:#27a727;--theme-ui-colors-background:#fff;--theme-ui-colors-text:#1b1e21;--theme-ui-colors-blue:#4169e1;--theme-ui-colors-cyan:#41b9e1;--theme-ui-colors-gray:#667788;--theme-ui-colors-green:#27a727;--theme-ui-colors-purple:#6941e1;--theme-ui-colors-orange:#fba100;--theme-ui-colors-pink:#e141b9;--theme-ui-colors-red:#ee5555;--theme-ui-colors-white:#fff;--theme-ui-colors-yellow:#FFDD22;--theme-ui-colors-lite:#eee;}html.theme-ui-dark{--theme-ui-colors-text:#fff;--theme-ui-colors-background:#292C34;--theme-ui-colors-lite:#333;--theme-ui-colors-primary:#85DEFB;}</style><style data-emotion="css-global 0"></style><style data-emotion="css 1td7120">.css-1td7120{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:auto;position:relative;max-width:800px;}</style><div class="css-1td7120"><style data-emotion="css eim2bq">.css-eim2bq{box-sizing:border-box;margin:0;min-width:0;padding:16px;position:absolute;top:0;right:0;opacity:0;-webkit-transition:opacity .25s ease-in-out;transition:opacity .25s ease-in-out;}</style><div class="css-eim2bq"><style data-emotion="css jakyet">.css-jakyet{box-sizing:border-box;margin:0;min-width:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;display:inline-block;text-align:center;line-height:inherit;-webkit-text-decoration:none;text-decoration:none;font-size:inherit;padding-left:16px;padding-right:16px;padding-top:8px;padding-bottom:8px;color:var(--theme-ui-colors-white);background-color:var(--theme-ui-colors-primary);border:0;border-radius:4px;color:var(--theme-ui-colors-background);background-color:var(--theme-ui-colors-primary);background-color:var(--theme-ui-colors-gray);padding-top:4px;padding-bottom:4px;padding-left:8px;padding-right:8px;font-size:16px;cursor:pointer;}.css-jakyet:hover{background-color:var(--theme-ui-colors-text);}</style><button class="css-jakyet">light<!-- --> mode</button></div><style data-emotion="css 1doo0ju">.css-1doo0ju{box-sizing:border-box;margin:0;min-width:0;padding-top:32px;}</style><header class="css-1doo0ju"><style data-emotion="css 1n35gdr">.css-1n35gdr{box-sizing:border-box;margin:0;min-width:0;font-family:Montserrat,sans-serif;font-weight:900;line-height:1.1;font-size:30px;padding-bottom:32px;padding-left:16px;padding-right:16px;font-weight:900;}@media screen and (min-width: 32em){.css-1n35gdr{padding-left:32px;padding-right:32px;}}</style><h1 class="css-1n35gdr"><style data-emotion="css 1ie6k50">.css-1ie6k50{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-text);}</style><a href="/" class="css-1ie6k50">♾️ loophole letters</a></h1></header><style data-emotion="css td0gup">.css-td0gup{box-sizing:border-box;margin:0;min-width:0;padding-left:16px;padding-right:16px;padding-bottom:0;}@media screen and (min-width: 32em){.css-td0gup{padding-left:32px;padding-right:32px;}}</style><main class="css-td0gup"><style data-emotion="css vurnku">.css-vurnku{box-sizing:border-box;margin:0;min-width:0;}</style><article class="css-vurnku"><style data-emotion="css 1hep91p">.css-1hep91p{box-sizing:border-box;margin:0;min-width:0;float:right;}</style><div class="css-1hep91p"><style data-emotion="css 1f7qs6g">.css-1f7qs6g{box-sizing:border-box;margin:0;min-width:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;display:inline-block;text-align:center;line-height:inherit;-webkit-text-decoration:none;text-decoration:none;font-size:inherit;padding-left:16px;padding-right:16px;padding-top:8px;padding-bottom:8px;color:var(--theme-ui-colors-white);background-color:var(--theme-ui-colors-primary);border:0;border-radius:4px;color:var(--theme-ui-colors-primary);border:1px solid var(--theme-ui-colors-primary);background-color:var(--theme-ui-colors-background);display:inline;margin-right:4px;}</style><button class="css-1f7qs6g">rhythmical</button><button class="css-1f7qs6g">code</button></div><style data-emotion="css 108j34h">.css-108j34h{box-sizing:border-box;margin:0;min-width:0;font-family:Montserrat,sans-serif;font-weight:900;line-height:1.1;font-size:40px;}</style><h2 class="css-108j34h">Rhythmical Chords</h2><style data-emotion="css 188b938">.css-188b938{box-sizing:border-box;margin:0;min-width:0;font-family:'Merriweather','Georgia',serif;font-weight:400;line-height:1.75;margin-bottom:32px;color:var(--theme-ui-colors-gray);font-style:italic;}</style><p class="css-188b938">July 30, 2020</p><div class="css-vurnku"><style data-emotion="css 1i3mtem">.css-1i3mtem{font-size:16px;font-weight:400;line-height:1.75;font-family:'Merriweather','Georgia',serif;}</style><p class="css-1i3mtem">To bring rhythmical one step closer to being a hackable backing track player, I want to implement one of the most important things: chord symbols.</p>
<p class="css-1i3mtem">Disclaimer: To get the most out of this post, you might want to read those posts first:</p>
<style data-emotion="css zoser8">.css-zoser8{padding-top:8px;}</style><ul class="css-zoser8">
<style data-emotion="css 58pxoz">.css-58pxoz{font-family:'Merriweather','Georgia',serif;margin-bottom:14px;}</style><li class="css-58pxoz"><style data-emotion="css 1e6egy8">.css-1e6egy8{color:var(--theme-ui-colors-primary);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;}</style><a target="_blank" href="https://felixroos.github.io/blog/rhythmical-arrays/" class="css-1e6egy8">Rhythmical Arrays</a></li>
<li class="css-58pxoz"><a target="_blank" href="https://felixroos.github.io/blog/rhythmical-objects/" class="css-1e6egy8">Rhythmical Objects</a></li>
</ul>
<p class="css-1i3mtem">After this post, we will be able play chords like this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="156" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="33" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="17" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="161.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="81" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="33" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="134.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="81" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="172" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="70.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="33" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="193.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="166.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="188" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="188" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="193.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="134.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="70.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="156" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="75.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="59.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="38" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="27.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="193.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="75.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="59.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="22" width="8" height="5"></rect></g><g><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="166.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="1" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="1" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="1" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="11.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="188" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="182.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="65" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="38" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="17" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="156" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="70.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="38" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="17" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="193.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="43.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="27.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="193.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="166.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="145" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="91.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="70.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="65" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="182.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="65" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="33" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="6" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="156" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="33" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="17" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="145" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="6" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="182.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="33" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="6" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="156" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="33" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="17" width="33" height="5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Db^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;F#m7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B7b9&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7b13&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Db^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;DbmM7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bo7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7b9&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">tieReducer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicingReducer</span><span class="token punctuation">(</span>lefthand<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<p class="css-1i3mtem">Without having anything implemented yet, let&#x27;s <a target="_blank" href="https://felixroos.github.io/blog/rhythmical-objects/" class="css-1e6egy8">render</a> the following two bars of major chords:</p>
<pre class="language-js"><code class="language-js"><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">...and look at the result:</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">...obviously, we cannot use that for playback, as these are chord symbols, and we need single notes with octaves.</p>
<style data-emotion="css 12ewxln">.css-12ewxln{box-sizing:border-box;margin:0;min-width:0;font-family:Montserrat,sans-serif;font-weight:900;line-height:1.1;margin-bottom:8px;margin-top:32px;}</style><h2 id="most-basic-chord-reducer" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Most Basic Chord Reducer</h2>
<p class="css-1i3mtem">As our goal is to get playable events, we need to transform the chord symbols to notes, using <a target="_blank" href="https://github.com/tonaljs/tonal/tree/master/packages/chord#chordgetname-string-" class="css-1e6egy8">Chord.get</a> and <a target="_blank" href="https://github.com/tonaljs/tonal/tree/master/packages/note#transposenote-string-interval-string--string" class="css-1e6egy8">Note.transpose</a> of <a target="_blank" href="https://github.com/tonaljs/tonal" class="css-1e6egy8">tonaljs</a>:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Note</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;@tonaljs/tonal&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">chordReducer</span><span class="token punctuation">(</span>events<span class="token punctuation">,</span> event<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> event<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">===</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> intervals<span class="token punctuation">,</span> tonic <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> notes <span class="token operator">=</span> intervals<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>tonic <span class="token operator">+</span> <span class="token string">&#x27;3&#x27;</span><span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> events<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span>notes<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>event<span class="token punctuation">,</span> value<span class="token operator">:</span> note <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> events<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p class="css-1i3mtem">to apply the reducer, we can now just use <a target="_blank" href="https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" class="css-1e6egy8">reduce</a>:</p>
<pre class="language-js"><code class="language-js"><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>chordReducer<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">Result:</p>
<div style="max-height:400px;overflow:auto;border-radius:10px;margin-bottom:10px"><pre class="language-js"><code class="language-js"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;F3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;C4&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    value<span class="token operator">:</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span>
    time<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div>
<p class="css-1i3mtem">...which we can now play back:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="185.5" width="300" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="133" width="300" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="93" width="300" height="13"></rect></g><g><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="119.5" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="67" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="27" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="93" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="40.5" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="1" width="150" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="185.5" width="300" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="133" width="300" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="93" width="300" height="13"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>chordReducer<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<h2 id="is-this-good-music-yet" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Is this good music yet?</h2>
<p class="css-1i3mtem">Even besides the fact that this is played back by a cheap piano without rhythm, you might not be satisfied with the way the chords are played.</p>
<p class="css-1i3mtem">A good pianist would never play chords like this, as their voices are moving with big steps. The voice leading would be much better if the end result sounded something like this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="145" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="91" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="1" width="300" height="18"></rect></g><g><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="127" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="54.5" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="181" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="91" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="19" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="145" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="91" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="1" width="300" height="18"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;F3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<p class="css-1i3mtem">Here, we start on F major in <a target="_blank" href="https://en.wikipedia.org/wiki/Root_position" class="css-1e6egy8">root position</a> (1 3 5), transition to G major in 2nd inversion (5 1 3) to land on C major in 1st inversion (3 5 1).</p>
<p class="css-1i3mtem">If we look at the movement between individual notes (voices), we only have small steps between 0 and 3 semitones, as opposed to 2-5 semitones in the previous example.
The result is a much smoother sound.</p>
<h2 id="voicings--voice-leading" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Voicings &amp; Voice leading</h2>
<p class="css-1i3mtem">The problem above brings us to the topic of Voicings and Voice Leading.</p>
<p class="css-1i3mtem">A <em>voicing</em> of a chord is one of many ways to play it, like different inversions. Another way to voice chords is by using wider intervals or doubling notes in different octaves. If you have no clue what I&#x27;m talking about, <a target="_blank" href="https://www.youtube.com/watch?v=VR3o45Pwx9Y" class="css-1e6egy8">watch this video</a>.</p>
<p class="css-1i3mtem"><em>Voice Leading</em> describes the transition between different voicings of chords, with the general aim to create smooth transitions.</p>
<h2 id="two-approaches-to-algorithmic-voicings" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Two approaches to algorithmic voicings</h2>
<p class="css-1i3mtem">So far, I came across two approaches to generate voicings automatically:</p>
<h3 id="voicing-dictionaries" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Voicing Dictionaries</h3>
<p class="css-1i3mtem">Many applications (like iReal pro) use dictionaries that contain multiple voicings for each chord, then picking the one with the best voice leading.
This is similar to how beginner and intermediate improvising piano players learn chords: Practising different voicings and pressing them on the fly.
This is the approach that I want to implement today.</p>
<h3 id="voicing-permutation" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Voicing Permutation</h3>
<p class="css-1i3mtem">More advanced improvisers will think in terms of scales/modes and voicings that fit inside, which offers much more freedom.
This approach can be mapped by using permutation: Taking all possible notes that can be selected for a chord, and going through all possible combinations one by one.
As there are almost endless combinations, especially for chords with more notes, we need to come up with some rules that filter out combinations we do not want + find a way to permutate efficiently.
This can be done via <a target="_blank" href="https://felixroos.github.io/blog/combinatorial-search/" class="css-1e6egy8">combinatorial search</a>, which will be the topic for a future post.</p>
<h2 id="implementing-a-voicing-dictionary" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Implementing a Voicing Dictionary</h2>
<p class="css-1i3mtem">A small fragment of a voicing dictionary could look like this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> lefthand <span class="token operator">=</span> <span class="token punctuation">{</span>
  m7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3m 5P 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2M 2M 3m 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10m 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">7</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 6M 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2M 2M 3M 6M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10M 13M&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;^7&#x27;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 5P 7M 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2m 2M 3M 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7M 9M 10M 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">These are typical <a target="_blank" href="https://www.youtube.com/watch?v=5uoD6LfaDoE" class="css-1e6egy8">rootless lefthand voicings</a>, notated using .
If we now want to resolve chords with good voice leading, we can do it like this:</p>
<div style="max-height:400px;overflow:auto;border-radius:10px;margin-bottom:10px"><pre class="language-ts"><code class="language-ts"><span class="token keyword">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Note</span> <span class="token punctuation">}</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;@tonaljs/tonal&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">voicingDictionaryReducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span>dictionary<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span>events<span class="token punctuation">,</span> event<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> event<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">!==</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> events<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> tonic<span class="token punctuation">,</span> aliases <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_symbol<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> aliases<span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span>_symbol<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token builtin">symbol</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">no voicings found for chord &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>event<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> events<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> intervals<span class="token punctuation">;</span>
  <span class="token keyword">const</span> voicings <span class="token operator">=</span> dictionary<span class="token punctuation">[</span><span class="token builtin">symbol</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> i<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27; &#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// split interval strings</span>
  <span class="token keyword">const</span> root <span class="token operator">=</span> tonic <span class="token operator">+</span> <span class="token string">&#x27;3&#x27;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> bass <span class="token operator">=</span> tonic <span class="token operator">+</span> <span class="token string">&#x27;2&#x27;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>events<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// first chord =&gt; just use first voicing</span>
    intervals <span class="token operator">=</span> voicings<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// not first chord =&gt; find smoothest voicing</span>
    <span class="token keyword">const</span> lastNote <span class="token operator">=</span> events<span class="token punctuation">[</span>events<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">;</span> <span class="token comment">// last voiced note (top note)</span>
    <span class="token comment">// calculates the distance between the last note and the given voicings top note</span>
    <span class="token keyword">const</span> <span class="token function-variable function">diff</span> <span class="token operator">=</span> <span class="token punctuation">(</span>voicing<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
      <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">abs</span><span class="token punctuation">(</span><span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span>lastNote<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span><span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> voicing<span class="token punctuation">[</span>voicing<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// sort voicings by lowest top note difference</span>
    intervals <span class="token operator">=</span> voicings<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">diff</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">diff</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// transpose to root</span>
  <span class="token keyword">const</span> notes <span class="token operator">=</span> intervals<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> events<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>event<span class="token punctuation">,</span> value<span class="token operator">:</span> bass <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span>notes<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>event<span class="token punctuation">,</span> value<span class="token operator">:</span> note <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<p class="css-1i3mtem">Now, a 251 sounds like this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="192" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="82.5" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="62" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="35" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="14.5" width="300" height="6.5"></rect></g><g><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="178.5" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="76" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="48.5" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="28" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="144" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="76" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="48.5" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="35" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="1" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="192" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="82.5" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="62" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="35" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="14.5" width="300" height="6.5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<p class="css-1i3mtem">Ahhh.. yeahhh, niccce. Let&#x27;s try a tune that only uses 251s but goes through different tonal centers, like joy spring:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="152" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="88" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="59" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="41.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="18.5" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="18.5" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="18.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="18.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="18.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="28" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="28" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="28" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="28" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="28" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="100" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="56" y="164" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="56" y="105.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="56" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="56" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="56" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="65" y="134.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="65" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="65" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="65" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="65" y="12.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="175.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="65" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="41.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="24" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="93" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="93" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="93" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="93" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="93" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="102.5" y="187" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="102.5" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="102.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="102.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="102.5" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="158" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="94" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="76.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="65" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="47.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="130.5" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="130.5" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="130.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="130.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="130.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="140" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="140" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="140" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="140" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="140" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="100" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="168" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="168" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="168" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="168" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="168" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="177.5" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="177.5" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="177.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="177.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="177.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="186.5" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="186.5" y="100" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="186.5" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="186.5" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="186.5" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="134.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="175.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="140.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="30" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="233.5" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="233.5" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="233.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="233.5" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="233.5" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="242.5" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="242.5" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="242.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="242.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="242.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="252" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="252" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="252" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="252" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="252" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="100" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="280" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="280" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="280" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="280" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="280" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="289.5" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="289.5" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="289.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="289.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="289.5" y="41.5" width="9" height="5.5"></rect></g><g><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="30" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="12.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="317.5" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="317.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="317.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="317.5" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="317.5" y="1" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="327" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="327" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="327" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="327" y="30" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="327" y="1" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="30" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="12.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="355" y="134.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="355" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="355" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="355" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="355" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="364" y="175.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="364" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="364" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="364" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="364" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="140.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="30" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="383" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="383" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="383" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="383" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="383" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="392" y="152" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="392" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="392" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="392" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="392" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="401.5" y="193" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="401.5" y="100" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="401.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="401.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="401.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="164" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="100" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="82.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="53" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="429.5" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="429.5" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="429.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="429.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="429.5" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="439" y="187" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="439" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="439" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="439" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="439" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="158" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="94" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="76.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="65" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="47.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="467" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="467" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="467" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="467" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="467" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="476.5" y="187" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="476.5" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="476.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="476.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="476.5" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="158" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="94" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="76.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="65" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="47.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="504.5" y="129" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="504.5" y="70.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="504.5" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="504.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="504.5" y="18" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="513.5" y="169.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="513.5" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="513.5" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="513.5" y="41.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="513.5" y="18" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="134.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="76.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="24" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="532.5" y="140.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="532.5" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="532.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="532.5" y="47.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="532.5" y="18" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="541.5" y="146.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="541.5" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="541.5" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="541.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="541.5" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="551" y="187" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="551" y="94" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="551" y="65" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="551" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="551" y="35.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="158" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="94" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="76.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="65" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="47.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="579" y="140.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="579" y="82.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="579" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="579" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="579" y="30" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="588.5" y="181.5" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="588.5" y="88" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="588.5" y="59" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="588.5" y="53" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="588.5" y="30" width="9" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="152" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="88" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="70.5" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="59" width="18.5" height="5.5"></rect><rect rx="2.9411764705882355" ry="2.9411764705882355" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="41.5" width="18.5" height="5.5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Abm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Db7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Gb^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Abm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Db7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gb^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Bm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Abm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Db7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gb^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Abm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Db7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gb^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;F^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicingDictionaryReducer</span><span class="token punctuation">(</span>lefthand<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<h3 id="observations" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Observations</h3>
<p class="css-1i3mtem">Apart from the fact that this still sounds robotic due to the lame rhythm and non existing articulation, we can observe:</p>
<ul class="css-zoser8">
<li class="css-58pxoz">the basic voice leading works good</li>
<li class="css-58pxoz">sometimes, it still jumps after getting too low</li>
<li class="css-58pxoz">this is (partly) good, as voicings that are too low sound muddy</li>
<li class="css-58pxoz">for many tunes (like joy spring), it is inevitable that the tightest possible voice leading is going out of range at some point</li>
<li class="css-58pxoz">so at some point, a non optimal voice leading has to be chosen to get back to the sugar range</li>
</ul>
<h3 id="range-considerations" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Range Considerations</h3>
<p class="css-1i3mtem">Let&#x27;s review, how we are transposing the intervals to get the notes:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">const</span> root <span class="token operator">=</span> tonic <span class="token operator">+</span> <span class="token string">&#x27;3&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> notes <span class="token operator">=</span> intervals<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">This will give us a lowest possible root of C3 and a highest of B3.</p>
<p class="css-1i3mtem">If we use the following intervals:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> lefthand <span class="token operator">=</span> <span class="token punctuation">{</span>
  m7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3m 5P 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2M 2M 3m 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10m 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">7</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 6M 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2M 2M 3M 6M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10M 13M&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;^7&#x27;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 5P 7M 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2m 2M 3M 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7M 9M 10M 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">... we have a minimum transposition of -2M and a maximum of 13M. Applying those to our min and max roots we get a note range of:</p>
<ul class="css-zoser8">
<li class="css-58pxoz">lowest note: C3 - 2M = Bb2</li>
<li class="css-58pxoz">highest note: B3 + 13M = G#4</li>
</ul>
<p class="css-1i3mtem">To test some range edge cases, I want to create an example where the voicings get really low. As the first voicing will always use the first interval set:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>events<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// first chord =&gt; just use first voicing</span>
  intervals <span class="token operator">=</span> voicings<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p class="css-1i3mtem">...which is:</p>
<ul class="css-zoser8">
<li class="css-58pxoz">&#x27;3m 5P 7m 9M&#x27; for m7</li>
<li class="css-58pxoz">&#x27;3M 6M 7m 9M&#x27; for 7</li>
<li class="css-58pxoz">&#x27;3M 5P 7M 9M&#x27; for ^7</li>
</ul>
<p class="css-1i3mtem">... we will not even use the min or max intervals. If we want to reach them, we have to construct chords so that their smoothest voice leading will go down:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="192.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="128.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="103" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="96.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="71" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="122" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="58" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="32.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="26.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="1" width="100" height="6"></rect></g><g><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="192.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="96.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="71" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="52" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="26.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="167" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="103" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="77.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="71" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="45.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="179.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="115.5" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="90" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="84" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="58" width="100" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="192.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="128.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="103" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="96.5" width="200" height="6"></rect><rect rx="3.225806451612903" ry="3.225806451612903" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="71" width="200" height="6"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Em7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> duration<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bm7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicingDictionaryReducer</span><span class="token punctuation">(</span>lefthand<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<p class="css-1i3mtem">Now we reach the lowest possible note (Bb2) on the second Cm7 (the long one). This is kind of low, but still more or less acceptable. What&#x27;s less acceptable, is the last chord:</p>
<p class="css-1i3mtem">I&#x27;ve set up the Bm7 to create a disjoint after the low Cm7. It may not sound unpleasant but for the goal of smooth voice leading, the Bm7 goes higher than it should.</p>
<p class="css-1i3mtem">If we add another, even lower octave to our m7 voicings:</p>
<pre class="language-ts"><code class="language-ts"><span class="token punctuation">{</span>
m7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3m 5P 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-6M -4P -2M 2M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;-2M 2M 3m 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10m 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token comment">/* */</span>
<span class="token punctuation">}</span>
</code></pre>
<p class="css-1i3mtem">... we get this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="191.5" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="118" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="89" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="81.5" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="52" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="111" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="89" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="59.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="37.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="199" y="8" width="100" height="7"></rect></g><g><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="191.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="81.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="52" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="30" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="162" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="89" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="59.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="52" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="398.5" y="23" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="177" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="103.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="74" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="67" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="37.5" width="100" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="191.5" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="118" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="89" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="81.5" width="200" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="52" width="200" height="7"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<p class="css-1i3mtem">Now, the Bm7 does not &quot;overshoot&quot; and leads much smoother to the higher Cm7. Ok fine, so should we just use that addition?</p>
<p class="css-1i3mtem">Before we do that, let&#x27;s modify the example slightly, spinning an extra round to get even lower:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-33.5" y="162" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-33.5" y="140" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-33.5" y="111" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-33.5" y="89" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-33.5" y="59.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="33" y="177" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="33" y="155" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="33" y="125.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="33" y="103.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="33" y="74" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="99.5" y="191.5" width="133" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="99.5" y="169.5" width="133" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="99.5" y="140" width="133" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="99.5" y="118" width="133" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="99.5" y="89" width="133" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="232.5" y="111" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="232.5" y="89" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="232.5" y="59.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="232.5" y="37.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="232.5" y="8" width="66.5" height="7"></rect></g><g><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="191.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="81.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="52" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="30" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="365" y="162" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="365" y="89" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="365" y="59.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="365" y="52" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="365" y="23" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="431.5" y="184" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="431.5" y="103.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="431.5" y="81.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="431.5" y="67" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="431.5" y="45" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="191.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="118" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="89" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="81.5" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="498" y="52" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="564.5" y="162" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="564.5" y="140" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="564.5" y="111" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="564.5" y="89" width="66.5" height="7"></rect><rect rx="3.7037037037037037" ry="3.7037037037037037" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="564.5" y="59.5" width="66.5" height="7"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<pre class="language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Em7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Db^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Em7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> duration<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bm7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">Here, we are getting much too low on the longer Cm7...</p>
<h3 id="the-dilemma" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>The dilemma</h3>
<p class="css-1i3mtem">So now we have the classic coding dilemma: We had a problem (Bm7 did not go low enough), came up with a fix that solved it (add lower voicing), but we created another problem (other voicings are now too low)...
This often happens when we are using a wrong abstraction, in this case, using root transposition to create voicings.</p>
<p class="css-1i3mtem">The essential problem: We end up having different ranges for different roots. Also, we have no direct control over the range of the voicings.
Additionally, it does not feel right for a voicing appear twice in the dictionary, only differing in octave.</p>
<h3 id="what-makes-a-voicing-unpleasant" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>What makes a voicing unpleasant</h3>
<p class="css-1i3mtem">When a voicing gets too low, some intervals at the bottom end are getting so close together that their overtones create nasty dissonances, as they get more and more audible.</p>
<h3 id="solution" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Solution</h3>
<p class="css-1i3mtem">It would be great to control the range directly, not indirectly through the dictionary. Let&#x27;s remove the clutter from our dictionary:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> lefthand <span class="token operator">=</span> <span class="token punctuation">{</span>
  m7<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3m 5P 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10m 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token number">7</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 6M 7m 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7m 9M 10M 13M&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;^7&#x27;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;3M 5P 7M 9M&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;7M 9M 10M 12P&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">Now I want to find a way to get all possible voicings inside a given note range. Lets use:</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">[</span><span class="token string">&#x27;G2&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">like proposed <a target="_blank" href="https://youtu.be/5uoD6LfaDoE?t=523" class="css-1e6egy8">here</a>.</p>
<p class="css-1i3mtem">Now we want this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> possibleVoicings <span class="token operator">=</span> <span class="token function">voicingsInRange</span><span class="token punctuation">(</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> lefthand<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;G2&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* [
  [&#x27;Eb3&#x27;,&#x27;G3&#x27;,&#x27;Bb3&#x27;,&#x27;D4&#x27;],
  [&#x27;Bb2&#x27;,&#x27;D3&#x27;,&#x27;Eb3&#x27;,&#x27;G3&#x27;],
  [&#x27;Bb3&#x27;,&#x27;D4&#x27;,&#x27;Eb4&#x27;,&#x27;G4&#x27;],
]*/</span>
</code></pre>
<p class="css-1i3mtem">Now those 3 voicings are all possible Cm7 voicings inside the given range, using the provided dictionary.</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="82" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="46" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="37" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="1" width="300" height="9"></rect></g><g><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="190" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="154" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="145" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="108.5" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="145" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="108.5" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="82" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="46" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="82" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="46" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="37" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="1" width="300" height="9"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<h3 id="proper-range-implementation" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Proper Range Implementation</h3>
<p class="css-1i3mtem">After some back and forth, I ended up implementing the method like this:</p>
<div style="max-height:400px;overflow:auto;border-radius:10px;margin-bottom:10px"><pre class="language-js"><code class="language-js"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Range</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Interval</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;@tonaljs/tonal&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">voicingsInRange</span><span class="token punctuation">(</span><span class="token parameter">chord<span class="token punctuation">,</span> dictionary<span class="token punctuation">,</span> range</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> tonic<span class="token punctuation">,</span> aliases <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>chord<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// find equivalent symbol that is used as a key in dictionary:</span>
  <span class="token keyword">const</span> symbol <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_symbol</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> aliases<span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span>_symbol<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// resolve array of interval arrays for the wanted symbol</span>
  <span class="token keyword">const</span> voicings <span class="token operator">=</span> dictionary<span class="token punctuation">[</span>symbol<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">intervals</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> intervals<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27; &#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> notesInRange <span class="token operator">=</span> <span class="token maybe-class-name">Range</span><span class="token punctuation">.</span><span class="token method function property-access">chromatic</span><span class="token punctuation">(</span>range<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// gives array of notes inside range</span>
  <span class="token keyword control-flow">return</span> voicings<span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">voiced<span class="token punctuation">,</span> voicing</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// transpose intervals relative to first interval (e.g. 3m 5P &gt; 1P 3M)</span>
    <span class="token keyword">const</span> relativeIntervals <span class="token operator">=</span> voicing<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">interval</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Interval</span><span class="token punctuation">.</span><span class="token method function property-access">substract</span><span class="token punctuation">(</span>interval<span class="token punctuation">,</span> voicing<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// interval from bottom to top note</span>
    <span class="token keyword">const</span> voicingSpan <span class="token operator">=</span> relativeIntervals<span class="token punctuation">[</span>relativeIntervals<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// get enharmonic correct pitch class the bottom note</span>
    <span class="token keyword">const</span> bottomPitchClass <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>tonic<span class="token punctuation">,</span> voicing<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// get all possible start notes for voicing</span>
    <span class="token keyword">const</span> starts <span class="token operator">=</span> notesInRange
      <span class="token comment">// only get the start notes:</span>
      <span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">note</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">chroma</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">chroma</span><span class="token punctuation">(</span>bottomPitchClass<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment">// filter out start notes that will overshoot the top end of the range</span>
      <span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">note</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span><span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>note<span class="token punctuation">,</span> voicingSpan<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span>range<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment">// replace Range.chromatic notes with the correct enharmonic equivalents</span>
      <span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">note</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">enharmonicEquivalent</span><span class="token punctuation">(</span>note<span class="token punctuation">,</span> bottomPitchClass<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// render one voicing for each start note</span>
    <span class="token keyword">const</span> notes <span class="token operator">=</span> starts<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">start</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> relativeIntervals<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">interval</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> voiced<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span>notes<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p class="css-1i3mtem">using <a target="_blank" href="https://github.com/tonaljs/tonal/tree/master/packages/range" class="css-1e6egy8">Range.chromatic</a> to create the range + a custom enharmonicEquivalent function to get the accidentals right.</p>
<h4 id="enharmonic-considerations" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Enharmonic Considerations</h4>
<p class="css-1i3mtem">One tricky part of the implementation above was the enharmonicEquivalent method.</p>
<p class="css-1i3mtem">To understand the problem, let&#x27;s try to create an edge case, by rendering the chord Fm7b5 with a specific voicing:</p>
<div style="max-height:400px;overflow:auto;border-radius:10px;margin-bottom:10px"><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> tonic <span class="token operator">=</span> <span class="token string">&#x27;F&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> voicing <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#x27;5d 7m 8P 10m&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> range <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#x27;A2&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> notesInRange <span class="token operator">=</span> <span class="token maybe-class-name">Range</span><span class="token punctuation">.</span><span class="token method function property-access">chromatic</span><span class="token punctuation">(</span>range<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&#x27;A2&#x27;,&#x27;Bb2&#x27;,&#x27;B2&#x27;,&#x27;C3&#x27;,&#x27;Db3&#x27;,&#x27;D3&#x27;,&#x27;Eb3&#x27;,&#x27;E3&#x27;,&#x27;F3&#x27;,&#x27;Gb3&#x27;,&#x27;G3&#x27;,&#x27;Ab3&#x27;,&#x27;A3&#x27;,&#x27;Bb3&#x27;,&#x27;B3&#x27;,&#x27;C4&#x27;]</span>
voicing <span class="token operator">=</span> voicing<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27; &#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&#x27;5d&#x27;, &#x27;7m&#x27;, &#x27;8P&#x27;, &#x27;10m&#x27;]</span>
<span class="token comment">// map intervals relative to start</span>
<span class="token keyword">const</span> relativeIntervals <span class="token operator">=</span> voicing<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">interval</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Interval</span><span class="token punctuation">.</span><span class="token method function property-access">substract</span><span class="token punctuation">(</span>interval<span class="token punctuation">,</span> voicing<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&#x27;1P&#x27;, &#x27;3M&#x27;, &#x27;4A&#x27;, &#x27;6M&#x27;]</span>
<span class="token comment">// interval from bottom to top note:</span>
<span class="token keyword">const</span> voicingSpan <span class="token operator">=</span> relativeIntervals<span class="token punctuation">[</span>relativeIntervals<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 6M</span>
<span class="token comment">// find out the bottom pitch class</span>
<span class="token keyword">const</span> bottomPitchClass <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>tonic<span class="token punctuation">,</span> voicing<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// F + 5d = Cb</span>
<span class="token comment">// filter the range</span>
<span class="token keyword">let</span> starts <span class="token operator">=</span> notesInRange
  <span class="token comment">// .. only keep notes that are enharmonically equivalent to Cb</span>
  <span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">note</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">chroma</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">chroma</span><span class="token punctuation">(</span>bottomPitchClass<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#x27;B2&#x27;,&#x27;B3&#x27;]</span>
  <span class="token comment">// .. only keep notes that stay within range when added the voicingSpan</span>
  <span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">note</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span><span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>note<span class="token punctuation">,</span> voicingSpan<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span>range<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&#x27;B2&#x27;]</span>
<span class="token comment">// .map(note =&gt; enharmonicEquivalent(note, bottomPitchClass)) // intentionally left out</span>
<span class="token comment">// render one voicing for each start note</span>
<span class="token keyword">const</span> notes <span class="token operator">=</span> starts<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">start</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> relativeIntervals<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">interval</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">transpose</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> interval<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&#x27;1P&#x27;, &#x27;3M&#x27;, &#x27;4A&#x27;, &#x27;6M&#x27;].map((interval) =&gt; Note.transpose(&#x27;B2&#x27;, interval))</span>
<span class="token comment">// yields [&#x27;B2&#x27;,&#x27;D#3&#x27;,&#x27;E#3&#x27;, &#x27;G#3&#x27;]</span>
<span class="token comment">// but we want [&#x27;Cb3&#x27;,&#x27;Eb3&#x27;,&#x27;F3&#x27;,&#x27;Ab3&#x27;]</span>
</code></pre></div>
<p class="css-1i3mtem">So the last piece of the puzzle is a function that turns the B2 to a Cb3 before calculating the notes.</p>
<p class="css-1i3mtem">My first attempt at this was just swapping the octave number:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">enharmonicEquivalent</span><span class="token punctuation">(</span><span class="token parameter">note<span class="token punctuation">,</span> pitchClass</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> oct <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> pitchClass <span class="token operator">+</span> oct<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// enharmonicEquivalent(&#x27;F2&#x27;, &#x27;E#&#x27;) =&gt; E#2 =&gt; fine</span>
<span class="token comment">// enharmonicEquivalent(&#x27;B2&#x27;, &#x27;Cb&#x27;) =&gt; Cb2 =&gt; not fine =&gt; 1 octave too low</span>
<span class="token comment">// enharmonicEquivalent(&#x27;C2&#x27;, &#x27;B#&#x27;) =&gt; B#2 =&gt; not fine =&gt; 1 octave too high</span>
</code></pre>
<p class="css-1i3mtem">But for cases where the enharmonic equivalents have a different octave number, this results in octave shifts.
I finally implemented it like this:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">enharmonicEquivalent</span><span class="token punctuation">(</span>note<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> pitchClass<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> alt<span class="token punctuation">,</span> letter <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>pitchClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> <span class="token punctuation">{</span> oct <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>note<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> letterChroma <span class="token operator">=</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">chroma</span><span class="token punctuation">(</span>letter<span class="token punctuation">)</span> <span class="token operator">+</span> alt<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>letterChroma <span class="token operator">&gt;</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    oct<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>letterChroma <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    oct<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> pitchClass <span class="token operator">+</span> oct<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// enharmonicEquivalent(&#x27;F2&#x27;, &#x27;E#&#x27;) =&gt; E#2 =&gt; fine</span>
<span class="token comment">// enharmonicEquivalent(&#x27;B2&#x27;, &#x27;Cb&#x27;) =&gt; Cb3 =&gt; fine</span>
<span class="token comment">// enharmonicEquivalent(&#x27;C2&#x27;, &#x27;B#&#x27;) =&gt; B#1 =&gt; fine</span>
</code></pre>
<h3 id="conclusion" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Conclusion</h3>
<p class="css-1i3mtem">Finally the &quot;problematic&quot; chord progression sounds like this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-0.5" y="180" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-0.5" y="118.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-0.5" y="93.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-0.5" y="87.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="-0.5" y="62.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="59.5" y="192.5" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="59.5" y="100" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="59.5" y="75" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="59.5" y="56.5" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="59.5" y="31.5" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="179" y="124.5" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="179" y="106" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="179" y="81" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="179" y="62.5" width="120" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="179" y="38" width="120" height="6"></rect></g><g><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="192.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="56.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="31.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="25.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="358.5" y="168" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="358.5" y="75" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="358.5" y="50.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="358.5" y="31.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="358.5" y="7" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="418.5" y="180" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="418.5" y="87.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="418.5" y="62.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="418.5" y="44" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="418.5" y="19.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="478" y="192.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="478" y="100" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="478" y="75" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="478" y="56.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="478" y="31.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="538" y="168" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="538" y="106" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="538" y="81" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="538" y="75" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="538" y="50.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="597.5" y="180" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="597.5" y="118.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="597.5" y="93.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="597.5" y="87.5" width="60" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="597.5" y="62.5" width="60" height="6"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano<span class="token punctuation">,</span> drums <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;Em7&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;Em7&#x27;</span><span class="token punctuation">,</span>
      <span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> duration<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">&#x27;Bm7&#x27;</span><span class="token punctuation">,</span> duration<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicingReducer</span><span class="token punctuation">(</span>lefthand<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C6&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<p class="css-1i3mtem">Now this seems to work perfectly, the only jump remains at the repetition, which could be fixed by regenerating the voicing each round, which I will implement in the future.</p>
<p class="css-1i3mtem">Now to close the gap, here&#x27;s the basic cadence again, this time generated algorithmically:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="181" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="91" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="54.5" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="1" width="300" height="18"></rect></g><g><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="163" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="127" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="73" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="37" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="145" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="108.5" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="54.5" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="19" width="150" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="181" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="91" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="54.5" width="300" height="18"></rect><rect rx="9.090909090909092" ry="9.090909090909092" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="1" width="300" height="18"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>
    <span class="token function">voicingReducer</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span>
        <span class="token constant">M</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;1P 3M 5P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;3M 5P 8P&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;5P 8P 10M&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">]</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<p class="css-1i3mtem">Let&#x27;s try some autumn leaves (with more voicings added to the dictionary):</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="18.5" y="180" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="18.5" y="81" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="18.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="18.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="18.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="149.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="93.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="62.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="56.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="37" y="31.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="192.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="100" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="74.5" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="93" y="161.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="93" y="100" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="93" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="93" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="93" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="130.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="106" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="87.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="112" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="130.5" y="174" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="130.5" y="106" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="130.5" y="87.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="130.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="130.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="168" y="180" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="168" y="81" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="168" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="168" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="168" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="149.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="87.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="62.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="56.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="31.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="196" y="155.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="196" y="93.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="196" y="69" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="196" y="56.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="196" y="25.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="161.5" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="100" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="75" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="69" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="205.5" y="44" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="168" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="106" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="81" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="69" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="214.5" y="38" width="9" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="224" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="224" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="224" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="224" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="224" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="242.5" y="180" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="242.5" y="81" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="242.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="242.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="242.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="149.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="93.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="62.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="56.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="261.5" y="31.5" width="37.5" height="6"></rect></g><g><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="192.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="1" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="317.5" y="161.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="317.5" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="317.5" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="317.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="317.5" y="1" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="130.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="336" y="13" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="355" y="174" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="355" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="355" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="355" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="355" y="13" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="373.5" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="373.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="373.5" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="373.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="373.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="392" y="180" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="392" y="81" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="392" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="392" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="392" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="149.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="93.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="62.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="56.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="411" y="31.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="192.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="100" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="467" y="161.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="467" y="100" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="467" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="467" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="467" y="31.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="130.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="106" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="87.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="485.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="504.5" y="174" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="504.5" y="106" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="504.5" y="87.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="504.5" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="504.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="523" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="523" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="523" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="523" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="523" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="541.5" y="180" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="541.5" y="81" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="541.5" y="56.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="541.5" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="541.5" y="25.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="149.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="93.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="62.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="56.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="560.5" y="31.5" width="37.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="137" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="75" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="62.5" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="44" width="18.5" height="6"></rect><rect rx="3.125" ry="3.125" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="25.5" width="18.5" height="6"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> piano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7b13&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gm6&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7b13&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gm6&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7b13&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gm6&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7b13&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gb7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7b13&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Gm6&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">tieReducer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicingReducer</span><span class="token punctuation">(</span>lefthand<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<h2 id="tbd" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>TBD</h2>
<ul class="css-zoser8">
<li class="css-58pxoz">error handling !</li>
<li class="css-58pxoz">remove hard coded bass from voicingReducer =&gt; add bassReducer</li>
<li class="css-58pxoz">add filterReducer + combineReducers =&gt; apply voicing reducer only to chords</li>
<li class="css-58pxoz">add duplicateReducer (removes duplicate events) =&gt; remove notes that are covered by melody</li>
<li class="css-58pxoz">add rangeReducer (remove notes outside a certain range) =&gt; remove notes above melody</li>
</ul></div></article></main><style data-emotion="css btp6j1">.css-btp6j1{box-sizing:border-box;margin:0;min-width:0;padding:32px;color:#666;text-align:center;font-size:18px;}</style><div class="css-btp6j1"><style data-emotion="css i57cvr">.css-i57cvr{box-sizing:border-box;margin:0;min-width:0;margin-left:16px;margin-right:16px;display:inline-block;}</style><span class="css-i57cvr">Created by <a href="https://github.com/felixroos" class="css-1e6egy8">Felix Roos</a></span></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Rhythmical Chords","date":"2020-07-30","tags":["rhythmical","code"],"description":"To bring rhythmical one step closer to being a hackable backing track player, I want to implement one of the most important things: chord symbols","image":"./img/rhythmical-chords.png"},"code":"var Component=(()=\u003e{var U5=Object.create;var Tu=Object.defineProperty;var $5=Object.getOwnPropertyDescriptor;var H5=Object.getOwnPropertyNames;var Y5=Object.getPrototypeOf,X5=Object.prototype.hasOwnProperty;var Z5=(n,e,r)=\u003ee in n?Tu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r;var Ox=n=\u003eTu(n,\"__esModule\",{value:!0});var v=(n,e)=\u003e()=\u003e(e||n((e={exports:{}}).exports,e),e.exports),K5=(n,e)=\u003e{Ox(n);for(var r in e)Tu(n,r,{get:e[r],enumerable:!0})},Q5=(n,e,r)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let s of H5(e))!X5.call(n,s)\u0026\u0026s!==\"default\"\u0026\u0026Tu(n,s,{get:()=\u003ee[s],enumerable:!(r=$5(e,s))||r.enumerable});return n},it=n=\u003eQ5(Ox(Tu(n!=null?U5(Y5(n)):{},\"default\",n\u0026\u0026n.__esModule\u0026\u0026\"default\"in n?{get:()=\u003en.default,enumerable:!0}:{value:n,enumerable:!0})),n);var Cx=(n,e,r)=\u003e(Z5(n,typeof e!=\"symbol\"?e+\"\":e,r),r);var Rx=v((yhe,Ax)=\u003e{Ax.exports=_jsx_runtime});var wn=v((kh,Ex)=\u003e{(function(n,e){typeof kh==\"object\"\u0026\u0026typeof Ex!=\"undefined\"?e(kh):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Core={}))})(kh,function(n){\"use strict\";var e=function(le,xe){return Array(Math.abs(xe)+1).join(le)};function r(le,xe,Se){return function(){for(var Be=[],Oe=0;Oe\u003carguments.length;Oe++)Be[Oe]=arguments[Oe];return console.warn(le+\" is deprecated. Use \"+xe+\".\"),Se.apply(this,Be)}}function s(le){return le!==null\u0026\u0026typeof le==\"object\"\u0026\u0026typeof le.name==\"string\"}function o(le){return le!==null\u0026\u0026typeof le==\"object\"\u0026\u0026typeof le.step==\"number\"\u0026\u0026typeof le.alt==\"number\"}var c=[0,2,4,-1,1,3,5],p=c.map(function(le){return Math.floor(le*7/12)});function d(le){var xe=le.step,Se=le.alt,Be=le.oct,Oe=le.dir,Pe=Oe===void 0?1:Oe,tt=c[xe]+7*Se;if(Be===void 0)return[Pe*tt];var mt=Be-p[xe]-4*Se;return[Pe*tt,Pe*mt]}var y=[3,0,4,1,5,2,6];function b(le){var xe=le[0],Se=le[1],Be=le[2],Oe=y[w(xe)],Pe=Math.floor((xe+1)/7);if(Se===void 0)return{step:Oe,alt:Pe,dir:Be};var tt=Se+4*Pe+p[Oe];return{step:Oe,alt:Pe,oct:tt,dir:Be}}function w(le){var xe=(le+1)%7;return xe\u003c0?7+xe:xe}var k={empty:!0,name:\"\",pc:\"\",acc:\"\"},S=new Map,L=function(le){return\"CDEFGAB\".charAt(le)},j=function(le){return le\u003c0?e(\"b\",-le):e(\"#\",le)},B=function(le){return le[0]===\"b\"?-le.length:le.length};function ee(le){var xe=S.get(le);if(xe)return xe;var Se=typeof le==\"string\"?H(le):o(le)?ee($(le)):s(le)?ee(le.name):k;return S.set(le,Se),Se}var de=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\\d*)\\s*(.*)$/;function ie(le){var xe=de.exec(le);return[xe[1].toUpperCase(),xe[2].replace(/x/g,\"##\"),xe[3],xe[4]]}function he(le){return ee(b(le))}var G=function(le,xe){return(le%xe+xe)%xe},R=[0,2,4,5,7,9,11];function H(le){var xe=ie(le);if(xe[0]===\"\"||xe[3]!==\"\")return k;var Se=xe[0],Be=xe[1],Oe=xe[2],Pe=(Se.charCodeAt(0)+3)%7,tt=B(Be),mt=Oe.length?+Oe:void 0,Zt=d({step:Pe,alt:tt,oct:mt}),An=Se+Be+Oe,Et=Se+Be,Rn=(R[Pe]+tt+120)%12,En=mt===void 0?G(R[Pe]+tt,12)-12*99:R[Pe]+tt+12*(mt+1),Cr=En\u003e=0\u0026\u0026En\u003c=127?En:null,vr=mt===void 0?null:Math.pow(2,(En-69)/12)*440;return{empty:!1,acc:Be,alt:tt,chroma:Rn,coord:Zt,freq:vr,height:En,letter:Se,midi:Cr,name:An,oct:mt,pc:Et,step:Pe}}function $(le){var xe=le.step,Se=le.alt,Be=le.oct,Oe=L(xe);if(!Oe)return\"\";var Pe=Oe+j(Se);return Be||Be===0?Pe+Be:Pe}var se={empty:!0,name:\"\",acc:\"\"},ue=\"([-+]?\\\\d+)(d{1,4}|m|M|P|A{1,4})\",Ne=\"(AA|A|P|M|m|d|dd)([-+]?\\\\d+)\",be=new RegExp(\"^\"+ue+\"|\"+Ne+\"$\");function Re(le){var xe=be.exec(\"\"+le);return xe===null?[\"\",\"\"]:xe[1]?[xe[1],xe[2]]:[xe[4],xe[3]]}var ze={};function He(le){return typeof le==\"string\"?ze[le]||(ze[le]=Y(le)):o(le)?He(me(le)):s(le)?He(le.name):se}var X=[0,2,4,5,7,9,11],oe=\"PMMPPMM\";function Y(le){var xe=Re(le);if(xe[0]===\"\")return se;var Se=+xe[0],Be=xe[1],Oe=(Math.abs(Se)-1)%7,Pe=oe[Oe];if(Pe===\"M\"\u0026\u0026Be===\"P\")return se;var tt=Pe===\"M\"?\"majorable\":\"perfectable\",mt=\"\"+Se+Be,Zt=Se\u003c0?-1:1,An=Se===8||Se===-8?Se:Zt*(Oe+1),Et=ge(tt,Be),Rn=Math.floor((Math.abs(Se)-1)/7),En=Zt*(X[Oe]+Et+12*Rn),Cr=(Zt*(X[Oe]+Et)%12+12)%12,vr=d({step:Oe,alt:Et,oct:Rn,dir:Zt});return{empty:!1,name:mt,num:Se,q:Be,step:Oe,alt:Et,dir:Zt,type:tt,simple:An,semitones:En,chroma:Cr,coord:vr,oct:Rn}}function J(le){var xe=le[0],Se=le[1],Be=Se===void 0?0:Se,Oe=xe*7+Be*12\u003c0,Pe=Oe?[-xe,-Be,-1]:[xe,Be,1];return He(b(Pe))}function ge(le,xe){return xe===\"M\"\u0026\u0026le===\"majorable\"||xe===\"P\"\u0026\u0026le===\"perfectable\"?0:xe===\"m\"\u0026\u0026le===\"majorable\"?-1:/^A+$/.test(xe)?xe.length:/^d+$/.test(xe)?-1*(le===\"perfectable\"?xe.length:xe.length+1):0}function me(le){var xe=le.step,Se=le.alt,Be=le.oct,Oe=Be===void 0?0:Be,Pe=le.dir;if(!Pe)return\"\";var tt=xe+1+7*Oe,mt=Pe\u003c0?\"-\":\"\",Zt=oe[xe]===\"M\"?\"majorable\":\"perfectable\",An=mt+tt+Le(Zt,Se);return An}function Le(le,xe){return xe===0?le===\"majorable\"?\"M\":\"P\":xe===-1\u0026\u0026le===\"majorable\"?\"m\":xe\u003e0?e(\"A\",xe):e(\"d\",le===\"perfectable\"?xe:xe+1)}function Qe(le,xe){var Se=ee(le),Be=He(xe);if(Se.empty||Be.empty)return\"\";var Oe=Se.coord,Pe=Be.coord,tt=Oe.length===1?[Oe[0]+Pe[0]]:[Oe[0]+Pe[0],Oe[1]+Pe[1]];return he(tt).name}function ft(le,xe){var Se=ee(le),Be=ee(xe);if(Se.empty||Be.empty)return\"\";var Oe=Se.coord,Pe=Be.coord,tt=Pe[0]-Oe[0],mt=Oe.length===2\u0026\u0026Pe.length===2?Pe[1]-Oe[1]:-Math.floor(tt*7/12);return J([tt,mt]).name}n.accToAlt=B,n.altToAcc=j,n.coordToInterval=J,n.coordToNote=he,n.decode=b,n.deprecate=r,n.distance=ft,n.encode=d,n.fillStr=e,n.interval=He,n.isNamed=s,n.isPitch=o,n.note=ee,n.stepToLetter=L,n.tokenizeInterval=Re,n.tokenizeNote=ie,n.transpose=Qe,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Dx=v((Nh,jx)=\u003e{(function(n,e){typeof Nh==\"object\"\u0026\u0026typeof jx!=\"undefined\"?e(Nh,wn()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.AbcNotation={},n.core))})(Nh,function(n,e){\"use strict\";var r=function(w,k){return Array(k+1).join(w)},s=/^(_{1,}|=|\\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function o(w){var k=s.exec(w);return k?[k[1],k[2],k[3]]:[\"\",\"\",\"\"]}function c(w){var k=o(w),S=k[0],L=k[1],j=k[2];if(L===\"\")return\"\";for(var B=4,ee=0;ee\u003cj.length;ee++)B+=j.charAt(ee)===\",\"?-1:1;var de=S[0]===\"_\"?S.replace(/_/g,\"b\"):S[0]===\"^\"?S.replace(/\\^/g,\"#\"):\"\";return L.charCodeAt(0)\u003e96?L.toUpperCase()+de+(B+1):L+de+B}function p(w){var k=e.note(w);if(k.empty||!k.oct\u0026\u0026k.oct!==0)return\"\";var S=k.letter,L=k.acc,j=k.oct,B=L[0]===\"b\"?L.replace(/b/g,\"_\"):L.replace(/#/g,\"^\"),ee=j\u003e4?S.toLowerCase():S,de=j===5?\"\":j\u003e4?r(\"'\",j-5):r(\",\",4-j);return B+ee+de}function d(w,k){return p(e.transpose(c(w),k))}function y(w,k){return e.distance(c(w),c(k))}var b={abcToScientificNotation:c,scientificToAbcNotation:p,tokenize:o,transpose:d,distance:y};n.abcToScientificNotation=c,n.default=b,n.distance=y,n.scientificToAbcNotation=p,n.tokenize=o,n.transpose=d,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Fx=v((wh,Ix)=\u003e{(function(n,e){typeof wh==\"object\"\u0026\u0026typeof Ix!=\"undefined\"?e(wh,wn()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Array={},n.core))})(wh,function(n,e){\"use strict\";function r(k,S){for(var L=[];S--;L[S]=S+k);return L}function s(k,S){for(var L=[];S--;L[S]=k-S);return L}function o(k,S){return k\u003cS?r(k,S-k+1):s(k,k-S+1)}function c(k,S){var L=S.length,j=(k%L+L)%L;return S.slice(j,L).concat(S.slice(0,j))}function p(k){return k.filter(function(S){return S===0||S})}function d(k){var S=k.map(function(L){return e.note(L)}).filter(function(L){return!L.empty});return S.sort(function(L,j){return L.height-j.height}).map(function(L){return L.name})}function y(k){return d(k).filter(function(S,L,j){return L===0||S!==j[L-1]})}function b(k,S){S===void 0\u0026\u0026(S=Math.random);for(var L,j,B=k.length;B;)L=Math.floor(S()*B--),j=k[B],k[B]=k[L],k[L]=j;return k}function w(k){return k.length===0?[[]]:w(k.slice(1)).reduce(function(S,L){return S.concat(k.map(function(j,B){var ee=L.slice();return ee.splice(B,0,k[0]),ee}))},[])}n.compact=p,n.permutations=w,n.range=o,n.rotate=c,n.shuffle=b,n.sortedNoteNames=d,n.sortedUniqNoteNames=y,Object.defineProperty(n,\"__esModule\",{value:!0})})});var oo=v((qh,Vx)=\u003e{(function(n,e){typeof qh==\"object\"\u0026\u0026typeof Vx!=\"undefined\"?e(qh):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Collection={}))})(qh,function(n){\"use strict\";function e(b,w){for(var k=[];w--;k[w]=w+b);return k}function r(b,w){for(var k=[];w--;k[w]=b-w);return k}function s(b,w){return b\u003cw?e(b,w-b+1):r(b,b-w+1)}function o(b,w){var k=w.length,S=(b%k+k)%k;return w.slice(S,k).concat(w.slice(0,S))}function c(b){return b.filter(function(w){return w===0||w})}function p(b,w){w===void 0\u0026\u0026(w=Math.random);for(var k,S,L=b.length;L;)k=Math.floor(w()*L--),S=b[L],b[L]=b[k],b[k]=S;return b}function d(b){return b.length===0?[[]]:d(b.slice(1)).reduce(function(w,k){return w.concat(b.map(function(S,L){var j=k.slice();return j.splice(L,0,b[0]),j}))},[])}var y={compact:c,permutations:d,range:s,rotate:o,shuffle:p};n.compact=c,n.default=y,n.permutations=d,n.range=s,n.rotate=o,n.shuffle=p,Object.defineProperty(n,\"__esModule\",{value:!0})})});var ss=v((Th,Lx)=\u003e{(function(n,e){typeof Th==\"object\"\u0026\u0026typeof Lx!=\"undefined\"?e(Th,oo(),wn()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Pcset={},n.collection,n.core))})(Th,function(n,e,r){\"use strict\";var s,o={empty:!0,name:\"\",setNum:0,chroma:\"000000000000\",normalized:\"000000000000\",intervals:[]},c=function(X){return Number(X).toString(2)},p=function(X){return parseInt(X,2)},d=/^[01]{12}$/;function y(X){return d.test(X)}var b=function(X){return typeof X==\"number\"\u0026\u0026X\u003e=0\u0026\u0026X\u003c=4095},w=function(X){return X\u0026\u0026y(X.chroma)},k=(s={},s[o.chroma]=o,s);function S(X){var oe=y(X)?X:b(X)?c(X):Array.isArray(X)?He(X):w(X)?X.chroma:o.chroma;return k[oe]=k[oe]||ze(oe)}var L=r.deprecate(\"Pcset.pcset\",\"Pcset.get\",S),j=function(X){return S(X).chroma},B=function(X){return S(X).intervals},ee=function(X){return S(X).setNum},de=[\"1P\",\"2m\",\"2M\",\"3m\",\"3M\",\"4P\",\"5d\",\"5P\",\"6m\",\"6M\",\"7m\",\"7M\"];function ie(X){for(var oe=[],Y=0;Y\u003c12;Y++)X.charAt(Y)===\"1\"\u0026\u0026oe.push(de[Y]);return oe}function he(){return e.range(2048,4095).map(c)}function G(X,oe){oe===void 0\u0026\u0026(oe=!0);var Y=S(X),J=Y.chroma.split(\"\");return e.compact(J.map(function(ge,me){var Le=e.rotate(me,J);return oe\u0026\u0026Le[0]===\"0\"?null:Le.join(\"\")}))}function R(X,oe){return S(X).setNum===S(oe).setNum}function H(X){var oe=S(X).setNum;return function(Y){var J=S(Y).setNum;return oe\u0026\u0026oe!==J\u0026\u0026(J\u0026oe)===J}}function $(X){var oe=S(X).setNum;return function(Y){var J=S(Y).setNum;return oe\u0026\u0026oe!==J\u0026\u0026(J|oe)===J}}function se(X){var oe=S(X);return function(Y){var J=r.note(Y);return oe\u0026\u0026!J.empty\u0026\u0026oe.chroma.charAt(J.chroma)===\"1\"}}var ue=se;function Ne(X){var oe=se(X);return function(Y){return Y.filter(oe)}}var be={get:S,chroma:j,num:ee,intervals:B,chromas:he,isSupersetOf:$,isSubsetOf:H,isNoteIncludedIn:se,isEqual:R,filter:Ne,modes:G,pcset:L};function Re(X){var oe=X.split(\"\");return oe.map(function(Y,J){return e.rotate(J,oe).join(\"\")})}function ze(X){var oe=p(X),Y=Re(X).map(p).filter(function(me){return me\u003e=2048}).sort()[0],J=c(Y),ge=ie(X);return{empty:!1,name:\"\",setNum:oe,chroma:X,normalized:J,intervals:ge}}function He(X){if(X.length===0)return o.chroma;for(var oe,Y=[0,0,0,0,0,0,0,0,0,0,0,0],J=0;J\u003cX.length;J++)oe=r.note(X[J]),oe.empty\u0026\u0026(oe=r.interval(X[J])),oe.empty||(Y[oe.chroma]=1);return Y.join(\"\")}n.EmptyPcset=o,n.chromaToIntervals=ie,n.chromas=he,n.default=be,n.filter=Ne,n.get=S,n.includes=ue,n.isEqual=R,n.isNoteIncludedIn=se,n.isSubsetOf=H,n.isSupersetOf=$,n.modes=G,n.pcset=L,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Mu=v((Mh,Wx)=\u003e{(function(n,e){typeof Mh==\"object\"\u0026\u0026typeof Wx!=\"undefined\"?e(Mh,wn(),ss()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.ChordType={},n.core,n.pcset))})(Mh,function(n,e,r){\"use strict\";var s=function(){return s=Object.assign||function(R){for(var H,$=1,se=arguments.length;$\u003cse;$++){H=arguments[$];for(var ue in H)Object.prototype.hasOwnProperty.call(H,ue)\u0026\u0026(R[ue]=H[ue])}return R},s.apply(this,arguments)},o=[[\"1P 3M 5P\",\"major\",\"M ^ \"],[\"1P 3M 5P 7M\",\"major seventh\",\"maj7 \\u0394 ma7 M7 Maj7 ^7\"],[\"1P 3M 5P 7M 9M\",\"major ninth\",\"maj9 \\u03949 ^9\"],[\"1P 3M 5P 7M 9M 13M\",\"major thirteenth\",\"maj13 Maj13 ^13\"],[\"1P 3M 5P 6M\",\"sixth\",\"6 add6 add13 M6\"],[\"1P 3M 5P 6M 9M\",\"sixth/ninth\",\"6/9 69 M69\"],[\"1P 3M 6m 7M\",\"major seventh flat sixth\",\"M7b6 ^7b6\"],[\"1P 3M 5P 7M 11A\",\"major seventh sharp eleventh\",\"maj#4 \\u0394#4 \\u0394#11 M7#11 ^7#11 maj7#11\"],[\"1P 3m 5P\",\"minor\",\"m min -\"],[\"1P 3m 5P 7m\",\"minor seventh\",\"m7 min7 mi7 -7\"],[\"1P 3m 5P 7M\",\"minor/major seventh\",\"m/ma7 m/maj7 mM7 mMaj7 m/M7 -\\u03947 m\\u0394 -^7\"],[\"1P 3m 5P 6M\",\"minor sixth\",\"m6 -6\"],[\"1P 3m 5P 7m 9M\",\"minor ninth\",\"m9 -9\"],[\"1P 3m 5P 7M 9M\",\"minor/major ninth\",\"mM9 mMaj9 -^9\"],[\"1P 3m 5P 7m 9M 11P\",\"minor eleventh\",\"m11 -11\"],[\"1P 3m 5P 7m 9M 13M\",\"minor thirteenth\",\"m13 -13\"],[\"1P 3m 5d\",\"diminished\",\"dim \\xB0 o\"],[\"1P 3m 5d 7d\",\"diminished seventh\",\"dim7 \\xB07 o7\"],[\"1P 3m 5d 7m\",\"half-diminished\",\"m7b5 \\xF8 -7b5 h7 h\"],[\"1P 3M 5P 7m\",\"dominant seventh\",\"7 dom\"],[\"1P 3M 5P 7m 9M\",\"dominant ninth\",\"9\"],[\"1P 3M 5P 7m 9M 13M\",\"dominant thirteenth\",\"13\"],[\"1P 3M 5P 7m 11A\",\"lydian dominant seventh\",\"7#11 7#4\"],[\"1P 3M 5P 7m 9m\",\"dominant flat ninth\",\"7b9\"],[\"1P 3M 5P 7m 9A\",\"dominant sharp ninth\",\"7#9\"],[\"1P 3M 7m 9m\",\"altered\",\"alt7\"],[\"1P 4P 5P\",\"suspended fourth\",\"sus4 sus\"],[\"1P 2M 5P\",\"suspended second\",\"sus2\"],[\"1P 4P 5P 7m\",\"suspended fourth seventh\",\"7sus4 7sus\"],[\"1P 5P 7m 9M 11P\",\"eleventh\",\"11\"],[\"1P 4P 5P 7m 9m\",\"suspended fourth flat ninth\",\"b9sus phryg 7b9sus 7b9sus4\"],[\"1P 5P\",\"fifth\",\"5\"],[\"1P 3M 5A\",\"augmented\",\"aug + +5 ^#5\"],[\"1P 3m 5A\",\"minor augmented\",\"m#5 -#5 m+\"],[\"1P 3M 5A 7M\",\"augmented seventh\",\"maj7#5 maj7+5 +maj7 ^7#5\"],[\"1P 3M 5P 7M 9M 11A\",\"major sharp eleventh (lydian)\",\"maj9#11 \\u03949#11 ^9#11\"],[\"1P 2M 4P 5P\",\"\",\"sus24 sus4add9\"],[\"1P 3M 5A 7M 9M\",\"\",\"maj9#5 Maj9#5\"],[\"1P 3M 5A 7m\",\"\",\"7#5 +7 7+ 7aug aug7\"],[\"1P 3M 5A 7m 9A\",\"\",\"7#5#9 7#9#5 7alt\"],[\"1P 3M 5A 7m 9M\",\"\",\"9#5 9+\"],[\"1P 3M 5A 7m 9M 11A\",\"\",\"9#5#11\"],[\"1P 3M 5A 7m 9m\",\"\",\"7#5b9 7b9#5\"],[\"1P 3M 5A 7m 9m 11A\",\"\",\"7#5b9#11\"],[\"1P 3M 5A 9A\",\"\",\"+add#9\"],[\"1P 3M 5A 9M\",\"\",\"M#5add9 +add9\"],[\"1P 3M 5P 6M 11A\",\"\",\"M6#11 M6b5 6#11 6b5\"],[\"1P 3M 5P 6M 7M 9M\",\"\",\"M7add13\"],[\"1P 3M 5P 6M 9M 11A\",\"\",\"69#11\"],[\"1P 3m 5P 6M 9M\",\"\",\"m69 -69\"],[\"1P 3M 5P 6m 7m\",\"\",\"7b6\"],[\"1P 3M 5P 7M 9A 11A\",\"\",\"maj7#9#11\"],[\"1P 3M 5P 7M 9M 11A 13M\",\"\",\"M13#11 maj13#11 M13+4 M13#4\"],[\"1P 3M 5P 7M 9m\",\"\",\"M7b9\"],[\"1P 3M 5P 7m 11A 13m\",\"\",\"7#11b13 7b5b13\"],[\"1P 3M 5P 7m 13M\",\"\",\"7add6 67 7add13\"],[\"1P 3M 5P 7m 9A 11A\",\"\",\"7#9#11 7b5#9 7#9b5\"],[\"1P 3M 5P 7m 9A 11A 13M\",\"\",\"13#9#11\"],[\"1P 3M 5P 7m 9A 11A 13m\",\"\",\"7#9#11b13\"],[\"1P 3M 5P 7m 9A 13M\",\"\",\"13#9\"],[\"1P 3M 5P 7m 9A 13m\",\"\",\"7#9b13\"],[\"1P 3M 5P 7m 9M 11A\",\"\",\"9#11 9+4 9#4\"],[\"1P 3M 5P 7m 9M 11A 13M\",\"\",\"13#11 13+4 13#4\"],[\"1P 3M 5P 7m 9M 11A 13m\",\"\",\"9#11b13 9b5b13\"],[\"1P 3M 5P 7m 9m 11A\",\"\",\"7b9#11 7b5b9 7b9b5\"],[\"1P 3M 5P 7m 9m 11A 13M\",\"\",\"13b9#11\"],[\"1P 3M 5P 7m 9m 11A 13m\",\"\",\"7b9b13#11 7b9#11b13 7b5b9b13\"],[\"1P 3M 5P 7m 9m 13M\",\"\",\"13b9\"],[\"1P 3M 5P 7m 9m 13m\",\"\",\"7b9b13\"],[\"1P 3M 5P 7m 9m 9A\",\"\",\"7b9#9\"],[\"1P 3M 5P 9M\",\"\",\"Madd9 2 add9 add2\"],[\"1P 3M 5P 9m\",\"\",\"Maddb9\"],[\"1P 3M 5d\",\"\",\"Mb5\"],[\"1P 3M 5d 6M 7m 9M\",\"\",\"13b5\"],[\"1P 3M 5d 7M\",\"\",\"M7b5\"],[\"1P 3M 5d 7M 9M\",\"\",\"M9b5\"],[\"1P 3M 5d 7m\",\"\",\"7b5\"],[\"1P 3M 5d 7m 9M\",\"\",\"9b5\"],[\"1P 3M 7m\",\"\",\"7no5\"],[\"1P 3M 7m 13m\",\"\",\"7b13\"],[\"1P 3M 7m 9M\",\"\",\"9no5\"],[\"1P 3M 7m 9M 13M\",\"\",\"13no5\"],[\"1P 3M 7m 9M 13m\",\"\",\"9b13\"],[\"1P 3m 4P 5P\",\"\",\"madd4\"],[\"1P 3m 5P 6m 7M\",\"\",\"mMaj7b6\"],[\"1P 3m 5P 6m 7M 9M\",\"\",\"mMaj9b6\"],[\"1P 3m 5P 7m 11P\",\"\",\"m7add11 m7add4\"],[\"1P 3m 5P 9M\",\"\",\"madd9\"],[\"1P 3m 5d 6M 7M\",\"\",\"o7M7\"],[\"1P 3m 5d 7M\",\"\",\"oM7\"],[\"1P 3m 6m 7M\",\"\",\"mb6M7\"],[\"1P 3m 6m 7m\",\"\",\"m7#5\"],[\"1P 3m 6m 7m 9M\",\"\",\"m9#5\"],[\"1P 3m 5A 7m 9M 11P\",\"\",\"m11A\"],[\"1P 3m 6m 9m\",\"\",\"mb6b9\"],[\"1P 2M 3m 5d 7m\",\"\",\"m9b5\"],[\"1P 4P 5A 7M\",\"\",\"M7#5sus4\"],[\"1P 4P 5A 7M 9M\",\"\",\"M9#5sus4\"],[\"1P 4P 5A 7m\",\"\",\"7#5sus4\"],[\"1P 4P 5P 7M\",\"\",\"M7sus4\"],[\"1P 4P 5P 7M 9M\",\"\",\"M9sus4\"],[\"1P 4P 5P 7m 9M\",\"\",\"9sus4 9sus\"],[\"1P 4P 5P 7m 9M 13M\",\"\",\"13sus4 13sus\"],[\"1P 4P 5P 7m 9m 13m\",\"\",\"7sus4b9b13 7b9b13sus4\"],[\"1P 4P 7m 10m\",\"\",\"4 quartal\"],[\"1P 5P 7m 9m 11P\",\"\",\"11b9\"]],c=s(s({},r.EmptyPcset),{name:\"\",quality:\"Unknown\",intervals:[],aliases:[]}),p=[],d={};function y(G){return d[G]||c}var b=e.deprecate(\"ChordType.chordType\",\"ChordType.get\",y);function w(){return p.map(function(G){return G.name}).filter(function(G){return G})}function k(){return p.map(function(G){return G.aliases[0]}).filter(function(G){return G})}function S(){return Object.keys(d)}function L(){return p.slice()}var j=e.deprecate(\"ChordType.entries\",\"ChordType.all\",L);function B(){p=[],d={}}function ee(G,R,H){var $=ie(G),se=s(s({},r.get(G)),{name:H||\"\",quality:$,intervals:G,aliases:R});p.push(se),se.name\u0026\u0026(d[se.name]=se),d[se.setNum]=se,d[se.chroma]=se,se.aliases.forEach(function(ue){return de(se,ue)})}function de(G,R){d[R]=G}function ie(G){var R=function(H){return G.indexOf(H)!==-1};return R(\"5A\")?\"Augmented\":R(\"3M\")?\"Major\":R(\"5d\")?\"Diminished\":R(\"3m\")?\"Minor\":\"Unknown\"}o.forEach(function(G){var R=G[0],H=G[1],$=G[2];return ee(R.split(\" \"),$.split(\" \"),H)}),p.sort(function(G,R){return G.setNum-R.setNum});var he={names:w,symbols:k,get:y,all:L,add:ee,removeAll:B,keys:S,entries:j,chordType:b};n.add=ee,n.addAlias=de,n.all=L,n.chordType=b,n.default=he,n.entries=j,n.get=y,n.keys=S,n.names=w,n.removeAll=B,n.symbols=k,Object.defineProperty(n,\"__esModule\",{value:!0})})});var zx=v((Sh,Bx)=\u003e{(function(n,e){typeof Sh==\"object\"\u0026\u0026typeof Bx!=\"undefined\"?e(Sh,Mu(),wn(),ss()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord-type\",\"@tonaljs/core\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.ChordDetect={},n.chordType,n.core,n.pcset))})(Sh,function(n,e,r,s){\"use strict\";var o=function(y){var b=y.reduce(function(w,k){var S=r.note(k).chroma;return S!==void 0\u0026\u0026(w[S]=w[S]||r.note(k).name),w},{});return function(w){return b[w]}};function c(y){var b=y.map(function(k){return r.note(k).pc}).filter(function(k){return k});if(r.note.length===0)return[];var w=p(b,1);return w.filter(function(k){return k.weight}).sort(function(k,S){return S.weight-k.weight}).map(function(k){return k.name})}function p(y,b){var w=y[0],k=r.note(w).chroma,S=o(y),L=s.modes(y,!1),j=[];return L.forEach(function(B,ee){var de=e.all().filter(function(ie){return ie.chroma===B});de.forEach(function(ie){var he=ie.aliases[0],G=S(ee),R=ee!==k;R?j.push({weight:.5*b,name:\"\"+G+he+\"/\"+w}):j.push({weight:1*b,name:\"\"+G+he})})}),j}var d={detect:c};n.default=d,n.detect=c,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Oh=v((Ph,Gx)=\u003e{(function(n,e){typeof Ph==\"object\"\u0026\u0026typeof Gx!=\"undefined\"?e(Ph,wn(),ss()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.ScaleType={},n.core,n.pcset))})(Ph,function(n,e,r){\"use strict\";var s=function(){return s=Object.assign||function(he){for(var G,R=1,H=arguments.length;R\u003cH;R++){G=arguments[R];for(var $ in G)Object.prototype.hasOwnProperty.call(G,$)\u0026\u0026(he[$]=G[$])}return he},s.apply(this,arguments)},o=[[\"1P 2M 3M 5P 6M\",\"major pentatonic\",\"pentatonic\"],[\"1P 3M 4P 5P 7M\",\"ionian pentatonic\"],[\"1P 3M 4P 5P 7m\",\"mixolydian pentatonic\",\"indian\"],[\"1P 2M 4P 5P 6M\",\"ritusen\"],[\"1P 2M 4P 5P 7m\",\"egyptian\"],[\"1P 3M 4P 5d 7m\",\"neopolitan major pentatonic\"],[\"1P 3m 4P 5P 6m\",\"vietnamese 1\"],[\"1P 2m 3m 5P 6m\",\"pelog\"],[\"1P 2m 4P 5P 6m\",\"kumoijoshi\"],[\"1P 2M 3m 5P 6m\",\"hirajoshi\"],[\"1P 2m 4P 5d 7m\",\"iwato\"],[\"1P 2m 4P 5P 7m\",\"in-sen\"],[\"1P 3M 4A 5P 7M\",\"lydian pentatonic\",\"chinese\"],[\"1P 3m 4P 6m 7m\",\"malkos raga\"],[\"1P 3m 4P 5d 7m\",\"locrian pentatonic\",\"minor seven flat five pentatonic\"],[\"1P 3m 4P 5P 7m\",\"minor pentatonic\",\"vietnamese 2\"],[\"1P 3m 4P 5P 6M\",\"minor six pentatonic\"],[\"1P 2M 3m 5P 6M\",\"flat three pentatonic\",\"kumoi\"],[\"1P 2M 3M 5P 6m\",\"flat six pentatonic\"],[\"1P 2m 3M 5P 6M\",\"scriabin\"],[\"1P 3M 5d 6m 7m\",\"whole tone pentatonic\"],[\"1P 3M 4A 5A 7M\",\"lydian #5P pentatonic\"],[\"1P 3M 4A 5P 7m\",\"lydian dominant pentatonic\"],[\"1P 3m 4P 5P 7M\",\"minor #7M pentatonic\"],[\"1P 3m 4d 5d 7m\",\"super locrian pentatonic\"],[\"1P 2M 3m 4P 5P 7M\",\"minor hexatonic\"],[\"1P 2A 3M 5P 5A 7M\",\"augmented\"],[\"1P 2M 3m 3M 5P 6M\",\"major blues\"],[\"1P 2M 4P 5P 6M 7m\",\"piongio\"],[\"1P 2m 3M 4A 6M 7m\",\"prometheus neopolitan\"],[\"1P 2M 3M 4A 6M 7m\",\"prometheus\"],[\"1P 2m 3M 5d 6m 7m\",\"mystery #1\"],[\"1P 2m 3M 4P 5A 6M\",\"six tone symmetric\"],[\"1P 2M 3M 4A 5A 7m\",\"whole tone\",\"messiaen's mode #1\"],[\"1P 2m 4P 4A 5P 7M\",\"messiaen's mode #5\"],[\"1P 3m 4P 5d 5P 7m\",\"minor blues\",\"blues\"],[\"1P 2M 3M 4P 5d 6m 7m\",\"locrian major\",\"arabian\"],[\"1P 2m 3M 4A 5P 6m 7M\",\"double harmonic lydian\"],[\"1P 2M 3m 4P 5P 6m 7M\",\"harmonic minor\"],[\"1P 2m 2A 3M 4A 6m 7m\",\"altered\",\"super locrian\",\"diminished whole tone\",\"pomeroy\"],[\"1P 2M 3m 4P 5d 6m 7m\",\"locrian #2\",\"half-diminished\",\"aeolian b5\"],[\"1P 2M 3M 4P 5P 6m 7m\",\"mixolydian b6\",\"melodic minor fifth mode\",\"hindu\"],[\"1P 2M 3M 4A 5P 6M 7m\",\"lydian dominant\",\"lydian b7\",\"overtone\"],[\"1P 2M 3M 4A 5P 6M 7M\",\"lydian\"],[\"1P 2M 3M 4A 5A 6M 7M\",\"lydian augmented\"],[\"1P 2m 3m 4P 5P 6M 7m\",\"dorian b2\",\"phrygian #6\",\"melodic minor second mode\"],[\"1P 2M 3m 4P 5P 6M 7M\",\"melodic minor\"],[\"1P 2m 3m 4P 5d 6m 7m\",\"locrian\"],[\"1P 2m 3m 4d 5d 6m 7d\",\"ultralocrian\",\"superlocrian bb7\",\"\\xB7superlocrian diminished\"],[\"1P 2m 3m 4P 5d 6M 7m\",\"locrian 6\",\"locrian natural 6\",\"locrian sharp 6\"],[\"1P 2A 3M 4P 5P 5A 7M\",\"augmented heptatonic\"],[\"1P 2M 3m 5d 5P 6M 7m\",\"romanian minor\"],[\"1P 2M 3m 4A 5P 6M 7m\",\"dorian #4\"],[\"1P 2M 3m 4A 5P 6M 7M\",\"lydian diminished\"],[\"1P 2m 3m 4P 5P 6m 7m\",\"phrygian\"],[\"1P 2M 3M 4A 5A 7m 7M\",\"leading whole tone\"],[\"1P 2M 3M 4A 5P 6m 7m\",\"lydian minor\"],[\"1P 2m 3M 4P 5P 6m 7m\",\"phrygian dominant\",\"spanish\",\"phrygian major\"],[\"1P 2m 3m 4P 5P 6m 7M\",\"balinese\"],[\"1P 2m 3m 4P 5P 6M 7M\",\"neopolitan major\"],[\"1P 2M 3m 4P 5P 6m 7m\",\"aeolian\",\"minor\"],[\"1P 2M 3M 4P 5P 6m 7M\",\"harmonic major\"],[\"1P 2m 3M 4P 5P 6m 7M\",\"double harmonic major\",\"gypsy\"],[\"1P 2M 3m 4P 5P 6M 7m\",\"dorian\"],[\"1P 2M 3m 4A 5P 6m 7M\",\"hungarian minor\"],[\"1P 2A 3M 4A 5P 6M 7m\",\"hungarian major\"],[\"1P 2m 3M 4P 5d 6M 7m\",\"oriental\"],[\"1P 2m 3m 3M 4A 5P 7m\",\"flamenco\"],[\"1P 2m 3m 4A 5P 6m 7M\",\"todi raga\"],[\"1P 2M 3M 4P 5P 6M 7m\",\"mixolydian\",\"dominant\"],[\"1P 2m 3M 4P 5d 6m 7M\",\"persian\"],[\"1P 2M 3M 4P 5P 6M 7M\",\"major\",\"ionian\"],[\"1P 2m 3M 5d 6m 7m 7M\",\"enigmatic\"],[\"1P 2M 3M 4P 5A 6M 7M\",\"major augmented\",\"major #5\",\"ionian augmented\",\"ionian #5\"],[\"1P 2A 3M 4A 5P 6M 7M\",\"lydian #9\"],[\"1P 2m 2M 4P 4A 5P 6m 7M\",\"messiaen's mode #4\"],[\"1P 2m 3M 4P 4A 5P 6m 7M\",\"purvi raga\"],[\"1P 2m 3m 3M 4P 5P 6m 7m\",\"spanish heptatonic\"],[\"1P 2M 3M 4P 5P 6M 7m 7M\",\"bebop\"],[\"1P 2M 3m 3M 4P 5P 6M 7m\",\"bebop minor\"],[\"1P 2M 3M 4P 5P 5A 6M 7M\",\"bebop major\"],[\"1P 2m 3m 4P 5d 5P 6m 7m\",\"bebop locrian\"],[\"1P 2M 3m 4P 5P 6m 7m 7M\",\"minor bebop\"],[\"1P 2M 3m 4P 5d 6m 6M 7M\",\"diminished\",\"whole-half diminished\"],[\"1P 2M 3M 4P 5d 5P 6M 7M\",\"ichikosucho\"],[\"1P 2M 3m 4P 5P 6m 6M 7M\",\"minor six diminished\"],[\"1P 2m 3m 3M 4A 5P 6M 7m\",\"half-whole diminished\",\"dominant diminished\",\"messiaen's mode #2\"],[\"1P 3m 3M 4P 5P 6M 7m 7M\",\"kafi raga\"],[\"1P 2M 3M 4P 4A 5A 6A 7M\",\"messiaen's mode #6\"],[\"1P 2M 3m 3M 4P 5d 5P 6M 7m\",\"composite blues\"],[\"1P 2M 3m 3M 4A 5P 6m 7m 7M\",\"messiaen's mode #3\"],[\"1P 2m 2M 3m 4P 4A 5P 6m 6M 7M\",\"messiaen's mode #7\"],[\"1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M\",\"chromatic\"]],c=s(s({},r.EmptyPcset),{intervals:[],aliases:[]}),p=[],d={};function y(){return p.map(function(ie){return ie.name})}function b(ie){return d[ie]||c}var w=e.deprecate(\"ScaleDictionary.scaleType\",\"ScaleType.get\",b);function k(){return p.slice()}var S=e.deprecate(\"ScaleDictionary.entries\",\"ScaleType.all\",k);function L(){return Object.keys(d)}function j(){p=[],d={}}function B(ie,he,G){G===void 0\u0026\u0026(G=[]);var R=s(s({},r.get(ie)),{name:he,intervals:ie,aliases:G});return p.push(R),d[R.name]=R,d[R.setNum]=R,d[R.chroma]=R,R.aliases.forEach(function(H){return ee(R,H)}),R}function ee(ie,he){d[he]=ie}o.forEach(function(ie){var he=ie[0],G=ie[1],R=ie.slice(2);return B(he.split(\" \"),G,R)});var de={names:y,get:b,all:k,add:B,removeAll:j,keys:L,entries:S,scaleType:w};n.NoScaleType=c,n.add=B,n.addAlias=ee,n.all=k,n.default=de,n.entries=S,n.get=b,n.keys=L,n.names=y,n.removeAll=j,n.scaleType=w,Object.defineProperty(n,\"__esModule\",{value:!0})})});var vm=v((Ch,Ux)=\u003e{(function(n,e){typeof Ch==\"object\"\u0026\u0026typeof Ux!=\"undefined\"?e(Ch,zx(),Mu(),wn(),ss(),Oh()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord-detect\",\"@tonaljs/chord-type\",\"@tonaljs/core\",\"@tonaljs/pcset\",\"@tonaljs/scale-type\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Chord={},n.chordDetect,n.chordType,n.core,n.pcset,n.scaleType))})(Ch,function(n,e,r,s,o,c){\"use strict\";var p=function(){return p=Object.assign||function(he){for(var G,R=1,H=arguments.length;R\u003cH;R++){G=arguments[R];for(var $ in G)Object.prototype.hasOwnProperty.call(G,$)\u0026\u0026(he[$]=G[$])}return he},p.apply(this,arguments)},d={empty:!0,name:\"\",symbol:\"\",root:\"\",rootDegree:0,type:\"\",tonic:null,setNum:NaN,quality:\"Unknown\",chroma:\"\",normalized:\"\",aliases:[],notes:[],intervals:[]},y=/^(6|64|7|9|11|13)$/;function b(ie){var he=s.tokenizeNote(ie),G=he[0],R=he[1],H=he[2],$=he[3];return G===\"\"?[\"\",ie]:G===\"A\"\u0026\u0026$===\"ug\"?[\"\",\"aug\"]:!$\u0026\u0026(H===\"4\"||H===\"5\")?[G+R,H]:y.test(H)?[G+R,H+$]:[G+R+H,$]}function w(ie){if(ie===\"\")return d;if(Array.isArray(ie)\u0026\u0026ie.length===2)return k(ie[1],ie[0]);var he=b(ie),G=he[0],R=he[1],H=k(R,G);return H.empty?k(ie):H}function k(ie,he,G){var R=r.get(ie),H=s.note(he||\"\"),$=s.note(G||\"\");if(R.empty||he\u0026\u0026H.empty||G\u0026\u0026$.empty)return d;var se=s.distance(H.pc,$.pc),ue=R.intervals.indexOf(se)+1;if(!$.empty\u0026\u0026!ue)return d;for(var Ne=Array.from(R.intervals),be=1;be\u003cue;be++){var Re=Ne[0][0],ze=Ne[0][1],He=parseInt(Re,10)+7;Ne.push(\"\"+He+ze),Ne.shift()}var X=H.empty?[]:Ne.map(function(J){return s.transpose(H,J)});ie=R.aliases.indexOf(ie)!==-1?ie:R.aliases[0];var oe=\"\"+(H.empty?\"\":H.pc)+ie+($.empty||ue\u003c=1?\"\":\"/\"+$.pc),Y=\"\"+(he?H.pc+\" \":\"\")+R.name+(ue\u003e1\u0026\u0026G?\" over \"+$.pc:\"\");return p(p({},R),{name:Y,symbol:oe,type:R.name,root:$.name,intervals:Ne,rootDegree:ue,tonic:H.name,notes:X})}var S=s.deprecate(\"Chord.chord\",\"Chord.get\",w);function L(ie,he){var G=b(ie),R=G[0],H=G[1];return R?s.transpose(R,he)+H:ie}function j(ie){var he=w(ie),G=o.isSupersetOf(he.chroma);return c.all().filter(function(R){return G(R.chroma)}).map(function(R){return R.name})}function B(ie){var he=w(ie),G=o.isSupersetOf(he.chroma);return r.all().filter(function(R){return G(R.chroma)}).map(function(R){return he.tonic+R.aliases[0]})}function ee(ie){var he=w(ie),G=o.isSubsetOf(he.chroma);return r.all().filter(function(R){return G(R.chroma)}).map(function(R){return he.tonic+R.aliases[0]})}var de={getChord:k,get:w,detect:e.detect,chordScales:j,extended:B,reduced:ee,tokenize:b,transpose:L,chord:S};Object.defineProperty(n,\"detect\",{enumerable:!0,get:function(){return e.detect}}),n.chord=S,n.chordScales=j,n.default=de,n.extended=B,n.get=w,n.getChord=k,n.reduced=ee,n.tokenize=b,n.transpose=L,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Hx=v((Ah,$x)=\u003e{(function(n,e){typeof Ah==\"object\"\u0026\u0026typeof $x!=\"undefined\"?e(Ah):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.DurationValue={}))})(Ah,function(n){\"use strict\";var e=function(){return e=Object.assign||function(B){for(var ee,de=1,ie=arguments.length;de\u003cie;de++){ee=arguments[de];for(var he in ee)Object.prototype.hasOwnProperty.call(ee,he)\u0026\u0026(B[he]=ee[he])}return B},e.apply(this,arguments)},r=[[.125,\"dl\",[\"large\",\"duplex longa\",\"maxima\",\"octuple\",\"octuple whole\"]],[.25,\"l\",[\"long\",\"longa\"]],[.5,\"d\",[\"double whole\",\"double\",\"breve\"]],[1,\"w\",[\"whole\",\"semibreve\"]],[2,\"h\",[\"half\",\"minim\"]],[4,\"q\",[\"quarter\",\"crotchet\"]],[8,\"e\",[\"eighth\",\"quaver\"]],[16,\"s\",[\"sixteenth\",\"semiquaver\"]],[32,\"t\",[\"thirty-second\",\"demisemiquaver\"]],[64,\"sf\",[\"sixty-fourth\",\"hemidemisemiquaver\"]],[128,\"h\",[\"hundred twenty-eighth\"]],[256,\"th\",[\"two hundred fifty-sixth\"]]],s=[];r.forEach(function(j){var B=j[0],ee=j[1],de=j[2];return S(B,ee,de)});var o={empty:!0,name:\"\",value:0,fraction:[0,0],shorthand:\"\",dots:\"\",names:[]};function c(){return s.reduce(function(j,B){return B.names.forEach(function(ee){return j.push(ee)}),j},[])}function p(){return s.map(function(j){return j.shorthand})}var d=/^([^.]+)(\\.*)$/;function y(j){var B=d.exec(j)||[];B[0];var ee=B[1],de=B[2],ie=s.find(function(R){return R.shorthand===ee||R.names.includes(ee)});if(!ie)return o;var he=L(ie.fraction,de.length),G=he[0]/he[1];return e(e({},ie),{name:j,dots:de,value:G,fraction:he})}var b=function(j){return y(j).value},w=function(j){return y(j).fraction},k={names:c,shorthands:p,get:y,value:b,fraction:w};function S(j,B,ee){s.push({empty:!1,dots:\"\",name:\"\",value:1/j,fraction:j\u003c1?[1/j,1]:[1,j],shorthand:B,names:ee})}function L(j,B){for(var ee=Math.pow(2,B),de=j[0]*ee,ie=j[1]*ee,he=de,G=0;G\u003cB;G++)de+=he/Math.pow(2,G+1);for(;de%2==0\u0026\u0026ie%2==0;)de/=2,ie/=2;return[de,ie]}n.default=k,n.fraction=w,n.get=y,n.names=c,n.shorthands=p,n.value=b,Object.defineProperty(n,\"__esModule\",{value:!0})})});var gm=v((Rh,Yx)=\u003e{(function(n,e){typeof Rh==\"object\"\u0026\u0026typeof Yx!=\"undefined\"?e(Rh,wn()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Interval={},n.core))})(Rh,function(n,e){\"use strict\";function r(){return\"1P 2M 3M 4P 5P 6m 7m\".split(\" \")}var s=e.interval,o=function(G){return e.interval(G).name},c=function(G){return e.interval(G).semitones},p=function(G){return e.interval(G).q},d=function(G){return e.interval(G).num};function y(G){var R=e.interval(G);return R.empty?\"\":R.simple+R.q}function b(G){var R=e.interval(G);if(R.empty)return\"\";var H=(7-R.step)%7,$=R.type===\"perfectable\"?-R.alt:-(R.alt+1);return e.interval({step:H,alt:$,oct:R.oct,dir:R.dir}).name}var w=[1,2,2,3,3,4,5,5,6,6,7,7],k=\"P m M m M P d P m M m M\".split(\" \");function S(G){var R=G\u003c0?-1:1,H=Math.abs(G),$=H%12,se=Math.floor(H/12);return R*(w[$]+7*se)+k[$]}var L=e.distance,j=he(function(G,R){return[G[0]+R[0],G[1]+R[1]]}),B=function(G){return function(R){return j(G,R)}},ee=he(function(G,R){return[G[0]-R[0],G[1]-R[1]]});function de(G,R){var H=s(G);if(H.empty)return\"\";var $=H.coord,se=$[0],ue=$[1],Ne=$[2];return e.coordToInterval([se+R,ue,Ne]).name}var ie={names:r,get:s,name:o,num:d,semitones:c,quality:p,fromSemitones:S,distance:L,invert:b,simplify:y,add:j,addTo:B,substract:ee,transposeFifths:de};function he(G){return function(R,H){var $=e.interval(R).coord,se=e.interval(H).coord;if($\u0026\u0026se){var ue=G($,se);return e.coordToInterval(ue).name}}}n.add=j,n.addTo=B,n.default=ie,n.distance=L,n.fromSemitones=S,n.get=s,n.invert=b,n.name=o,n.names=r,n.num=d,n.quality=p,n.semitones=c,n.simplify=y,n.substract=ee,n.transposeFifths=de,Object.defineProperty(n,\"__esModule\",{value:!0})})});var jh=v((Eh,Xx)=\u003e{(function(n,e){typeof Eh==\"object\"\u0026\u0026typeof Xx!=\"undefined\"?e(Eh,wn()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Midi={},n.core))})(Eh,function(n,e){\"use strict\";function r(S){return+S\u003e=0\u0026\u0026+S\u003c=127}function s(S){if(r(S))return+S;var L=e.note(S);return L.empty?null:L.midi}function o(S,L){return L===void 0\u0026\u0026(L=440),Math.pow(2,(S-69)/12)*L}var c=Math.log(2),p=Math.log(440);function d(S){var L=12*(Math.log(S)-p)/c+69;return Math.round(L*100)/100}var y=\"C C# D D# E F F# G G# A A# B\".split(\" \"),b=\"C Db D Eb E F Gb G Ab A Bb B\".split(\" \");function w(S,L){if(L===void 0\u0026\u0026(L={}),isNaN(S)||S===-1/0||S===1/0)return\"\";S=Math.round(S);var j=L.sharps===!0?y:b,B=j[S%12];if(L.pitchClass)return B;var ee=Math.floor(S/12)-1;return B+ee}var k={isMidi:r,toMidi:s,midiToFreq:o,midiToNoteName:w,freqToMidi:d};n.default=k,n.freqToMidi=d,n.isMidi=r,n.midiToFreq=o,n.midiToNoteName=w,n.toMidi=s,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Ih=v((Dh,Zx)=\u003e{(function(n,e){typeof Dh==\"object\"\u0026\u0026typeof Zx!=\"undefined\"?e(Dh,wn(),jh()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/midi\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Note={},n.core,n.midi$1))})(Dh,function(n,e,r){\"use strict\";var s=[\"C\",\"D\",\"E\",\"F\",\"G\",\"A\",\"B\"],o=function(J){return J.name},c=function(J){return J.map(e.note).filter(function(ge){return!ge.empty})};function p(J){return J===void 0?s.slice():Array.isArray(J)?c(J).map(o):[]}var d=e.note,y=function(J){return d(J).name},b=function(J){return d(J).pc},w=function(J){return d(J).acc},k=function(J){return d(J).oct},S=function(J){return d(J).midi},L=function(J){return d(J).freq},j=function(J){return d(J).chroma};function B(J){return r.midiToNoteName(J)}function ee(J){return r.midiToNoteName(r.freqToMidi(J))}function de(J){return r.midiToNoteName(r.freqToMidi(J),{sharps:!0})}function ie(J){return r.midiToNoteName(J,{sharps:!0})}var he=e.transpose,G=e.transpose,R=function(J){return function(ge){return he(ge,J)}},H=R,$=function(J){return function(ge){return he(J,ge)}},se=$;function ue(J,ge){var me=d(J);if(me.empty)return\"\";var Le=me.coord,Qe=Le[0],ft=Le[1],le=ft===void 0?e.coordToNote([Qe+ge]):e.coordToNote([Qe+ge,ft]);return le.name}var Ne=ue,be=function(J,ge){return J.height-ge.height},Re=function(J,ge){return ge.height-J.height};function ze(J,ge){return ge=ge||be,c(J).sort(ge).map(o)}function He(J){return ze(J,be).filter(function(ge,me,Le){return me===0||ge!==Le[me-1]})}var X=function(J){var ge=d(J);return ge.empty?\"\":r.midiToNoteName(ge.midi||ge.chroma,{sharps:ge.alt\u003e0,pitchClass:ge.midi===null})};function oe(J,ge){var me=d(J);if(me.empty)return\"\";var Le=d(ge||r.midiToNoteName(me.midi||me.chroma,{sharps:me.alt\u003c0,pitchClass:!0}));if(Le.empty||Le.chroma!==me.chroma)return\"\";if(me.oct===void 0)return Le.pc;var Qe=me.chroma-me.alt,ft=Le.chroma-Le.alt,le=Qe\u003e11||ft\u003c0?-1:Qe\u003c0||ft\u003e11?1:0,xe=me.oct+le;return Le.pc+xe}var Y={names:p,get:d,name:y,pitchClass:b,accidentals:w,octave:k,midi:S,ascending:be,descending:Re,sortedNames:ze,sortedUniqNames:He,fromMidi:B,fromMidiSharps:ie,freq:L,fromFreq:ee,fromFreqSharps:de,chroma:j,transpose:he,tr:G,transposeBy:R,trBy:H,transposeFrom:$,trFrom:se,transposeFifths:ue,trFifths:Ne,simplify:X,enharmonic:oe};n.accidentals=w,n.ascending=be,n.chroma=j,n.default=Y,n.descending=Re,n.enharmonic=oe,n.freq=L,n.fromFreq=ee,n.fromFreqSharps=de,n.fromMidi=B,n.fromMidiSharps=ie,n.get=d,n.midi=S,n.name=y,n.names=p,n.octave=k,n.pitchClass=b,n.simplify=X,n.sortedNames=ze,n.sortedUniqNames=He,n.tr=G,n.trBy=H,n.trFifths=Ne,n.trFrom=se,n.transpose=he,n.transposeBy=R,n.transposeFifths=ue,n.transposeFrom=$,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Vh=v((Fh,Kx)=\u003e{(function(n,e){typeof Fh==\"object\"\u0026\u0026typeof Kx!=\"undefined\"?e(Fh,wn()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.RomanNumeral={},n.core))})(Fh,function(n,e){\"use strict\";var r={empty:!0,name:\"\",chordType:\"\"},s={};function o(B){return typeof B==\"string\"?s[B]||(s[B]=L(B)):typeof B==\"number\"?o(k[B]||\"\"):e.isPitch(B)?d(B):e.isNamed(B)?o(B.name):r}var c=e.deprecate(\"RomanNumeral.romanNumeral\",\"RomanNumeral.get\",o);function p(B){return B===void 0\u0026\u0026(B=!0),(B?k:S).slice()}function d(B){return o(e.altToAcc(B.alt)+k[B.step])}var y=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function b(B){return y.exec(B)||[\"\",\"\",\"\",\"\"]}var w=\"I II III IV V VI VII\",k=w.split(\" \"),S=w.toLowerCase().split(\" \");function L(B){var ee=b(B),de=ee[0],ie=ee[1],he=ee[2],G=ee[3];if(!he)return r;var R=he.toUpperCase(),H=k.indexOf(R),$=e.accToAlt(ie),se=1;return{empty:!1,name:de,roman:he,interval:e.interval({step:H,alt:$,dir:se}).name,acc:ie,chordType:G,alt:$,step:H,major:he===R,oct:0,dir:se}}var j={names:p,get:o,romanNumeral:c};n.default=j,n.get=o,n.names=p,n.tokenize=b,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Jx=v((Lh,Qx)=\u003e{(function(n,e){typeof Lh==\"object\"\u0026\u0026typeof Qx!=\"undefined\"?e(Lh,wn(),Ih(),Vh()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/note\",\"@tonaljs/roman-numeral\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Key={},n.core,n.note,n.romanNumeral))})(Lh,function(n,e,r,s){\"use strict\";var o=function(){return o=Object.assign||function(H){for(var $,se=1,ue=arguments.length;se\u003cue;se++){$=arguments[se];for(var Ne in $)Object.prototype.hasOwnProperty.call($,Ne)\u0026\u0026(H[Ne]=$[Ne])}return H},o.apply(this,arguments)},c=Object.freeze([]),p={type:\"major\",tonic:\"\",alteration:0,keySignature:\"\"},d={tonic:\"\",grades:c,intervals:c,scale:c,chords:c,chordsHarmonicFunction:c,chordScales:c},y=o(o(o({},p),d),{type:\"major\",minorRelative:\"\",scale:c,secondaryDominants:c,secondaryDominantsMinorRelative:c,substituteDominants:c,substituteDominantsMinorRelative:c}),b=o(o({},p),{type:\"minor\",relativeMajor:\"\",natural:d,harmonic:d,melodic:d}),w=function(R,H,$){return $===void 0\u0026\u0026($=\"\"),H.map(function(se,ue){return\"\"+R[ue]+$+se})};function k(R,H,$,se){return function(ue){var Ne=R.map(function(Re){return s.get(Re).interval||\"\"}),be=Ne.map(function(Re){return e.transpose(ue,Re)});return{tonic:ue,grades:R,intervals:Ne,scale:be,chords:w(be,H),chordsHarmonicFunction:$.slice(),chordScales:w(be,se,\" \")}}}var S=function(R,H){var $=e.note(R),se=e.note(H);return $.empty||se.empty?0:se.coord[0]-$.coord[0]},L=k(\"I II III IV V VI VII\".split(\" \"),\"maj7 m7 m7 maj7 7 m7 m7b5\".split(\" \"),\"T SD T SD D T D\".split(\" \"),\"major,dorian,phrygian,lydian,mixolydian,minor,locrian\".split(\",\")),j=k(\"I II bIII IV V bVI bVII\".split(\" \"),\"m7 m7b5 maj7 m7 m7 maj7 7\".split(\" \"),\"T SD T SD D SD SD\".split(\" \"),\"minor,locrian,major,dorian,phrygian,lydian,mixolydian\".split(\",\")),B=k(\"I II bIII IV V bVI VII\".split(\" \"),\"mMaj7 m7b5 +maj7 m7 7 maj7 o7\".split(\" \"),\"T SD T SD D SD D\".split(\" \"),\"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian\".split(\",\")),ee=k(\"I II bIII IV V VI VII\".split(\" \"),\"m6 m7 +maj7 7 7 m7b5 m7b5\".split(\" \"),\"T SD T SD D  \".split(\" \"),\"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered\".split(\",\"));function de(R){var H=e.note(R).pc;if(!H)return y;var $=L(H),se=S(\"C\",H),ue=function(Ne){var be=s.get(Ne);return be.empty?\"\":e.transpose(R,be.interval)+be.chordType};return o(o({},$),{type:\"major\",minorRelative:e.transpose(H,\"-3m\"),alteration:se,keySignature:e.altToAcc(se),secondaryDominants:\"- VI7 VII7 I7 II7 III7 -\".split(\" \").map(ue),secondaryDominantsMinorRelative:\"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -\".split(\" \").map(ue),substituteDominants:\"- bIII7 IV7 bV7 bVI7 bVII7 -\".split(\" \").map(ue),substituteDominantsMinorRelative:\"- IIIm7 Im7 IIbm7 VIm7 IVm7 -\".split(\" \").map(ue)})}function ie(R){var H=e.note(R).pc;if(!H)return b;var $=S(\"C\",H)-3;return{type:\"minor\",tonic:H,relativeMajor:e.transpose(H,\"3m\"),alteration:$,keySignature:e.altToAcc($),natural:j(H),harmonic:B(H),melodic:ee(H)}}function he(R){return typeof R==\"number\"?r.transposeFifths(\"C\",R):typeof R==\"string\"\u0026\u0026/^b+|#+$/.test(R)?r.transposeFifths(\"C\",e.accToAlt(R)):null}var G={majorKey:de,majorTonicFromKeySignature:he,minorKey:ie};n.default=G,n.majorKey=de,n.majorTonicFromKeySignature=he,n.minorKey=ie,Object.defineProperty(n,\"__esModule\",{value:!0})})});var tk=v((Wh,ek)=\u003e{(function(n,e){typeof Wh==\"object\"\u0026\u0026typeof ek!=\"undefined\"?e(Wh,oo(),wn(),gm(),ss()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/interval\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Mode={},n.collection,n.core,n.interval,n.pcset))})(Wh,function(n,e,r,s,o){\"use strict\";var c=function(){return c=Object.assign||function(se){for(var ue,Ne=1,be=arguments.length;Ne\u003cbe;Ne++){ue=arguments[Ne];for(var Re in ue)Object.prototype.hasOwnProperty.call(ue,Re)\u0026\u0026(se[Re]=ue[Re])}return se},c.apply(this,arguments)},p=[[0,2773,0,\"ionian\",\"\",\"Maj7\",\"major\"],[1,2902,2,\"dorian\",\"m\",\"m7\"],[2,3418,4,\"phrygian\",\"m\",\"m7\"],[3,2741,-1,\"lydian\",\"\",\"Maj7\"],[4,2774,1,\"mixolydian\",\"\",\"7\"],[5,2906,3,\"aeolian\",\"m\",\"m7\",\"minor\"],[6,3434,5,\"locrian\",\"dim\",\"m7b5\"]],d=c(c({},o.EmptyPcset),{name:\"\",alt:0,modeNum:NaN,triad:\"\",seventh:\"\",aliases:[]}),y=p.map(B),b={};y.forEach(function($){b[$.name]=$,$.aliases.forEach(function(se){b[se]=$})});function w($){return typeof $==\"string\"?b[$.toLowerCase()]||d:$\u0026\u0026$.name?w($.name):d}var k=r.deprecate(\"Mode.mode\",\"Mode.get\",w);function S(){return y.slice()}var L=r.deprecate(\"Mode.mode\",\"Mode.all\",S);function j(){return y.map(function($){return $.name})}function B($){var se=$[0],ue=$[1],Ne=$[2],be=$[3],Re=$[4],ze=$[5],He=$[6],X=He?[He]:[],oe=Number(ue).toString(2),Y=o.chromaToIntervals(oe);return{empty:!1,intervals:Y,modeNum:se,chroma:oe,normalized:oe,name:be,setNum:ue,alt:Ne,triad:Re,seventh:ze,aliases:X}}function ee($,se){return w($).intervals.map(function(ue){return r.transpose(se,ue)})}function de($){return function(se,ue){var Ne=w(se);if(Ne.empty)return[];var be=e.rotate(Ne.modeNum,$),Re=Ne.intervals.map(function(ze){return r.transpose(ue,ze)});return be.map(function(ze,He){return Re[He]+ze})}}var ie=de(p.map(function($){return $[4]})),he=de(p.map(function($){return $[5]}));function G($,se){var ue=w(se),Ne=w($);return ue.empty||Ne.empty?\"\":s.simplify(s.transposeFifths(\"1P\",Ne.alt-ue.alt))}function R($,se,ue){return r.transpose(ue,G($,se))}var H={get:w,names:j,all:S,distance:G,relativeTonic:R,notes:ee,triads:ie,seventhChords:he,entries:L,mode:k};n.all=S,n.default=H,n.distance=G,n.entries=L,n.get=w,n.mode=k,n.names=j,n.notes=ee,n.relativeTonic=R,n.seventhChords=he,n.triads=ie,Object.defineProperty(n,\"__esModule\",{value:!0})})});var rk=v((Bh,nk)=\u003e{(function(n,e){typeof Bh==\"object\"\u0026\u0026typeof nk!=\"undefined\"?e(Bh,vm(),wn(),Vh()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord\",\"@tonaljs/core\",\"@tonaljs/roman-numeral\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Progression={},n.chord,n.core,n.romanNumeral))})(Bh,function(n,e,r,s){\"use strict\";function o(d,y){var b=y.map(s.get);return b.map(function(w){return r.transpose(d,r.interval(w))+w.chordType})}function c(d,y){return y.map(function(b){var w=e.tokenize(b),k=w[0],S=w[1],L=r.distance(d,k),j=s.get(r.interval(L));return j.name+S})}var p={fromRomanNumerals:o,toRomanNumerals:c};n.default=p,n.fromRomanNumerals=o,n.toRomanNumerals=c,Object.defineProperty(n,\"__esModule\",{value:!0})})});var sk=v((zh,ak)=\u003e{(function(n,e){typeof zh==\"object\"\u0026\u0026typeof ak!=\"undefined\"?e(zh,oo(),jh()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/midi\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Range={},n.collection,n.midi))})(zh,function(n,e,r){\"use strict\";function s(p){var d=e.compact(p.map(r.toMidi));return!p.length||d.length!==p.length?[]:d.reduce(function(y,b){var w=y[y.length-1];return y.concat(e.range(w,b).slice(1))},[d[0]])}function o(p,d){return s(p).map(function(y){return r.midiToNoteName(y,d)})}var c={numeric:s,chromatic:o};n.chromatic=o,n.default=c,n.numeric=s,Object.defineProperty(n,\"__esModule\",{value:!0})})});var ok=v((Gh,ik)=\u003e{(function(n,e){typeof Gh==\"object\"\u0026\u0026typeof ik!=\"undefined\"?e(Gh,Mu(),oo(),wn(),Ih(),ss(),Oh()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord-type\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/note\",\"@tonaljs/pcset\",\"@tonaljs/scale-type\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Scale={},n.chordType,n.collection,n.core,n.note,n.pcset,n.scaleType))})(Gh,function(n,e,r,s,o,c,p){\"use strict\";var d=function(){return d=Object.assign||function(H){for(var $,se=1,ue=arguments.length;se\u003cue;se++){$=arguments[se];for(var Ne in $)Object.prototype.hasOwnProperty.call($,Ne)\u0026\u0026(H[Ne]=$[Ne])}return H},d.apply(this,arguments)},y={empty:!0,name:\"\",type:\"\",tonic:null,setNum:NaN,chroma:\"\",normalized:\"\",aliases:[],notes:[],intervals:[]};function b(R){if(typeof R!=\"string\")return[\"\",\"\"];var H=R.indexOf(\" \"),$=s.note(R.substring(0,H));if($.empty){var se=s.note(R);return se.empty?[\"\",R]:[se.name,\"\"]}var ue=R.substring($.name.length+1);return[$.name,ue.length?ue:\"\"]}var w=p.names;function k(R){var H=Array.isArray(R)?R:b(R),$=s.note(H[0]).name,se=p.get(H[1]);if(se.empty)return y;var ue=se.name,Ne=$?se.intervals.map(function(Re){return s.transpose($,Re)}):[],be=$?$+\" \"+ue:ue;return d(d({},se),{name:be,type:ue,tonic:$,notes:Ne})}var S=s.deprecate(\"Scale.scale\",\"Scale.get\",k);function L(R){var H=k(R),$=c.isSubsetOf(H.chroma);return e.all().filter(function(se){return $(se.chroma)}).map(function(se){return se.aliases[0]})}function j(R){var H=k(R),$=c.isSupersetOf(H.chroma);return p.all().filter(function(se){return $(se.chroma)}).map(function(se){return se.name})}function B(R){var H=c.isSubsetOf(k(R).chroma);return p.all().filter(function($){return H($.chroma)}).map(function($){return $.name})}function ee(R){var H=R.map(function(ue){return s.note(ue).pc}).filter(function(ue){return ue}),$=H[0],se=o.sortedUniqNames(H);return r.rotate(se.indexOf($),se)}function de(R){var H=k(R);if(H.empty)return[];var $=H.tonic?H.notes:H.intervals;return c.modes(H.chroma).map(function(se,ue){var Ne=k(se).name;return Ne?[$[ue],Ne]:[\"\",\"\"]}).filter(function(se){return se[0]})}function ie(R){var H=Array.isArray(R)?ee(R):k(R).notes,$=H.map(function(se){return s.note(se).chroma});return function(se){var ue=typeof se==\"number\"?s.note(o.fromMidi(se)):s.note(se),Ne=ue.height;if(Ne!==void 0){var be=Ne%12,Re=$.indexOf(be);if(Re!==-1)return o.enharmonic(ue.name,H[Re])}}}function he(R){var H=ie(R);return function($,se){var ue=s.note($).height,Ne=s.note(se).height;return ue===void 0||Ne===void 0?[]:r.range(ue,Ne).map(H).filter(function(be){return be})}}var G={get:k,names:w,extended:j,modeNames:de,reduced:B,scaleChords:L,scaleNotes:ee,tokenize:b,rangeOf:he,scale:S};n.default=G,n.extended=j,n.get=k,n.modeNames=de,n.names=w,n.rangeOf=he,n.reduced=B,n.scale=S,n.scaleChords=L,n.scaleNotes=ee,n.tokenize=b,Object.defineProperty(n,\"__esModule\",{value:!0})})});var ck=v((Uh,uk)=\u003e{(function(n,e){typeof Uh==\"object\"\u0026\u0026typeof uk!=\"undefined\"?e(Uh):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.TimeSignature={}))})(Uh,function(n){\"use strict\";var e={empty:!0,name:\"\",upper:void 0,lower:void 0,type:void 0,additive:[]},r=[\"4/4\",\"3/4\",\"2/4\",\"2/2\",\"12/8\",\"9/8\",\"6/8\",\"3/8\"];function s(){return r.slice()}var o=/^(\\d?\\d(?:\\+\\d)*)\\/(\\d)$/,c=new Map;function p(w){var k=c.get(w);if(k)return k;var S=b(d(w));return c.set(w,S),S}function d(w){if(typeof w==\"string\"){var k=o.exec(w)||[];k[0];var S=k[1],L=k[2];return d([S,L])}var j=w[0],B=w[1],ee=+B;if(typeof j==\"number\")return[j,ee];var de=j.split(\"+\").map(function(ie){return+ie});return de.length===1?[de[0],ee]:[de,ee]}var y={names:s,parse:d,get:p};function b(w){var k=w[0],S=w[1],L=Array.isArray(k)?k.reduce(function(ie,he){return ie+he},0):k,j=S;if(L===0||j===0)return e;var B=Array.isArray(k)?k.join(\"+\")+\"/\"+S:k+\"/\"+S,ee=Array.isArray(k)?k:[],de=j===4||j===2?\"simple\":j===8\u0026\u0026L%3==0?\"compound\":\"irregular\";return{empty:!1,name:B,type:de,upper:L,lower:j,additive:ee}}n.default=y,n.get=p,n.names=s,n.parse=d,Object.defineProperty(n,\"__esModule\",{value:!0})})});var is=v(($h,lk)=\u003e{(function(n,e){typeof $h==\"object\"\u0026\u0026typeof lk!=\"undefined\"?e($h,Dx(),Fx(),vm(),Mu(),oo(),wn(),Hx(),gm(),Jx(),jh(),tk(),Ih(),ss(),rk(),sk(),Vh(),ok(),Oh(),ck()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/abc-notation\",\"@tonaljs/array\",\"@tonaljs/chord\",\"@tonaljs/chord-type\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/duration-value\",\"@tonaljs/interval\",\"@tonaljs/key\",\"@tonaljs/midi\",\"@tonaljs/mode\",\"@tonaljs/note\",\"@tonaljs/pcset\",\"@tonaljs/progression\",\"@tonaljs/range\",\"@tonaljs/roman-numeral\",\"@tonaljs/scale\",\"@tonaljs/scale-type\",\"@tonaljs/time-signature\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Tonal={},n.abcNotation,n.array,n.chord,n.ChordType,n.collection,n.Core,n.durationValue,n.interval,n.key,n.midi,n.mode,n.note,n.Pcset,n.progression,n.range,n.romanNumeral,n.scale,n.ScaleType,n.timeSignature))})($h,function(n,e,r,s,o,c,p,d,y,b,w,k,S,L,j,B,ee,de,ie,he){\"use strict\";function G(Pe){return Pe\u0026\u0026typeof Pe==\"object\"\u0026\u0026\"default\"in Pe?Pe:{default:Pe}}function R(Pe){if(Pe\u0026\u0026Pe.__esModule)return Pe;var tt=Object.create(null);return Pe\u0026\u0026Object.keys(Pe).forEach(function(mt){if(mt!==\"default\"){var Zt=Object.getOwnPropertyDescriptor(Pe,mt);Object.defineProperty(tt,mt,Zt.get?Zt:{enumerable:!0,get:function(){return Pe[mt]}})}}),tt.default=Pe,Object.freeze(tt)}var H=G(e),$=R(r),se=G(s),ue=G(o),Ne=G(c),be=R(p),Re=G(d),ze=G(y),He=G(b),X=G(w),oe=G(k),Y=G(S),J=G(L),ge=G(j),me=G(B),Le=G(ee),Qe=G(de),ft=G(ie),le=G(he),xe=be,Se=J.default,Be=ue.default,Oe=ft.default;Object.defineProperty(n,\"AbcNotation\",{enumerable:!0,get:function(){return H.default}}),n.Array=$,Object.defineProperty(n,\"Chord\",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(n,\"ChordType\",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(n,\"Collection\",{enumerable:!0,get:function(){return Ne.default}}),n.Core=be,Object.defineProperty(n,\"DurationValue\",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(n,\"Interval\",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(n,\"Key\",{enumerable:!0,get:function(){return He.default}}),Object.defineProperty(n,\"Midi\",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(n,\"Mode\",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(n,\"Note\",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(n,\"Pcset\",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(n,\"Progression\",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(n,\"Range\",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(n,\"RomanNumeral\",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(n,\"Scale\",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(n,\"ScaleType\",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(n,\"TimeSignature\",{enumerable:!0,get:function(){return le.default}}),n.ChordDictionary=Be,n.PcSet=Se,n.ScaleDictionary=Oe,n.Tonal=xe,Object.keys(p).forEach(function(Pe){Pe!==\"default\"\u0026\u0026!n.hasOwnProperty(Pe)\u0026\u0026Object.defineProperty(n,Pe,{enumerable:!0,get:function(){return p[Pe]}})}),Object.defineProperty(n,\"__esModule\",{value:!0})})});var pk=v((bhe,hk)=\u003e{var eF=function(){return!1};hk.exports=eF});var ym=v((xhe,dk)=\u003e{var tF=function(){return!0};dk.exports=tF});var _m=v((khe,fk)=\u003e{fk.exports={\"@@functional/placeholder\":!0}});var Pu=v((Nhe,mk)=\u003e{function nF(n){return n!=null\u0026\u0026typeof n==\"object\"\u0026\u0026n[\"@@functional/placeholder\"]===!0}mk.exports=nF});var Ve=v((whe,vk)=\u003e{var rF=Pu();function aF(n){return function e(r){return arguments.length===0||rF(r)?e:n.apply(this,arguments)}}vk.exports=aF});var ne=v((qhe,gk)=\u003e{var bm=Ve(),Ou=Pu();function sF(n){return function e(r,s){switch(arguments.length){case 0:return e;case 1:return Ou(r)?e:bm(function(o){return n(r,o)});default:return Ou(r)\u0026\u0026Ou(s)?e:Ou(r)?bm(function(o){return n(o,s)}):Ou(s)?bm(function(o){return n(r,o)}):n(r,s)}}}gk.exports=sF});var Cu=v((The,yk)=\u003e{var iF=ne(),oF=iF(function(e,r){return Number(e)+Number(r)});yk.exports=oF});var Nr=v((Mhe,_k)=\u003e{function uF(n,e){n=n||[],e=e||[];var r,s=n.length,o=e.length,c=[];for(r=0;r\u003cs;)c[c.length]=n[r],r+=1;for(r=0;r\u003co;)c[c.length]=e[r],r+=1;return c}_k.exports=uF});var wr=v((She,bk)=\u003e{function cF(n,e){switch(n){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,s){return e.apply(this,arguments)};case 3:return function(r,s,o){return e.apply(this,arguments)};case 4:return function(r,s,o,c){return e.apply(this,arguments)};case 5:return function(r,s,o,c,p){return e.apply(this,arguments)};case 6:return function(r,s,o,c,p,d){return e.apply(this,arguments)};case 7:return function(r,s,o,c,p,d,y){return e.apply(this,arguments)};case 8:return function(r,s,o,c,p,d,y,b){return e.apply(this,arguments)};case 9:return function(r,s,o,c,p,d,y,b,w){return e.apply(this,arguments)};case 10:return function(r,s,o,c,p,d,y,b,w,k){return e.apply(this,arguments)};default:throw new Error(\"First argument to _arity must be a non-negative integer no greater than ten\")}}bk.exports=cF});var Au=v((Phe,Nk)=\u003e{var lF=wr(),xk=Pu();function kk(n,e,r){return function(){for(var s=[],o=0,c=n,p=0;p\u003ce.length||o\u003carguments.length;){var d;p\u003ce.length\u0026\u0026(!xk(e[p])||o\u003e=arguments.length)?d=e[p]:(d=arguments[o],o+=1),s[p]=d,xk(d)||(c-=1),p+=1}return c\u003c=0?r.apply(this,s):lF(c,kk(n,s,r))}}Nk.exports=kk});var pn=v((Ohe,wk)=\u003e{var hF=wr(),pF=Ve(),dF=ne(),fF=Au(),mF=dF(function(e,r){return e===1?pF(r):hF(e,fF(e,[],r))});wk.exports=mF});var Tk=v((Che,qk)=\u003e{var vF=Nr(),gF=Ve(),yF=pn(),_F=gF(function(e){return yF(e.length,function(){var r=0,s=arguments[0],o=arguments[arguments.length-1],c=Array.prototype.slice.call(arguments,0);return c[0]=function(){var p=s.apply(this,vF(arguments,[r,o]));return r+=1,p},e.apply(this,c)})});qk.exports=_F});var Xe=v((Ahe,Mk)=\u003e{var Hh=Ve(),uo=ne(),qn=Pu();function bF(n){return function e(r,s,o){switch(arguments.length){case 0:return e;case 1:return qn(r)?e:uo(function(c,p){return n(r,c,p)});case 2:return qn(r)\u0026\u0026qn(s)?e:qn(r)?uo(function(c,p){return n(c,s,p)}):qn(s)?uo(function(c,p){return n(r,c,p)}):Hh(function(c){return n(r,s,c)});default:return qn(r)\u0026\u0026qn(s)\u0026\u0026qn(o)?e:qn(r)\u0026\u0026qn(s)?uo(function(c,p){return n(c,p,o)}):qn(r)\u0026\u0026qn(o)?uo(function(c,p){return n(c,s,p)}):qn(s)\u0026\u0026qn(o)?uo(function(c,p){return n(r,c,p)}):qn(r)?Hh(function(c){return n(c,s,o)}):qn(s)?Hh(function(c){return n(r,c,o)}):qn(o)?Hh(function(c){return n(r,s,c)}):n(r,s,o)}}}Mk.exports=bF});var xm=v((Rhe,Sk)=\u003e{var xF=Nr(),kF=Xe(),NF=kF(function(e,r,s){if(e\u003e=s.length||e\u003c-s.length)return s;var o=e\u003c0?s.length:0,c=o+e,p=xF(s);return p[c]=r(s[c]),p});Sk.exports=NF});var aa=v((Ehe,Pk)=\u003e{Pk.exports=Array.isArray||function(e){return e!=null\u0026\u0026e.length\u003e=0\u0026\u0026Object.prototype.toString.call(e)===\"[object Array]\"}});var Yh=v((jhe,Ok)=\u003e{function wF(n){return n!=null\u0026\u0026typeof n[\"@@transducer/step\"]==\"function\"}Ok.exports=wF});var Yt=v((Dhe,Ck)=\u003e{var qF=aa(),TF=Yh();function MF(n,e,r){return function(){if(arguments.length===0)return r();var s=Array.prototype.slice.call(arguments,0),o=s.pop();if(!qF(o)){for(var c=0;c\u003cn.length;){if(typeof o[n[c]]==\"function\")return o[n[c]].apply(o,s);c+=1}if(TF(o)){var p=e.apply(null,s);return p(o)}}return r.apply(this,arguments)}}Ck.exports=MF});var Oa=v((Ihe,Ak)=\u003e{function SF(n){return n\u0026\u0026n[\"@@transducer/reduced\"]?n:{\"@@transducer/value\":n,\"@@transducer/reduced\":!0}}Ak.exports=SF});var Jt=v((Fhe,Rk)=\u003e{Rk.exports={init:function(){return this.xf[\"@@transducer/init\"]()},result:function(n){return this.xf[\"@@transducer/result\"](n)}}});var jk=v((Vhe,Ek)=\u003e{var PF=ne(),OF=Oa(),CF=Jt(),AF=function(){function n(e,r){this.xf=r,this.f=e,this.all=!0}return n.prototype[\"@@transducer/init\"]=CF.init,n.prototype[\"@@transducer/result\"]=function(e){return this.all\u0026\u0026(e=this.xf[\"@@transducer/step\"](e,!0)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)||(this.all=!1,e=OF(this.xf[\"@@transducer/step\"](e,!1))),e},n}(),RF=PF(function(e,r){return new AF(e,r)});Ek.exports=RF});var km=v((Lhe,Dk)=\u003e{var EF=ne(),jF=Yt(),DF=jk(),IF=EF(jF([\"all\"],DF,function(e,r){for(var s=0;s\u003cr.length;){if(!e(r[s]))return!1;s+=1}return!0}));Dk.exports=IF});var zs=v((Whe,Ik)=\u003e{var FF=ne(),VF=FF(function(e,r){return r\u003ee?r:e});Ik.exports=VF});var Ru=v((Bhe,Fk)=\u003e{function LF(n,e){for(var r=0,s=e.length,o=Array(s);r\u003cs;)o[r]=n(e[r]),r+=1;return o}Fk.exports=LF});var co=v((zhe,Vk)=\u003e{function WF(n){return Object.prototype.toString.call(n)===\"[object String]\"}Vk.exports=WF});var Eu=v((Ghe,Lk)=\u003e{var BF=Ve(),zF=aa(),GF=co(),UF=BF(function(e){return zF(e)?!0:!e||typeof e!=\"object\"||GF(e)?!1:e.nodeType===1?!!e.length:e.length===0?!0:e.length\u003e0?e.hasOwnProperty(0)\u0026\u0026e.hasOwnProperty(e.length-1):!1});Lk.exports=UF});var Nm=v((Uhe,Wk)=\u003e{var $F=function(){function n(e){this.f=e}return n.prototype[\"@@transducer/init\"]=function(){throw new Error(\"init not implemented on XWrap\")},n.prototype[\"@@transducer/result\"]=function(e){return e},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(e,r)},n}();function HF(n){return new $F(n)}Wk.exports=HF});var wm=v(($he,Bk)=\u003e{var YF=wr(),XF=ne(),ZF=XF(function(e,r){return YF(e.length,function(){return e.apply(r,arguments)})});Bk.exports=ZF});var zn=v((Hhe,$k)=\u003e{var KF=Eu(),QF=Nm(),JF=wm();function eV(n,e,r){for(var s=0,o=r.length;s\u003co;){if(e=n[\"@@transducer/step\"](e,r[s]),e\u0026\u0026e[\"@@transducer/reduced\"]){e=e[\"@@transducer/value\"];break}s+=1}return n[\"@@transducer/result\"](e)}function zk(n,e,r){for(var s=r.next();!s.done;){if(e=n[\"@@transducer/step\"](e,s.value),e\u0026\u0026e[\"@@transducer/reduced\"]){e=e[\"@@transducer/value\"];break}s=r.next()}return n[\"@@transducer/result\"](e)}function Gk(n,e,r,s){return n[\"@@transducer/result\"](r[s](JF(n[\"@@transducer/step\"],n),e))}var Uk=typeof Symbol!=\"undefined\"?Symbol.iterator:\"@@iterator\";function tV(n,e,r){if(typeof n==\"function\"\u0026\u0026(n=QF(n)),KF(r))return eV(n,e,r);if(typeof r[\"fantasy-land/reduce\"]==\"function\")return Gk(n,e,r,\"fantasy-land/reduce\");if(r[Uk]!=null)return zk(n,e,r[Uk]());if(typeof r.next==\"function\")return zk(n,e,r);if(typeof r.reduce==\"function\")return Gk(n,e,r,\"reduce\");throw new TypeError(\"reduce: list must be array or iterable\")}$k.exports=tV});var Xk=v((Yhe,Yk)=\u003e{var nV=ne(),Hk=Jt(),rV=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=Hk.init,n.prototype[\"@@transducer/result\"]=Hk.result,n.prototype[\"@@transducer/step\"]=function(e,r){return this.xf[\"@@transducer/step\"](e,this.f(r))},n}(),aV=nV(function(e,r){return new rV(e,r)});Yk.exports=aV});var Gn=v((Xhe,Zk)=\u003e{function sV(n,e){return Object.prototype.hasOwnProperty.call(e,n)}Zk.exports=sV});var qm=v((Zhe,Qk)=\u003e{var iV=Gn(),Kk=Object.prototype.toString,oV=function(){return Kk.call(arguments)===\"[object Arguments]\"?function(e){return Kk.call(e)===\"[object Arguments]\"}:function(e){return iV(\"callee\",e)}}();Qk.exports=oV});var qr=v((Khe,rN)=\u003e{var Jk=Ve(),eN=Gn(),uV=qm(),cV=!{toString:null}.propertyIsEnumerable(\"toString\"),tN=[\"constructor\",\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"],nN=function(){\"use strict\";return arguments.propertyIsEnumerable(\"length\")}(),lV=function(e,r){for(var s=0;s\u003ce.length;){if(e[s]===r)return!0;s+=1}return!1},hV=typeof Object.keys==\"function\"\u0026\u0026!nN?Jk(function(e){return Object(e)!==e?[]:Object.keys(e)}):Jk(function(e){if(Object(e)!==e)return[];var r,s,o=[],c=nN\u0026\u0026uV(e);for(r in e)eN(r,e)\u0026\u0026(!c||r!==\"length\")\u0026\u0026(o[o.length]=r);if(cV)for(s=tN.length-1;s\u003e=0;)r=tN[s],eN(r,e)\u0026\u0026!lV(o,r)\u0026\u0026(o[o.length]=r),s-=1;return o});rN.exports=hV});var ur=v((Qhe,aN)=\u003e{var pV=ne(),dV=Yt(),fV=Ru(),mV=zn(),vV=Xk(),gV=pn(),yV=qr(),_V=pV(dV([\"fantasy-land/map\",\"map\"],vV,function(e,r){switch(Object.prototype.toString.call(r)){case\"[object Function]\":return gV(r.length,function(){return e.call(this,r.apply(this,arguments))});case\"[object Object]\":return mV(function(s,o){return s[o]=e(r[o]),s},{},yV(r));default:return fV(e,r)}}));aN.exports=_V});var ju=v((Jhe,sN)=\u003e{sN.exports=Number.isInteger||function(e){return e\u003c\u003c0===e}});var Gs=v((epe,iN)=\u003e{var bV=ne(),xV=co(),kV=bV(function(e,r){var s=e\u003c0?r.length+e:e;return xV(r)?r.charAt(s):r[s]});iN.exports=kV});var Tm=v((tpe,oN)=\u003e{var NV=ne(),wV=ju(),qV=Gs(),TV=NV(function(e,r){return e.map(function(s){for(var o=r,c=0,p;c\u003cs.length;){if(o==null)return;p=s[c],o=wV(p)?qV(p,o):o[p],c+=1}return o})});oN.exports=TV});var os=v((npe,uN)=\u003e{var MV=ne(),SV=Tm(),PV=MV(function(e,r){return SV([e],r)[0]});uN.exports=PV});var Du=v((rpe,cN)=\u003e{var OV=ne(),CV=os(),AV=OV(function(e,r){return CV([e],r)});cN.exports=AV});var lo=v((ape,lN)=\u003e{var RV=ne(),EV=ur(),jV=Du(),DV=RV(function(e,r){return EV(jV(e),r)});lN.exports=DV});var zr=v((spe,hN)=\u003e{var IV=Xe(),FV=zn(),VV=IV(FV);hN.exports=VV});var dN=v((ipe,pN)=\u003e{var LV=Ve(),WV=pn(),BV=zs(),zV=lo(),GV=zr(),UV=LV(function(e){return WV(GV(BV,0,zV(\"length\",e)),function(){for(var r=0,s=e.length;r\u003cs;){if(!e[r].apply(this,arguments))return!1;r+=1}return!0})});pN.exports=UV});var ho=v((ope,fN)=\u003e{var $V=Ve(),HV=$V(function(e){return function(){return e}});fN.exports=HV});var Mm=v((upe,mN)=\u003e{var YV=ne(),XV=YV(function(e,r){return e\u0026\u0026r});mN.exports=XV});var gN=v((cpe,vN)=\u003e{var ZV=ne(),KV=Oa(),QV=Jt(),JV=function(){function n(e,r){this.xf=r,this.f=e,this.any=!1}return n.prototype[\"@@transducer/init\"]=QV.init,n.prototype[\"@@transducer/result\"]=function(e){return this.any||(e=this.xf[\"@@transducer/step\"](e,!1)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)\u0026\u0026(this.any=!0,e=KV(this.xf[\"@@transducer/step\"](e,!0))),e},n}(),e4=ZV(function(e,r){return new JV(e,r)});vN.exports=e4});var _N=v((lpe,yN)=\u003e{var t4=ne(),n4=Yt(),r4=gN(),a4=t4(n4([\"any\"],r4,function(e,r){for(var s=0;s\u003cr.length;){if(e(r[s]))return!0;s+=1}return!1}));yN.exports=a4});var xN=v((hpe,bN)=\u003e{var s4=Ve(),i4=pn(),o4=zs(),u4=lo(),c4=zr(),l4=s4(function(e){return i4(c4(o4,0,u4(\"length\",e)),function(){for(var r=0,s=e.length;r\u003cs;){if(e[r].apply(this,arguments))return!0;r+=1}return!1})});bN.exports=l4});var Xh=v((ppe,kN)=\u003e{var h4=Nr(),p4=ne(),d4=zn(),f4=ur(),m4=p4(function(e,r){return typeof r[\"fantasy-land/ap\"]==\"function\"?r[\"fantasy-land/ap\"](e):typeof e.ap==\"function\"?e.ap(r):typeof e==\"function\"?function(s){return e(s)(r(s))}:d4(function(s,o){return h4(s,f4(o,r))},[],e)});kN.exports=m4});var wN=v((dpe,NN)=\u003e{function v4(n,e){for(var r=0,s=e.length-(n-1),o=new Array(s\u003e=0?s:0);r\u003cs;)o[r]=Array.prototype.slice.call(e,r,r+n),r+=1;return o}NN.exports=v4});var TN=v((fpe,qN)=\u003e{var g4=Nr(),y4=ne(),_4=Jt(),b4=function(){function n(e,r){this.xf=r,this.pos=0,this.full=!1,this.acc=new Array(e)}return n.prototype[\"@@transducer/init\"]=_4.init,n.prototype[\"@@transducer/result\"]=function(e){return this.acc=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.store(r),this.full?this.xf[\"@@transducer/step\"](e,this.getCopy()):e},n.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length\u0026\u0026(this.pos=0,this.full=!0)},n.prototype.getCopy=function(){return g4(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},n}(),x4=y4(function(e,r){return new b4(e,r)});qN.exports=x4});var SN=v((mpe,MN)=\u003e{var k4=wN(),N4=ne(),w4=Yt(),q4=TN(),T4=N4(w4([],q4,k4));MN.exports=T4});var ON=v((vpe,PN)=\u003e{var M4=Nr(),S4=ne(),P4=S4(function(e,r){return M4(r,[e])});PN.exports=P4});var Sm=v((gpe,CN)=\u003e{var O4=ne(),C4=O4(function(e,r){return e.apply(this,r)});CN.exports=C4});var Pm=v((ype,AN)=\u003e{var A4=Ve(),R4=qr(),E4=A4(function(e){for(var r=R4(e),s=r.length,o=[],c=0;c\u003cs;)o[c]=e[r[c]],c+=1;return o});AN.exports=E4});var jN=v((_pe,EN)=\u003e{var j4=Ve(),D4=Sm(),I4=pn(),F4=zs(),V4=lo(),L4=zr(),W4=qr(),B4=Pm();function RN(n,e){return W4(e).reduce(function(r,s){return r[s]=n(e[s]),r},{})}var z4=j4(function n(e){return e=RN(function(r){return typeof r==\"function\"?r:n(r)},e),I4(L4(F4,0,V4(\"length\",B4(e))),function(){var r=arguments;return RN(function(s){return D4(s,r)},e)})});EN.exports=z4});var IN=v((bpe,DN)=\u003e{var G4=ne(),U4=G4(function(e,r){return r(e)});DN.exports=U4});var VN=v((xpe,FN)=\u003e{var $4=Xe(),H4=$4(function(e,r,s){var o=e(r),c=e(s);return o\u003cc?-1:o\u003ec?1:0});FN.exports=H4});var po=v((kpe,LN)=\u003e{var Y4=Xe(),X4=Y4(function(e,r,s){var o={};for(var c in s)o[c]=s[c];return o[e]=r,o});LN.exports=X4});var Zh=v((Npe,WN)=\u003e{var Z4=Ve(),K4=Z4(function(e){return e==null});WN.exports=K4});var Om=v((wpe,zN)=\u003e{var Q4=Xe(),J4=Gn(),e6=aa(),BN=ju(),t6=po(),n6=Zh(),r6=Q4(function n(e,r,s){if(e.length===0)return r;var o=e[0];if(e.length\u003e1){var c=!n6(s)\u0026\u0026J4(o,s)?s[o]:BN(e[1])?[]:{};r=n(Array.prototype.slice.call(e,1),r,c)}if(BN(o)\u0026\u0026e6(s)){var p=[].concat(s);return p[o]=r,p}else return t6(o,r,s)});zN.exports=r6});var Iu=v((qpe,GN)=\u003e{var a6=ne(),s6=a6(function(e,r){switch(e){case 0:return function(){return r.call(this)};case 1:return function(s){return r.call(this,s)};case 2:return function(s,o){return r.call(this,s,o)};case 3:return function(s,o,c){return r.call(this,s,o,c)};case 4:return function(s,o,c,p){return r.call(this,s,o,c,p)};case 5:return function(s,o,c,p,d){return r.call(this,s,o,c,p,d)};case 6:return function(s,o,c,p,d,y){return r.call(this,s,o,c,p,d,y)};case 7:return function(s,o,c,p,d,y,b){return r.call(this,s,o,c,p,d,y,b)};case 8:return function(s,o,c,p,d,y,b,w){return r.call(this,s,o,c,p,d,y,b,w)};case 9:return function(s,o,c,p,d,y,b,w,k){return r.call(this,s,o,c,p,d,y,b,w,k)};case 10:return function(s,o,c,p,d,y,b,w,k,S){return r.call(this,s,o,c,p,d,y,b,w,k,S)};default:throw new Error(\"First argument to nAry must be a non-negative integer no greater than ten\")}});GN.exports=s6});var $N=v((Tpe,UN)=\u003e{var i6=Ve(),o6=Iu(),u6=i6(function(e){return o6(2,e)});UN.exports=u6});var fo=v((Mpe,HN)=\u003e{function c6(n){var e=Object.prototype.toString.call(n);return e===\"[object Function]\"||e===\"[object AsyncFunction]\"||e===\"[object GeneratorFunction]\"||e===\"[object AsyncGeneratorFunction]\"}HN.exports=c6});var Cm=v((Spe,XN)=\u003e{var l6=ne(),h6=zn(),p6=Xh(),YN=pn(),d6=ur(),f6=l6(function(e,r){var s=YN(e,r);return YN(e,function(){return h6(p6,d6(s,arguments[0]),Array.prototype.slice.call(arguments,1))})});XN.exports=f6});var Fu=v((Ppe,ZN)=\u003e{var m6=Ve(),v6=Cm(),g6=m6(function(e){return v6(e.length,e)});ZN.exports=g6});var QN=v((Ope,KN)=\u003e{var y6=ne(),_6=fo(),b6=Mm(),x6=Fu(),k6=y6(function(e,r){return _6(e)?function(){return e.apply(this,arguments)\u0026\u0026r.apply(this,arguments)}:x6(b6)(e,r)});KN.exports=k6});var us=v((Cpe,JN)=\u003e{var N6=Ve(),w6=pn(),q6=N6(function(e){return w6(e.length,e)});JN.exports=q6});var Am=v((Ape,e1)=\u003e{var T6=us(),M6=T6(function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))});e1.exports=M6});var Rm=v((Rpe,t1)=\u003e{var S6=Eu();function P6(n){return function e(r){for(var s,o,c,p=[],d=0,y=r.length;d\u003cy;){if(S6(r[d]))for(s=n?e(r[d]):r[d],c=0,o=s.length;c\u003co;)p[p.length]=s[c],c+=1;else p[p.length]=r[d];d+=1}return p}}t1.exports=P6});var r1=v((Epe,n1)=\u003e{function O6(n){return{\"@@transducer/value\":n,\"@@transducer/reduced\":!0}}n1.exports=O6});var o1=v((jpe,i1)=\u003e{var C6=r1(),A6=Eu(),a1=zn(),s1=Jt(),R6=function(n){return{\"@@transducer/init\":s1.init,\"@@transducer/result\":function(e){return n[\"@@transducer/result\"](e)},\"@@transducer/step\":function(e,r){var s=n[\"@@transducer/step\"](e,r);return s[\"@@transducer/reduced\"]?C6(s):s}}},E6=function(e){var r=R6(e);return{\"@@transducer/init\":s1.init,\"@@transducer/result\":function(s){return r[\"@@transducer/result\"](s)},\"@@transducer/step\":function(s,o){return A6(o)?a1(r,s,o):a1(r,s,[o])}}};i1.exports=E6});var c1=v((Dpe,u1)=\u003e{var j6=ne(),D6=o1(),I6=ur(),F6=j6(function(e,r){return I6(e,D6(r))});u1.exports=F6});var Kh=v((Ipe,l1)=\u003e{var V6=ne(),L6=Yt(),W6=Rm(),B6=c1(),z6=ur(),G6=V6(L6([\"fantasy-land/chain\",\"chain\"],B6,function(e,r){return typeof r==\"function\"?function(s){return e(r(s))(s)}:W6(!1)(z6(e,r))}));l1.exports=G6});var p1=v((Fpe,h1)=\u003e{var U6=Xe(),$6=U6(function(e,r,s){if(e\u003er)throw new Error(\"min must not be greater than max in clamp(min, max, value)\");return s\u003ce?e:s\u003er?r:s});h1.exports=$6});var Em=v((Vpe,d1)=\u003e{function H6(n){return new RegExp(n.source,(n.global?\"g\":\"\")+(n.ignoreCase?\"i\":\"\")+(n.multiline?\"m\":\"\")+(n.sticky?\"y\":\"\")+(n.unicode?\"u\":\"\"))}d1.exports=H6});var Qh=v((Lpe,f1)=\u003e{var Y6=Ve(),X6=Y6(function(e){return e===null?\"Null\":e===void 0?\"Undefined\":Object.prototype.toString.call(e).slice(8,-1)});f1.exports=X6});var Jh=v((Wpe,v1)=\u003e{var Z6=Em(),K6=Qh();function m1(n,e,r,s){var o=function(p){for(var d=e.length,y=0;y\u003cd;){if(n===e[y])return r[y];y+=1}e[y+1]=n,r[y+1]=p;for(var b in n)p[b]=s?m1(n[b],e,r,!0):n[b];return p};switch(K6(n)){case\"Object\":return o({});case\"Array\":return o([]);case\"Date\":return new Date(n.valueOf());case\"RegExp\":return Z6(n);default:return n}}v1.exports=m1});var y1=v((Bpe,g1)=\u003e{var Q6=Jh(),J6=Ve(),eL=J6(function(e){return e!=null\u0026\u0026typeof e.clone==\"function\"?e.clone():Q6(e,[],[],!0)});g1.exports=eL});var b1=v((zpe,_1)=\u003e{var tL=Ve(),nL=tL(function(e){return function(r,s){return e(r,s)?-1:e(s,r)?1:0}});_1.exports=nL});var jm=v((Gpe,x1)=\u003e{var rL=Ve(),aL=rL(function(e){return!e});x1.exports=aL});var Dm=v((Upe,k1)=\u003e{var sL=Fu(),iL=jm(),oL=sL(iL);k1.exports=oL});var w1=v(($pe,N1)=\u003e{function uL(n,e){return function(){return e.call(this,n.apply(this,arguments))}}N1.exports=uL});var mo=v((Hpe,q1)=\u003e{var cL=aa();function lL(n,e){return function(){var r=arguments.length;if(r===0)return e();var s=arguments[r-1];return cL(s)||typeof s[n]!=\"function\"?e.apply(this,arguments):s[n].apply(s,Array.prototype.slice.call(arguments,0,r-1))}}q1.exports=lL});var Tr=v((Ype,T1)=\u003e{var hL=mo(),pL=Xe(),dL=pL(hL(\"slice\",function(e,r,s){return Array.prototype.slice.call(s,e,r)}));T1.exports=dL});var vo=v((Xpe,M1)=\u003e{var fL=mo(),mL=Ve(),vL=Tr(),gL=mL(fL(\"tail\",vL(1,1/0)));M1.exports=gL});var Vu=v((Zpe,S1)=\u003e{var yL=wr(),_L=w1(),bL=zr(),xL=vo();function kL(){if(arguments.length===0)throw new Error(\"pipe requires at least one argument\");return yL(arguments[0].length,bL(_L,arguments[0],xL(arguments)))}S1.exports=kL});var go=v((Kpe,P1)=\u003e{var NL=Ve(),wL=co(),qL=NL(function(e){return wL(e)?e.split(\"\").reverse().join(\"\"):Array.prototype.slice.call(e,0).reverse()});P1.exports=qL});var ep=v((Qpe,O1)=\u003e{var TL=Vu(),ML=go();function SL(){if(arguments.length===0)throw new Error(\"compose requires at least one argument\");return TL.apply(this,ML(arguments))}O1.exports=SL});var Im=v((Jpe,A1)=\u003e{var PL=Kh(),C1=ep(),OL=ur();function CL(){if(arguments.length===0)throw new Error(\"composeK requires at least one argument\");var n=Array.prototype.slice.call(arguments),e=n.pop();return C1(C1.apply(this,OL(PL,n)),e)}A1.exports=CL});var E1=v((ede,R1)=\u003e{function AL(n,e){return function(){var r=this;return n.apply(r,arguments).then(function(s){return e.call(r,s)})}}R1.exports=AL});var Fm=v((tde,j1)=\u003e{var RL=wr(),EL=E1(),jL=zr(),DL=vo();function IL(){if(arguments.length===0)throw new Error(\"pipeP requires at least one argument\");return RL(arguments[0].length,jL(EL,arguments[0],DL(arguments)))}j1.exports=IL});var I1=v((nde,D1)=\u003e{var FL=Fm(),VL=go();function LL(){if(arguments.length===0)throw new Error(\"composeP requires at least one argument\");return FL.apply(this,VL(arguments))}D1.exports=LL});var tp=v((rde,F1)=\u003e{var WL=Gs(),BL=WL(0);F1.exports=BL});var np=v((ade,V1)=\u003e{function zL(n){return n}V1.exports=zL});var yo=v((sde,L1)=\u003e{var GL=Ve(),UL=np(),$L=GL(UL);L1.exports=$L});var Vm=v((ide,W1)=\u003e{var HL=wr(),YL=ne(),XL=tp(),ZL=zn(),KL=vo(),QL=yo(),JL=YL(function(e,r){if(r.length\u003c=0)return QL;var s=XL(r),o=KL(r);return HL(s.length,function(){return ZL(function(c,p){return e.call(this,p,c)},s.apply(this,arguments),o)})});W1.exports=JL});var z1=v((ode,B1)=\u003e{var eW=ne(),tW=Vm(),nW=go(),rW=eW(function(e,r){return tW.apply(this,[e,nW(r)])});B1.exports=rW});var U1=v((ude,G1)=\u003e{function aW(n){for(var e=[],r;!(r=n.next()).done;)e.push(r.value);return e}G1.exports=aW});var Lu=v((cde,$1)=\u003e{function sW(n,e,r){for(var s=0,o=r.length;s\u003co;){if(n(e,r[s]))return!0;s+=1}return!1}$1.exports=sW});var Y1=v((lde,H1)=\u003e{function iW(n){var e=String(n).match(/^function (\\w*)/);return e==null?\"\":e[1]}H1.exports=iW});var Lm=v((hde,X1)=\u003e{function oW(n,e){return n===e?n!==0||1/n==1/e:n!==n\u0026\u0026e!==e}X1.exports=typeof Object.is==\"function\"?Object.is:oW});var nw=v((pde,tw)=\u003e{var Z1=U1(),K1=Lu(),uW=Y1(),cW=Gn(),Wm=Lm(),Q1=qr(),J1=Qh();function ew(n,e,r,s){var o=Z1(n),c=Z1(e);function p(d,y){return Bm(d,y,r.slice(),s.slice())}return!K1(function(d,y){return!K1(p,y,d)},c,o)}function Bm(n,e,r,s){if(Wm(n,e))return!0;var o=J1(n);if(o!==J1(e)||n==null||e==null)return!1;if(typeof n[\"fantasy-land/equals\"]==\"function\"||typeof e[\"fantasy-land/equals\"]==\"function\")return typeof n[\"fantasy-land/equals\"]==\"function\"\u0026\u0026n[\"fantasy-land/equals\"](e)\u0026\u0026typeof e[\"fantasy-land/equals\"]==\"function\"\u0026\u0026e[\"fantasy-land/equals\"](n);if(typeof n.equals==\"function\"||typeof e.equals==\"function\")return typeof n.equals==\"function\"\u0026\u0026n.equals(e)\u0026\u0026typeof e.equals==\"function\"\u0026\u0026e.equals(n);switch(o){case\"Arguments\":case\"Array\":case\"Object\":if(typeof n.constructor==\"function\"\u0026\u0026uW(n.constructor)===\"Promise\")return n===e;break;case\"Boolean\":case\"Number\":case\"String\":if(!(typeof n==typeof e\u0026\u0026Wm(n.valueOf(),e.valueOf())))return!1;break;case\"Date\":if(!Wm(n.valueOf(),e.valueOf()))return!1;break;case\"Error\":return n.name===e.name\u0026\u0026n.message===e.message;case\"RegExp\":if(!(n.source===e.source\u0026\u0026n.global===e.global\u0026\u0026n.ignoreCase===e.ignoreCase\u0026\u0026n.multiline===e.multiline\u0026\u0026n.sticky===e.sticky\u0026\u0026n.unicode===e.unicode))return!1;break}for(var c=r.length-1;c\u003e=0;){if(r[c]===n)return s[c]===e;c-=1}switch(o){case\"Map\":return n.size!==e.size?!1:ew(n.entries(),e.entries(),r.concat([n]),s.concat([e]));case\"Set\":return n.size!==e.size?!1:ew(n.values(),e.values(),r.concat([n]),s.concat([e]));case\"Arguments\":case\"Array\":case\"Object\":case\"Boolean\":case\"Number\":case\"String\":case\"Date\":case\"Error\":case\"RegExp\":case\"Int8Array\":case\"Uint8Array\":case\"Uint8ClampedArray\":case\"Int16Array\":case\"Uint16Array\":case\"Int32Array\":case\"Uint32Array\":case\"Float32Array\":case\"Float64Array\":case\"ArrayBuffer\":break;default:return!1}var p=Q1(n);if(p.length!==Q1(e).length)return!1;var d=r.concat([n]),y=s.concat([e]);for(c=p.length-1;c\u003e=0;){var b=p[c];if(!(cW(b,e)\u0026\u0026Bm(e[b],n[b],d,y)))return!1;c-=1}return!0}tw.exports=Bm});var Un=v((dde,rw)=\u003e{var lW=ne(),hW=nw(),pW=lW(function(e,r){return hW(e,r,[],[])});rw.exports=pW});var zm=v((fde,aw)=\u003e{var dW=Un();function fW(n,e,r){var s,o;if(typeof n.indexOf==\"function\")switch(typeof e){case\"number\":if(e===0){for(s=1/e;r\u003cn.length;){if(o=n[r],o===0\u0026\u00261/o===s)return r;r+=1}return-1}else if(e!==e){for(;r\u003cn.length;){if(o=n[r],typeof o==\"number\"\u0026\u0026o!==o)return r;r+=1}return-1}return n.indexOf(e,r);case\"string\":case\"boolean\":case\"function\":case\"undefined\":return n.indexOf(e,r);case\"object\":if(e===null)return n.indexOf(e,r)}for(;r\u003cn.length;){if(dW(n[r],e))return r;r+=1}return-1}aw.exports=fW});var Us=v((mde,sw)=\u003e{var mW=zm();function vW(n,e){return mW(e,n,0)\u003e=0}sw.exports=vW});var ow=v((vde,iw)=\u003e{function gW(n){var e=n.replace(/\\\\/g,\"\\\\\\\\\").replace(/[\\b]/g,\"\\\\b\").replace(/\\f/g,\"\\\\f\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\t/g,\"\\\\t\").replace(/\\v/g,\"\\\\v\").replace(/\\0/g,\"\\\\0\");return'\"'+e.replace(/\"/g,'\\\\\"')+'\"'}iw.exports=gW});var cw=v((gde,uw)=\u003e{var Wu=function(e){return(e\u003c10?\"0\":\"\")+e},yW=typeof Date.prototype.toISOString==\"function\"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+\"-\"+Wu(e.getUTCMonth()+1)+\"-\"+Wu(e.getUTCDate())+\"T\"+Wu(e.getUTCHours())+\":\"+Wu(e.getUTCMinutes())+\":\"+Wu(e.getUTCSeconds())+\".\"+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+\"Z\"};uw.exports=yW});var Gm=v((yde,lw)=\u003e{function _W(n){return function(){return!n.apply(this,arguments)}}lw.exports=_W});var rp=v((_de,hw)=\u003e{function bW(n,e){for(var r=0,s=e.length,o=[];r\u003cs;)n(e[r])\u0026\u0026(o[o.length]=e[r]),r+=1;return o}hw.exports=bW});var ap=v((bde,pw)=\u003e{function xW(n){return Object.prototype.toString.call(n)===\"[object Object]\"}pw.exports=xW});var mw=v((xde,fw)=\u003e{var kW=ne(),dw=Jt(),NW=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=dw.init,n.prototype[\"@@transducer/result\"]=dw.result,n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)?this.xf[\"@@transducer/step\"](e,r):e},n}(),wW=kW(function(e,r){return new NW(e,r)});fw.exports=wW});var sp=v((kde,vw)=\u003e{var qW=ne(),TW=Yt(),MW=rp(),SW=ap(),PW=zn(),OW=mw(),CW=qr(),AW=qW(TW([\"filter\"],OW,function(n,e){return SW(e)?PW(function(r,s){return n(e[s])\u0026\u0026(r[s]=e[s]),r},{},CW(e)):MW(n,e)}));vw.exports=AW});var Bu=v((Nde,gw)=\u003e{var RW=Gm(),EW=ne(),jW=sp(),DW=EW(function(e,r){return jW(RW(e),r)});gw.exports=DW});var Hm=v((wde,bw)=\u003e{var IW=Us(),Um=Ru(),$m=ow(),FW=cw(),yw=qr(),VW=Bu();function _w(n,e){var r=function(p){var d=e.concat([n]);return IW(p,d)?\"\u003cCircular\u003e\":_w(p,d)},s=function(c,p){return Um(function(d){return $m(d)+\": \"+r(c[d])},p.slice().sort())};switch(Object.prototype.toString.call(n)){case\"[object Arguments]\":return\"(function() { return arguments; }(\"+Um(r,n).join(\", \")+\"))\";case\"[object Array]\":return\"[\"+Um(r,n).concat(s(n,VW(function(c){return/^\\d+$/.test(c)},yw(n)))).join(\", \")+\"]\";case\"[object Boolean]\":return typeof n==\"object\"?\"new Boolean(\"+r(n.valueOf())+\")\":n.toString();case\"[object Date]\":return\"new Date(\"+(isNaN(n.valueOf())?r(NaN):$m(FW(n)))+\")\";case\"[object Null]\":return\"null\";case\"[object Number]\":return typeof n==\"object\"?\"new Number(\"+r(n.valueOf())+\")\":1/n==-1/0?\"-0\":n.toString(10);case\"[object String]\":return typeof n==\"object\"?\"new String(\"+r(n.valueOf())+\")\":$m(n);case\"[object Undefined]\":return\"undefined\";default:if(typeof n.toString==\"function\"){var o=n.toString();if(o!==\"[object Object]\")return o}return\"{\"+s(n,yw(n)).join(\", \")+\"}\"}}bw.exports=_w});var zu=v((qde,xw)=\u003e{var LW=Ve(),WW=Hm(),BW=LW(function(e){return WW(e,[])});xw.exports=BW});var ip=v((Tde,qw)=\u003e{var zW=ne(),kw=aa(),Nw=fo(),ww=co(),Ym=zu(),GW=zW(function(e,r){if(kw(e)){if(kw(r))return e.concat(r);throw new TypeError(Ym(r)+\" is not an array\")}if(ww(e)){if(ww(r))return e+r;throw new TypeError(Ym(r)+\" is not a string\")}if(e!=null\u0026\u0026Nw(e[\"fantasy-land/concat\"]))return e[\"fantasy-land/concat\"](r);if(e!=null\u0026\u0026Nw(e.concat))return e.concat(r);throw new TypeError(Ym(e)+' does not have a method named \"concat\" or \"fantasy-land/concat\"')});qw.exports=GW});var Xm=v((Mde,Tw)=\u003e{var UW=wr(),$W=Ve(),HW=ur(),YW=zs(),XW=zr(),ZW=$W(function(e){var r=XW(YW,0,HW(function(s){return s[0].length},e));return UW(r,function(){for(var s=0;s\u003ce.length;){if(e[s][0].apply(this,arguments))return e[s][1].apply(this,arguments);s+=1}})});Tw.exports=ZW});var Zm=v((Sde,Mw)=\u003e{var KW=ne(),QW=us(),JW=Iu(),eB=KW(function(e,r){if(e\u003e10)throw new Error(\"Constructor with greater than ten arguments\");return e===0?function(){return new r}:QW(JW(e,function(s,o,c,p,d,y,b,w,k,S){switch(arguments.length){case 1:return new r(s);case 2:return new r(s,o);case 3:return new r(s,o,c);case 4:return new r(s,o,c,p);case 5:return new r(s,o,c,p,d);case 6:return new r(s,o,c,p,d,y);case 7:return new r(s,o,c,p,d,y,b);case 8:return new r(s,o,c,p,d,y,b,w);case 9:return new r(s,o,c,p,d,y,b,w,k);case 10:return new r(s,o,c,p,d,y,b,w,k,S)}}))});Mw.exports=eB});var Pw=v((Pde,Sw)=\u003e{var tB=Ve(),nB=Zm(),rB=tB(function(e){return nB(e.length,e)});Sw.exports=rB});var Cw=v((Ode,Ow)=\u003e{var aB=Us(),sB=ne(),iB=sB(aB);Ow.exports=iB});var op=v((Cde,Aw)=\u003e{var oB=ne(),uB=Ru(),cB=pn(),lB=zs(),hB=lo(),pB=zr(),dB=oB(function(e,r){return cB(pB(lB,0,hB(\"length\",r)),function(){var s=arguments,o=this;return e.apply(o,uB(function(c){return c.apply(o,s)},r))})});Aw.exports=dB});var Ew=v((Ade,Rw)=\u003e{var fB=Au(),mB=Gn(),vB=Jt(),gB=function(){function n(e,r,s,o){this.valueFn=e,this.valueAcc=r,this.keyFn=s,this.xf=o,this.inputs={}}return n.prototype[\"@@transducer/init\"]=vB.init,n.prototype[\"@@transducer/result\"]=function(e){var r;for(r in this.inputs)if(mB(r,this.inputs)\u0026\u0026(e=this.xf[\"@@transducer/step\"](e,this.inputs[r]),e[\"@@transducer/reduced\"])){e=e[\"@@transducer/value\"];break}return this.inputs=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){var s=this.keyFn(r);return this.inputs[s]=this.inputs[s]||[s,this.valueAcc],this.inputs[s][1]=this.valueFn(this.inputs[s][1],r),e},n}(),yB=fB(4,[],function(e,r,s,o){return new gB(e,r,s,o)});Rw.exports=yB});var Gu=v((Rde,jw)=\u003e{var _B=Jh(),bB=Au(),xB=Yt(),kB=Gn(),NB=zn(),wB=Ew(),qB=bB(4,[],xB([],wB,function(e,r,s,o){return NB(function(c,p){var d=s(p);return c[d]=e(kB(d,c)?c[d]:_B(r,[],[],!1),p),c},{},o)}));jw.exports=qB});var Iw=v((Ede,Dw)=\u003e{var TB=Gu(),MB=TB(function(n,e){return n+1},0);Dw.exports=MB});var Vw=v((jde,Fw)=\u003e{var SB=Cu(),PB=SB(-1);Fw.exports=PB});var Km=v((Dde,Lw)=\u003e{var OB=ne(),CB=OB(function(e,r){return r==null||r!==r?e:r});Lw.exports=CB});var Bw=v((Ide,Ww)=\u003e{var AB=Xe(),RB=AB(function(e,r,s){var o=e(r),c=e(s);return o\u003ec?-1:o\u003cc?1:0});Ww.exports=RB});var Qm=v((Fde,Uw)=\u003e{var zw=Us(),EB=function(){function n(){this._nativeSet=typeof Set==\"function\"?new Set:null,this._items={}}return n.prototype.add=function(e){return!Gw(e,!0,this)},n.prototype.has=function(e){return Gw(e,!1,this)},n}();function Gw(n,e,r){var s=typeof n,o,c;switch(s){case\"string\":case\"number\":return n===0\u0026\u00261/n==-1/0?r._items[\"-0\"]?!0:(e\u0026\u0026(r._items[\"-0\"]=!0),!1):r._nativeSet!==null?e?(o=r._nativeSet.size,r._nativeSet.add(n),c=r._nativeSet.size,c===o):r._nativeSet.has(n):s in r._items?n in r._items[s]?!0:(e\u0026\u0026(r._items[s][n]=!0),!1):(e\u0026\u0026(r._items[s]={},r._items[s][n]=!0),!1);case\"boolean\":if(s in r._items){var p=n?1:0;return r._items[s][p]?!0:(e\u0026\u0026(r._items[s][p]=!0),!1)}else return e\u0026\u0026(r._items[s]=n?[!1,!0]:[!0,!1]),!1;case\"function\":return r._nativeSet!==null?e?(o=r._nativeSet.size,r._nativeSet.add(n),c=r._nativeSet.size,c===o):r._nativeSet.has(n):s in r._items?zw(n,r._items[s])?!0:(e\u0026\u0026r._items[s].push(n),!1):(e\u0026\u0026(r._items[s]=[n]),!1);case\"undefined\":return r._items[s]?!0:(e\u0026\u0026(r._items[s]=!0),!1);case\"object\":if(n===null)return r._items.null?!0:(e\u0026\u0026(r._items.null=!0),!1);default:return s=Object.prototype.toString.call(n),s in r._items?zw(n,r._items[s])?!0:(e\u0026\u0026r._items[s].push(n),!1):(e\u0026\u0026(r._items[s]=[n]),!1)}}Uw.exports=EB});var Jm=v((Vde,$w)=\u003e{var jB=ne(),DB=Qm(),IB=jB(function(e,r){for(var s=[],o=0,c=e.length,p=r.length,d=new DB,y=0;y\u003cp;y+=1)d.add(r[y]);for(;o\u003cc;)d.add(e[o])\u0026\u0026(s[s.length]=e[o]),o+=1;return s});$w.exports=IB});var ev=v((Lde,Yw)=\u003e{var Hw=Lu(),FB=Xe(),VB=FB(function(e,r,s){for(var o=[],c=0,p=r.length;c\u003cp;)!Hw(e,r[c],s)\u0026\u0026!Hw(e,r[c],o)\u0026\u0026o.push(r[c]),c+=1;return o});Yw.exports=VB});var tv=v((Wde,Xw)=\u003e{var LB=ne(),WB=LB(function(e,r){var s={};for(var o in r)s[o]=r[o];return delete s[e],s});Xw.exports=WB});var nv=v((Bde,Zw)=\u003e{var BB=Xe(),zB=BB(function(e,r,s){var o=Array.prototype.slice.call(s,0);return o.splice(e,r),o});Zw.exports=zB});var up=v((zde,Kw)=\u003e{var GB=Xe(),UB=xm(),$B=ho(),HB=GB(function(e,r,s){return UB(e,$B(r),s)});Kw.exports=HB});var tq=v((Gde,eq)=\u003e{var YB=ne(),Qw=ju(),Jw=aa(),XB=po(),ZB=tv(),KB=nv(),QB=up(),JB=YB(function n(e,r){switch(e.length){case 0:return r;case 1:return Qw(e[0])\u0026\u0026Jw(r)?KB(e[0],1,r):ZB(e[0],r);default:var s=e[0],o=Array.prototype.slice.call(e,1);return r[s]==null?r:Qw(s)\u0026\u0026Jw(r)?QB(s,n(o,r[s]),r):XB(s,n(o,r[s]),r)}});eq.exports=JB});var rq=v((Ude,nq)=\u003e{var e9=ne(),t9=e9(function(e,r){return e/r});nq.exports=t9});var iq=v(($de,sq)=\u003e{var n9=ne(),aq=Jt(),r9=function(){function n(e,r){this.xf=r,this.n=e}return n.prototype[\"@@transducer/init\"]=aq.init,n.prototype[\"@@transducer/result\"]=aq.result,n.prototype[\"@@transducer/step\"]=function(e,r){return this.n\u003e0?(this.n-=1,e):this.xf[\"@@transducer/step\"](e,r)},n}(),a9=n9(function(e,r){return new r9(e,r)});sq.exports=a9});var rv=v((Hde,oq)=\u003e{var s9=ne(),i9=Yt(),o9=iq(),u9=Tr(),c9=s9(i9([\"drop\"],o9,function(e,r){return u9(Math.max(0,e),1/0,r)}));oq.exports=c9});var lq=v((Yde,cq)=\u003e{var l9=ne(),h9=Oa(),uq=Jt(),p9=function(){function n(e,r){this.xf=r,this.n=e,this.i=0}return n.prototype[\"@@transducer/init\"]=uq.init,n.prototype[\"@@transducer/result\"]=uq.result,n.prototype[\"@@transducer/step\"]=function(e,r){this.i+=1;var s=this.n===0?e:this.xf[\"@@transducer/step\"](e,r);return this.n\u003e=0\u0026\u0026this.i\u003e=this.n?h9(s):s},n}(),d9=l9(function(e,r){return new p9(e,r)});cq.exports=d9});var cp=v((Xde,hq)=\u003e{var f9=ne(),m9=Yt(),v9=lq(),g9=Tr(),y9=f9(m9([\"take\"],v9,function(e,r){return g9(0,e\u003c0?1/0:e,r)}));hq.exports=y9});var dq=v((Zde,pq)=\u003e{var _9=cp();function b9(n,e){return _9(n\u003ce.length?e.length-n:0,e)}pq.exports=b9});var mq=v((Kde,fq)=\u003e{var x9=ne(),k9=Jt(),N9=function(){function n(e,r){this.xf=r,this.pos=0,this.full=!1,this.acc=new Array(e)}return n.prototype[\"@@transducer/init\"]=k9.init,n.prototype[\"@@transducer/result\"]=function(e){return this.acc=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.full\u0026\u0026(e=this.xf[\"@@transducer/step\"](e,this.acc[this.pos])),this.store(r),e},n.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length\u0026\u0026(this.pos=0,this.full=!0)},n}(),w9=x9(function(e,r){return new N9(e,r)});fq.exports=w9});var gq=v((Qde,vq)=\u003e{var q9=ne(),T9=Yt(),M9=dq(),S9=mq(),P9=q9(T9([],S9,M9));vq.exports=P9});var _q=v((Jde,yq)=\u003e{var O9=Tr();function C9(n,e){for(var r=e.length-1;r\u003e=0\u0026\u0026n(e[r]);)r-=1;return O9(0,r+1,e)}yq.exports=C9});var xq=v((efe,bq)=\u003e{var A9=ne(),R9=zn(),E9=Jt(),j9=function(){function n(e,r){this.f=e,this.retained=[],this.xf=r}return n.prototype[\"@@transducer/init\"]=E9.init,n.prototype[\"@@transducer/result\"]=function(e){return this.retained=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)?this.retain(e,r):this.flush(e,r)},n.prototype.flush=function(e,r){return e=R9(this.xf[\"@@transducer/step\"],e,this.retained),this.retained=[],this.xf[\"@@transducer/step\"](e,r)},n.prototype.retain=function(e,r){return this.retained.push(r),e},n}(),D9=A9(function(e,r){return new j9(e,r)});bq.exports=D9});var Nq=v((tfe,kq)=\u003e{var I9=ne(),F9=Yt(),V9=_q(),L9=xq(),W9=I9(F9([],L9,V9));kq.exports=W9});var av=v((nfe,qq)=\u003e{var B9=ne(),wq=Jt(),z9=function(){function n(e,r){this.xf=r,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return n.prototype[\"@@transducer/init\"]=wq.init,n.prototype[\"@@transducer/result\"]=wq.result,n.prototype[\"@@transducer/step\"]=function(e,r){var s=!1;return this.seenFirstValue?this.pred(this.lastValue,r)\u0026\u0026(s=!0):this.seenFirstValue=!0,this.lastValue=r,s?e:this.xf[\"@@transducer/step\"](e,r)},n}(),G9=B9(function(e,r){return new z9(e,r)});qq.exports=G9});var lp=v((rfe,Tq)=\u003e{var U9=Gs(),$9=U9(-1);Tq.exports=$9});var sv=v((afe,Mq)=\u003e{var H9=ne(),Y9=Yt(),X9=av(),Z9=lp(),K9=H9(Y9([],X9,function(e,r){var s=[],o=1,c=r.length;if(c!==0)for(s[0]=r[0];o\u003cc;)e(Z9(s),r[o])||(s[s.length]=r[o]),o+=1;return s}));Mq.exports=K9});var Oq=v((sfe,Pq)=\u003e{var Q9=Ve(),J9=Yt(),ez=av(),tz=sv(),Sq=Un(),nz=Q9(J9([],ez(Sq),tz(Sq)));Pq.exports=nz});var Rq=v((ife,Aq)=\u003e{var rz=ne(),Cq=Jt(),az=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=Cq.init,n.prototype[\"@@transducer/result\"]=Cq.result,n.prototype[\"@@transducer/step\"]=function(e,r){if(this.f){if(this.f(r))return e;this.f=null}return this.xf[\"@@transducer/step\"](e,r)},n}(),sz=rz(function(e,r){return new az(e,r)});Aq.exports=sz});var jq=v((ofe,Eq)=\u003e{var iz=ne(),oz=Yt(),uz=Rq(),cz=Tr(),lz=iz(oz([\"dropWhile\"],uz,function(e,r){for(var s=0,o=r.length;s\u003co\u0026\u0026e(r[s]);)s+=1;return cz(s,1/0,r)}));Eq.exports=lz});var hp=v((ufe,Dq)=\u003e{var hz=ne(),pz=hz(function(e,r){return e||r});Dq.exports=pz});var iv=v((cfe,Iq)=\u003e{var dz=ne(),fz=fo(),mz=Fu(),vz=hp(),gz=dz(function(e,r){return fz(e)?function(){return e.apply(this,arguments)||r.apply(this,arguments)}:mz(vz)(e,r)});Iq.exports=gz});var ov=v((lfe,Fq)=\u003e{var yz=Ve(),_z=qm(),bz=aa(),xz=ap(),kz=co(),Nz=yz(function(e){return e!=null\u0026\u0026typeof e[\"fantasy-land/empty\"]==\"function\"?e[\"fantasy-land/empty\"]():e!=null\u0026\u0026e.constructor!=null\u0026\u0026typeof e.constructor[\"fantasy-land/empty\"]==\"function\"?e.constructor[\"fantasy-land/empty\"]():e!=null\u0026\u0026typeof e.empty==\"function\"?e.empty():e!=null\u0026\u0026e.constructor!=null\u0026\u0026typeof e.constructor.empty==\"function\"?e.constructor.empty():bz(e)?[]:kz(e)?\"\":xz(e)?{}:_z(e)?function(){return arguments}():void 0});Fq.exports=Nz});var uv=v((hfe,Vq)=\u003e{var wz=ne(),qz=rv(),Tz=wz(function(e,r){return qz(e\u003e=0?r.length-e:0,r)});Vq.exports=Tz});var Wq=v((pfe,Lq)=\u003e{var Mz=ne(),Sz=Un(),Pz=uv(),Oz=Mz(function(n,e){return Sz(Pz(n.length,e),n)});Lq.exports=Oz});var zq=v((dfe,Bq)=\u003e{var Cz=Xe(),Az=Un(),Rz=Cz(function(e,r,s){return Az(e(r),e(s))});Bq.exports=Rz});var Uq=v((ffe,Gq)=\u003e{var Ez=Xe(),jz=Un(),Dz=Ez(function(e,r,s){return jz(r[e],s[e])});Gq.exports=Dz});var Hq=v((mfe,$q)=\u003e{var Iz=ne(),Fz=Iz(function n(e,r){var s=r instanceof Array?[]:{},o,c,p;for(c in r)o=e[c],p=typeof o,s[c]=p===\"function\"?o(r[c]):o\u0026\u0026p===\"object\"?n(o,r[c]):r[c];return s});$q.exports=Fz});var Xq=v((vfe,Yq)=\u003e{var Vz=ne(),Lz=Oa(),Wz=Jt(),Bz=function(){function n(e,r){this.xf=r,this.f=e,this.found=!1}return n.prototype[\"@@transducer/init\"]=Wz.init,n.prototype[\"@@transducer/result\"]=function(e){return this.found||(e=this.xf[\"@@transducer/step\"](e,void 0)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)\u0026\u0026(this.found=!0,e=Lz(this.xf[\"@@transducer/step\"](e,r))),e},n}(),zz=Vz(function(e,r){return new Bz(e,r)});Yq.exports=zz});var Kq=v((gfe,Zq)=\u003e{var Gz=ne(),Uz=Yt(),$z=Xq(),Hz=Gz(Uz([\"find\"],$z,function(e,r){for(var s=0,o=r.length;s\u003co;){if(e(r[s]))return r[s];s+=1}}));Zq.exports=Hz});var Jq=v((yfe,Qq)=\u003e{var Yz=ne(),Xz=Oa(),Zz=Jt(),Kz=function(){function n(e,r){this.xf=r,this.f=e,this.idx=-1,this.found=!1}return n.prototype[\"@@transducer/init\"]=Zz.init,n.prototype[\"@@transducer/result\"]=function(e){return this.found||(e=this.xf[\"@@transducer/step\"](e,-1)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,r){return this.idx+=1,this.f(r)\u0026\u0026(this.found=!0,e=Xz(this.xf[\"@@transducer/step\"](e,this.idx))),e},n}(),Qz=Yz(function(e,r){return new Kz(e,r)});Qq.exports=Qz});var tT=v((_fe,eT)=\u003e{var Jz=ne(),eG=Yt(),tG=Jq(),nG=Jz(eG([],tG,function(e,r){for(var s=0,o=r.length;s\u003co;){if(e(r[s]))return s;s+=1}return-1}));eT.exports=nG});var rT=v((bfe,nT)=\u003e{var rG=ne(),aG=Jt(),sG=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=aG.init,n.prototype[\"@@transducer/result\"]=function(e){return this.xf[\"@@transducer/result\"](this.xf[\"@@transducer/step\"](e,this.last))},n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)\u0026\u0026(this.last=r),e},n}(),iG=rG(function(e,r){return new sG(e,r)});nT.exports=iG});var sT=v((xfe,aT)=\u003e{var oG=ne(),uG=Yt(),cG=rT(),lG=oG(uG([],cG,function(e,r){for(var s=r.length-1;s\u003e=0;){if(e(r[s]))return r[s];s-=1}}));aT.exports=lG});var oT=v((kfe,iT)=\u003e{var hG=ne(),pG=Jt(),dG=function(){function n(e,r){this.xf=r,this.f=e,this.idx=-1,this.lastIdx=-1}return n.prototype[\"@@transducer/init\"]=pG.init,n.prototype[\"@@transducer/result\"]=function(e){return this.xf[\"@@transducer/result\"](this.xf[\"@@transducer/step\"](e,this.lastIdx))},n.prototype[\"@@transducer/step\"]=function(e,r){return this.idx+=1,this.f(r)\u0026\u0026(this.lastIdx=this.idx),e},n}(),fG=hG(function(e,r){return new dG(e,r)});iT.exports=fG});var cT=v((Nfe,uT)=\u003e{var mG=ne(),vG=Yt(),gG=oT(),yG=mG(vG([],gG,function(e,r){for(var s=r.length-1;s\u003e=0;){if(e(r[s]))return s;s-=1}return-1}));uT.exports=yG});var hT=v((wfe,lT)=\u003e{var _G=Ve(),bG=Rm(),xG=_G(bG(!0));lT.exports=xG});var Uu=v((qfe,pT)=\u003e{var kG=Ve(),NG=pn(),wG=kG(function(e){return NG(e.length,function(r,s){var o=Array.prototype.slice.call(arguments,0);return o[0]=s,o[1]=r,e.apply(this,o)})});pT.exports=wG});var fT=v((Tfe,dT)=\u003e{var qG=mo(),TG=ne(),MG=TG(qG(\"forEach\",function(e,r){for(var s=r.length,o=0;o\u003cs;)e(r[o]),o+=1;return r}));dT.exports=MG});var vT=v((Mfe,mT)=\u003e{var SG=ne(),PG=qr(),OG=SG(function(e,r){for(var s=PG(r),o=0;o\u003cs.length;){var c=s[o];e(r[c],c,r),o+=1}return r});mT.exports=OG});var yT=v((Sfe,gT)=\u003e{var CG=Ve(),AG=CG(function(e){for(var r={},s=0;s\u003ce.length;)r[e[s][0]]=e[s][1],s+=1;return r});gT.exports=AG});var bT=v((Pfe,_T)=\u003e{var RG=mo(),EG=ne(),jG=Gu(),DG=EG(RG(\"groupBy\",jG(function(n,e){return n==null\u0026\u0026(n=[]),n.push(e),n},null)));_T.exports=DG});var kT=v((Ofe,xT)=\u003e{var IG=ne(),FG=IG(function(n,e){for(var r=[],s=0,o=e.length;s\u003co;){for(var c=s+1;c\u003co\u0026\u0026n(e[c-1],e[c]);)c+=1;r.push(e.slice(s,c)),s=c}return r});xT.exports=FG});var wT=v((Cfe,NT)=\u003e{var VG=ne(),LG=VG(function(e,r){return e\u003er});NT.exports=LG});var TT=v((Afe,qT)=\u003e{var WG=ne(),BG=WG(function(e,r){return e\u003e=r});qT.exports=BG});var cv=v((Rfe,ST)=\u003e{var zG=ne(),GG=Gn(),MT=Zh(),UG=zG(function(e,r){if(e.length===0||MT(r))return!1;for(var s=r,o=0;o\u003ce.length;)if(!MT(s)\u0026\u0026GG(e[o],s))s=s[e[o]],o+=1;else return!1;return!0});ST.exports=UG});var lv=v((Efe,PT)=\u003e{var $G=ne(),HG=cv(),YG=$G(function(e,r){return HG([e],r)});PT.exports=YG});var CT=v((jfe,OT)=\u003e{var XG=ne(),ZG=XG(function(e,r){return e in r});OT.exports=ZG});var RT=v((Dfe,AT)=\u003e{var KG=Lm(),QG=ne(),JG=QG(KG);AT.exports=JG});var hv=v((Ife,ET)=\u003e{var e8=Xe(),t8=pn(),n8=e8(function(e,r,s){return t8(Math.max(e.length,r.length,s.length),function(){return e.apply(this,arguments)?r.apply(this,arguments):s.apply(this,arguments)})});ET.exports=n8});var DT=v((Ffe,jT)=\u003e{var r8=Cu(),a8=r8(1);jT.exports=a8});var FT=v((Vfe,IT)=\u003e{var s8=Us(),i8=ne(),o8=i8(s8);IT.exports=o8});var LT=v((Lfe,VT)=\u003e{var u8=Gu(),c8=u8(function(n,e){return e},null);VT.exports=c8});var BT=v((Wfe,WT)=\u003e{var l8=ne(),h8=zm(),p8=aa(),d8=l8(function(e,r){return typeof r.indexOf==\"function\"\u0026\u0026!p8(r)?r.indexOf(e):h8(r,e,0)});WT.exports=d8});var pv=v((Bfe,zT)=\u003e{var f8=Tr(),m8=f8(0,-1);zT.exports=m8});var UT=v((zfe,GT)=\u003e{var v8=Lu(),g8=Xe(),y8=rp(),_8=g8(function(e,r,s){return y8(function(o){return v8(e,o,s)},r)});GT.exports=_8});var HT=v((Gfe,$T)=\u003e{var b8=Xe(),x8=b8(function(e,r,s){e=e\u003cs.length\u0026\u0026e\u003e=0?e:s.length;var o=Array.prototype.slice.call(s,0);return o.splice(e,0,r),o});$T.exports=x8});var XT=v((Ufe,YT)=\u003e{var k8=Xe(),N8=k8(function(e,r,s){return e=e\u003cs.length\u0026\u0026e\u003e=0?e:s.length,[].concat(Array.prototype.slice.call(s,0,e),r,Array.prototype.slice.call(s,e))});YT.exports=N8});var dv=v(($fe,ZT)=\u003e{var w8=Qm(),q8=ne(),T8=q8(function(e,r){for(var s=new w8,o=[],c=0,p,d;c\u003cr.length;)d=r[c],p=e(d),s.add(p)\u0026\u0026o.push(d),c+=1;return o});ZT.exports=T8});var pp=v((Hfe,KT)=\u003e{var M8=yo(),S8=dv(),P8=S8(M8);KT.exports=P8});var JT=v((Yfe,QT)=\u003e{var O8=Us(),C8=ne(),A8=rp(),R8=Uu(),E8=pp(),j8=C8(function(e,r){var s,o;return e.length\u003er.length?(s=e,o=r):(s=r,o=e),E8(A8(R8(O8)(s),o))});QT.exports=j8});var tM=v((Xfe,eM)=\u003e{var D8=mo(),I8=ne(),F8=I8(D8(\"intersperse\",function(e,r){for(var s=[],o=0,c=r.length;o\u003cc;)o===c-1?s.push(r[o]):s.push(r[o],e),o+=1;return s}));eM.exports=F8});var _o=v((Zfe,nM)=\u003e{var V8=Gn();function L8(n){if(n==null)throw new TypeError(\"Cannot convert undefined or null to object\");for(var e=Object(n),r=1,s=arguments.length;r\u003cs;){var o=arguments[r];if(o!=null)for(var c in o)V8(c,o)\u0026\u0026(e[c]=o[c]);r+=1}return e}nM.exports=typeof Object.assign==\"function\"?Object.assign:L8});var fv=v((Kfe,rM)=\u003e{var W8=ne(),B8=W8(function(e,r){var s={};return s[e]=r,s});rM.exports=B8});var iM=v((Qfe,sM)=\u003e{var z8=_o(),mv=np(),aM=Eu(),G8=Yh(),U8=fv(),$8={\"@@transducer/init\":Array,\"@@transducer/step\":function(n,e){return n.push(e),n},\"@@transducer/result\":mv},H8={\"@@transducer/init\":String,\"@@transducer/step\":function(n,e){return n+e},\"@@transducer/result\":mv},Y8={\"@@transducer/init\":Object,\"@@transducer/step\":function(n,e){return z8(n,aM(e)?U8(e[0],e[1]):e)},\"@@transducer/result\":mv};function X8(n){if(G8(n))return n;if(aM(n))return $8;if(typeof n==\"string\")return H8;if(typeof n==\"object\")return Y8;throw new Error(\"Cannot create transformer for \"+n)}sM.exports=X8});var cM=v((Jfe,uM)=\u003e{var Z8=Jh(),K8=Xe(),Q8=Yh(),oM=zn(),J8=iM(),eU=K8(function(e,r,s){return Q8(e)?oM(r(e),e[\"@@transducer/init\"](),s):oM(r(J8(e)),Z8(e,[],[],!1),s)});uM.exports=eU});var hM=v((eme,lM)=\u003e{var tU=Ve(),nU=Gn(),rU=qr(),aU=tU(function(e){for(var r=rU(e),s=r.length,o=0,c={};o\u003cs;){var p=r[o],d=e[p],y=nU(d,c)?c[d]:c[d]=[];y[y.length]=p,o+=1}return c});lM.exports=aU});var dM=v((tme,pM)=\u003e{var sU=Ve(),iU=qr(),oU=sU(function(e){for(var r=iU(e),s=r.length,o=0,c={};o\u003cs;){var p=r[o];c[e[p]]=p,o+=1}return c});pM.exports=oU});var bo=v((nme,fM)=\u003e{var uU=ne(),cU=fo(),lU=pn(),hU=zu(),pU=uU(function(e,r){return lU(e+1,function(){var s=arguments[e];if(s!=null\u0026\u0026cU(s[r]))return s[r].apply(s,Array.prototype.slice.call(arguments,0,e));throw new TypeError(hU(s)+' does not have a method named \"'+r+'\"')})});fM.exports=pU});var vv=v((rme,mM)=\u003e{var dU=ne(),fU=dU(function(e,r){return r!=null\u0026\u0026r.constructor===e||r instanceof e});mM.exports=fU});var gM=v((ame,vM)=\u003e{var mU=Ve(),vU=ov(),gU=Un(),yU=mU(function(e){return e!=null\u0026\u0026gU(e,vU(e))});vM.exports=yU});var _M=v((sme,yM)=\u003e{var _U=bo(),bU=_U(1,\"join\");yM.exports=bU});var dp=v((ime,bM)=\u003e{var xU=Ve(),kU=op(),NU=xU(function(e){return kU(function(){return Array.prototype.slice.call(arguments,0)},e)});bM.exports=NU});var kM=v((ome,xM)=\u003e{var wU=Ve(),qU=wU(function(e){var r,s=[];for(r in e)s[s.length]=r;return s});xM.exports=qU});var wM=v((ume,NM)=\u003e{var TU=ne(),MU=aa(),SU=Un(),PU=TU(function(e,r){if(typeof r.lastIndexOf==\"function\"\u0026\u0026!MU(r))return r.lastIndexOf(e);for(var s=r.length-1;s\u003e=0;){if(SU(r[s],e))return s;s-=1}return-1});NM.exports=PU});var gv=v((cme,qM)=\u003e{function OU(n){return Object.prototype.toString.call(n)===\"[object Number]\"}qM.exports=OU});var yv=v((lme,TM)=\u003e{var CU=Ve(),AU=gv(),RU=CU(function(e){return e!=null\u0026\u0026AU(e.length)?e.length:NaN});TM.exports=RU});var $u=v((hme,MM)=\u003e{var EU=ne(),jU=ur(),DU=EU(function(e,r){return function(s){return function(o){return jU(function(c){return r(c,o)},s(e(o)))}}});MM.exports=DU});var PM=v((pme,SM)=\u003e{var IU=Ve(),FU=$u(),VU=Gs(),LU=up(),WU=IU(function(e){return FU(VU(e),LU(e))});SM.exports=WU});var CM=v((dme,OM)=\u003e{var BU=Ve(),zU=Om(),GU=$u(),UU=os(),$U=BU(function(e){return GU(UU(e),zU(e))});OM.exports=$U});var RM=v((fme,AM)=\u003e{var HU=Ve(),YU=po(),XU=$u(),ZU=Du(),KU=HU(function(e){return XU(ZU(e),YU(e))});AM.exports=KU});var jM=v((mme,EM)=\u003e{var QU=ne(),JU=QU(function(e,r){return e\u003cr});EM.exports=JU});var IM=v((vme,DM)=\u003e{var e$=ne(),t$=e$(function(e,r){return e\u003c=r});DM.exports=t$});var VM=v((gme,FM)=\u003e{var n$=Xe(),r$=n$(function(e,r,s){for(var o=0,c=s.length,p=[],d=[r];o\u003cc;)d=e(d[0],s[o]),p[o]=d[1],o+=1;return[d[0],p]});FM.exports=r$});var WM=v((yme,LM)=\u003e{var a$=Xe(),s$=a$(function(e,r,s){for(var o=s.length-1,c=[],p=[r];o\u003e=0;)p=e(p[0],s[o]),c[o]=p[1],o-=1;return[p[0],c]});LM.exports=s$});var zM=v((_me,BM)=\u003e{var i$=ne(),o$=zn(),u$=qr(),c$=i$(function(e,r){return o$(function(s,o){return s[o]=e(r[o],o,r),s},{},u$(r))});BM.exports=c$});var UM=v((bme,GM)=\u003e{var l$=ne(),h$=l$(function(e,r){return r.match(e)||[]});GM.exports=h$});var YM=v((xme,HM)=\u003e{var p$=ne(),$M=ju(),d$=p$(function(e,r){return $M(e)?!$M(r)||r\u003c1?NaN:(e%r+r)%r:NaN});HM.exports=d$});var ZM=v((kme,XM)=\u003e{var f$=Xe(),m$=f$(function(e,r,s){return e(s)\u003ee(r)?s:r});XM.exports=m$});var _v=v((Nme,KM)=\u003e{var v$=Cu(),g$=zr(),y$=g$(v$,0);KM.exports=y$});var bv=v((wme,QM)=\u003e{var _$=Ve(),b$=_v(),x$=_$(function(e){return b$(e)/e.length});QM.exports=x$});var eS=v((qme,JM)=\u003e{var k$=Ve(),N$=bv(),w$=k$(function(e){var r=e.length;if(r===0)return NaN;var s=2-r%2,o=(r-s)/2;return N$(Array.prototype.slice.call(e,0).sort(function(c,p){return c\u003cp?-1:c\u003ep?1:0}).slice(o,o+s))});JM.exports=w$});var nS=v((Tme,tS)=\u003e{var q$=wr(),T$=ne(),M$=Gn(),S$=T$(function(e,r){var s={};return q$(r.length,function(){var o=e.apply(this,arguments);return M$(o,s)||(s[o]=r.apply(this,arguments)),s[o]})});tS.exports=S$});var xv=v((Mme,rS)=\u003e{var P$=_o(),O$=ne(),C$=O$(function(e,r){return P$({},e,r)});rS.exports=C$});var sS=v((Sme,aS)=\u003e{var A$=_o(),R$=Ve(),E$=R$(function(e){return A$.apply(null,[{}].concat(e))});aS.exports=E$});var mp=v((Pme,iS)=\u003e{var j$=Xe(),fp=Gn(),D$=j$(function(e,r,s){var o={},c;for(c in r)fp(c,r)\u0026\u0026(o[c]=fp(c,s)?e(c,r[c],s[c]):r[c]);for(c in s)fp(c,s)\u0026\u0026!fp(c,o)\u0026\u0026(o[c]=s[c]);return o});iS.exports=D$});var Hu=v((Ome,uS)=\u003e{var I$=Xe(),oS=ap(),F$=mp(),V$=I$(function n(e,r,s){return F$(function(o,c,p){return oS(c)\u0026\u0026oS(p)?n(e,c,p):e(o,c,p)},r,s)});uS.exports=V$});var lS=v((Cme,cS)=\u003e{var L$=ne(),W$=Hu(),B$=L$(function(e,r){return W$(function(s,o,c){return o},e,r)});cS.exports=B$});var pS=v((Ame,hS)=\u003e{var z$=ne(),G$=Hu(),U$=z$(function(e,r){return G$(function(s,o,c){return c},e,r)});hS.exports=U$});var fS=v((Rme,dS)=\u003e{var $$=Xe(),H$=Hu(),Y$=$$(function(e,r,s){return H$(function(o,c,p){return e(c,p)},r,s)});dS.exports=Y$});var vS=v((Eme,mS)=\u003e{var X$=_o(),Z$=ne(),K$=Z$(function(e,r){return X$({},r,e)});mS.exports=K$});var yS=v((jme,gS)=\u003e{var Q$=_o(),J$=ne(),eH=J$(function(e,r){return Q$({},e,r)});gS.exports=eH});var bS=v((Dme,_S)=\u003e{var tH=Xe(),nH=mp(),rH=tH(function(e,r,s){return nH(function(o,c,p){return e(c,p)},r,s)});_S.exports=rH});var kS=v((Ime,xS)=\u003e{var aH=ne(),sH=aH(function(e,r){return r\u003ce?r:e});xS.exports=sH});var wS=v((Fme,NS)=\u003e{var iH=Xe(),oH=iH(function(e,r,s){return e(s)\u003ce(r)?s:r});NS.exports=oH});var TS=v((Vme,qS)=\u003e{var uH=ne(),cH=uH(function(e,r){return e%r});qS.exports=cH});var SS=v((Lme,MS)=\u003e{var lH=Xe(),hH=lH(function(n,e,r){var s=r.length,o=r.slice(),c=n\u003c0?s+n:n,p=e\u003c0?s+e:e,d=o.splice(c,1);return c\u003c0||c\u003e=r.length||p\u003c0||p\u003e=r.length?r:[].concat(o.slice(0,p)).concat(d).concat(o.slice(p,r.length))});MS.exports=hH});var kv=v((Wme,PS)=\u003e{var pH=ne(),dH=pH(function(e,r){return e*r});PS.exports=dH});var CS=v((Bme,OS)=\u003e{var fH=Ve(),mH=fH(function(e){return-e});OS.exports=mH});var RS=v((zme,AS)=\u003e{var vH=Gm(),gH=ne(),yH=km(),_H=gH(function(e,r){return yH(vH(e),r)});AS.exports=_H});var jS=v((Gme,ES)=\u003e{var bH=Ve(),xH=pn(),kH=Gs(),NH=bH(function(e){var r=e\u003c0?1:e+1;return xH(r,function(){return kH(e,arguments)})});ES.exports=NH});var IS=v((Ume,DS)=\u003e{var wH=Xe(),qH=wH(function(e,r,s){return e(r(s))});DS.exports=qH});var VS=v(($me,FS)=\u003e{function TH(n){return[n]}FS.exports=TH});var Nv=v((Hme,LS)=\u003e{var MH=Ve(),SH=VS(),PH=MH(SH);LS.exports=PH});var BS=v((Yme,WS)=\u003e{var OH=ne(),CH=OH(function(e,r){for(var s={},o={},c=0,p=e.length;c\u003cp;)o[e[c]]=1,c+=1;for(var d in r)o.hasOwnProperty(d)||(s[d]=r[d]);return s});WS.exports=CH});var GS=v((Xme,zS)=\u003e{var AH=wr(),RH=Ve(),EH=RH(function(e){var r=!1,s;return AH(e.length,function(){return r||(r=!0,s=e.apply(this,arguments)),s})});zS.exports=EH});var wv=v((Zme,US)=\u003e{var jH=fo(),DH=Hm();function IH(n,e){if(e==null||!jH(e.then))throw new TypeError(\"`\"+n+\"` expected a Promise, received \"+DH(e,[]))}US.exports=IH});var HS=v((Kme,$S)=\u003e{var FH=ne(),VH=wv(),LH=FH(function(e,r){return VH(\"otherwise\",r),r.then(null,e)});$S.exports=LH});var qv=v((Qme,XS)=\u003e{var WH=Xe(),YS=function(n){return{value:n,map:function(e){return YS(e(n))}}},BH=WH(function(e,r,s){return e(function(o){return YS(r(o))})(s).value});XS.exports=BH});var KS=v((Jme,ZS)=\u003e{var zH=ne(),GH=zH(function(e,r){return[e,r]});ZS.exports=GH});var Tv=v((eve,QS)=\u003e{var UH=wr(),$H=ne();function HH(n){return $H(function(e,r){return UH(Math.max(0,e.length-r.length),function(){return e.apply(this,n(r,arguments))})})}QS.exports=HH});var eP=v((tve,JS)=\u003e{var YH=Nr(),XH=Tv(),ZH=XH(YH);JS.exports=ZH});var nP=v((nve,tP)=\u003e{var KH=Nr(),QH=Tv(),JH=Uu(),eY=QH(JH(KH));tP.exports=eY});var aP=v((rve,rP)=\u003e{var tY=sp(),nY=dp(),rY=Bu(),aY=nY([tY,rY]);rP.exports=aY});var iP=v((ave,sP)=\u003e{var sY=Xe(),iY=Un(),oY=os(),uY=sY(function(e,r,s){return iY(oY(e,s),r)});sP.exports=uY});var Mv=v((sve,oP)=\u003e{var cY=Xe(),lY=Km(),hY=os(),pY=cY(function(e,r,s){return lY(e,hY(r,s))});oP.exports=pY});var cP=v((ive,uP)=\u003e{var dY=Xe(),fY=os(),mY=dY(function(e,r,s){return e(fY(r,s))});uP.exports=mY});var hP=v((ove,lP)=\u003e{var vY=ne(),gY=vY(function(e,r){for(var s={},o=0;o\u003ce.length;)e[o]in r\u0026\u0026(s[e[o]]=r[e[o]]),o+=1;return s});lP.exports=gY});var Sv=v((uve,pP)=\u003e{var yY=ne(),_Y=yY(function(e,r){for(var s={},o=0,c=e.length;o\u003cc;){var p=e[o];s[p]=r[p],o+=1}return s});pP.exports=_Y});var fP=v((cve,dP)=\u003e{var bY=ne(),xY=bY(function(e,r){var s={};for(var o in r)e(r[o],o,r)\u0026\u0026(s[o]=r[o]);return s});dP.exports=xY});var vP=v((lve,mP)=\u003e{var kY=Im(),NY=go();function wY(){if(arguments.length===0)throw new Error(\"pipeK requires at least one argument\");return kY.apply(this,NY(arguments))}mP.exports=wY});var Pv=v((hve,gP)=\u003e{var qY=Nr(),TY=ne(),MY=TY(function(e,r){return qY([e],r)});gP.exports=MY});var _P=v((pve,yP)=\u003e{var SY=kv(),PY=zr(),OY=PY(SY,1);yP.exports=OY});var Ov=v((dve,bP)=\u003e{var CY=ne(),AY=pn(),RY=CY(function(e,r){return AY(r.length,function(){for(var s=[],o=0;o\u003cr.length;)s.push(r[o].call(this,arguments[o])),o+=1;return e.apply(this,s.concat(Array.prototype.slice.call(arguments,r.length)))})});bP.exports=RY});var kP=v((fve,xP)=\u003e{var EY=Ru(),jY=yo(),DY=Sv(),IY=Ov(),FY=IY(EY,[DY,jY]);xP.exports=FY});var wP=v((mve,NP)=\u003e{var VY=Xe(),LY=Un(),WY=VY(function(e,r,s){return LY(r,s[e])});NP.exports=WY});var TP=v((vve,qP)=\u003e{var BY=Xe(),zY=vv(),GY=BY(function(e,r,s){return zY(e,s[r])});qP.exports=GY});var SP=v((gve,MP)=\u003e{var UY=Xe(),$Y=Mv(),HY=UY(function(e,r,s){return $Y(e,[r],s)});MP.exports=HY});var OP=v((yve,PP)=\u003e{var YY=Xe(),XY=YY(function(e,r,s){return e(s[r])});PP.exports=XY});var AP=v((_ve,CP)=\u003e{var ZY=ne(),KY=os(),QY=ZY(function(e,r){return e.map(function(s){return KY([s],r)})});CP.exports=QY});var jP=v((bve,EP)=\u003e{var JY=ne(),RP=gv(),eX=JY(function(e,r){if(!(RP(e)\u0026\u0026RP(r)))throw new TypeError(\"Both arguments to range must be numbers\");for(var s=[],o=e;o\u003cr;)s.push(o),o+=1;return s});EP.exports=eX});var Cv=v((xve,DP)=\u003e{var tX=Xe(),nX=tX(function(e,r,s){for(var o=s.length-1;o\u003e=0;)r=e(s[o],r),o-=1;return r});DP.exports=nX});var FP=v((kve,IP)=\u003e{var rX=Au(),aX=zn(),sX=Oa(),iX=rX(4,[],function(e,r,s,o){return aX(function(c,p){return e(c,p)?r(c,p):sX(c)},s,o)});IP.exports=iX});var LP=v((Nve,VP)=\u003e{var oX=Ve(),uX=Oa(),cX=oX(uX);VP.exports=cX});var Av=v((wve,WP)=\u003e{var lX=ne(),hX=lX(function(e,r){var s=Number(r),o=0,c;if(s\u003c0||isNaN(s))throw new RangeError(\"n must be a non-negative number\");for(c=new Array(s);o\u003cs;)c[o]=e(o),o+=1;return c});WP.exports=hX});var zP=v((qve,BP)=\u003e{var pX=ne(),dX=ho(),fX=Av(),mX=pX(function(e,r){return fX(dX(e),r)});BP.exports=mX});var UP=v((Tve,GP)=\u003e{var vX=Xe(),gX=vX(function(e,r,s){return s.replace(e,r)});GP.exports=gX});var HP=v((Mve,$P)=\u003e{var yX=Xe(),_X=yX(function(e,r,s){for(var o=0,c=s.length,p=[r];o\u003cc;)r=e(r,s[o]),p[o+1]=r,o+=1;return p});$P.exports=_X});var Rv=v((Sve,YP)=\u003e{var bX=ne(),xX=Xh(),kX=ur(),NX=Pv(),wX=Cv(),qX=bX(function(e,r){return typeof r.sequence==\"function\"?r.sequence(e):wX(function(s,o){return xX(kX(NX,s),o)},e([]),r)});YP.exports=qX});var ZP=v((Pve,XP)=\u003e{var TX=Xe(),MX=ho(),SX=qv(),PX=TX(function(e,r,s){return SX(e,MX(r),s)});XP.exports=PX});var QP=v((Ove,KP)=\u003e{var OX=ne(),CX=OX(function(e,r){return Array.prototype.slice.call(r,0).sort(e)});KP.exports=CX});var eO=v((Cve,JP)=\u003e{var AX=ne(),RX=AX(function(e,r){return Array.prototype.slice.call(r,0).sort(function(s,o){var c=e(s),p=e(o);return c\u003cp?-1:c\u003ep?1:0})});JP.exports=RX});var nO=v((Ave,tO)=\u003e{var EX=ne(),jX=EX(function(e,r){return Array.prototype.slice.call(r,0).sort(function(s,o){for(var c=0,p=0;c===0\u0026\u0026p\u003ce.length;)c=e[p](s,o),p+=1;return c})});tO.exports=jX});var aO=v((Rve,rO)=\u003e{var DX=bo(),IX=DX(1,\"split\");rO.exports=IX});var oO=v((Eve,iO)=\u003e{var FX=ne(),VX=yv(),sO=Tr(),LX=FX(function(e,r){return[sO(0,e,r),sO(e,VX(r),r)]});iO.exports=LX});var cO=v((jve,uO)=\u003e{var WX=ne(),BX=Tr(),zX=WX(function(e,r){if(e\u003c=0)throw new Error(\"First argument to splitEvery must be a positive integer\");for(var s=[],o=0;o\u003cr.length;)s.push(BX(o,o+=e,r));return s});uO.exports=zX});var hO=v((Dve,lO)=\u003e{var GX=ne(),UX=GX(function(e,r){for(var s=0,o=r.length,c=[];s\u003co\u0026\u0026!e(r[s]);)c.push(r[s]),s+=1;return[c,Array.prototype.slice.call(r,s)]});lO.exports=UX});var dO=v((Ive,pO)=\u003e{var $X=ne(),HX=Un(),YX=cp(),XX=$X(function(n,e){return HX(YX(n.length,e),n)});pO.exports=XX});var mO=v((Fve,fO)=\u003e{var ZX=ne(),KX=ZX(function(e,r){return Number(e)-Number(r)});fO.exports=KX});var yO=v((Vve,gO)=\u003e{var QX=ne(),JX=ip(),vO=Jm(),eZ=QX(function(e,r){return JX(vO(e,r),vO(r,e))});gO.exports=eZ});var xO=v((Lve,bO)=\u003e{var tZ=Xe(),nZ=ip(),_O=ev(),rZ=tZ(function(e,r,s){return nZ(_O(e,r,s),_O(e,s,r))});bO.exports=rZ});var NO=v((Wve,kO)=\u003e{var aZ=ne(),sZ=Tr(),iZ=aZ(function(e,r){for(var s=r.length-1;s\u003e=0\u0026\u0026e(r[s]);)s-=1;return sZ(s+1,1/0,r)});kO.exports=iZ});var TO=v((Bve,qO)=\u003e{var oZ=ne(),uZ=Oa(),wO=Jt(),cZ=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=wO.init,n.prototype[\"@@transducer/result\"]=wO.result,n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r)?this.xf[\"@@transducer/step\"](e,r):uZ(e)},n}(),lZ=oZ(function(e,r){return new cZ(e,r)});qO.exports=lZ});var SO=v((zve,MO)=\u003e{var hZ=ne(),pZ=Yt(),dZ=TO(),fZ=Tr(),mZ=hZ(pZ([\"takeWhile\"],dZ,function(e,r){for(var s=0,o=r.length;s\u003co\u0026\u0026e(r[s]);)s+=1;return fZ(0,s,r)}));MO.exports=mZ});var CO=v((Gve,OO)=\u003e{var vZ=ne(),PO=Jt(),gZ=function(){function n(e,r){this.xf=r,this.f=e}return n.prototype[\"@@transducer/init\"]=PO.init,n.prototype[\"@@transducer/result\"]=PO.result,n.prototype[\"@@transducer/step\"]=function(e,r){return this.f(r),this.xf[\"@@transducer/step\"](e,r)},n}(),yZ=vZ(function(e,r){return new gZ(e,r)});OO.exports=yZ});var RO=v((Uve,AO)=\u003e{var _Z=ne(),bZ=Yt(),xZ=CO(),kZ=_Z(bZ([],xZ,function(e,r){return e(r),r}));AO.exports=kZ});var jO=v(($ve,EO)=\u003e{function NZ(n){return Object.prototype.toString.call(n)===\"[object RegExp]\"}EO.exports=NZ});var IO=v((Hve,DO)=\u003e{var wZ=Em(),qZ=ne(),TZ=jO(),MZ=zu(),SZ=qZ(function(e,r){if(!TZ(e))throw new TypeError(\"\\u2018test\\u2019 requires a value of type RegExp as its first argument; received \"+MZ(e));return wZ(e).test(r)});DO.exports=SZ});var VO=v((Yve,FO)=\u003e{var PZ=ne(),OZ=wv(),CZ=PZ(function(e,r){return OZ(\"andThen\",r),r.then(e)});FO.exports=CZ});var WO=v((Xve,LO)=\u003e{var AZ=bo(),RZ=AZ(0,\"toLowerCase\");LO.exports=RZ});var zO=v((Zve,BO)=\u003e{var EZ=Ve(),jZ=Gn(),DZ=EZ(function(e){var r=[];for(var s in e)jZ(s,e)\u0026\u0026(r[r.length]=[s,e[s]]);return r});BO.exports=DZ});var UO=v((Kve,GO)=\u003e{var IZ=Ve(),FZ=IZ(function(e){var r=[];for(var s in e)r[r.length]=[s,e[s]];return r});GO.exports=FZ});var HO=v((Qve,$O)=\u003e{var VZ=bo(),LZ=VZ(0,\"toUpperCase\");$O.exports=LZ});var XO=v((Jve,YO)=\u003e{var WZ=zn(),BZ=Nm(),zZ=pn(),GZ=zZ(4,function(e,r,s,o){return WZ(e(typeof r==\"function\"?BZ(r):r),s,o)});YO.exports=GZ});var KO=v((ege,ZO)=\u003e{var UZ=Ve(),$Z=UZ(function(e){for(var r=0,s=[];r\u003ce.length;){for(var o=e[r],c=0;c\u003co.length;)typeof s[c]==\"undefined\"\u0026\u0026(s[c]=[]),s[c].push(o[c]),c+=1;r+=1}return s});ZO.exports=$Z});var JO=v((tge,QO)=\u003e{var HZ=Xe(),YZ=ur(),XZ=Rv(),ZZ=HZ(function(e,r,s){return typeof s[\"fantasy-land/traverse\"]==\"function\"?s[\"fantasy-land/traverse\"](r,e):XZ(e,YZ(r,s))});QO.exports=ZZ});var nC=v((nge,tC)=\u003e{var eC=Ve(),Yu=`\t\n\\v\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF`,KZ=\"\\u200B\",QZ=typeof String.prototype.trim==\"function\",JZ=eC(!QZ||Yu.trim()||!KZ.trim()?function(e){var r=new RegExp(\"^[\"+Yu+\"][\"+Yu+\"]*\"),s=new RegExp(\"[\"+Yu+\"][\"+Yu+\"]*$\");return e.replace(r,\"\").replace(s,\"\")}:function(e){return e.trim()});tC.exports=JZ});var aC=v((rge,rC)=\u003e{var eK=wr(),tK=Nr(),nK=ne(),rK=nK(function(e,r){return eK(e.length,function(){try{return e.apply(this,arguments)}catch(s){return r.apply(this,tK([s],arguments))}})});rC.exports=rK});var iC=v((age,sC)=\u003e{var aK=Ve(),sK=aK(function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}});sC.exports=sK});var uC=v((sge,oC)=\u003e{var iK=Ve(),oK=Iu(),uK=iK(function(e){return oK(1,e)});oC.exports=uK});var lC=v((ige,cC)=\u003e{var cK=ne(),lK=pn(),hK=cK(function(e,r){return lK(e,function(){for(var s=1,o=r,c=0,p;s\u003c=e\u0026\u0026typeof o==\"function\";)p=s===e?arguments.length:c+o.length,o=o.apply(this,Array.prototype.slice.call(arguments,c,p)),s+=1,c=p;return o})});cC.exports=hK});var pC=v((oge,hC)=\u003e{var pK=ne(),dK=pK(function(e,r){for(var s=e(r),o=[];s\u0026\u0026s.length;)o[o.length]=s[0],s=e(s[1]);return o});hC.exports=dK});var fC=v((uge,dC)=\u003e{var fK=Nr(),mK=ne(),vK=ep(),gK=pp(),yK=mK(vK(gK,fK));dC.exports=yK});var Ev=v((cge,mC)=\u003e{var _K=Lu(),bK=ne(),xK=bK(function(e,r){for(var s=0,o=r.length,c=[],p;s\u003co;)p=r[s],_K(e,p,c)||(c[c.length]=p),s+=1;return c});mC.exports=xK});var gC=v((lge,vC)=\u003e{var kK=Nr(),NK=Xe(),wK=Ev(),qK=NK(function(e,r,s){return wK(e,kK(r,s))});vC.exports=qK});var jv=v((hge,yC)=\u003e{var TK=Xe(),MK=TK(function(e,r,s){return e(s)?s:r(s)});yC.exports=MK});var Dv=v((pge,_C)=\u003e{var SK=np(),PK=Kh(),OK=PK(SK);_C.exports=OK});var vp=v((dge,bC)=\u003e{var CK=Xe(),AK=CK(function(e,r,s){for(var o=s;!e(o);)o=r(o);return o});bC.exports=AK});var kC=v((fge,xC)=\u003e{var RK=Ve(),EK=RK(function(e){var r,s=[];for(r in e)s[s.length]=e[r];return s});xC.exports=EK});var wC=v((mge,NC)=\u003e{var jK=ne(),DK=function(n){return{value:n,\"fantasy-land/map\":function(){return this}}},IK=jK(function(e,r){return e(DK)(r).value});NC.exports=IK});var Iv=v((vge,qC)=\u003e{var FK=Xe(),VK=FK(function(e,r,s){return e(s)?r(s):s});qC.exports=VK});var Fv=v((gge,TC)=\u003e{var LK=ne(),WK=Gn(),BK=LK(function(e,r){for(var s in e)if(WK(s,e)\u0026\u0026!e[s](r[s]))return!1;return!0});TC.exports=BK});var SC=v((yge,MC)=\u003e{var zK=ne(),GK=Un(),UK=ur(),$K=Fv(),HK=zK(function(e,r){return $K(UK(GK,e),r)});MC.exports=HK});var OC=v((_ge,PC)=\u003e{var YK=Us(),XK=ne(),ZK=Uu(),KK=Bu(),QK=XK(function(n,e){return KK(ZK(YK)(n),e)});PC.exports=QK});var AC=v((bge,CC)=\u003e{var JK=ne(),eQ=JK(function(e,r){return Boolean(!e^!r)});CC.exports=eQ});var EC=v((xge,RC)=\u003e{var tQ=ne(),nQ=tQ(function(e,r){for(var s=0,o=e.length,c,p=r.length,d=[];s\u003co;){for(c=0;c\u003cp;)d[d.length]=[e[s],r[c]],c+=1;s+=1}return d});RC.exports=nQ});var DC=v((kge,jC)=\u003e{var rQ=ne(),aQ=rQ(function(e,r){for(var s=[],o=0,c=Math.min(e.length,r.length);o\u003cc;)s[o]=[e[o],r[o]],o+=1;return s});jC.exports=aQ});var FC=v((Nge,IC)=\u003e{var sQ=ne(),iQ=sQ(function(e,r){for(var s=0,o=Math.min(e.length,r.length),c={};s\u003co;)c[e[s]]=r[s],s+=1;return c});IC.exports=iQ});var LC=v((wge,VC)=\u003e{var oQ=Xe(),uQ=oQ(function(e,r,s){for(var o=[],c=0,p=Math.min(r.length,s.length);c\u003cp;)o[c]=e(r[c],s[c]),c+=1;return o});VC.exports=uQ});var BC=v((qge,WC)=\u003e{var cQ=pn(),lQ=Ve(),hQ=lQ(function(e){return cQ(e.length,function(){var s=arguments;return function(){return e.apply(this,s)}})});WC.exports=hQ});var gp=v((Tge,O)=\u003e{O.exports={};O.exports.F=pk();O.exports.T=ym();O.exports.__=_m();O.exports.add=Cu();O.exports.addIndex=Tk();O.exports.adjust=xm();O.exports.all=km();O.exports.allPass=dN();O.exports.always=ho();O.exports.and=Mm();O.exports.any=_N();O.exports.anyPass=xN();O.exports.ap=Xh();O.exports.aperture=SN();O.exports.append=ON();O.exports.apply=Sm();O.exports.applySpec=jN();O.exports.applyTo=IN();O.exports.ascend=VN();O.exports.assoc=po();O.exports.assocPath=Om();O.exports.binary=$N();O.exports.bind=wm();O.exports.both=QN();O.exports.call=Am();O.exports.chain=Kh();O.exports.clamp=p1();O.exports.clone=y1();O.exports.comparator=b1();O.exports.complement=Dm();O.exports.compose=ep();O.exports.composeK=Im();O.exports.composeP=I1();O.exports.composeWith=z1();O.exports.concat=ip();O.exports.cond=Xm();O.exports.construct=Pw();O.exports.constructN=Zm();O.exports.contains=Cw();O.exports.converge=op();O.exports.countBy=Iw();O.exports.curry=us();O.exports.curryN=pn();O.exports.dec=Vw();O.exports.defaultTo=Km();O.exports.descend=Bw();O.exports.difference=Jm();O.exports.differenceWith=ev();O.exports.dissoc=tv();O.exports.dissocPath=tq();O.exports.divide=rq();O.exports.drop=rv();O.exports.dropLast=gq();O.exports.dropLastWhile=Nq();O.exports.dropRepeats=Oq();O.exports.dropRepeatsWith=sv();O.exports.dropWhile=jq();O.exports.either=iv();O.exports.empty=ov();O.exports.endsWith=Wq();O.exports.eqBy=zq();O.exports.eqProps=Uq();O.exports.equals=Un();O.exports.evolve=Hq();O.exports.filter=sp();O.exports.find=Kq();O.exports.findIndex=tT();O.exports.findLast=sT();O.exports.findLastIndex=cT();O.exports.flatten=hT();O.exports.flip=Uu();O.exports.forEach=fT();O.exports.forEachObjIndexed=vT();O.exports.fromPairs=yT();O.exports.groupBy=bT();O.exports.groupWith=kT();O.exports.gt=wT();O.exports.gte=TT();O.exports.has=lv();O.exports.hasIn=CT();O.exports.hasPath=cv();O.exports.head=tp();O.exports.identical=RT();O.exports.identity=yo();O.exports.ifElse=hv();O.exports.inc=DT();O.exports.includes=FT();O.exports.indexBy=LT();O.exports.indexOf=BT();O.exports.init=pv();O.exports.innerJoin=UT();O.exports.insert=HT();O.exports.insertAll=XT();O.exports.intersection=JT();O.exports.intersperse=tM();O.exports.into=cM();O.exports.invert=hM();O.exports.invertObj=dM();O.exports.invoker=bo();O.exports.is=vv();O.exports.isEmpty=gM();O.exports.isNil=Zh();O.exports.join=_M();O.exports.juxt=dp();O.exports.keys=qr();O.exports.keysIn=kM();O.exports.last=lp();O.exports.lastIndexOf=wM();O.exports.length=yv();O.exports.lens=$u();O.exports.lensIndex=PM();O.exports.lensPath=CM();O.exports.lensProp=RM();O.exports.lift=Fu();O.exports.liftN=Cm();O.exports.lt=jM();O.exports.lte=IM();O.exports.map=ur();O.exports.mapAccum=VM();O.exports.mapAccumRight=WM();O.exports.mapObjIndexed=zM();O.exports.match=UM();O.exports.mathMod=YM();O.exports.max=zs();O.exports.maxBy=ZM();O.exports.mean=bv();O.exports.median=eS();O.exports.memoizeWith=nS();O.exports.merge=xv();O.exports.mergeAll=sS();O.exports.mergeDeepLeft=lS();O.exports.mergeDeepRight=pS();O.exports.mergeDeepWith=fS();O.exports.mergeDeepWithKey=Hu();O.exports.mergeLeft=vS();O.exports.mergeRight=yS();O.exports.mergeWith=bS();O.exports.mergeWithKey=mp();O.exports.min=kS();O.exports.minBy=wS();O.exports.modulo=TS();O.exports.move=SS();O.exports.multiply=kv();O.exports.nAry=Iu();O.exports.negate=CS();O.exports.none=RS();O.exports.not=jm();O.exports.nth=Gs();O.exports.nthArg=jS();O.exports.o=IS();O.exports.objOf=fv();O.exports.of=Nv();O.exports.omit=BS();O.exports.once=GS();O.exports.or=hp();O.exports.otherwise=HS();O.exports.over=qv();O.exports.pair=KS();O.exports.partial=eP();O.exports.partialRight=nP();O.exports.partition=aP();O.exports.path=os();O.exports.paths=Tm();O.exports.pathEq=iP();O.exports.pathOr=Mv();O.exports.pathSatisfies=cP();O.exports.pick=hP();O.exports.pickAll=Sv();O.exports.pickBy=fP();O.exports.pipe=Vu();O.exports.pipeK=vP();O.exports.pipeP=Fm();O.exports.pipeWith=Vm();O.exports.pluck=lo();O.exports.prepend=Pv();O.exports.product=_P();O.exports.project=kP();O.exports.prop=Du();O.exports.propEq=wP();O.exports.propIs=TP();O.exports.propOr=SP();O.exports.propSatisfies=OP();O.exports.props=AP();O.exports.range=jP();O.exports.reduce=zr();O.exports.reduceBy=Gu();O.exports.reduceRight=Cv();O.exports.reduceWhile=FP();O.exports.reduced=LP();O.exports.reject=Bu();O.exports.remove=nv();O.exports.repeat=zP();O.exports.replace=UP();O.exports.reverse=go();O.exports.scan=HP();O.exports.sequence=Rv();O.exports.set=ZP();O.exports.slice=Tr();O.exports.sort=QP();O.exports.sortBy=eO();O.exports.sortWith=nO();O.exports.split=aO();O.exports.splitAt=oO();O.exports.splitEvery=cO();O.exports.splitWhen=hO();O.exports.startsWith=dO();O.exports.subtract=mO();O.exports.sum=_v();O.exports.symmetricDifference=yO();O.exports.symmetricDifferenceWith=xO();O.exports.tail=vo();O.exports.take=cp();O.exports.takeLast=uv();O.exports.takeLastWhile=NO();O.exports.takeWhile=SO();O.exports.tap=RO();O.exports.test=IO();O.exports.andThen=VO();O.exports.times=Av();O.exports.toLower=WO();O.exports.toPairs=zO();O.exports.toPairsIn=UO();O.exports.toString=zu();O.exports.toUpper=HO();O.exports.transduce=XO();O.exports.transpose=KO();O.exports.traverse=JO();O.exports.trim=nC();O.exports.tryCatch=aC();O.exports.type=Qh();O.exports.unapply=iC();O.exports.unary=uC();O.exports.uncurryN=lC();O.exports.unfold=pC();O.exports.union=fC();O.exports.unionWith=gC();O.exports.uniq=pp();O.exports.uniqBy=dv();O.exports.uniqWith=Ev();O.exports.unless=jv();O.exports.unnest=Dv();O.exports.until=vp();O.exports.update=up();O.exports.useWith=Ov();O.exports.values=Pm();O.exports.valuesIn=kC();O.exports.view=wC();O.exports.when=Iv();O.exports.where=Fv();O.exports.whereEq=SC();O.exports.without=OC();O.exports.xor=AC();O.exports.xprod=EC();O.exports.zip=DC();O.exports.zipObj=FC();O.exports.zipWith=LC();O.exports.thunkify=BC()});var sa=v((yp,zC)=\u003e{(function(n,e){typeof yp==\"object\"\u0026\u0026typeof zC!=\"undefined\"?e(yp):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.d3=n.d3||{}))})(yp,function(n){\"use strict\";function e(T,C){return T\u003cC?-1:T\u003eC?1:T\u003e=C?0:NaN}function r(T){let C=T,A=T;T.length===1\u0026\u0026(C=(_e,qe)=\u003eT(_e)-qe,A=s(T));function F(_e,qe,Ge,Ye){for(Ge==null\u0026\u0026(Ge=0),Ye==null\u0026\u0026(Ye=_e.length);Ge\u003cYe;){let pt=Ge+Ye\u003e\u003e\u003e1;A(_e[pt],qe)\u003c0?Ge=pt+1:Ye=pt}return Ge}function I(_e,qe,Ge,Ye){for(Ge==null\u0026\u0026(Ge=0),Ye==null\u0026\u0026(Ye=_e.length);Ge\u003cYe;){let pt=Ge+Ye\u003e\u003e\u003e1;A(_e[pt],qe)\u003e0?Ye=pt:Ge=pt+1}return Ge}function z(_e,qe,Ge,Ye){Ge==null\u0026\u0026(Ge=0),Ye==null\u0026\u0026(Ye=_e.length);let pt=F(_e,qe,Ge,Ye-1);return pt\u003eGe\u0026\u0026C(_e[pt-1],qe)\u003e-C(_e[pt],qe)?pt-1:pt}return{left:F,center:z,right:I}}function s(T){return(C,A)=\u003ee(T(C),A)}function o(T){return T===null?NaN:+T}function*c(T,C){if(C===void 0)for(let A of T)A!=null\u0026\u0026(A=+A)\u003e=A\u0026\u0026(yield A);else{let A=-1;for(let F of T)(F=C(F,++A,T))!=null\u0026\u0026(F=+F)\u003e=F\u0026\u0026(yield F)}}let p=r(e),d=p.right,y=p.left,b=r(o).center;function w(T,C){let A=0;if(C===void 0)for(let F of T)F!=null\u0026\u0026(F=+F)\u003e=F\u0026\u0026++A;else{let F=-1;for(let I of T)(I=C(I,++F,T))!=null\u0026\u0026(I=+I)\u003e=I\u0026\u0026++A}return A}function k(T){return T.length|0}function S(T){return!(T\u003e0)}function L(T){return typeof T!=\"object\"||\"length\"in T?T:Array.from(T)}function j(T){return C=\u003eT(...C)}function B(...T){let C=typeof T[T.length-1]==\"function\"\u0026\u0026j(T.pop());T=T.map(L);let A=T.map(k),F=T.length-1,I=new Array(F+1).fill(0),z=[];if(F\u003c0||A.some(S))return z;for(;;){z.push(I.map((qe,Ge)=\u003eT[Ge][qe]));let _e=F;for(;++I[_e]===A[_e];){if(_e===0)return C?z.map(C):z;I[_e--]=0}}}function ee(T,C){var A=0,F=0;return Float64Array.from(T,C===void 0?I=\u003eA+=+I||0:I=\u003eA+=+C(I,F++,T)||0)}function de(T,C){return C\u003cT?-1:C\u003eT?1:C\u003e=T?0:NaN}function ie(T,C){let A=0,F,I=0,z=0;if(C===void 0)for(let _e of T)_e!=null\u0026\u0026(_e=+_e)\u003e=_e\u0026\u0026(F=_e-I,I+=F/++A,z+=F*(_e-I));else{let _e=-1;for(let qe of T)(qe=C(qe,++_e,T))!=null\u0026\u0026(qe=+qe)\u003e=qe\u0026\u0026(F=qe-I,I+=F/++A,z+=F*(qe-I))}if(A\u003e1)return z/(A-1)}function he(T,C){let A=ie(T,C);return A\u0026\u0026Math.sqrt(A)}function G(T,C){let A,F;if(C===void 0)for(let I of T)I!=null\u0026\u0026(A===void 0?I\u003e=I\u0026\u0026(A=F=I):(A\u003eI\u0026\u0026(A=I),F\u003cI\u0026\u0026(F=I)));else{let I=-1;for(let z of T)(z=C(z,++I,T))!=null\u0026\u0026(A===void 0?z\u003e=z\u0026\u0026(A=F=z):(A\u003ez\u0026\u0026(A=z),F\u003cz\u0026\u0026(F=z)))}return[A,F]}class R{constructor(){this._partials=new Float64Array(32),this._n=0}add(C){let A=this._partials,F=0;for(let I=0;I\u003cthis._n\u0026\u0026I\u003c32;I++){let z=A[I],_e=C+z,qe=Math.abs(C)\u003cMath.abs(z)?C-(_e-z):z-(_e-C);qe\u0026\u0026(A[F++]=qe),C=_e}return A[F]=C,this._n=F+1,this}valueOf(){let C=this._partials,A=this._n,F,I,z,_e=0;if(A\u003e0){for(_e=C[--A];A\u003e0\u0026\u0026(F=_e,I=C[--A],_e=F+I,z=I-(_e-F),!z););A\u003e0\u0026\u0026(z\u003c0\u0026\u0026C[A-1]\u003c0||z\u003e0\u0026\u0026C[A-1]\u003e0)\u0026\u0026(I=z*2,F=_e+I,I==F-_e\u0026\u0026(_e=F))}return _e}}function H(T,C){let A=new R;if(C===void 0)for(let F of T)(F=+F)\u0026\u0026A.add(F);else{let F=-1;for(let I of T)(I=+C(I,++F,T))\u0026\u0026A.add(I)}return+A}function $(T,C){let A=new R,F=-1;return Float64Array.from(T,C===void 0?I=\u003eA.add(+I||0):I=\u003eA.add(+C(I,++F,T)||0))}class se extends Map{constructor(C,A=ze){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:A}}),C!=null)for(let[F,I]of C)this.set(F,I)}get(C){return super.get(Ne(this,C))}has(C){return super.has(Ne(this,C))}set(C,A){return super.set(be(this,C),A)}delete(C){return super.delete(Re(this,C))}}class ue extends Set{constructor(C,A=ze){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:A}}),C!=null)for(let F of C)this.add(F)}has(C){return super.has(Ne(this,C))}add(C){return super.add(be(this,C))}delete(C){return super.delete(Re(this,C))}}function Ne({_intern:T,_key:C},A){let F=C(A);return T.has(F)?T.get(F):A}function be({_intern:T,_key:C},A){let F=C(A);return T.has(F)?T.get(F):(T.set(F,A),A)}function Re({_intern:T,_key:C},A){let F=C(A);return T.has(F)\u0026\u0026(A=T.get(A),T.delete(F)),A}function ze(T){return T!==null\u0026\u0026typeof T==\"object\"?T.valueOf():T}function He(T){return T}function X(T,...C){return Qe(T,He,He,C)}function oe(T,...C){return Qe(T,Array.from,He,C)}function Y(T,C,...A){return Qe(T,He,C,A)}function J(T,C,...A){return Qe(T,Array.from,C,A)}function ge(T,...C){return Qe(T,He,Le,C)}function me(T,...C){return Qe(T,Array.from,Le,C)}function Le(T){if(T.length!==1)throw new Error(\"duplicate key\");return T[0]}function Qe(T,C,A,F){return function I(z,_e){if(_e\u003e=F.length)return A(z);let qe=new se,Ge=F[_e++],Ye=-1;for(let pt of z){let kt=Ge(pt,++Ye,z),Lt=qe.get(kt);Lt?Lt.push(pt):qe.set(kt,[pt])}for(let[pt,kt]of qe)qe.set(pt,I(kt,_e));return C(qe)}(T,0)}function ft(T,C){return Array.from(C,A=\u003eT[A])}function le(T,...C){if(typeof T[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");T=Array.from(T);let[A=e]=C;if(A.length===1||C.length\u003e1){let F=Uint32Array.from(T,(I,z)=\u003ez);return C.length\u003e1?(C=C.map(I=\u003eT.map(I)),F.sort((I,z)=\u003e{for(let _e of C){let qe=e(_e[I],_e[z]);if(qe)return qe}})):(A=T.map(A),F.sort((I,z)=\u003ee(A[I],A[z]))),ft(T,F)}return T.sort(A)}function xe(T,C,A){return(C.length===1?le(Y(T,C,A),([F,I],[z,_e])=\u003ee(I,_e)||e(F,z)):le(X(T,A),([F,I],[z,_e])=\u003eC(I,_e)||e(F,z))).map(([F])=\u003eF)}var Se=Array.prototype,Be=Se.slice;function Oe(T){return function(){return T}}var Pe=Math.sqrt(50),tt=Math.sqrt(10),mt=Math.sqrt(2);function Zt(T,C,A){var F,I=-1,z,_e,qe;if(C=+C,T=+T,A=+A,T===C\u0026\u0026A\u003e0)return[T];if((F=C\u003cT)\u0026\u0026(z=T,T=C,C=z),(qe=An(T,C,A))===0||!isFinite(qe))return[];if(qe\u003e0){let Ge=Math.round(T/qe),Ye=Math.round(C/qe);for(Ge*qe\u003cT\u0026\u0026++Ge,Ye*qe\u003eC\u0026\u0026--Ye,_e=new Array(z=Ye-Ge+1);++I\u003cz;)_e[I]=(Ge+I)*qe}else{qe=-qe;let Ge=Math.round(T*qe),Ye=Math.round(C*qe);for(Ge/qe\u003cT\u0026\u0026++Ge,Ye/qe\u003eC\u0026\u0026--Ye,_e=new Array(z=Ye-Ge+1);++I\u003cz;)_e[I]=(Ge+I)/qe}return F\u0026\u0026_e.reverse(),_e}function An(T,C,A){var F=(C-T)/Math.max(0,A),I=Math.floor(Math.log(F)/Math.LN10),z=F/Math.pow(10,I);return I\u003e=0?(z\u003e=Pe?10:z\u003e=tt?5:z\u003e=mt?2:1)*Math.pow(10,I):-Math.pow(10,-I)/(z\u003e=Pe?10:z\u003e=tt?5:z\u003e=mt?2:1)}function Et(T,C,A){var F=Math.abs(C-T)/Math.max(0,A),I=Math.pow(10,Math.floor(Math.log(F)/Math.LN10)),z=F/I;return z\u003e=Pe?I*=10:z\u003e=tt?I*=5:z\u003e=mt\u0026\u0026(I*=2),C\u003cT?-I:I}function Rn(T,C,A){let F;for(;;){let I=An(T,C,A);if(I===F||I===0||!isFinite(I))return[T,C];I\u003e0?(T=Math.floor(T/I)*I,C=Math.ceil(C/I)*I):I\u003c0\u0026\u0026(T=Math.ceil(T*I)/I,C=Math.floor(C*I)/I),F=I}}function En(T){return Math.ceil(Math.log(w(T))/Math.LN2)+1}function Cr(){var T=He,C=G,A=En;function F(I){Array.isArray(I)||(I=Array.from(I));var z,_e=I.length,qe,Ge=new Array(_e);for(z=0;z\u003c_e;++z)Ge[z]=T(I[z],z,I);var Ye=C(Ge),pt=Ye[0],kt=Ye[1],Lt=A(Ge,pt,kt);if(!Array.isArray(Lt)){let Ef=kt,qi=+Lt;if(C===G\u0026\u0026([pt,kt]=Rn(pt,kt,qi)),Lt=Zt(pt,kt,qi),Lt[Lt.length-1]\u003e=kt)if(Ef\u003e=kt\u0026\u0026C===G){let gr=An(pt,kt,qi);isFinite(gr)\u0026\u0026(gr\u003e0?kt=(Math.floor(kt/gr)+1)*gr:gr\u003c0\u0026\u0026(kt=(Math.ceil(kt*-gr)+1)/-gr))}else Lt.pop()}for(var jr=Lt.length;Lt[0]\u003c=pt;)Lt.shift(),--jr;for(;Lt[jr-1]\u003ekt;)Lt.pop(),--jr;var As=new Array(jr+1),wi;for(z=0;z\u003c=jr;++z)wi=As[z]=[],wi.x0=z\u003e0?Lt[z-1]:pt,wi.x1=z\u003cjr?Lt[z]:kt;for(z=0;z\u003c_e;++z)qe=Ge[z],pt\u003c=qe\u0026\u0026qe\u003c=kt\u0026\u0026As[d(Lt,qe,0,jr)].push(I[z]);return As}return F.value=function(I){return arguments.length?(T=typeof I==\"function\"?I:Oe(I),F):T},F.domain=function(I){return arguments.length?(C=typeof I==\"function\"?I:Oe([I[0],I[1]]),F):C},F.thresholds=function(I){return arguments.length?(A=typeof I==\"function\"?I:Array.isArray(I)?Oe(Be.call(I)):Oe(I),F):A},F}function vr(T,C){let A;if(C===void 0)for(let F of T)F!=null\u0026\u0026(A\u003cF||A===void 0\u0026\u0026F\u003e=F)\u0026\u0026(A=F);else{let F=-1;for(let I of T)(I=C(I,++F,T))!=null\u0026\u0026(A\u003cI||A===void 0\u0026\u0026I\u003e=I)\u0026\u0026(A=I)}return A}function Ar(T,C){let A;if(C===void 0)for(let F of T)F!=null\u0026\u0026(A\u003eF||A===void 0\u0026\u0026F\u003e=F)\u0026\u0026(A=F);else{let F=-1;for(let I of T)(I=C(I,++F,T))!=null\u0026\u0026(A\u003eI||A===void 0\u0026\u0026I\u003e=I)\u0026\u0026(A=I)}return A}function vt(T,C,A=0,F=T.length-1,I=e){for(;F\u003eA;){if(F-A\u003e600){let Ge=F-A+1,Ye=C-A+1,pt=Math.log(Ge),kt=.5*Math.exp(2*pt/3),Lt=.5*Math.sqrt(pt*kt*(Ge-kt)/Ge)*(Ye-Ge/2\u003c0?-1:1),jr=Math.max(A,Math.floor(C-Ye*kt/Ge+Lt)),As=Math.min(F,Math.floor(C+(Ge-Ye)*kt/Ge+Lt));vt(T,C,jr,As,I)}let z=T[C],_e=A,qe=F;for(er(T,A,C),I(T[F],z)\u003e0\u0026\u0026er(T,A,F);_e\u003cqe;){for(er(T,_e,qe),++_e,--qe;I(T[_e],z)\u003c0;)++_e;for(;I(T[qe],z)\u003e0;)--qe}I(T[A],z)===0?er(T,A,qe):(++qe,er(T,qe,F)),qe\u003c=C\u0026\u0026(A=qe+1),C\u003c=qe\u0026\u0026(F=qe-1)}return T}function er(T,C,A){let F=T[C];T[C]=T[A],T[A]=F}function In(T,C,A){if(T=Float64Array.from(c(T,A)),!!(F=T.length)){if((C=+C)\u003c=0||F\u003c2)return Ar(T);if(C\u003e=1)return vr(T);var F,I=(F-1)*C,z=Math.floor(I),_e=vr(vt(T,z).subarray(0,z+1)),qe=Ar(T.subarray(z+1));return _e+(qe-_e)*(I-z)}}function Ba(T,C,A=o){if(!!(F=T.length)){if((C=+C)\u003c=0||F\u003c2)return+A(T[0],0,T);if(C\u003e=1)return+A(T[F-1],F-1,T);var F,I=(F-1)*C,z=Math.floor(I),_e=+A(T[z],z,T),qe=+A(T[z+1],z+1,T);return _e+(qe-_e)*(I-z)}}function za(T,C,A){return Math.ceil((A-C)/(2*(In(T,.75)-In(T,.25))*Math.pow(w(T),-1/3)))}function ga(T,C,A){return Math.ceil((A-C)/(3.5*he(T)*Math.pow(w(T),-1/3)))}function ya(T,C){let A,F=-1,I=-1;if(C===void 0)for(let z of T)++I,z!=null\u0026\u0026(A\u003cz||A===void 0\u0026\u0026z\u003e=z)\u0026\u0026(A=z,F=I);else for(let z of T)(z=C(z,++I,T))!=null\u0026\u0026(A\u003cz||A===void 0\u0026\u0026z\u003e=z)\u0026\u0026(A=z,F=I);return F}function iu(T,C){let A=0,F=0;if(C===void 0)for(let I of T)I!=null\u0026\u0026(I=+I)\u003e=I\u0026\u0026(++A,F+=I);else{let I=-1;for(let z of T)(z=C(z,++I,T))!=null\u0026\u0026(z=+z)\u003e=z\u0026\u0026(++A,F+=z)}if(A)return F/A}function Rr(T,C){return In(T,.5,C)}function*Er(T){for(let C of T)yield*C}function vi(T){return Array.from(Er(T))}function gi(T,C){let A,F=-1,I=-1;if(C===void 0)for(let z of T)++I,z!=null\u0026\u0026(A\u003ez||A===void 0\u0026\u0026z\u003e=z)\u0026\u0026(A=z,F=I);else for(let z of T)(z=C(z,++I,T))!=null\u0026\u0026(A\u003ez||A===void 0\u0026\u0026z\u003e=z)\u0026\u0026(A=z,F=I);return F}function Ga(T,C=Os){let A=[],F,I=!1;for(let z of T)I\u0026\u0026A.push(C(F,z)),F=z,I=!0;return A}function Os(T,C){return[T,C]}function Ua(T,C,A){T=+T,C=+C,A=(I=arguments.length)\u003c2?(C=T,T=0,1):I\u003c3?1:+A;for(var F=-1,I=Math.max(0,Math.ceil((C-T)/A))|0,z=new Array(I);++F\u003cI;)z[F]=T+F*A;return z}function ou(T,C=e){let A,F=!1;if(C.length===1){let I;for(let z of T){let _e=C(z);(F?e(_e,I)\u003c0:e(_e,_e)===0)\u0026\u0026(A=z,I=_e,F=!0)}}else for(let I of T)(F?C(I,A)\u003c0:C(I,I)===0)\u0026\u0026(A=I,F=!0);return A}function yi(T,C=e){if(C.length===1)return gi(T,C);let A,F=-1,I=-1;for(let z of T)++I,(F\u003c0?C(z,z)===0:C(z,A)\u003c0)\u0026\u0026(A=z,F=I);return F}function Ze(T,C=e){let A,F=!1;if(C.length===1){let I;for(let z of T){let _e=C(z);(F?e(_e,I)\u003e0:e(_e,_e)===0)\u0026\u0026(A=z,I=_e,F=!0)}}else for(let I of T)(F?C(I,A)\u003e0:C(I,I)===0)\u0026\u0026(A=I,F=!0);return A}function _a(T,C=e){if(C.length===1)return ya(T,C);let A,F=-1,I=-1;for(let z of T)++I,(F\u003c0?C(z,z)===0:C(z,A)\u003e0)\u0026\u0026(A=z,F=I);return F}function uu(T,C){let A=yi(T,C);return A\u003c0?void 0:A}var _i=bi(Math.random);function bi(T){return function(A,F=0,I=A.length){let z=I-(F=+F);for(;z;){let _e=T()*z--|0,qe=A[z+F];A[z+F]=A[_e+F],A[_e+F]=qe}return A}}function xi(T,C){let A=0;if(C===void 0)for(let F of T)(F=+F)\u0026\u0026(A+=F);else{let F=-1;for(let I of T)(I=+C(I,++F,T))\u0026\u0026(A+=I)}return A}function hl(T){if(!(z=T.length))return[];for(var C=-1,A=Ar(T,Cf),F=new Array(A);++C\u003cA;)for(var I=-1,z,_e=F[C]=new Array(z);++I\u003cz;)_e[I]=T[I][C];return F}function Cf(T){return T.length}function Vt(){return hl(arguments)}function ki(T,C){if(typeof C!=\"function\")throw new TypeError(\"test is not a function\");let A=-1;for(let F of T)if(!C(F,++A,T))return!1;return!0}function Af(T,C){if(typeof C!=\"function\")throw new TypeError(\"test is not a function\");let A=-1;for(let F of T)if(C(F,++A,T))return!0;return!1}function pl(T,C){if(typeof C!=\"function\")throw new TypeError(\"test is not a function\");let A=[],F=-1;for(let I of T)C(I,++F,T)\u0026\u0026A.push(I);return A}function Rf(T,C){if(typeof T[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");if(typeof C!=\"function\")throw new TypeError(\"mapper is not a function\");return Array.from(T,(A,F)=\u003eC(A,F,T))}function Cs(T,C,A){if(typeof C!=\"function\")throw new TypeError(\"reducer is not a function\");let F=T[Symbol.iterator](),I,z,_e=-1;if(arguments.length\u003c3){if({done:I,value:A}=F.next(),I)return;++_e}for(;{done:I,value:z}=F.next(),!I;)A=C(A,z,++_e,T);return A}function tb(T){if(typeof T[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");return Array.from(T).reverse()}function Mt(T,...C){T=new Set(T);for(let A of C)for(let F of A)T.delete(F);return T}function Ut(T,C){let A=C[Symbol.iterator](),F=new Set;for(let I of T){if(F.has(I))return!1;let z,_e;for(;({value:z,done:_e}=A.next())\u0026\u0026!_e;){if(Object.is(I,z))return!1;F.add(z)}}return!0}function dl(T){return T instanceof Set?T:new Set(T)}function jt(T,...C){T=new Set(T),C=C.map(dl);e:for(let A of T)for(let F of C)if(!F.has(A)){T.delete(A);continue e}return T}function Ni(T,C){let A=T[Symbol.iterator](),F=new Set;for(let I of C){if(F.has(I))continue;let z,_e;for(;{value:z,done:_e}=A.next();){if(_e)return!1;if(F.add(z),Object.is(I,z))break}}return!0}function cu(T,C){return Ni(C,T)}function fl(...T){let C=new Set;for(let A of T)for(let F of A)C.add(F);return C}n.Adder=R,n.InternMap=se,n.InternSet=ue,n.ascending=e,n.bin=Cr,n.bisect=d,n.bisectCenter=b,n.bisectLeft=y,n.bisectRight=d,n.bisector=r,n.count=w,n.cross=B,n.cumsum=ee,n.descending=de,n.deviation=he,n.difference=Mt,n.disjoint=Ut,n.every=ki,n.extent=G,n.fcumsum=$,n.filter=pl,n.fsum=H,n.greatest=Ze,n.greatestIndex=_a,n.group=X,n.groupSort=xe,n.groups=oe,n.histogram=Cr,n.index=ge,n.indexes=me,n.intersection=jt,n.least=ou,n.leastIndex=yi,n.map=Rf,n.max=vr,n.maxIndex=ya,n.mean=iu,n.median=Rr,n.merge=vi,n.min=Ar,n.minIndex=gi,n.nice=Rn,n.pairs=Ga,n.permute=ft,n.quantile=In,n.quantileSorted=Ba,n.quickselect=vt,n.range=Ua,n.reduce=Cs,n.reverse=tb,n.rollup=Y,n.rollups=J,n.scan=uu,n.shuffle=_i,n.shuffler=bi,n.some=Af,n.sort=le,n.subset=cu,n.sum=xi,n.superset=Ni,n.thresholdFreedmanDiaconis=za,n.thresholdScott=ga,n.thresholdSturges=En,n.tickIncrement=An,n.tickStep=Et,n.ticks=Zt,n.transpose=hl,n.union=fl,n.variance=ie,n.zip=Vt,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Op=v(De=\u003e{\"use strict\";Object.defineProperty(De,\"__esModule\",{value:!0});De.replace=De.edit=De.appendChild=De.insertChild=De.insertRight=De.insertLeft=De.prev=De.next=De.root=De.up=De.canGoUp=De.canGoRight=De.canGoLeft=De.isRightmost=De.isLeftmost=De.isNotTop=De.isTop=De.isEnd=De.getChildren=De.isLeaf=De.value=De.whilst=void 0;De.zipperFrom=Hn;De.isBranch=$s;De.leftmost=iA;De.left=rg;De.right=Mp;De.rightmost=ag;De.canGoDown=sg;De.down=Sp;De.remove=hA;De.makeZipper=fA;var pQ=_m(),UC=qt(pQ),dQ=po(),Gv=qt(dQ),fQ=Nv(),mQ=qt(fQ),vQ=ho(),gQ=qt(vQ),yQ=Am(),_Q=qt(yQ),bQ=Xm(),$C=qt(bQ),xQ=op(),_p=qt(xQ),kQ=Dm(),xo=qt(kQ),NQ=us(),cs=qt(NQ),wQ=iv(),qQ=qt(wQ),TQ=tp(),Uv=qt(TQ),MQ=Un(),$v=qt(MQ),SQ=yo(),bp=qt(SQ),PQ=pv(),Hv=qt(PQ),OQ=hv(),HC=qt(OQ),CQ=lp(),xp=qt(CQ),AQ=hp(),Yv=qt(AQ),RQ=Du(),Ca=qt(RQ),EQ=dp(),jQ=qt(EQ),DQ=vo(),Xv=qt(DQ),IQ=Vu(),zt=qt(IQ),FQ=xv(),ls=qt(FQ),VQ=ym(),YC=qt(VQ),LQ=Iv(),XC=qt(LQ),WQ=jv(),BQ=qt(WQ),zQ=vp(),GQ=qt(zQ),UQ=Dv(),$Q=qt(UQ);function qt(n){return n\u0026\u0026n.__esModule?n:{default:n}}var Zv=null,Kv=\"END\";function Qv(n){return!n.length}var Jv=De.whilst=(0,cs.default)(function(n,e,r){for(var s=r;n(s);)s=e(s);return s}),HQ={left:[],right:[],parentItems:Zv,parentPath:Zv,changed:!1};function eg(n,e,r){this.item=n,this.path=e,this.meta=r}var $n=(0,Ca.default)(\"item\"),YQ=De.value=$n,Tn=(0,Ca.default)(\"path\"),kp=(0,Ca.default)(\"meta\"),XQ=(0,cs.default)(function(n,e){return n(e),e}),ZQ=function(e){return function(){throw new Error(e)}},ZC=(0,zt.default)(ZQ,XQ);function Hn(n,e,r,s){return new eg(e,r||Tn(n),s||kp(n))}function $s(n){return kp(n).isBranch($n(n))}var KC=De.isLeaf=(0,xo.default)($s),KQ=(0,zt.default)(kp,(0,Ca.default)(\"getChildren\")),Np=De.getChildren=(0,zt.default)((0,XC.default)(KC,ZC(\"Tried getting children of a leaf\")),(0,_p.default)(_Q.default,[KQ,$n]));function wp(n,e,r){return kp(n).makeItem(e,r)}var Hs=De.isEnd=(0,zt.default)(Tn,(0,$v.default)(Kv)),tg=(0,Ca.default)(\"parentItems\"),QC=(0,zt.default)(tg,xp.default),JC=(0,Ca.default)(\"parentPath\"),QQ=(0,zt.default)(Tn,(0,XC.default)((0,$v.default)(Kv),ZC(\"Can't get parent items from end path.\")),tg),eA=(0,zt.default)(Tn,QC),tA=(0,zt.default)(Tn,JC),ia=De.isTop=(0,zt.default)(QQ,(0,$v.default)(Zv)),nA=De.isNotTop=(0,xo.default)(ia),Ys=(0,zt.default)((0,Ca.default)(\"left\"),(0,Yv.default)(UC.default,[])),Xs=(0,zt.default)((0,Ca.default)(\"right\"),(0,Yv.default)(UC.default,[])),rA=(0,zt.default)(Tn,Ys),aA=(0,zt.default)(Tn,Xs),JQ=(0,zt.default)(Tn,(0,Ca.default)(\"changed\"),Boolean),eJ=(0,xo.default)(JQ),tJ=(0,xo.default)(Qv),qp=De.isLeftmost=(0,zt.default)(rA,Qv),Tp=De.isRightmost=(0,zt.default)(aA,Qv),sA=De.canGoLeft=(0,xo.default)(qp),ng=De.canGoRight=(0,xo.default)(Tp);function iA(n){if(ia(n)||qp(n))return n;var e=Tn(n),r=Ys(e),s=Xs(e),o=$n(n),c=(0,Uv.default)(r),p=[],d=(0,Xv.default)(r).concat([o],s);return Hn(n,c,(0,ls.default)(e,{left:p,right:d}))}function rg(n){if(Hs(n))return n;if(qp(n))return null;var e=$n(n),r=Tn(n),s=Ys(r),o=Xs(r),c=(0,xp.default)(s),p=(0,Hv.default)(s),d=[e].concat(o);return Hn(n,c,(0,ls.default)(r,{left:p,right:d}))}function Mp(n){if(Hs(n))return n;if(Tp(n))return null;var e=$n(n),r=Tn(n),s=Ys(r),o=Xs(r),c=(0,Uv.default)(o),p=s.concat([e]),d=(0,Xv.default)(o);return Hn(n,c,(0,ls.default)(r,{left:p,right:d}))}function ag(n){if(Tp(n))return n;var e=Tn(n),r=Xs(e),s=Ys(e),o=$n(n),c=(0,xp.default)(r),p=s.concat([o],(0,Hv.default)(r)),d=[];return Hn(n,c,(0,ls.default)(e,{left:p,right:d}))}function sg(n){return $s(n)\u0026\u0026tJ(Np(n))}function Sp(n){if(!$s(n))return null;var e=$n(n),r=Tn(n),s=Np(n),o=[],c=(0,Xv.default)(s),p=Hn(n,(0,Uv.default)(s),(0,ls.default)(r,{left:o,right:c,parentItems:(tg(r)||[]).concat([e]),parentPath:r}));return p}function oA(n,e){if(ia(e))throw new Error(\"Tried inserting left of top\");var r=$n(e),s=Tn(e),o=Ys(s);return Hn(e,r,(0,ls.default)(s,{left:o.concat([n]),changed:!0}))}function uA(n,e){if(ia(e))throw new Error(\"Tried inserting left of top\");var r=$n(e),s=Tn(e),o=Xs(s);return Hn(e,r,(0,ls.default)(s,{right:[n].concat(o),changed:!0}))}function Xu(n,e){return $n(e)===n?e:Hn(e,n,(0,Gv.default)(\"changed\",!0,Tn(e)))}function cA(n,e){return Xu(n($n(e)),e)}var nJ=De.canGoUp=nA,rJ=(0,_p.default)(Hn,[bp.default,eA,tA]),aJ=(0,zt.default)((0,jQ.default)([rA,(0,zt.default)($n,mQ.default),aA]),$Q.default),sJ=(0,_p.default)(wp,[bp.default,eA,aJ]),Pp=De.up=(0,$C.default)([[(0,Yv.default)(ia,Hs),(0,gQ.default)(null)],[eJ,rJ],[YC.default,(0,_p.default)(Hn,[bp.default,sJ,(0,zt.default)(tA,(0,Gv.default)(\"changed\",!0))])]]),iJ=De.root=(0,BQ.default)(Hs,Jv(nA,Pp)),oJ=function(e){return Hn(e,$n(e),Kv)},uJ=(0,zt.default)((0,GQ.default)((0,qQ.default)(ia,ng),Pp),(0,HC.default)(ia,oJ,Mp)),cJ=De.next=(0,$C.default)([[Hs,bp.default],[sg,Sp],[ng,Mp],[YC.default,uJ]]),lA=(0,zt.default)(Sp,ag),lJ=De.prev=(0,HC.default)(sA,(0,zt.default)(rg,Jv($s,lA)),Pp);function hA(n){if(ia(n))throw new Error(\"Can't remove top.\");if(Hs(n))throw new Error(\"Can't remove end\");var e=Tn(n),r=Ys(e);if(r.length){var s=Hn(n,(0,xp.default)(r),(0,ls.default)(e,{left:(0,Hv.default)(r),changed:!0}));return Jv($s,lA,s)}else{var o=Xs(e),c=JC(e),p=QC(e);return Hn(n,wp(n,p,o),ia(n)?c:(0,Gv.default)(\"changed\",!0,c))}}function pA(n,e){var r=[n].concat(Np(e));return Xu(wp(e,n,r),e)}function dA(n,e){var r=Np(e).concat([n]);return Xu(wp(e,n,r),e)}function Xt(n){return function(){return n(this)}}function ko(n){return function(r){return n(r,this)}}Object.assign(eg.prototype,{value:Xt(YQ),root:Xt(iJ),up:Xt(Pp),down:Xt(Sp),left:Xt(rg),right:Xt(Mp),leftmost:Xt(iA),rightmost:Xt(ag),next:Xt(cJ),prev:Xt(lJ),isEnd:Xt(Hs),isTop:Xt(ia),isBranch:Xt($s),isLeaf:Xt(KC),isLeftmost:Xt(qp),isRightmost:Xt(Tp),canGoUp:Xt(nJ),canGoLeft:Xt(sA),canGoRight:Xt(ng),canGoDown:Xt(sg),edit:ko(cA),replace:ko(Xu),insertLeft:ko(oA),insertRight:ko(uA),insertChild:ko(pA),appendChild:ko(dA),remove:Xt(hA)});function fA(n,e,r){function s(o){return new eg(o,HQ,{isBranch:n,getChildren:e,makeItem:r})}return s.from=s,s}var Dge=De.insertLeft=(0,cs.default)(oA),Ige=De.insertRight=(0,cs.default)(uA),Fge=De.insertChild=(0,cs.default)(pA),Vge=De.appendChild=(0,cs.default)(dA),Lge=De.edit=(0,cs.default)(cA),Wge=De.replace=(0,cs.default)(Xu);De.default=fA});var lg=v(Mr=\u003e{\"use strict\";Object.defineProperty(Mr,\"__esModule\",{value:!0});Mr.onPost=Mr.onPre=Mr.visit=Mr.POST=Mr.PRE=void 0;var hJ=us(),mA=gA(hJ),pJ=lv(),vA=gA(pJ),Gr=Op();function gA(n){return n\u0026\u0026n.__esModule?n:{default:n}}var yA=Mr.PRE=\"PRE\",ig=Mr.POST=\"POST\";function dJ(n,e,r,s){for(var o=e,c=r,p=!1,d=!1,y=0;y\u003cs.length;y++){var b=s[y],w=b(n,o,c)||{},k=w.item,S=w.state,L=w.stop,j=w.cut;if((0,vA.default)(\"item\",w)\u0026\u0026(o=k),(0,vA.default)(\"state\",w)\u0026\u0026(c=S),L||j){p=L,d=j;break}}return{item:o,state:c,stop:p,cut:d}}function og(n,e,r,s){var o=dJ(n,(0,Gr.value)(e),r,s)||{},c=o.item,p=o.state,d=o.stop,y=o.cut;return{loc:o.hasOwnProperty(\"item\")?(0,Gr.replace)(c,e):e,state:o.hasOwnProperty(\"state\")?p:r,stop:d,cut:y}}var ug=\"DOWN\",cg=\"RIGHT\";function _A(n,e){return{item:(0,Gr.value)((0,Gr.root)(n)),state:e}}var zge=Mr.visit=(0,mA.default)(function(e,r,s){for(var o=ug,c=s,p=r,d=!0;d||(0,Gr.isNotTop)(c);)if(d=!1,o===ug){var y=og(yA,c,p,e);if(p=y.state,c=y.loc,y.stop)return _A(c,p);!y.cut\u0026\u0026(0,Gr.canGoDown)(c)?c=(0,Gr.down)(c):o=cg}else if(o===cg){var b=og(ig,c,p,e);if(p=b.state,c=b.loc,b.stop)return _A(c,p);(0,Gr.canGoRight)(c)?(c=(0,Gr.right)(c),o=ug):(c=(0,Gr.up)(c),o=cg)}var w=og(ig,c,p,e);return p=w.state,c=w.loc,{item:(0,Gr.value)(c),zipper:c,state:p}}),bA=(0,mA.default)(function(n,e){return function(r,s,o){return r===n?e(s,o):void 0}}),Gge=Mr.onPre=bA(yA),Uge=Mr.onPost=bA(ig)});var xA=v(Aa=\u003e{\"use strict\";Object.defineProperty(Aa,\"__esModule\",{value:!0});Aa.walk=Aa.preWalk=Aa.postWalk=void 0;var fJ=us(),hg=mJ(fJ),Zs=lg();function mJ(n){return n\u0026\u0026n.__esModule?n:{default:n}}var Cp=function(e){return function(r,s){return{item:e(r)}}},vJ=Aa.postWalk=(0,hg.default)(function(n,e){return(0,Zs.visit)([(0,Zs.onPost)(Cp(n))],void 0,e).zipper}),gJ=Aa.preWalk=(0,hg.default)(function(n,e){return(0,Zs.visit)([(0,Zs.onPre)(Cp(n))],void 0,e).zipper}),yJ=Aa.walk=(0,hg.default)(function(n,e,r){return(0,Zs.visit)([(0,Zs.onPre)(Cp(n)),(0,Zs.onPost)(Cp(e))],void 0,r).zipper});Aa.default={walk:yJ,postWalk:vJ,preWalk:gJ}});var kA=v(Zu=\u003e{\"use strict\";Object.defineProperty(Zu,\"__esModule\",{value:!0});Zu.ArrayZipper=void 0;var _J=Op(),bJ=Zu.ArrayZipper=(0,_J.makeZipper)(function(n){return!!n.length},function(n){return n},function(n,e){return e});Zu.default=bJ});var vg=v(oa=\u003e{\"use strict\";Object.defineProperty(oa,\"__esModule\",{value:!0});oa.ArrayZipper=oa.zip=void 0;var xJ=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)\u0026\u0026(n[s]=r[s])}return n},pg=xA();Object.keys(pg).forEach(function(n){n!==\"default\"\u0026\u0026Object.defineProperty(oa,n,{enumerable:!0,get:function(){return pg[n]}})});var dg=lg();Object.keys(dg).forEach(function(n){n!==\"default\"\u0026\u0026Object.defineProperty(oa,n,{enumerable:!0,get:function(){return dg[n]}})});var fg=Op();Object.keys(fg).forEach(function(n){n!==\"default\"\u0026\u0026Object.defineProperty(oa,n,{enumerable:!0,get:function(){return fg[n]}})});var Ap=mg(fg),kJ=mg(pg),NJ=kA(),NA=wJ(NJ),wA=mg(dg);function wJ(n){return n\u0026\u0026n.__esModule?n:{default:n}}function mg(n){if(n\u0026\u0026n.__esModule)return n;var e={};if(n!=null)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)\u0026\u0026(e[r]=n[r]);return e.default=n,e}oa.zip=Ap;oa.ArrayZipper=NA.default;var qJ=xJ({},Ap,wA,{ArrayZipper:NA.default,walk:kJ,makeZipper:Ap.makeZipper,visit:wA,zip:Ap});oa.default=qJ});var ot=v((zye,VA)=\u003e{VA.exports=React});var ec=v((Ju,Ng)=\u003e{(function(n,e){typeof Ju==\"object\"\u0026\u0026typeof Ng==\"object\"?Ng.exports=e():typeof define==\"function\"\u0026\u0026define.amd?define([],e):typeof Ju==\"object\"?Ju.Tone=e():n.Tone=e()})(typeof self!=\"undefined\"?self:Ju,function(){return function(n){var e={};function r(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=n,r.c=e,r.d=function(s,o,c){r.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:c})},r.r=function(s){typeof Symbol!=\"undefined\"\u0026\u0026Symbol.toStringTag\u0026\u0026Object.defineProperty(s,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(s,\"__esModule\",{value:!0})},r.t=function(s,o){if(1\u0026o\u0026\u0026(s=r(s)),8\u0026o||4\u0026o\u0026\u0026typeof s==\"object\"\u0026\u0026s\u0026\u0026s.__esModule)return s;var c=Object.create(null);if(r.r(c),Object.defineProperty(c,\"default\",{enumerable:!0,value:s}),2\u0026o\u0026\u0026typeof s!=\"string\")for(var p in s)r.d(c,p,function(d){return s[d]}.bind(null,p));return c},r.n=function(s){var o=s\u0026\u0026s.__esModule?function(){return s.default}:function(){return s};return r.d(o,\"a\",o),o},r.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},r.p=\"\",r(r.s=9)}([function(n,e,r){(function(s,o,c,p){\"use strict\";function d(X){return X\u0026\u0026typeof X==\"object\"\u0026\u0026\"default\"in X?X:{default:X}}var y=d(o),b=d(c),w=d(p),k=function(X,oe,Y){return{endTime:oe,insertTime:Y,type:\"exponentialRampToValue\",value:X}},S=function(X,oe,Y){return{endTime:oe,insertTime:Y,type:\"linearRampToValue\",value:X}},L=function(X,oe){return{startTime:oe,type:\"setValue\",value:X}},j=function(X,oe,Y){return{duration:Y,startTime:oe,type:\"setValueCurve\",values:X}},B=function(X,oe,Y){var J=Y.startTime,ge=Y.target,me=Y.timeConstant;return ge+(oe-ge)*Math.exp((J-X)/me)},ee=function(X){return X.type===\"exponentialRampToValue\"},de=function(X){return X.type===\"linearRampToValue\"},ie=function(X){return ee(X)||de(X)},he=function(X){return X.type===\"setValue\"},G=function(X){return X.type===\"setValueCurve\"},R=function X(oe,Y,J,ge){var me=oe[Y];return me===void 0?ge:ie(me)||he(me)?me.value:G(me)?me.values[me.values.length-1]:B(J,X(oe,Y-1,me.startTime,ge),me)},H=function(X,oe,Y,J,ge){return Y===void 0?[J.insertTime,ge]:ie(Y)?[Y.endTime,Y.value]:he(Y)?[Y.startTime,Y.value]:G(Y)?[Y.startTime+Y.duration,Y.values[Y.values.length-1]]:[Y.startTime,R(X,oe-1,Y.startTime,ge)]},$=function(X){return X.type===\"cancelAndHold\"},se=function(X){return X.type===\"cancelScheduledValues\"},ue=function(X){return $(X)||se(X)?X.cancelTime:ee(X)||de(X)?X.endTime:X.startTime},Ne=function(X,oe,Y,J){var ge=J.endTime,me=J.value;return Y===me?me:0\u003cY\u0026\u00260\u003cme||Y\u003c0\u0026\u0026me\u003c0?Y*Math.pow(me/Y,(X-oe)/(ge-oe)):0},be=function(X,oe,Y,J){return Y+(X-oe)/(J.endTime-oe)*(J.value-Y)},Re=function(X,oe){var Y=oe.duration,J=oe.startTime,ge=oe.values;return function(me,Le){var Qe=Math.floor(Le),ft=Math.ceil(Le);return Qe===ft?me[Qe]:(1-(Le-Qe))*me[Qe]+(1-(ft-Le))*me[ft]}(ge,(X-J)/Y*(ge.length-1))},ze=function(X){return X.type===\"setTarget\"},He=function(){function X(oe){b.default(this,X),this._automationEvents=[],this._currenTime=0,this._defaultValue=oe}return w.default(X,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:\"add\",value:function(oe){var Y=ue(oe);if($(oe)||se(oe)){var J=this._automationEvents.findIndex(function(Oe){return se(oe)\u0026\u0026G(Oe)?Oe.startTime+Oe.duration\u003e=Y:ue(Oe)\u003e=Y}),ge=this._automationEvents[J];if(J!==-1\u0026\u0026(this._automationEvents=this._automationEvents.slice(0,J)),$(oe)){var me=this._automationEvents[this._automationEvents.length-1];if(ge!==void 0\u0026\u0026ie(ge)){if(ze(me))throw new Error(\"The internal list is malformed.\");var Le=G(me)?me.startTime+me.duration:ue(me),Qe=G(me)?me.values[me.values.length-1]:me.value,ft=ee(ge)?Ne(Y,Le,Qe,ge):be(Y,Le,Qe,ge),le=ee(ge)?k(ft,Y,this._currenTime):S(ft,Y,this._currenTime);this._automationEvents.push(le)}me!==void 0\u0026\u0026ze(me)\u0026\u0026this._automationEvents.push(L(this.getValue(Y),Y)),me!==void 0\u0026\u0026G(me)\u0026\u0026me.startTime+me.duration\u003eY\u0026\u0026(this._automationEvents[this._automationEvents.length-1]=j(new Float32Array([6,7]),me.startTime,Y-me.startTime))}}else{var xe=this._automationEvents.findIndex(function(Oe){return ue(Oe)\u003eY}),Se=xe===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[xe-1];if(Se!==void 0\u0026\u0026G(Se)\u0026\u0026ue(Se)+Se.duration\u003eY)return!1;var Be=ee(oe)?k(oe.value,oe.endTime,this._currenTime):de(oe)?S(oe.value,Y,this._currenTime):oe;if(xe===-1)this._automationEvents.push(Be);else{if(G(oe)\u0026\u0026Y+oe.duration\u003eue(this._automationEvents[xe]))return!1;this._automationEvents.splice(xe,0,Be)}}return!0}},{key:\"flush\",value:function(oe){var Y=this._automationEvents.findIndex(function(me){return ue(me)\u003eoe});if(Y\u003e1){var J=this._automationEvents.slice(Y-1),ge=J[0];ze(ge)\u0026\u0026J.unshift(L(R(this._automationEvents,Y-2,ge.startTime,this._defaultValue),ge.startTime)),this._automationEvents=J}}},{key:\"getValue\",value:function(oe){if(this._automationEvents.length===0)return this._defaultValue;var Y=this._automationEvents[this._automationEvents.length-1],J=this._automationEvents.findIndex(function(Pe){return ue(Pe)\u003eoe}),ge=this._automationEvents[J],me=ue(Y)\u003c=oe?Y:this._automationEvents[J-1];if(me!==void 0\u0026\u0026ze(me)\u0026\u0026(ge===void 0||!ie(ge)||ge.insertTime\u003eoe))return B(oe,R(this._automationEvents,J-2,me.startTime,this._defaultValue),me);if(me!==void 0\u0026\u0026he(me)\u0026\u0026(ge===void 0||!ie(ge)))return me.value;if(me!==void 0\u0026\u0026G(me)\u0026\u0026(ge===void 0||!ie(ge)||me.startTime+me.duration\u003eoe))return oe\u003cme.startTime+me.duration?Re(oe,me):me.values[me.values.length-1];if(me!==void 0\u0026\u0026ie(me)\u0026\u0026(ge===void 0||!ie(ge)))return me.value;if(ge!==void 0\u0026\u0026ee(ge)){var Le=H(this._automationEvents,J-1,me,ge,this._defaultValue),Qe=y.default(Le,2),ft=Qe[0],le=Qe[1];return Ne(oe,ft,le,ge)}if(ge!==void 0\u0026\u0026de(ge)){var xe=H(this._automationEvents,J-1,me,ge,this._defaultValue),Se=y.default(xe,2),Be=Se[0],Oe=Se[1];return be(oe,Be,Oe,ge)}return this._defaultValue}}]),X}();s.AutomationEventList=He,s.createCancelAndHoldAutomationEvent=function(X){return{cancelTime:X,type:\"cancelAndHold\"}},s.createCancelScheduledValuesAutomationEvent=function(X){return{cancelTime:X,type:\"cancelScheduledValues\"}},s.createExponentialRampToValueAutomationEvent=function(X,oe){return{endTime:oe,type:\"exponentialRampToValue\",value:X}},s.createLinearRampToValueAutomationEvent=function(X,oe){return{endTime:oe,type:\"linearRampToValue\",value:X}},s.createSetTargetAutomationEvent=function(X,oe,Y){return{startTime:oe,target:X,timeConstant:Y,type:\"setTarget\"}},s.createSetValueAutomationEvent=L,s.createSetValueCurveAutomationEvent=j,Object.defineProperty(s,\"__esModule\",{value:!0})})(e,r(1),r(7),r(8))},function(n,e,r){var s=r(2),o=r(3),c=r(4),p=r(6);n.exports=function(d,y){return s(d)||o(d,y)||c(d,y)||p()}},function(n,e){n.exports=function(r){if(Array.isArray(r))return r}},function(n,e){n.exports=function(r,s){if(typeof Symbol!=\"undefined\"\u0026\u0026Symbol.iterator in Object(r)){var o=[],c=!0,p=!1,d=void 0;try{for(var y,b=r[Symbol.iterator]();!(c=(y=b.next()).done)\u0026\u0026(o.push(y.value),!s||o.length!==s);c=!0);}catch(w){p=!0,d=w}finally{try{c||b.return==null||b.return()}finally{if(p)throw d}}return o}}},function(n,e,r){var s=r(5);n.exports=function(o,c){if(o){if(typeof o==\"string\")return s(o,c);var p=Object.prototype.toString.call(o).slice(8,-1);return p===\"Object\"\u0026\u0026o.constructor\u0026\u0026(p=o.constructor.name),p===\"Map\"||p===\"Set\"?Array.from(o):p===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?s(o,c):void 0}}},function(n,e){n.exports=function(r,s){(s==null||s\u003er.length)\u0026\u0026(s=r.length);for(var o=0,c=new Array(s);o\u003cs;o++)c[o]=r[o];return c}},function(n,e){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,e){n.exports=function(r,s){if(!(r instanceof s))throw new TypeError(\"Cannot call a class as a function\")}},function(n,e){function r(s,o){for(var c=0;c\u003co.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,\"value\"in p\u0026\u0026(p.writable=!0),Object.defineProperty(s,p.key,p)}}n.exports=function(s,o,c){return o\u0026\u0026r(s.prototype,o),c\u0026\u0026r(s,c),s}},function(n,e,r){\"use strict\";r.r(e),r.d(e,\"getContext\",function(){return Pt}),r.d(e,\"setContext\",function(){return ql}),r.d(e,\"Clock\",function(){return js}),r.d(e,\"Context\",function(){return Ci}),r.d(e,\"BaseContext\",function(){return rm}),r.d(e,\"Delay\",function(){return Ln}),r.d(e,\"Gain\",function(){return Ce}),r.d(e,\"Offline\",function(){return h5}),r.d(e,\"OfflineContext\",function(){return Ai}),r.d(e,\"Param\",function(){return Ue}),r.d(e,\"ToneAudioBuffer\",function(){return ut}),r.d(e,\"ToneAudioBuffers\",function(){return Ii}),r.d(e,\"ToneAudioNode\",function(){return ye}),r.d(e,\"connectSeries\",function(){return ar}),r.d(e,\"connect\",function(){return Vn}),r.d(e,\"disconnect\",function(){return im}),r.d(e,\"FrequencyClass\",function(){return jn}),r.d(e,\"Frequency\",function(){return c5}),r.d(e,\"MidiClass\",function(){return Fi}),r.d(e,\"Midi\",function(){return p5}),r.d(e,\"TimeClass\",function(){return rr}),r.d(e,\"Time\",function(){return i5}),r.d(e,\"TicksClass\",function(){return wt}),r.d(e,\"Ticks\",function(){return d5}),r.d(e,\"TransportTimeClass\",function(){return Kt}),r.d(e,\"TransportTime\",function(){return l5}),r.d(e,\"Emitter\",function(){return Oi}),r.d(e,\"IntervalTimeline\",function(){return dx}),r.d(e,\"StateTimeline\",function(){return ji}),r.d(e,\"Timeline\",function(){return Lr}),r.d(e,\"isUndef\",function(){return Fn}),r.d(e,\"isDefined\",function(){return Je}),r.d(e,\"isFunction\",function(){return sx}),r.d(e,\"isNumber\",function(){return nr}),r.d(e,\"isObject\",function(){return xa}),r.d(e,\"isBoolean\",function(){return tm}),r.d(e,\"isArray\",function(){return _n}),r.d(e,\"isString\",function(){return yr}),r.d(e,\"isNote\",function(){return du}),r.d(e,\"dbToGain\",function(){return Ri}),r.d(e,\"gainToDb\",function(){return mu}),r.d(e,\"intervalToFrequencyRatio\",function(){return Ei}),r.d(e,\"ftom\",function(){return Xa}),r.d(e,\"mtof\",function(){return am}),r.d(e,\"optionsFromArguments\",function(){return V}),r.d(e,\"defaultArg\",function(){return br}),r.d(e,\"Unit\",function(){return o}),r.d(e,\"debug\",function(){return s}),r.d(e,\"Noise\",function(){return qa}),r.d(e,\"UserMedia\",function(){return Vi}),r.d(e,\"Oscillator\",function(){return Ot}),r.d(e,\"AMOscillator\",function(){return Wi}),r.d(e,\"FMOscillator\",function(){return Is}),r.d(e,\"PulseOscillator\",function(){return Fs}),r.d(e,\"FatOscillator\",function(){return Bi}),r.d(e,\"PWMOscillator\",function(){return zi}),r.d(e,\"OmniOscillator\",function(){return Jr}),r.d(e,\"ToneOscillatorNode\",function(){return Li}),r.d(e,\"LFO\",function(){return Mn}),r.d(e,\"ToneBufferSource\",function(){return wa}),r.d(e,\"Player\",function(){return Ls}),r.d(e,\"Players\",function(){return Rl}),r.d(e,\"GrainPlayer\",function(){return El}),r.d(e,\"Add\",function(){return Vs}),r.d(e,\"Abs\",function(){return gx}),r.d(e,\"AudioToGain\",function(){return Cl}),r.d(e,\"GainToAudio\",function(){return yx}),r.d(e,\"GreaterThan\",function(){return _u}),r.d(e,\"GreaterThanZero\",function(){return jl}),r.d(e,\"Multiply\",function(){return Ct}),r.d(e,\"Negate\",function(){return um}),r.d(e,\"Pow\",function(){return Gi}),r.d(e,\"Signal\",function(){return We}),r.d(e,\"connectSignal\",function(){return gu}),r.d(e,\"Scale\",function(){return ea}),r.d(e,\"ScaleExp\",function(){return bu}),r.d(e,\"Subtract\",function(){return Ws}),r.d(e,\"SyncedSignal\",function(){return g5}),r.d(e,\"WaveShaper\",function(){return xr}),r.d(e,\"Zero\",function(){return Al}),r.d(e,\"AMSynth\",function(){return cm}),r.d(e,\"DuoSynth\",function(){return Il}),r.d(e,\"FMSynth\",function(){return Fl}),r.d(e,\"MetalSynth\",function(){return Vl}),r.d(e,\"MembraneSynth\",function(){return Xi}),r.d(e,\"MonoSynth\",function(){return Ka}),r.d(e,\"NoiseSynth\",function(){return Ll}),r.d(e,\"PluckSynth\",function(){return Wl}),r.d(e,\"PolySynth\",function(){return Bl}),r.d(e,\"Sampler\",function(){return Ji}),r.d(e,\"Synth\",function(){return Sa}),r.d(e,\"Loop\",function(){return eo}),r.d(e,\"Part\",function(){return to}),r.d(e,\"Pattern\",function(){return zl}),r.d(e,\"Sequence\",function(){return Gl}),r.d(e,\"ToneEvent\",function(){return Wr}),r.d(e,\"AutoFilter\",function(){return $l}),r.d(e,\"AutoPanner\",function(){return Hl}),r.d(e,\"AutoWah\",function(){return Yl}),r.d(e,\"BitCrusher\",function(){return Xl}),r.d(e,\"Chebyshev\",function(){return Kl}),r.d(e,\"Chorus\",function(){return Ql}),r.d(e,\"Distortion\",function(){return Jl}),r.d(e,\"FeedbackDelay\",function(){return th}),r.d(e,\"FrequencyShifter\",function(){return nh}),r.d(e,\"Freeverb\",function(){return rh}),r.d(e,\"JCReverb\",function(){return ah}),r.d(e,\"PingPongDelay\",function(){return sh}),r.d(e,\"PitchShift\",function(){return ih}),r.d(e,\"Phaser\",function(){return oh}),r.d(e,\"Reverb\",function(){return uh}),r.d(e,\"StereoWidener\",function(){return ch}),r.d(e,\"Tremolo\",function(){return lh}),r.d(e,\"Vibrato\",function(){return hh}),r.d(e,\"Analyser\",function(){return so}),r.d(e,\"Meter\",function(){return ph}),r.d(e,\"FFT\",function(){return dh}),r.d(e,\"DCMeter\",function(){return fm}),r.d(e,\"Waveform\",function(){return fh}),r.d(e,\"Follower\",function(){return ao}),r.d(e,\"Channel\",function(){return es}),r.d(e,\"CrossFade\",function(){return Bs}),r.d(e,\"Merge\",function(){return Pa}),r.d(e,\"MidSideMerge\",function(){return Nu}),r.d(e,\"MidSideSplit\",function(){return ku}),r.d(e,\"Mono\",function(){return mm}),r.d(e,\"MultibandSplit\",function(){return io}),r.d(e,\"Panner\",function(){return ro}),r.d(e,\"Panner3D\",function(){return mh}),r.d(e,\"PanVol\",function(){return wu}),r.d(e,\"Recorder\",function(){return qu}),r.d(e,\"Solo\",function(){return Bt}),r.d(e,\"Split\",function(){return Qa}),r.d(e,\"Volume\",function(){return Qr}),r.d(e,\"Compressor\",function(){return na}),r.d(e,\"Gate\",function(){return vh}),r.d(e,\"Limiter\",function(){return gh}),r.d(e,\"MidSideCompressor\",function(){return yh}),r.d(e,\"MultibandCompressor\",function(){return _h}),r.d(e,\"AmplitudeEnvelope\",function(){return Ui}),r.d(e,\"Envelope\",function(){return hn}),r.d(e,\"FrequencyEnvelope\",function(){return Yi}),r.d(e,\"EQ3\",function(){return bh}),r.d(e,\"Filter\",function(){return Wn}),r.d(e,\"OnePoleFilter\",function(){return Ki}),r.d(e,\"FeedbackCombFilter\",function(){return Zi}),r.d(e,\"LowpassCombFilter\",function(){return Qi}),r.d(e,\"Convolver\",function(){return xh}),r.d(e,\"BiquadFilter\",function(){return Hi}),r.d(e,\"version\",function(){return c}),r.d(e,\"start\",function(){return s5}),r.d(e,\"supported\",function(){return e5}),r.d(e,\"now\",function(){return M5}),r.d(e,\"immediate\",function(){return S5}),r.d(e,\"Transport\",function(){return P5}),r.d(e,\"getTransport\",function(){return O5}),r.d(e,\"Destination\",function(){return C5}),r.d(e,\"Master\",function(){return A5}),r.d(e,\"getDestination\",function(){return R5}),r.d(e,\"Listener\",function(){return E5}),r.d(e,\"getListener\",function(){return j5}),r.d(e,\"Draw\",function(){return D5}),r.d(e,\"getDraw\",function(){return I5}),r.d(e,\"context\",function(){return F5}),r.d(e,\"loaded\",function(){return V5}),r.d(e,\"Buffer\",function(){return L5}),r.d(e,\"Buffers\",function(){return W5}),r.d(e,\"BufferSource\",function(){return B5});var s={};r.r(s),r.d(s,\"assert\",function(){return Ae}),r.d(s,\"assertRange\",function(){return yn}),r.d(s,\"assertContextRunning\",function(){return Jf}),r.d(s,\"setLogger\",function(){return t5}),r.d(s,\"log\",function(){return ax}),r.d(s,\"warn\",function(){return pu});var o={};r.r(o);let c=\"14.7.77\";var p=r(0);let d=new WeakSet,y=new WeakMap,b=new WeakMap,w=new WeakMap,k=new WeakMap,S=new WeakMap,L=new WeakMap,j=new WeakMap,B=new WeakMap,ee=new WeakMap,de={construct:()=\u003ede},ie=/^import(?:(?:[\\s]+[\\w]+|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\{[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?(?:[\\s]*,[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?)*[\\s]*}|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\*[\\s]+as[\\s]+[\\w]+)[\\s]+from)?(?:[\\s]*)(\"([^\"\\\\]|\\\\.)+\"|'([^'\\\\]|\\\\.)+')(?:[\\s]*);?/,he=(l,t)=\u003e{let i=[],u=l.replace(/^[\\s]+/,\"\"),h=u.match(ie);for(;h!==null;){let f=h[1].slice(1,-1),m=h[0].replace(/([\\s]+)?;?$/,\"\").replace(f,new URL(f,t).toString());i.push(m),u=u.slice(h[0].length).replace(/^[\\s]+/,\"\"),h=u.match(ie)}return[i.join(\";\"),u]},G=l=\u003e{if(l!==void 0\u0026\u0026!Array.isArray(l))throw new TypeError(\"The parameterDescriptors property of given value for processorCtor is not an array.\")},R=l=\u003e{if(!(t=\u003e{try{new new Proxy(t,de)}catch{return!1}return!0})(l))throw new TypeError(\"The given value for processorCtor should be a constructor.\");if(l.prototype===null||typeof l.prototype!=\"object\")throw new TypeError(\"The given value for processorCtor should have a prototype.\")},H=(l,t)=\u003e{let i=l.get(t);if(i===void 0)throw new Error(\"A value with the given key could not be found.\");return i},$=(l,t)=\u003e{let i=Array.from(l).filter(t);if(i.length\u003e1)throw Error(\"More than one element was found.\");if(i.length===0)throw Error(\"No element was found.\");let[u]=i;return l.delete(u),u},se=(l,t,i,u)=\u003e{let h=H(l,t),f=$(h,m=\u003em[0]===i\u0026\u0026m[1]===u);return h.size===0\u0026\u0026l.delete(t),f},ue=l=\u003eH(L,l),Ne=l=\u003e{if(d.has(l))throw new Error(\"The AudioNode is already stored.\");d.add(l),ue(l).forEach(t=\u003et(!0))},be=l=\u003e\"port\"in l,Re=l=\u003e{if(!d.has(l))throw new Error(\"The AudioNode is not stored.\");d.delete(l),ue(l).forEach(t=\u003et(!1))},ze=(l,t)=\u003e{!be(l)\u0026\u0026t.every(i=\u003ei.size===0)\u0026\u0026Re(l)},He={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},X=(l,t)=\u003el.context===t,oe=l=\u003e{try{l.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Y=()=\u003enew DOMException(\"\",\"IndexSizeError\"),J=l=\u003e{var t;l.getChannelData=(t=l.getChannelData,i=\u003e{try{return t.call(l,i)}catch(u){throw u.code===12?Y():u}})},ge={numberOfChannels:1},me=-34028234663852886e22,Le=-me,Qe=l=\u003ed.has(l),ft={buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},le=l=\u003eH(y,l),xe=l=\u003eH(w,l),Se=(l,t)=\u003e{let{activeInputs:i}=le(l);i.forEach(h=\u003eh.forEach(([f])=\u003e{t.includes(l)||Se(f,[...t,l])}));let u=(h=\u003e\"playbackRate\"in h)(l)?[l.playbackRate]:be(l)?Array.from(l.parameters.values()):(h=\u003e\"frequency\"in h\u0026\u0026\"gain\"in h)(l)?[l.Q,l.detune,l.frequency,l.gain]:(h=\u003e\"offset\"in h)(l)?[l.offset]:(h=\u003e!(\"frequency\"in h)\u0026\u0026\"gain\"in h)(l)?[l.gain]:(h=\u003e\"detune\"in h\u0026\u0026\"frequency\"in h)(l)?[l.detune,l.frequency]:(h=\u003e\"pan\"in h)(l)?[l.pan]:[];for(let h of u){let f=xe(h);f!==void 0\u0026\u0026f.activeInputs.forEach(([m])=\u003eSe(m,t))}Qe(l)\u0026\u0026Re(l)},Be=l=\u003e{Se(l.destination,[])},Oe=l=\u003el===void 0||typeof l==\"number\"||typeof l==\"string\"\u0026\u0026(l===\"balanced\"||l===\"interactive\"||l===\"playback\"),Pe=l=\u003e\"context\"in l,tt=l=\u003ePe(l[0]),mt=(l,t,i,u)=\u003e{for(let h of l)if(i(h)){if(u)return!1;throw Error(\"The set contains at least one similar element.\")}return l.add(t),!0},Zt=(l,t,[i,u],h)=\u003e{mt(l,[t,i,u],f=\u003ef[0]===t\u0026\u0026f[1]===i,h)},An=(l,[t,i,u],h)=\u003e{let f=l.get(t);f===void 0?l.set(t,new Set([[i,u]])):mt(f,[i,u],m=\u003em[0]===i,h)},Et=l=\u003e\"inputs\"in l,Rn=(l,t,i,u)=\u003e{if(Et(t)){let h=t.inputs[u];return l.connect(h,i,0),[h,i,0]}return l.connect(t,i,u),[t,i,u]},En=(l,t,i)=\u003e{for(let u of l)if(u[0]===t\u0026\u0026u[1]===i)return l.delete(u),u;return null},Cr=(l,t)=\u003e{if(!ue(l).delete(t))throw new Error(\"Missing the expected event listener.\")},vr=(l,t,i)=\u003e{let u=H(l,t),h=$(u,f=\u003ef[0]===i);return u.size===0\u0026\u0026l.delete(t),h},Ar=(l,t,i,u)=\u003e{Et(t)?l.disconnect(t.inputs[u],i,0):l.disconnect(t,i,u)},vt=l=\u003eH(b,l),er=l=\u003eH(k,l),In=l=\u003ej.has(l),Ba=l=\u003e!d.has(l),za=l=\u003enew Promise(t=\u003e{let i=l.createScriptProcessor(256,1,1),u=l.createGain(),h=l.createBuffer(1,2,44100),f=h.getChannelData(0);f[0]=1,f[1]=1;let m=l.createBufferSource();m.buffer=h,m.loop=!0,m.connect(i).connect(l.destination),m.connect(u),m.disconnect(u),i.onaudioprocess=g=\u003e{let _=g.inputBuffer.getChannelData(0);Array.prototype.some.call(_,x=\u003ex===1)?t(!0):t(!1),m.stop(),i.onaudioprocess=null,m.disconnect(i),i.disconnect(l.destination)},m.start()}),ga=(l,t)=\u003e{let i=new Map;for(let u of l)for(let h of u){let f=i.get(h);i.set(h,f===void 0?1:f+1)}i.forEach((u,h)=\u003et(h,u))},ya=l=\u003e\"context\"in l,iu=(l,t,i,u)=\u003e{let{activeInputs:h,passiveInputs:f}=xe(t),{outputs:m}=le(l),g=ue(l),_=x=\u003e{let M=vt(l),N=er(t);if(x){let P=vr(f,l,i);Zt(h,l,P,!1),u||In(l)||M.connect(N,i)}else{let P=((q,U,D)=\u003e$(q,E=\u003eE[0]===U\u0026\u0026E[1]===D))(h,l,i);An(f,P,!1),u||In(l)||M.disconnect(N,i)}};return!!mt(m,[t,i],x=\u003ex[0]===t\u0026\u0026x[1]===i,!0)\u0026\u0026(g.add(_),Qe(l)?Zt(h,l,[i,_],!0):An(f,[l,i,_],!0),!0)},Rr=(l,t,i,u,h)=\u003e{let[f,m]=((g,_,x,M)=\u003e{let{activeInputs:N,passiveInputs:P}=le(_),q=En(N[M],g,x);return q===null?[se(P,g,x,M)[2],!1]:[q[2],!0]})(l,i,u,h);if(f!==null\u0026\u0026(Cr(l,f),!m||t||In(l)||Ar(vt(l),vt(i),u,h)),Qe(i)){let{activeInputs:g}=le(i);ze(i,g)}},Er=(l,t,i,u)=\u003e{let[h,f]=((m,g,_)=\u003e{let{activeInputs:x,passiveInputs:M}=xe(g),N=En(x,m,_);return N===null?[vr(M,m,_)[1],!1]:[N[2],!0]})(l,i,u);h!==null\u0026\u0026(Cr(l,h),!f||t||In(l)||vt(l).disconnect(er(i),u))};class vi{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,i=null){return this._map.forEach((u,h)=\u003et.call(i,u,h,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}let gi={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Ga(l,t,i,u,h){if(typeof l.copyFromChannel==\"function\")t[i].byteLength===0\u0026\u0026(t[i]=new Float32Array(128)),l.copyFromChannel(t[i],u,h);else{let f=l.getChannelData(u);if(t[i].byteLength===0)t[i]=f.slice(h,h+128);else{let m=new Float32Array(f.buffer,h*Float32Array.BYTES_PER_ELEMENT,128);t[i].set(m)}}}let Os=(l,t,i,u,h)=\u003e{typeof l.copyToChannel==\"function\"?t[i].byteLength!==0\u0026\u0026l.copyToChannel(t[i],u,h):t[i].byteLength!==0\u0026\u0026l.getChannelData(u).set(t[i],h)},Ua=(l,t)=\u003e{let i=[];for(let u=0;u\u003cl;u+=1){let h=[],f=typeof t==\"number\"?t:t[u];for(let m=0;m\u003cf;m+=1)h.push(new Float32Array(128));i.push(h)}return i},ou=async(l,t,i,u,h,f,m)=\u003e{let g=t===null?128*Math.ceil(l.context.length/128):t.length,_=u.channelCount*u.numberOfInputs,x=h.reduce((E,W)=\u003eE+W,0),M=x===0?null:i.createBuffer(x,g,i.sampleRate);if(f===void 0)throw new Error(\"Missing the processor constructor.\");let N=le(l),P=await((E,W)=\u003e{let K=H(ee,E),Z=vt(W);return H(K,Z)})(i,l),q=Ua(u.numberOfInputs,u.channelCount),U=Ua(u.numberOfOutputs,h),D=Array.from(l.parameters.keys()).reduce((E,W)=\u003e({...E,[W]:new Float32Array(128)}),{});for(let E=0;E\u003cg;E+=128){if(u.numberOfInputs\u003e0\u0026\u0026t!==null)for(let W=0;W\u003cu.numberOfInputs;W+=1)for(let K=0;K\u003cu.channelCount;K+=1)Ga(t,q[W],K,K,E);f.parameterDescriptors!==void 0\u0026\u0026t!==null\u0026\u0026f.parameterDescriptors.forEach(({name:W},K)=\u003e{Ga(t,D,W,_+K,E)});for(let W=0;W\u003cu.numberOfInputs;W+=1)for(let K=0;K\u003ch[W];K+=1)U[W][K].byteLength===0\u0026\u0026(U[W][K]=new Float32Array(128));try{let W=q.map((Z,Q)=\u003eN.activeInputs[Q].size===0?[]:Z),K=m(E/i.sampleRate,i.sampleRate,()=\u003eP.process(W,U,D));if(M!==null)for(let Z=0,Q=0;Z\u003cu.numberOfOutputs;Z+=1){for(let re=0;re\u003ch[Z];re+=1)Os(M,U[Z],re,Q+re,E);Q+=h[Z]}if(!K)break}catch(W){l.dispatchEvent(new ErrorEvent(\"processorerror\",{colno:W.colno,filename:W.filename,lineno:W.lineno,message:W.message}));break}}return M},yi={Q:1,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",detune:0,frequency:350,gain:0,type:\"lowpass\"},Ze={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:6},_a={channelCount:6,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:6},uu={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",offset:1},_i={buffer:null,channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",disableNormalization:!1},bi={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",delayTime:0,maxDelayTime:1},xi=(l,t,i)=\u003e{let u=t[i];if(u===void 0)throw l();return u},hl={attack:.003,channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",knee:30,ratio:12,release:.25,threshold:-24},Cf={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",gain:1},Vt=()=\u003enew DOMException(\"\",\"InvalidStateError\"),ki=()=\u003enew DOMException(\"\",\"InvalidAccessError\"),Af={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\"},pl=(l,t,i,u,h,f,m,g,_,x,M)=\u003e{let N=x.length,P=g;for(let q=0;q\u003cN;q+=1){let U=i[0]*x[q];for(let D=1;D\u003ch;D+=1){let E=P-D\u0026_-1;U+=i[D]*f[E],U-=l[D]*m[E]}for(let D=h;D\u003cu;D+=1)U+=i[D]*f[P-D\u0026_-1];for(let D=h;D\u003ct;D+=1)U-=l[D]*m[P-D\u0026_-1];f[P]=x[q],m[P]=U,P=P+1\u0026_-1,M[q]=U}return P},Rf={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\"},Cs=l=\u003e{let t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{let i=l.decodeAudioData(t.buffer,()=\u003e{});return i!==void 0\u0026\u0026(i.catch(()=\u003e{}),!0)}catch{}return!1},tb={numberOfChannels:1},Mt=(l,t,i)=\u003e{let u=t[i];u!==void 0\u0026\u0026u!==l[i]\u0026\u0026(l[i]=u)},Ut=(l,t)=\u003e{Mt(l,t,\"channelCount\"),Mt(l,t,\"channelCountMode\"),Mt(l,t,\"channelInterpretation\")},dl=l=\u003etypeof l.getFloatTimeDomainData==\"function\",jt=(l,t,i)=\u003e{let u=t[i];u!==void 0\u0026\u0026u!==l[i].value\u0026\u0026(l[i].value=u)},Ni=l=\u003e{var t;l.start=(t=l.start,(i=0,u=0,h)=\u003e{if(typeof h==\"number\"\u0026\u0026h\u003c0||u\u003c0||i\u003c0)throw new RangeError(\"The parameters can't be negative.\");t.call(l,i,u,h)})},cu=l=\u003e{var t;l.stop=(t=l.stop,(i=0)=\u003e{if(i\u003c0)throw new RangeError(\"The parameter can't be negative.\");t.call(l,i)})},fl=(l,t)=\u003el===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(l*t))))),T=async(l,t)=\u003enew l(await(i=\u003enew Promise((u,h)=\u003e{let{port1:f,port2:m}=new MessageChannel;f.onmessage=({data:g})=\u003e{f.close(),m.close(),u(g)},f.onmessageerror=({data:g})=\u003e{f.close(),m.close(),h(g)},m.postMessage(i)}))(t)),C=(l,t)=\u003e{let i=l.createBiquadFilter();return Ut(i,t),jt(i,t,\"Q\"),jt(i,t,\"detune\"),jt(i,t,\"frequency\"),jt(i,t,\"gain\"),Mt(i,t,\"type\"),i},A=(l,t)=\u003e{let i=l.createChannelSplitter(t.numberOfOutputs);return Ut(i,t),(u=\u003e{let h=u.numberOfOutputs;Object.defineProperty(u,\"channelCount\",{get:()=\u003eh,set:f=\u003e{if(f!==h)throw Vt()}}),Object.defineProperty(u,\"channelCountMode\",{get:()=\u003e\"explicit\",set:f=\u003e{if(f!==\"explicit\")throw Vt()}}),Object.defineProperty(u,\"channelInterpretation\",{get:()=\u003e\"discrete\",set:f=\u003e{if(f!==\"discrete\")throw Vt()}})})(i),i},F=(l,t)=\u003e(l.connect=t.connect.bind(t),l.disconnect=t.disconnect.bind(t),l),I=(l,t)=\u003e{let i=l.createDelay(t.maxDelayTime);return Ut(i,t),jt(i,t,\"delayTime\"),i},z=(l,t)=\u003e{let i=l.createGain();return Ut(i,t),jt(i,t,\"gain\"),i};function _e(l,t){let i=t[0]*t[0]+t[1]*t[1];return[(l[0]*t[0]+l[1]*t[1])/i,(l[1]*t[0]-l[0]*t[1])/i]}function qe(l,t){let i=[0,0];for(let f=l.length-1;f\u003e=0;f-=1)h=t,i=[(u=i)[0]*h[0]-u[1]*h[1],u[0]*h[1]+u[1]*h[0]],i[0]+=l[f];var u,h;return i}let Ge=(l,t,i,u)=\u003el.createScriptProcessor(t,i,u),Ye=()=\u003enew DOMException(\"\",\"NotSupportedError\"),pt={numberOfChannels:1},kt={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",detune:0,frequency:440,periodicWave:void 0,type:\"sine\"},Lt={channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:\"inverse\",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:\"equalpower\",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},jr={disableNormalization:!1},As={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",pan:0},wi=()=\u003enew DOMException(\"\",\"UnknownError\"),Ef={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",curve:null,oversample:\"none\"},qi=l=\u003e{if(l===null)return!1;let t=l.length;return t%2!=0?l[Math.floor(t/2)]!==0:l[t/2-1]+l[t/2]!==0},gr=(l,t,i,u)=\u003e{let h=Object.getPrototypeOf(l);for(;!h.hasOwnProperty(t);)h=Object.getPrototypeOf(h);let{get:f,set:m}=Object.getOwnPropertyDescriptor(h,t);Object.defineProperty(l,t,{get:i(f),set:u(m)})},nb=(l,t,i)=\u003e{try{l.setValueAtTime(t,i)}catch(u){if(u.code!==9)throw u;nb(l,t,i+1e-7)}},jf=l=\u003e{let t=l.createOscillator();try{t.start(-1)}catch(i){return i instanceof RangeError}return!1},rb=l=\u003e{let t=l.createBuffer(1,1,44100),i=l.createBufferSource();i.buffer=t,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},Df=l=\u003e{let t=l.createOscillator();try{t.stop(-1)}catch(i){return i instanceof RangeError}return!1},Q3=()=\u003e{try{new DOMException}catch{return!1}return!0},J3=()=\u003enew Promise(l=\u003e{let t=new ArrayBuffer(0),{port1:i,port2:u}=new MessageChannel;i.onmessage=({data:h})=\u003el(h!==null),u.postMessage(t,[t])}),ab=(l,t)=\u003e{let i=t.createGain();l.connect(i);let u=(h=l.disconnect,()=\u003e{h.call(l,i),l.removeEventListener(\"ended\",u)});var h;l.addEventListener(\"ended\",u),F(l,i),l.stop=(f=\u003e{let m=!1;return(g=0)=\u003e{if(m)try{f.call(l,g)}catch{i.gain.setValueAtTime(0,g)}else f.call(l,g),m=!0}})(l.stop)},Ti=(l,t)=\u003ei=\u003e{let u={value:l};return Object.defineProperties(i,{currentTarget:u,target:u}),typeof t==\"function\"?t.call(l,i):t.handleEvent.call(l,i)},e7=(sb=mt,(l,t,[i,u,h],f)=\u003e{sb(l[u],[t,i,h],m=\u003em[0]===t\u0026\u0026m[1]===i,f)});var sb;let t7=(l=\u003e(t,i,[u,h,f],m)=\u003e{let g=t.get(u);g===void 0?t.set(u,new Set([[h,i,f]])):l(g,[h,i,f],_=\u003e_[0]===h\u0026\u0026_[1]===i,m)})(mt),n7=(l=\u003e(t,i,u,h)=\u003el(t[h],f=\u003ef[0]===i\u0026\u0026f[1]===u))($),ib=new WeakMap,r7=(l=\u003et=\u003e{var i;return(i=l.get(t))!==null\u0026\u0026i!==void 0?i:0})(ib),tr=(ml=new Map,lu=new WeakMap,(l,t)=\u003e{let i=lu.get(l);if(i!==void 0)return i;let u=ml.get(l);if(u!==void 0)return u;try{let h=t();return h instanceof Promise?(ml.set(l,h),h.catch(()=\u003e!1).then(f=\u003e(ml.delete(l),lu.set(l,f),f))):(lu.set(l,h),h)}catch{return lu.set(l,!1),!1}});var ml,lu;let Dr=typeof window==\"undefined\"?null:window,ob=(ub=tr,cb=Y,(l,t)=\u003e{let i=l.createAnalyser();if(Ut(i,t),!(t.maxDecibels\u003et.minDecibels))throw cb();return Mt(i,t,\"fftSize\"),Mt(i,t,\"maxDecibels\"),Mt(i,t,\"minDecibels\"),Mt(i,t,\"smoothingTimeConstant\"),ub(dl,()=\u003edl(i))||(u=\u003e{u.getFloatTimeDomainData=h=\u003e{let f=new Uint8Array(h.length);u.getByteTimeDomainData(f);let m=Math.max(f.length,u.fftSize);for(let g=0;g\u003cm;g+=1)h[g]=.0078125*(f[g]-128);return h}})(i),i});var ub,cb;let If=(lb=le,l=\u003e{let t=lb(l);if(t.renderer===null)throw new Error(\"Missing the renderer of the given AudioNode in the audio graph.\");return t.renderer});var lb;let gn=((l,t,i)=\u003easync(u,h,f,m)=\u003e{let g=l(u),_=[...m,u];await Promise.all(g.activeInputs.map((x,M)=\u003eArray.from(x).filter(([N])=\u003e!_.includes(N)).map(async([N,P])=\u003e{let q=t(N),U=await q.render(N,h,_),D=u.context.destination;i(N)||u===D\u0026\u0026i(u)||U.connect(f,P,M)})).reduce((x,M)=\u003e[...x,...M],[]))})(le,If,In),a7=(hb=ob,pb=vt,db=gn,()=\u003e{let l=new WeakMap;return{render(t,i,u){let h=l.get(i);return h!==void 0?Promise.resolve(h):(async(f,m,g)=\u003e{let _=pb(f);if(!X(_,m)){let x={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,fftSize:_.fftSize,maxDecibels:_.maxDecibels,minDecibels:_.minDecibels,smoothingTimeConstant:_.smoothingTimeConstant};_=hb(m,x)}return l.set(m,_),await db(f,m,_,g),_})(t,i,u)}}});var hb,pb,db;let St=(fb=S,l=\u003e{let t=fb.get(l);if(t===void 0)throw Vt();return t});var fb;let cn=(l=\u003el===null?null:l.hasOwnProperty(\"OfflineAudioContext\")?l.OfflineAudioContext:l.hasOwnProperty(\"webkitOfflineAudioContext\")?l.webkitOfflineAudioContext:null)(Dr),_t=(Ff=cn,l=\u003eFf!==null\u0026\u0026l instanceof Ff);var Ff;let mb=new WeakMap,vb=(gb=Ti,class{constructor(l){this._nativeEventTarget=l,this._listeners=new WeakMap}addEventListener(l,t,i){if(t!==null){let u=this._listeners.get(t);u===void 0\u0026\u0026(u=gb(this,t),typeof t==\"function\"\u0026\u0026this._listeners.set(t,u)),this._nativeEventTarget.addEventListener(l,u,i)}}dispatchEvent(l){return this._nativeEventTarget.dispatchEvent(l)}removeEventListener(l,t,i){let u=t===null?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(l,u===void 0?null:u,i)}});var gb;let ba=(l=\u003el===null?null:l.hasOwnProperty(\"AudioContext\")?l.AudioContext:l.hasOwnProperty(\"webkitAudioContext\")?l.webkitAudioContext:null)(Dr),Vf=(Lf=ba,l=\u003eLf!==null\u0026\u0026l instanceof Lf);var Lf;let Wf=(l=\u003et=\u003el!==null\u0026\u0026typeof l.AudioNode==\"function\"\u0026\u0026t instanceof l.AudioNode)(Dr),yb=(l=\u003et=\u003el!==null\u0026\u0026typeof l.AudioParam==\"function\"\u0026\u0026t instanceof l.AudioParam)(Dr),$t=((l,t,i,u,h,f,m,g,_,x,M,N,P,q,U)=\u003eclass extends x{constructor(D,E,W,K){super(W),this._context=D,this._nativeAudioNode=W;let Z=M(D);N(Z)\u0026\u0026i(za,()=\u003eza(Z))!==!0\u0026\u0026(Q=\u003e{let re=new Map;var te,ae;Q.connect=(te=Q.connect.bind(Q),(ke,ce=0,fe=0)=\u003e{let ve=ya(ke)?te(ke,ce,fe):te(ke,ce),Te=re.get(ke);return Te===void 0?re.set(ke,[{input:fe,output:ce}]):Te.every(Fe=\u003eFe.input!==fe||Fe.output!==ce)\u0026\u0026Te.push({input:fe,output:ce}),ve}),Q.disconnect=(ae=Q.disconnect,(ke,ce,fe)=\u003e{if(ae.apply(Q),ke===void 0)re.clear();else if(typeof ke==\"number\")for(let[ve,Te]of re){let Fe=Te.filter(ct=\u003ect.output!==ke);Fe.length===0?re.delete(ve):re.set(ve,Fe)}else if(re.has(ke))if(ce===void 0)re.delete(ke);else{let ve=re.get(ke);if(ve!==void 0){let Te=ve.filter(Fe=\u003eFe.output!==ce\u0026\u0026(Fe.input!==fe||fe===void 0));Te.length===0?re.delete(ke):re.set(ke,Te)}}for(let[ve,Te]of re)Te.forEach(Fe=\u003e{ya(ve)?Q.connect(ve,Fe.output,Fe.input):Q.connect(ve,Fe.output)})})})(W),b.set(this,W),L.set(this,new Set),D.state!==\"closed\"\u0026\u0026E\u0026\u0026Ne(this),l(this,K,W)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(D){this._nativeAudioNode.channelCount=D}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(D){this._nativeAudioNode.channelCountMode=D}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(D){this._nativeAudioNode.channelInterpretation=D}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(D,E=0,W=0){if(E\u003c0||E\u003e=this._nativeAudioNode.numberOfOutputs)throw h();let K=M(this._context),Z=U(K);if(P(D)||q(D))throw f();if(Pe(D)){let re=vt(D);try{let te=Rn(this._nativeAudioNode,re,E,W),ae=Ba(this);(Z||ae)\u0026\u0026this._nativeAudioNode.disconnect(...te),this.context.state!==\"closed\"\u0026\u0026!ae\u0026\u0026Ba(D)\u0026\u0026Ne(D)}catch(te){throw te.code===12?f():te}if(t(this,D,E,W,Z)){let te=_([this],D);ga(te,u(Z))}return D}let Q=er(D);if(Q.name===\"playbackRate\")throw m();try{this._nativeAudioNode.connect(Q,E),(Z||Ba(this))\u0026\u0026this._nativeAudioNode.disconnect(Q,E)}catch(re){throw re.code===12?f():re}if(iu(this,D,E,Z)){let re=_([this],D);ga(re,u(Z))}}disconnect(D,E,W){let K,Z=M(this._context),Q=U(Z);if(D===void 0)K=((re,te)=\u003e{let ae=le(re),ke=[];for(let ce of ae.outputs)tt(ce)?Rr(re,te,...ce):Er(re,te,...ce),ke.push(ce[0]);return ae.outputs.clear(),ke})(this,Q);else if(typeof D==\"number\"){if(D\u003c0||D\u003e=this.numberOfOutputs)throw h();K=((re,te,ae)=\u003e{let ke=le(re),ce=[];for(let fe of ke.outputs)fe[1]===ae\u0026\u0026(tt(fe)?Rr(re,te,...fe):Er(re,te,...fe),ce.push(fe[0]),ke.outputs.delete(fe));return ce})(this,Q,D)}else{if(E!==void 0\u0026\u0026(E\u003c0||E\u003e=this.numberOfOutputs)||Pe(D)\u0026\u0026W!==void 0\u0026\u0026(W\u003c0||W\u003e=D.numberOfInputs))throw h();if(K=((re,te,ae,ke,ce)=\u003e{let fe=le(re);return Array.from(fe.outputs).filter(ve=\u003e!(ve[0]!==ae||ke!==void 0\u0026\u0026ve[1]!==ke||ce!==void 0\u0026\u0026ve[2]!==ce)).map(ve=\u003e(tt(ve)?Rr(re,te,...ve):Er(re,te,...ve),fe.outputs.delete(ve),ve[0]))})(this,Q,D,E,W),K.length===0)throw f()}for(let re of K){let te=_([this],re);ga(te,g)}}})((_b=y,(l,t,i)=\u003e{let u=[];for(let h=0;h\u003ci.numberOfInputs;h+=1)u.push(new Set);_b.set(l,{activeInputs:u,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((l,t,i,u,h,f,m,g,_,x,M,N,P)=\u003e(q,U,D,E,W)=\u003e{let{activeInputs:K,passiveInputs:Z}=f(U),{outputs:Q}=f(q),re=g(q),te=ae=\u003e{let ke=_(U),ce=_(q);if(ae){let fe=se(Z,q,D,E);l(K,q,fe,!1),W||N(q)||i(ce,ke,D,E),P(U)\u0026\u0026Ne(U)}else{let fe=u(K,q,D,E);t(Z,E,fe,!1),W||N(q)||h(ce,ke,D,E);let ve=m(U);ve===0?M(U)\u0026\u0026ze(U,K):setTimeout(()=\u003e{M(U)\u0026\u0026ze(U,K)},1e3*ve)}};return!!x(Q,[U,D,E],ae=\u003eae[0]===U\u0026\u0026ae[1]===D\u0026\u0026ae[2]===E,!0)\u0026\u0026(re.add(te),M(q)?l(K,q,[D,E,te],!0):t(Z,E,[q,D,te],!0),!0)})(e7,t7,Rn,n7,Ar,le,r7,ue,vt,mt,Qe,In,Ba),tr,((l,t,i,u,h,f)=\u003em=\u003e(g,_)=\u003e{let x=l.get(g);if(x===void 0){if(!m\u0026\u0026f(g)){let M=u(g),{outputs:N}=i(g);for(let P of N)if(tt(P)){let q=u(P[0]);t(M,q,P[1],P[2])}else{let q=h(P[0]);M.disconnect(q,P[1])}}l.set(g,_)}else l.set(g,x+_)})(j,Ar,le,vt,er,Qe),Y,ki,Ye,((l,t,i,u,h,f,m,g)=\u003e(_,x)=\u003e{let M=t.get(_);if(M===void 0)throw new Error(\"Missing the expected cycle count.\");let N=f(_.context),P=g(N);if(M===x){if(t.delete(_),!P\u0026\u0026m(_)){let q=u(_),{outputs:U}=i(_);for(let D of U)if(tt(D)){let E=u(D[0]);l(q,E,D[1],D[2])}else{let E=h(D[0]);q.connect(E,D[1])}}}else t.set(_,M-x)})(Rn,j,le,vt,er,St,Qe,_t),((l,t,i)=\u003efunction u(h,f){let m=Pe(f)?f:i(l,f);if((_=\u003e\"delayTime\"in _)(m))return[];if(h[0]===m)return[h];if(h.includes(m))return[];let{outputs:g}=t(m);return Array.from(g).map(_=\u003eu([...h,m],_[0])).reduce((_,x)=\u003e_.concat(x),[])})(mb,le,H),vb,St,Vf,Wf,yb,_t);var _b;let s7=((l,t,i,u,h,f)=\u003eclass extends l{constructor(m,g){let _=h(m),x={...He,...g},M=u(_,x);super(m,!1,M,f(_)?t():null),this._nativeAnalyserNode=M}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(m){this._nativeAnalyserNode.fftSize=m}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(m){let g=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=m,!(m\u003ethis._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=g,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(m){let g=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=m,!(this._nativeAnalyserNode.maxDecibels\u003em))throw this._nativeAnalyserNode.minDecibels=g,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(m){this._nativeAnalyserNode.smoothingTimeConstant=m}getByteFrequencyData(m){this._nativeAnalyserNode.getByteFrequencyData(m)}getByteTimeDomainData(m){this._nativeAnalyserNode.getByteTimeDomainData(m)}getFloatFrequencyData(m){this._nativeAnalyserNode.getFloatFrequencyData(m)}getFloatTimeDomainData(m){this._nativeAnalyserNode.getFloatTimeDomainData(m)}})($t,a7,Y,ob,St,_t),Bf=new WeakSet,bb=(l=\u003el===null?null:l.hasOwnProperty(\"AudioBuffer\")?l.AudioBuffer:null)(Dr),xb=(zf=new Uint32Array(1),l=\u003e(zf[0]=l,zf[0]));var zf;let Gf=((l,t)=\u003ei=\u003e{i.copyFromChannel=(u,h,f=0)=\u003e{let m=l(f),g=l(h);if(g\u003e=i.numberOfChannels)throw t();let _=i.length,x=i.getChannelData(g),M=u.length;for(let N=m\u003c0?-m:0;N+m\u003c_\u0026\u0026N\u003cM;N+=1)u[N]=x[N+m]},i.copyToChannel=(u,h,f=0)=\u003e{let m=l(f),g=l(h);if(g\u003e=i.numberOfChannels)throw t();let _=i.length,x=i.getChannelData(g),M=u.length;for(let N=m\u003c0?-m:0;N+m\u003c_\u0026\u0026N\u003cM;N+=1)x[N+m]=u[N]}})(xb,Y),Uf=(l=\u003et=\u003e{t.copyFromChannel=(i=\u003e(u,h,f=0)=\u003e{let m=l(f),g=l(h);if(m\u003ct.length)return i.call(t,u,g,m)})(t.copyFromChannel),t.copyToChannel=(i=\u003e(u,h,f=0)=\u003e{let m=l(f),g=l(h);if(m\u003ct.length)return i.call(t,u,g,m)})(t.copyToChannel)})(xb),i7=((l,t,i,u,h,f,m,g)=\u003e{let _=null;return class LA{constructor(M){if(h===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let{length:N,numberOfChannels:P,sampleRate:q}={...ge,...M};_===null\u0026\u0026(_=new h(1,1,44100));let U=u!==null\u0026\u0026t(f,f)?new u({length:N,numberOfChannels:P,sampleRate:q}):_.createBuffer(P,N,q);if(U.numberOfChannels===0)throw i();return typeof U.copyFromChannel!=\"function\"?(m(U),J(U)):t(oe,()=\u003eoe(U))||g(U),l.add(U),U}static[Symbol.hasInstance](M){return M!==null\u0026\u0026typeof M==\"object\"\u0026\u0026Object.getPrototypeOf(M)===LA.prototype||l.has(M)}}})(Bf,tr,Ye,bb,cn,($f=bb,()=\u003e{if($f===null)return!1;try{new $f({length:1,sampleRate:44100})}catch{return!1}return!0}),Gf,Uf);var $f;let vl=(kb=z,(l,t)=\u003e{let i=kb(l,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});t.connect(i).connect(l.destination);let u=()=\u003e{t.removeEventListener(\"ended\",u),t.disconnect(i),i.disconnect()};t.addEventListener(\"ended\",u)});var kb;let Nb=((l,t,i)=\u003easync(u,h,f,m)=\u003e{let g=t(u);await Promise.all(Array.from(g.activeInputs).map(async([_,x])=\u003e{let M=l(_),N=await M.render(_,h,m);i(_)||N.connect(f,x)}))})(If,xe,In),Zr=(l=\u003e(t,i,u,h)=\u003el(i,t,u,h))(Nb),Mi=((l,t,i,u,h,f,m,g,_,x,M)=\u003e(N,P)=\u003e{let q=N.createBufferSource();return Ut(q,P),jt(q,P,\"playbackRate\"),Mt(q,P,\"buffer\"),Mt(q,P,\"loop\"),Mt(q,P,\"loopEnd\"),Mt(q,P,\"loopStart\"),t(i,()=\u003ei(N))||(U=\u003e{U.start=(D=\u003e{let E=!1;return(W=0,K=0,Z)=\u003e{if(E)throw Vt();D.call(U,W,K,Z),E=!0}})(U.start)})(q),t(u,()=\u003eu(N))||_(q),t(h,()=\u003eh(N))||x(q,N),t(f,()=\u003ef(N))||Ni(q),t(m,()=\u003em(N))||M(q,N),t(g,()=\u003eg(N))||cu(q),l(N,q),q})(vl,tr,l=\u003e{let t=l.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},l=\u003e{let t=l.createBufferSource(),i=l.createBuffer(1,1,44100);t.buffer=i;try{t.start(0,1)}catch{return!1}return!0},l=\u003e{let t=l.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},jf,rb,Df,l=\u003e{var t;l.start=(t=l.start,(i=0,u=0,h)=\u003e{let f=l.buffer,m=f===null?u:Math.min(f.duration,u);f!==null\u0026\u0026m\u003ef.duration-.5/l.context.sampleRate?t.call(l,i,0,0):t.call(l,i,m,h)})},(wb=gr,(l,t)=\u003e{let i=t.createBuffer(1,1,44100);l.buffer===null\u0026\u0026(l.buffer=i),wb(l,\"buffer\",u=\u003e()=\u003e{let h=u.call(l);return h===i?null:h},u=\u003eh=\u003eu.call(l,h===null?i:h))}),ab);var wb;let Kr=((l,t)=\u003e(i,u,h,f)=\u003e(l(u).replay(h),t(u,i,h,f)))((l=\u003et=\u003e{let i=l(t);if(i.renderer===null)throw new Error(\"Missing the renderer of the given AudioParam in the audio graph.\");return i.renderer})(xe),Nb),o7=((l,t,i,u,h)=\u003e()=\u003e{let f=new WeakMap,m=null,g=null;return{set start(_){m=_},set stop(_){g=_},render(_,x,M){let N=f.get(x);return N!==void 0?Promise.resolve(N):(async(P,q,U)=\u003e{let D=i(P),E=X(D,q);if(!E){let W={buffer:D.buffer,channelCount:D.channelCount,channelCountMode:D.channelCountMode,channelInterpretation:D.channelInterpretation,loop:D.loop,loopEnd:D.loopEnd,loopStart:D.loopStart,playbackRate:D.playbackRate.value};D=t(q,W),m!==null\u0026\u0026D.start(...m),g!==null\u0026\u0026D.stop(g)}return f.set(q,D),E?await l(q,P.playbackRate,D.playbackRate,U):await u(q,P.playbackRate,D.playbackRate,U),await h(P,q,D,U),D})(_,x,M)}}})(Zr,Mi,vt,Kr,gn),Ir=((l,t,i,u,h,f,m,g,_,x,M,N,P)=\u003e(q,U,D,E=null,W=null)=\u003e{let K=new p.AutomationEventList(D.defaultValue),Z=U?u(K):null,Q={get defaultValue(){return D.defaultValue},get maxValue(){return E===null?D.maxValue:E},get minValue(){return W===null?D.minValue:W},get value(){return D.value},set value(re){D.value=re,Q.setValueAtTime(re,q.context.currentTime)},cancelAndHoldAtTime(re){if(typeof D.cancelAndHoldAtTime==\"function\")Z===null\u0026\u0026K.flush(q.context.currentTime),K.add(h(re)),D.cancelAndHoldAtTime(re);else{let te=Array.from(K).pop();Z===null\u0026\u0026K.flush(q.context.currentTime),K.add(h(re));let ae=Array.from(K).pop();D.cancelScheduledValues(re),te!==ae\u0026\u0026ae!==void 0\u0026\u0026(ae.type===\"exponentialRampToValue\"?D.exponentialRampToValueAtTime(ae.value,ae.endTime):ae.type===\"linearRampToValue\"?D.linearRampToValueAtTime(ae.value,ae.endTime):ae.type===\"setValue\"?D.setValueAtTime(ae.value,ae.startTime):ae.type===\"setValueCurve\"\u0026\u0026D.setValueCurveAtTime(ae.values,ae.startTime,ae.duration))}return Q},cancelScheduledValues:re=\u003e(Z===null\u0026\u0026K.flush(q.context.currentTime),K.add(f(re)),D.cancelScheduledValues(re),Q),exponentialRampToValueAtTime(re,te){if(re===0)throw new RangeError;if(!Number.isFinite(te)||te\u003c0)throw new RangeError;return Z===null\u0026\u0026K.flush(q.context.currentTime),K.add(m(re,te)),D.exponentialRampToValueAtTime(re,te),Q},linearRampToValueAtTime:(re,te)=\u003e(Z===null\u0026\u0026K.flush(q.context.currentTime),K.add(g(re,te)),D.linearRampToValueAtTime(re,te),Q),setTargetAtTime:(re,te,ae)=\u003e(Z===null\u0026\u0026K.flush(q.context.currentTime),K.add(_(re,te,ae)),D.setTargetAtTime(re,te,ae),Q),setValueAtTime:(re,te)=\u003e(Z===null\u0026\u0026K.flush(q.context.currentTime),K.add(x(re,te)),D.setValueAtTime(re,te),Q),setValueCurveAtTime(re,te,ae){let ke=re instanceof Float32Array?re:new Float32Array(re);if(N!==null\u0026\u0026N.name===\"webkitAudioContext\"){let ce=te+ae,fe=q.context.sampleRate,ve=Math.ceil(te*fe),Te=Math.floor(ce*fe),Fe=Te-ve,ct=new Float32Array(Fe);for(let Ke=0;Ke\u003cFe;Ke+=1){let at=(ke.length-1)/ae*((ve+Ke)/fe-te),$e=Math.floor(at),nt=Math.ceil(at);ct[Ke]=$e===nt?ke[$e]:(1-(at-$e))*ke[$e]+(1-(nt-at))*ke[nt]}Z===null\u0026\u0026K.flush(q.context.currentTime),K.add(M(ct,te,ae)),D.setValueCurveAtTime(ct,te,ae);let Ee=Te/fe;Ee\u003cce\u0026\u0026P(Q,ct[ct.length-1],Ee),P(Q,ke[ke.length-1],ce)}else Z===null\u0026\u0026K.flush(q.context.currentTime),K.add(M(ke,te,ae)),D.setValueCurveAtTime(ke,te,ae);return Q}};return i.set(Q,D),t.set(Q,q),l(Q,Z),Q})((qb=w,(l,t)=\u003e{qb.set(l,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),mb,k,l=\u003e({replay(t){for(let i of l)if(i.type===\"exponentialRampToValue\"){let{endTime:u,value:h}=i;t.exponentialRampToValueAtTime(h,u)}else if(i.type===\"linearRampToValue\"){let{endTime:u,value:h}=i;t.linearRampToValueAtTime(h,u)}else if(i.type===\"setTarget\"){let{startTime:u,target:h,timeConstant:f}=i;t.setTargetAtTime(h,u,f)}else if(i.type===\"setValue\"){let{startTime:u,value:h}=i;t.setValueAtTime(h,u)}else{if(i.type!==\"setValueCurve\")throw new Error(\"Can't apply an unknown automation.\");{let{duration:u,startTime:h,values:f}=i;t.setValueCurveAtTime(f,h,u)}}}}),p.createCancelAndHoldAutomationEvent,p.createCancelScheduledValuesAutomationEvent,p.createExponentialRampToValueAutomationEvent,p.createLinearRampToValueAutomationEvent,p.createSetTargetAutomationEvent,p.createSetValueAutomationEvent,p.createSetValueCurveAutomationEvent,ba,nb);var qb;let u7=((l,t,i,u,h,f,m,g)=\u003eclass extends l{constructor(_,x){let M=f(_),N={...ft,...x},P=h(M,N),q=m(M),U=q?t():null;super(_,!1,P,U),this._audioBufferSourceNodeRenderer=U,this._isBufferNullified=!1,this._isBufferSet=N.buffer!==null,this._nativeAudioBufferSourceNode=P,this._onended=null,this._playbackRate=i(this,q,P.playbackRate,Le,me)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(_){if(this._nativeAudioBufferSourceNode.buffer=_,_!==null){if(this._isBufferSet)throw u();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(_){this._nativeAudioBufferSourceNode.loop=_}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(_){this._nativeAudioBufferSourceNode.loopEnd=_}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(_){this._nativeAudioBufferSourceNode.loopStart=_}get onended(){return this._onended}set onended(_){let x=typeof _==\"function\"?g(this,_):null;this._nativeAudioBufferSourceNode.onended=x;let M=this._nativeAudioBufferSourceNode.onended;this._onended=M!==null\u0026\u0026M===x?_:M}get playbackRate(){return this._playbackRate}start(_=0,x=0,M){if(this._nativeAudioBufferSourceNode.start(_,x,M),this._audioBufferSourceNodeRenderer!==null\u0026\u0026(this._audioBufferSourceNodeRenderer.start=M===void 0?[_,x]:[_,x,M]),this.context.state!==\"closed\"){Ne(this);let N=()=\u003e{this._nativeAudioBufferSourceNode.removeEventListener(\"ended\",N),Qe(this)\u0026\u0026Re(this)};this._nativeAudioBufferSourceNode.addEventListener(\"ended\",N)}}stop(_=0){this._nativeAudioBufferSourceNode.stop(_),this._audioBufferSourceNodeRenderer!==null\u0026\u0026(this._audioBufferSourceNodeRenderer.stop=_)}})($t,o7,Ir,Vt,Mi,St,_t,Ti),c7=((l,t,i,u,h,f,m,g)=\u003eclass extends l{constructor(_,x){let M=f(_),N=m(M),P=h(M,x,N);super(_,!1,P,N?t(g):null),this._isNodeOfNativeOfflineAudioContext=N,this._nativeAudioDestinationNode=P}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(_){if(this._isNodeOfNativeOfflineAudioContext)throw u();if(_\u003ethis._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=_}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(_){if(this._isNodeOfNativeOfflineAudioContext)throw u();this._nativeAudioDestinationNode.channelCountMode=_}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})($t,l=\u003e{let t=null;return{render:(i,u,h)=\u003e(t===null\u0026\u0026(t=(async(f,m,g)=\u003e{let _=m.destination;return await l(f,m,_,g),_})(i,u,h)),t)}},Y,Vt,((l,t)=\u003e(i,u,h)=\u003e{let f=i.destination;if(f.channelCount!==u)try{f.channelCount=u}catch{}h\u0026\u0026f.channelCountMode!==\"explicit\"\u0026\u0026(f.channelCountMode=\"explicit\"),f.maxChannelCount===0\u0026\u0026Object.defineProperty(f,\"maxChannelCount\",{value:u});let m=l(i,{channelCount:u,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});return t(m,\"channelCount\",g=\u003e()=\u003eg.call(m),g=\u003e_=\u003e{g.call(m,_);try{f.channelCount=_}catch(x){if(_\u003ef.maxChannelCount)throw x}}),t(m,\"channelCountMode\",g=\u003e()=\u003eg.call(m),g=\u003e_=\u003e{g.call(m,_),f.channelCountMode=_}),t(m,\"channelInterpretation\",g=\u003e()=\u003eg.call(m),g=\u003e_=\u003e{g.call(m,_),f.channelInterpretation=_}),Object.defineProperty(m,\"maxChannelCount\",{get:()=\u003ef.maxChannelCount}),m.connect(f),m})(z,gr),St,_t,gn),l7=((l,t,i,u,h)=\u003e()=\u003e{let f=new WeakMap;return{render(m,g,_){let x=f.get(g);return x!==void 0?Promise.resolve(x):(async(M,N,P)=\u003e{let q=i(M),U=X(q,N);if(!U){let D={Q:q.Q.value,channelCount:q.channelCount,channelCountMode:q.channelCountMode,channelInterpretation:q.channelInterpretation,detune:q.detune.value,frequency:q.frequency.value,gain:q.gain.value,type:q.type};q=t(N,D)}return f.set(N,q),U?(await l(N,M.Q,q.Q,P),await l(N,M.detune,q.detune,P),await l(N,M.frequency,q.frequency,P),await l(N,M.gain,q.gain,P)):(await u(N,M.Q,q.Q,P),await u(N,M.detune,q.detune,P),await u(N,M.frequency,q.frequency,P),await u(N,M.gain,q.gain,P)),await h(M,N,q,P),q})(m,g,_)}}})(Zr,C,vt,Kr,gn),Rs=(l=\u003e(t,i)=\u003el.set(t,i))(ib),h7=(Tb=$t,hu=Ir,Mb=l7,Hf=ki,Sb=C,Pb=St,Ob=_t,Cb=Rs,class extends Tb{constructor(l,t){let i=Pb(l),u={...yi,...t},h=Sb(i,u),f=Ob(i);super(l,!1,h,f?Mb():null),this._Q=hu(this,f,h.Q,Le,me),this._detune=hu(this,f,h.detune,1200*Math.log2(Le),-1200*Math.log2(Le)),this._frequency=hu(this,f,h.frequency,l.sampleRate/2,0),this._gain=hu(this,f,h.gain,40*Math.log10(Le),me),this._nativeBiquadFilterNode=h,Cb(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,t,i){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,t,i)}catch(u){throw u.code===11?Hf():u}if(l.length!==t.length||t.length!==i.length)throw Hf()}});var Tb,hu,Mb,Hf,Sb,Pb,Ob,Cb;let $a=((l,t)=\u003e(i,u,h)=\u003e{let f=new Set;var m,g;return i.connect=(m=i.connect,(_,x=0,M=0)=\u003e{let N=f.size===0;if(t(_))return m.call(i,_,x,M),l(f,[_,x,M],P=\u003eP[0]===_\u0026\u0026P[1]===x\u0026\u0026P[2]===M,!0),N\u0026\u0026u(),_;m.call(i,_,x),l(f,[_,x],P=\u003eP[0]===_\u0026\u0026P[1]===x,!0),N\u0026\u0026u()}),i.disconnect=(g=i.disconnect,(_,x,M)=\u003e{let N=f.size\u003e0;if(_===void 0)g.apply(i),f.clear();else if(typeof _==\"number\"){g.call(i,_);for(let q of f)q[1]===_\u0026\u0026f.delete(q)}else{t(_)?g.call(i,_,x,M):g.call(i,_,x);for(let q of f)q[0]!==_||x!==void 0\u0026\u0026q[1]!==x||M!==void 0\u0026\u0026q[2]!==M||f.delete(q)}let P=f.size===0;N\u0026\u0026P\u0026\u0026h()}),i})(mt,Wf),p7=(Yf=Vt,Ab=$a,(l,t)=\u003e{t.channelCount=1,t.channelCountMode=\"explicit\",Object.defineProperty(t,\"channelCount\",{get:()=\u003e1,set:()=\u003e{throw Yf()}}),Object.defineProperty(t,\"channelCountMode\",{get:()=\u003e\"explicit\",set:()=\u003e{throw Yf()}});let i=l.createBufferSource();Ab(t,()=\u003e{let u=t.numberOfInputs;for(let h=0;h\u003cu;h+=1)i.connect(t,0,h)},()=\u003ei.disconnect(t))});var Yf,Ab;let Ha=((l,t)=\u003e(i,u)=\u003e{let h=i.createChannelMerger(u.numberOfInputs);return l!==null\u0026\u0026l.name===\"webkitAudioContext\"\u0026\u0026t(i,h),Ut(h,u),h})(ba,p7),d7=((l,t,i,u,h)=\u003eclass extends l{constructor(f,m){let g=u(f),_={...Ze,...m};super(f,!1,i(g,_),h(g)?t():null)}})($t,((l,t,i)=\u003e()=\u003e{let u=new WeakMap;return{render(h,f,m){let g=u.get(f);return g!==void 0?Promise.resolve(g):(async(_,x,M)=\u003e{let N=t(_);if(!X(N,x)){let P={channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,numberOfInputs:N.numberOfInputs};N=l(x,P)}return u.set(x,N),await i(_,x,N,M),N})(h,f,m)}}})(Ha,vt,gn),Ha,St,_t),f7=((l,t,i,u,h,f)=\u003eclass extends l{constructor(m,g){let _=u(m),x=f({..._a,...g});super(m,!1,i(_,x),h(_)?t():null)}})($t,((l,t,i)=\u003e()=\u003e{let u=new WeakMap;return{render(h,f,m){let g=u.get(f);return g!==void 0?Promise.resolve(g):(async(_,x,M)=\u003e{let N=t(_);if(!X(N,x)){let P={channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,numberOfOutputs:N.numberOfOutputs};N=l(x,P)}return u.set(x,N),await i(_,x,N,M),N})(h,f,m)}}})(A,vt,gn),A,St,_t,l=\u003e({...l,channelCount:l.numberOfOutputs})),m7=((l,t,i,u)=\u003e(h,{offset:f,...m})=\u003e{let g=h.createBuffer(1,2,44100),_=t(h,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),x=i(h,{...m,gain:f}),M=g.getChannelData(0);M[0]=1,M[1]=1,_.buffer=g,_.loop=!0;let N={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(P){x.channelCount=P},get channelCountMode(){return x.channelCountMode},set channelCountMode(P){x.channelCountMode=P},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(P){x.channelInterpretation=P},get context(){return x.context},get inputs(){return[]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get offset(){return x.gain},get onended(){return _.onended},set onended(P){_.onended=P},addEventListener:(...P)=\u003e_.addEventListener(P[0],P[1],P[2]),dispatchEvent:(...P)=\u003e_.dispatchEvent(P[0]),removeEventListener:(...P)=\u003e_.removeEventListener(P[0],P[1],P[2]),start(P=0){_.start.call(_,P)},stop(P=0){_.stop.call(_,P)}};return l(h,_),u(F(N,x),()=\u003e_.connect(x),()=\u003e_.disconnect(x))})(vl,Mi,z,$a),Si=((l,t,i,u,h)=\u003e(f,m)=\u003e{if(f.createConstantSource===void 0)return i(f,m);let g=f.createConstantSource();return Ut(g,m),jt(g,m,\"offset\"),t(u,()=\u003eu(f))||Ni(g),t(h,()=\u003eh(f))||cu(g),l(f,g),g})(vl,tr,m7,jf,Df),v7=((l,t,i,u,h,f,m)=\u003eclass extends l{constructor(g,_){let x=h(g),M={...uu,..._},N=u(x,M),P=f(x),q=P?i():null;super(g,!1,N,q),this._constantSourceNodeRenderer=q,this._nativeConstantSourceNode=N,this._offset=t(this,P,N.offset,Le,me),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(g){let _=typeof g==\"function\"?m(this,g):null;this._nativeConstantSourceNode.onended=_;let x=this._nativeConstantSourceNode.onended;this._onended=x!==null\u0026\u0026x===_?g:x}start(g=0){if(this._nativeConstantSourceNode.start(g),this._constantSourceNodeRenderer!==null\u0026\u0026(this._constantSourceNodeRenderer.start=g),this.context.state!==\"closed\"){Ne(this);let _=()=\u003e{this._nativeConstantSourceNode.removeEventListener(\"ended\",_),Qe(this)\u0026\u0026Re(this)};this._nativeConstantSourceNode.addEventListener(\"ended\",_)}}stop(g=0){this._nativeConstantSourceNode.stop(g),this._constantSourceNodeRenderer!==null\u0026\u0026(this._constantSourceNodeRenderer.stop=g)}})($t,Ir,((l,t,i,u,h)=\u003e()=\u003e{let f=new WeakMap,m=null,g=null;return{set start(_){m=_},set stop(_){g=_},render(_,x,M){let N=f.get(x);return N!==void 0?Promise.resolve(N):(async(P,q,U)=\u003e{let D=i(P),E=X(D,q);if(!E){let W={channelCount:D.channelCount,channelCountMode:D.channelCountMode,channelInterpretation:D.channelInterpretation,offset:D.offset.value};D=t(q,W),m!==null\u0026\u0026D.start(m),g!==null\u0026\u0026D.stop(g)}return f.set(q,D),E?await l(q,P.offset,D.offset,U):await u(q,P.offset,D.offset,U),await h(P,q,D,U),D})(_,x,M)}}})(Zr,Si,vt,Kr,gn),Si,St,_t,Ti),Rb=((l,t)=\u003e(i,u)=\u003e{let h=i.createConvolver();if(Ut(h,u),u.disableNormalization===h.normalize\u0026\u0026(h.normalize=!u.disableNormalization),Mt(h,u,\"buffer\"),u.channelCount\u003e2||(t(h,\"channelCount\",f=\u003e()=\u003ef.call(h),f=\u003em=\u003e{if(m\u003e2)throw l();return f.call(h,m)}),u.channelCountMode===\"max\"))throw l();return t(h,\"channelCountMode\",f=\u003e()=\u003ef.call(h),f=\u003em=\u003e{if(m===\"max\")throw l();return f.call(h,m)}),h})(Ye,gr),g7=((l,t,i,u,h,f)=\u003eclass extends l{constructor(m,g){let _=u(m),x={..._i,...g},M=i(_,x);super(m,!1,M,h(_)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=M,x.buffer!==null\u0026\u0026f(this,x.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(m){if(this._nativeConvolverNode.buffer=m,m===null\u0026\u0026this._nativeConvolverNode.buffer!==null){let g=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=g.createBuffer(1,1,44100),this._isBufferNullified=!0,f(this,0)}else this._isBufferNullified=!1,f(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(m){this._nativeConvolverNode.normalize=m}})($t,((l,t,i)=\u003e()=\u003e{let u=new WeakMap;return{render(h,f,m){let g=u.get(f);return g!==void 0?Promise.resolve(g):(async(_,x,M)=\u003e{let N=t(_);if(!X(N,x)){let P={buffer:N.buffer,channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,disableNormalization:!N.normalize};N=l(x,P)}return u.set(x,N),Et(N)?await i(_,x,N.inputs[0],M):await i(_,x,N,M),N})(h,f,m)}}})(Rb,vt,gn),Rb,St,_t,Rs),y7=((l,t,i,u,h,f,m)=\u003eclass extends l{constructor(g,_){let x=h(g),M={...bi,..._},N=u(x,M),P=f(x);super(g,!1,N,P?i(M.maxDelayTime):null),this._delayTime=t(this,P,N.delayTime),m(this,M.maxDelayTime)}get delayTime(){return this._delayTime}})($t,Ir,((l,t,i,u,h)=\u003ef=\u003e{let m=new WeakMap;return{render(g,_,x){let M=m.get(_);return M!==void 0?Promise.resolve(M):(async(N,P,q)=\u003e{let U=i(N),D=X(U,P);if(!D){let E={channelCount:U.channelCount,channelCountMode:U.channelCountMode,channelInterpretation:U.channelInterpretation,delayTime:U.delayTime.value,maxDelayTime:f};U=t(P,E)}return m.set(P,U),D?await l(P,N.delayTime,U.delayTime,q):await u(P,N.delayTime,U.delayTime,q),await h(N,P,U,q),U})(g,_,x)}}})(Zr,I,vt,Kr,gn),I,St,_t,Rs),Eb=(Xf=Ye,(l,t)=\u003e{let i=l.createDynamicsCompressor();if(Ut(i,t),t.channelCount\u003e2||t.channelCountMode===\"max\")throw Xf();return jt(i,t,\"attack\"),jt(i,t,\"knee\"),jt(i,t,\"ratio\"),jt(i,t,\"release\"),jt(i,t,\"threshold\"),i});var Xf;let _7=((l,t,i,u,h,f,m,g)=\u003eclass extends l{constructor(_,x){let M=f(_),N={...hl,...x},P=u(M,N),q=m(M);super(_,!1,P,q?i():null),this._attack=t(this,q,P.attack),this._knee=t(this,q,P.knee),this._nativeDynamicsCompressorNode=P,this._ratio=t(this,q,P.ratio),this._release=t(this,q,P.release),this._threshold=t(this,q,P.threshold),g(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(_){let x=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=_,_\u003e2)throw this._nativeDynamicsCompressorNode.channelCount=x,h()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(_){let x=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=_,_===\"max\")throw this._nativeDynamicsCompressorNode.channelCountMode=x,h()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value==\"number\"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})($t,Ir,((l,t,i,u,h)=\u003e()=\u003e{let f=new WeakMap;return{render(m,g,_){let x=f.get(g);return x!==void 0?Promise.resolve(x):(async(M,N,P)=\u003e{let q=i(M),U=X(q,N);if(!U){let D={attack:q.attack.value,channelCount:q.channelCount,channelCountMode:q.channelCountMode,channelInterpretation:q.channelInterpretation,knee:q.knee.value,ratio:q.ratio.value,release:q.release.value,threshold:q.threshold.value};q=t(N,D)}return f.set(N,q),U?(await l(N,M.attack,q.attack,P),await l(N,M.knee,q.knee,P),await l(N,M.ratio,q.ratio,P),await l(N,M.release,q.release,P),await l(N,M.threshold,q.threshold,P)):(await u(N,M.attack,q.attack,P),await u(N,M.knee,q.knee,P),await u(N,M.ratio,q.ratio,P),await u(N,M.release,q.release,P),await u(N,M.threshold,q.threshold,P)),await h(M,N,q,P),q})(m,g,_)}}})(Zr,Eb,vt,Kr,gn),Eb,Ye,St,_t,Rs),b7=((l,t,i,u,h,f)=\u003eclass extends l{constructor(m,g){let _=h(m),x={...Cf,...g},M=u(_,x),N=f(_);super(m,!1,M,N?i():null),this._gain=t(this,N,M.gain,Le,me)}get gain(){return this._gain}})($t,Ir,((l,t,i,u,h)=\u003e()=\u003e{let f=new WeakMap;return{render(m,g,_){let x=f.get(g);return x!==void 0?Promise.resolve(x):(async(M,N,P)=\u003e{let q=i(M),U=X(q,N);if(!U){let D={channelCount:q.channelCount,channelCountMode:q.channelCountMode,channelInterpretation:q.channelInterpretation,gain:q.gain.value};q=t(N,D)}return f.set(N,q),U?await l(N,M.gain,q.gain,P):await u(N,M.gain,q.gain,P),await h(M,N,q,P),q})(m,g,_)}}})(Zr,z,vt,Kr,gn),z,St,_t),x7=((l,t,i,u)=\u003e(h,f,{channelCount:m,channelCountMode:g,channelInterpretation:_,feedback:x,feedforward:M})=\u003e{let N=fl(f,h.sampleRate),P=x instanceof Float64Array?x:new Float64Array(x),q=M instanceof Float64Array?M:new Float64Array(M),U=P.length,D=q.length,E=Math.min(U,D);if(U===0||U\u003e20)throw u();if(P[0]===0)throw t();if(D===0||D\u003e20)throw u();if(q[0]===0)throw t();if(P[0]!==1){for(let te=0;te\u003cD;te+=1)q[te]/=P[0];for(let te=1;te\u003cU;te+=1)P[te]/=P[0]}let W=i(h,N,m,m);W.channelCount=m,W.channelCountMode=g,W.channelInterpretation=_;let K=[],Z=[],Q=[];for(let te=0;te\u003cm;te+=1){K.push(0);let ae=new Float32Array(32),ke=new Float32Array(32);ae.fill(0),ke.fill(0),Z.push(ae),Q.push(ke)}W.onaudioprocess=te=\u003e{let ae=te.inputBuffer,ke=te.outputBuffer,ce=ae.numberOfChannels;for(let fe=0;fe\u003cce;fe+=1){let ve=ae.getChannelData(fe),Te=ke.getChannelData(fe);K[fe]=pl(P,U,q,D,E,Z[fe],Q[fe],K[fe],32,ve,Te)}};let re=h.sampleRate/2;return F({get bufferSize(){return N},get channelCount(){return W.channelCount},set channelCount(te){W.channelCount=te},get channelCountMode(){return W.channelCountMode},set channelCountMode(te){W.channelCountMode=te},get channelInterpretation(){return W.channelInterpretation},set channelInterpretation(te){W.channelInterpretation=te},get context(){return W.context},get inputs(){return[W]},get numberOfInputs(){return W.numberOfInputs},get numberOfOutputs(){return W.numberOfOutputs},addEventListener:(...te)=\u003eW.addEventListener(te[0],te[1],te[2]),dispatchEvent:(...te)=\u003eW.dispatchEvent(te[0]),getFrequencyResponse(te,ae,ke){if(te.length!==ae.length||ae.length!==ke.length)throw l();let ce=te.length;for(let fe=0;fe\u003cce;fe+=1){let ve=-Math.PI*(te[fe]/re),Te=[Math.cos(ve),Math.sin(ve)],Fe=_e(qe(q,Te),qe(P,Te));ae[fe]=Math.sqrt(Fe[0]*Fe[0]+Fe[1]*Fe[1]),ke[fe]=Math.atan2(Fe[1],Fe[0])}},removeEventListener:(...te)=\u003eW.removeEventListener(te[0],te[1],te[2])},W)})(ki,Vt,Ge,Ye),gl=((l,t,i,u)=\u003eh=\u003el(Cs,()=\u003eCs(h))?Promise.resolve(l(u,u)).then(f=\u003e{if(!f){let m=i(h,512,0,1);h.oncomplete=()=\u003e{m.onaudioprocess=null,m.disconnect()},m.onaudioprocess=()=\u003eh.currentTime,m.connect(h.destination)}return h.startRendering()}):new Promise(f=\u003e{let m=t(h,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});h.oncomplete=g=\u003e{m.disconnect(),f(g.renderedBuffer)},m.connect(h.destination),h.startRendering()}))(tr,z,Ge,((l,t)=\u003e()=\u003e{if(t===null)return Promise.resolve(!1);let i=new t(1,1,44100),u=l(i,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});return new Promise(h=\u003e{i.oncomplete=()=\u003e{u.disconnect(),h(i.currentTime!==0)},i.startRendering()})})(z,cn)),k7=((l,t,i,u,h)=\u003e(f,m)=\u003e{let g=new WeakMap,_=null,x=async(M,N,P)=\u003e{let q=null,U=t(M),D=X(U,N);if(N.createIIRFilter===void 0?q=l(N,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):D||(U=N.createIIRFilter(m,f)),g.set(N,q===null?U:q),q!==null){if(_===null){if(i===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let W=new i(M.context.destination.channelCount,M.context.length,N.sampleRate);_=(async()=\u003e(await u(M,W,W.destination,P),((K,Z,Q,re)=\u003e{let te=Q instanceof Float64Array?Q:new Float64Array(Q),ae=re instanceof Float64Array?re:new Float64Array(re),ke=te.length,ce=ae.length,fe=Math.min(ke,ce);if(te[0]!==1){for(let Ee=0;Ee\u003cke;Ee+=1)ae[Ee]/=te[0];for(let Ee=1;Ee\u003cce;Ee+=1)te[Ee]/=te[0]}let ve=new Float32Array(32),Te=new Float32Array(32),Fe=Z.createBuffer(K.numberOfChannels,K.length,K.sampleRate),ct=K.numberOfChannels;for(let Ee=0;Ee\u003cct;Ee+=1){let Ke=K.getChannelData(Ee),at=Fe.getChannelData(Ee);ve.fill(0),Te.fill(0),pl(te,ke,ae,ce,fe,ve,Te,0,32,Ke,at)}return Fe})(await h(W),N,f,m)))()}let E=await _;return q.buffer=E,q.start(0),q}return await u(M,N,U,P),U};return{render(M,N,P){let q=g.get(N);return q!==void 0?Promise.resolve(q):x(M,N,P)}}})(Mi,vt,cn,gn,gl);var jb;let N7=((l,t,i,u,h,f)=\u003eclass extends l{constructor(m,g){let _=u(m),x=h(_),M={...Af,...g},N=t(_,x?null:m.baseLatency,M);super(m,!1,N,x?i(M.feedback,M.feedforward):null),(P=\u003e{var q;P.getFrequencyResponse=(q=P.getFrequencyResponse,(U,D,E)=\u003e{if(U.length!==D.length||D.length!==E.length)throw ki();return q.call(P,U,D,E)})})(N),this._nativeIIRFilterNode=N,f(this,1)}getFrequencyResponse(m,g,_){return this._nativeIIRFilterNode.getFrequencyResponse(m,g,_)}})($t,(jb=x7,(l,t,i)=\u003e{if(l.createIIRFilter===void 0)return jb(l,t,i);let u=l.createIIRFilter(i.feedforward,i.feedback);return Ut(u,i),u}),k7,St,_t,Rs),w7=((l,t,i,u,h)=\u003e(f,m)=\u003e{let g=m.listener,{forwardX:_,forwardY:x,forwardZ:M,positionX:N,positionY:P,positionZ:q,upX:U,upY:D,upZ:E}=g.forwardX===void 0?(()=\u003e{let W=t(m,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:9}),K=h(m),Z=u(m,256,9,0),Q=(ae,ke)=\u003e{let ce=i(m,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:ke});return ce.connect(W,0,ae),ce.start(),Object.defineProperty(ce.offset,\"defaultValue\",{get:()=\u003eke}),l({context:f},K,ce.offset,Le,me)},re=[0,0,-1,0,1,0],te=[0,0,0];return Z.onaudioprocess=({inputBuffer:ae})=\u003e{let ke=[ae.getChannelData(0)[0],ae.getChannelData(1)[0],ae.getChannelData(2)[0],ae.getChannelData(3)[0],ae.getChannelData(4)[0],ae.getChannelData(5)[0]];ke.some((fe,ve)=\u003efe!==re[ve])\u0026\u0026(g.setOrientation(...ke),re=ke);let ce=[ae.getChannelData(6)[0],ae.getChannelData(7)[0],ae.getChannelData(8)[0]];ce.some((fe,ve)=\u003efe!==te[ve])\u0026\u0026(g.setPosition(...ce),te=ce)},W.connect(Z),{forwardX:Q(0,0),forwardY:Q(1,0),forwardZ:Q(2,-1),positionX:Q(6,0),positionY:Q(7,0),positionZ:Q(8,0),upX:Q(3,0),upY:Q(4,1),upZ:Q(5,0)}})():g;return{get forwardX(){return _},get forwardY(){return x},get forwardZ(){return M},get positionX(){return N},get positionY(){return P},get positionZ(){return q},get upX(){return U},get upY(){return D},get upZ(){return E}}})(Ir,Ha,Si,Ge,_t),Db=new WeakMap,Zf=((l,t,i,u,h,f)=\u003eclass extends i{constructor(m,g){super(m),this._nativeContext=m,S.set(this,m),u(m)\u0026\u0026h.set(m,new Set),this._destination=new l(this,g),this._listener=t(this,m),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(m){let g=typeof m==\"function\"?f(this,m):null;this._nativeContext.onstatechange=g;let _=this._nativeContext.onstatechange;this._onstatechange=_!==null\u0026\u0026_===g?m:_}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(c7,w7,vb,_t,Db,Ti),Ib=((l,t,i,u,h,f)=\u003e(m,g)=\u003e{let _=m.createOscillator();return Ut(_,g),jt(_,g,\"detune\"),jt(_,g,\"frequency\"),g.periodicWave!==void 0?_.setPeriodicWave(g.periodicWave):Mt(_,g,\"type\"),t(i,()=\u003ei(m))||Ni(_),t(u,()=\u003eu(m))||f(_,m),t(h,()=\u003eh(m))||cu(_),l(m,_),_})(vl,tr,jf,rb,Df,ab),q7=((l,t,i,u,h,f,m)=\u003eclass extends l{constructor(g,_){let x=h(g),M={...kt,..._},N=i(x,M),P=f(x),q=P?u():null,U=g.sampleRate/2;super(g,!1,N,q),this._detune=t(this,P,N.detune,153600,-153600),this._frequency=t(this,P,N.frequency,U,-U),this._nativeOscillatorNode=N,this._onended=null,this._oscillatorNodeRenderer=q,this._oscillatorNodeRenderer!==null\u0026\u0026M.periodicWave!==void 0\u0026\u0026(this._oscillatorNodeRenderer.periodicWave=M.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(g){let _=typeof g==\"function\"?m(this,g):null;this._nativeOscillatorNode.onended=_;let x=this._nativeOscillatorNode.onended;this._onended=x!==null\u0026\u0026x===_?g:x}get type(){return this._nativeOscillatorNode.type}set type(g){this._nativeOscillatorNode.type=g,this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(g){this._nativeOscillatorNode.setPeriodicWave(g),this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.periodicWave=g)}start(g=0){if(this._nativeOscillatorNode.start(g),this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.start=g),this.context.state!==\"closed\"){Ne(this);let _=()=\u003e{this._nativeOscillatorNode.removeEventListener(\"ended\",_),Qe(this)\u0026\u0026Re(this)};this._nativeOscillatorNode.addEventListener(\"ended\",_)}}stop(g=0){this._nativeOscillatorNode.stop(g),this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.stop=g)}})($t,Ir,Ib,((l,t,i,u,h)=\u003e()=\u003e{let f=new WeakMap,m=null,g=null,_=null;return{set periodicWave(x){m=x},set start(x){g=x},set stop(x){_=x},render(x,M,N){let P=f.get(M);return P!==void 0?Promise.resolve(P):(async(q,U,D)=\u003e{let E=i(q),W=X(E,U);if(!W){let K={channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,detune:E.detune.value,frequency:E.frequency.value,periodicWave:m===null?void 0:m,type:E.type};E=t(U,K),g!==null\u0026\u0026E.start(g),_!==null\u0026\u0026E.stop(_)}return f.set(U,E),W?(await l(U,q.detune,E.detune,D),await l(U,q.frequency,E.frequency,D)):(await u(U,q.detune,E.detune,D),await u(U,q.frequency,E.frequency,D)),await h(q,U,E,D),E})(x,M,N)}}})(Zr,Ib,vt,Kr,gn),St,_t,Ti),Fb=(Vb=Mi,(l,t)=\u003e{let i=Vb(l,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=l.createBuffer(1,2,44100);return i.buffer=u,i.loop=!0,i.connect(t),i.start(),()=\u003e{i.stop(),i.disconnect(t)}});var Vb;let T7=((l,t,i,u,h)=\u003e(f,{curve:m,oversample:g,..._})=\u003e{let x=f.createWaveShaper(),M=f.createWaveShaper();Ut(x,_),Ut(M,_);let N=i(f,{..._,gain:1}),P=i(f,{..._,gain:-1}),q=i(f,{..._,gain:1}),U=i(f,{..._,gain:-1}),D=null,E=!1,W=null,K={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(Z){N.channelCount=Z,P.channelCount=Z,x.channelCount=Z,q.channelCount=Z,M.channelCount=Z,U.channelCount=Z},get channelCountMode(){return x.channelCountMode},set channelCountMode(Z){N.channelCountMode=Z,P.channelCountMode=Z,x.channelCountMode=Z,q.channelCountMode=Z,M.channelCountMode=Z,U.channelCountMode=Z},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(Z){N.channelInterpretation=Z,P.channelInterpretation=Z,x.channelInterpretation=Z,q.channelInterpretation=Z,M.channelInterpretation=Z,U.channelInterpretation=Z},get context(){return x.context},get curve(){return W},set curve(Z){if(Z!==null\u0026\u0026Z.length\u003c2)throw t();if(Z===null)x.curve=Z,M.curve=Z;else{let Q=Z.length,re=new Float32Array(Q+2-Q%2),te=new Float32Array(Q+2-Q%2);re[0]=Z[0],te[0]=-Z[Q-1];let ae=Math.ceil((Q+1)/2),ke=(Q+1)/2-1;for(let ce=1;ce\u003cae;ce+=1){let fe=ce/ae*ke,ve=Math.floor(fe),Te=Math.ceil(fe);re[ce]=ve===Te?Z[ve]:(1-(fe-ve))*Z[ve]+(1-(Te-fe))*Z[Te],te[ce]=ve===Te?-Z[Q-1-ve]:-(1-(fe-ve))*Z[Q-1-ve]-(1-(Te-fe))*Z[Q-1-Te]}re[ae]=Q%2==1?Z[ae-1]:(Z[ae-2]+Z[ae-1])/2,x.curve=re,M.curve=te}W=Z,E\u0026\u0026(u(W)\u0026\u0026D===null?D=l(f,N):D!==null\u0026\u0026(D(),D=null))},get inputs(){return[N]},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get oversample(){return x.oversample},set oversample(Z){x.oversample=Z,M.oversample=Z},addEventListener:(...Z)=\u003eN.addEventListener(Z[0],Z[1],Z[2]),dispatchEvent:(...Z)=\u003eN.dispatchEvent(Z[0]),removeEventListener:(...Z)=\u003eN.removeEventListener(Z[0],Z[1],Z[2])};return m!==null\u0026\u0026(K.curve=m instanceof Float32Array?m:new Float32Array(m)),g!==K.oversample\u0026\u0026(K.oversample=g),h(F(K,q),()=\u003e{N.connect(x).connect(q),N.connect(P).connect(M).connect(U).connect(q),E=!0,u(W)\u0026\u0026(D=l(f,N))},()=\u003e{N.disconnect(x),x.disconnect(q),N.disconnect(P),P.disconnect(M),M.disconnect(U),U.disconnect(q),E=!1,D!==null\u0026\u0026(D(),D=null)})})(Fb,Vt,z,qi,$a),yl=((l,t,i,u,h,f,m)=\u003e(g,_)=\u003e{let x=g.createWaveShaper();if(f!==null\u0026\u0026f.name===\"webkitAudioContext\"\u0026\u0026g.createGain().gain.automationRate===void 0)return i(g,_);Ut(x,_);let M=_.curve===null||_.curve instanceof Float32Array?_.curve:new Float32Array(_.curve);if(M!==null\u0026\u0026M.length\u003c2)throw t();Mt(x,{curve:M},\"curve\"),Mt(x,_,\"oversample\");let N=null,P=!1;return m(x,\"curve\",q=\u003e()=\u003eq.call(x),q=\u003eU=\u003e(q.call(x,U),P\u0026\u0026(u(U)\u0026\u0026N===null?N=l(g,x):u(U)||N===null||(N(),N=null)),U)),h(x,()=\u003e{P=!0,u(x.curve)\u0026\u0026(N=l(g,x))},()=\u003e{P=!1,N!==null\u0026\u0026(N(),N=null)})})(Fb,Vt,T7,qi,$a,ba,gr),M7=((l,t,i,u,h,f,m,g,_)=\u003e(x,{coneInnerAngle:M,coneOuterAngle:N,coneOuterGain:P,distanceModel:q,maxDistance:U,orientationX:D,orientationY:E,orientationZ:W,panningModel:K,positionX:Z,positionY:Q,positionZ:re,refDistance:te,rolloffFactor:ae,...ke})=\u003e{let ce=x.createPanner();if(ke.channelCount\u003e2||ke.channelCountMode===\"max\")throw m();Ut(ce,ke);let fe={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\"},ve=i(x,{...fe,channelInterpretation:\"speakers\",numberOfInputs:6}),Te=u(x,{...ke,gain:1}),Fe=u(x,{...fe,gain:1}),ct=u(x,{...fe,gain:0}),Ee=u(x,{...fe,gain:0}),Ke=u(x,{...fe,gain:0}),at=u(x,{...fe,gain:0}),$e=u(x,{...fe,gain:0}),nt=h(x,256,6,1),lt=f(x,{...fe,curve:new Float32Array([1,1]),oversample:\"none\"}),Ht=[D,E,W],an=[Z,Q,re];nt.onaudioprocess=({inputBuffer:je})=\u003e{let kn=[je.getChannelData(0)[0],je.getChannelData(1)[0],je.getChannelData(2)[0]];kn.some((or,ts)=\u003eor!==Ht[ts])\u0026\u0026(ce.setOrientation(...kn),Ht=kn);let ra=[je.getChannelData(3)[0],je.getChannelData(4)[0],je.getChannelData(5)[0]];ra.some((or,ts)=\u003eor!==an[ts])\u0026\u0026(ce.setPosition(...ra),an=ra)},Object.defineProperty(ct.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(Ee.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(Ke.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(at.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty($e.gain,\"defaultValue\",{get:()=\u003e0});let st={get bufferSize(){},get channelCount(){return ce.channelCount},set channelCount(je){if(je\u003e2)throw m();Te.channelCount=je,ce.channelCount=je},get channelCountMode(){return ce.channelCountMode},set channelCountMode(je){if(je===\"max\")throw m();Te.channelCountMode=je,ce.channelCountMode=je},get channelInterpretation(){return ce.channelInterpretation},set channelInterpretation(je){Te.channelInterpretation=je,ce.channelInterpretation=je},get coneInnerAngle(){return ce.coneInnerAngle},set coneInnerAngle(je){ce.coneInnerAngle=je},get coneOuterAngle(){return ce.coneOuterAngle},set coneOuterAngle(je){ce.coneOuterAngle=je},get coneOuterGain(){return ce.coneOuterGain},set coneOuterGain(je){if(je\u003c0||je\u003e1)throw t();ce.coneOuterGain=je},get context(){return ce.context},get distanceModel(){return ce.distanceModel},set distanceModel(je){ce.distanceModel=je},get inputs(){return[Te]},get maxDistance(){return ce.maxDistance},set maxDistance(je){if(je\u003c0)throw new RangeError;ce.maxDistance=je},get numberOfInputs(){return ce.numberOfInputs},get numberOfOutputs(){return ce.numberOfOutputs},get orientationX(){return Fe.gain},get orientationY(){return ct.gain},get orientationZ(){return Ee.gain},get panningModel(){return ce.panningModel},set panningModel(je){ce.panningModel=je},get positionX(){return Ke.gain},get positionY(){return at.gain},get positionZ(){return $e.gain},get refDistance(){return ce.refDistance},set refDistance(je){if(je\u003c0)throw new RangeError;ce.refDistance=je},get rolloffFactor(){return ce.rolloffFactor},set rolloffFactor(je){if(je\u003c0)throw new RangeError;ce.rolloffFactor=je},addEventListener:(...je)=\u003eTe.addEventListener(je[0],je[1],je[2]),dispatchEvent:(...je)=\u003eTe.dispatchEvent(je[0]),removeEventListener:(...je)=\u003eTe.removeEventListener(je[0],je[1],je[2])};return M!==st.coneInnerAngle\u0026\u0026(st.coneInnerAngle=M),N!==st.coneOuterAngle\u0026\u0026(st.coneOuterAngle=N),P!==st.coneOuterGain\u0026\u0026(st.coneOuterGain=P),q!==st.distanceModel\u0026\u0026(st.distanceModel=q),U!==st.maxDistance\u0026\u0026(st.maxDistance=U),D!==st.orientationX.value\u0026\u0026(st.orientationX.value=D),E!==st.orientationY.value\u0026\u0026(st.orientationY.value=E),W!==st.orientationZ.value\u0026\u0026(st.orientationZ.value=W),K!==st.panningModel\u0026\u0026(st.panningModel=K),Z!==st.positionX.value\u0026\u0026(st.positionX.value=Z),Q!==st.positionY.value\u0026\u0026(st.positionY.value=Q),re!==st.positionZ.value\u0026\u0026(st.positionZ.value=re),te!==st.refDistance\u0026\u0026(st.refDistance=te),ae!==st.rolloffFactor\u0026\u0026(st.rolloffFactor=ae),Ht[0]===1\u0026\u0026Ht[1]===0\u0026\u0026Ht[2]===0||ce.setOrientation(...Ht),an[0]===0\u0026\u0026an[1]===0\u0026\u0026an[2]===0||ce.setPosition(...an),_(F(st,ce),()=\u003e{Te.connect(ce),l(Te,lt,0,0),lt.connect(Fe).connect(ve,0,0),lt.connect(ct).connect(ve,0,1),lt.connect(Ee).connect(ve,0,2),lt.connect(Ke).connect(ve,0,3),lt.connect(at).connect(ve,0,4),lt.connect($e).connect(ve,0,5),ve.connect(nt).connect(x.destination)},()=\u003e{Te.disconnect(ce),g(Te,lt,0,0),lt.disconnect(Fe),Fe.disconnect(ve),lt.disconnect(ct),ct.disconnect(ve),lt.disconnect(Ee),Ee.disconnect(ve),lt.disconnect(Ke),Ke.disconnect(ve),lt.disconnect(at),at.disconnect(ve),lt.disconnect($e),$e.disconnect(ve),ve.disconnect(nt),nt.disconnect(x.destination)})})(Rn,Vt,Ha,z,Ge,yl,Ye,Ar,$a),Lb=(Wb=M7,(l,t)=\u003e{let i=l.createPanner();return i.orientationX===void 0?Wb(l,t):(Ut(i,t),jt(i,t,\"orientationX\"),jt(i,t,\"orientationY\"),jt(i,t,\"orientationZ\"),jt(i,t,\"positionX\"),jt(i,t,\"positionY\"),jt(i,t,\"positionZ\"),Mt(i,t,\"coneInnerAngle\"),Mt(i,t,\"coneOuterAngle\"),Mt(i,t,\"coneOuterGain\"),Mt(i,t,\"distanceModel\"),Mt(i,t,\"maxDistance\"),Mt(i,t,\"panningModel\"),Mt(i,t,\"refDistance\"),Mt(i,t,\"rolloffFactor\"),i)});var Wb;let S7=((l,t,i,u,h,f,m)=\u003eclass extends l{constructor(g,_){let x=h(g),M={...Lt,..._},N=i(x,M),P=f(x);super(g,!1,N,P?u():null),this._nativePannerNode=N,this._orientationX=t(this,P,N.orientationX,Le,me),this._orientationY=t(this,P,N.orientationY,Le,me),this._orientationZ=t(this,P,N.orientationZ,Le,me),this._positionX=t(this,P,N.positionX,Le,me),this._positionY=t(this,P,N.positionY,Le,me),this._positionZ=t(this,P,N.positionZ,Le,me),m(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(g){this._nativePannerNode.coneInnerAngle=g}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(g){this._nativePannerNode.coneOuterAngle=g}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(g){this._nativePannerNode.coneOuterGain=g}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(g){this._nativePannerNode.distanceModel=g}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(g){this._nativePannerNode.maxDistance=g}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(g){this._nativePannerNode.panningModel=g}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(g){this._nativePannerNode.refDistance=g}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(g){this._nativePannerNode.rolloffFactor=g}})($t,Ir,Lb,((l,t,i,u,h,f,m,g,_,x)=\u003e()=\u003e{let M=new WeakMap,N=null;return{render(P,q,U){let D=M.get(q);return D!==void 0?Promise.resolve(D):(async(E,W,K)=\u003e{let Z=null,Q=f(E),re={channelCount:Q.channelCount,channelCountMode:Q.channelCountMode,channelInterpretation:Q.channelInterpretation},te={...re,coneInnerAngle:Q.coneInnerAngle,coneOuterAngle:Q.coneOuterAngle,coneOuterGain:Q.coneOuterGain,distanceModel:Q.distanceModel,maxDistance:Q.maxDistance,panningModel:Q.panningModel,refDistance:Q.refDistance,rolloffFactor:Q.rolloffFactor},ae=X(Q,W);if(\"bufferSize\"in Q)Z=u(W,{...re,gain:1});else if(!ae){let ke={...te,orientationX:Q.orientationX.value,orientationY:Q.orientationY.value,orientationZ:Q.orientationZ.value,positionX:Q.positionX.value,positionY:Q.positionY.value,positionZ:Q.positionZ.value};Q=h(W,ke)}if(M.set(W,Z===null?Q:Z),Z!==null){if(N===null){if(m===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let Ee=new m(6,E.context.length,W.sampleRate),Ke=t(Ee,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:6});Ke.connect(Ee.destination),N=(async()=\u003e{let at=await Promise.all([E.orientationX,E.orientationY,E.orientationZ,E.positionX,E.positionY,E.positionZ].map(async($e,nt)=\u003e{let lt=i(Ee,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:nt===0?1:0});return await g(Ee,$e,lt.offset,K),lt}));for(let $e=0;$e\u003c6;$e+=1)at[$e].connect(Ke,0,$e),at[$e].start(0);return x(Ee)})()}let ke=await N,ce=u(W,{...re,gain:1});await _(E,W,ce,K);let fe=[];for(let Ee=0;Ee\u003cke.numberOfChannels;Ee+=1)fe.push(ke.getChannelData(Ee));let ve=[fe[0][0],fe[1][0],fe[2][0]],Te=[fe[3][0],fe[4][0],fe[5][0]],Fe=u(W,{...re,gain:1}),ct=h(W,{...te,orientationX:ve[0],orientationY:ve[1],orientationZ:ve[2],positionX:Te[0],positionY:Te[1],positionZ:Te[2]});ce.connect(Fe).connect(ct.inputs[0]),ct.connect(Z);for(let Ee=128;Ee\u003cke.length;Ee+=128){let Ke=[fe[0][Ee],fe[1][Ee],fe[2][Ee]],at=[fe[3][Ee],fe[4][Ee],fe[5][Ee]];if(Ke.some(($e,nt)=\u003e$e!==ve[nt])||at.some(($e,nt)=\u003e$e!==Te[nt])){ve=Ke,Te=at;let $e=Ee/W.sampleRate;Fe.gain.setValueAtTime(0,$e),Fe=u(W,{...re,gain:0}),ct=h(W,{...te,orientationX:ve[0],orientationY:ve[1],orientationZ:ve[2],positionX:Te[0],positionY:Te[1],positionZ:Te[2]}),Fe.gain.setValueAtTime(1,$e),ce.connect(Fe).connect(ct.inputs[0]),ct.connect(Z)}}return Z}return ae?(await l(W,E.orientationX,Q.orientationX,K),await l(W,E.orientationY,Q.orientationY,K),await l(W,E.orientationZ,Q.orientationZ,K),await l(W,E.positionX,Q.positionX,K),await l(W,E.positionY,Q.positionY,K),await l(W,E.positionZ,Q.positionZ,K)):(await g(W,E.orientationX,Q.orientationX,K),await g(W,E.orientationY,Q.orientationY,K),await g(W,E.orientationZ,Q.orientationZ,K),await g(W,E.positionX,Q.positionX,K),await g(W,E.positionY,Q.positionY,K),await g(W,E.positionZ,Q.positionZ,K)),Et(Q)?await _(E,W,Q.inputs[0],K):await _(E,W,Q,K),Q})(P,q,U)}}})(Zr,Ha,Si,z,Lb,vt,cn,Kr,gn,gl),St,_t,Rs),P7=((l,t,i,u)=\u003eclass WA{constructor(f,m){let g=t(f),_=u({...jr,...m}),x=l(g,_);return i.add(x),x}static[Symbol.hasInstance](f){return f!==null\u0026\u0026typeof f==\"object\"\u0026\u0026Object.getPrototypeOf(f)===WA.prototype||i.has(f)}})((l=\u003e(t,{disableNormalization:i,imag:u,real:h})=\u003e{let f=u instanceof Float32Array?u:new Float32Array(u),m=h instanceof Float32Array?h:new Float32Array(h),g=t.createPeriodicWave(m,f,{disableNormalization:i});if(Array.from(u).length\u003c2)throw l();return g})(Y),St,new WeakSet,l=\u003e{let{imag:t,real:i}=l;return t===void 0?i===void 0?{...l,imag:[0,0],real:[0,0]}:{...l,imag:Array.from(i,()=\u003e0),real:i}:i===void 0?{...l,imag:t,real:Array.from(t,()=\u003e0)}:{...l,imag:t,real:i}}),Bb=((l,t)=\u003e(i,u)=\u003e{let h=u.channelCountMode;if(h===\"clamped-max\")throw t();if(i.createStereoPanner===void 0)return l(i,u);let f=i.createStereoPanner();return Ut(f,u),jt(f,u,\"pan\"),Object.defineProperty(f,\"channelCountMode\",{get:()=\u003eh,set:m=\u003e{if(m!==h)throw t()}}),f})(((l,t,i,u,h,f)=\u003e{let m=new Float32Array([1,1]),g=Math.PI/2,_={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\"},x={..._,oversample:\"none\"},M=(N,P,q,U,D)=\u003e{if(P===1)return((E,W,K,Z)=\u003e{let Q=new Float32Array(16385),re=new Float32Array(16385);for(let ve=0;ve\u003c16385;ve+=1){let Te=ve/16384*g;Q[ve]=Math.cos(Te),re[ve]=Math.sin(Te)}let te=i(E,{..._,gain:0}),ae=u(E,{...x,curve:Q}),ke=u(E,{...x,curve:m}),ce=i(E,{..._,gain:0}),fe=u(E,{...x,curve:re});return{connectGraph(){W.connect(te),W.connect(ke.inputs===void 0?ke:ke.inputs[0]),W.connect(ce),ke.connect(K),K.connect(ae.inputs===void 0?ae:ae.inputs[0]),K.connect(fe.inputs===void 0?fe:fe.inputs[0]),ae.connect(te.gain),fe.connect(ce.gain),te.connect(Z,0,0),ce.connect(Z,0,1)},disconnectGraph(){W.disconnect(te),W.disconnect(ke.inputs===void 0?ke:ke.inputs[0]),W.disconnect(ce),ke.disconnect(K),K.disconnect(ae.inputs===void 0?ae:ae.inputs[0]),K.disconnect(fe.inputs===void 0?fe:fe.inputs[0]),ae.disconnect(te.gain),fe.disconnect(ce.gain),te.disconnect(Z,0,0),ce.disconnect(Z,0,1)}}})(N,q,U,D);if(P===2)return((E,W,K,Z)=\u003e{let Q=new Float32Array(16385),re=new Float32Array(16385),te=new Float32Array(16385),ae=new Float32Array(16385),ke=Math.floor(8192.5);for(let nt=0;nt\u003c16385;nt+=1)if(nt\u003eke){let lt=(nt-ke)/(16384-ke)*g;Q[nt]=Math.cos(lt),re[nt]=Math.sin(lt),te[nt]=0,ae[nt]=1}else{let lt=nt/(16384-ke)*g;Q[nt]=1,re[nt]=0,te[nt]=Math.cos(lt),ae[nt]=Math.sin(lt)}let ce=t(E,{channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:2}),fe=i(E,{..._,gain:0}),ve=u(E,{...x,curve:Q}),Te=i(E,{..._,gain:0}),Fe=u(E,{...x,curve:re}),ct=u(E,{...x,curve:m}),Ee=i(E,{..._,gain:0}),Ke=u(E,{...x,curve:te}),at=i(E,{..._,gain:0}),$e=u(E,{...x,curve:ae});return{connectGraph(){W.connect(ce),W.connect(ct.inputs===void 0?ct:ct.inputs[0]),ce.connect(fe,0),ce.connect(Te,0),ce.connect(Ee,1),ce.connect(at,1),ct.connect(K),K.connect(ve.inputs===void 0?ve:ve.inputs[0]),K.connect(Fe.inputs===void 0?Fe:Fe.inputs[0]),K.connect(Ke.inputs===void 0?Ke:Ke.inputs[0]),K.connect($e.inputs===void 0?$e:$e.inputs[0]),ve.connect(fe.gain),Fe.connect(Te.gain),Ke.connect(Ee.gain),$e.connect(at.gain),fe.connect(Z,0,0),Ee.connect(Z,0,0),Te.connect(Z,0,1),at.connect(Z,0,1)},disconnectGraph(){W.disconnect(ce),W.disconnect(ct.inputs===void 0?ct:ct.inputs[0]),ce.disconnect(fe,0),ce.disconnect(Te,0),ce.disconnect(Ee,1),ce.disconnect(at,1),ct.disconnect(K),K.disconnect(ve.inputs===void 0?ve:ve.inputs[0]),K.disconnect(Fe.inputs===void 0?Fe:Fe.inputs[0]),K.disconnect(Ke.inputs===void 0?Ke:Ke.inputs[0]),K.disconnect($e.inputs===void 0?$e:$e.inputs[0]),ve.disconnect(fe.gain),Fe.disconnect(Te.gain),Ke.disconnect(Ee.gain),$e.disconnect(at.gain),fe.disconnect(Z,0,0),Ee.disconnect(Z,0,0),Te.disconnect(Z,0,1),at.disconnect(Z,0,1)}}})(N,q,U,D);throw h()};return(N,{channelCount:P,channelCountMode:q,pan:U,...D})=\u003e{if(q===\"max\")throw h();let E=l(N,{...D,channelCount:1,channelCountMode:q,numberOfInputs:2}),W=i(N,{...D,channelCount:P,channelCountMode:q,gain:1}),K=i(N,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:U}),{connectGraph:Z,disconnectGraph:Q}=M(N,P,W,K,E);Object.defineProperty(K.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(K.gain,\"maxValue\",{get:()=\u003e1}),Object.defineProperty(K.gain,\"minValue\",{get:()=\u003e-1});let re={get bufferSize(){},get channelCount(){return W.channelCount},set channelCount(ae){W.channelCount!==ae\u0026\u0026(te\u0026\u0026Q(),{connectGraph:Z,disconnectGraph:Q}=M(N,ae,W,K,E),te\u0026\u0026Z()),W.channelCount=ae},get channelCountMode(){return W.channelCountMode},set channelCountMode(ae){if(ae===\"clamped-max\"||ae===\"max\")throw h();W.channelCountMode=ae},get channelInterpretation(){return W.channelInterpretation},set channelInterpretation(ae){W.channelInterpretation=ae},get context(){return W.context},get inputs(){return[W]},get numberOfInputs(){return W.numberOfInputs},get numberOfOutputs(){return W.numberOfOutputs},get pan(){return K.gain},addEventListener:(...ae)=\u003eW.addEventListener(ae[0],ae[1],ae[2]),dispatchEvent:(...ae)=\u003eW.dispatchEvent(ae[0]),removeEventListener:(...ae)=\u003eW.removeEventListener(ae[0],ae[1],ae[2])},te=!1;return f(F(re,E),()=\u003e{Z(),te=!0},()=\u003e{Q(),te=!1})}})(Ha,A,z,yl,Ye,$a),Ye),O7=((l,t,i,u,h,f)=\u003eclass extends l{constructor(m,g){let _=h(m),x={...As,...g},M=i(_,x),N=f(_);super(m,!1,M,N?u():null),this._pan=t(this,N,M.pan)}get pan(){return this._pan}})($t,Ir,Bb,((l,t,i,u,h)=\u003e()=\u003e{let f=new WeakMap;return{render(m,g,_){let x=f.get(g);return x!==void 0?Promise.resolve(x):(async(M,N,P)=\u003e{let q=i(M),U=X(q,N);if(!U){let D={channelCount:q.channelCount,channelCountMode:q.channelCountMode,channelInterpretation:q.channelInterpretation,pan:q.pan.value};q=t(N,D)}return f.set(N,q),U?await l(N,M.pan,q.pan,P):await u(N,M.pan,q.pan,P),Et(q)?await h(M,N,q.inputs[0],P):await h(M,N,q,P),q})(m,g,_)}}})(Zr,Bb,vt,Kr,gn),St,_t),C7=((l,t,i)=\u003e()=\u003e{let u=new WeakMap;return{render(h,f,m){let g=u.get(f);return g!==void 0?Promise.resolve(g):(async(_,x,M)=\u003e{let N=t(_);if(!X(N,x)){let P={channelCount:N.channelCount,channelCountMode:N.channelCountMode,channelInterpretation:N.channelInterpretation,curve:N.curve,oversample:N.oversample};N=l(x,P)}return u.set(x,N),Et(N)?await i(_,x,N.inputs[0],M):await i(_,x,N,M),N})(h,f,m)}}})(yl,vt,gn),A7=((l,t,i,u,h,f,m)=\u003eclass extends l{constructor(g,_){let x=h(g),M={...Ef,..._},N=i(x,M);super(g,!0,N,f(x)?u():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=N,m(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(g){if(g===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(g.length\u003c2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=g}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(g){this._nativeWaveShaperNode.oversample=g}})($t,Vt,yl,C7,St,_t,Rs),zb=(l=\u003el!==null\u0026\u0026l.isSecureContext)(Dr),Kf=(l=\u003e(t,i,u)=\u003e{Object.defineProperties(l,{currentFrame:{configurable:!0,get:()=\u003eMath.round(t*i)},currentTime:{configurable:!0,get:()=\u003et}});try{return u()}finally{l!==null\u0026\u0026(delete l.currentFrame,delete l.currentTime)}})(Dr),Gb=new WeakMap,R7=((l,t)=\u003ei=\u003e{let u=l.get(i);if(u!==void 0)return u;if(t===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");return u=new t(1,1,8e3),l.set(i,u),u})(Gb,cn),_l=(l=\u003el===null?null:l.hasOwnProperty(\"AudioWorkletNode\")?l.AudioWorkletNode:null)(Dr),E7=zb?((l,t,i,u,h,f,m,g,_,x,M,N)=\u003e(P,q,U={credentials:\"omit\"})=\u003e{let D=f(P);if(D.audioWorklet!==void 0)return Promise.all([h(q),Promise.resolve(l(M,M))]).then(([[Z,Q],re])=\u003e{let[te,ae]=he(Z,Q),ke=re?ae:ae.replace(/\\s+extends\\s+AudioWorkletProcessor\\s*{/,\" extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=\u003ep.postMessage=(q=\u003e(m,t)=\u003eq.call(p,m,t?t.filter(u=\u003e!this.__b.has(u)):t))(p.postMessage))(this.port)}}){\"),ce=new Blob([`${te};(registerProcessor=\u003e{${ke}\n})((n,p)=\u003eregisterProcessor(n,class extends p{${re?\"\":\"__c = (a) =\u003e a.forEach(e=\u003ethis.__b.add(e.buffer));\"}process(i,o,p){${re?\"\":\"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));\"}return super.process(i.map(j=\u003ej.some(k=\u003ek.length===0)?[]:j),o,p)}}))`],{type:\"application/javascript; charset=utf-8\"}),fe=URL.createObjectURL(ce);return D.audioWorklet.addModule(fe,U).then(()=\u003e{if(!g(D))return m(D).audioWorklet.addModule(fe,U)}).finally(()=\u003eURL.revokeObjectURL(fe))});let E=x.get(P);if(E!==void 0\u0026\u0026E.has(q))return Promise.resolve();let W=_.get(P);if(W!==void 0){let Z=W.get(q);if(Z!==void 0)return Z}let K=h(q).then(([Z,Q])=\u003e{let[re,te]=he(Z,Q);return i(`${re};((a,b)=\u003e{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=\u003e{${te}\n})})(window,'_AWGS')`)}).then(()=\u003e{let Z=N._AWGS.pop();if(Z===void 0)throw new SyntaxError;u(D.currentTime,D.sampleRate,()=\u003eZ(class{},void 0,(Q,re)=\u003e{if(Q.trim()===\"\")throw t();let te=B.get(D);if(te!==void 0){if(te.has(Q))throw t();R(re),G(re.parameterDescriptors),te.set(Q,re)}else R(re),G(re.parameterDescriptors),B.set(D,new Map([[Q,re]]))},D.sampleRate,void 0,void 0))});return W===void 0?_.set(P,new Map([[q,K]])):W.set(q,K),K.then(()=\u003e{let Z=x.get(P);Z===void 0?x.set(P,new Set([q])):Z.add(q)}).finally(()=\u003e{let Z=_.get(P);Z!==void 0\u0026\u0026Z.delete(q)}),K})(tr,Ye,(l=\u003et=\u003enew Promise((i,u)=\u003e{if(l===null)return void u(new SyntaxError);let h=l.document.head;if(h===null)u(new SyntaxError);else{let f=l.document.createElement(\"script\"),m=new Blob([t],{type:\"application/javascript\"}),g=URL.createObjectURL(m),_=l.onerror,x=()=\u003e{l.onerror=_,URL.revokeObjectURL(g)};l.onerror=(M,N,P,q,U)=\u003eN===g||N===l.location.href\u0026\u0026P===1\u0026\u0026q===1?(x(),u(U),!1):_!==null?_(M,N,P,q,U):void 0,f.onerror=()=\u003e{x(),u(new SyntaxError)},f.onload=()=\u003e{x(),i()},f.src=g,f.type=\"module\",h.appendChild(f)}}))(Dr),Kf,(l=\u003easync t=\u003e{try{let i=await fetch(t);if(i.ok)return[await i.text(),i.url]}catch{}throw l()})(()=\u003enew DOMException(\"\",\"AbortError\")),St,R7,_t,new WeakMap,new WeakMap,((l,t)=\u003easync()=\u003e{if(l===null)return!0;if(t===null)return!1;let i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor(\"a\",A)'],{type:\"application/javascript; charset=utf-8\"}),u=new t(1,128,8e3),h=URL.createObjectURL(i),f=!1,m=!1;try{await u.audioWorklet.addModule(h);let g=new l(u,\"a\",{numberOfOutputs:0}),_=u.createOscillator();g.port.onmessage=()=\u003ef=!0,g.onprocessorerror=()=\u003em=!0,_.connect(g),await u.startRendering()}catch{}finally{URL.revokeObjectURL(h)}return f\u0026\u0026!m})(_l,cn),Dr):void 0,j7=((l,t)=\u003ei=\u003el(i)||t(i))(Vf,_t),Ub=((l,t,i,u,h,f,m,g,_,x,M,N,P,q,U,D,E,W,K,Z)=\u003eclass extends U{constructor(Q,re){super(Q,re),this._nativeContext=Q,this._audioWorklet=l===void 0?void 0:{addModule:(te,ae)=\u003el(this,te,ae)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new h(this)}createBuffer(Q,re,te){return new i({length:re,numberOfChannels:Q,sampleRate:te})}createBufferSource(){return new u(this)}createChannelMerger(Q=6){return new f(this,{numberOfInputs:Q})}createChannelSplitter(Q=6){return new m(this,{numberOfOutputs:Q})}createConstantSource(){return new g(this)}createConvolver(){return new _(this)}createDelay(Q=1){return new M(this,{maxDelayTime:Q})}createDynamicsCompressor(){return new N(this)}createGain(){return new P(this)}createIIRFilter(Q,re){return new q(this,{feedback:re,feedforward:Q})}createOscillator(){return new D(this)}createPanner(){return new E(this)}createPeriodicWave(Q,re,te={disableNormalization:!1}){return new W(this,{...te,imag:re,real:Q})}createStereoPanner(){return new K(this)}createWaveShaper(){return new Z(this)}decodeAudioData(Q,re,te){return x(this._nativeContext,Q).then(ae=\u003e(typeof re==\"function\"\u0026\u0026re(ae),ae)).catch(ae=\u003e{throw typeof te==\"function\"\u0026\u0026te(ae),ae})}})(E7,s7,i7,u7,h7,d7,f7,v7,g7,((l,t,i,u,h,f,m,g,_,x,M)=\u003e(N,P)=\u003e{let q=m(N)?N:f(N);if(h.has(P)){let U=i();return Promise.reject(U)}try{h.add(P)}catch{}return t(_,()=\u003e_(q))?q.decodeAudioData(P).then(U=\u003e(t(g,()=\u003eg(U))||M(U),l.add(U),U)):new Promise((U,D)=\u003e{let E=()=\u003e{try{(K=\u003e{let{port1:Z}=new MessageChannel;Z.postMessage(K,[K])})(P)}catch{}},W=K=\u003e{D(K),E()};try{q.decodeAudioData(P,K=\u003e{typeof K.copyFromChannel!=\"function\"\u0026\u0026(x(K),J(K)),l.add(K),E(),U(K)},K=\u003e{W(K===null?u():K)})}catch(K){W(K)}})})(Bf,tr,()=\u003enew DOMException(\"\",\"DataCloneError\"),()=\u003enew DOMException(\"\",\"EncodingError\"),new WeakSet,St,j7,oe,Cs,Gf,Uf),y7,_7,b7,N7,Zf,q7,S7,P7,O7,A7),D7=((l,t,i,u)=\u003eclass extends l{constructor(h,f){let m=i(h),g=t(m,f);if(u(m))throw TypeError();super(h,!0,g,null),this._nativeMediaElementAudioSourceNode=g}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})($t,(l,t)=\u003el.createMediaElementSource(t.mediaElement),St,_t),I7=((l,t,i,u)=\u003eclass extends l{constructor(h,f){let m=i(h);if(u(m))throw new TypeError;let g={...Rf,...f},_=t(m,g);super(h,!1,_,null),this._nativeMediaStreamAudioDestinationNode=_}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})($t,(l,t)=\u003e{let i=l.createMediaStreamDestination();return Ut(i,t),i.numberOfOutputs===1\u0026\u0026Object.defineProperty(i,\"numberOfOutputs\",{get:()=\u003e0}),i},St,_t),F7=((l,t,i,u)=\u003eclass extends l{constructor(h,f){let m=i(h),g=t(m,f);if(u(m))throw new TypeError;super(h,!0,g,null),this._nativeMediaStreamAudioSourceNode=g}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})($t,(l,{mediaStream:t})=\u003e{let i=t.getAudioTracks();i.sort((f,m)=\u003ef.id\u003cm.id?-1:f.id\u003em.id?1:0);let u=i.slice(0,1),h=l.createMediaStreamSource(new MediaStream(u));return Object.defineProperty(h,\"mediaStream\",{value:t}),h},St,_t),V7=((l,t,i)=\u003eclass extends l{constructor(u,h){let f=i(u);super(u,!0,t(f,h),null)}})($t,((l,t)=\u003e(i,{mediaStreamTrack:u})=\u003e{if(typeof i.createMediaStreamTrackSource==\"function\")return i.createMediaStreamTrackSource(u);let h=new MediaStream([u]),f=i.createMediaStreamSource(h);if(u.kind!==\"audio\")throw l();if(t(i))throw new TypeError;return f})(Vt,_t),St),L7=((l,t,i,u,h,f,m,g,_)=\u003eclass extends l{constructor(x={}){if(_===null)throw new Error(\"Missing the native AudioContext constructor.\");let M=new _(x);if(M===null)throw u();if(!Oe(x.latencyHint))throw new TypeError(`The provided value '${x.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(x.sampleRate!==void 0\u0026\u0026M.sampleRate!==x.sampleRate)throw i();super(M,2);let{latencyHint:N}=x,{sampleRate:P}=M;if(this._baseLatency=typeof M.baseLatency==\"number\"?M.baseLatency:N===\"balanced\"?512/P:N===\"interactive\"||N===void 0?256/P:N===\"playback\"?1024/P:128*Math.max(2,Math.min(128,Math.round(N*P/128)))/P,this._nativeAudioContext=M,_.name===\"webkitAudioContext\"?(this._nativeGainNode=M.createGain(),this._nativeOscillatorNode=M.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(M.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,M.state===\"running\"){this._state=\"suspended\";let q=()=\u003e{this._state===\"suspended\"\u0026\u0026(this._state=null),M.removeEventListener(\"statechange\",q)};M.addEventListener(\"statechange\",q)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state===\"closed\"?this._nativeAudioContext.close().then(()=\u003e{throw t()}):(this._state===\"suspended\"\u0026\u0026(this._state=null),this._nativeAudioContext.close().then(()=\u003e{this._nativeGainNode!==null\u0026\u0026this._nativeOscillatorNode!==null\u0026\u0026(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Be(this)}))}createMediaElementSource(x){return new h(this,{mediaElement:x})}createMediaStreamDestination(){return new f(this)}createMediaStreamSource(x){return new m(this,{mediaStream:x})}createMediaStreamTrackSource(x){return new g(this,{mediaStreamTrack:x})}resume(){return this._state===\"suspended\"?new Promise((x,M)=\u003e{let N=()=\u003e{this._nativeAudioContext.removeEventListener(\"statechange\",N),this._nativeAudioContext.state===\"running\"?x():this.resume().then(x,M)};this._nativeAudioContext.addEventListener(\"statechange\",N)}):this._nativeAudioContext.resume().catch(x=\u003e{throw x===void 0||x.code===15?t():x})}suspend(){return this._nativeAudioContext.suspend().catch(x=\u003e{throw x===void 0?t():x})}})(Ub,Vt,Ye,wi,D7,I7,F7,V7,ba),Qf=($b=Db,l=\u003e{let t=$b.get(l);if(t===void 0)throw new Error(\"The context has no set of AudioWorkletNodes.\");return t});var $b;let W7=(Hb=Qf,(l,t)=\u003e{Hb(l).add(t)});var Hb;let Yb=(l=\u003e(t,i,u=0,h=0)=\u003e{let f=t[u];if(f===void 0)throw l();return ya(i)?f.connect(i,0,h):f.connect(i,0)})(Y),B7=(l=\u003e(t,i)=\u003e{l(t).delete(i)})(Qf),Xb=(l=\u003e(t,i,u,h=0)=\u003ei===void 0?t.forEach(f=\u003ef.disconnect()):typeof i==\"number\"?xi(l,t,i).disconnect():ya(i)?u===void 0?t.forEach(f=\u003ef.disconnect(i)):h===void 0?xi(l,t,u).disconnect(i,0):xi(l,t,u).disconnect(i,0,h):u===void 0?t.forEach(f=\u003ef.disconnect(i)):xi(l,t,u).disconnect(i,0))(Y),Zb=new WeakMap,z7=((l,t)=\u003ei=\u003et(l,i))(Zb,H),G7=((l,t,i,u,h,f,m,g,_,x,M,N,P)=\u003e(q,U,D,E)=\u003e{if(E.numberOfInputs===0\u0026\u0026E.numberOfOutputs===0)throw _();let W=Array.isArray(E.outputChannelCount)?E.outputChannelCount:Array.from(E.outputChannelCount);if(W.some(we=\u003ewe\u003c1))throw _();if(W.length!==E.numberOfOutputs)throw t();if(E.channelCountMode!==\"explicit\")throw _();let K=E.channelCount*E.numberOfInputs,Z=W.reduce((we,dt)=\u003ewe+dt,0),Q=D.parameterDescriptors===void 0?0:D.parameterDescriptors.length;if(K+Q\u003e6||Z\u003e6)throw _();let re=new MessageChannel,te=[],ae=[];for(let we=0;we\u003cE.numberOfInputs;we+=1)te.push(m(q,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1})),ae.push(h(q,{channelCount:E.channelCount,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:E.channelCount}));let ke=[];if(D.parameterDescriptors!==void 0)for(let{defaultValue:we,maxValue:dt,minValue:Nn,name:Dt}of D.parameterDescriptors){let ht=f(q,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:E.parameterData[Dt]!==void 0?E.parameterData[Dt]:we===void 0?0:we});Object.defineProperties(ht.offset,{defaultValue:{get:()=\u003ewe===void 0?0:we},maxValue:{get:()=\u003edt===void 0?Le:dt},minValue:{get:()=\u003eNn===void 0?me:Nn}}),ke.push(ht)}let ce=u(q,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:Math.max(1,K+Q)}),fe=fl(U,q.sampleRate),ve=g(q,fe,K+Q,Math.max(1,Z)),Te=h(q,{channelCount:Math.max(1,Z),channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:Math.max(1,Z)}),Fe=[];for(let we=0;we\u003cE.numberOfOutputs;we+=1)Fe.push(u(q,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:W[we]}));for(let we=0;we\u003cE.numberOfInputs;we+=1){te[we].connect(ae[we]);for(let dt=0;dt\u003cE.channelCount;dt+=1)ae[we].connect(ce,dt,we*E.channelCount+dt)}let ct=new vi(D.parameterDescriptors===void 0?[]:D.parameterDescriptors.map(({name:we},dt)=\u003e{let Nn=ke[dt];return Nn.connect(ce,0,K+dt),Nn.start(0),[we,Nn.offset]}));ce.connect(ve);let Ee=E.channelInterpretation,Ke=null,at=E.numberOfOutputs===0?[ve]:Fe,$e={get bufferSize(){return fe},get channelCount(){return E.channelCount},set channelCount(we){throw i()},get channelCountMode(){return E.channelCountMode},set channelCountMode(we){throw i()},get channelInterpretation(){return Ee},set channelInterpretation(we){for(let dt of te)dt.channelInterpretation=we;Ee=we},get context(){return ve.context},get inputs(){return te},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get onprocessorerror(){return Ke},set onprocessorerror(we){typeof Ke==\"function\"\u0026\u0026$e.removeEventListener(\"processorerror\",Ke),Ke=typeof we==\"function\"?we:null,typeof Ke==\"function\"\u0026\u0026$e.addEventListener(\"processorerror\",Ke)},get parameters(){return ct},get port(){return re.port2},addEventListener:(...we)=\u003eve.addEventListener(we[0],we[1],we[2]),connect:l.bind(null,at),disconnect:x.bind(null,at),dispatchEvent:(...we)=\u003eve.dispatchEvent(we[0]),removeEventListener:(...we)=\u003eve.removeEventListener(we[0],we[1],we[2])},nt=new Map;var lt,Ht;re.port1.addEventListener=(lt=re.port1.addEventListener,(...we)=\u003e{if(we[0]===\"message\"){let dt=typeof we[1]==\"function\"?we[1]:typeof we[1]==\"object\"\u0026\u0026we[1]!==null\u0026\u0026typeof we[1].handleEvent==\"function\"?we[1].handleEvent:null;if(dt!==null){let Nn=nt.get(we[1]);Nn!==void 0?we[1]=Nn:(we[1]=Dt=\u003e{M(q.currentTime,q.sampleRate,()=\u003edt(Dt))},nt.set(dt,we[1]))}}return lt.call(re.port1,we[0],we[1],we[2])}),re.port1.removeEventListener=(Ht=re.port1.removeEventListener,(...we)=\u003e{if(we[0]===\"message\"){let dt=nt.get(we[1]);dt!==void 0\u0026\u0026(nt.delete(we[1]),we[1]=dt)}return Ht.call(re.port1,we[0],we[1],we[2])});let an=null;Object.defineProperty(re.port1,\"onmessage\",{get:()=\u003ean,set:we=\u003e{typeof an==\"function\"\u0026\u0026re.port1.removeEventListener(\"message\",an),an=typeof we==\"function\"?we:null,typeof an==\"function\"\u0026\u0026(re.port1.addEventListener(\"message\",an),re.port1.start())}}),D.prototype.port=re.port1;let st=null;((we,dt,Nn,Dt)=\u003e{let ht=ee.get(we);ht===void 0\u0026\u0026(ht=new WeakMap,ee.set(we,ht));let At=T(Nn,Dt);return ht.set(dt,At),At})(q,$e,D,E).then(we=\u003est=we);let je=Ua(E.numberOfInputs,E.channelCount),kn=Ua(E.numberOfOutputs,W),ra=D.parameterDescriptors===void 0?[]:D.parameterDescriptors.reduce((we,{name:dt})=\u003e({...we,[dt]:new Float32Array(128)}),{}),or=!0,ts=()=\u003e{E.numberOfOutputs\u003e0\u0026\u0026ve.disconnect(Te);for(let we=0,dt=0;we\u003cE.numberOfOutputs;we+=1){let Nn=Fe[we];for(let Dt=0;Dt\u003cW[we];Dt+=1)Te.disconnect(Nn,dt+Dt,Dt);dt+=W[we]}},ns=new Map;ve.onaudioprocess=({inputBuffer:we,outputBuffer:dt})=\u003e{if(st!==null){let Nn=N($e);for(let Dt=0;Dt\u003cfe;Dt+=128){for(let ht=0;ht\u003cE.numberOfInputs;ht+=1)for(let At=0;At\u003cE.channelCount;At+=1)Ga(we,je[ht],At,At,Dt);D.parameterDescriptors!==void 0\u0026\u0026D.parameterDescriptors.forEach(({name:ht},At)=\u003e{Ga(we,ra,ht,K+At,Dt)});for(let ht=0;ht\u003cE.numberOfInputs;ht+=1)for(let At=0;At\u003cW[ht];At+=1)kn[ht][At].byteLength===0\u0026\u0026(kn[ht][At]=new Float32Array(128));try{let ht=je.map((kr,rs)=\u003e{if(Nn[rs].size\u003e0)return ns.set(rs,fe/128),kr;let as=ns.get(rs);return as===void 0?[]:(kr.every(z5=\u003ez5.every(G5=\u003eG5===0))\u0026\u0026(as===1?ns.delete(rs):ns.set(rs,as-1)),kr)});or=M(q.currentTime+Dt/q.sampleRate,q.sampleRate,()=\u003est.process(ht,kn,ra));for(let kr=0,rs=0;kr\u003cE.numberOfOutputs;kr+=1){for(let as=0;as\u003cW[kr];as+=1)Os(dt,kn[kr],as,rs+as,Dt);rs+=W[kr]}}catch(ht){or=!1,$e.dispatchEvent(new ErrorEvent(\"processorerror\",{colno:ht.colno,filename:ht.filename,lineno:ht.lineno,message:ht.message}))}if(!or){for(let ht=0;ht\u003cE.numberOfInputs;ht+=1){te[ht].disconnect(ae[ht]);for(let At=0;At\u003cE.channelCount;At+=1)ae[Dt].disconnect(ce,At,ht*E.channelCount+At)}if(D.parameterDescriptors!==void 0){let ht=D.parameterDescriptors.length;for(let At=0;At\u003cht;At+=1){let kr=ke[At];kr.disconnect(ce,0,K+At),kr.stop()}}ce.disconnect(ve),ve.onaudioprocess=null,Qt?ts():Px();break}}}};let Qt=!1,Bn=m(q,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0}),Sx=()=\u003eve.connect(Bn).connect(q.destination),Px=()=\u003e{ve.disconnect(Bn),Bn.disconnect()};return Sx(),P($e,()=\u003e{if(or){Px(),E.numberOfOutputs\u003e0\u0026\u0026ve.connect(Te);for(let we=0,dt=0;we\u003cE.numberOfOutputs;we+=1){let Nn=Fe[we];for(let Dt=0;Dt\u003cW[we];Dt+=1)Te.connect(Nn,dt+Dt,Dt);dt+=W[we]}}Qt=!0},()=\u003e{or\u0026\u0026(Sx(),ts()),Qt=!1})})(Yb,Y,Vt,Ha,A,Si,z,Ge,Ye,Xb,Kf,z7,$a),U7=((l,t,i,u,h)=\u003e(f,m,g,_,x,M)=\u003e{if(g!==null)try{let q=new g(f,_,M),U=new Map,D=null;if(Object.defineProperties(q,{channelCount:{get:()=\u003eM.channelCount,set:()=\u003e{throw l()}},channelCountMode:{get:()=\u003e\"explicit\",set:()=\u003e{throw l()}},onprocessorerror:{get:()=\u003eD,set:E=\u003e{typeof D==\"function\"\u0026\u0026q.removeEventListener(\"processorerror\",D),D=typeof E==\"function\"?E:null,typeof D==\"function\"\u0026\u0026q.addEventListener(\"processorerror\",D)}}}),q.addEventListener=(P=q.addEventListener,(...E)=\u003e{if(E[0]===\"processorerror\"){let W=typeof E[1]==\"function\"?E[1]:typeof E[1]==\"object\"\u0026\u0026E[1]!==null\u0026\u0026typeof E[1].handleEvent==\"function\"?E[1].handleEvent:null;if(W!==null){let K=U.get(E[1]);K!==void 0?E[1]=K:(E[1]=Z=\u003e{Z.type===\"error\"?(Object.defineProperties(Z,{type:{value:\"processorerror\"}}),W(Z)):W(new ErrorEvent(E[0],{...Z}))},U.set(W,E[1]))}}return P.call(q,\"error\",E[1],E[2]),P.call(q,...E)}),q.removeEventListener=(N=q.removeEventListener,(...E)=\u003e{if(E[0]===\"processorerror\"){let W=U.get(E[1]);W!==void 0\u0026\u0026(U.delete(E[1]),E[1]=W)}return N.call(q,\"error\",E[1],E[2]),N.call(q,E[0],E[1],E[2])}),M.numberOfOutputs!==0){let E=i(f,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});return q.connect(E).connect(f.destination),h(q,()=\u003eE.disconnect(),()=\u003eE.connect(f.destination))}return q}catch(q){throw q.code===11?u():q}var N,P;if(x===void 0)throw u();return(q=\u003e{let{port1:U}=new MessageChannel;try{U.postMessage(q)}finally{U.close()}})(M),t(f,m,x,M)})(Vt,G7,z,Ye,$a),$7=((l,t,i,u,h,f,m,g,_,x,M,N,P,q,U,D)=\u003e(E,W,K)=\u003e{let Z=new WeakMap,Q=null;return{render(re,te,ae){g(te,re);let ke=Z.get(te);return ke!==void 0?Promise.resolve(ke):(async(ce,fe,ve)=\u003e{let Te=M(ce),Fe=null,ct=X(Te,fe),Ee=Array.isArray(W.outputChannelCount)?W.outputChannelCount:Array.from(W.outputChannelCount);if(N===null){let Ke=Ee.reduce((lt,Ht)=\u003elt+Ht,0),at=h(fe,{channelCount:Math.max(1,Ke),channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:Math.max(1,Ke)}),$e=[];for(let lt=0;lt\u003cce.numberOfOutputs;lt+=1)$e.push(u(fe,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:Ee[lt]}));let nt=m(fe,{channelCount:W.channelCount,channelCountMode:W.channelCountMode,channelInterpretation:W.channelInterpretation,gain:1});nt.connect=t.bind(null,$e),nt.disconnect=_.bind(null,$e),Fe=[at,$e,nt]}else ct||(Te=new N(fe,E));if(Z.set(fe,Fe===null?Te:Fe[2]),Fe!==null){if(Q===null){if(K===void 0)throw new Error(\"Missing the processor constructor.\");if(P===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let Ht=ce.channelCount*ce.numberOfInputs,an=K.parameterDescriptors===void 0?0:K.parameterDescriptors.length,st=Ht+an;Q=ou(ce,st===0?null:await(async()=\u003e{let kn=new P(st,128*Math.ceil(ce.context.length/128),fe.sampleRate),ra=[],or=[];for(let Qt=0;Qt\u003cW.numberOfInputs;Qt+=1)ra.push(m(kn,{channelCount:W.channelCount,channelCountMode:W.channelCountMode,channelInterpretation:W.channelInterpretation,gain:1})),or.push(h(kn,{channelCount:W.channelCount,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:W.channelCount}));let ts=await Promise.all(Array.from(ce.parameters.values()).map(async Qt=\u003e{let Bn=f(kn,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:Qt.value});return await q(kn,Qt,Bn.offset,ve),Bn})),ns=u(kn,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:Math.max(1,Ht+an)});for(let Qt=0;Qt\u003cW.numberOfInputs;Qt+=1){ra[Qt].connect(or[Qt]);for(let Bn=0;Bn\u003cW.channelCount;Bn+=1)or[Qt].connect(ns,Bn,Qt*W.channelCount+Bn)}for(let[Qt,Bn]of ts.entries())Bn.connect(ns,0,Ht+Qt),Bn.start(0);return ns.connect(kn.destination),await Promise.all(ra.map(Qt=\u003eU(ce,kn,Qt,ve))),D(kn)})(),fe,W,Ee,K,x)}let Ke=await Q,at=i(fe,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$e,nt,lt]=Fe;Ke!==null\u0026\u0026(at.buffer=Ke,at.start(0)),at.connect($e);for(let Ht=0,an=0;Ht\u003cce.numberOfOutputs;Ht+=1){let st=nt[Ht];for(let je=0;je\u003cEe[Ht];je+=1)$e.connect(st,an+je,je);an+=Ee[Ht]}return lt}if(ct)for(let[Ke,at]of ce.parameters.entries())await l(fe,at,Te.parameters.get(Ke),ve);else for(let[Ke,at]of ce.parameters.entries())await q(fe,at,Te.parameters.get(Ke),ve);return await U(ce,fe,Te,ve),Te})(re,te,ae)}}})(Zr,Yb,Mi,Ha,A,Si,z,B7,Xb,Kf,vt,_l,cn,Kr,gn,gl),H7=(l=\u003et=\u003el.get(t))(Gb),Y7=(l=\u003e(t,i)=\u003e{l.set(t,i)})(Zb),Kb=zb?((l,t,i,u,h,f,m,g,_,x,M,N,P)=\u003eclass extends t{constructor(q,U,D){var E;let W=g(q),K=_(W),Z=M({...gi,...D}),Q=B.get(W),re=Q==null?void 0:Q.get(U),te=K||W.state!==\"closed\"?W:(E=m(W))!==null\u0026\u0026E!==void 0?E:W,ae=h(te,K?null:q.baseLatency,x,U,re,Z);super(q,!0,ae,K?u(U,Z,re):null);let ke=[];ae.parameters.forEach((fe,ve)=\u003e{let Te=i(this,K,fe);ke.push([ve,Te])}),this._nativeAudioWorkletNode=ae,this._onprocessorerror=null,this._parameters=new vi(ke),K\u0026\u0026l(W,this);let{activeInputs:ce}=f(this);N(ae,ce)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(q){let U=typeof q==\"function\"?P(this,q):null;this._nativeAudioWorkletNode.onprocessorerror=U;let D=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=D!==null\u0026\u0026D===U?q:D}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(W7,$t,Ir,$7,U7,le,H7,St,_t,_l,l=\u003e({...l,outputChannelCount:l.outputChannelCount!==void 0?l.outputChannelCount:l.numberOfInputs===1\u0026\u0026l.numberOfOutputs===1?[l.channelCount]:Array.from({length:l.numberOfOutputs},()=\u003e1)}),Y7,Ti):void 0,Qb=(((l,t,i,u,h)=\u003e{})(Vt,Ye,wi,Zf,ba),((l,t)=\u003e(i,u,h)=\u003e{if(t===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");try{return new t(i,u,h)}catch(f){throw f.name===\"SyntaxError\"?l():f}})(Ye,cn)),Jb=((l,t,i,u,h,f,m,g)=\u003e{let _=[];return(x,M)=\u003ei(x).render(x,M,_).then(()=\u003ePromise.all(Array.from(u(M)).map(N=\u003ei(N).render(N,M,_)))).then(()=\u003eh(M)).then(N=\u003e(typeof N.copyFromChannel!=\"function\"?(m(N),J(N)):t(f,()=\u003ef(N))||g(N),l.add(N),N))})(Bf,tr,If,Qf,gl,oe,Gf,Uf),X7=(((l,t,i,u,h)=\u003e{})(tr,Vt,Qb,Zf,Jb),((l,t,i,u,h)=\u003eclass extends l{constructor(f,m,g){let _;if(typeof f==\"number\"\u0026\u0026m!==void 0\u0026\u0026g!==void 0)_={length:m,numberOfChannels:f,sampleRate:g};else{if(typeof f!=\"object\")throw new Error(\"The given parameters are not valid.\");_=f}let{length:x,numberOfChannels:M,sampleRate:N}={...pt,..._},P=u(M,x,N);t(Cs,()=\u003eCs(P))||P.addEventListener(\"statechange\",(()=\u003e{let q=0,U=D=\u003e{this._state===\"running\"\u0026\u0026(q\u003e0?(P.removeEventListener(\"statechange\",U),D.stopImmediatePropagation(),this._waitForThePromiseToSettle(D)):q+=1)};return U})()),super(P,M),this._length=x,this._nativeOfflineAudioContext=P,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state===\"running\"?Promise.reject(i()):(this._state=\"running\",h(this.destination,this._nativeOfflineAudioContext).finally(()=\u003e{this._state=null,Be(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=\u003ethis._waitForThePromiseToSettle(f))}})(Ub,tr,Vt,Qb,Jb)),Z7=((l,t)=\u003ei=\u003e{let u=l.get(i);return t(u)||t(i)})(S,Vf),K7=(ex=b,tx=Wf,l=\u003eex.has(l)||tx(l));var ex,tx;let Q7=(nx=k,rx=yb,l=\u003enx.has(l)||rx(l));var nx,rx;let J7=((l,t)=\u003ei=\u003e{let u=l.get(i);return t(u)||t(i)})(S,_t),e5=()=\u003e(async(l,t,i,u,h,f,m,g,_,x,M,N,P,q,U,D)=\u003el(t,t)\u0026\u0026l(i,i)\u0026\u0026l(h,h)\u0026\u0026l(f,f)\u0026\u0026l(g,g)\u0026\u0026l(_,_)\u0026\u0026l(x,x)\u0026\u0026l(M,M)\u0026\u0026l(N,N)\u0026\u0026l(P,P)\u0026\u0026l(q,q)?(await Promise.all([l(u,u),l(m,m),l(U,U),l(D,D)])).every(E=\u003eE):!1)(tr,(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createBuffer(1,1,44100);if(t.copyToChannel===void 0)return!0;let i=new Float32Array(2);try{t.copyFromChannel(i,0,0)}catch{return!1}return!0})(cn),(l=\u003e()=\u003e{if(l===null)return!1;if(l.prototype!==void 0\u0026\u0026l.prototype.close!==void 0)return!0;let t=new l,i=t.close!==void 0;try{t.close()}catch{}return i})(ba),(l=\u003e()=\u003e{if(l===null)return Promise.resolve(!1);let t=new l(1,1,44100);return new Promise(i=\u003e{let u=!0,h=m=\u003e{u\u0026\u0026(u=!1,t.startRendering(),i(m instanceof TypeError))},f;try{f=t.decodeAudioData(null,()=\u003e{},h)}catch(m){h(m)}f!==void 0\u0026\u0026f.catch(h)})})(cn),(l=\u003e()=\u003e{if(l===null)return!1;let t;try{t=new l({latencyHint:\"balanced\"})}catch{return!1}return t.close(),!0})(ba),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createGain(),i=t.connect(t)===t;return t.disconnect(t),i})(cn),((l,t)=\u003easync()=\u003e{if(l===null)return!0;if(t===null)return!1;let i=new Blob(['class A extends AudioWorkletProcessor{process(){this.port.postMessage(0)}}registerProcessor(\"a\",A)'],{type:\"application/javascript; charset=utf-8\"}),u=new t(1,128,8e3),h=URL.createObjectURL(i),f=!1;try{await u.audioWorklet.addModule(h);let m=new l(u,\"a\",{numberOfOutputs:0}),g=u.createOscillator();m.port.onmessage=()=\u003ef=!0,g.connect(m),g.start(0),await u.startRendering(),f||await new Promise(_=\u003esetTimeout(_,5))}catch{}finally{URL.revokeObjectURL(h)}return f})(_l,cn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createChannelMerger();if(t.channelCountMode===\"max\")return!0;try{t.channelCount=2}catch{return!0}return!1})(cn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100);return t.createConstantSource===void 0?!0:t.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(cn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100),i=t.createConvolver();i.buffer=t.createBuffer(1,1,t.sampleRate);try{i.buffer=t.createBuffer(1,1,t.sampleRate)}catch{return!1}return!0})(cn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createConvolver();try{t.channelCount=1}catch{return!1}return!0})(cn),Q3,(l=\u003e()=\u003el!==null\u0026\u0026l.hasOwnProperty(\"isSecureContext\"))(Dr),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l;try{return t.createMediaStreamSource(new MediaStream),!1}catch(i){return!0}})(ba),(l=\u003e()=\u003e{if(l===null)return Promise.resolve(!1);let t=new l(1,1,44100);if(t.createStereoPanner===void 0||t.createConstantSource===void 0)return Promise.resolve(!0);let i=t.createConstantSource(),u=t.createStereoPanner();return i.channelCount=1,i.offset.value=1,u.channelCount=1,i.start(),i.connect(u).connect(t.destination),t.startRendering().then(h=\u003eh.getChannelData(0)[0]!==1)})(cn),J3);function Ae(l,t){if(!l)throw new Error(t)}function yn(l,t,i=1/0){if(!(t\u003c=l\u0026\u0026l\u003c=i))throw new RangeError(`Value must be within [${t}, ${i}], got: ${l}`)}function Jf(l){l.isOffline||l.state===\"running\"||pu('The AudioContext is \"suspended\". Invoke Tone.start() from a user action to start the audio.')}let em=console;function t5(l){em=l}function ax(...l){em.log(...l)}function pu(...l){em.warn(...l)}function Fn(l){return l===void 0}function Je(l){return!Fn(l)}function sx(l){return typeof l==\"function\"}function nr(l){return typeof l==\"number\"}function xa(l){return Object.prototype.toString.call(l)===\"[object Object]\"\u0026\u0026l.constructor===Object}function tm(l){return typeof l==\"boolean\"}function _n(l){return Array.isArray(l)}function yr(l){return typeof l==\"string\"}function du(l){return yr(l)\u0026\u0026/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(l)}let ka=typeof self==\"object\"?self:null,n5=ka\u0026\u0026(ka.hasOwnProperty(\"AudioContext\")||ka.hasOwnProperty(\"webkitAudioContext\"));function Fr(l,t,i,u){var h,f=arguments.length,m=f\u003c3?t:u===null?u=Object.getOwnPropertyDescriptor(t,i):u;if(typeof Reflect==\"object\"\u0026\u0026typeof Reflect.decorate==\"function\")m=Reflect.decorate(l,t,i,u);else for(var g=l.length-1;g\u003e=0;g--)(h=l[g])\u0026\u0026(m=(f\u003c3?h(m):f\u003e3?h(t,i,m):h(t,i))||m);return f\u003e3\u0026\u0026m\u0026\u0026Object.defineProperty(t,i,m),m}function Nt(l,t,i,u){return new(i||(i=Promise))(function(h,f){function m(x){try{_(u.next(x))}catch(M){f(M)}}function g(x){try{_(u.throw(x))}catch(M){f(M)}}function _(x){var M;x.done?h(x.value):(M=x.value,M instanceof i?M:new i(function(N){N(M)})).then(m,g)}_((u=u.apply(l,t||[])).next())})}class r5{constructor(t,i,u){this._callback=t,this._type=i,this._updateInterval=u,this._createClock()}_createWorker(){let t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:\"text/javascript\"}),i=URL.createObjectURL(t),u=new Worker(i);u.onmessage=this._callback.bind(this),this._worker=u}_createTimeout(){this._timeout=setTimeout(()=\u003e{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if(this._type===\"worker\")try{this._createWorker()}catch(t){this._type=\"timeout\",this._createClock()}else this._type===\"timeout\"\u0026\u0026this._createTimeout()}_disposeClock(){this._timeout\u0026\u0026(clearTimeout(this._timeout),this._timeout=0),this._worker\u0026\u0026(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),this._type===\"worker\"\u0026\u0026this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Es(l){return Q7(l)}function Ya(l){return K7(l)}function bl(l){return J7(l)}function Pi(l){return Z7(l)}function ix(l){return l instanceof AudioBuffer}function a5(l,t){return l===\"value\"||Es(t)||Ya(t)||ix(t)}function _r(l,...t){if(!t.length)return l;let i=t.shift();if(xa(l)\u0026\u0026xa(i))for(let u in i)a5(u,i[u])?l[u]=i[u]:xa(i[u])?(l[u]||Object.assign(l,{[u]:{}}),_r(l[u],i[u])):Object.assign(l,{[u]:i[u]});return _r(l,...t)}function V(l,t,i=[],u){let h={},f=Array.from(t);if(xa(f[0])\u0026\u0026u\u0026\u0026!Reflect.has(f[0],u)\u0026\u0026(Object.keys(f[0]).some(m=\u003eReflect.has(l,m))||(_r(h,{[u]:f[0]}),i.splice(i.indexOf(u),1),f.shift())),f.length===1\u0026\u0026xa(f[0]))_r(h,f[0]);else for(let m=0;m\u003ci.length;m++)Je(f[m])\u0026\u0026(h[i[m]]=f[m]);return _r(l,h)}function br(l,t){return Fn(l)?t:l}function bn(l,t){return t.forEach(i=\u003e{Reflect.has(l,i)\u0026\u0026delete l[i]}),l}class Na{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||ka\u0026\u0026this.toString()===ka.TONE_DEBUG_CLASS)\u0026\u0026ax(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Na.version=c;function xl(l,t){return l\u003et+1e-6}function nm(l,t){return xl(l,t)||Vr(l,t)}function ox(l,t){return l+1e-6\u003ct}function Vr(l,t){return Math.abs(l-t)\u003c1e-6}function ux(l,t,i){return Math.max(Math.min(l,i),t)}class Lr extends Na{constructor(){super(),this.name=\"Timeline\",this._timeline=[];let t=V(Lr.getDefaults(),arguments,[\"memory\"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Ae(Reflect.has(t,\"time\"),\"Timeline: events must have a time attribute\"),t.time=t.time.valueOf(),this.increasing\u0026\u0026this.length){let i=this._timeline[this.length-1];Ae(nm(t.time,i.time),\"The time must be greater than or equal to the last scheduled time\"),this._timeline.push(t)}else{let i=this._search(t.time);this._timeline.splice(i+1,0,t)}if(this.length\u003ethis.memory){let i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(t){let i=this._timeline.indexOf(t);return i!==-1\u0026\u0026this._timeline.splice(i,1),this}get(t,i=\"time\"){let u=this._search(t,i);return u!==-1?this._timeline[u]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,i=\"time\"){let u=this._search(t,i);return u+1\u003cthis._timeline.length?this._timeline[u+1]:null}getBefore(t){let i=this._timeline.length;if(i\u003e0\u0026\u0026this._timeline[i-1].time\u003ct)return this._timeline[i-1];let u=this._search(t);return u-1\u003e=0?this._timeline[u-1]:null}cancel(t){if(this._timeline.length\u003e1){let i=this._search(t);if(i\u003e=0)if(Vr(this._timeline[i].time,t)){for(let u=i;u\u003e=0\u0026\u0026Vr(this._timeline[u].time,t);u--)i=u;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1\u0026\u0026nm(this._timeline[0].time,t)\u0026\u0026(this._timeline=[]);return this}cancelBefore(t){let i=this._search(t);return i\u003e=0\u0026\u0026(this._timeline=this._timeline.slice(i+1)),this}previousEvent(t){let i=this._timeline.indexOf(t);return i\u003e0?this._timeline[i-1]:null}_search(t,i=\"time\"){if(this._timeline.length===0)return-1;let u=0,h=this._timeline.length,f=h;if(h\u003e0\u0026\u0026this._timeline[h-1][i]\u003c=t)return h-1;for(;u\u003cf;){let m=Math.floor(u+(f-u)/2),g=this._timeline[m],_=this._timeline[m+1];if(Vr(g[i],t)){for(let x=m;x\u003cthis._timeline.length\u0026\u0026Vr(this._timeline[x][i],t);x++)m=x;return m}if(ox(g[i],t)\u0026\u0026xl(_[i],t))return m;xl(g[i],t)?f=m:u=m+1}return-1}_iterate(t,i=0,u=this._timeline.length-1){this._timeline.slice(i,u+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,i){let u=this._search(t);return u!==-1\u0026\u0026this._iterate(i,0,u),this}forEachAfter(t,i){let u=this._search(t);return this._iterate(i,u+1),this}forEachBetween(t,i,u){let h=this._search(t),f=this._search(i);return h!==-1\u0026\u0026f!==-1?(this._timeline[h].time!==t\u0026\u0026(h+=1),this._timeline[f].time===i\u0026\u0026(f-=1),this._iterate(u,h,f)):h===-1\u0026\u0026this._iterate(u,0,f),this}forEachFrom(t,i){let u=this._search(t);for(;u\u003e=0\u0026\u0026this._timeline[u].time\u003e=t;)u--;return this._iterate(i,u+1),this}forEachAtTime(t,i){let u=this._search(t);if(u!==-1\u0026\u0026Vr(this._timeline[u].time,t)){let h=u;for(let f=u;f\u003e=0\u0026\u0026Vr(this._timeline[f].time,t);f--)h=f;this._iterate(f=\u003e{i(f)},h,u)}return this}dispose(){return super.dispose(),this._timeline=[],this}}let cx=[];function kl(l){cx.push(l)}let lx=[];function Nl(l){lx.push(l)}class Oi extends Na{constructor(){super(...arguments),this.name=\"Emitter\"}on(t,i){return t.split(/\\W+/).forEach(u=\u003e{Fn(this._events)\u0026\u0026(this._events={}),this._events.hasOwnProperty(u)||(this._events[u]=[]),this._events[u].push(i)}),this}once(t,i){let u=(...h)=\u003e{i(...h),this.off(t,u)};return this.on(t,u),this}off(t,i){return t.split(/\\W+/).forEach(u=\u003e{if(Fn(this._events)\u0026\u0026(this._events={}),this._events.hasOwnProperty(t))if(Fn(i))this._events[t]=[];else{let h=this._events[t];for(let f=h.length-1;f\u003e=0;f--)h[f]===i\u0026\u0026h.splice(f,1)}}),this}emit(t,...i){if(this._events\u0026\u0026this._events.hasOwnProperty(t)){let u=this._events[t].slice(0);for(let h=0,f=u.length;h\u003cf;h++)u[h].apply(this,i)}return this}static mixin(t){[\"on\",\"once\",\"off\",\"emit\"].forEach(i=\u003e{let u=Object.getOwnPropertyDescriptor(Oi.prototype,i);Object.defineProperty(t.prototype,i,u)})}dispose(){return super.dispose(),this._events=void 0,this}}class rm extends Oi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Ci extends rm{constructor(){super(),this.name=\"Context\",this._constants=new Map,this._timeouts=new Lr,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;let t=V(Ci.getDefaults(),arguments,[\"context\"]);t.context?this._context=t.context:this._context=function(i){return new L7(i)}({latencyHint:t.latencyHint}),this._ticker=new r5(this.emit.bind(this,\"tick\"),t.clockSource,t.updateInterval),this.on(\"tick\",this._timeoutLoop.bind(this)),this._context.onstatechange=()=\u003e{this.emit(\"statechange\",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:\"worker\",latencyHint:\"interactive\",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,cx.forEach(i=\u003ei(t)),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,i,u){return this._context.createBuffer(t,i,u)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,i){return this._context.createIIRFilter(t,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,i,u){return this._context.createPeriodicWave(t,i,u)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Ae(Pi(this._context),\"Not available if OfflineAudioContext\"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Ae(Pi(this._context),\"Not available if OfflineAudioContext\"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Ae(Pi(this._context),\"Not available if OfflineAudioContext\"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Ae(!this._initialized,\"The listener cannot be set after initialization.\"),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Ae(!this._initialized,\"The transport cannot be set after initialization.\"),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Ae(!this._initialized,\"Draw cannot be set after initialization.\"),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Ae(!this._initialized,\"The destination cannot be set after initialization.\"),this._destination=t}createAudioWorkletNode(t,i){return function(u,h,f){return Ae(Je(Kb),\"This node only works in a secure context (https or localhost)\"),new Kb(u,h,f)}(this.rawContext,t,i)}addAudioWorkletModule(t,i){return Nt(this,void 0,void 0,function*(){Ae(Je(this.rawContext.audioWorklet),\"AudioWorkletNode is only available in a secure context (https or localhost)\"),this._workletModules.has(i)||this._workletModules.set(i,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(i)})}workletsAreReady(){return Nt(this,void 0,void 0,function*(){let t=[];this._workletModules.forEach(i=\u003et.push(i)),yield Promise.all(t)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let i=0;if(this._latencyHint=t,yr(t))switch(t){case\"interactive\":i=.1;break;case\"playback\":i=.5;break;case\"balanced\":i=.25}this.lookAhead=i,this.updateInterval=i/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Pi(this._context)?this._context.resume():Promise.resolve()}close(){return Nt(this,void 0,void 0,function*(){var t;Pi(this._context)\u0026\u0026(yield this._context.close()),this._initialized\u0026\u0026(t=this,lx.forEach(i=\u003ei(t)))})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{let i=this._context.createBuffer(1,128,this._context.sampleRate),u=i.getChannelData(0);for(let f=0;f\u003cu.length;f++)u[f]=t;let h=this._context.createBufferSource();return h.channelCount=1,h.channelCountMode=\"explicit\",h.buffer=i,h.loop=!0,h.start(0),this._constants.set(t,h),h}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=\u003ethis._constants[t].disconnect()),this}_timeoutLoop(){let t=this.now(),i=this._timeouts.peek();for(;this._timeouts.length\u0026\u0026i\u0026\u0026i.time\u003c=t;)i.callback(),this._timeouts.shift(),i=this._timeouts.peek()}setTimeout(t,i){this._timeoutIds++;let u=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:u+i}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(i=\u003e{i.id===t\u0026\u0026this._timeouts.remove(i)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,i){let u=++this._timeoutIds,h=()=\u003e{let f=this.now();this._timeouts.add({callback:()=\u003e{t(),h()},id:u,time:f+i})};return h(),u}}function Ie(l,t){_n(t)?t.forEach(i=\u003eIe(l,i)):Object.defineProperty(l,t,{enumerable:!0,writable:!1})}function fu(l,t){_n(t)?t.forEach(i=\u003efu(l,i)):Object.defineProperty(l,t,{writable:!0})}let rt=()=\u003e{};class ut extends Na{constructor(){super(),this.name=\"ToneAudioBuffer\",this.onload=rt;let t=V(ut.getDefaults(),arguments,[\"url\",\"onload\",\"onerror\"]);this.reverse=t.reverse,this.onload=t.onload,t.url\u0026\u0026ix(t.url)||t.url instanceof ut?this.set(t.url):yr(t.url)\u0026\u0026this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:rt,onload:rt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Pt().sampleRate}set(t){return t instanceof ut?t.loaded?this._buffer=t.get():t.onload=()=\u003e{this.set(t),this.onload(this)}:this._buffer=t,this._reversed\u0026\u0026this._reverse(),this}get(){return this._buffer}load(t){return Nt(this,void 0,void 0,function*(){let i=ut.load(t).then(u=\u003e{this.set(u),this.onload(this)});ut.downloads.push(i);try{yield i}finally{let u=ut.downloads.indexOf(i);ut.downloads.splice(u,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){let i=_n(t)\u0026\u0026t[0].length\u003e0,u=i?t.length:1,h=i?t[0].length:t.length,f=Pt(),m=f.createBuffer(u,h,f.sampleRate),g=i||u!==1?t:[t];for(let _=0;_\u003cu;_++)m.copyToChannel(g[_],_);return this._buffer=m,this}toMono(t){if(nr(t))this.fromArray(this.toArray(t));else{let i=new Float32Array(this.length),u=this.numberOfChannels;for(let h=0;h\u003cu;h++){let f=this.toArray(h);for(let m=0;m\u003cf.length;m++)i[m]+=f[m]}i=i.map(h=\u003eh/u),this.fromArray(i)}return this}toArray(t){if(nr(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{let i=[];for(let u=0;u\u003cthis.numberOfChannels;u++)i[u]=this.getChannelData(u);return i}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,i=this.duration){let u=Math.floor(t*this.sampleRate),h=Math.floor(i*this.sampleRate);Ae(u\u003ch,\"The start time must be less than the end time\");let f=h-u,m=Pt().createBuffer(this.numberOfChannels,f,this.sampleRate);for(let g=0;g\u003cthis.numberOfChannels;g++)m.copyToChannel(this.getChannelData(g).subarray(u,h),g);return new ut(m)}_reverse(){if(this.loaded)for(let t=0;t\u003cthis.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length\u003e0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t\u0026\u0026(this._reversed=t,this._reverse())}static fromArray(t){return new ut().fromArray(t)}static fromUrl(t){return Nt(this,void 0,void 0,function*(){return yield new ut().load(t)})}static load(t){return Nt(this,void 0,void 0,function*(){let i=t.match(/\\[([^\\]\\[]+\\|.+)\\]$/);if(i){let m=i[1].split(\"|\"),g=m[0];for(let _ of m)if(ut.supportsType(_)){g=_;break}t=t.replace(i[0],g)}let u=ut.baseUrl===\"\"||ut.baseUrl.endsWith(\"/\")?ut.baseUrl:ut.baseUrl+\"/\",h=yield fetch(u+t);if(!h.ok)throw new Error(\"could not load url: \"+t);let f=yield h.arrayBuffer();return yield Pt().decodeAudioData(f)})}static supportsType(t){let i=t.split(\".\"),u=i[i.length-1];return document.createElement(\"audio\").canPlayType(\"audio/\"+u)!==\"\"}static loaded(){return Nt(this,void 0,void 0,function*(){for(yield Promise.resolve();ut.downloads.length;)yield ut.downloads[0]})}}ut.baseUrl=\"\",ut.downloads=[];class Ai extends Ci{constructor(){var t,i,u;super({clockSource:\"offline\",context:bl(arguments[0])?arguments[0]:(t=arguments[0],i=arguments[1]*arguments[2],u=arguments[2],new X7(t,i,u)),lookAhead:0,updateInterval:bl(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name=\"OfflineContext\",this._currentTime=0,this.isOffline=!0,this._duration=bl(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Nt(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime\u003e=0;){this.emit(\"tick\"),this._currentTime+=128/this.sampleRate,i++;let u=Math.floor(this.sampleRate/128);t\u0026\u0026i%u==0\u0026\u0026(yield new Promise(h=\u003esetTimeout(h,1)))}})}render(t=!0){return Nt(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(t);let i=yield this._context.startRendering();return new ut(i)})}close(){return Promise.resolve()}}let hx=new class extends rm{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(l,t,i){return{}}createChannelMerger(l){return{}}createChannelSplitter(l){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(l){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(l,t){return{}}createPanner(){return{}}createPeriodicWave(l,t,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(l){return{}}createMediaElementSource(l){return{}}createMediaStreamDestination(){return{}}decodeAudioData(l){return Promise.resolve({})}createAudioWorkletNode(l,t){return{}}get rawContext(){return{}}addAudioWorkletModule(l,t){return Nt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(l,t){return 0}clearTimeout(l){return this}setInterval(l,t){return 0}clearInterval(l){return this}getConstant(l){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(l){}get destination(){return{}}set destination(l){}now(){return 0}immediate(){return 0}},wl=hx;function Pt(){return wl===hx\u0026\u0026n5\u0026\u0026ql(new Ci),wl}function ql(l){wl=Pi(l)?new Ci(l):bl(l)?new Ai(l):l}function s5(){return wl.resume()}if(ka\u0026\u0026!ka.TONE_SILENCE_LOGGING){let l=\"v\";c===\"dev\"\u0026\u0026(l=\"\");let t=` * Tone.js ${l}${c} * `;console.log(\"%c\"+t,\"background: #000; color: #fff\")}function Ri(l){return Math.pow(10,l/20)}function mu(l){return Math.log(l)/Math.LN10*20}function Ei(l){return Math.pow(2,l/12)}let Tl=440;function Xa(l){return Math.round(px(l))}function px(l){return 69+12*Math.log2(l/Tl)}function am(l){return Tl*Math.pow(2,(l-69)/12)}class sm extends Na{constructor(t,i,u){super(),this.defaultUnits=\"s\",this._val=i,this._units=u,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=\u003ethis._frequencyToUnits(parseFloat(t)),regexp:/^(\\d+(?:\\.\\d+)?)hz$/i},i:{method:t=\u003ethis._ticksToUnits(parseInt(t,10)),regexp:/^(\\d+)i$/i},m:{method:t=\u003ethis._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\\d+)m$/i},n:{method:(t,i)=\u003e{let u=parseInt(t,10),h=i===\".\"?1.5:1;return u===1?this._beatsToUnits(this._getTimeSignature())*h:this._beatsToUnits(4/u)*h},regexp:/^(\\d+)n(\\.?)$/i},number:{method:t=\u003ethis._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\\d+(?:\\.\\d+)?)$/},s:{method:t=\u003ethis._secondsToUnits(parseFloat(t)),regexp:/^(\\d+(?:\\.\\d+)?)s$/},samples:{method:t=\u003eparseInt(t,10)/this.context.sampleRate,regexp:/^(\\d+)samples$/},t:{method:t=\u003e{let i=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(i)))},regexp:/^(\\d+)t$/i},tr:{method:(t,i,u)=\u003e{let h=0;return t\u0026\u0026t!==\"0\"\u0026\u0026(h+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),i\u0026\u0026i!==\"0\"\u0026\u0026(h+=this._beatsToUnits(parseFloat(i))),u\u0026\u0026u!==\"0\"\u0026\u0026(h+=this._beatsToUnits(parseFloat(u)/4)),h},regexp:/^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?$/}}}valueOf(){if(this._val instanceof sm\u0026\u0026this.fromType(this._val),Fn(this._val))return this._noArg();if(yr(this._val)\u0026\u0026Fn(this._units)){for(let t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(xa(this._val)){let t=0;for(let i in this._val)if(Je(this._val[i])){let u=this._val[i];t+=new this.constructor(this.context,i).valueOf()*u}return t}if(Je(this._units)){let t=this._expressions[this._units],i=this._val.toString().trim().match(t.regexp);return i?t.method.apply(this,i.slice(1)):t.method.call(this,this._val)}return yr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case\"s\":this._val=t.toSeconds();break;case\"i\":this._val=t.toTicks();break;case\"hz\":this._val=t.toFrequency();break;case\"midi\":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class rr extends sm{constructor(){super(...arguments),this.name=\"TimeClass\"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=\u003ethis._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\\+(.+)/},quantize:{method:t=\u003e{let i=new rr(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(t,i=1){let u=new this.constructor(this.context,t).valueOf(),h=this.valueOf();return h+(Math.round(h/u)*u-h)*i}toNotation(){let t=this.toSeconds(),i=[\"1m\"];for(let f=1;f\u003c9;f++){let m=Math.pow(2,f);i.push(m+\"n.\"),i.push(m+\"n\"),i.push(m+\"t\")}i.push(\"0\");let u=i[0],h=new rr(this.context,i[0]).toSeconds();return i.forEach(f=\u003e{let m=new rr(this.context,f).toSeconds();Math.abs(m-t)\u003cMath.abs(h-t)\u0026\u0026(u=f,h=m)}),u}toBarsBeatsSixteenths(){let t=this._beatsToUnits(1),i=this.valueOf()/t;i=parseFloat(i.toFixed(4));let u=Math.floor(i/this._getTimeSignature()),h=i%1*4;i=Math.floor(i)%this._getTimeSignature();let f=h.toString();return f.length\u003e3\u0026\u0026(h=parseFloat(parseFloat(f).toFixed(3))),[u,i,h].join(\":\")}toTicks(){let t=this._beatsToUnits(1),i=this.valueOf()/t;return Math.round(i*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Xa(this.toFrequency())}_now(){return this.context.now()}}function i5(l,t){return new rr(Pt(),l,t)}class jn extends rr{constructor(){super(...arguments),this.name=\"Frequency\",this.defaultUnits=\"hz\"}static get A4(){return Tl}static set A4(t){(function(i){Tl=i})(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\\d+(?:\\.\\d+)?midi)/,method(t){return this.defaultUnits===\"midi\"?t:jn.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,i){let u=o5[t.toLowerCase()]+12*(parseInt(i,10)+1);return this.defaultUnits===\"midi\"?u:jn.mtof(u)}},tr:{regexp:/^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?/,method(t,i,u){let h=1;return t\u0026\u0026t!==\"0\"\u0026\u0026(h*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),i\u0026\u0026i!==\"0\"\u0026\u0026(h*=this._beatsToUnits(parseFloat(i))),u\u0026\u0026u!==\"0\"\u0026\u0026(h*=this._beatsToUnits(parseFloat(u)/4)),h}}})}transpose(t){return new jn(this.context,this.valueOf()*Ei(t))}harmonize(t){return t.map(i=\u003ethis.transpose(i))}toMidi(){return Xa(this.valueOf())}toNote(){let t=this.toFrequency(),i=Math.log2(t/jn.A4),u=Math.round(12*i)+57,h=Math.floor(u/12);return h\u003c0\u0026\u0026(u+=-12*h),u5[u%12]+h.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){let t=this._beatsToUnits(1),i=this.valueOf()/t;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return am(t)}static ftom(t){return Xa(t)}}let o5={cbb:-2,cb:-1,c:0,\"c#\":1,cx:2,dbb:0,db:1,d:2,\"d#\":3,dx:4,ebb:2,eb:3,e:4,\"e#\":5,ex:6,fbb:3,fb:4,f:5,\"f#\":6,fx:7,gbb:5,gb:6,g:7,\"g#\":8,gx:9,abb:7,ab:8,a:9,\"a#\":10,ax:11,bbb:9,bb:10,b:11,\"b#\":12,bx:13},u5=[\"C\",\"C#\",\"D\",\"D#\",\"E\",\"F\",\"F#\",\"G\",\"G#\",\"A\",\"A#\",\"B\"];function c5(l,t){return new jn(Pt(),l,t)}class Kt extends rr{constructor(){super(...arguments),this.name=\"TransportTime\"}_now(){return this.context.transport.seconds}}function l5(l,t){return new Kt(Pt(),l,t)}class ln extends Na{constructor(){super();let t=V(ln.getDefaults(),arguments,[\"context\"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Pt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new rr(this.context,t).toSeconds()}toFrequency(t){return new jn(this.context,t).toFrequency()}toTicks(t){return new Kt(this.context,t).toTicks()}_getPartialProperties(t){let i=this.get();return Object.keys(i).forEach(u=\u003e{Fn(t[u])\u0026\u0026delete i[u]}),i}get(){let t=this.constructor.getDefaults();return Object.keys(t).forEach(i=\u003e{if(Reflect.has(this,i)){let u=this[i];Je(u)\u0026\u0026Je(u.value)\u0026\u0026Je(u.setValueAtTime)?t[i]=u.value:u instanceof ln?t[i]=u._getPartialProperties(t[i]):_n(u)||nr(u)||yr(u)||tm(u)?t[i]=u:delete t[i]}}),t}set(t){return Object.keys(t).forEach(i=\u003e{Reflect.has(this,i)\u0026\u0026Je(this[i])\u0026\u0026(this[i]\u0026\u0026Je(this[i].value)\u0026\u0026Je(this[i].setValueAtTime)?this[i].value!==t[i]\u0026\u0026(this[i].value=t[i]):this[i]instanceof ln?this[i].set(t[i]):this[i]=t[i])}),this}}class ji extends Lr{constructor(t=\"stopped\"){super(),this.name=\"StateTimeline\",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){let i=this.get(t);return i!==null?i.state:this._initial}setStateAtTime(t,i,u){return yn(i,0),this.add(Object.assign({},u,{state:t,time:i})),this}getLastState(t,i){for(let u=this._search(i);u\u003e=0;u--){let h=this._timeline[u];if(h.state===t)return h}}getNextState(t,i){let u=this._search(i);if(u!==-1)for(let h=u;h\u003cthis._timeline.length;h++){let f=this._timeline[h];if(f.state===t)return f}}}class Ue extends ln{constructor(){super(V(Ue.getDefaults(),arguments,[\"param\",\"units\",\"convert\"])),this.name=\"Param\",this.overridden=!1,this._minOutput=1e-7;let t=V(Ue.getDefaults(),arguments,[\"param\",\"units\",\"convert\"]);for(Ae(Je(t.param)\u0026\u0026(Es(t.param)||t.param instanceof Ue),\"param must be an AudioParam\");!Es(t.param);)t.param=t.param._param;this._swappable=!!Je(t.swappable)\u0026\u0026t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Lr(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Je(t.value)\u0026\u0026t.value!==this._toType(this._initialValue)\u0026\u0026this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(ln.getDefaults(),{convert:!0,units:\"number\"})}get value(){let t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Je(this._minValue)?this._minValue:this.units===\"time\"||this.units===\"frequency\"||this.units===\"normalRange\"||this.units===\"positive\"||this.units===\"transportTime\"||this.units===\"ticks\"||this.units===\"bpm\"||this.units===\"hertz\"||this.units===\"samples\"?0:this.units===\"audioRange\"?-1:this.units===\"decibels\"?-1/0:this._param.minValue}get maxValue(){return Je(this._maxValue)?this._maxValue:this.units===\"normalRange\"||this.units===\"audioRange\"?1:this._param.maxValue}_is(t,i){return this.units===i}_assertRange(t){return Je(this.maxValue)\u0026\u0026Je(this.minValue)\u0026\u0026yn(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert\u0026\u0026!this.overridden?this._is(t,\"time\")?this.toSeconds(t):this._is(t,\"decibels\")?Ri(t):this._is(t,\"frequency\")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert\u0026\u0026this.units===\"decibels\"?mu(t):t}setValueAtTime(t,i){let u=this.toSeconds(i),h=this._fromType(t);return Ae(isFinite(h)\u0026\u0026isFinite(u),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._assertRange(h),this.log(this.units,\"setValueAtTime\",t,u),this._events.add({time:u,type:\"setValueAtTime\",value:h}),this._param.setValueAtTime(h,u),this}getValueAtTime(t){let i=Math.max(this.toSeconds(t),0),u=this._events.getAfter(i),h=this._events.get(i),f=this._initialValue;if(h===null)f=this._initialValue;else if(h.type!==\"setTargetAtTime\"||u!==null\u0026\u0026u.type!==\"setValueAtTime\")if(u===null)f=h.value;else if(u.type===\"linearRampToValueAtTime\"||u.type===\"exponentialRampToValueAtTime\"){let m=h.value;if(h.type===\"setTargetAtTime\"){let g=this._events.getBefore(h.time);m=g===null?this._initialValue:g.value}f=u.type===\"linearRampToValueAtTime\"?this._linearInterpolate(h.time,m,u.time,u.value,i):this._exponentialInterpolate(h.time,m,u.time,u.value,i)}else f=h.value;else{let m=this._events.getBefore(h.time),g;g=m===null?this._initialValue:m.value,h.type===\"setTargetAtTime\"\u0026\u0026(f=this._exponentialApproach(h.time,g,h.value,h.constant,i))}return this._toType(f)}setRampPoint(t){t=this.toSeconds(t);let i=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(i)===0\u0026\u0026(i=this._toType(this._minOutput)),this.setValueAtTime(i,t),this}linearRampToValueAtTime(t,i){let u=this._fromType(t),h=this.toSeconds(i);return Ae(isFinite(u)\u0026\u0026isFinite(h),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._assertRange(u),this._events.add({time:h,type:\"linearRampToValueAtTime\",value:u}),this.log(this.units,\"linearRampToValueAtTime\",t,h),this._param.linearRampToValueAtTime(u,h),this}exponentialRampToValueAtTime(t,i){let u=this._fromType(t);u=Vr(u,0)?this._minOutput:u,this._assertRange(u);let h=this.toSeconds(i);return Ae(isFinite(u)\u0026\u0026isFinite(h),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._events.add({time:h,type:\"exponentialRampToValueAtTime\",value:u}),this.log(this.units,\"exponentialRampToValueAtTime\",t,h),this._param.exponentialRampToValueAtTime(u,h),this}exponentialRampTo(t,i,u){return u=this.toSeconds(u),this.setRampPoint(u),this.exponentialRampToValueAtTime(t,u+this.toSeconds(i)),this}linearRampTo(t,i,u){return u=this.toSeconds(u),this.setRampPoint(u),this.linearRampToValueAtTime(t,u+this.toSeconds(i)),this}targetRampTo(t,i,u){return u=this.toSeconds(u),this.setRampPoint(u),this.exponentialApproachValueAtTime(t,u,i),this}exponentialApproachValueAtTime(t,i,u){i=this.toSeconds(i),u=this.toSeconds(u);let h=Math.log(u+1)/Math.log(200);return this.setTargetAtTime(t,i,h),this.cancelAndHoldAtTime(i+.9*u),this.linearRampToValueAtTime(t,i+u),this}setTargetAtTime(t,i,u){let h=this._fromType(t);Ae(isFinite(u)\u0026\u0026u\u003e0,\"timeConstant must be a number greater than 0\");let f=this.toSeconds(i);return this._assertRange(h),Ae(isFinite(h)\u0026\u0026isFinite(f),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._events.add({constant:u,time:f,type:\"setTargetAtTime\",value:h}),this.log(this.units,\"setTargetAtTime\",t,f,u),this._param.setTargetAtTime(h,f,u),this}setValueCurveAtTime(t,i,u,h=1){u=this.toSeconds(u),i=this.toSeconds(i);let f=this._fromType(t[0])*h;this.setValueAtTime(this._toType(f),i);let m=u/(t.length-1);for(let g=1;g\u003ct.length;g++){let _=this._fromType(t[g])*h;this.linearRampToValueAtTime(this._toType(_),i+g*m)}return this}cancelScheduledValues(t){let i=this.toSeconds(t);return Ae(isFinite(i),\"Invalid argument to cancelScheduledValues: \"+JSON.stringify(t)),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,\"cancelScheduledValues\",i),this}cancelAndHoldAtTime(t){let i=this.toSeconds(t),u=this._fromType(this.getValueAtTime(i));Ae(isFinite(i),\"Invalid argument to cancelAndHoldAtTime: \"+JSON.stringify(t)),this.log(this.units,\"cancelAndHoldAtTime\",i,\"value=\"+u);let h=this._events.get(i),f=this._events.getAfter(i);return h\u0026\u0026Vr(h.time,i)?f?(this._param.cancelScheduledValues(f.time),this._events.cancel(f.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):f\u0026\u0026(this._param.cancelScheduledValues(f.time),this._events.cancel(f.time),f.type===\"linearRampToValueAtTime\"?this.linearRampToValueAtTime(this._toType(u),i):f.type===\"exponentialRampToValueAtTime\"\u0026\u0026this.exponentialRampToValueAtTime(this._toType(u),i)),this._events.add({time:i,type:\"setValueAtTime\",value:u}),this._param.setValueAtTime(u,i),this}rampTo(t,i=.1,u){return this.units===\"frequency\"||this.units===\"bpm\"||this.units===\"decibels\"?this.exponentialRampTo(t,i,u):this.linearRampTo(t,i,u),this}apply(t){let i=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(i),i);let u=this._events.get(i);if(u\u0026\u0026u.type===\"setTargetAtTime\"){let h=this._events.getAfter(u.time),f=h?h.time:i+2,m=(f-i)/10;for(let g=i;g\u003cf;g+=m)t.linearRampToValueAtTime(this.getValueAtTime(g),g)}return this._events.forEachAfter(this.context.currentTime,h=\u003e{h.type===\"cancelScheduledValues\"?t.cancelScheduledValues(h.time):h.type===\"setTargetAtTime\"?t.setTargetAtTime(h.value,h.time,h.constant):t[h.type](h.value,h.time)}),this}setParam(t){Ae(this._swappable,\"The Param must be assigned as 'swappable' in the constructor\");let i=this.input;return i.disconnect(this._param),this.apply(t),this._param=t,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,i,u,h,f){return u+(i-u)*Math.exp(-(f-t)/h)}_linearInterpolate(t,i,u,h,f){return i+(f-t)/(u-t)*(h-i)}_exponentialInterpolate(t,i,u,h,f){return i*Math.pow(h/i,(f-t)/(u-t))}}class ye extends ln{constructor(){super(...arguments),this.name=\"ToneAudioNode\",this._internalChannels=[]}get numberOfInputs(){return Je(this.input)?Es(this.input)||this.input instanceof Ue?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Je(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Je(t)\u0026\u0026(t instanceof ye||Ya(t))}_getInternalNodes(){let t=this._internalChannels.slice(0);return this._isAudioNode(this.input)\u0026\u0026t.push(this.input),this._isAudioNode(this.output)\u0026\u0026this.input!==this.output\u0026\u0026t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(i=\u003e{i.channelCount=t.channelCount,i.channelCountMode=t.channelCountMode,i.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){let t=this._getInternalNodes();Ae(t.length\u003e0,\"ToneAudioNode does not have any internal nodes\");let i=t[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){let i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){let i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){let i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:t}))}connect(t,i=0,u=0){return Vn(this,t,i,u),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return pu(\"toMaster() has been renamed toDestination()\"),this.toDestination()}disconnect(t,i=0,u=0){return im(this,t,i,u),this}chain(...t){return ar(this,...t),this}fan(...t){return t.forEach(i=\u003ethis.connect(i)),this}dispose(){return super.dispose(),Je(this.input)\u0026\u0026(this.input instanceof ye?this.input.dispose():Ya(this.input)\u0026\u0026this.input.disconnect()),Je(this.output)\u0026\u0026(this.output instanceof ye?this.output.dispose():Ya(this.output)\u0026\u0026this.output.disconnect()),this._internalChannels=[],this}}function ar(...l){let t=l.shift();l.reduce((i,u)=\u003e(i instanceof ye?i.connect(u):Ya(i)\u0026\u0026Vn(i,u),u),t)}function Vn(l,t,i=0,u=0){for(Ae(Je(l),\"Cannot connect from undefined node\"),Ae(Je(t),\"Cannot connect to undefined node\"),(t instanceof ye||Ya(t))\u0026\u0026Ae(t.numberOfInputs\u003e0,\"Cannot connect to node with no inputs\"),Ae(l.numberOfOutputs\u003e0,\"Cannot connect from node with no outputs\");t instanceof ye||t instanceof Ue;)Je(t.input)\u0026\u0026(t=t.input);for(;l instanceof ye;)Je(l.output)\u0026\u0026(l=l.output);Es(t)?l.connect(t,i):l.connect(t,i,u)}function im(l,t,i=0,u=0){if(Je(t))for(;t instanceof ye;)t=t.input;for(;!Ya(l);)Je(l.output)\u0026\u0026(l=l.output);Es(t)?l.disconnect(t,i):Ya(t)?l.disconnect(t,i,u):l.disconnect()}class Ce extends ye{constructor(){super(V(Ce.getDefaults(),arguments,[\"gain\",\"units\"])),this.name=\"Gain\",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;let t=V(Ce.getDefaults(),arguments,[\"gain\",\"units\"]);this.gain=new Ue({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Ie(this,\"gain\")}static getDefaults(){return Object.assign(ye.getDefaults(),{convert:!0,gain:1,units:\"gain\"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Di extends ye{constructor(t){super(t),this.onended=rt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ce({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){let u=this.toSeconds(i);return this._startTime!==-1\u0026\u0026u\u003e=this._startTime\u0026\u0026(this._stopTime===-1||u\u003c=this._stopTime)?\"started\":\"stopped\"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(ye.getDefaults(),{curve:\"linear\",fadeIn:0,fadeOut:0,onended:rt})}_startGain(t,i=1){Ae(this._startTime===-1,\"Source cannot be started more than once\");let u=this.toSeconds(this._fadeIn);return this._startTime=t+u,this._startTime=Math.max(this._startTime,this.context.currentTime),u\u003e0?(this._gainNode.gain.setValueAtTime(0,t),this._curve===\"linear\"?this._gainNode.gain.linearRampToValueAtTime(i,t+u):this._gainNode.gain.exponentialApproachValueAtTime(i,t,u)):this._gainNode.gain.setValueAtTime(i,t),this}stop(t){return this.log(\"stop\",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Ae(this._startTime!==-1,\"'start' must be called before 'stop'\"),this.cancelStop();let i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+i,this._stopTime=Math.max(this._stopTime,this.context.currentTime),i\u003e0?this._curve===\"linear\"?this._gainNode.gain.linearRampTo(0,i,t):this._gainNode.gain.targetRampTo(0,i,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=\u003e{let u=this._curve===\"exponential\"?2*i:0;this._stopSource(this.now()+u),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==rt\u0026\u0026(this.onended(this),this.onended=rt,!this.context.isOffline)){let t=()=\u003ethis.dispose();window.requestIdleCallback!==void 0?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log(\"cancelStop\"),Ae(this._startTime!==-1,\"Source is not started\"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class vu extends Di{constructor(){super(V(vu.getDefaults(),arguments,[\"offset\"])),this.name=\"ToneConstantSource\",this._source=this.context.createConstantSource();let t=V(vu.getDefaults(),arguments,[\"offset\"]);Vn(this._source,this._gainNode),this.offset=new Ue({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Di.getDefaults(),{convert:!0,offset:1,units:\"number\"})}start(t){let i=this.toSeconds(t);return this.log(\"start\",i),this._startGain(i),this._source.start(i),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state===\"started\"\u0026\u0026this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class We extends ye{constructor(){super(V(We.getDefaults(),arguments,[\"value\",\"units\"])),this.name=\"Signal\",this.override=!0;let t=V(We.getDefaults(),arguments,[\"value\",\"units\"]);this.output=this._constantSource=new vu({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ye.getDefaults(),{convert:!0,units:\"number\",value:0})}connect(t,i=0,u=0){return gu(this,t,i,u),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,i){return this._param.setValueAtTime(t,i),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,i){return this._param.linearRampToValueAtTime(t,i),this}exponentialRampToValueAtTime(t,i){return this._param.exponentialRampToValueAtTime(t,i),this}exponentialRampTo(t,i,u){return this._param.exponentialRampTo(t,i,u),this}linearRampTo(t,i,u){return this._param.linearRampTo(t,i,u),this}targetRampTo(t,i,u){return this._param.targetRampTo(t,i,u),this}exponentialApproachValueAtTime(t,i,u){return this._param.exponentialApproachValueAtTime(t,i,u),this}setTargetAtTime(t,i,u){return this._param.setTargetAtTime(t,i,u),this}setValueCurveAtTime(t,i,u,h){return this._param.setValueCurveAtTime(t,i,u,h),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,i,u){return this._param.rampTo(t,i,u),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function gu(l,t,i,u){(t instanceof Ue||Es(t)||t instanceof We\u0026\u0026t.override)\u0026\u0026(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof We\u0026\u0026(t.overridden=!0)),Vn(l,t,i,u)}class Ml extends Ue{constructor(){super(V(Ml.getDefaults(),arguments,[\"value\"])),this.name=\"TickParam\",this._events=new Lr(1/0),this._multiplier=1;let t=V(Ml.getDefaults(),arguments,[\"value\"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:\"setValueAtTime\",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ue.getDefaults(),{multiplier:1,units:\"hertz\",value:1})}setTargetAtTime(t,i,u){i=this.toSeconds(i),this.setRampPoint(i);let h=this._fromType(t),f=this._events.get(i),m=Math.round(Math.max(1/u,1));for(let g=0;g\u003c=m;g++){let _=u*g+i,x=this._exponentialApproach(f.time,f.value,h,u,_);this.linearRampToValueAtTime(this._toType(x),_)}return this}setValueAtTime(t,i){let u=this.toSeconds(i);super.setValueAtTime(t,i);let h=this._events.get(u),f=this._events.previousEvent(h),m=this._getTicksUntilEvent(f,u);return h.ticks=Math.max(m,0),this}linearRampToValueAtTime(t,i){let u=this.toSeconds(i);super.linearRampToValueAtTime(t,i);let h=this._events.get(u),f=this._events.previousEvent(h),m=this._getTicksUntilEvent(f,u);return h.ticks=Math.max(m,0),this}exponentialRampToValueAtTime(t,i){i=this.toSeconds(i);let u=this._fromType(t),h=this._events.get(i),f=Math.round(Math.max(10*(i-h.time),1)),m=(i-h.time)/f;for(let g=0;g\u003c=f;g++){let _=m*g+h.time,x=this._exponentialInterpolate(h.time,h.value,i,u,_);this.linearRampToValueAtTime(this._toType(x),_)}return this}_getTicksUntilEvent(t,i){if(t===null)t={ticks:0,time:0,type:\"setValueAtTime\",value:0};else if(Fn(t.ticks)){let m=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(m,t.time)}let u=this._fromType(this.getValueAtTime(t.time)),h=this._fromType(this.getValueAtTime(i)),f=this._events.get(i);return f\u0026\u0026f.time===i\u0026\u0026f.type===\"setValueAtTime\"\u0026\u0026(h=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-t.time)*(u+h)+t.ticks}getTicksAtTime(t){let i=this.toSeconds(t),u=this._events.get(i);return Math.max(this._getTicksUntilEvent(u,i),0)}getDurationOfTicks(t,i){let u=this.toSeconds(i),h=this.getTicksAtTime(i);return this.getTimeOfTick(h+t)-u}getTimeOfTick(t){let i=this._events.get(t,\"ticks\"),u=this._events.getAfter(t,\"ticks\");if(i\u0026\u0026i.ticks===t)return i.time;if(i\u0026\u0026u\u0026\u0026u.type===\"linearRampToValueAtTime\"\u0026\u0026i.value!==u.value){let h=this._fromType(this.getValueAtTime(i.time)),f=(this._fromType(this.getValueAtTime(u.time))-h)/(u.time-i.time),m=Math.sqrt(Math.pow(h,2)-2*f*(i.ticks-t)),g=(-h+m)/f,_=(-h-m)/f;return(g\u003e0?g:_)+i.time}return i?i.value===0?1/0:i.time+(t-i.ticks)/i.value:t/this._initialValue}ticksToTime(t,i){return this.getDurationOfTicks(t,i)}timeToTicks(t,i){let u=this.toSeconds(i),h=this.toSeconds(t),f=this.getTicksAtTime(u);return this.getTicksAtTime(u+h)-f}_fromType(t){return this.units===\"bpm\"\u0026\u0026this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units===\"bpm\"\u0026\u0026this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){let i=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class Sl extends We{constructor(){super(V(Sl.getDefaults(),arguments,[\"value\"])),this.name=\"TickSignal\";let t=V(Sl.getDefaults(),arguments,[\"value\"]);this.input=this._param=new Ml({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(We.getDefaults(),{multiplier:1,units:\"hertz\",value:1})}ticksToTime(t,i){return this._param.ticksToTime(t,i)}timeToTicks(t,i){return this._param.timeToTicks(t,i)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,i){return this._param.getDurationOfTicks(t,i)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Pl extends ln{constructor(){super(V(Pl.getDefaults(),arguments,[\"frequency\"])),this.name=\"TickSource\",this._state=new ji,this._tickOffset=new Lr;let t=V(Pl.getDefaults(),arguments,[\"frequency\"]);this.frequency=new Sl({context:this.context,units:t.units,value:t.frequency}),Ie(this,\"frequency\"),this._state.setStateAtTime(\"stopped\",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:\"hertz\"},ln.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,i){let u=this.toSeconds(t);return this._state.getValueAtTime(u)!==\"started\"\u0026\u0026(this._state.setStateAtTime(\"started\",u),Je(i)\u0026\u0026this.setTicksAtTime(i,u)),this}stop(t){let i=this.toSeconds(t);if(this._state.getValueAtTime(i)===\"stopped\"){let u=this._state.get(i);u\u0026\u0026u.time\u003e0\u0026\u0026(this._tickOffset.cancel(u.time),this._state.cancel(u.time))}return this._state.cancel(i),this._state.setStateAtTime(\"stopped\",i),this.setTicksAtTime(0,i),this}pause(t){let i=this.toSeconds(t);return this._state.getValueAtTime(i)===\"started\"\u0026\u0026this._state.setStateAtTime(\"paused\",i),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){let i=this.toSeconds(t),u=this._state.getLastState(\"stopped\",i),h={state:\"paused\",time:i};this._state.add(h);let f=u,m=0;return this._state.forEachBetween(u.time,i+this.sampleTime,g=\u003e{let _=f.time,x=this._tickOffset.get(g.time);x\u0026\u0026x.time\u003e=f.time\u0026\u0026(m=x.ticks,_=x.time),f.state===\"started\"\u0026\u0026g.state!==\"started\"\u0026\u0026(m+=this.frequency.getTicksAtTime(g.time)-this.frequency.getTicksAtTime(_)),f=g}),this._state.remove(h),m}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){let i=this.now(),u=this.frequency.timeToTicks(t,i);this.setTicksAtTime(u,i)}getSecondsAtTime(t){t=this.toSeconds(t);let i=this._state.getLastState(\"stopped\",t),u={state:\"paused\",time:t};this._state.add(u);let h=i,f=0;return this._state.forEachBetween(i.time,t+this.sampleTime,m=\u003e{let g=h.time,_=this._tickOffset.get(m.time);_\u0026\u0026_.time\u003e=h.time\u0026\u0026(f=_.seconds,g=_.time),h.state===\"started\"\u0026\u0026m.state!==\"started\"\u0026\u0026(f+=m.time-g),h=m}),this._state.remove(u),f}setTicksAtTime(t,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,i),ticks:t,time:i}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,i=this.now()){let u=this._tickOffset.get(i),h=this._state.get(i),f=Math.max(u.time,h.time),m=this.frequency.getTicksAtTime(f)+t-u.ticks;return this.frequency.getTimeOfTick(m)}forEachTickBetween(t,i,u){let h=this._state.get(t);this._state.forEachBetween(t,i,m=\u003e{h\u0026\u0026h.state===\"started\"\u0026\u0026m.state!==\"started\"\u0026\u0026this.forEachTickBetween(Math.max(h.time,t),m.time-this.sampleTime,u),h=m});let f=null;if(h\u0026\u0026h.state===\"started\"){let m=Math.max(h.time,t),g=this.frequency.getTicksAtTime(m),_=g-this.frequency.getTicksAtTime(h.time),x=Math.ceil(_)-_;x=Vr(x,1)?0:x;let M=this.frequency.getTimeOfTick(g+x);for(;M\u003ci;){try{u(M,Math.round(this.getTicksAtTime(M)))}catch(N){f=N;break}M+=this.frequency.getDurationOfTicks(1,M)}}if(f)throw f;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class js extends ln{constructor(){super(V(js.getDefaults(),arguments,[\"callback\",\"frequency\"])),this.name=\"Clock\",this.callback=rt,this._lastUpdate=0,this._state=new ji(\"stopped\"),this._boundLoop=this._loop.bind(this);let t=V(js.getDefaults(),arguments,[\"callback\",\"frequency\"]);this.callback=t.callback,this._tickSource=new Pl({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ie(this,\"frequency\"),this._state.setStateAtTime(\"stopped\",0),this.context.on(\"tick\",this._boundLoop)}static getDefaults(){return Object.assign(ln.getDefaults(),{callback:rt,frequency:1,units:\"hertz\"})}get state(){return this._state.getValueAtTime(this.now())}start(t,i){Jf(this.context);let u=this.toSeconds(t);return this.log(\"start\",u),this._state.getValueAtTime(u)!==\"started\"\u0026\u0026(this._state.setStateAtTime(\"started\",u),this._tickSource.start(u,i),u\u003cthis._lastUpdate\u0026\u0026this.emit(\"start\",u,i)),this}stop(t){let i=this.toSeconds(t);return this.log(\"stop\",i),this._state.cancel(i),this._state.setStateAtTime(\"stopped\",i),this._tickSource.stop(i),i\u003cthis._lastUpdate\u0026\u0026this.emit(\"stop\",i),this}pause(t){let i=this.toSeconds(t);return this._state.getValueAtTime(i)===\"started\"\u0026\u0026(this._state.setStateAtTime(\"paused\",i),this._tickSource.pause(i),i\u003cthis._lastUpdate\u0026\u0026this.emit(\"pause\",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,i){return this._tickSource.setTicksAtTime(t,i),this}getTimeOfTick(t,i=this.now()){return this._tickSource.getTimeOfTick(t,i)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,i){let u=this.toSeconds(i),h=this.getTicksAtTime(u);return this._tickSource.getTimeOfTick(h+t,u)}_loop(){let t=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log(\"loop\",t,i),t!==i\u0026\u0026(this._state.forEachBetween(t,i,u=\u003e{switch(u.state){case\"started\":let h=this._tickSource.getTicksAtTime(u.time);this.emit(\"start\",u.time,h);break;case\"stopped\":u.time!==0\u0026\u0026this.emit(\"stop\",u.time);break;case\"paused\":this.emit(\"pause\",u.time)}}),this._tickSource.forEachTickBetween(t,i,(u,h)=\u003e{this.callback(u,h)}))}getStateAtTime(t){let i=this.toSeconds(t);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off(\"tick\",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Oi.mixin(js);class Ln extends ye{constructor(){super(V(Ln.getDefaults(),arguments,[\"delayTime\",\"maxDelay\"])),this.name=\"Delay\";let t=V(Ln.getDefaults(),arguments,[\"delayTime\",\"maxDelay\"]),i=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(i,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(i),this.delayTime=new Ue({context:this.context,param:this._delayNode.delayTime,units:\"time\",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Ie(this,\"delayTime\")}static getDefaults(){return Object.assign(ye.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function h5(l,t,i=2,u=Pt().sampleRate){return Nt(this,void 0,void 0,function*(){let h=Pt(),f=new Ai(i,t,u);ql(f),yield l(f);let m=f.render();ql(h);let g=yield m;return new ut(g)})}class Ii extends Na{constructor(){super(),this.name=\"ToneAudioBuffers\",this._buffers=new Map,this._loadingCount=0;let t=V(Ii.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(i=\u003e{this._loadingCount++;let u=t.urls[i];this.add(i,u,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:\"\",onerror:rt,onload:rt,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Ae(this.has(t),\"ToneAudioBuffers has no buffer named: \"+t),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0\u0026\u0026t\u0026\u0026t()}get loaded(){return Array.from(this._buffers).every(([t,i])=\u003ei.loaded)}add(t,i,u=rt,h=rt){return yr(i)?this._buffers.set(t.toString(),new ut(this.baseUrl+i,u,h)):this._buffers.set(t.toString(),new ut(i,u,h)),this}dispose(){return super.dispose(),this._buffers.forEach(t=\u003et.dispose()),this._buffers.clear(),this}}class Fi extends jn{constructor(){super(...arguments),this.name=\"MidiClass\",this.defaultUnits=\"midi\"}_frequencyToUnits(t){return Xa(super._frequencyToUnits(t))}_ticksToUnits(t){return Xa(super._ticksToUnits(t))}_beatsToUnits(t){return Xa(super._beatsToUnits(t))}_secondsToUnits(t){return Xa(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return am(this.toMidi())}transpose(t){return new Fi(this.context,this.toMidi()+t)}}function p5(l,t){return new Fi(Pt(),l,t)}class wt extends Kt{constructor(){super(...arguments),this.name=\"Ticks\",this.defaultUnits=\"i\"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function d5(l,t){return new wt(Pt(),l,t)}class f5 extends ln{constructor(){super(...arguments),this.name=\"Draw\",this.expiration=.25,this.anticipation=.008,this._events=new Lr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,i){return this._events.add({callback:t,time:this.toSeconds(i)}),this._events.length===1\u0026\u0026(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){let t=this.context.currentTime;for(;this._events.length\u0026\u0026this._events.peek().time-this.anticipation\u003c=t;){let i=this._events.shift();i\u0026\u0026t-i.time\u003c=this.expiration\u0026\u0026i.callback()}this._events.length\u003e0\u0026\u0026(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}kl(l=\u003e{l.draw=new f5({context:l})}),Nl(l=\u003e{l.draw.dispose()});class dx extends Na{constructor(){super(...arguments),this.name=\"IntervalTimeline\",this._root=null,this._length=0}add(t){Ae(Je(t.time),\"Events must have a time property\"),Ae(Je(t.duration),\"Events must have a duration parameter\"),t.time=t.time.valueOf();let i=new m5(t.time,t.time+t.duration,t);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(t){if(this._root!==null){let i=[];this._root.search(t.time,i);for(let u of i)if(u.event===t){this._removeNode(u),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,i=\u003ethis.remove(i)),this}_setRoot(t){this._root=t,this._root!==null\u0026\u0026(this._root.parent=null)}_replaceNodeInParent(t,i){t.parent!==null?(t.isLeftChild()?t.parent.left=i:t.parent.right=i,this._rebalance(t.parent)):this._setRoot(i)}_removeNode(t){if(t.left===null\u0026\u0026t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{let i,u=null;if(t.getBalance()\u003e0)if(t.left.right===null)i=t.left,i.right=t.right,u=i;else{for(i=t.left.right;i.right!==null;)i=i.right;i.parent\u0026\u0026(i.parent.right=i.left,u=i.parent,i.left=t.left,i.right=t.right)}else if(t.right.left===null)i=t.right,i.left=t.left,u=i;else{for(i=t.right.left;i.left!==null;)i=i.left;i.parent\u0026\u0026(i.parent.left=i.right,u=i.parent,i.left=t.left,i.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=i:t.parent.right=i:this._setRoot(i),u\u0026\u0026this._rebalance(u)}t.dispose()}_rotateLeft(t){let i=t.parent,u=t.isLeftChild(),h=t.right;h\u0026\u0026(t.right=h.left,h.left=t),i!==null?u?i.left=h:i.right=h:this._setRoot(h)}_rotateRight(t){let i=t.parent,u=t.isLeftChild(),h=t.left;h\u0026\u0026(t.left=h.right,h.right=t),i!==null?u?i.left=h:i.right=h:this._setRoot(h)}_rebalance(t){let i=t.getBalance();i\u003e1\u0026\u0026t.left?t.left.getBalance()\u003c0?this._rotateLeft(t.left):this._rotateRight(t):i\u003c-1\u0026\u0026t.right\u0026\u0026(t.right.getBalance()\u003e0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){let i=[];if(this._root.search(t,i),i.length\u003e0){let u=i[0];for(let h=1;h\u003ci.length;h++)i[h].low\u003eu.low\u0026\u0026(u=i[h]);return u.event}}return null}forEach(t){if(this._root!==null){let i=[];this._root.traverse(u=\u003ei.push(u)),i.forEach(u=\u003e{u.event\u0026\u0026t(u.event)})}return this}forEachAtTime(t,i){if(this._root!==null){let u=[];this._root.search(t,u),u.forEach(h=\u003e{h.event\u0026\u0026i(h.event)})}return this}forEachFrom(t,i){if(this._root!==null){let u=[];this._root.searchAfter(t,u),u.forEach(h=\u003e{h.event\u0026\u0026i(h.event)})}return this}dispose(){return super.dispose(),this._root!==null\u0026\u0026this._root.traverse(t=\u003et.dispose()),this._root=null,this}}class m5{constructor(t,i,u){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=u,this.low=t,this.high=i,this.max=this.high}insert(t){t.low\u003c=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,i){t\u003ethis.max||(this.left!==null\u0026\u0026this.left.search(t,i),this.low\u003c=t\u0026\u0026this.high\u003et\u0026\u0026i.push(this),this.low\u003et||this.right!==null\u0026\u0026this.right.search(t,i))}searchAfter(t,i){this.low\u003e=t\u0026\u0026(i.push(this),this.left!==null\u0026\u0026this.left.searchAfter(t,i)),this.right!==null\u0026\u0026this.right.searchAfter(t,i)}traverse(t){t(this),this.left!==null\u0026\u0026this.left.traverse(t),this.right!==null\u0026\u0026this.right.traverse(t)}updateHeight(){this.left!==null\u0026\u0026this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null\u0026\u0026(this.max=Math.max(this.max,this.left.max)),this.right!==null\u0026\u0026(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null\u0026\u0026this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null\u0026\u0026(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null\u0026\u0026this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null\u0026\u0026(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null\u0026\u0026(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Qr extends ye{constructor(){super(V(Qr.getDefaults(),arguments,[\"volume\"])),this.name=\"Volume\";let t=V(Qr.getDefaults(),arguments,[\"volume\"]);this.input=this.output=new Ce({context:this.context,gain:t.volume,units:\"decibels\"}),this.volume=this.output.gain,Ie(this,\"volume\"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(ye.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute\u0026\u0026t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute\u0026\u0026!t\u0026\u0026(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Ol extends ye{constructor(){super(V(Ol.getDefaults(),arguments)),this.name=\"Destination\",this.input=new Qr({context:this.context}),this.output=new Ce({context:this.context}),this.volume=this.input.volume;let t=V(Ol.getDefaults(),arguments);ar(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ye.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),ar(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}kl(l=\u003e{l.destination=new Ol({context:l})}),Nl(l=\u003e{l.destination.dispose()});class v5 extends Na{constructor(t){super(),this.name=\"TimelineValue\",this._timeline=new Lr({memory:10}),this._initialValue=t}set(t,i){return this._timeline.add({value:t,time:i}),this}get(t){let i=this._timeline.get(t);return i?i.value:this._initialValue}}class Za{constructor(t,i){this.id=Za._eventId++;let u=Object.assign(Za.getDefaults(),i);this.transport=t,this.callback=u.callback,this._once=u.once,this.time=u.time}static getDefaults(){return{callback:rt,once:!1,time:0}}invoke(t){this.callback\u0026\u0026(this.callback(t),this._once\u0026\u0026this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Za._eventId=0;class om extends Za{constructor(t,i){super(t,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);let u=Object.assign(om.getDefaults(),i);this.duration=new wt(t.context,u.duration).valueOf(),this._interval=new wt(t.context,u.interval).valueOf(),this._nextTick=u.time,this.transport.on(\"start\",this._boundRestart),this.transport.on(\"loopStart\",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Za.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){let i=this.transport.getTicksAtTime(t);i\u003e=this.time\u0026\u0026i\u003e=this._nextTick\u0026\u0026this._nextTick+this._interval\u003cthis.time+this.duration\u0026\u0026(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new wt(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;let i=this.transport.getTicksAtTime(t);i\u003ethis.time\u0026\u0026(this._nextTick=this.time+Math.ceil((i-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new wt(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new wt(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off(\"start\",this._boundRestart),this.transport.off(\"loopStart\",this._boundRestart),this}}class yu extends ln{constructor(){super(V(yu.getDefaults(),arguments)),this.name=\"Transport\",this._loop=new v5(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Lr,this._repeatedEvents=new dx,this._syncedSignals=[],this._swingAmount=0;let t=V(yu.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new js({callback:this._processTick.bind(this),context:this.context,frequency:0,units:\"bpm\"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Ie(this,\"bpm\"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(ln.getDefaults(),{bpm:120,loopEnd:\"4m\",loopStart:0,ppq:192,swing:0,swingSubdivision:\"8n\",timeSignature:4})}_processTick(t,i){if(this._loop.get(t)\u0026\u0026i\u003e=this._loopEnd\u0026\u0026(this.emit(\"loopEnd\",t),this._clock.setTicksAtTime(this._loopStart,t),i=this._loopStart,this.emit(\"loopStart\",t,this._clock.getSecondsAtTime(t)),this.emit(\"loop\",t)),this._swingAmount\u003e0\u0026\u0026i%this._ppq!=0\u0026\u0026i%(2*this._swingTicks)!=0){let u=i%(2*this._swingTicks)/(2*this._swingTicks),h=Math.sin(u*Math.PI)*this._swingAmount;t+=new wt(this.context,2*this._swingTicks/3).toSeconds()*h}this._timeline.forEachAtTime(i,u=\u003eu.invoke(t))}schedule(t,i){let u=new Za(this,{callback:t,time:new Kt(this.context,i).toTicks()});return this._addEvent(u,this._timeline)}scheduleRepeat(t,i,u,h=1/0){let f=new om(this,{callback:t,duration:new rr(this.context,h).toTicks(),interval:new rr(this.context,i).toTicks(),time:new Kt(this.context,u).toTicks()});return this._addEvent(f,this._repeatedEvents)}scheduleOnce(t,i){let u=new Za(this,{callback:t,once:!0,time:new Kt(this.context,i).toTicks()});return this._addEvent(u,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){let i=this._scheduledEvents[t.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,i){return this._scheduledEvents[t.id.toString()]={event:t,timeline:i},i.add(t),t.id}cancel(t=0){let i=this.toTicks(t);return this._timeline.forEachFrom(i,u=\u003ethis.clear(u.id)),this._repeatedEvents.forEachFrom(i,u=\u003ethis.clear(u.id)),this}_bindClockEvents(){this._clock.on(\"start\",(t,i)=\u003e{i=new wt(this.context,i).toSeconds(),this.emit(\"start\",t,i)}),this._clock.on(\"stop\",t=\u003e{this.emit(\"stop\",t)}),this._clock.on(\"pause\",t=\u003e{this.emit(\"pause\",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,i){let u;return Je(i)\u0026\u0026(u=this.toTicks(i)),this._clock.start(t,u),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!==\"started\"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){_n(t)\u0026\u0026(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new rr(this.context,this._loopStart,\"i\").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new rr(this.context,this._loopEnd,\"i\").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,i){return this.loopStart=t,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new wt(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){let t=this.now(),i=this._clock.getTicksAtTime(t);return new wt(this.context,i).toBarsBeatsSixteenths()}set position(t){let i=this.toTicks(t);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(t){let i=this.now(),u=this._clock.frequency.timeToTicks(t,i);this.ticks=u}get progress(){if(this.loop){let t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){let i=this.now();if(this.state===\"started\"){let u=this._clock.getTicksAtTime(i),h=i+this._clock.frequency.getDurationOfTicks(Math.ceil(u)-u,i);this.emit(\"stop\",h),this._clock.setTicksAtTime(t,h),this.emit(\"start\",h,this._clock.getSecondsAtTime(h))}else this._clock.setTicksAtTime(t,i)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!==\"started\")return 0;{let i=this.now(),u=t-this.getTicksAtTime(i)%t;return this._clock.nextTickTime(u,i)}}syncSignal(t,i){if(!i){let h=this.now();if(t.getValueAtTime(h)!==0){let f=1/(60/this.bpm.getValueAtTime(h)/this.PPQ);i=t.getValueAtTime(h)/f}else i=0}let u=new Ce(i);return this.bpm.connect(u),u.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:u,signal:t}),t.value=0,this}unsyncSignal(t){for(let i=this._syncedSignals.length-1;i\u003e=0;i--){let u=this._syncedSignals[i];u.signal===t\u0026\u0026(u.ratio.dispose(),u.signal.value=u.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),fu(this,\"bpm\"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Oi.mixin(yu),kl(l=\u003e{l.transport=new yu({context:l})}),Nl(l=\u003e{l.transport.dispose()});class Wt extends ye{constructor(t){super(t),this.input=void 0,this._state=new ji(\"stopped\"),this._synced=!1,this._scheduled=[],this._syncedStart=rt,this._syncedStop=rt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Qr({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Ie(this,\"volume\"),this.onstop=t.onstop}static getDefaults(){return Object.assign(ye.getDefaults(),{mute:!1,onstop:rt,volume:0})}get state(){return this._synced?this.context.transport.state===\"started\"?this._state.getValueAtTime(this.context.transport.seconds):\"stopped\":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,i,u){let h=Fn(t)\u0026\u0026this._synced?this.context.transport.seconds:this.toSeconds(t);if(h=this._clampToCurrentTime(h),this._synced||this._state.getValueAtTime(h)!==\"started\")if(this.log(\"start\",h),this._state.setStateAtTime(\"started\",h),this._synced){let f=this._state.get(h);f\u0026\u0026(f.offset=this.toSeconds(br(i,0)),f.duration=u?this.toSeconds(u):void 0);let m=this.context.transport.schedule(g=\u003e{this._start(g,i,u)},h);this._scheduled.push(m),this.context.transport.state===\"started\"\u0026\u0026this.context.transport.getSecondsAtTime(this.immediate())\u003eh\u0026\u0026this._syncedStart(this.now(),this.context.transport.seconds)}else Jf(this.context),this._start(h,i,u);else Ae(xl(h,this._state.get(h).time),\"Start time must be strictly greater than previous start time\"),this._state.cancel(h),this._state.setStateAtTime(\"started\",h),this.log(\"restart\",h),this.restart(h,i,u);return this}stop(t){let i=Fn(t)\u0026\u0026this._synced?this.context.transport.seconds:this.toSeconds(t);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)===\"started\"||Je(this._state.getNextState(\"started\",i))){if(this.log(\"stop\",i),this._synced){let u=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(u)}else this._stop(i);this._state.cancel(i),this._state.setStateAtTime(\"stopped\",i)}return this}restart(t,i,u){return t=this.toSeconds(t),this._state.getValueAtTime(t)===\"started\"\u0026\u0026(this._state.cancel(t),this._restart(t,i,u)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,i)=\u003e{if(i\u003e0){let u=this._state.get(i);if(u\u0026\u0026u.state===\"started\"\u0026\u0026u.time!==i){let h=i-this.toSeconds(u.time),f;u.duration\u0026\u0026(f=this.toSeconds(u.duration)-h),this._start(t,this.toSeconds(u.offset)+h,f)}}},this._syncedStop=t=\u003e{let i=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(i)===\"started\"\u0026\u0026this._stop(t)},this.context.transport.on(\"start\",this._syncedStart),this.context.transport.on(\"loopStart\",this._syncedStart),this.context.transport.on(\"stop\",this._syncedStop),this.context.transport.on(\"pause\",this._syncedStop),this.context.transport.on(\"loopEnd\",this._syncedStop)),this}unsync(){return this._synced\u0026\u0026(this.context.transport.off(\"stop\",this._syncedStop),this.context.transport.off(\"pause\",this._syncedStop),this.context.transport.off(\"loopEnd\",this._syncedStop),this.context.transport.off(\"start\",this._syncedStart),this.context.transport.off(\"loopStart\",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=\u003ethis.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=rt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class wa extends Di{constructor(){super(V(wa.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"ToneBufferSource\",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;let t=V(wa.getDefaults(),arguments,[\"url\",\"onload\"]);Vn(this._source,this._gainNode),this._source.onended=()=\u003ethis._stopSource(),this.playbackRate=new Ue({context:this.context,param:this._source.playbackRate,units:\"positive\",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new ut(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Di.getDefaults(),{url:new ut,loop:!1,loopEnd:0,loopStart:0,onload:rt,onerror:rt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,i,u,h=1){Ae(this.buffer.loaded,\"buffer is either not set or not loaded\");let f=this.toSeconds(t);this._startGain(f,h),i=this.loop?br(i,this.loopStart):br(i,0);let m=Math.max(this.toSeconds(i),0);if(this.loop){let g=this.toSeconds(this.loopEnd)||this.buffer.duration,_=this.toSeconds(this.loopStart),x=g-_;nm(m,g)\u0026\u0026(m=(m-_)%x+_),Vr(m,this.buffer.duration)\u0026\u0026(m=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ox(m,this.buffer.duration)\u0026\u0026(this._sourceStarted=!0,this._source.start(f,m)),Je(u)){let g=this.toSeconds(u);g=Math.max(g,0),this.stop(f+g)}return this}_stopSource(t){!this._sourceStopped\u0026\u0026this._sourceStarted\u0026\u0026(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted\u0026\u0026this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class qa extends Wt{constructor(){super(V(qa.getDefaults(),arguments,[\"type\"])),this.name=\"Noise\",this._source=null;let t=V(qa.getDefaults(),arguments,[\"type\"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Wt.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:\"white\"})}get type(){return this._type}set type(t){if(Ae(t in fx,\"Noise: invalid type: \"+t),this._type!==t\u0026\u0026(this._type=t,this.state===\"started\")){let i=this.now();this._stop(i),this._start(i)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source\u0026\u0026(this._source.playbackRate.value=t)}_start(t){let i=fx[this._type];this._source=new wa({url:i,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=\u003ethis.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(i.duration-.001))}_stop(t){this._source\u0026\u0026(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source\u0026\u0026(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source\u0026\u0026(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source\u0026\u0026this._source.disconnect(),this}}let Ta={brown:null,pink:null,white:null},fx={get brown(){if(!Ta.brown){let l=[];for(let t=0;t\u003c2;t++){let i=new Float32Array(220500);l[t]=i;let u=0;for(let h=0;h\u003c220500;h++){let f=2*Math.random()-1;i[h]=(u+.02*f)/1.02,u=i[h],i[h]*=3.5}}Ta.brown=new ut().fromArray(l)}return Ta.brown},get pink(){if(!Ta.pink){let l=[];for(let t=0;t\u003c2;t++){let i=new Float32Array(220500),u,h,f,m,g,_,x;l[t]=i,u=h=f=m=g=_=x=0;for(let M=0;M\u003c220500;M++){let N=2*Math.random()-1;u=.99886*u+.0555179*N,h=.99332*h+.0750759*N,f=.969*f+.153852*N,m=.8665*m+.3104856*N,g=.55*g+.5329522*N,_=-.7616*_-.016898*N,i[M]=u+h+f+m+g+_+x+.5362*N,i[M]*=.11,x=.115926*N}}Ta.pink=new ut().fromArray(l)}return Ta.pink},get white(){if(!Ta.white){let l=[];for(let t=0;t\u003c2;t++){let i=new Float32Array(220500);l[t]=i;for(let u=0;u\u003c220500;u++)i[u]=2*Math.random()-1}Ta.white=new ut().fromArray(l)}return Ta.white}};class Vi extends ye{constructor(){super(V(Vi.getDefaults(),arguments,[\"volume\"])),this.name=\"UserMedia\";let t=V(Vi.getDefaults(),arguments,[\"volume\"]);this._volume=this.output=new Qr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ie(this,\"volume\"),this.mute=t.mute}static getDefaults(){return Object.assign(ye.getDefaults(),{mute:!1,volume:0})}open(t){return Nt(this,void 0,void 0,function*(){Ae(Vi.supported,\"UserMedia is not supported\"),this.state===\"started\"\u0026\u0026this.close();let i=yield Vi.enumerateDevices();nr(t)?this._device=i[t]:(this._device=i.find(f=\u003ef.label===t||f.deviceId===t),!this._device\u0026\u0026i.length\u003e0\u0026\u0026(this._device=i[0]),Ae(Je(this._device),\"No matching device \"+t));let u={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device\u0026\u0026(u.audio.deviceId=this._device.deviceId);let h=yield navigator.mediaDevices.getUserMedia(u);if(!this._stream){this._stream=h;let f=this.context.createMediaStreamSource(h);Vn(f,this.output),this._mediaStream=f}return this})}close(){return this._stream\u0026\u0026this._mediaStream\u0026\u0026(this._stream.getAudioTracks().forEach(t=\u003e{t.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return Nt(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(t=\u003et.kind===\"audioinput\")})}get state(){return this._stream\u0026\u0026this._stream.active?\"started\":\"stopped\"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return Je(navigator.mediaDevices)\u0026\u0026Je(navigator.mediaDevices.getUserMedia)}}function Ds(l,t){return Nt(this,void 0,void 0,function*(){let i=t/l.context.sampleRate,u=new Ai(1,i,l.context.sampleRate);return new l.constructor(Object.assign(l.get(),{frequency:2/i,detune:0,context:u})).toDestination().start(0),(yield u.render()).getChannelData(0)})}class Li extends Di{constructor(){super(V(Li.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"ToneOscillatorNode\",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];let t=V(Li.getDefaults(),arguments,[\"frequency\",\"type\"]);Vn(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Ue({context:this.context,param:this._oscillator.frequency,units:\"frequency\",value:t.frequency}),this.detune=new Ue({context:this.context,param:this._oscillator.detune,units:\"cents\",value:t.detune}),Ie(this,[\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(Di.getDefaults(),{detune:0,frequency:440,type:\"sine\"})}start(t){let i=this.toSeconds(t);return this.log(\"start\",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state===\"started\"\u0026\u0026this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ot extends Wt{constructor(){super(V(Ot.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"Oscillator\",this._oscillator=null;let t=V(Ot.getDefaults(),arguments,[\"frequency\",\"type\"]);this.frequency=new We({context:this.context,units:\"frequency\",value:t.frequency}),Ie(this,\"frequency\"),this.detune=new We({context:this.context,units:\"cents\",value:t.detune}),Ie(this,\"detune\"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount\u0026\u0026t.type!==\"custom\"\u0026\u0026(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Wt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:\"sine\"})}_start(t){let i=this.toSeconds(t),u=new Li({context:this.context,onended:()=\u003ethis.onstop(this)});this._oscillator=u,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(t){let i=this.toSeconds(t);this._oscillator\u0026\u0026this._oscillator.stop(i)}_restart(t){let i=this.toSeconds(t);return this.log(\"restart\",i),this._oscillator\u0026\u0026this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type===\"custom\")return Ot._periodicWaveCache.find(t=\u003e{return t.phase===this._phase\u0026\u0026(i=t.partials,u=this._partials,i.length===u.length\u0026\u0026i.every((h,f)=\u003eu[f]===h));var i,u});{let t=Ot._periodicWaveCache.find(i=\u003ei.type===this._type\u0026\u0026i.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;let i=[\"sine\",\"square\",\"sawtooth\",\"triangle\"].indexOf(t)!==-1;if(this._phase===0\u0026\u0026i)this._wave=void 0,this._partialCount=0,this._oscillator!==null\u0026\u0026(this._oscillator.type=t);else{let u=this._getCachedPeriodicWave();if(Je(u)){let{partials:h,wave:f}=u;this._wave=f,this._partials=h,this._oscillator!==null\u0026\u0026this._oscillator.setPeriodicWave(this._wave)}else{let[h,f]=this._getRealImaginary(t,this._phase),m=this.context.createPeriodicWave(h,f);this._wave=m,this._oscillator!==null\u0026\u0026this._oscillator.setPeriodicWave(this._wave),Ot._periodicWaveCache.push({imag:f,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:h,type:this._type,wave:this._wave}),Ot._periodicWaveCache.length\u003e100\u0026\u0026Ot._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),\"\")}set baseType(t){this.partialCount\u0026\u0026this._type!==\"custom\"\u0026\u0026t!==\"custom\"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){yn(t,0);let i=this._type,u=/^(sine|triangle|square|sawtooth)(\\d+)$/.exec(this._type);if(u\u0026\u0026(i=u[1]),this._type!==\"custom\")this.type=t===0?i:i+t.toString();else{let h=new Float32Array(t);this._partials.forEach((f,m)=\u003eh[m]=f),this._partials=Array.from(h),this.type=this._type}}_getRealImaginary(t,i){let u=2048,h=new Float32Array(u),f=new Float32Array(u),m=1;if(t===\"custom\"){if(m=this._partials.length+1,this._partialCount=this._partials.length,u=m,this._partials.length===0)return[h,f]}else{let g=/^(sine|triangle|square|sawtooth)(\\d+)$/.exec(t);g?(m=parseInt(g[2],10)+1,this._partialCount=parseInt(g[2],10),t=g[1],m=Math.max(m,2),u=m):this._partialCount=0,this._partials=[]}for(let g=1;g\u003cu;++g){let _=2/(g*Math.PI),x;switch(t){case\"sine\":x=g\u003c=m?1:0,this._partials[g-1]=x;break;case\"square\":x=1\u0026g?2*_:0,this._partials[g-1]=x;break;case\"sawtooth\":x=_*(1\u0026g?1:-1),this._partials[g-1]=x;break;case\"triangle\":x=1\u0026g?_*_*2*(g-1\u003e\u003e1\u00261?-1:1):0,this._partials[g-1]=x;break;case\"custom\":x=this._partials[g-1];break;default:throw new TypeError(\"Oscillator: invalid type: \"+t)}x!==0?(h[g]=-x*Math.sin(i*g),f[g]=x*Math.cos(i*g)):(h[g]=0,f[g]=0)}return[h,f]}_inverseFFT(t,i,u){let h=0,f=t.length;for(let m=0;m\u003cf;m++)h+=t[m]*Math.cos(m*u)+i[m]*Math.sin(m*u);return h}getInitialValue(){let[t,i]=this._getRealImaginary(this._type,0),u=0,h=2*Math.PI;for(let f=0;f\u003c32;f++)u=Math.max(this._inverseFFT(t,i,f/32*h),u);return ux(-this._inverseFFT(t,i,this._phase)/u,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length\u0026\u0026(this.type=\"custom\")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Nt(this,void 0,void 0,function*(){return Ds(this,t)})}dispose(){return super.dispose(),this._oscillator!==null\u0026\u0026this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ot._periodicWaveCache=[];class sr extends ye{constructor(){super(Object.assign(V(sr.getDefaults(),arguments,[\"context\"])))}connect(t,i=0,u=0){return gu(this,t,i,u),this}}class xr extends sr{constructor(){super(Object.assign(V(xr.getDefaults(),arguments,[\"mapping\",\"length\"]))),this.name=\"WaveShaper\",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;let t=V(xr.getDefaults(),arguments,[\"mapping\",\"length\"]);_n(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):sx(t.mapping)\u0026\u0026this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(We.getDefaults(),{length:1024})}setMap(t,i=1024){let u=new Float32Array(i);for(let h=0,f=i;h\u003cf;h++){let m=h/(f-1)*2-1;u[h]=t(m,h)}return this.curve=u,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Ae([\"none\",\"2x\",\"4x\"].some(i=\u003ei.includes(t)),\"oversampling must be either 'none', '2x', or '4x'\"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Cl extends sr{constructor(){super(...arguments),this.name=\"AudioToGain\",this._norm=new xr({context:this.context,mapping:t=\u003e(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ct extends We{constructor(){super(Object.assign(V(Ct.getDefaults(),arguments,[\"value\"]))),this.name=\"Multiply\",this.override=!1;let t=V(Ct.getDefaults(),arguments,[\"value\"]);this._mult=this.input=this.output=new Ce({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(We.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Wi extends Wt{constructor(){super(V(Wi.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"])),this.name=\"AMOscillator\",this._modulationScale=new Cl({context:this.context}),this._modulationNode=new Ce({context:this.context});let t=V(Wi.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"]);this._carrier=new Ot({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=\u003ethis.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ot({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Ct({context:this.context,units:\"positive\",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ie(this,[\"frequency\",\"detune\",\"harmonicity\"])}static getDefaults(){return Object.assign(Ot.getDefaults(),{harmonicity:1,modulationType:\"square\"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Nt(this,void 0,void 0,function*(){return Ds(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Is extends Wt{constructor(){super(V(Is.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"])),this.name=\"FMOscillator\",this._modulationNode=new Ce({context:this.context,gain:0});let t=V(Is.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"]);this._carrier=new Ot({context:this.context,detune:t.detune,frequency:0,onstop:()=\u003ethis.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new We({context:this.context,units:\"frequency\",value:t.frequency}),this._modulator=new Ot({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Ct({context:this.context,units:\"positive\",value:t.harmonicity}),this.modulationIndex=new Ct({context:this.context,units:\"positive\",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ie(this,[\"modulationIndex\",\"frequency\",\"detune\",\"harmonicity\"])}static getDefaults(){return Object.assign(Ot.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:\"square\"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Nt(this,void 0,void 0,function*(){return Ds(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Fs extends Wt{constructor(){super(V(Fs.getDefaults(),arguments,[\"frequency\",\"width\"])),this.name=\"PulseOscillator\",this._widthGate=new Ce({context:this.context,gain:0}),this._thresh=new xr({context:this.context,mapping:i=\u003ei\u003c=0?-1:1});let t=V(Fs.getDefaults(),arguments,[\"frequency\",\"width\"]);this.width=new We({context:this.context,units:\"audioRange\",value:t.width}),this._triangle=new Ot({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=\u003ethis.onstop(this),phase:t.phase,type:\"triangle\"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ie(this,[\"width\",\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(Wt.getDefaults(),{detune:0,frequency:440,phase:0,type:\"pulse\",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return\"pulse\"}get baseType(){return\"pulse\"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Nt(this,void 0,void 0,function*(){return Ds(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Bi extends Wt{constructor(){super(V(Bi.getDefaults(),arguments,[\"frequency\",\"type\",\"spread\"])),this.name=\"FatOscillator\",this._oscillators=[];let t=V(Bi.getDefaults(),arguments,[\"frequency\",\"type\",\"spread\"]);this.frequency=new We({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new We({context:this.context,units:\"cents\",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Ie(this,[\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(Ot.getDefaults(),{count:3,spread:20,type:\"sawtooth\"})}_start(t){t=this.toSeconds(t),this._forEach(i=\u003ei.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(i=\u003ei.stop(t))}_restart(t){this._forEach(i=\u003ei.restart(t))}_forEach(t){for(let i=0;i\u003cthis._oscillators.length;i++)t(this._oscillators[i],i)}get type(){return this._type}set type(t){this._type=t,this._forEach(i=\u003ei.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length\u003e1){let i=-t/2,u=t/(this._oscillators.length-1);this._forEach((h,f)=\u003eh.detune.value=i+u*f)}}get count(){return this._oscillators.length}set count(t){if(yn(t,1),this._oscillators.length!==t){this._forEach(i=\u003ei.dispose()),this._oscillators=[];for(let i=0;i\u003ct;i++){let u=new Ot({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+i/t*360,partialCount:this._partialCount,onstop:i===0?()=\u003ethis.onstop(this):rt});this.type===\"custom\"\u0026\u0026(u.partials=this._partials),this.frequency.connect(u.frequency),this.detune.connect(u.detune),u.detune.overridden=!1,u.connect(this.output),this._oscillators[i]=u}this.spread=this._spread,this.state===\"started\"\u0026\u0026this._forEach(i=\u003ei.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((i,u)=\u003ei.phase=this._phase+u/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(i=\u003ei.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length\u0026\u0026(this._type=\"custom\",this._forEach(i=\u003ei.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(i=\u003ei.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return Nt(this,void 0,void 0,function*(){return Ds(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=\u003et.dispose()),this}}class zi extends Wt{constructor(){super(V(zi.getDefaults(),arguments,[\"frequency\",\"modulationFrequency\"])),this.name=\"PWMOscillator\",this.sourceType=\"pwm\",this._scale=new Ct({context:this.context,value:2});let t=V(zi.getDefaults(),arguments,[\"frequency\",\"modulationFrequency\"]);this._pulse=new Fs({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType=\"sine\",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ot({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=\u003ethis.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ie(this,[\"modulationFrequency\",\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(Wt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:\"pwm\"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return\"pwm\"}get baseType(){return\"pwm\"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Nt(this,void 0,void 0,function*(){return Ds(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}let mx={am:Wi,fat:Bi,fm:Is,oscillator:Ot,pulse:Fs,pwm:zi};class Jr extends Wt{constructor(){super(V(Jr.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"OmniOscillator\";let t=V(Jr.getDefaults(),arguments,[\"frequency\",\"type\"]);this.frequency=new We({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new We({context:this.context,units:\"cents\",value:t.detune}),Ie(this,[\"frequency\",\"detune\"]),this.set(t)}static getDefaults(){return Object.assign(Ot.getDefaults(),Is.getDefaults(),Wi.getDefaults(),Bi.getDefaults(),Fs.getDefaults(),zi.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t=\"\";return[\"am\",\"fm\",\"fat\"].some(i=\u003ethis._sourceType===i)\u0026\u0026(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)===\"fm\"?(this._createNewOscillator(\"fm\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)===\"am\"?(this._createNewOscillator(\"am\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)===\"fat\"?(this._createNewOscillator(\"fat\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t===\"pwm\"?(this._createNewOscillator(\"pwm\"),this._oscillator=this._oscillator):t===\"pulse\"?this._createNewOscillator(\"pulse\"):(this._createNewOscillator(\"oscillator\"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,\"type\")\u0026\u0026t.type\u0026\u0026(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;let i=mx[t],u=this.now();if(this._oscillator){let h=this._oscillator;h.stop(u),this.context.setTimeout(()=\u003eh.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=\u003ethis.onstop(this),this.state===\"started\"\u0026\u0026this._oscillator.start(u)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let i=\"sine\";this._oscillator.type!==\"pwm\"\u0026\u0026this._oscillator.type!==\"pulse\"\u0026\u0026(i=this._oscillator.type),t===\"fm\"?this.type=\"fm\"+i:t===\"am\"?this.type=\"am\"+i:t===\"fat\"?this.type=\"fat\"+i:t===\"oscillator\"?this.type=i:t===\"pulse\"?this.type=\"pulse\":t===\"pwm\"\u0026\u0026(this.type=\"pwm\")}_getOscType(t,i){return t instanceof mx[i]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||t===\"pulse\"||t===\"pwm\"||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,\"pulse\")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,\"fat\")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,\"fat\")\u0026\u0026nr(t)\u0026\u0026(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,\"fat\")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,\"fat\")\u0026\u0026nr(t)\u0026\u0026(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\"))\u0026\u0026yr(t)\u0026\u0026(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,\"fm\")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,\"pwm\")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return Nt(this,void 0,void 0,function*(){return Ds(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Vs extends We{constructor(){super(Object.assign(V(Vs.getDefaults(),arguments,[\"value\"]))),this.override=!1,this.name=\"Add\",this._sum=new Ce({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,ar(this._constantSource,this._sum)}static getDefaults(){return Object.assign(We.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class ea extends sr{constructor(){super(Object.assign(V(ea.getDefaults(),arguments,[\"min\",\"max\"]))),this.name=\"Scale\";let t=V(ea.getDefaults(),arguments,[\"min\",\"max\"]);this._mult=this.input=new Ct({context:this.context,value:t.max-t.min}),this._add=this.output=new Vs({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(sr.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Al extends sr{constructor(){super(Object.assign(V(Al.getDefaults(),arguments))),this.name=\"Zero\",this._gain=new Ce({context:this.context}),this.output=this._gain,this.input=void 0,Vn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),im(this.context.getConstant(0),this._gain),this}}class Mn extends ye{constructor(){super(V(Mn.getDefaults(),arguments,[\"frequency\",\"min\",\"max\"])),this.name=\"LFO\",this._stoppedValue=0,this._units=\"number\",this.convert=!0,this._fromType=Ue.prototype._fromType,this._toType=Ue.prototype._toType,this._is=Ue.prototype._is,this._clampValue=Ue.prototype._clampValue;let t=V(Mn.getDefaults(),arguments,[\"frequency\",\"min\",\"max\"]);this._oscillator=new Ot(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Ce({context:this.context,gain:t.amplitude,units:\"normalRange\"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new We({context:this.context,units:\"audioRange\",value:0}),this._zeros=new Al({context:this.context}),this._a2g=new Cl({context:this.context}),this._scaler=this.output=new ea({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ie(this,[\"amplitude\",\"frequency\"]),this.phase=t.phase}static getDefaults(){return Object.assign(Ot.getDefaults(),{amplitude:1,frequency:\"4n\",max:1,min:0,type:\"sine\",units:\"number\"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){let i=this.min,u=this.max;this._units=t,this.min=i,this.max=u}get state(){return this._oscillator.state}connect(t,i,u){return(t instanceof Ue||t instanceof We)\u0026\u0026(this.convert=t.convert,this.units=t.units),gu(this,t,i,u),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function vx(l,t=1/0){let i=new WeakMap;return function(u,h){Reflect.defineProperty(u,h,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(f){yn(f,l,t),i.set(this,f)}})}}function Ma(l,t=1/0){let i=new WeakMap;return function(u,h){Reflect.defineProperty(u,h,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(f){yn(this.toSeconds(f),l,t),i.set(this,f)}})}}class Ls extends Wt{constructor(){super(V(Ls.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"Player\",this._activeSources=new Set;let t=V(Ls.getDefaults(),arguments,[\"url\",\"onload\"]);this._buffer=new ut({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Wt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:rt,onerror:rt,playbackRate:1,reverse:!1})}load(t){return Nt(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=rt){t(),this.autostart\u0026\u0026this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size!==0||this._synced||this._state.getValueAtTime(this.now())!==\"started\"||(this._state.cancel(this.now()),this._state.setStateAtTime(\"stopped\",this.now()))}start(t,i,u){return super.start(t,i,u),this}_start(t,i,u){i=this._loop?br(i,this._loopStart):br(i,0);let h=this.toSeconds(i),f=u;u=br(u,Math.max(this._buffer.duration-h,0));let m=this.toSeconds(u);m/=this._playbackRate,t=this.toSeconds(t);let g=new wa({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+m),this._state.setStateAtTime(\"stopped\",t+m,{implicitEnd:!0})),this._activeSources.add(g),this._loop\u0026\u0026Fn(f)?g.start(t,h):g.start(t,h,m-this.toSeconds(this.fadeOut))}_stop(t){let i=this.toSeconds(t);this._activeSources.forEach(u=\u003eu.stop(i))}restart(t,i,u){return super.restart(t,i,u),this}_restart(t,i,u){this._stop(t),this._start(t,i,u)}seek(t,i){let u=this.toSeconds(i);if(this._state.getValueAtTime(u)===\"started\"){let h=this.toSeconds(t);this._stop(u),this._start(u,h)}return this}setLoopPoints(t,i){return this.loopStart=t,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded\u0026\u0026yn(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(i=\u003e{i.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded\u0026\u0026yn(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(i=\u003e{i.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t\u0026\u0026(this._loop=t,this._activeSources.forEach(i=\u003e{i.loop=t}),t)){let i=this._state.getNextState(\"stopped\",this.now());i\u0026\u0026this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;let i=this.now(),u=this._state.getNextState(\"stopped\",i);u\u0026\u0026u.implicitEnd\u0026\u0026(this._state.cancel(u.time),this._activeSources.forEach(h=\u003eh.cancelStop())),this._activeSources.forEach(h=\u003e{h.playbackRate.setValueAtTime(t,i)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=\u003et.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Fr([Ma(0)],Ls.prototype,\"fadeIn\",void 0),Fr([Ma(0)],Ls.prototype,\"fadeOut\",void 0);class Rl extends ye{constructor(){super(V(Rl.getDefaults(),arguments,[\"urls\",\"onload\"],\"urls\")),this.name=\"Players\",this.input=void 0,this._players=new Map;let t=V(Rl.getDefaults(),arguments,[\"urls\",\"onload\"],\"urls\");this._volume=this.output=new Qr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ie(this,\"volume\"),this._buffers=new Ii({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Wt.getDefaults(),{baseUrl:\"\",fadeIn:0,fadeOut:0,mute:!1,onload:rt,onerror:rt,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach(i=\u003e{i.fadeIn=t})}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach(i=\u003e{i.fadeOut=t})}get state(){return Array.from(this._players).some(([t,i])=\u003ei.state===\"started\")?\"started\":\"stopped\"}has(t){return this._buffers.has(t)}player(t){if(Ae(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){let i=new Ls({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,i)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,i,u){return Ae(!this._buffers.has(t),\"A buffer with that name already exists on this object\"),this._buffers.add(t,i,u),this}stopAll(t){return this._players.forEach(i=\u003ei.stop(t)),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach(t=\u003et.dispose()),this._buffers.dispose(),this}}class El extends Wt{constructor(){super(V(El.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"GrainPlayer\",this._loopStart=0,this._loopEnd=0,this._activeSources=[];let t=V(El.getDefaults(),arguments,[\"url\",\"onload\"]);this.buffer=new ut({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new js({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on(\"stop\",this._onstop.bind(this))}static getDefaults(){return Object.assign(Wt.getDefaults(),{onload:rt,onerror:rt,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,i,u){i=br(i,0),i=this.toSeconds(i),t=this.toSeconds(t);let h=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,i/h),u\u0026\u0026this.stop(t+this.toSeconds(u))}restart(t,i,u){return super.restart(t,i,u),this}_restart(t,i,u){this._stop(t),this._start(t,i,u)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach(i=\u003e{i.fadeOut=0,i.stop(t)}),this.onstop(this)}_tick(t){let i=this._clock.getTicksAtTime(t),u=i*this._grainSize;if(this.log(\"offset\",u),!this.loop\u0026\u0026u\u003ethis.buffer.duration)return void this.stop(t);let h=u\u003cthis._overlap?0:this._overlap,f=new wa({context:this.context,url:this.buffer,fadeIn:h,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:Ei(this.detune/100)}).connect(this.output);f.start(t,this._grainSize*i),f.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(f),f.onended=()=\u003e{let m=this._activeSources.indexOf(f);m!==-1\u0026\u0026this._activeSources.splice(m,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){yn(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded\u0026\u0026yn(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded\u0026\u0026yn(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){let i=this.toSeconds(t);yn(i,0),this._overlap=i}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach(t=\u003et.dispose()),this}}class gx extends sr{constructor(){super(...arguments),this.name=\"Abs\",this._abs=new xr({context:this.context,mapping:t=\u003eMath.abs(t)\u003c.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class yx extends sr{constructor(){super(...arguments),this.name=\"GainToAudio\",this._norm=new xr({context:this.context,mapping:t=\u003e2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class um extends sr{constructor(){super(...arguments),this.name=\"Negate\",this._multiply=new Ct({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Ws extends We{constructor(){super(Object.assign(V(Ws.getDefaults(),arguments,[\"value\"]))),this.override=!1,this.name=\"Subtract\",this._sum=new Ce({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new um({context:this.context}),this.subtrahend=this._param,ar(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(We.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class jl extends sr{constructor(){super(Object.assign(V(jl.getDefaults(),arguments))),this.name=\"GreaterThanZero\",this._thresh=this.output=new xr({context:this.context,length:127,mapping:t=\u003et\u003c=0?0:1}),this._scale=this.input=new Ct({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class _u extends We{constructor(){super(Object.assign(V(_u.getDefaults(),arguments,[\"value\"]))),this.name=\"GreaterThan\",this.override=!1;let t=V(_u.getDefaults(),arguments,[\"value\"]);this._subtract=this.input=new Ws({context:this.context,value:t.value}),this._gtz=this.output=new jl({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Ie(this,\"comparator\"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(We.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class Gi extends sr{constructor(){super(Object.assign(V(Gi.getDefaults(),arguments,[\"value\"]))),this.name=\"Pow\";let t=V(Gi.getDefaults(),arguments,[\"value\"]);this._exponentScaler=this.input=this.output=new xr({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(sr.getDefaults(),{value:1})}_expFunc(t){return i=\u003eMath.pow(Math.abs(i),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class bu extends ea{constructor(){super(Object.assign(V(bu.getDefaults(),arguments,[\"min\",\"max\",\"exponent\"]))),this.name=\"ScaleExp\";let t=V(bu.getDefaults(),arguments,[\"min\",\"max\",\"exponent\"]);this.input=this._exp=new Gi({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(ea.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class g5 extends We{constructor(){super(V(We.getDefaults(),arguments,[\"value\",\"units\"])),this.name=\"SyncedSignal\",this.override=!1;let t=V(We.getDefaults(),arguments,[\"value\",\"units\"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),\"1i\"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on(\"start\",this._syncedCallback),this.context.transport.on(\"pause\",this._syncedCallback),this.context.transport.on(\"stop\",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new vu({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){let i=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==i\u0026\u0026(this._lastVal=i,this._constantSource.offset.setValueAtTime(i,t))}_anchorValue(t){let i=super.getValueAtTime(this.context.transport.seconds);this._lastVal=i,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(i,t)}getValueAtTime(t){let i=new Kt(this.context,t).toSeconds();return super.getValueAtTime(i)}setValueAtTime(t,i){let u=new Kt(this.context,i).toSeconds();return super.setValueAtTime(t,u),this}linearRampToValueAtTime(t,i){let u=new Kt(this.context,i).toSeconds();return super.linearRampToValueAtTime(t,u),this}exponentialRampToValueAtTime(t,i){let u=new Kt(this.context,i).toSeconds();return super.exponentialRampToValueAtTime(t,u),this}setTargetAtTime(t,i,u){let h=new Kt(this.context,i).toSeconds();return super.setTargetAtTime(t,h,u),this}cancelScheduledValues(t){let i=new Kt(this.context,t).toSeconds();return super.cancelScheduledValues(i),this}setValueCurveAtTime(t,i,u,h){let f=new Kt(this.context,i).toSeconds();return u=this.toSeconds(u),super.setValueCurveAtTime(t,f,u,h),this}cancelAndHoldAtTime(t){let i=new Kt(this.context,t).toSeconds();return super.cancelAndHoldAtTime(i),this}setRampPoint(t){let i=new Kt(this.context,t).toSeconds();return super.setRampPoint(i),this}exponentialRampTo(t,i,u){let h=new Kt(this.context,u).toSeconds();return super.exponentialRampTo(t,i,h),this}linearRampTo(t,i,u){let h=new Kt(this.context,u).toSeconds();return super.linearRampTo(t,i,h),this}targetRampTo(t,i,u){let h=new Kt(this.context,u).toSeconds();return super.targetRampTo(t,i,h),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off(\"start\",this._syncedCallback),this.context.transport.off(\"pause\",this._syncedCallback),this.context.transport.off(\"stop\",this._syncedCallback),this._constantSource.dispose(),this}}class hn extends ye{constructor(){super(V(hn.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"Envelope\",this._sig=new We({context:this.context,value:0}),this.output=this._sig,this.input=void 0;let t=V(hn.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(ye.getDefaults(),{attack:.01,attackCurve:\"linear\",decay:.1,decayCurve:\"exponential\",release:1,releaseCurve:\"exponential\",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,i){if(yr(t))return t;{let u;for(u in Dl)if(Dl[u][i]===t)return u;return t}}_setCurve(t,i,u){if(yr(u)\u0026\u0026Reflect.has(Dl,u)){let h=Dl[u];xa(h)?t!==\"_decayCurve\"\u0026\u0026(this[t]=h[i]):this[t]=h}else{if(!_n(u)||t===\"_decayCurve\")throw new Error(\"Envelope: invalid curve: \"+u);this[t]=u}}get attackCurve(){return this._getCurve(this._attackCurve,\"In\")}set attackCurve(t){this._setCurve(\"_attackCurve\",\"In\",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,\"Out\")}set releaseCurve(t){this._setCurve(\"_releaseCurve\",\"Out\",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Ae([\"linear\",\"exponential\"].some(i=\u003ei===t),\"Invalid envelope curve: \"+t),this._decayCurve=t}triggerAttack(t,i=1){this.log(\"triggerAttack\",t,i),t=this.toSeconds(t);let u=this.toSeconds(this.attack),h=this.toSeconds(this.decay),f=this.getValueAtTime(t);if(f\u003e0\u0026\u0026(u=(1-f)/(1/u)),u\u003cthis.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(i,t);else if(this._attackCurve===\"linear\")this._sig.linearRampTo(i,u,t);else if(this._attackCurve===\"exponential\")this._sig.targetRampTo(i,u,t);else{this._sig.cancelAndHoldAtTime(t);let m=this._attackCurve;for(let g=1;g\u003cm.length;g++)if(m[g-1]\u003c=f\u0026\u0026f\u003c=m[g]){m=this._attackCurve.slice(g),m[0]=f;break}this._sig.setValueCurveAtTime(m,t,u,i)}if(h\u0026\u0026this.sustain\u003c1){let m=i*this.sustain,g=t+u;this.log(\"decay\",g),this._decayCurve===\"linear\"?this._sig.linearRampToValueAtTime(m,h+g):this._sig.exponentialApproachValueAtTime(m,g,h)}return this}triggerRelease(t){this.log(\"triggerRelease\",t),t=this.toSeconds(t);let i=this.getValueAtTime(t);if(i\u003e0){let u=this.toSeconds(this.release);u\u003cthis.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve===\"linear\"?this._sig.linearRampTo(0,u,t):this._releaseCurve===\"exponential\"?this._sig.targetRampTo(0,u,t):(Ae(_n(this._releaseCurve),\"releaseCurve must be either 'linear', 'exponential' or an array\"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,u,i))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,i,u=1){return i=this.toSeconds(i),this.triggerAttack(i,u),this.triggerRelease(i+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,i=0,u=0){return gu(this,t,i,u),this}asArray(t=1024){return Nt(this,void 0,void 0,function*(){let i=t/this.context.sampleRate,u=new Ai(1,i,this.context.sampleRate),h=this.toSeconds(this.attack)+this.toSeconds(this.decay),f=h+this.toSeconds(this.release),m=.1*f,g=f+m,_=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/g,decay:i*this.toSeconds(this.decay)/g,release:i*this.toSeconds(this.release)/g,context:u}));return _._sig.toDestination(),_.triggerAttackRelease(i*(h+m)/g,0),(yield u.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Fr([Ma(0)],hn.prototype,\"attack\",void 0),Fr([Ma(0)],hn.prototype,\"decay\",void 0),Fr([vx(0,1)],hn.prototype,\"sustain\",void 0),Fr([Ma(0)],hn.prototype,\"release\",void 0);let Dl=(()=\u003e{let l,t,i=[];for(l=0;l\u003c128;l++)i[l]=Math.sin(l/127*(Math.PI/2));let u=[];for(l=0;l\u003c127;l++){t=l/127;let x=Math.sin(t*(2*Math.PI)*6.4-Math.PI/2)+1;u[l]=x/10+.83*t}u[127]=1;let h=[];for(l=0;l\u003c128;l++)h[l]=Math.ceil(l/127*5)/5;let f=[];for(l=0;l\u003c128;l++)t=l/127,f[l]=.5*(1-Math.cos(Math.PI*t));let m=[];for(l=0;l\u003c128;l++){t=l/127;let x=4*Math.pow(t,3)+.2,M=Math.cos(x*Math.PI*2*t);m[l]=Math.abs(M*(1-t))}function g(x){let M=new Array(x.length);for(let N=0;N\u003cx.length;N++)M[N]=1-x[N];return M}return{bounce:{In:g(m),Out:m},cosine:{In:i,Out:(_=i,_.slice(0).reverse())},exponential:\"exponential\",linear:\"linear\",ripple:{In:u,Out:g(u)},sine:{In:f,Out:g(f)},step:{In:h,Out:g(h)}};var _})();class ir extends ye{constructor(){super(V(ir.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;let t=V(ir.getDefaults(),arguments);this._volume=this.output=new Qr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ie(this,\"volume\")}static getDefaults(){return Object.assign(ye.getDefaults(),{volume:0})}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,i){let u=this[\"_original_\"+t]=this[t];this[t]=(...h)=\u003e{let f=h[i],m=this.context.transport.schedule(g=\u003e{h[i]=g,u.apply(this,h)},f);this._scheduledEvents.push(m)}}unsync(){return this._scheduledEvents.forEach(t=\u003ethis.context.transport.clear(t)),this._scheduledEvents=[],this._synced\u0026\u0026(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,i,u,h){let f=this.toSeconds(u),m=this.toSeconds(i);return this.triggerAttack(t,f,h),this.triggerRelease(f+m),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class xn extends ir{constructor(){super(V(xn.getDefaults(),arguments));let t=V(xn.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(ir.getDefaults(),{detune:0,onsilence:rt,portamento:0})}triggerAttack(t,i,u=1){this.log(\"triggerAttack\",t,i,u);let h=this.toSeconds(i);return this._triggerEnvelopeAttack(h,u),this.setNote(t,h),this}triggerRelease(t){this.log(\"triggerRelease\",t);let i=this.toSeconds(t);return this._triggerEnvelopeRelease(i),this}setNote(t,i){let u=this.toSeconds(i),h=t instanceof jn?t.toFrequency():t;if(this.portamento\u003e0\u0026\u0026this.getLevelAtTime(u)\u003e.05){let f=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(h,f,u)}else this.frequency.setValueAtTime(h,u);return this}}Fr([Ma(0)],xn.prototype,\"portamento\",void 0);class Ui extends hn{constructor(){super(V(Ui.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"AmplitudeEnvelope\",this._gainNode=new Ce({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Sa extends xn{constructor(){super(V(Sa.getDefaults(),arguments)),this.name=\"Synth\";let t=V(Sa.getDefaults(),arguments);this.oscillator=new Jr(Object.assign({context:this.context,detune:t.detune,onstop:()=\u003ethis.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Ui(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Ie(this,[\"oscillator\",\"frequency\",\"detune\",\"envelope\"])}static getDefaults(){return Object.assign(xn.getDefaults(),{envelope:Object.assign(bn(hn.getDefaults(),Object.keys(ye.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(bn(Jr.getDefaults(),[...Object.keys(Wt.getDefaults()),\"frequency\",\"detune\"]),{type:\"triangle\"})})}_triggerEnvelopeAttack(t,i){if(this.envelope.triggerAttack(t,i),this.oscillator.start(t),this.envelope.sustain===0){let u=this.toSeconds(this.envelope.attack),h=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+u+h)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class $i extends xn{constructor(){super(V($i.getDefaults(),arguments)),this.name=\"ModulationSynth\";let t=V($i.getDefaults(),arguments);this._carrier=new Sa({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=\u003ethis.onsilence(this),volume:-10}),this._modulator=new Sa({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new We({context:this.context,units:\"frequency\"}),this.detune=new We({context:this.context,value:t.detune,units:\"cents\"}),this.harmonicity=new Ct({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new Ce({context:this.context,gain:0}),Ie(this,[\"frequency\",\"harmonicity\",\"oscillator\",\"envelope\",\"modulation\",\"modulationEnvelope\",\"detune\"])}static getDefaults(){return Object.assign(xn.getDefaults(),{harmonicity:3,oscillator:Object.assign(bn(Jr.getDefaults(),[...Object.keys(Wt.getDefaults()),\"frequency\",\"detune\"]),{type:\"sine\"}),envelope:Object.assign(bn(hn.getDefaults(),Object.keys(ye.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(bn(Jr.getDefaults(),[...Object.keys(Wt.getDefaults()),\"frequency\",\"detune\"]),{type:\"square\"}),modulationEnvelope:Object.assign(bn(hn.getDefaults(),Object.keys(ye.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,i){this._carrier._triggerEnvelopeAttack(t,i),this._modulator._triggerEnvelopeAttack(t,i)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class cm extends $i{constructor(){super(V(cm.getDefaults(),arguments)),this.name=\"AMSynth\",this._modulationScale=new Cl({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Hi extends ye{constructor(){super(V(Hi.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"BiquadFilter\";let t=V(Hi.getDefaults(),arguments,[\"frequency\",\"type\"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Ue({context:this.context,units:\"number\",value:t.Q,param:this._filter.Q}),this.frequency=new Ue({context:this.context,units:\"frequency\",value:t.frequency,param:this._filter.frequency}),this.detune=new Ue({context:this.context,units:\"cents\",value:t.detune,param:this._filter.detune}),this.gain=new Ue({context:this.context,units:\"decibels\",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(ye.getDefaults(),{Q:1,type:\"lowpass\",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){Ae([\"lowpass\",\"highpass\",\"bandpass\",\"lowshelf\",\"highshelf\",\"notch\",\"allpass\",\"peaking\"].indexOf(t)!==-1,\"Invalid filter type: \"+t),this._filter.type=t}getFrequencyResponse(t=128){let i=new Float32Array(t);for(let m=0;m\u003ct;m++){let g=19980*Math.pow(m/t,2)+20;i[m]=g}let u=new Float32Array(t),h=new Float32Array(t),f=this.context.createBiquadFilter();return f.type=this.type,f.Q.value=this.Q.value,f.frequency.value=this.frequency.value,f.gain.value=this.gain.value,f.getFrequencyResponse(i,u,h),u}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Wn extends ye{constructor(){super(V(Wn.getDefaults(),arguments,[\"frequency\",\"type\",\"rolloff\"])),this.name=\"Filter\",this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this._filters=[];let t=V(Wn.getDefaults(),arguments,[\"frequency\",\"type\",\"rolloff\"]);this._filters=[],this.Q=new We({context:this.context,units:\"positive\",value:t.Q}),this.frequency=new We({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new We({context:this.context,units:\"cents\",value:t.detune}),this.gain=new We({context:this.context,units:\"decibels\",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,Ie(this,[\"detune\",\"frequency\",\"gain\",\"Q\"])}static getDefaults(){return Object.assign(ye.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:\"lowpass\"})}get type(){return this._type}set type(t){Ae([\"lowpass\",\"highpass\",\"bandpass\",\"lowshelf\",\"highshelf\",\"notch\",\"allpass\",\"peaking\"].indexOf(t)!==-1,\"Invalid filter type: \"+t),this._type=t,this._filters.forEach(i=\u003ei.type=t)}get rolloff(){return this._rolloff}set rolloff(t){let i=nr(t)?t:parseInt(t,10),u=[-12,-24,-48,-96],h=u.indexOf(i);Ae(h!==-1,\"rolloff can only be \"+u.join(\", \")),h+=1,this._rolloff=i,this.input.disconnect(),this._filters.forEach(f=\u003ef.disconnect()),this._filters=new Array(h);for(let f=0;f\u003ch;f++){let m=new Hi({context:this.context});m.type=this._type,this.frequency.connect(m.frequency),this.detune.connect(m.detune),this.Q.connect(m.Q),this.gain.connect(m.gain),this._filters[f]=m}this._internalChannels=this._filters,ar(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){let i=new Hi({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),u=new Float32Array(t).map(()=\u003e1);return this._filters.forEach(()=\u003e{i.getFrequencyResponse(t).forEach((h,f)=\u003eu[f]*=h)}),i.dispose(),u}dispose(){return super.dispose(),this._filters.forEach(t=\u003e{t.dispose()}),fu(this,[\"detune\",\"frequency\",\"gain\",\"Q\"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Yi extends hn{constructor(){super(V(Yi.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"FrequencyEnvelope\";let t=V(Yi.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new Gi({context:this.context,value:t.exponent}),this._scale=this.output=new ea({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(hn.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){let i=this.toFrequency(t);yn(i,0),this._baseFrequency=i,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Ka extends xn{constructor(){super(V(Ka.getDefaults(),arguments)),this.name=\"MonoSynth\";let t=V(Ka.getDefaults(),arguments);this.oscillator=new Jr(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=\u003ethis.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Wn(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new Yi(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new Ui(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Ie(this,[\"oscillator\",\"frequency\",\"detune\",\"filter\",\"filterEnvelope\",\"envelope\"])}static getDefaults(){return Object.assign(xn.getDefaults(),{envelope:Object.assign(bn(hn.getDefaults(),Object.keys(ye.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(bn(Wn.getDefaults(),Object.keys(ye.getDefaults())),{Q:1,rolloff:-12,type:\"lowpass\"}),filterEnvelope:Object.assign(bn(Yi.getDefaults(),Object.keys(ye.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(bn(Jr.getDefaults(),Object.keys(Wt.getDefaults())),{type:\"sawtooth\"})})}_triggerEnvelopeAttack(t,i=1){if(this.envelope.triggerAttack(t,i),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),this.envelope.sustain===0){let u=this.toSeconds(this.envelope.attack),h=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+u+h)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Il extends xn{constructor(){super(V(Il.getDefaults(),arguments)),this.name=\"DuoSynth\";let t=V(Il.getDefaults(),arguments);this.voice0=new Ka(Object.assign(t.voice0,{context:this.context,onsilence:()=\u003ethis.onsilence(this)})),this.voice1=new Ka(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new Ct({context:this.context,units:\"positive\",value:t.harmonicity}),this._vibrato=new Mn({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new Ce({context:this.context,units:\"normalRange\",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new We({context:this.context,units:\"frequency\",value:440}),this.detune=new We({context:this.context,units:\"cents\",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Ie(this,[\"voice0\",\"voice1\",\"frequency\",\"vibratoAmount\",\"vibratoRate\"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return _r(xn.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:_r(bn(Ka.getDefaults(),Object.keys(xn.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:_r(bn(Ka.getDefaults(),Object.keys(xn.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,i){this.voice0._triggerEnvelopeAttack(t,i),this.voice1._triggerEnvelopeAttack(t,i)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class Fl extends $i{constructor(){super(V(Fl.getDefaults(),arguments)),this.name=\"FMSynth\";let t=V(Fl.getDefaults(),arguments);this.modulationIndex=new Ct({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign($i.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}let _x=[1,1.483,1.932,2.546,2.63,3.897];class Vl extends xn{constructor(){super(V(Vl.getDefaults(),arguments)),this.name=\"MetalSynth\",this._oscillators=[],this._freqMultipliers=[];let t=V(Vl.getDefaults(),arguments);this.detune=new We({context:this.context,units:\"cents\",value:t.detune}),this.frequency=new We({context:this.context,units:\"frequency\"}),this._amplitude=new Ce({context:this.context,gain:0}).connect(this.output),this._highpass=new Wn({Q:0,context:this.context,type:\"highpass\"}).connect(this._amplitude);for(let i=0;i\u003c_x.length;i++){let u=new Is({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:\"square\",onstop:i===0?()=\u003ethis.onsilence(this):rt,type:\"square\"});u.connect(this._highpass),this._oscillators[i]=u;let h=new Ct({context:this.context,value:_x[i]});this._freqMultipliers[i]=h,this.frequency.chain(h,u.frequency),this.detune.connect(u.detune)}this._filterFreqScaler=new ea({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new hn({attack:t.envelope.attack,attackCurve:\"linear\",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return _r(xn.getDefaults(),{envelope:Object.assign(bn(hn.getDefaults(),Object.keys(ye.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,i=1){return this.envelope.triggerAttack(t,i),this._oscillators.forEach(u=\u003eu.start(t)),this.envelope.sustain===0\u0026\u0026this._oscillators.forEach(u=\u003e{u.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach(i=\u003ei.stop(t+this.toSeconds(this.envelope.release))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach(i=\u003ei.modulationIndex.value=t)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach(i=\u003ei.harmonicity.value=t)}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach(t=\u003et.dispose()),this._freqMultipliers.forEach(t=\u003et.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class Xi extends Sa{constructor(){super(V(Xi.getDefaults(),arguments)),this.name=\"MembraneSynth\",this.portamento=0;let t=V(Xi.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Ie(this,[\"oscillator\",\"envelope\"])}static getDefaults(){return _r(xn.getDefaults(),Sa.getDefaults(),{envelope:{attack:.001,attackCurve:\"exponential\",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:\"sine\"},pitchDecay:.05})}setNote(t,i){let u=this.toSeconds(i),h=this.toFrequency(t instanceof jn?t.toFrequency():t),f=h*this.octaves;return this.oscillator.frequency.setValueAtTime(f,u),this.oscillator.frequency.exponentialRampToValueAtTime(h,u+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Fr([vx(0)],Xi.prototype,\"octaves\",void 0),Fr([Ma(0)],Xi.prototype,\"pitchDecay\",void 0);class Ll extends ir{constructor(){super(V(Ll.getDefaults(),arguments)),this.name=\"NoiseSynth\";let t=V(Ll.getDefaults(),arguments);this.noise=new qa(Object.assign({context:this.context},t.noise)),this.envelope=new Ui(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(ir.getDefaults(),{envelope:Object.assign(bn(hn.getDefaults(),Object.keys(ye.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(bn(qa.getDefaults(),Object.keys(Wt.getDefaults())),{type:\"white\"})})}triggerAttack(t,i=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,i),this.noise.start(t),this.envelope.sustain===0\u0026\u0026this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",0),this._syncMethod(\"triggerRelease\",0)),this}triggerAttackRelease(t,i,u=1){return i=this.toSeconds(i),t=this.toSeconds(t),this.triggerAttack(i,u),this.triggerRelease(i+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}let lm=new Set;function hm(l){lm.add(l)}function bx(l,t){let i=`registerProcessor(\"${l}\", ${t})`;lm.add(i)}class pm extends ye{constructor(t){super(t),this.name=\"ToneAudioWorklet\",this.workletOptions={},this.onprocessorerror=rt;let i=URL.createObjectURL(new Blob([Array.from(lm).join(`\n`)],{type:\"text/javascript\"})),u=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(i,u).then(()=\u003e{this.disposed||(this._worklet=this.context.createAudioWorkletNode(u,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet\u0026\u0026(this._worklet.port.postMessage(\"dispose\"),this._worklet.disconnect()),this}}hm(`\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it's disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) =\u003e {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === \"dispose\") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n`),hm(`\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length \u003e 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input \u0026\u0026 input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample \u003c this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel \u003c channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input \u0026\u0026 input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n`),hm(`\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i \u003c channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] \u003e this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead \u003c 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n`),bx(\"feedback-comb-filter\",`\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"delayTime\",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: \"k-rate\"\n\t\t\t}, {\n\t\t\t\tname: \"feedback\",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: \"k-rate\"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n`);class Zi extends pm{constructor(){super(V(Zi.getDefaults(),arguments,[\"delayTime\",\"resonance\"])),this.name=\"FeedbackCombFilter\";let t=V(Zi.getDefaults(),arguments,[\"delayTime\",\"resonance\"]);this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this.delayTime=new Ue({context:this.context,value:t.delayTime,units:\"time\",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Ue({context:this.context,value:t.resonance,units:\"normalRange\",param:this._dummyParam,swappable:!0}),Ie(this,[\"resonance\",\"delayTime\"])}_audioWorkletName(){return\"feedback-comb-filter\"}static getDefaults(){return Object.assign(ye.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){ar(this.input,t,this.output);let i=t.parameters.get(\"delayTime\");this.delayTime.setParam(i);let u=t.parameters.get(\"feedback\");this.resonance.setParam(u)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class Ki extends ye{constructor(){super(V(Ki.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"OnePoleFilter\";let t=V(Ki.getDefaults(),arguments,[\"frequency\",\"type\"]);this._frequency=t.frequency,this._type=t.type,this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(ye.getDefaults(),{frequency:880,type:\"lowpass\"})}_createFilter(){let t=this._filter,i=this.toFrequency(this._frequency),u=1/(2*Math.PI*i);if(this._type===\"lowpass\"){let h=1/(u*this.context.sampleRate),f=h-1;this._filter=this.context.createIIRFilter([h,0],[1,f])}else{let h=1/(u*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,h])}this.input.chain(this._filter,this.output),t\u0026\u0026this.context.setTimeout(()=\u003e{this.disposed||(this.input.disconnect(t),t.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){let i=new Float32Array(t);for(let f=0;f\u003ct;f++){let m=19980*Math.pow(f/t,2)+20;i[f]=m}let u=new Float32Array(t),h=new Float32Array(t);return this._filter.getFrequencyResponse(i,u,h),u}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class Qi extends ye{constructor(){super(V(Qi.getDefaults(),arguments,[\"delayTime\",\"resonance\",\"dampening\"])),this.name=\"LowpassCombFilter\";let t=V(Qi.getDefaults(),arguments,[\"delayTime\",\"resonance\",\"dampening\"]);this._combFilter=this.output=new Zi({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new Ki({context:this.context,frequency:t.dampening,type:\"lowpass\"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(ye.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class Wl extends ir{constructor(){super(V(Wl.getDefaults(),arguments)),this.name=\"PluckSynth\";let t=V(Wl.getDefaults(),arguments);this._noise=new qa({context:this.context,type:\"pink\"}),this.attackNoise=t.attackNoise,this._lfcf=new Qi({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return _r(ir.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,i){let u=this.toFrequency(t);i=this.toSeconds(i);let h=1/u;return this._lfcf.delayTime.setValueAtTime(h,i),this._noise.start(i),this._noise.stop(i+h*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(i),this._lfcf.resonance.setValueAtTime(this.resonance,i),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class Bl extends ir{constructor(){super(V(Bl.getDefaults(),arguments,[\"voice\",\"options\"])),this.name=\"PolySynth\",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;let t=V(Bl.getDefaults(),arguments,[\"voice\",\"options\"]);Ae(!nr(t.voice),\"DEPRECATED: The polyphony count is no longer the first argument.\");let i=t.voice.getDefaults();this.options=Object.assign(i,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();let u=this._voices.indexOf(this._dummyVoice);this._voices.splice(u,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(ir.getDefaults(),{maxPolyphony:32,options:{},voice:Sa})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);let i=this._activeVoices.findIndex(u=\u003eu.voice===t);this._activeVoices.splice(i,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length\u003cthis.maxPolyphony){let t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}pu(\"Max polyphony exceeded. Note dropped.\")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length\u0026\u0026this._voices.length\u003eMath.ceil(this._averageActiveVoices+1)){let t=this._availableVoices.shift(),i=this._voices.indexOf(t);this._voices.splice(i,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,i,u){t.forEach(h=\u003e{let f=new Fi(this.context,h).toMidi(),m=this._getNextAvailableVoice();m\u0026\u0026(m.triggerAttack(h,i,u),this._activeVoices.push({midi:f,voice:m,released:!1}),this.log(\"triggerAttack\",h,i))})}_triggerRelease(t,i){t.forEach(u=\u003e{let h=new Fi(this.context,u).toMidi(),f=this._activeVoices.find(({midi:m,released:g})=\u003em===h\u0026\u0026!g);f\u0026\u0026(f.voice.triggerRelease(i),f.released=!0,this.log(\"triggerRelease\",u,i))})}_scheduleEvent(t,i,u,h){Ae(!this.disposed,\"Synth was already disposed\"),u\u003c=this.now()?t===\"attack\"?this._triggerAttack(i,u,h):this._triggerRelease(i,u):this.context.setTimeout(()=\u003e{this._scheduleEvent(t,i,u,h)},u-this.now())}triggerAttack(t,i,u){Array.isArray(t)||(t=[t]);let h=this.toSeconds(i);return this._scheduleEvent(\"attack\",t,h,u),this}triggerRelease(t,i){Array.isArray(t)||(t=[t]);let u=this.toSeconds(i);return this._scheduleEvent(\"release\",t,u),this}triggerAttackRelease(t,i,u,h){let f=this.toSeconds(u);if(this.triggerAttack(t,f,h),_n(i)){Ae(_n(t),\"If the duration is an array, the notes must also be an array\"),t=t;for(let m=0;m\u003ct.length;m++){let g=i[Math.min(m,i.length-1)],_=this.toSeconds(g);Ae(_\u003e0,\"The duration must be greater than 0\"),this.triggerRelease(t[m],f+_)}}else{let m=this.toSeconds(i);Ae(m\u003e0,\"The duration must be greater than 0\"),this.triggerRelease(t,f+m)}return this}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",1)),this}set(t){let i=bn(t,[\"onsilence\",\"context\"]);return this.options=_r(this.options,i),this._voices.forEach(u=\u003eu.set(i)),this._dummyVoice.set(i),this}get(){return this._dummyVoice.get()}releaseAll(t){let i=this.toSeconds(t);return this._activeVoices.forEach(({voice:u})=\u003e{u.triggerRelease(i)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=\u003et.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Ji extends ir{constructor(){super(V(Ji.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\")),this.name=\"Sampler\",this._activeSources=new Map;let t=V(Ji.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\"),i={};Object.keys(t.urls).forEach(u=\u003e{let h=parseInt(u,10);if(Ae(du(u)||nr(h)\u0026\u0026isFinite(h),\"url key is neither a note or midi pitch: \"+u),du(u)){let f=new jn(this.context,u).toMidi();i[f]=t.urls[u]}else nr(h)\u0026\u0026isFinite(h)\u0026\u0026(i[h]=t.urls[h])}),this._buffers=new Ii({urls:i,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded\u0026\u0026Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(ir.getDefaults(),{attack:0,baseUrl:\"\",curve:\"exponential\",onload:rt,onerror:rt,release:.1,urls:{}})}_findClosest(t){let i=0;for(;i\u003c96;){if(this._buffers.has(t+i))return-i;if(this._buffers.has(t-i))return i;i++}throw new Error(\"No available buffers for note: \"+t)}triggerAttack(t,i,u=1){return this.log(\"triggerAttack\",t,i,u),Array.isArray(t)||(t=[t]),t.forEach(h=\u003e{let f=px(new jn(this.context,h).toFrequency()),m=Math.round(f),g=f-m,_=this._findClosest(m),x=m-_,M=this._buffers.get(x),N=Ei(_+g),P=new wa({url:M,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:N}).connect(this.output);P.start(i,0,M.duration/N,u),_n(this._activeSources.get(m))||this._activeSources.set(m,[]),this._activeSources.get(m).push(P),P.onended=()=\u003e{if(this._activeSources\u0026\u0026this._activeSources.has(m)){let q=this._activeSources.get(m),U=q.indexOf(P);U!==-1\u0026\u0026q.splice(U,1)}}}),this}triggerRelease(t,i){return this.log(\"triggerRelease\",t,i),Array.isArray(t)||(t=[t]),t.forEach(u=\u003e{let h=new jn(this.context,u).toMidi();if(this._activeSources.has(h)\u0026\u0026this._activeSources.get(h).length){let f=this._activeSources.get(h);i=this.toSeconds(i),f.forEach(m=\u003e{m.stop(i)}),this._activeSources.set(h,[])}}),this}releaseAll(t){let i=this.toSeconds(t);return this._activeSources.forEach(u=\u003e{for(;u.length;)u.shift().stop(i)}),this}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",1)),this}triggerAttackRelease(t,i,u,h=1){let f=this.toSeconds(u);return this.triggerAttack(t,f,h),_n(i)?(Ae(_n(t),\"notes must be an array when duration is array\"),t.forEach((m,g)=\u003e{let _=i[Math.min(g,i.length-1)];this.triggerRelease(m,f+this.toSeconds(_))})):this.triggerRelease(t,f+this.toSeconds(i)),this}add(t,i,u){if(Ae(du(t)||isFinite(t),\"note must be a pitch or midi: \"+t),du(t)){let h=new jn(this.context,t).toMidi();this._buffers.add(h,i,u)}else this._buffers.add(t,i,u);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=\u003e{t.forEach(i=\u003ei.dispose())}),this._activeSources.clear(),this}}Fr([Ma(0)],Ji.prototype,\"attack\",void 0),Fr([Ma(0)],Ji.prototype,\"release\",void 0);class Wr extends ln{constructor(){super(V(Wr.getDefaults(),arguments,[\"callback\",\"value\"])),this.name=\"ToneEvent\",this._state=new ji(\"stopped\"),this._startOffset=0;let t=V(Wr.getDefaults(),arguments,[\"callback\",\"value\"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(ln.getDefaults(),{callback:rt,humanize:!1,loop:!1,loopEnd:\"1m\",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,i=\u003e{let u;if(i.state===\"started\"){i.id!==-1\u0026\u0026this.context.transport.clear(i.id);let h=i.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||nr(this._loop)\u0026\u0026this._loop\u003e1){u=1/0,nr(this._loop)\u0026\u0026(u=this._loop*this._getLoopDuration());let f=this._state.getAfter(h);f!==null\u0026\u0026(u=Math.min(u,f.time-h)),u!==1/0\u0026\u0026(this._state.setStateAtTime(\"stopped\",h+u+1,{id:-1}),u=new wt(this.context,u));let m=new wt(this.context,this._getLoopDuration());i.id=this.context.transport.scheduleRepeat(this._tick.bind(this),m,new wt(this.context,h),u)}else i.id=this.context.transport.schedule(this._tick.bind(this),new wt(this.context,h))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){let i=this.toTicks(t);return this._state.getValueAtTime(i)===\"stopped\"\u0026\u0026(this._state.add({id:-1,state:\"started\",time:i}),this._rescheduleEvents(i)),this}stop(t){this.cancel(t);let i=this.toTicks(t);if(this._state.getValueAtTime(i)===\"started\"){this._state.setStateAtTime(\"stopped\",i,{id:-1});let u=this._state.getBefore(i),h=i;u!==null\u0026\u0026(h=u.time),this._rescheduleEvents(h)}return this}cancel(t){t=br(t,-1/0);let i=this.toTicks(t);return this._state.forEachFrom(i,u=\u003e{this.context.transport.clear(u.id)}),this._state.cancel(i),this}_tick(t){let i=this.context.transport.getTicksAtTime(t);if(!this.mute\u0026\u0026this._state.getValueAtTime(i)===\"started\"){if(this.probability\u003c1\u0026\u0026Math.random()\u003ethis.probability)return;if(this.humanize){let u=.02;tm(this.humanize)||(u=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*u}this.callback(t,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new wt(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop\u0026\u0026this._rescheduleEvents()}get loopStart(){return new wt(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop\u0026\u0026this._rescheduleEvents()}get progress(){if(this._loop){let t=this.context.transport.ticks,i=this._state.get(t);if(i!==null\u0026\u0026i.state===\"started\"){let u=this._getLoopDuration();return(t-i.time)%u/u}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class eo extends ln{constructor(){super(V(eo.getDefaults(),arguments,[\"callback\",\"interval\"])),this.name=\"Loop\";let t=V(eo.getDefaults(),arguments,[\"callback\",\"interval\"]);this._event=new Wr({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(ln.getDefaults(),{interval:\"4n\",callback:rt,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class to extends Wr{constructor(){super(V(to.getDefaults(),arguments,[\"callback\",\"events\"])),this.name=\"Part\",this._state=new ji(\"stopped\"),this._events=new Set;let t=V(to.getDefaults(),arguments,[\"callback\",\"events\"]);this._state.increasing=!0,t.events.forEach(i=\u003e{_n(i)?this.add(i[0],i[1]):this.add(i)})}static getDefaults(){return Object.assign(Wr.getDefaults(),{events:[]})}start(t,i){let u=this.toTicks(t);if(this._state.getValueAtTime(u)!==\"started\"){i=br(i,this._loop?this._loopStart:0),i=this._loop?br(i,this._loopStart):br(i,0);let h=this.toTicks(i);this._state.add({id:-1,offset:h,state:\"started\",time:u}),this._forEach(f=\u003e{this._startNote(f,u,h)})}return this}_startNote(t,i,u){i-=u,this._loop?t.startOffset\u003e=this._loopStart\u0026\u0026t.startOffset\u003cthis._loopEnd?(t.startOffset\u003cu\u0026\u0026(i+=this._getLoopDuration()),t.start(new wt(this.context,i))):t.startOffset\u003cthis._loopStart\u0026\u0026t.startOffset\u003e=u\u0026\u0026(t.loop=!1,t.start(new wt(this.context,i))):t.startOffset\u003e=u\u0026\u0026t.start(new wt(this.context,i))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach(i=\u003e{i.startOffset+=this._startOffset})}stop(t){let i=this.toTicks(t);return this._state.cancel(i),this._state.setStateAtTime(\"stopped\",i),this._forEach(u=\u003e{u.stop(t)}),this}at(t,i){let u=new Kt(this.context,t).toTicks(),h=new wt(this.context,1).toSeconds(),f=this._events.values(),m=f.next();for(;!m.done;){let g=m.value;if(Math.abs(u-g.startOffset)\u003ch)return Je(i)\u0026\u0026(g.value=i),g;m=f.next()}return Je(i)?(this.add(t,i),this.at(t)):null}add(t,i){t instanceof Object\u0026\u0026Reflect.has(t,\"time\")\u0026\u0026(t=(i=t).time);let u=this.toTicks(t),h;return i instanceof Wr?(h=i,h.callback=this._tick.bind(this)):h=new Wr({callback:this._tick.bind(this),context:this.context,value:i}),h.startOffset=u,h.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(h),this._restartEvent(h),this}_restartEvent(t){this._state.forEach(i=\u003e{i.state===\"started\"?this._startNote(t,i.time,i.offset):t.stop(new wt(this.context,i.time))})}remove(t,i){return xa(t)\u0026\u0026t.hasOwnProperty(\"time\")\u0026\u0026(t=(i=t).time),t=this.toTicks(t),this._events.forEach(u=\u003e{u.startOffset===t\u0026\u0026(Fn(i)||Je(i)\u0026\u0026u.value===i)\u0026\u0026(this._events.delete(u),u.dispose())}),this}clear(){return this._forEach(t=\u003et.dispose()),this._events.clear(),this}cancel(t){return this._forEach(i=\u003ei.cancel(t)),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events\u0026\u0026this._events.forEach(i=\u003e{i instanceof to?i._forEach(t):t(i)}),this}_setAll(t,i){this._forEach(u=\u003e{u[t]=i})}_tick(t,i){this.mute||this.callback(t,i)}_testLoopBoundries(t){this._loop\u0026\u0026(t.startOffset\u003cthis._loopStart||t.startOffset\u003e=this._loopEnd)?t.cancel(0):t.state===\"stopped\"\u0026\u0026this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll(\"probability\",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll(\"humanize\",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach(i=\u003e{i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.loop=t,this._testLoopBoundries(i)})}get loopEnd(){return new wt(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop\u0026\u0026this._forEach(i=\u003e{i.loopEnd=t,this._testLoopBoundries(i)})}get loopStart(){return new wt(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop\u0026\u0026this._forEach(i=\u003e{i.loopStart=this.loopStart,this._testLoopBoundries(i)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll(\"playbackRate\",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*y5(l){let t=0;for(;t\u003cl.length;)t=no(t,l),yield l[t],t++}function*_5(l){let t=l.length-1;for(;t\u003e=0;)t=no(t,l),yield l[t],t--}function*xu(l,t){for(;;)yield*t(l)}function no(l,t){return ux(l,0,t.length-1)}function*xx(l,t){let i=t?0:l.length-1;for(;;)i=no(i,l),yield l[i],t?(i++,i\u003e=l.length-1\u0026\u0026(t=!1)):(i--,i\u003c=0\u0026\u0026(t=!0))}function*b5(l){let t=0,i=0;for(;t\u003cl.length;)t=no(t,l),yield l[t],i++,t+=i%2?2:-1}function*x5(l){let t=l.length-1,i=0;for(;t\u003e=0;)t=no(t,l),yield l[t],i++,t+=i%2?-2:1}function*k5(l){let t=[];for(let i=0;i\u003cl.length;i++)t.push(i);for(;t.length\u003e0;){let i=no(t.splice(Math.floor(t.length*Math.random()),1)[0],l);yield l[i]}}function*kx(l,t=\"up\",i=0){switch(Ae(l.length\u003e0,\"The array must have more than one value in it\"),t){case\"up\":yield*xu(l,y5);case\"down\":yield*xu(l,_5);case\"upDown\":yield*xx(l,!0);case\"downUp\":yield*xx(l,!1);case\"alternateUp\":yield*xu(l,b5);case\"alternateDown\":yield*xu(l,x5);case\"random\":yield*function*(u){for(;;){let h=Math.floor(Math.random()*u.length);yield u[h]}}(l);case\"randomOnce\":yield*xu(l,k5);case\"randomWalk\":yield*function*(u){let h=Math.floor(Math.random()*u.length);for(;;)h===0?h++:h===u.length-1||Math.random()\u003c.5?h--:h++,yield u[h]}(l)}}class zl extends eo{constructor(){super(V(zl.getDefaults(),arguments,[\"callback\",\"values\",\"pattern\"])),this.name=\"Pattern\";let t=V(zl.getDefaults(),arguments,[\"callback\",\"values\",\"pattern\"]);this.callback=t.callback,this._values=t.values,this._pattern=kx(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(eo.getDefaults(),{pattern:\"up\",values:[],callback:rt})}_tick(t){let i=this._pattern.next();this._value=i.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=kx(this._values,this._type)}}class Gl extends Wr{constructor(){super(V(Gl.getDefaults(),arguments,[\"callback\",\"events\",\"subdivision\"])),this.name=\"Sequence\",this._part=new to({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];let t=V(Gl.getDefaults(),arguments,[\"callback\",\"events\",\"subdivision\"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(bn(Wr.getDefaults(),[\"value\"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:\"8n\"})}_seqCallback(t,i){i!==null\u0026\u0026this.callback(t,i)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,i){return this._part.start(t,i\u0026\u0026this._indexTime(i)),this}stop(t){return this._part.stop(t),this}get subdivision(){return new wt(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(i,u)=\u003ei[u],set:(i,u,h)=\u003e(yr(u)\u0026\u0026isFinite(parseInt(u,10))\u0026\u0026_n(h)?i[u]=this._createSequence(h):i[u]=h,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,i,u){t.forEach((h,f)=\u003e{let m=f*i+u;if(_n(h))this._rescheduleSequence(h,i/h.length,m);else{let g=new wt(this.context,m,\"i\").toSeconds();this._part.add(g,h)}})}_indexTime(t){return new wt(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=t===0?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class Bs extends ye{constructor(){super(Object.assign(V(Bs.getDefaults(),arguments,[\"fade\"]))),this.name=\"CrossFade\",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new yx({context:this.context}),this.a=new Ce({context:this.context,gain:0}),this.b=new Ce({context:this.context,gain:0}),this.output=new Ce({context:this.context}),this._internalChannels=[this.a,this.b];let t=V(Bs.getDefaults(),arguments,[\"fade\"]);this.fade=new We({context:this.context,units:\"normalRange\",value:t.fade}),Ie(this,\"fade\"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode=\"explicit\",Vn(this._split,this.a.gain,0),Vn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ye.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class rn extends ye{constructor(t){super(t),this.name=\"Effect\",this._dryWet=new Bs({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Ce({context:this.context}),this.effectReturn=new Ce({context:this.context}),this.input=new Ce({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ie(this,\"wet\")}static getDefaults(){return Object.assign(ye.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Ul extends rn{constructor(t){super(t),this.name=\"LFOEffect\",this._lfo=new Mn({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,Ie(this,[\"frequency\",\"depth\"])}static getDefaults(){return Object.assign(rn.getDefaults(),{frequency:1,type:\"sine\",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class $l extends Ul{constructor(){super(V($l.getDefaults(),arguments,[\"frequency\",\"baseFrequency\",\"octaves\"])),this.name=\"AutoFilter\";let t=V($l.getDefaults(),arguments,[\"frequency\",\"baseFrequency\",\"octaves\"]);this.filter=new Wn(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(Ul.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:\"lowpass\",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class ro extends ye{constructor(){super(Object.assign(V(ro.getDefaults(),arguments,[\"pan\"]))),this.name=\"Panner\",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;let t=V(ro.getDefaults(),arguments,[\"pan\"]);this.pan=new Ue({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode=\"explicit\",Ie(this,\"pan\")}static getDefaults(){return Object.assign(ye.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Hl extends Ul{constructor(){super(V(Hl.getDefaults(),arguments,[\"frequency\"])),this.name=\"AutoPanner\";let t=V(Hl.getDefaults(),arguments,[\"frequency\"]);this._panner=new ro({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Ul.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class ao extends ye{constructor(){super(V(ao.getDefaults(),arguments,[\"smoothing\"])),this.name=\"Follower\";let t=V(ao.getDefaults(),arguments,[\"smoothing\"]);this._abs=this.input=new gx({context:this.context}),this._lowpass=this.output=new Ki({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:\"lowpass\"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(ye.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class Yl extends rn{constructor(){super(V(Yl.getDefaults(),arguments,[\"baseFrequency\",\"octaves\",\"sensitivity\"])),this.name=\"AutoWah\";let t=V(Yl.getDefaults(),arguments,[\"baseFrequency\",\"octaves\",\"sensitivity\"]);this._follower=new ao({context:this.context,smoothing:t.follower}),this._sweepRange=new bu({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new Ce({context:this.context}),this._bandpass=new Wn({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new Wn({context:this.context,type:\"peaking\"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,Ie(this,[\"gain\",\"Q\"])}static getDefaults(){return Object.assign(rn.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return mu(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/Ri(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}bx(\"bit-crusher\",`\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n`);class Xl extends rn{constructor(){super(V(Xl.getDefaults(),arguments,[\"bits\"])),this.name=\"BitCrusher\";let t=V(Xl.getDefaults(),arguments,[\"bits\"]);this._bitCrusherWorklet=new Zl({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(rn.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class Zl extends pm{constructor(){super(V(Zl.getDefaults(),arguments)),this.name=\"BitCrusherWorklet\";let t=V(Zl.getDefaults(),arguments);this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this.bits=new Ue({context:this.context,value:t.bits,units:\"positive\",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(pm.getDefaults(),{bits:12})}_audioWorkletName(){return\"bit-crusher\"}onReady(t){ar(this.input,t,this.output);let i=t.parameters.get(\"bits\");this.bits.setParam(i)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Kl extends rn{constructor(){super(V(Kl.getDefaults(),arguments,[\"order\"])),this.name=\"Chebyshev\";let t=V(Kl.getDefaults(),arguments,[\"order\"]);this._shaper=new xr({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(rn.getDefaults(),{order:1,oversample:\"none\"})}_getCoefficient(t,i,u){return u.has(i)||(i===0?u.set(i,0):i===1?u.set(i,t):u.set(i,2*t*this._getCoefficient(t,i-1,u)-this._getCoefficient(t,i-2,u))),u.get(i)}get order(){return this._order}set order(t){this._order=t,this._shaper.setMap(i=\u003ethis._getCoefficient(i,t,new Map))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Qa extends ye{constructor(){super(V(Qa.getDefaults(),arguments,[\"channels\"])),this.name=\"Split\";let t=V(Qa.getDefaults(),arguments,[\"channels\"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ye.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Pa extends ye{constructor(){super(V(Pa.getDefaults(),arguments,[\"channels\"])),this.name=\"Merge\";let t=V(Pa.getDefaults(),arguments,[\"channels\"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(ye.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class ta extends ye{constructor(t){super(t),this.name=\"StereoEffect\",this.input=new Ce({context:this.context}),this.input.channelCount=2,this.input.channelCountMode=\"explicit\",this._dryWet=this.output=new Bs({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new Qa({context:this.context,channels:2}),this._merge=new Pa({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Ie(this,[\"wet\"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),ar(...t),Vn(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),ar(...t),Vn(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(ye.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class dm extends ta{constructor(t){super(t),this.feedback=new We({context:this.context,value:t.feedback,units:\"normalRange\"}),this._feedbackL=new Ce({context:this.context}),this._feedbackR=new Ce({context:this.context}),this._feedbackSplit=new Qa({context:this.context,channels:2}),this._feedbackMerge=new Pa({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Ie(this,[\"feedback\"])}static getDefaults(){return Object.assign(ta.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Ql extends dm{constructor(){super(V(Ql.getDefaults(),arguments,[\"frequency\",\"delayTime\",\"depth\"])),this.name=\"Chorus\";let t=V(Ql.getDefaults(),arguments,[\"frequency\",\"delayTime\",\"depth\"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new Mn({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new Mn({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Ln({context:this.context}),this._delayNodeR=new Ln({context:this.context}),this.frequency=this._lfoL.frequency,Ie(this,[\"frequency\"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(dm.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:\"sine\",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;let i=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-i,0),this._lfoL.max=this._delayTime+i,this._lfoR.min=Math.max(this._delayTime-i,0),this._lfoR.max=this._delayTime+i}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Jl extends rn{constructor(){super(V(Jl.getDefaults(),arguments,[\"distortion\"])),this.name=\"Distortion\";let t=V(Jl.getDefaults(),arguments,[\"distortion\"]);this._shaper=new xr({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(rn.getDefaults(),{distortion:.4,oversample:\"none\"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;let i=100*t,u=Math.PI/180;this._shaper.setMap(h=\u003eMath.abs(h)\u003c.001?0:(3+i)*h*20*u/(Math.PI+i*Math.abs(h)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class eh extends rn{constructor(t){super(t),this.name=\"FeedbackEffect\",this._feedbackGain=new Ce({context:this.context,gain:t.feedback,units:\"normalRange\"}),this.feedback=this._feedbackGain.gain,Ie(this,\"feedback\"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(rn.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class th extends eh{constructor(){super(V(th.getDefaults(),arguments,[\"delayTime\",\"feedback\"])),this.name=\"FeedbackDelay\";let t=V(th.getDefaults(),arguments,[\"delayTime\",\"feedback\"]);this._delayNode=new Ln({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Ie(this,\"delayTime\")}static getDefaults(){return Object.assign(eh.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class N5 extends ye{constructor(t){super(t),this.name=\"PhaseShiftAllpass\",this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this.offset90=new Ce({context:this.context}),this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),ar(this.input,...this._bank0,this._oneSampleDelay,this.output),ar(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map(i=\u003e{let u=[[i*i,0,-1],[1,0,-i*i]];return this.context.createIIRFilter(u[0],u[1])})}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach(t=\u003et.disconnect()),this._bank1.forEach(t=\u003et.disconnect()),this._oneSampleDelay.disconnect(),this}}class nh extends rn{constructor(){super(V(nh.getDefaults(),arguments,[\"frequency\"])),this.name=\"FrequencyShifter\";let t=V(nh.getDefaults(),arguments,[\"frequency\"]);this.frequency=new We({context:this.context,units:\"frequency\",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new Li({context:this.context,type:\"sine\"}),this._cosine=new Ot({context:this.context,phase:-90,type:\"sine\"}),this._sineMultiply=new Ct({context:this.context}),this._cosineMultiply=new Ct({context:this.context}),this._negate=new um({context:this.context}),this._add=new Vs({context:this.context}),this._phaseShifter=new N5({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);let i=this.immediate();this._sine.start(i),this._cosine.start(i)}static getDefaults(){return Object.assign(rn.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}let Nx=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],wx=[225,556,441,341];class rh extends ta{constructor(){super(V(rh.getDefaults(),arguments,[\"roomSize\",\"dampening\"])),this.name=\"Freeverb\",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];let t=V(rh.getDefaults(),arguments,[\"roomSize\",\"dampening\"]);this.roomSize=new We({context:this.context,value:t.roomSize,units:\"normalRange\"}),this._allpassFiltersL=wx.map(i=\u003e{let u=this.context.createBiquadFilter();return u.type=\"allpass\",u.frequency.value=i,u}),this._allpassFiltersR=wx.map(i=\u003e{let u=this.context.createBiquadFilter();return u.type=\"allpass\",u.frequency.value=i,u}),this._combFilters=Nx.map((i,u)=\u003e{let h=new Qi({context:this.context,dampening:t.dampening,delayTime:i});return u\u003cNx.length/2?this.connectEffectLeft(h,...this._allpassFiltersL):this.connectEffectRight(h,...this._allpassFiltersR),this.roomSize.connect(h.resonance),h}),Ie(this,[\"roomSize\"])}static getDefaults(){return Object.assign(ta.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach(i=\u003ei.dampening=t)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(t=\u003et.disconnect()),this._allpassFiltersR.forEach(t=\u003et.disconnect()),this._combFilters.forEach(t=\u003et.dispose()),this.roomSize.dispose(),this}}let qx=[.06748,.06404,.08212,.09004],w5=[.773,.802,.753,.733],q5=[347,113,37];class ah extends ta{constructor(){super(V(ah.getDefaults(),arguments,[\"roomSize\"])),this.name=\"JCReverb\",this._allpassFilters=[],this._feedbackCombFilters=[];let t=V(ah.getDefaults(),arguments,[\"roomSize\"]);this.roomSize=new We({context:this.context,value:t.roomSize,units:\"normalRange\"}),this._scaleRoomSize=new ea({context:this.context,min:-.733,max:.197}),this._allpassFilters=q5.map(i=\u003e{let u=this.context.createBiquadFilter();return u.type=\"allpass\",u.frequency.value=i,u}),this._feedbackCombFilters=qx.map((i,u)=\u003e{let h=new Zi({context:this.context,delayTime:i});return this._scaleRoomSize.connect(h.resonance),h.resonance.value=w5[u],u\u003cqx.length/2?this.connectEffectLeft(...this._allpassFilters,h):this.connectEffectRight(...this._allpassFilters,h),h}),this.roomSize.connect(this._scaleRoomSize),Ie(this,[\"roomSize\"])}static getDefaults(){return Object.assign(ta.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(t=\u003et.disconnect()),this._feedbackCombFilters.forEach(t=\u003et.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class Tx extends dm{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Ie(this,[\"feedback\"])}}class sh extends Tx{constructor(){super(V(sh.getDefaults(),arguments,[\"delayTime\",\"feedback\"])),this.name=\"PingPongDelay\";let t=V(sh.getDefaults(),arguments,[\"delayTime\",\"feedback\"]);this._leftDelay=new Ln({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new Ln({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new Ln({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new We({context:this.context,units:\"time\",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Ie(this,[\"delayTime\"])}static getDefaults(){return Object.assign(Tx.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class ih extends eh{constructor(){super(V(ih.getDefaults(),arguments,[\"pitch\"])),this.name=\"PitchShift\";let t=V(ih.getDefaults(),arguments,[\"pitch\"]);this._frequency=new We({context:this.context}),this._delayA=new Ln({maxDelay:1,context:this.context}),this._lfoA=new Mn({context:this.context,min:0,max:.1,type:\"sawtooth\"}).connect(this._delayA.delayTime),this._delayB=new Ln({maxDelay:1,context:this.context}),this._lfoB=new Mn({context:this.context,min:0,max:.1,type:\"sawtooth\",phase:180}).connect(this._delayB.delayTime),this._crossFade=new Bs({context:this.context}),this._crossFadeLFO=new Mn({context:this.context,min:0,max:1,type:\"triangle\",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Ln({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Ie(this,\"delayTime\"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);let i=this.now();this._lfoA.start(i),this._lfoB.start(i),this._crossFadeLFO.start(i),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(eh.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let i=0;t\u003c0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,i=Ei(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,i=Ei(t)-1),this._frequency.value=i*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class oh extends ta{constructor(){super(V(oh.getDefaults(),arguments,[\"frequency\",\"octaves\",\"baseFrequency\"])),this.name=\"Phaser\";let t=V(oh.getDefaults(),arguments,[\"frequency\",\"octaves\",\"baseFrequency\"]);this._lfoL=new Mn({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new Mn({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new We({context:this.context,value:t.Q,units:\"positive\"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),Ie(this,[\"frequency\",\"Q\"])}static getDefaults(){return Object.assign(ta.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,i){let u=[];for(let h=0;h\u003ct;h++){let f=this.context.createBiquadFilter();f.type=\"allpass\",this.Q.connect(f.Q),i.connect(f.frequency),u.push(f)}return u}get octaves(){return this._octaves}set octaves(t){this._octaves=t;let i=this._baseFrequency*Math.pow(2,t);this._lfoL.max=i,this._lfoR.max=i}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(t=\u003et.disconnect()),this._filtersR.forEach(t=\u003et.disconnect()),this.frequency.dispose(),this}}class uh extends rn{constructor(){super(V(uh.getDefaults(),arguments,[\"decay\"])),this.name=\"Reverb\",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();let t=V(uh.getDefaults(),arguments,[\"decay\"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(rn.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){yn(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){yn(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return Nt(this,void 0,void 0,function*(){let t=this.ready,i=new Ai(2,this._decay+this._preDelay,this.context.sampleRate),u=new qa({context:i}),h=new qa({context:i}),f=new Pa({context:i});u.connect(f,0,0),h.connect(f,0,1);let m=new Ce({context:i}).toDestination();f.connect(m),u.start(0),h.start(0),m.gain.setValueAtTime(0,0),m.gain.setValueAtTime(1,this._preDelay),m.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);let g=i.render();return this.ready=g.then(rt),yield t,this._convolver.buffer=(yield g).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class ku extends ye{constructor(){super(V(ku.getDefaults(),arguments)),this.name=\"MidSideSplit\",this._split=this.input=new Qa({channels:2,context:this.context}),this._midAdd=new Vs({context:this.context}),this.mid=new Ct({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Ws({context:this.context}),this.side=new Ct({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class Nu extends ye{constructor(){super(V(Nu.getDefaults(),arguments)),this.name=\"MidSideMerge\",this.mid=new Ce({context:this.context}),this.side=new Ce({context:this.context}),this._left=new Vs({context:this.context}),this._leftMult=new Ct({context:this.context,value:Math.SQRT1_2}),this._right=new Ws({context:this.context}),this._rightMult=new Ct({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new Pa({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class Mx extends rn{constructor(t){super(t),this.name=\"MidSideEffect\",this._midSideMerge=new Nu({context:this.context}),this._midSideSplit=new ku({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class ch extends Mx{constructor(){super(V(ch.getDefaults(),arguments,[\"width\"])),this.name=\"StereoWidener\";let t=V(ch.getDefaults(),arguments,[\"width\"]);this.width=new We({context:this.context,value:t.width,units:\"normalRange\"}),Ie(this,[\"width\"]),this._twoTimesWidthMid=new Ct({context:this.context,value:2}),this._twoTimesWidthSide=new Ct({context:this.context,value:2}),this._midMult=new Ct({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Ws({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),Vn(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Ct({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(Mx.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class lh extends ta{constructor(){super(V(lh.getDefaults(),arguments,[\"frequency\",\"depth\"])),this.name=\"Tremolo\";let t=V(lh.getDefaults(),arguments,[\"frequency\",\"depth\"]);this._lfoL=new Mn({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new Mn({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new Ce({context:this.context}),this._amplitudeR=new Ce({context:this.context}),this.frequency=new We({context:this.context,value:t.frequency,units:\"frequency\"}),this.depth=new We({context:this.context,value:t.depth,units:\"normalRange\"}),Ie(this,[\"frequency\",\"depth\"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(ta.getDefaults(),{frequency:10,type:\"sine\",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class hh extends rn{constructor(){super(V(hh.getDefaults(),arguments,[\"frequency\",\"depth\"])),this.name=\"Vibrato\";let t=V(hh.getDefaults(),arguments,[\"frequency\",\"depth\"]);this._delayNode=new Ln({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new Mn({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,Ie(this,[\"frequency\",\"depth\"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(rn.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:\"sine\"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class so extends ye{constructor(){super(V(so.getDefaults(),arguments,[\"type\",\"size\"])),this.name=\"Analyser\",this._analysers=[],this._buffers=[];let t=V(so.getDefaults(),arguments,[\"type\",\"size\"]);this.input=this.output=this._gain=new Ce({context:this.context}),this._split=new Qa({context:this.context,channels:t.channels}),this.input.connect(this._split),yn(t.channels,1);for(let i=0;i\u003ct.channels;i++)this._analysers[i]=this.context.createAnalyser(),this._split.connect(this._analysers[i],i,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(ye.getDefaults(),{size:1024,smoothing:.8,type:\"fft\",channels:1})}getValue(){return this._analysers.forEach((t,i)=\u003e{let u=this._buffers[i];this._type===\"fft\"?t.getFloatFrequencyData(u):this._type===\"waveform\"\u0026\u0026t.getFloatTimeDomainData(u)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach((i,u)=\u003e{i.fftSize=2*t,this._buffers[u]=new Float32Array(t)})}get channels(){return this._analysers.length}get type(){return this._type}set type(t){Ae(t===\"waveform\"||t===\"fft\",\"Analyser: invalid type: \"+t),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach(i=\u003ei.smoothingTimeConstant=t)}dispose(){return super.dispose(),this._analysers.forEach(t=\u003et.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class Ja extends ye{constructor(){super(V(Ja.getDefaults(),arguments)),this.name=\"MeterBase\",this.input=this.output=this._analyser=new so({context:this.context,size:256,type:\"waveform\"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class ph extends Ja{constructor(){super(V(ph.getDefaults(),arguments,[\"smoothing\"])),this.name=\"Meter\",this._rms=0;let t=V(ph.getDefaults(),arguments,[\"smoothing\"]);this.input=this.output=this._analyser=new so({context:this.context,size:256,type:\"waveform\",channels:t.channels}),this.smoothing=t.smoothing,this.normalRange=t.normalRange}static getDefaults(){return Object.assign(Ja.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return pu(\"'getLevel' has been changed to 'getValue'\"),this.getValue()}getValue(){let t=this._analyser.getValue(),i=(this.channels===1?[t]:t).map(u=\u003e{let h=u.reduce((m,g)=\u003em+g*g,0),f=Math.sqrt(h/u.length);return this._rms=Math.max(f,this._rms*this.smoothing),this.normalRange?this._rms:mu(this._rms)});return this.channels===1?i[0]:i}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class dh extends Ja{constructor(){super(V(dh.getDefaults(),arguments,[\"size\"])),this.name=\"FFT\";let t=V(dh.getDefaults(),arguments,[\"size\"]);this.normalRange=t.normalRange,this._analyser.type=\"fft\",this.size=t.size}static getDefaults(){return Object.assign(ye.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map(t=\u003ethis.normalRange?Ri(t):t)}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return Ae(0\u003c=t\u0026\u0026t\u003cthis.size,\"index must be greater than or equal to 0 and less than \"+this.size),t*this.context.sampleRate/(2*this.size)}}class fm extends Ja{constructor(){super(V(fm.getDefaults(),arguments)),this.name=\"DCMeter\",this._analyser.type=\"waveform\",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class fh extends Ja{constructor(){super(V(fh.getDefaults(),arguments,[\"size\"])),this.name=\"Waveform\";let t=V(fh.getDefaults(),arguments,[\"size\"]);this._analyser.type=\"waveform\",this.size=t.size}static getDefaults(){return Object.assign(Ja.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class Bt extends ye{constructor(){super(V(Bt.getDefaults(),arguments,[\"solo\"])),this.name=\"Solo\";let t=V(Bt.getDefaults(),arguments,[\"solo\"]);this.input=this.output=new Ce({context:this.context}),Bt._allSolos.has(this.context)||Bt._allSolos.set(this.context,new Set),Bt._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(ye.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Bt._allSolos.get(this.context).forEach(i=\u003ei._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Bt._soloed.has(this.context)||Bt._soloed.set(this.context,new Set),Bt._soloed.get(this.context).add(this)}_removeSolo(){Bt._soloed.has(this.context)\u0026\u0026Bt._soloed.get(this.context).delete(this)}_isSoloed(){return Bt._soloed.has(this.context)\u0026\u0026Bt._soloed.get(this.context).has(this)}_noSolos(){return!Bt._soloed.has(this.context)||Bt._soloed.has(this.context)\u0026\u0026Bt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Bt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Bt._allSolos=new Map,Bt._soloed=new Map;class wu extends ye{constructor(){super(V(wu.getDefaults(),arguments,[\"pan\",\"volume\"])),this.name=\"PanVol\";let t=V(wu.getDefaults(),arguments,[\"pan\",\"volume\"]);this._panner=this.input=new ro({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Qr({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Ie(this,[\"pan\",\"volume\"])}static getDefaults(){return Object.assign(ye.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class es extends ye{constructor(){super(V(es.getDefaults(),arguments,[\"volume\",\"pan\"])),this.name=\"Channel\";let t=V(es.getDefaults(),arguments,[\"volume\",\"pan\"]);this._solo=this.input=new Bt({solo:t.solo,context:this.context}),this._panVol=this.output=new wu({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ie(this,[\"pan\",\"volume\"])}static getDefaults(){return Object.assign(ye.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return es.buses.has(t)||es.buses.set(t,new Ce({context:this.context})),es.buses.get(t)}send(t,i=0){let u=this._getBus(t),h=new Ce({context:this.context,units:\"decibels\",gain:i});return this.connect(h),h.connect(u),h}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}es.buses=new Map;class mm extends ye{constructor(){super(V(mm.getDefaults(),arguments)),this.name=\"Mono\",this.input=new Ce({context:this.context}),this._merge=this.output=new Pa({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class io extends ye{constructor(){super(V(io.getDefaults(),arguments,[\"lowFrequency\",\"highFrequency\"])),this.name=\"MultibandSplit\",this.input=new Ce({context:this.context}),this.output=void 0,this.low=new Wn({context:this.context,frequency:0,type:\"lowpass\"}),this._lowMidFilter=new Wn({context:this.context,frequency:0,type:\"highpass\"}),this.mid=new Wn({context:this.context,frequency:0,type:\"lowpass\"}),this.high=new Wn({context:this.context,frequency:0,type:\"highpass\"}),this._internalChannels=[this.low,this.mid,this.high];let t=V(io.getDefaults(),arguments,[\"lowFrequency\",\"highFrequency\"]);this.lowFrequency=new We({context:this.context,units:\"frequency\",value:t.lowFrequency}),this.highFrequency=new We({context:this.context,units:\"frequency\",value:t.highFrequency}),this.Q=new We({context:this.context,units:\"positive\",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Ie(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"])}static getDefaults(){return Object.assign(ye.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),fu(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class T5 extends ye{constructor(){super(...arguments),this.name=\"Listener\",this.positionX=new Ue({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ue({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ue({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ue({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ue({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ue({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ue({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ue({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ue({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ye.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}kl(l=\u003e{l.listener=new T5({context:l})}),Nl(l=\u003e{l.listener.dispose()});class mh extends ye{constructor(){super(V(mh.getDefaults(),arguments,[\"positionX\",\"positionY\",\"positionZ\"])),this.name=\"Panner3D\";let t=V(mh.getDefaults(),arguments,[\"positionX\",\"positionY\",\"positionZ\"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new Ue({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new Ue({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new Ue({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new Ue({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new Ue({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new Ue({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(ye.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:\"inverse\",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:\"equalpower\",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,i,u){return this.positionX.value=t,this.positionY.value=i,this.positionZ.value=u,this}setOrientation(t,i,u){return this.orientationX.value=t,this.orientationY.value=i,this.orientationZ.value=u,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class qu extends ye{constructor(){super(V(qu.getDefaults(),arguments)),this.name=\"Recorder\";let t=V(qu.getDefaults(),arguments);this.input=new Ce({context:this.context}),Ae(qu.supported,\"Media Recorder API is not available\"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return ye.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return ka!==null\u0026\u0026Reflect.has(ka,\"MediaRecorder\")}get state(){return this._recorder.state===\"inactive\"?\"stopped\":this._recorder.state===\"paused\"?\"paused\":\"started\"}start(){return Nt(this,void 0,void 0,function*(){Ae(this.state!==\"started\",\"Recorder is already started\");let t=new Promise(i=\u003e{let u=()=\u003e{this._recorder.removeEventListener(\"start\",u,!1),i()};this._recorder.addEventListener(\"start\",u,!1)});return this._recorder.start(),yield t})}stop(){return Nt(this,void 0,void 0,function*(){Ae(this.state!==\"stopped\",\"Recorder is not started\");let t=new Promise(i=\u003e{let u=h=\u003e{this._recorder.removeEventListener(\"dataavailable\",u,!1),i(h.data)};this._recorder.addEventListener(\"dataavailable\",u,!1)});return this._recorder.stop(),yield t})}pause(){return Ae(this.state===\"started\",\"Recorder must be started\"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class na extends ye{constructor(){super(V(na.getDefaults(),arguments,[\"threshold\",\"ratio\"])),this.name=\"Compressor\",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;let t=V(na.getDefaults(),arguments,[\"threshold\",\"ratio\"]);this.threshold=new Ue({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:\"decibels\",value:t.threshold}),this.attack=new Ue({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:\"time\",value:t.attack}),this.release=new Ue({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:\"time\",value:t.release}),this.knee=new Ue({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:\"decibels\",value:t.knee}),this.ratio=new Ue({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:\"positive\",value:t.ratio}),Ie(this,[\"knee\",\"release\",\"attack\",\"ratio\",\"threshold\"])}static getDefaults(){return Object.assign(ye.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class vh extends ye{constructor(){super(Object.assign(V(vh.getDefaults(),arguments,[\"threshold\",\"smoothing\"]))),this.name=\"Gate\";let t=V(vh.getDefaults(),arguments,[\"threshold\",\"smoothing\"]);this._follower=new ao({context:this.context,smoothing:t.smoothing}),this._gt=new _u({context:this.context,value:Ri(t.threshold)}),this.input=new Ce({context:this.context}),this._gate=this.output=new Ce({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(ye.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return mu(this._gt.value)}set threshold(t){this._gt.value=Ri(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class gh extends ye{constructor(){super(Object.assign(V(gh.getDefaults(),arguments,[\"threshold\"]))),this.name=\"Limiter\";let t=V(gh.getDefaults(),arguments,[\"threshold\"]);this._compressor=this.input=this.output=new na({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,Ie(this,\"threshold\")}static getDefaults(){return Object.assign(ye.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class yh extends ye{constructor(){super(Object.assign(V(yh.getDefaults(),arguments))),this.name=\"MidSideCompressor\";let t=V(yh.getDefaults(),arguments);this._midSideSplit=this.input=new ku({context:this.context}),this._midSideMerge=this.output=new Nu({context:this.context}),this.mid=new na(Object.assign(t.mid,{context:this.context})),this.side=new na(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Ie(this,[\"mid\",\"side\"])}static getDefaults(){return Object.assign(ye.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class _h extends ye{constructor(){super(Object.assign(V(_h.getDefaults(),arguments))),this.name=\"MultibandCompressor\";let t=V(_h.getDefaults(),arguments);this._splitter=this.input=new io({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new Ce({context:this.context}),this.low=new na(Object.assign(t.low,{context:this.context})),this.mid=new na(Object.assign(t.mid,{context:this.context})),this.high=new na(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Ie(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"])}static getDefaults(){return Object.assign(ye.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class bh extends ye{constructor(){super(V(bh.getDefaults(),arguments,[\"low\",\"mid\",\"high\"])),this.name=\"EQ3\",this.output=new Ce({context:this.context}),this._internalChannels=[];let t=V(bh.getDefaults(),arguments,[\"low\",\"mid\",\"high\"]);this.input=this._multibandSplit=new io({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new Ce({context:this.context,gain:t.low,units:\"decibels\"}),this._midGain=new Ce({context:this.context,gain:t.mid,units:\"decibels\"}),this._highGain=new Ce({context:this.context,gain:t.high,units:\"decibels\"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Ie(this,[\"low\",\"mid\",\"high\",\"lowFrequency\",\"highFrequency\"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(ye.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),fu(this,[\"low\",\"mid\",\"high\",\"lowFrequency\",\"highFrequency\"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class xh extends ye{constructor(){super(V(xh.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"Convolver\",this._convolver=this.context.createConvolver();let t=V(xh.getDefaults(),arguments,[\"url\",\"onload\"]);this._buffer=new ut(t.url,i=\u003e{this.buffer=i,t.onload()}),this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this._buffer.loaded\u0026\u0026(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(ye.getDefaults(),{normalize:!0,onload:rt})}load(t){return Nt(this,void 0,void 0,function*(){this.buffer=yield this._buffer.load(t)})}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t\u0026\u0026this._buffer.set(t),this._convolver.buffer\u0026\u0026(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));let i=this._buffer.get();this._convolver.buffer=i||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function M5(){return Pt().now()}function S5(){return Pt().immediate()}let P5=Pt().transport;function O5(){return Pt().transport}let C5=Pt().destination,A5=Pt().destination;function R5(){return Pt().destination}let E5=Pt().listener;function j5(){return Pt().listener}let D5=Pt().draw;function I5(){return Pt().draw}let F5=Pt();function V5(){return ut.loaded()}let L5=ut,W5=Ii,B5=wa}])})});var Me=v((z0e,sc)=\u003e{function aee(n){return n\u0026\u0026n.__esModule?n:{default:n}}sc.exports=aee;sc.exports.default=sc.exports,sc.exports.__esModule=!0});var Oo=v((G0e,hr)=\u003e{function Xp(n){return typeof Symbol==\"function\"\u0026\u0026typeof Symbol.iterator==\"symbol\"?(hr.exports=Xp=function(r){return typeof r},hr.exports.default=hr.exports,hr.exports.__esModule=!0):(hr.exports=Xp=function(r){return r\u0026\u0026typeof Symbol==\"function\"\u0026\u0026r.constructor===Symbol\u0026\u0026r!==Symbol.prototype?\"symbol\":typeof r},hr.exports.default=hr.exports,hr.exports.__esModule=!0),Xp(n)}hr.exports=Xp;hr.exports.default=hr.exports,hr.exports.__esModule=!0});var tn=v((U0e,ic)=\u003e{var see=Oo().default;function NR(n){if(typeof WeakMap!=\"function\")return null;var e=new WeakMap,r=new WeakMap;return(NR=function(o){return o?r:e})(n)}function iee(n,e){if(!e\u0026\u0026n\u0026\u0026n.__esModule)return n;if(n===null||see(n)!==\"object\"\u0026\u0026typeof n!=\"function\")return{default:n};var r=NR(e);if(r\u0026\u0026r.has(n))return r.get(n);var s={},o=Object.defineProperty\u0026\u0026Object.getOwnPropertyDescriptor;for(var c in n)if(c!==\"default\"\u0026\u0026Object.prototype.hasOwnProperty.call(n,c)){var p=o?Object.getOwnPropertyDescriptor(n,c):null;p\u0026\u0026(p.get||p.set)?Object.defineProperty(s,c,p):s[c]=n[c]}return s.default=n,r\u0026\u0026r.set(n,s),s}ic.exports=iee;ic.exports.default=ic.exports,ic.exports.__esModule=!0});var Hg=v(($0e,oc)=\u003e{function oee(n,e){if(n==null)return{};var r={},s=Object.keys(n),o,c;for(c=0;c\u003cs.length;c++)o=s[c],!(e.indexOf(o)\u003e=0)\u0026\u0026(r[o]=n[o]);return r}oc.exports=oee;oc.exports.default=oc.exports,oc.exports.__esModule=!0});var Sn=v((H0e,uc)=\u003e{var uee=Hg();function cee(n,e){if(n==null)return{};var r=uee(n,e),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);for(o=0;o\u003cc.length;o++)s=c[o],!(e.indexOf(s)\u003e=0)\u0026\u0026(!Object.prototype.propertyIsEnumerable.call(n,s)||(r[s]=n[s]))}return r}uc.exports=cee;uc.exports.default=uc.exports,uc.exports.__esModule=!0});var yt=v((Y0e,Ra)=\u003e{function Yg(){return Ra.exports=Yg=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)\u0026\u0026(n[s]=r[s])}return n},Ra.exports.default=Ra.exports,Ra.exports.__esModule=!0,Yg.apply(this,arguments)}Ra.exports=Yg;Ra.exports.default=Ra.exports,Ra.exports.__esModule=!0});var qR=v((X0e,wR)=\u003e{\"use strict\";var lee=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\";wR.exports=lee});var PR=v((Z0e,SR)=\u003e{\"use strict\";var hee=qR();function TR(){}function MR(){}MR.resetWarningCache=TR;SR.exports=function(){function n(s,o,c,p,d,y){if(y!==hee){var b=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw b.name=\"Invariant Violation\",b}}n.isRequired=n;function e(){return n}var r={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:MR,resetWarningCache:TR};return r.PropTypes=r,r}});var It=v((J0e,OR)=\u003e{OR.exports=PR()();var K0e,Q0e});var ms=v((ebe,AR)=\u003e{function CR(n){var e,r,s=\"\";if(typeof n==\"string\"||typeof n==\"number\")s+=n;else if(typeof n==\"object\")if(Array.isArray(n))for(e=0;e\u003cn.length;e++)n[e]\u0026\u0026(r=CR(n[e]))\u0026\u0026(s\u0026\u0026(s+=\" \"),s+=r);else for(e in n)n[e]\u0026\u0026(s\u0026\u0026(s+=\" \"),s+=e);return s}AR.exports=function(){for(var n=0,e,r,s=\"\";n\u003carguments.length;)(e=arguments[n++])\u0026\u0026(r=CR(e))\u0026\u0026(s\u0026\u0026(s+=\" \"),s+=r);return s}});var Zp=v(Xg=\u003e{\"use strict\";Object.defineProperty(Xg,\"__esModule\",{value:!0});Xg.default=pee;function pee(n,e){return function(){return null}}});var jR=v(Qp=\u003e{\"use strict\";var RR=Me();Object.defineProperty(Qp,\"__esModule\",{value:!0});Qp.isPlainObject=Kp;Qp.default=ER;var dee=RR(yt()),fee=RR(Oo());function Kp(n){return n\u0026\u0026(0,fee.default)(n)===\"object\"\u0026\u0026n.constructor===Object}function ER(n,e){var r=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:{clone:!0},s=r.clone?(0,dee.default)({},n):n;return Kp(n)\u0026\u0026Kp(e)\u0026\u0026Object.keys(e).forEach(function(o){o!==\"__proto__\"\u0026\u0026(Kp(e[o])\u0026\u0026o in n?s[o]=ER(n[o],e[o],r):s[o]=e[o])}),s}});var WR=v(Jp=\u003e{\"use strict\";var DR=Me();Object.defineProperty(Jp,\"__esModule\",{value:!0});Jp.default=void 0;var IR=DR(It()),FR=DR(Zp());function mee(n){var e=n.prototype,r=e===void 0?{}:e;return Boolean(r.isReactComponent)}function VR(n,e,r,s,o){var c=n[e],p=o||e;if(c==null)return null;var d,y=c.type;return typeof y==\"function\"\u0026\u0026!mee(y)\u0026\u0026(d=\"Did you accidentally use a plain function component for an element instead?\"),d!==void 0?new Error(\"Invalid \".concat(s,\" `\").concat(p,\"` supplied to `\").concat(r,\"`. \")+\"Expected an element that can hold a ref. \".concat(d,\" \")+\"For more information see https://material-ui.com/r/caveat-with-refs-guide\"):null}var LR=(0,FR.default)(IR.default.element,VR);LR.isRequired=(0,FR.default)(IR.default.element.isRequired,VR);var vee=LR;Jp.default=vee});var BR=v(ed=\u003e{\"use strict\";var gee=Me(),yee=tn();Object.defineProperty(ed,\"__esModule\",{value:!0});ed.default=void 0;var _ee=yee(It()),bee=gee(Zp());function xee(n){var e=n.prototype,r=e===void 0?{}:e;return Boolean(r.isReactComponent)}function kee(n,e,r,s,o){var c=n[e],p=o||e;if(c==null)return null;var d;return typeof c==\"function\"\u0026\u0026!xee(c)\u0026\u0026(d=\"Did you accidentally provide a plain function component instead?\"),d!==void 0?new Error(\"Invalid \".concat(s,\" `\").concat(p,\"` supplied to `\").concat(r,\"`. \")+\"Expected an element type that can hold a ref. \".concat(d,\" \")+\"For more information see https://material-ui.com/r/caveat-with-refs-guide\"):null}var Nee=(0,bee.default)(_ee.elementType,kee);ed.default=Nee});var lc=v((sbe,cc)=\u003e{function wee(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}cc.exports=wee;cc.exports.default=cc.exports,cc.exports.__esModule=!0});var UR=v(hc=\u003e{\"use strict\";var zR=Me();Object.defineProperty(hc,\"__esModule\",{value:!0});hc.default=Mee;hc.specialProperty=void 0;var qee=zR(lc()),Tee=zR(yt()),GR=\"exact-prop: \\u200B\";hc.specialProperty=GR;function Mee(n){return n}});var $R=v(Zg=\u003e{\"use strict\";Object.defineProperty(Zg,\"__esModule\",{value:!0});Zg.default=See;function See(n){for(var e=\"https://material-ui.com/production-error/?code=\"+n,r=1;r\u003carguments.length;r+=1)e+=\"\u0026args[]=\"+encodeURIComponent(arguments[r]);return\"Minified Material-UI error #\"+n+\"; visit \"+e+\" for the full message.\"}});var QR=v(Tt=\u003e{\"use strict\";var td=60103,nd=60106,pc=60107,dc=60108,fc=60114,mc=60109,vc=60110,gc=60112,yc=60113,Kg=60120,_c=60115,bc=60116,HR=60121,YR=60122,XR=60117,ZR=60129,KR=60131;typeof Symbol==\"function\"\u0026\u0026Symbol.for\u0026\u0026(dn=Symbol.for,td=dn(\"react.element\"),nd=dn(\"react.portal\"),pc=dn(\"react.fragment\"),dc=dn(\"react.strict_mode\"),fc=dn(\"react.profiler\"),mc=dn(\"react.provider\"),vc=dn(\"react.context\"),gc=dn(\"react.forward_ref\"),yc=dn(\"react.suspense\"),Kg=dn(\"react.suspense_list\"),_c=dn(\"react.memo\"),bc=dn(\"react.lazy\"),HR=dn(\"react.block\"),YR=dn(\"react.server.block\"),XR=dn(\"react.fundamental\"),ZR=dn(\"react.debug_trace_mode\"),KR=dn(\"react.legacy_hidden\"));var dn;function Ur(n){if(typeof n==\"object\"\u0026\u0026n!==null){var e=n.$$typeof;switch(e){case td:switch(n=n.type,n){case pc:case fc:case dc:case yc:case Kg:return n;default:switch(n=n\u0026\u0026n.$$typeof,n){case vc:case gc:case bc:case _c:case mc:return n;default:return e}}case nd:return e}}}var Pee=mc,Oee=td,Cee=gc,Aee=pc,Ree=bc,Eee=_c,jee=nd,Dee=fc,Iee=dc,Fee=yc;Tt.ContextConsumer=vc;Tt.ContextProvider=Pee;Tt.Element=Oee;Tt.ForwardRef=Cee;Tt.Fragment=Aee;Tt.Lazy=Ree;Tt.Memo=Eee;Tt.Portal=jee;Tt.Profiler=Dee;Tt.StrictMode=Iee;Tt.Suspense=Fee;Tt.isAsyncMode=function(){return!1};Tt.isConcurrentMode=function(){return!1};Tt.isContextConsumer=function(n){return Ur(n)===vc};Tt.isContextProvider=function(n){return Ur(n)===mc};Tt.isElement=function(n){return typeof n==\"object\"\u0026\u0026n!==null\u0026\u0026n.$$typeof===td};Tt.isForwardRef=function(n){return Ur(n)===gc};Tt.isFragment=function(n){return Ur(n)===pc};Tt.isLazy=function(n){return Ur(n)===bc};Tt.isMemo=function(n){return Ur(n)===_c};Tt.isPortal=function(n){return Ur(n)===nd};Tt.isProfiler=function(n){return Ur(n)===fc};Tt.isStrictMode=function(n){return Ur(n)===dc};Tt.isSuspense=function(n){return Ur(n)===yc};Tt.isValidElementType=function(n){return typeof n==\"string\"||typeof n==\"function\"||n===pc||n===fc||n===ZR||n===dc||n===yc||n===Kg||n===KR||typeof n==\"object\"\u0026\u0026n!==null\u0026\u0026(n.$$typeof===bc||n.$$typeof===_c||n.$$typeof===mc||n.$$typeof===vc||n.$$typeof===gc||n.$$typeof===XR||n.$$typeof===HR||n[0]===YR)};Tt.typeOf=Ur});var Qg=v((cbe,JR)=\u003e{\"use strict\";JR.exports=QR()});var a2=v(rd=\u003e{\"use strict\";var Vee=Me();Object.defineProperty(rd,\"__esModule\",{value:!0});rd.getFunctionName=t2;rd.default=Bee;var Lee=Vee(Oo()),e2=Qg(),Wee=/^\\s*function(?:\\s|\\s*\\/\\*.*\\*\\/\\s*)+([^(\\s/]*)\\s*/;function t2(n){var e=\"\".concat(n).match(Wee),r=e\u0026\u0026e[1];return r||\"\"}function n2(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:\"\";return n.displayName||n.name||t2(n)||e}function r2(n,e,r){var s=n2(e);return n.displayName||(s!==\"\"?\"\".concat(r,\"(\").concat(s,\")\"):r)}function Bee(n){if(n!=null){if(typeof n==\"string\")return n;if(typeof n==\"function\")return n2(n,\"Component\");if((0,Lee.default)(n)===\"object\")switch(n.$$typeof){case e2.ForwardRef:return r2(n,n.render,\"ForwardRef\");case e2.Memo:return r2(n,n.type,\"memo\");default:return}}}});var s2=v(Jg=\u003e{\"use strict\";Object.defineProperty(Jg,\"__esModule\",{value:!0});Jg.default=zee;function zee(n,e,r,s,o){return null;var c,p}});var i2=v(ad=\u003e{\"use strict\";Object.defineProperty(ad,\"__esModule\",{value:!0});ad.default=void 0;var Gee=typeof window!=\"undefined\"\u0026\u0026window.Math==Math?window:typeof self!=\"undefined\"\u0026\u0026self.Math==Math?self:Function(\"return this\")();ad.default=Gee});var o2=v(sd=\u003e{\"use strict\";var Uee=Me();Object.defineProperty(sd,\"__esModule\",{value:!0});sd.default=void 0;var ey=Uee(It()),$ee=ey.default.oneOfType([ey.default.func,ey.default.object]),Hee=$ee;sd.default=Hee});var nn=v(Sr=\u003e{\"use strict\";var pa=Me();Object.defineProperty(Sr,\"__esModule\",{value:!0});Object.defineProperty(Sr,\"chainPropTypes\",{enumerable:!0,get:function(){return Yee.default}});Object.defineProperty(Sr,\"deepmerge\",{enumerable:!0,get:function(){return Xee.default}});Object.defineProperty(Sr,\"elementAcceptingRef\",{enumerable:!0,get:function(){return Zee.default}});Object.defineProperty(Sr,\"elementTypeAcceptingRef\",{enumerable:!0,get:function(){return Kee.default}});Object.defineProperty(Sr,\"exactProp\",{enumerable:!0,get:function(){return Qee.default}});Object.defineProperty(Sr,\"formatMuiErrorMessage\",{enumerable:!0,get:function(){return Jee.default}});Object.defineProperty(Sr,\"getDisplayName\",{enumerable:!0,get:function(){return ete.default}});Object.defineProperty(Sr,\"HTMLElementType\",{enumerable:!0,get:function(){return tte.default}});Object.defineProperty(Sr,\"ponyfillGlobal\",{enumerable:!0,get:function(){return nte.default}});Object.defineProperty(Sr,\"refType\",{enumerable:!0,get:function(){return rte.default}});var Yee=pa(Zp()),Xee=pa(jR()),Zee=pa(WR()),Kee=pa(BR()),Qee=pa(UR()),Jee=pa($R()),ete=pa(a2()),tte=pa(s2()),nte=pa(i2()),rte=pa(o2())});var ty=v(id=\u003e{\"use strict\";Object.defineProperty(id,\"__esModule\",{value:!0});id.default=void 0;var ate=typeof Symbol==\"function\"\u0026\u0026Symbol.for,ste=ate?Symbol.for(\"mui.nested\"):\"__THEME_NESTED__\";id.default=ste});var u2=v(ny=\u003e{\"use strict\";var ite=Me();Object.defineProperty(ny,\"__esModule\",{value:!0});ny.default=cte;var ote=ite(ty()),ute=[\"checked\",\"disabled\",\"error\",\"focused\",\"focusVisible\",\"required\",\"expanded\",\"selected\"];function cte(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.disableGlobal,r=e===void 0?!1:e,s=n.productionPrefix,o=s===void 0?\"jss\":s,c=n.seed,p=c===void 0?\"\":c,d=p===\"\"?\"\":\"\".concat(p,\"-\"),y=0,b=function(){return y+=1,y};return function(w,k){var S=k.options.name;if(S\u0026\u0026S.indexOf(\"Mui\")===0\u0026\u0026!k.options.link\u0026\u0026!r){if(ute.indexOf(w.key)!==-1)return\"Mui-\".concat(w.key);var L=\"\".concat(d).concat(S,\"-\").concat(w.key);return!k.options.theme[ote.default]||p!==\"\"?L:\"\".concat(L,\"-\").concat(b())}return\"\".concat(d).concat(o).concat(b());var j}}});var od=v(ry=\u003e{\"use strict\";var lte=Me();Object.defineProperty(ry,\"__esModule\",{value:!0});Object.defineProperty(ry,\"default\",{enumerable:!0,get:function(){return hte.default}});var hte=lte(u2())});var c2=v(ay=\u003e{\"use strict\";Object.defineProperty(ay,\"__esModule\",{value:!0});ay.default=pte;function pte(n){return n}});var l2=v(sy=\u003e{\"use strict\";var dte=Me();Object.defineProperty(sy,\"__esModule\",{value:!0});Object.defineProperty(sy,\"default\",{enumerable:!0,get:function(){return fte.default}});var fte=dte(c2())});var h2=v(iy=\u003e{\"use strict\";Object.defineProperty(iy,\"__esModule\",{value:!0});iy.default=mte;function mte(n){var e=n.theme,r=n.name,s=n.props;if(!e||!e.props||!e.props[r])return s;var o=e.props[r],c;for(c in o)s[c]===void 0\u0026\u0026(s[c]=o[c]);return s}});var uy=v(oy=\u003e{\"use strict\";var vte=Me();Object.defineProperty(oy,\"__esModule\",{value:!0});Object.defineProperty(oy,\"default\",{enumerable:!0,get:function(){return gte.default}});var gte=vte(h2())});var ud=v((kbe,p2)=\u003e{\"use strict\";var yte=!0;function _te(n,e){if(!yte){if(n)return;var r=\"Warning: \"+e;typeof console!=\"undefined\"\u0026\u0026console.warn(r);try{throw Error(r)}catch(s){}}}p2.exports=_te});var cy=v(cd=\u003e{\"use strict\";Object.defineProperty(cd,\"__esModule\",{value:!0});var d2=typeof Symbol==\"function\"\u0026\u0026typeof Symbol.iterator==\"symbol\"?function(n){return typeof n}:function(n){return n\u0026\u0026typeof Symbol==\"function\"\u0026\u0026n.constructor===Symbol\u0026\u0026n!==Symbol.prototype?\"symbol\":typeof n},bte=cd.isBrowser=(typeof window==\"undefined\"?\"undefined\":d2(window))===\"object\"\u0026\u0026(typeof document==\"undefined\"?\"undefined\":d2(document))===\"object\"\u0026\u0026document.nodeType===9;cd.default=bte});var ly=v((wbe,xc)=\u003e{function f2(n,e){for(var r=0;r\u003ce.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s\u0026\u0026(s.writable=!0),Object.defineProperty(n,s.key,s)}}function xte(n,e,r){return e\u0026\u0026f2(n.prototype,e),r\u0026\u0026f2(n,r),n}xc.exports=xte;xc.exports.default=xc.exports,xc.exports.__esModule=!0});var m2=v((qbe,Ea)=\u003e{function hy(n,e){return Ea.exports=hy=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s},Ea.exports.default=Ea.exports,Ea.exports.__esModule=!0,hy(n,e)}Ea.exports=hy;Ea.exports.default=Ea.exports,Ea.exports.__esModule=!0});var v2=v((Tbe,kc)=\u003e{var kte=m2();function Nte(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,kte(n,e)}kc.exports=Nte;kc.exports.default=kc.exports,kc.exports.__esModule=!0});var g2=v((Mbe,Nc)=\u003e{function wte(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}Nc.exports=wte;Nc.exports.default=Nc.exports,Nc.exports.__esModule=!0});var vs=v(pr=\u003e{\"use strict\";Object.defineProperty(pr,\"__esModule\",{value:!0});var qte=yt(),Tte=cy(),Mte=ud(),Ste=ly(),Pte=v2(),Ote=g2(),Cte=Hg();function ti(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var da=ti(qte),Ate=ti(Tte),y2=ti(Mte),py=ti(Ste),_2=ti(Pte),b2=ti(Ote),Rte=ti(Cte),Ete={}.constructor;function dy(n){if(n==null||typeof n!=\"object\")return n;if(Array.isArray(n))return n.map(dy);if(n.constructor!==Ete)return n;var e={};for(var r in n)e[r]=dy(n[r]);return e}function fy(n,e,r){n===void 0\u0026\u0026(n=\"unnamed\");var s=r.jss,o=dy(e),c=s.plugins.onCreateRule(n,o,r);return c||(n[0]===\"@\",null)}var x2=function(e,r){for(var s=\"\",o=0;o\u003ce.length\u0026\u0026e[o]!==\"!important\";o++)s\u0026\u0026(s+=r),s+=e[o];return s},Co=function(e,r){if(r===void 0\u0026\u0026(r=!1),!Array.isArray(e))return e;var s=\"\";if(Array.isArray(e[0]))for(var o=0;o\u003ce.length\u0026\u0026e[o]!==\"!important\";o++)s\u0026\u0026(s+=\", \"),s+=x2(e[o],\" \");else s=x2(e,\", \");return!r\u0026\u0026e[e.length-1]===\"!important\"\u0026\u0026(s+=\" !important\"),s};function wc(n,e){for(var r=\"\",s=0;s\u003ce;s++)r+=\"  \";return r+n}function qc(n,e,r){r===void 0\u0026\u0026(r={});var s=\"\";if(!e)return s;var o=r,c=o.indent,p=c===void 0?0:c,d=e.fallbacks;if(n\u0026\u0026p++,d)if(Array.isArray(d))for(var y=0;y\u003cd.length;y++){var b=d[y];for(var w in b){var k=b[w];k!=null\u0026\u0026(s\u0026\u0026(s+=`\n`),s+=wc(w+\": \"+Co(k)+\";\",p))}}else for(var S in d){var L=d[S];L!=null\u0026\u0026(s\u0026\u0026(s+=`\n`),s+=wc(S+\": \"+Co(L)+\";\",p))}for(var j in e){var B=e[j];B!=null\u0026\u0026j!==\"fallbacks\"\u0026\u0026(s\u0026\u0026(s+=`\n`),s+=wc(j+\": \"+Co(B)+\";\",p))}return!s\u0026\u0026!r.allowEmpty||!n?s:(p--,s\u0026\u0026(s=`\n`+s+`\n`),wc(n+\" {\"+s,p)+wc(\"}\",p))}var jte=/([[\\].#*$\u003e\u003c+~=|^:(),\"'`\\s])/g,k2=typeof CSS!=\"undefined\"\u0026\u0026CSS.escape,my=function(n){return k2?k2(n):n.replace(jte,\"\\\\$1\")},N2=function(){function n(r,s,o){this.type=\"style\",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var c=o.sheet,p=o.Renderer;this.key=r,this.options=o,this.style=s,c?this.renderer=c.renderer:p\u0026\u0026(this.renderer=new p)}var e=n.prototype;return e.prop=function(s,o,c){if(o===void 0)return this.style[s];var p=c?c.force:!1;if(!p\u0026\u0026this.style[s]===o)return this;var d=o;(!c||c.process!==!1)\u0026\u0026(d=this.options.jss.plugins.onChangeValue(o,s,this));var y=d==null||d===!1,b=s in this.style;if(y\u0026\u0026!b\u0026\u0026!p)return this;var w=y\u0026\u0026b;if(w?delete this.style[s]:this.style[s]=d,this.renderable\u0026\u0026this.renderer)return w?this.renderer.removeProperty(this.renderable,s):this.renderer.setProperty(this.renderable,s,d),this;var k=this.options.sheet;return k\u0026\u0026k.attached,this},n}(),vy=function(n){_2.default(e,n);function e(s,o,c){var p;p=n.call(this,s,o,c)||this,p.selectorText=void 0,p.id=void 0,p.renderable=void 0;var d=c.selector,y=c.scoped,b=c.sheet,w=c.generateId;return d?p.selectorText=d:y!==!1\u0026\u0026(p.id=w(b2.default(b2.default(p)),b),p.selectorText=\".\"+my(p.id)),p}var r=e.prototype;return r.applyTo=function(o){var c=this.renderer;if(c){var p=this.toJSON();for(var d in p)c.setProperty(o,d,p[d])}return this},r.toJSON=function(){var o={};for(var c in this.style){var p=this.style[c];typeof p!=\"object\"?o[c]=p:Array.isArray(p)\u0026\u0026(o[c]=Co(p))}return o},r.toString=function(o){var c=this.options.sheet,p=c?c.options.link:!1,d=p?da.default({},o,{allowEmpty:!0}):o;return qc(this.selectorText,this.style,d)},py.default(e,[{key:\"selector\",set:function(o){if(o!==this.selectorText){this.selectorText=o;var c=this.renderer,p=this.renderable;if(!(!p||!c)){var d=c.setSelector(p,o);d||c.replaceRule(p,this)}}},get:function(){return this.selectorText}}]),e}(N2),Dte={onCreateRule:function(e,r,s){return e[0]===\"@\"||s.parent\u0026\u0026s.parent.type===\"keyframes\"?null:new vy(e,r,s)}},gy={indent:1,children:!0},Ite=/@([\\w-]+)/,Fte=function(){function n(r,s,o){this.type=\"conditional\",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=r;var c=r.match(Ite);this.at=c?c[1]:\"unknown\",this.query=o.name||\"@\"+this.at,this.options=o,this.rules=new ld(da.default({},o,{parent:this}));for(var p in s)this.rules.add(p,s[p]);this.rules.process()}var e=n.prototype;return e.getRule=function(s){return this.rules.get(s)},e.indexOf=function(s){return this.rules.indexOf(s)},e.addRule=function(s,o,c){var p=this.rules.add(s,o,c);return p?(this.options.jss.plugins.onProcessRule(p),p):null},e.toString=function(s){if(s===void 0\u0026\u0026(s=gy),s.indent==null\u0026\u0026(s.indent=gy.indent),s.children==null\u0026\u0026(s.children=gy.children),s.children===!1)return this.query+\" {}\";var o=this.rules.toString(s);return o?this.query+` {\n`+o+`\n}`:\"\"},n}(),Vte=/@media|@supports\\s+/,Lte={onCreateRule:function(e,r,s){return Vte.test(e)?new Fte(e,r,s):null}},yy={indent:1,children:!0},Wte=/@keyframes\\s+([\\w-]+)/,_y=function(){function n(r,s,o){this.type=\"keyframes\",this.at=\"@keyframes\",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var c=r.match(Wte);c\u0026\u0026c[1]?this.name=c[1]:this.name=\"noname\",this.key=this.type+\"-\"+this.name,this.options=o;var p=o.scoped,d=o.sheet,y=o.generateId;this.id=p===!1?this.name:my(y(this,d)),this.rules=new ld(da.default({},o,{parent:this}));for(var b in s)this.rules.add(b,s[b],da.default({},o,{parent:this}));this.rules.process()}var e=n.prototype;return e.toString=function(s){if(s===void 0\u0026\u0026(s=yy),s.indent==null\u0026\u0026(s.indent=yy.indent),s.children==null\u0026\u0026(s.children=yy.children),s.children===!1)return this.at+\" \"+this.id+\" {}\";var o=this.rules.toString(s);return o\u0026\u0026(o=`\n`+o+`\n`),this.at+\" \"+this.id+\" {\"+o+\"}\"},n}(),Bte=/@keyframes\\s+/,zte=/\\$([\\w-]+)/g,by=function(e,r){return typeof e==\"string\"?e.replace(zte,function(s,o){return o in r?r[o]:s}):e},w2=function(e,r,s){var o=e[r],c=by(o,s);c!==o\u0026\u0026(e[r]=c)},Gte={onCreateRule:function(e,r,s){return typeof e==\"string\"\u0026\u0026Bte.test(e)?new _y(e,r,s):null},onProcessStyle:function(e,r,s){return r.type!==\"style\"||!s||(\"animation-name\"in e\u0026\u0026w2(e,\"animation-name\",s.keyframes),\"animation\"in e\u0026\u0026w2(e,\"animation\",s.keyframes)),e},onChangeValue:function(e,r,s){var o=s.options.sheet;if(!o)return e;switch(r){case\"animation\":return by(e,o.keyframes);case\"animation-name\":return by(e,o.keyframes);default:return e}}},Ute=function(n){_2.default(e,n);function e(){for(var s,o=arguments.length,c=new Array(o),p=0;p\u003co;p++)c[p]=arguments[p];return s=n.call.apply(n,[this].concat(c))||this,s.renderable=void 0,s}var r=e.prototype;return r.toString=function(o){var c=this.options.sheet,p=c?c.options.link:!1,d=p?da.default({},o,{allowEmpty:!0}):o;return qc(this.key,this.style,d)},e}(N2),$te={onCreateRule:function(e,r,s){return s.parent\u0026\u0026s.parent.type===\"keyframes\"?new Ute(e,r,s):null}},Hte=function(){function n(r,s,o){this.type=\"font-face\",this.at=\"@font-face\",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=r,this.style=s,this.options=o}var e=n.prototype;return e.toString=function(s){if(Array.isArray(this.style)){for(var o=\"\",c=0;c\u003cthis.style.length;c++)o+=qc(this.at,this.style[c]),this.style[c+1]\u0026\u0026(o+=`\n`);return o}return qc(this.at,this.style,s)},n}(),Yte=/@font-face/,Xte={onCreateRule:function(e,r,s){return Yte.test(e)?new Hte(e,r,s):null}},Zte=function(){function n(r,s,o){this.type=\"viewport\",this.at=\"@viewport\",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=r,this.style=s,this.options=o}var e=n.prototype;return e.toString=function(s){return qc(this.key,this.style,s)},n}(),Kte={onCreateRule:function(e,r,s){return e===\"@viewport\"||e===\"@-ms-viewport\"?new Zte(e,r,s):null}},Qte=function(){function n(r,s,o){this.type=\"simple\",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=r,this.value=s,this.options=o}var e=n.prototype;return e.toString=function(s){if(Array.isArray(this.value)){for(var o=\"\",c=0;c\u003cthis.value.length;c++)o+=this.key+\" \"+this.value[c]+\";\",this.value[c+1]\u0026\u0026(o+=`\n`);return o}return this.key+\" \"+this.value+\";\"},n}(),Jte={\"@charset\":!0,\"@import\":!0,\"@namespace\":!0},ene={onCreateRule:function(e,r,s){return e in Jte?new Qte(e,r,s):null}},q2=[Dte,Lte,Gte,$te,Xte,Kte,ene],tne={process:!0},T2={force:!0,process:!0},ld=function(){function n(r){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=r,this.classes=r.classes,this.keyframes=r.keyframes}var e=n.prototype;return e.add=function(s,o,c){var p=this.options,d=p.parent,y=p.sheet,b=p.jss,w=p.Renderer,k=p.generateId,S=p.scoped,L=da.default({classes:this.classes,parent:d,sheet:y,jss:b,Renderer:w,generateId:k,scoped:S,name:s,keyframes:this.keyframes,selector:void 0},c),j=s;s in this.raw\u0026\u0026(j=s+\"-d\"+this.counter++),this.raw[j]=o,j in this.classes\u0026\u0026(L.selector=\".\"+my(this.classes[j]));var B=fy(j,o,L);if(!B)return null;this.register(B);var ee=L.index===void 0?this.index.length:L.index;return this.index.splice(ee,0,B),B},e.get=function(s){return this.map[s]},e.remove=function(s){this.unregister(s),delete this.raw[s.key],this.index.splice(this.index.indexOf(s),1)},e.indexOf=function(s){return this.index.indexOf(s)},e.process=function(){var s=this.options.jss.plugins;this.index.slice(0).forEach(s.onProcessRule,s)},e.register=function(s){this.map[s.key]=s,s instanceof vy?(this.map[s.selector]=s,s.id\u0026\u0026(this.classes[s.key]=s.id)):s instanceof _y\u0026\u0026this.keyframes\u0026\u0026(this.keyframes[s.name]=s.id)},e.unregister=function(s){delete this.map[s.key],s instanceof vy?(delete this.map[s.selector],delete this.classes[s.key]):s instanceof _y\u0026\u0026delete this.keyframes[s.name]},e.update=function(){var s,o,c;if(typeof(arguments.length\u003c=0?void 0:arguments[0])==\"string\"?(s=arguments.length\u003c=0?void 0:arguments[0],o=arguments.length\u003c=1?void 0:arguments[1],c=arguments.length\u003c=2?void 0:arguments[2]):(o=arguments.length\u003c=0?void 0:arguments[0],c=arguments.length\u003c=1?void 0:arguments[1],s=null),s)this.updateOne(this.map[s],o,c);else for(var p=0;p\u003cthis.index.length;p++)this.updateOne(this.index[p],o,c)},e.updateOne=function(s,o,c){c===void 0\u0026\u0026(c=tne);var p=this.options,d=p.jss.plugins,y=p.sheet;if(s.rules instanceof n){s.rules.update(o,c);return}var b=s,w=b.style;if(d.onUpdate(o,s,y,c),c.process\u0026\u0026w\u0026\u0026w!==b.style){d.onProcessStyle(b.style,b,y);for(var k in b.style){var S=b.style[k],L=w[k];S!==L\u0026\u0026b.prop(k,S,T2)}for(var j in w){var B=b.style[j],ee=w[j];B==null\u0026\u0026B!==ee\u0026\u0026b.prop(j,null,T2)}}},e.toString=function(s){for(var o=\"\",c=this.options.sheet,p=c?c.options.link:!1,d=0;d\u003cthis.index.length;d++){var y=this.index[d],b=y.toString(s);!b\u0026\u0026!p||(o\u0026\u0026(o+=`\n`),o+=b)}return o},n}(),M2=function(){function n(r,s){this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=da.default({},s,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),s.Renderer\u0026\u0026(this.renderer=new s.Renderer(this)),this.rules=new ld(this.options);for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=n.prototype;return e.attach=function(){return this.attached?this:(this.renderer\u0026\u0026this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer\u0026\u0026this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(s,o,c){var p=this.queue;this.attached\u0026\u0026!p\u0026\u0026(this.queue=[]);var d=this.rules.add(s,o,c);return d?(this.options.jss.plugins.onProcessRule(d),this.attached?(this.deployed\u0026\u0026(p?p.push(d):(this.insertRule(d),this.queue\u0026\u0026(this.queue.forEach(this.insertRule,this),this.queue=void 0))),d):(this.deployed=!1,d)):null},e.insertRule=function(s){this.renderer\u0026\u0026this.renderer.insertRule(s)},e.addRules=function(s,o){var c=[];for(var p in s){var d=this.addRule(p,s[p],o);d\u0026\u0026c.push(d)}return c},e.getRule=function(s){return this.rules.get(s)},e.deleteRule=function(s){var o=typeof s==\"object\"?s:this.rules.get(s);return!o||this.attached\u0026\u0026!o.renderable?!1:(this.rules.remove(o),this.attached\u0026\u0026o.renderable\u0026\u0026this.renderer?this.renderer.deleteRule(o.renderable):!0)},e.indexOf=function(s){return this.rules.indexOf(s)},e.deploy=function(){return this.renderer\u0026\u0026this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var s;return(s=this.rules).update.apply(s,arguments),this},e.updateOne=function(s,o,c){return this.rules.updateOne(s,o,c),this},e.toString=function(s){return this.rules.toString(s)},n}(),nne=function(){function n(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=n.prototype;return e.onCreateRule=function(s,o,c){for(var p=0;p\u003cthis.registry.onCreateRule.length;p++){var d=this.registry.onCreateRule[p](s,o,c);if(d)return d}return null},e.onProcessRule=function(s){if(!s.isProcessed){for(var o=s.options.sheet,c=0;c\u003cthis.registry.onProcessRule.length;c++)this.registry.onProcessRule[c](s,o);s.style\u0026\u0026this.onProcessStyle(s.style,s,o),s.isProcessed=!0}},e.onProcessStyle=function(s,o,c){for(var p=0;p\u003cthis.registry.onProcessStyle.length;p++)o.style=this.registry.onProcessStyle[p](o.style,o,c)},e.onProcessSheet=function(s){for(var o=0;o\u003cthis.registry.onProcessSheet.length;o++)this.registry.onProcessSheet[o](s)},e.onUpdate=function(s,o,c,p){for(var d=0;d\u003cthis.registry.onUpdate.length;d++)this.registry.onUpdate[d](s,o,c,p)},e.onChangeValue=function(s,o,c){for(var p=s,d=0;d\u003cthis.registry.onChangeValue.length;d++)p=this.registry.onChangeValue[d](p,o,c);return p},e.use=function(s,o){o===void 0\u0026\u0026(o={queue:\"external\"});var c=this.plugins[o.queue];c.indexOf(s)===-1\u0026\u0026(c.push(s),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(p,d){for(var y in d)y in p\u0026\u0026p[y].push(d[y]);return p},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},n}(),S2=function(){function n(){this.registry=[]}var e=n.prototype;return e.add=function(s){var o=this.registry,c=s.options.index;if(o.indexOf(s)===-1){if(o.length===0||c\u003e=this.index){o.push(s);return}for(var p=0;p\u003co.length;p++)if(o[p].options.index\u003ec){o.splice(p,0,s);return}}},e.reset=function(){this.registry=[]},e.remove=function(s){var o=this.registry.indexOf(s);this.registry.splice(o,1)},e.toString=function(s){for(var o=s===void 0?{}:s,c=o.attached,p=Rte.default(o,[\"attached\"]),d=\"\",y=0;y\u003cthis.registry.length;y++){var b=this.registry[y];c!=null\u0026\u0026b.attached!==c||(d\u0026\u0026(d+=`\n`),d+=b.toString(p))}return d},py.default(n,[{key:\"index\",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),n}(),Ao=new S2,xy=typeof globalThis!=\"undefined\"?globalThis:typeof window!=\"undefined\"\u0026\u0026window.Math===Math?window:typeof self!=\"undefined\"\u0026\u0026self.Math===Math?self:Function(\"return this\")(),ky=\"2f1acc6c3a606b082e5eef5e54414ffb\";xy[ky]==null\u0026\u0026(xy[ky]=0);var P2=xy[ky]++,rne=1e10,Ny=function(e){e===void 0\u0026\u0026(e={});var r=0,s=function(c,p){r+=1,r\u003erne;var d=\"\",y=\"\";return p\u0026\u0026(p.options.classNamePrefix\u0026\u0026(y=p.options.classNamePrefix),p.options.jss.id!=null\u0026\u0026(d=String(p.options.jss.id))),e.minify?\"\"+(y||\"c\")+P2+d+r:y+c.key+\"-\"+P2+(d?\"-\"+d:\"\")+\"-\"+r};return s},O2=function(e){var r;return function(){return r||(r=e()),r}},ane=function(e,r){try{return e.attributeStyleMap?e.attributeStyleMap.get(r):e.style.getPropertyValue(r)}catch(s){return\"\"}},sne=function(e,r,s){try{var o=s;if(Array.isArray(s)\u0026\u0026(o=Co(s,!0),s[s.length-1]===\"!important\"))return e.style.setProperty(r,o,\"important\"),!0;e.attributeStyleMap?e.attributeStyleMap.set(r,o):e.style.setProperty(r,o)}catch(c){return!1}return!0},ine=function(e,r){try{e.attributeStyleMap?e.attributeStyleMap.delete(r):e.style.removeProperty(r)}catch(s){}},one=function(e,r){return e.selectorText=r,e.selectorText===r},C2=O2(function(){return document.querySelector(\"head\")});function une(n,e){for(var r=0;r\u003cn.length;r++){var s=n[r];if(s.attached\u0026\u0026s.options.index\u003ee.index\u0026\u0026s.options.insertionPoint===e.insertionPoint)return s}return null}function cne(n,e){for(var r=n.length-1;r\u003e=0;r--){var s=n[r];if(s.attached\u0026\u0026s.options.insertionPoint===e.insertionPoint)return s}return null}function lne(n){for(var e=C2(),r=0;r\u003ce.childNodes.length;r++){var s=e.childNodes[r];if(s.nodeType===8\u0026\u0026s.nodeValue.trim()===n)return s}return null}function hne(n){var e=Ao.registry;if(e.length\u003e0){var r=une(e,n);if(r\u0026\u0026r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if(r=cne(e,n),r\u0026\u0026r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var s=n.insertionPoint;if(s\u0026\u0026typeof s==\"string\"){var o=lne(s);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}function pne(n,e){var r=e.insertionPoint,s=hne(e);if(s!==!1\u0026\u0026s.parent){s.parent.insertBefore(n,s.node);return}if(r\u0026\u0026typeof r.nodeType==\"number\"){var o=r,c=o.parentNode;c\u0026\u0026c.insertBefore(n,o.nextSibling);return}C2().appendChild(n)}var dne=O2(function(){var n=document.querySelector('meta[property=\"csp-nonce\"]');return n?n.getAttribute(\"content\"):null}),A2=function(e,r,s){try{if(\"insertRule\"in e){var o=e;o.insertRule(r,s)}else if(\"appendRule\"in e){var c=e;c.appendRule(r)}}catch(p){return!1}return e.cssRules[s]},R2=function(e,r){var s=e.cssRules.length;return r===void 0||r\u003es?s:r},fne=function(){var e=document.createElement(\"style\");return e.textContent=`\n`,e},mne=function(){function n(r){this.getPropertyValue=ane,this.setProperty=sne,this.removeProperty=ine,this.setSelector=one,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],r\u0026\u0026Ao.add(r),this.sheet=r;var s=this.sheet?this.sheet.options:{},o=s.media,c=s.meta,p=s.element;this.element=p||fne(),this.element.setAttribute(\"data-jss\",\"\"),o\u0026\u0026this.element.setAttribute(\"media\",o),c\u0026\u0026this.element.setAttribute(\"data-meta\",c);var d=dne();d\u0026\u0026this.element.setAttribute(\"nonce\",d)}var e=n.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){pne(this.element,this.sheet.options);var s=Boolean(this.sheet\u0026\u0026this.sheet.deployed);this.hasInsertedRules\u0026\u0026s\u0026\u0026(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(!!this.sheet){var s=this.element.parentNode;s\u0026\u0026s.removeChild(this.element),this.sheet.options.link\u0026\u0026(this.cssRules=[],this.element.textContent=`\n`)}},e.deploy=function(){var s=this.sheet;if(!!s){if(s.options.link){this.insertRules(s.rules);return}this.element.textContent=`\n`+s.toString()+`\n`}},e.insertRules=function(s,o){for(var c=0;c\u003cs.index.length;c++)this.insertRule(s.index[c],c,o)},e.insertRule=function(s,o,c){if(c===void 0\u0026\u0026(c=this.element.sheet),s.rules){var p=s,d=c;if(s.type===\"conditional\"||s.type===\"keyframes\"){var y=R2(c,o);if(d=A2(c,p.toString({children:!1}),y),d===!1)return!1;this.refCssRule(s,y,d)}return this.insertRules(p.rules,d),d}var b=s.toString();if(!b)return!1;var w=R2(c,o),k=A2(c,b,w);return k===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(s,w,k),k)},e.refCssRule=function(s,o,c){s.renderable=c,s.options.parent instanceof M2\u0026\u0026(this.cssRules[o]=c)},e.deleteRule=function(s){var o=this.element.sheet,c=this.indexOf(s);return c===-1?!1:(o.deleteRule(c),this.cssRules.splice(c,1),!0)},e.indexOf=function(s){return this.cssRules.indexOf(s)},e.replaceRule=function(s,o){var c=this.indexOf(s);return c===-1?!1:(this.element.sheet.deleteRule(c),this.cssRules.splice(c,1),this.insertRule(o,c))},e.getRules=function(){return this.element.sheet.cssRules},n}(),vne=0,gne=function(){function n(r){this.id=vne++,this.version=\"10.7.1\",this.plugins=new nne,this.options={id:{minify:!1},createGenerateId:Ny,Renderer:Ate.default?mne:null,plugins:[]},this.generateId=Ny({minify:!1});for(var s=0;s\u003cq2.length;s++)this.plugins.use(q2[s],{queue:\"internal\"});this.setup(r)}var e=n.prototype;return e.setup=function(s){return s===void 0\u0026\u0026(s={}),s.createGenerateId\u0026\u0026(this.options.createGenerateId=s.createGenerateId),s.id\u0026\u0026(this.options.id=da.default({},this.options.id,s.id)),(s.createGenerateId||s.id)\u0026\u0026(this.generateId=this.options.createGenerateId(this.options.id)),s.insertionPoint!=null\u0026\u0026(this.options.insertionPoint=s.insertionPoint),\"Renderer\"in s\u0026\u0026(this.options.Renderer=s.Renderer),s.plugins\u0026\u0026this.use.apply(this,s.plugins),this},e.createStyleSheet=function(s,o){o===void 0\u0026\u0026(o={});var c=o,p=c.index;typeof p!=\"number\"\u0026\u0026(p=Ao.index===0?0:Ao.index+1);var d=new M2(s,da.default({},o,{jss:this,generateId:o.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:p}));return this.plugins.onProcessSheet(d),d},e.removeStyleSheet=function(s){return s.detach(),Ao.remove(s),this},e.createRule=function(s,o,c){if(o===void 0\u0026\u0026(o={}),c===void 0\u0026\u0026(c={}),typeof s==\"object\")return this.createRule(void 0,s,o);var p=da.default({},c,{name:s,jss:this,Renderer:this.options.Renderer});p.generateId||(p.generateId=this.generateId),p.classes||(p.classes={}),p.keyframes||(p.keyframes={});var d=fy(s,o,p);return d\u0026\u0026this.plugins.onProcessRule(d),d},e.use=function(){for(var s=this,o=arguments.length,c=new Array(o),p=0;p\u003co;p++)c[p]=arguments[p];return c.forEach(function(d){s.plugins.use(d)}),this},n}();function E2(n){var e=null;for(var r in n){var s=n[r],o=typeof s;if(o===\"function\")e||(e={}),e[r]=s;else if(o===\"object\"\u0026\u0026s!==null\u0026\u0026!Array.isArray(s)){var c=E2(s);c\u0026\u0026(e||(e={}),e[r]=c)}}return e}var yne=function(){function n(){this.length=0,this.sheets=new WeakMap}var e=n.prototype;return e.get=function(s){var o=this.sheets.get(s);return o\u0026\u0026o.sheet},e.add=function(s,o){this.sheets.has(s)||(this.length++,this.sheets.set(s,{sheet:o,refs:0}))},e.manage=function(s){var o=this.sheets.get(s);if(o)return o.refs===0\u0026\u0026o.sheet.attach(),o.refs++,o.sheet;y2.default(!1,\"[JSS] SheetsManager: can't find sheet to manage\")},e.unmanage=function(s){var o=this.sheets.get(s);o?o.refs\u003e0\u0026\u0026(o.refs--,o.refs===0\u0026\u0026o.sheet.detach()):y2.default(!1,\"SheetsManager: can't find sheet to unmanage\")},py.default(n,[{key:\"size\",get:function(){return this.length}}]),n}();var _ne=typeof CSS==\"object\"\u0026\u0026CSS!=null\u0026\u0026\"number\"in CSS,j2=function(e){return new gne(e)},bne=j2();pr.RuleList=ld;pr.SheetsManager=yne;pr.SheetsRegistry=S2;pr.create=j2;pr.createGenerateId=Ny;pr.createRule=fy;pr.default=bne;pr.getDynamicStyles=E2;pr.hasCSSTOMSupport=_ne;pr.sheets=Ao;pr.toCssValue=Co});var I2=v(Ty=\u003e{\"use strict\";Object.defineProperty(Ty,\"__esModule\",{value:!0});var Pbe=ud(),xne=vs(),D2=Date.now(),wy=\"fnValues\"+D2,qy=\"fnStyle\"+ ++D2,kne=function(){return{onCreateRule:function(r,s,o){if(typeof s!=\"function\")return null;var c=xne.createRule(r,{},o);return c[qy]=s,c},onProcessStyle:function(r,s){if(wy in s||qy in s)return r;var o={};for(var c in r){var p=r[c];typeof p==\"function\"\u0026\u0026(delete r[c],o[c]=p)}return s[wy]=o,r},onUpdate:function(r,s,o,c){var p=s,d=p[qy];if(d\u0026\u0026(p.style=d(r)||{},!1))for(var y in p.style);var b=p[wy];if(b)for(var w in b)p.prop(w,b[w](r),c)}}};Ty.default=kne});var V2=v(Sy=\u003e{\"use strict\";Object.defineProperty(Sy,\"__esModule\",{value:!0});var Nne=yt(),wne=vs();function qne(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var hd=qne(Nne),gs=\"@global\",My=\"@global \",Tne=function(){function n(r,s,o){this.type=\"global\",this.at=gs,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=r,this.options=o,this.rules=new wne.RuleList(hd.default({},o,{parent:this}));for(var c in s)this.rules.add(c,s[c]);this.rules.process()}var e=n.prototype;return e.getRule=function(s){return this.rules.get(s)},e.addRule=function(s,o,c){var p=this.rules.add(s,o,c);return p\u0026\u0026this.options.jss.plugins.onProcessRule(p),p},e.indexOf=function(s){return this.rules.indexOf(s)},e.toString=function(){return this.rules.toString()},n}(),Mne=function(){function n(r,s,o){this.type=\"global\",this.at=gs,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=r,this.options=o;var c=r.substr(My.length);this.rule=o.jss.createRule(c,s,hd.default({},o,{parent:this}))}var e=n.prototype;return e.toString=function(s){return this.rule?this.rule.toString(s):\"\"},n}(),Sne=/\\s*,\\s*/g;function F2(n,e){for(var r=n.split(Sne),s=\"\",o=0;o\u003cr.length;o++)s+=e+\" \"+r[o].trim(),r[o+1]\u0026\u0026(s+=\", \");return s}function Pne(n,e){var r=n.options,s=n.style,o=s?s[gs]:null;if(!!o){for(var c in o)e.addRule(c,o[c],hd.default({},r,{selector:F2(c,n.selector)}));delete s[gs]}}function One(n,e){var r=n.options,s=n.style;for(var o in s)if(!(o[0]!==\"@\"||o.substr(0,gs.length)!==gs)){var c=F2(o.substr(gs.length),n.selector);e.addRule(c,s[o],hd.default({},r,{selector:c})),delete s[o]}}function Cne(){function n(r,s,o){if(!r)return null;if(r===gs)return new Tne(r,s,o);if(r[0]===\"@\"\u0026\u0026r.substr(0,My.length)===My)return new Mne(r,s,o);var c=o.parent;return c\u0026\u0026(c.type===\"global\"||c.options.parent\u0026\u0026c.options.parent.type===\"global\")\u0026\u0026(o.scoped=!1),o.scoped===!1\u0026\u0026(o.selector=r),null}function e(r,s){r.type!==\"style\"||!s||(Pne(r,s),One(r,s))}return{onCreateRule:n,onProcessRule:e}}Sy.default=Cne});var W2=v(Oy=\u003e{\"use strict\";Object.defineProperty(Oy,\"__esModule\",{value:!0});var Ane=yt(),Abe=ud();function Rne(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var Py=Rne(Ane),L2=/\\s*,\\s*/g,Ene=/\u0026/g,jne=/\\$([\\w-]+)/g;function Dne(){function n(o,c){return function(p,d){var y=o.getRule(d)||c\u0026\u0026c.getRule(d);return y?(y=y,y.selector):d}}function e(o,c){for(var p=c.split(L2),d=o.split(L2),y=\"\",b=0;b\u003cp.length;b++)for(var w=p[b],k=0;k\u003cd.length;k++){var S=d[k];y\u0026\u0026(y+=\", \"),y+=S.indexOf(\"\u0026\")!==-1?S.replace(Ene,w):w+\" \"+S}return y}function r(o,c,p){if(p)return Py.default({},p,{index:p.index+1});var d=o.options.nestingLevel;d=d===void 0?1:d+1;var y=Py.default({},o.options,{nestingLevel:d,index:c.indexOf(o)+1});return delete y.name,y}function s(o,c,p){if(c.type!==\"style\")return o;var d=c,y=d.options.parent,b,w;for(var k in o){var S=k.indexOf(\"\u0026\")!==-1,L=k[0]===\"@\";if(!(!S\u0026\u0026!L)){if(b=r(d,y,b),S){var j=e(k,d.selector);w||(w=n(y,p)),j=j.replace(jne,w),y.addRule(j,o[k],Py.default({},b,{selector:j}))}else L\u0026\u0026y.addRule(k,{},b).addRule(d.key,o[k],{selector:d.selector});delete o[k]}}return o}return{onProcessStyle:s}}Oy.default=Dne});var z2=v((Ebe,B2)=\u003e{\"use strict\";var Ine=/[A-Z]/g,Fne=/^ms-/,Cy={};function Vne(n){return\"-\"+n.toLowerCase()}function Lne(n){if(Cy.hasOwnProperty(n))return Cy[n];var e=n.replace(Ine,Vne);return Cy[n]=Fne.test(e)?\"-\"+e:e}B2.exports=Lne});var U2=v(Ay=\u003e{\"use strict\";Object.defineProperty(Ay,\"__esModule\",{value:!0});var Wne=z2();function Bne(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var G2=Bne(Wne);function pd(n){var e={};for(var r in n){var s=r.indexOf(\"--\")===0?r:G2.default(r);e[s]=n[r]}return n.fallbacks\u0026\u0026(Array.isArray(n.fallbacks)?e.fallbacks=n.fallbacks.map(pd):e.fallbacks=pd(n.fallbacks)),e}function zne(){function n(r){if(Array.isArray(r)){for(var s=0;s\u003cr.length;s++)r[s]=pd(r[s]);return r}return pd(r)}function e(r,s,o){if(s.indexOf(\"--\")===0)return r;var c=G2.default(s);return s===c?r:(o.prop(c,r),null)}return{onProcessStyle:n,onChangeValue:e}}Ay.default=zne});var H2=v(Ey=\u003e{\"use strict\";Object.defineProperty(Ey,\"__esModule\",{value:!0});var Ry=vs(),pe=Ry.hasCSSTOMSupport\u0026\u0026CSS?CSS.px:\"px\",dd=Ry.hasCSSTOMSupport\u0026\u0026CSS?CSS.ms:\"ms\",Ro=Ry.hasCSSTOMSupport\u0026\u0026CSS?CSS.percent:\"%\",Gne={\"animation-delay\":dd,\"animation-duration\":dd,\"background-position\":pe,\"background-position-x\":pe,\"background-position-y\":pe,\"background-size\":pe,border:pe,\"border-bottom\":pe,\"border-bottom-left-radius\":pe,\"border-bottom-right-radius\":pe,\"border-bottom-width\":pe,\"border-left\":pe,\"border-left-width\":pe,\"border-radius\":pe,\"border-right\":pe,\"border-right-width\":pe,\"border-top\":pe,\"border-top-left-radius\":pe,\"border-top-right-radius\":pe,\"border-top-width\":pe,\"border-width\":pe,\"border-block\":pe,\"border-block-end\":pe,\"border-block-end-width\":pe,\"border-block-start\":pe,\"border-block-start-width\":pe,\"border-block-width\":pe,\"border-inline\":pe,\"border-inline-end\":pe,\"border-inline-end-width\":pe,\"border-inline-start\":pe,\"border-inline-start-width\":pe,\"border-inline-width\":pe,\"border-start-start-radius\":pe,\"border-start-end-radius\":pe,\"border-end-start-radius\":pe,\"border-end-end-radius\":pe,margin:pe,\"margin-bottom\":pe,\"margin-left\":pe,\"margin-right\":pe,\"margin-top\":pe,\"margin-block\":pe,\"margin-block-end\":pe,\"margin-block-start\":pe,\"margin-inline\":pe,\"margin-inline-end\":pe,\"margin-inline-start\":pe,padding:pe,\"padding-bottom\":pe,\"padding-left\":pe,\"padding-right\":pe,\"padding-top\":pe,\"padding-block\":pe,\"padding-block-end\":pe,\"padding-block-start\":pe,\"padding-inline\":pe,\"padding-inline-end\":pe,\"padding-inline-start\":pe,\"mask-position-x\":pe,\"mask-position-y\":pe,\"mask-size\":pe,height:pe,width:pe,\"min-height\":pe,\"max-height\":pe,\"min-width\":pe,\"max-width\":pe,bottom:pe,left:pe,top:pe,right:pe,inset:pe,\"inset-block\":pe,\"inset-block-end\":pe,\"inset-block-start\":pe,\"inset-inline\":pe,\"inset-inline-end\":pe,\"inset-inline-start\":pe,\"box-shadow\":pe,\"text-shadow\":pe,\"column-gap\":pe,\"column-rule\":pe,\"column-rule-width\":pe,\"column-width\":pe,\"font-size\":pe,\"font-size-delta\":pe,\"letter-spacing\":pe,\"text-decoration-thickness\":pe,\"text-indent\":pe,\"text-stroke\":pe,\"text-stroke-width\":pe,\"word-spacing\":pe,motion:pe,\"motion-offset\":pe,outline:pe,\"outline-offset\":pe,\"outline-width\":pe,perspective:pe,\"perspective-origin-x\":Ro,\"perspective-origin-y\":Ro,\"transform-origin\":Ro,\"transform-origin-x\":Ro,\"transform-origin-y\":Ro,\"transform-origin-z\":Ro,\"transition-delay\":dd,\"transition-duration\":dd,\"vertical-align\":pe,\"flex-basis\":pe,\"shape-margin\":pe,size:pe,gap:pe,grid:pe,\"grid-gap\":pe,\"row-gap\":pe,\"grid-row-gap\":pe,\"grid-column-gap\":pe,\"grid-template-rows\":pe,\"grid-template-columns\":pe,\"grid-auto-rows\":pe,\"grid-auto-columns\":pe,\"box-shadow-x\":pe,\"box-shadow-y\":pe,\"box-shadow-blur\":pe,\"box-shadow-spread\":pe,\"font-line-height\":pe,\"text-shadow-x\":pe,\"text-shadow-y\":pe,\"text-shadow-blur\":pe};function $2(n){var e=/(-[a-z])/g,r=function(p){return p[1].toUpperCase()},s={};for(var o in n)s[o]=n[o],s[o.replace(e,r)]=n[o];return s}var Une=$2(Gne);function Tc(n,e,r){if(e==null)return e;if(Array.isArray(e))for(var s=0;s\u003ce.length;s++)e[s]=Tc(n,e[s],r);else if(typeof e==\"object\")if(n===\"fallbacks\")for(var o in e)e[o]=Tc(o,e[o],r);else for(var c in e)e[c]=Tc(n+\"-\"+c,e[c],r);else if(typeof e==\"number\"\u0026\u0026isNaN(e)===!1){var p=r[n]||Une[n];return p\u0026\u0026!(e===0\u0026\u0026p===pe)?typeof p==\"function\"?p(e).toString():\"\"+e+p:e.toString()}return e}function $ne(n){n===void 0\u0026\u0026(n={});var e=$2(n);function r(o,c){if(c.type!==\"style\")return o;for(var p in o)o[p]=Tc(p,o[p],e);return o}function s(o,c){return Tc(c,o,e)}return{onProcessStyle:r,onChangeValue:s}}Ey.default=$ne});var jy=v((Ibe,Mc)=\u003e{function Hne(n,e){(e==null||e\u003en.length)\u0026\u0026(e=n.length);for(var r=0,s=new Array(e);r\u003ce;r++)s[r]=n[r];return s}Mc.exports=Hne;Mc.exports.default=Mc.exports,Mc.exports.__esModule=!0});var Y2=v((Fbe,Sc)=\u003e{var Yne=jy();function Xne(n){if(Array.isArray(n))return Yne(n)}Sc.exports=Xne;Sc.exports.default=Sc.exports,Sc.exports.__esModule=!0});var X2=v((Vbe,Pc)=\u003e{function Zne(n){if(typeof Symbol!=\"undefined\"\u0026\u0026n[Symbol.iterator]!=null||n[\"@@iterator\"]!=null)return Array.from(n)}Pc.exports=Zne;Pc.exports.default=Pc.exports,Pc.exports.__esModule=!0});var Dy=v((Lbe,Oc)=\u003e{var Z2=jy();function Kne(n,e){if(!!n){if(typeof n==\"string\")return Z2(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r===\"Object\"\u0026\u0026n.constructor\u0026\u0026(r=n.constructor.name),r===\"Map\"||r===\"Set\")return Array.from(n);if(r===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z2(n,e)}}Oc.exports=Kne;Oc.exports.default=Oc.exports,Oc.exports.__esModule=!0});var K2=v((Wbe,Cc)=\u003e{function Qne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Cc.exports=Qne;Cc.exports.default=Cc.exports,Cc.exports.__esModule=!0});var Rc=v((Bbe,Ac)=\u003e{var Jne=Y2(),ere=X2(),tre=Dy(),nre=K2();function rre(n){return Jne(n)||ere(n)||tre(n)||nre()}Ac.exports=rre;Ac.exports.default=Ac.exports,Ac.exports.__esModule=!0});var iE=v(jo=\u003e{\"use strict\";Object.defineProperty(jo,\"__esModule\",{value:!0});function Q2(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n.default:n}var fd=Q2(cy()),are=Q2(Rc()),Ec=\"\",Iy=\"\",J2=\"\",eE=\"\",sre=fd\u0026\u0026\"ontouchstart\"in document.documentElement;if(fd){md={Moz:\"-moz-\",ms:\"-ms-\",O:\"-o-\",Webkit:\"-webkit-\"},tE=document.createElement(\"p\"),vd=tE.style,nE=\"Transform\";for(gd in md)if(gd+nE in vd){Ec=gd,Iy=md[gd];break}Ec===\"Webkit\"\u0026\u0026\"msHyphens\"in vd\u0026\u0026(Ec=\"ms\",Iy=md.ms,eE=\"edge\"),Ec===\"Webkit\"\u0026\u0026\"-apple-trailing-word\"in vd\u0026\u0026(J2=\"apple\")}var md,tE,vd,nE,gd,et={js:Ec,css:Iy,vendor:J2,browser:eE,isTouch:sre};function ire(n){return n[1]===\"-\"||et.js===\"ms\"?n:\"@\"+et.css+\"keyframes\"+n.substr(10)}var ore={noPrefill:[\"appearance\"],supportedProperty:function(e){return e!==\"appearance\"?!1:et.js===\"ms\"?\"-webkit-\"+e:et.css+e}},ure={noPrefill:[\"color-adjust\"],supportedProperty:function(e){return e!==\"color-adjust\"?!1:et.js===\"Webkit\"?et.css+\"print-\"+e:e}},cre=/[-\\s]+(.)?/g;function lre(n,e){return e?e.toUpperCase():\"\"}function Fy(n){return n.replace(cre,lre)}function ys(n){return Fy(\"-\"+n)}var hre={noPrefill:[\"mask\"],supportedProperty:function(e,r){if(!/^mask/.test(e))return!1;if(et.js===\"Webkit\"){var s=\"mask-image\";if(Fy(s)in r)return e;if(et.js+ys(s)in r)return et.css+e}return e}},pre={noPrefill:[\"text-orientation\"],supportedProperty:function(e){return e!==\"text-orientation\"?!1:et.vendor===\"apple\"\u0026\u0026!et.isTouch?et.css+e:e}},dre={noPrefill:[\"transform\"],supportedProperty:function(e,r,s){return e!==\"transform\"?!1:s.transform?e:et.css+e}},fre={noPrefill:[\"transition\"],supportedProperty:function(e,r,s){return e!==\"transition\"?!1:s.transition?e:et.css+e}},mre={noPrefill:[\"writing-mode\"],supportedProperty:function(e){return e!==\"writing-mode\"?!1:et.js===\"Webkit\"||et.js===\"ms\"\u0026\u0026et.browser!==\"edge\"?et.css+e:e}},vre={noPrefill:[\"user-select\"],supportedProperty:function(e){return e!==\"user-select\"?!1:et.js===\"Moz\"||et.js===\"ms\"||et.vendor===\"apple\"?et.css+e:e}},gre={supportedProperty:function(e,r){if(!/^break-/.test(e))return!1;if(et.js===\"Webkit\"){var s=\"WebkitColumn\"+ys(e);return s in r?et.css+\"column-\"+e:!1}if(et.js===\"Moz\"){var o=\"page\"+ys(e);return o in r?\"page-\"+e:!1}return!1}},yre={supportedProperty:function(e,r){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(et.js===\"Moz\")return e;var s=e.replace(\"-inline\",\"\");return et.js+ys(s)in r?et.css+s:!1}},_re={supportedProperty:function(e,r){return Fy(e)in r?e:!1}},bre={supportedProperty:function(e,r){var s=ys(e);return e[0]===\"-\"||e[0]===\"-\"\u0026\u0026e[1]===\"-\"?e:et.js+s in r?et.css+e:et.js!==\"Webkit\"\u0026\u0026\"Webkit\"+s in r?\"-webkit-\"+e:!1}},xre={supportedProperty:function(e){return e.substring(0,11)!==\"scroll-snap\"?!1:et.js===\"ms\"?\"\"+et.css+e:e}},kre={supportedProperty:function(e){return e!==\"overscroll-behavior\"?!1:et.js===\"ms\"?et.css+\"scroll-chaining\":e}},Nre={\"flex-grow\":\"flex-positive\",\"flex-shrink\":\"flex-negative\",\"flex-basis\":\"flex-preferred-size\",\"justify-content\":\"flex-pack\",order:\"flex-order\",\"align-items\":\"flex-align\",\"align-content\":\"flex-line-pack\"},wre={supportedProperty:function(e,r){var s=Nre[e];return s\u0026\u0026et.js+ys(s)in r?et.css+s:!1}},rE={flex:\"box-flex\",\"flex-grow\":\"box-flex\",\"flex-direction\":[\"box-orient\",\"box-direction\"],order:\"box-ordinal-group\",\"align-items\":\"box-align\",\"flex-flow\":[\"box-orient\",\"box-direction\"],\"justify-content\":\"box-pack\"},qre=Object.keys(rE),Tre=function(e){return et.css+e},Mre={supportedProperty:function(e,r,s){var o=s.multiple;if(qre.indexOf(e)\u003e-1){var c=rE[e];if(!Array.isArray(c))return et.js+ys(c)in r?et.css+c:!1;if(!o)return!1;for(var p=0;p\u003cc.length;p++)if(!(et.js+ys(c[0])in r))return!1;return c.map(Tre)}return!1}},aE=[ore,ure,hre,pre,dre,fre,mre,vre,gre,yre,_re,bre,xre,kre,wre,Mre],sE=aE.filter(function(n){return n.supportedProperty}).map(function(n){return n.supportedProperty}),Sre=aE.filter(function(n){return n.noPrefill}).reduce(function(n,e){return n.push.apply(n,are(e.noPrefill)),n},[]),jc,ni={};if(fd){jc=document.createElement(\"p\"),yd=window.getComputedStyle(document.documentElement,\"\");for(_d in yd)isNaN(_d)||(ni[yd[_d]]=yd[_d]);Sre.forEach(function(n){return delete ni[n]})}var yd,_d;function Vy(n,e){if(e===void 0\u0026\u0026(e={}),!jc)return n;if(ni[n]!=null)return ni[n];(n===\"transition\"||n===\"transform\")\u0026\u0026(e[n]=n in jc.style);for(var r=0;r\u003csE.length\u0026\u0026(ni[n]=sE[r](n,jc.style,e),!ni[n]);r++);try{jc.style[n]=\"\"}catch(s){return!1}return ni[n]}var Eo={},Pre={transition:1,\"transition-property\":1,\"-webkit-transition\":1,\"-webkit-transition-property\":1},Ore=/(^\\s*[\\w-]+)|, (\\s*[\\w-]+)(?![^()]*\\))/g,_s;function Cre(n,e,r){if(e===\"var\")return\"var\";if(e===\"all\")return\"all\";if(r===\"all\")return\", all\";var s=e?Vy(e):\", \"+Vy(r);return s||e||r}fd\u0026\u0026(_s=document.createElement(\"p\"));function Are(n,e){var r=e;if(!_s||n===\"content\")return e;if(typeof r!=\"string\"||!isNaN(parseInt(r,10)))return r;var s=n+r;if(Eo[s]!=null)return Eo[s];try{_s.style[n]=r}catch(o){return Eo[s]=!1,!1}if(Pre[n])r=r.replace(Ore,Cre);else if(_s.style[n]===\"\"\u0026\u0026(r=et.css+r,r===\"-ms-flex\"\u0026\u0026(_s.style[n]=\"-ms-flexbox\"),_s.style[n]=r,_s.style[n]===\"\"))return Eo[s]=!1,!1;return _s.style[n]=\"\",Eo[s]=r,Eo[s]}jo.prefix=et;jo.supportedKeyframes=ire;jo.supportedProperty=Vy;jo.supportedValue=Are});var uE=v(Ly=\u003e{\"use strict\";Object.defineProperty(Ly,\"__esModule\",{value:!0});var bd=iE(),oE=vs();function Rre(){function n(o){if(o.type===\"keyframes\"){var c=o;c.at=bd.supportedKeyframes(c.at)}}function e(o){for(var c in o){var p=o[c];if(c===\"fallbacks\"\u0026\u0026Array.isArray(p)){o[c]=p.map(e);continue}var d=!1,y=bd.supportedProperty(c);y\u0026\u0026y!==c\u0026\u0026(d=!0);var b=!1,w=bd.supportedValue(y,oE.toCssValue(p));w\u0026\u0026w!==p\u0026\u0026(b=!0),(d||b)\u0026\u0026(d\u0026\u0026delete o[c],o[y||c]=w||p)}return o}function r(o,c){return c.type!==\"style\"?o:e(o)}function s(o,c){return bd.supportedValue(c,oE.toCssValue(o))||o}return{onProcessRule:n,onProcessStyle:r,onChangeValue:s}}Ly.default=Rre});var cE=v(Wy=\u003e{\"use strict\";Object.defineProperty(Wy,\"__esModule\",{value:!0});function Ere(){var n=function(r,s){return r.length===s.length?r\u003es?1:-1:r.length-s.length};return{onProcessStyle:function(r,s){if(s.type!==\"style\")return r;for(var o={},c=Object.keys(r).sort(n),p=0;p\u003cc.length;p++)o[c[p]]=r[c[p]];return o}}}Wy.default=Ere});var lE=v(By=\u003e{\"use strict\";var ri=Me();Object.defineProperty(By,\"__esModule\",{value:!0});By.default=Bre;var jre=ri(I2()),Dre=ri(V2()),Ire=ri(W2()),Fre=ri(U2()),Vre=ri(H2()),Lre=ri(uE()),Wre=ri(cE());function Bre(){return{plugins:[(0,jre.default)(),(0,Dre.default)(),(0,Ire.default)(),(0,Fre.default)(),(0,Vre.default)(),typeof window==\"undefined\"?null:(0,Lre.default)(),(0,Wre.default)()]}}});var Gy=v(zy=\u003e{\"use strict\";var zre=Me();Object.defineProperty(zy,\"__esModule\",{value:!0});Object.defineProperty(zy,\"default\",{enumerable:!0,get:function(){return Gre.default}});var Gre=zre(lE())});var hE=v(Uy=\u003e{\"use strict\";var Ure=Me();Object.defineProperty(Uy,\"__esModule\",{value:!0});Uy.default=Hre;var $re=Ure(yt()),Ybe=nn();function Hre(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.baseClasses,r=n.newClasses,s=n.Component;if(!r)return e;var o=(0,$re.default)({},e);return Object.keys(r).forEach(function(c){r[c]\u0026\u0026(o[c]=\"\".concat(e[c],\" \").concat(r[c]))}),o}});var Hy=v($y=\u003e{\"use strict\";var Yre=Me();Object.defineProperty($y,\"__esModule\",{value:!0});Object.defineProperty($y,\"default\",{enumerable:!0,get:function(){return Xre.default}});var Xre=Yre(hE())});var pE=v(xd=\u003e{\"use strict\";Object.defineProperty(xd,\"__esModule\",{value:!0});xd.default=void 0;var Zre={set:function(e,r,s,o){var c=e.get(r);c||(c=new Map,e.set(r,c)),c.set(s,o)},get:function(e,r,s){var o=e.get(r);return o?o.get(s):void 0},delete:function(e,r,s){var o=e.get(r);o.delete(s)}},Kre=Zre;xd.default=Kre});var Yy=v(kd=\u003e{\"use strict\";var Qre=Me();Object.defineProperty(kd,\"__esModule\",{value:!0});kd.default=void 0;var Jre=Qre(ot()),eae=Jre.default.createContext(null),tae=eae;kd.default=tae});var fE=v(Xy=\u003e{\"use strict\";var dE=Me();Object.defineProperty(Xy,\"__esModule\",{value:!0});Xy.default=aae;var nae=dE(ot()),rae=dE(Yy());function aae(){var n=nae.default.useContext(rae.default);return n}});var Do=v(Zy=\u003e{\"use strict\";var sae=Me();Object.defineProperty(Zy,\"__esModule\",{value:!0});Object.defineProperty(Zy,\"default\",{enumerable:!0,get:function(){return iae.default}});var iae=sae(fE())});var yE=v(ai=\u003e{\"use strict\";var Io=Me();Object.defineProperty(ai,\"__esModule\",{value:!0});ai.default=dae;ai.StylesContext=ai.sheetsManager=void 0;var oae=Io(yt()),uae=Io(Sn()),Ky=Io(ot()),txe=Io(It()),nxe=nn(),cae=Io(od()),mE=vs(),vE=Io(Gy()),lae=(0,mE.create)((0,vE.default)()),hae=(0,cae.default)(),gE=new Map;ai.sheetsManager=gE;var pae={disableGeneration:!1,generateClassName:hae,jss:lae,sheetsCache:null,sheetsManager:gE,sheetsRegistry:null},Qy=Ky.default.createContext(pae);ai.StylesContext=Qy;var Nd;function dae(n){var e=n.children,r=n.injectFirst,s=r===void 0?!1:r,o=n.disableGeneration,c=o===void 0?!1:o,p=(0,uae.default)(n,[\"children\",\"injectFirst\",\"disableGeneration\"]),d=Ky.default.useContext(Qy),y=(0,oae.default)({},d,{disableGeneration:c},p);if(!y.jss.options.insertionPoint\u0026\u0026s\u0026\u0026typeof window!=\"undefined\"){if(!Nd){var b=document.head;Nd=document.createComment(\"mui-inject-first\"),b.insertBefore(Nd,b.firstChild)}y.jss=(0,mE.create)({plugins:(0,vE.default)().plugins,insertionPoint:Nd})}return Ky.default.createElement(Qy.Provider,{value:y},e)}});var qd=v(wd=\u003e{\"use strict\";var fae=tn();Object.defineProperty(wd,\"__esModule\",{value:!0});var mae={};Object.defineProperty(wd,\"default\",{enumerable:!0,get:function(){return Jy.default}});var Jy=fae(yE());Object.keys(Jy).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(mae,n)||Object.defineProperty(wd,n,{enumerable:!0,get:function(){return Jy[n]}})})});var bE=v(e_=\u003e{\"use strict\";Object.defineProperty(e_,\"__esModule\",{value:!0});e_.increment=vae;var _E=-1e9;function vae(){return _E+=1,_E}});var t_=v(Td=\u003e{\"use strict\";Object.defineProperty(Td,\"__esModule\",{value:!0});Td.default=void 0;var gae={},yae=gae;Td.default=yae});var xE=v(r_=\u003e{\"use strict\";var n_=Me();Object.defineProperty(r_,\"__esModule\",{value:!0});r_.default=xae;var _ae=n_(yt()),oxe=n_(Oo()),bae=nn(),uxe=n_(t_());function xae(n){var e=typeof n==\"function\";return{create:function(s,o){var c;try{c=e?n(s):n}catch(y){throw y}if(!o||!s.overrides||!s.overrides[o])return c;var p=s.overrides[o],d=(0,_ae.default)({},c);return Object.keys(p).forEach(function(y){d[y]=(0,bae.deepmerge)(d[y],p[y])}),d},options:{}}}});var kE=v(a_=\u003e{\"use strict\";var kae=Me();Object.defineProperty(a_,\"__esModule\",{value:!0});Object.defineProperty(a_,\"default\",{enumerable:!0,get:function(){return Nae.default}});var Nae=kae(xE())});var wE=v(s_=\u003e{\"use strict\";var bs=Me();Object.defineProperty(s_,\"__esModule\",{value:!0});s_.default=Dae;var wae=bs(Sn()),Md=bs(yt()),si=bs(ot()),qae=vs(),NE=bs(Hy()),Fo=bs(pE()),Tae=bs(Do()),Mae=qd(),Sae=bE(),Pae=bs(kE()),Oae=bs(t_());function Cae(n,e,r){var s=n.state,o=n.stylesOptions;if(o.disableGeneration)return e||{};s.cacheClasses||(s.cacheClasses={value:null,lastProp:null,lastJSS:{}});var c=!1;return s.classes!==s.cacheClasses.lastJSS\u0026\u0026(s.cacheClasses.lastJSS=s.classes,c=!0),e!==s.cacheClasses.lastProp\u0026\u0026(s.cacheClasses.lastProp=e,c=!0),c\u0026\u0026(s.cacheClasses.value=(0,NE.default)({baseClasses:s.cacheClasses.lastJSS,newClasses:e,Component:r})),s.cacheClasses.value}function Aae(n,e){var r=n.state,s=n.theme,o=n.stylesOptions,c=n.stylesCreator,p=n.name;if(!o.disableGeneration){var d=Fo.default.get(o.sheetsManager,c,s);d||(d={refs:0,staticSheet:null,dynamicStyles:null},Fo.default.set(o.sheetsManager,c,s,d));var y=(0,Md.default)({},c.options,o,{theme:s,flip:typeof o.flip==\"boolean\"?o.flip:s.direction===\"rtl\"});y.generateId=y.serverGenerateClassName||y.generateClassName;var b=o.sheetsRegistry;if(d.refs===0){var w;o.sheetsCache\u0026\u0026(w=Fo.default.get(o.sheetsCache,c,s));var k=c.create(s,p);w||(w=o.jss.createStyleSheet(k,(0,Md.default)({link:!1},y)),w.attach(),o.sheetsCache\u0026\u0026Fo.default.set(o.sheetsCache,c,s,w)),b\u0026\u0026b.add(w),d.staticSheet=w,d.dynamicStyles=(0,qae.getDynamicStyles)(k)}if(d.dynamicStyles){var S=o.jss.createStyleSheet(d.dynamicStyles,(0,Md.default)({link:!0},y));S.update(e),S.attach(),r.dynamicSheet=S,r.classes=(0,NE.default)({baseClasses:d.staticSheet.classes,newClasses:S.classes}),b\u0026\u0026b.add(S)}else r.classes=d.staticSheet.classes;d.refs+=1}}function Rae(n,e){var r=n.state;r.dynamicSheet\u0026\u0026r.dynamicSheet.update(e)}function Eae(n){var e=n.state,r=n.theme,s=n.stylesOptions,o=n.stylesCreator;if(!s.disableGeneration){var c=Fo.default.get(s.sheetsManager,o,r);c.refs-=1;var p=s.sheetsRegistry;c.refs===0\u0026\u0026(Fo.default.delete(s.sheetsManager,o,r),s.jss.removeStyleSheet(c.staticSheet),p\u0026\u0026p.remove(c.staticSheet)),e.dynamicSheet\u0026\u0026(s.jss.removeStyleSheet(e.dynamicSheet),p\u0026\u0026p.remove(e.dynamicSheet))}}function jae(n,e){var r=si.default.useRef([]),s,o=si.default.useMemo(function(){return{}},e);r.current!==o\u0026\u0026(r.current=o,s=n()),si.default.useEffect(function(){return function(){s\u0026\u0026s()}},[o])}function Dae(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},r=e.name,s=e.classNamePrefix,o=e.Component,c=e.defaultTheme,p=c===void 0?Oae.default:c,d=(0,wae.default)(e,[\"name\",\"classNamePrefix\",\"Component\",\"defaultTheme\"]),y=(0,Pae.default)(n),b=r||s||\"makeStyles\";y.options={index:(0,Sae.increment)(),name:r,meta:b,classNamePrefix:b};var w=function(){var S=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},L=(0,Tae.default)()||p,j=(0,Md.default)({},si.default.useContext(Mae.StylesContext),d),B=si.default.useRef(),ee=si.default.useRef();jae(function(){var ie={name:r,state:{},stylesCreator:y,stylesOptions:j,theme:L};return Aae(ie,S),ee.current=!1,B.current=ie,function(){Eae(ie)}},[L,y]),si.default.useEffect(function(){ee.current\u0026\u0026Rae(B.current,S),ee.current=!0});var de=Cae(B.current,S.classes,o);return de};return w}});var Sd=v(i_=\u003e{\"use strict\";var Iae=Me();Object.defineProperty(i_,\"__esModule\",{value:!0});Object.defineProperty(i_,\"default\",{enumerable:!0,get:function(){return Fae.default}});var Fae=Iae(wE())});var qE=v((dxe,Dc)=\u003e{function Vae(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")}Dc.exports=Vae;Dc.exports.default=Dc.exports,Dc.exports.__esModule=!0});var SE=v(Pd=\u003e{\"use strict\";var Vo=Me();Object.defineProperty(Pd,\"__esModule\",{value:!0});Pd.default=void 0;var TE=Vo(yt()),Lae=Vo(qE()),Wae=Vo(ly()),ME=Vo(ot()),Bae=vs(),zae=Vo(qd()),Gae=Vo(od()),Uae=function(){function n(){var e=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{};(0,Lae.default)(this,n),this.options=e}return(0,Wae.default)(n,[{key:\"collect\",value:function(r){var s=new Map;this.sheetsRegistry=new Bae.SheetsRegistry;var o=(0,Gae.default)();return ME.default.createElement(zae.default,(0,TE.default)({sheetsManager:s,serverGenerateClassName:o,sheetsRegistry:this.sheetsRegistry},this.options),r)}},{key:\"toString\",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():\"\"}},{key:\"getStyleElement\",value:function(r){return ME.default.createElement(\"style\",(0,TE.default)({id:\"jss-server-side\",key:\"jss-server-side\",dangerouslySetInnerHTML:{__html:this.toString()}},r))}}]),n}();Pd.default=Uae});var PE=v(o_=\u003e{\"use strict\";var $ae=Me();Object.defineProperty(o_,\"__esModule\",{value:!0});Object.defineProperty(o_,\"default\",{enumerable:!0,get:function(){return Hae.default}});var Hae=$ae(SE())});var Od=v((vxe,jE)=\u003e{\"use strict\";var u_=Qg(),Yae={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Xae={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Zae={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},OE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c_={};c_[u_.ForwardRef]=Zae;c_[u_.Memo]=OE;function CE(n){return u_.isMemo(n)?OE:c_[n.$$typeof]||Yae}var Kae=Object.defineProperty,Qae=Object.getOwnPropertyNames,AE=Object.getOwnPropertySymbols,Jae=Object.getOwnPropertyDescriptor,ese=Object.getPrototypeOf,RE=Object.prototype;function EE(n,e,r){if(typeof e!=\"string\"){if(RE){var s=ese(e);s\u0026\u0026s!==RE\u0026\u0026EE(n,s,r)}var o=Qae(e);AE\u0026\u0026(o=o.concat(AE(e)));for(var c=CE(n),p=CE(e),d=0;d\u003co.length;++d){var y=o[d];if(!Xae[y]\u0026\u0026!(r\u0026\u0026r[y])\u0026\u0026!(p\u0026\u0026p[y])\u0026\u0026!(c\u0026\u0026c[y])){var b=Jae(e,y);try{Kae(n,y,b)}catch(w){}}}}return n}jE.exports=EE});var FE=v(h_=\u003e{\"use strict\";var ii=Me();Object.defineProperty(h_,\"__esModule\",{value:!0});h_.default=ase;var Ic=ii(yt()),DE=ii(Sn()),l_=ii(ot()),IE=ii(ms()),gxe=ii(It()),yxe=nn(),tse=ii(Od()),nse=ii(Sd());function rse(n,e){var r={};return Object.keys(n).forEach(function(s){e.indexOf(s)===-1\u0026\u0026(r[s]=n[s])}),r}function ase(n){var e=function(s){var o=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},c=o.name,p=(0,DE.default)(o,[\"name\"]),d=c;if(!1\u0026\u0026!c)var y;var b=typeof s==\"function\"?function(j){return{root:function(ee){return s((0,Ic.default)({theme:j},ee))}}}:{root:s},w=(0,nse.default)(b,(0,Ic.default)({Component:n,name:c||n.displayName,classNamePrefix:d},p)),k,S={};s.filterProps\u0026\u0026(k=s.filterProps,delete s.filterProps),s.propTypes\u0026\u0026(S=s.propTypes,delete s.propTypes);var L=l_.default.forwardRef(function(B,ee){var de=B.children,ie=B.className,he=B.clone,G=B.component,R=(0,DE.default)(B,[\"children\",\"className\",\"clone\",\"component\"]),H=w(B),$=(0,IE.default)(H.root,ie),se=R;if(k\u0026\u0026(se=rse(se,k)),he)return l_.default.cloneElement(de,(0,Ic.default)({className:(0,IE.default)(de.props.className,$)},se));if(typeof de==\"function\")return de((0,Ic.default)({className:$},se));var ue=G||n;return l_.default.createElement(ue,(0,Ic.default)({ref:ee,className:$},se),de)});return(0,tse.default)(L,n),L};return e}});var VE=v(p_=\u003e{\"use strict\";var sse=Me();Object.defineProperty(p_,\"__esModule\",{value:!0});Object.defineProperty(p_,\"default\",{enumerable:!0,get:function(){return ise.default}});var ise=sse(FE())});var WE=v(Cd=\u003e{\"use strict\";var Lo=Me();Object.defineProperty(Cd,\"__esModule\",{value:!0});Cd.default=void 0;var ose=Lo(yt()),LE=Lo(ot()),xxe=Lo(It()),kxe=nn(),use=Lo(Yy()),cse=Lo(Do()),lse=Lo(ty());function hse(n,e){if(typeof e==\"function\"){var r=e(n);return r}return(0,ose.default)({},n,e)}function pse(n){var e=n.children,r=n.theme,s=(0,cse.default)(),o=LE.default.useMemo(function(){var c=s===null?r:hse(s,r);return c!=null\u0026\u0026(c[lse.default]=s!==null),c},[r,s]);return LE.default.createElement(use.default.Provider,{value:o},e)}var dse=pse;Cd.default=dse});var BE=v(d_=\u003e{\"use strict\";var fse=Me();Object.defineProperty(d_,\"__esModule\",{value:!0});Object.defineProperty(d_,\"default\",{enumerable:!0,get:function(){return mse.default}});var mse=fse(WE())});var UE=v(Ad=\u003e{\"use strict\";var xs=Me();Object.defineProperty(Ad,\"__esModule\",{value:!0});Ad.default=void 0;var f_=xs(yt()),zE=xs(Sn()),GE=xs(ot()),qxe=xs(It()),vse=xs(Od()),Txe=nn(),gse=xs(Sd()),yse=xs(uy()),_se=xs(Do()),bse=function(e){var r=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{};return function(s){var o=r.defaultTheme,c=r.withTheme,p=c===void 0?!1:c,d=r.name,y=(0,zE.default)(r,[\"defaultTheme\",\"withTheme\",\"name\"]),b=d;if(!1\u0026\u0026!d)var w;var k=(0,gse.default)(e,(0,f_.default)({defaultTheme:o,Component:s,name:d||s.displayName,classNamePrefix:b},y)),S=GE.default.forwardRef(function(j,B){var ee=j.classes,de=j.innerRef,ie=(0,zE.default)(j,[\"classes\",\"innerRef\"]),he=k((0,f_.default)({},s.defaultProps,j)),G,R=ie;return(typeof d==\"string\"||p)\u0026\u0026(G=(0,_se.default)()||o,d\u0026\u0026(R=(0,yse.default)({theme:G,name:d,props:ie})),p\u0026\u0026!R.theme\u0026\u0026(R.theme=G)),GE.default.createElement(s,(0,f_.default)({ref:de||B,classes:he},R))});return(0,vse.default)(S,s),S}},xse=bse;Ad.default=xse});var $E=v(m_=\u003e{\"use strict\";var kse=Me();Object.defineProperty(m_,\"__esModule\",{value:!0});Object.defineProperty(m_,\"default\",{enumerable:!0,get:function(){return Nse.default}});var Nse=kse(UE())});var XE=v(Fc=\u003e{\"use strict\";var Wo=Me();Object.defineProperty(Fc,\"__esModule\",{value:!0});Fc.withThemeCreator=YE;Fc.default=void 0;var wse=Wo(yt()),qse=Wo(Sn()),HE=Wo(ot()),Pxe=Wo(It()),Tse=Wo(Od()),Oxe=nn(),Mse=Wo(Do());function YE(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.defaultTheme,r=function(o){var c=HE.default.forwardRef(function(d,y){var b=d.innerRef,w=(0,qse.default)(d,[\"innerRef\"]),k=(0,Mse.default)()||e;return HE.default.createElement(o,(0,wse.default)({theme:k,ref:b||y},w))});return(0,Tse.default)(c,o),c};return r}var Sse=YE(),Pse=Sse;Fc.default=Pse});var ZE=v(Rd=\u003e{\"use strict\";var Ose=tn();Object.defineProperty(Rd,\"__esModule\",{value:!0});var Cse={};Object.defineProperty(Rd,\"default\",{enumerable:!0,get:function(){return v_.default}});var v_=Ose(XE());Object.keys(v_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(Cse,n)||Object.defineProperty(Rd,n,{enumerable:!0,get:function(){return v_[n]}})})});var KE=v(bt=\u003e{\"use strict\";var dr=tn();Object.defineProperty(bt,\"__esModule\",{value:!0});var fr={createGenerateClassName:!0,createStyles:!0,getThemeProps:!0,jssPreset:!0,makeStyles:!0,mergeClasses:!0,ServerStyleSheets:!0,styled:!0,StylesProvider:!0,ThemeProvider:!0,useTheme:!0,withStyles:!0,withTheme:!0};Object.defineProperty(bt,\"createGenerateClassName\",{enumerable:!0,get:function(){return g_.default}});Object.defineProperty(bt,\"createStyles\",{enumerable:!0,get:function(){return y_.default}});Object.defineProperty(bt,\"getThemeProps\",{enumerable:!0,get:function(){return __.default}});Object.defineProperty(bt,\"jssPreset\",{enumerable:!0,get:function(){return b_.default}});Object.defineProperty(bt,\"makeStyles\",{enumerable:!0,get:function(){return x_.default}});Object.defineProperty(bt,\"mergeClasses\",{enumerable:!0,get:function(){return k_.default}});Object.defineProperty(bt,\"ServerStyleSheets\",{enumerable:!0,get:function(){return N_.default}});Object.defineProperty(bt,\"styled\",{enumerable:!0,get:function(){return w_.default}});Object.defineProperty(bt,\"StylesProvider\",{enumerable:!0,get:function(){return q_.default}});Object.defineProperty(bt,\"ThemeProvider\",{enumerable:!0,get:function(){return T_.default}});Object.defineProperty(bt,\"useTheme\",{enumerable:!0,get:function(){return M_.default}});Object.defineProperty(bt,\"withStyles\",{enumerable:!0,get:function(){return S_.default}});Object.defineProperty(bt,\"withTheme\",{enumerable:!0,get:function(){return P_.default}});var Rxe=nn(),g_=dr(od());Object.keys(g_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return g_[n]}})});var y_=dr(l2());Object.keys(y_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return y_[n]}})});var __=dr(uy());Object.keys(__).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return __[n]}})});var b_=dr(Gy());Object.keys(b_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return b_[n]}})});var x_=dr(Sd());Object.keys(x_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return x_[n]}})});var k_=dr(Hy());Object.keys(k_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return k_[n]}})});var N_=dr(PE());Object.keys(N_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return N_[n]}})});var w_=dr(VE());Object.keys(w_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return w_[n]}})});var q_=dr(qd());Object.keys(q_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return q_[n]}})});var T_=dr(BE());Object.keys(T_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return T_[n]}})});var M_=dr(Do());Object.keys(M_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return M_[n]}})});var S_=dr($E());Object.keys(S_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return S_[n]}})});var P_=dr(ZE());Object.keys(P_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(fr,n)||Object.defineProperty(bt,n,{enumerable:!0,get:function(){return P_[n]}})})});var JE=v(Vc=\u003e{\"use strict\";var QE=Me();Object.defineProperty(Vc,\"__esModule\",{value:!0});Vc.default=Ese;Vc.keys=void 0;var Ase=QE(yt()),Rse=QE(Sn()),ja=[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"];Vc.keys=ja;function Ese(n){var e=n.values,r=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,s=n.unit,o=s===void 0?\"px\":s,c=n.step,p=c===void 0?5:c,d=(0,Rse.default)(n,[\"values\",\"unit\",\"step\"]);function y(j){var B=typeof r[j]==\"number\"?r[j]:j;return\"@media (min-width:\".concat(B).concat(o,\")\")}function b(j){var B=ja.indexOf(j)+1,ee=r[ja[B]];if(B===ja.length)return y(\"xs\");var de=typeof ee==\"number\"\u0026\u0026B\u003e0?ee:j;return\"@media (max-width:\".concat(de-p/100).concat(o,\")\")}function w(j,B){var ee=ja.indexOf(B);return ee===ja.length-1?y(j):\"@media (min-width:\".concat(typeof r[j]==\"number\"?r[j]:j).concat(o,\") and \")+\"(max-width:\".concat((ee!==-1\u0026\u0026typeof r[ja[ee+1]]==\"number\"?r[ja[ee+1]]:B)-p/100).concat(o,\")\")}function k(j){return w(j,j)}var S=!1;function L(j){return r[j]}return(0,Ase.default)({keys:ja,values:r,up:y,down:b,between:w,only:k,width:L},d)}});var tj=v(A_=\u003e{\"use strict\";var ej=Me();Object.defineProperty(A_,\"__esModule\",{value:!0});A_.default=jse;var O_=ej(lc()),C_=ej(yt());function jse(n,e,r){var s;return(0,C_.default)({gutters:function(){var c=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{};return console.warn([\"Material-UI: theme.mixins.gutters() is deprecated.\",\"You can use the source of the mixin directly:\",`\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      `].join(`\n`)),(0,C_.default)({paddingLeft:e(2),paddingRight:e(2)},c,(0,O_.default)({},n.up(\"sm\"),(0,C_.default)({paddingLeft:e(3),paddingRight:e(3)},c[n.up(\"sm\")])))},toolbar:(s={minHeight:56},(0,O_.default)(s,\"\".concat(n.up(\"xs\"),\" and (orientation: landscape)\"),{minHeight:48}),(0,O_.default)(s,n.up(\"sm\"),{minHeight:64}),s)},r)}});var nj=v(Ed=\u003e{\"use strict\";Object.defineProperty(Ed,\"__esModule\",{value:!0});Ed.default=void 0;var Dse={black:\"#000\",white:\"#fff\"},Ise=Dse;Ed.default=Ise});var rj=v(jd=\u003e{\"use strict\";Object.defineProperty(jd,\"__esModule\",{value:!0});jd.default=void 0;var Fse={50:\"#fafafa\",100:\"#f5f5f5\",200:\"#eeeeee\",300:\"#e0e0e0\",400:\"#bdbdbd\",500:\"#9e9e9e\",600:\"#757575\",700:\"#616161\",800:\"#424242\",900:\"#212121\",A100:\"#d5d5d5\",A200:\"#aaaaaa\",A400:\"#303030\",A700:\"#616161\"},Vse=Fse;jd.default=Vse});var aj=v(Dd=\u003e{\"use strict\";Object.defineProperty(Dd,\"__esModule\",{value:!0});Dd.default=void 0;var Lse={50:\"#e8eaf6\",100:\"#c5cae9\",200:\"#9fa8da\",300:\"#7986cb\",400:\"#5c6bc0\",500:\"#3f51b5\",600:\"#3949ab\",700:\"#303f9f\",800:\"#283593\",900:\"#1a237e\",A100:\"#8c9eff\",A200:\"#536dfe\",A400:\"#3d5afe\",A700:\"#304ffe\"},Wse=Lse;Dd.default=Wse});var sj=v(Id=\u003e{\"use strict\";Object.defineProperty(Id,\"__esModule\",{value:!0});Id.default=void 0;var Bse={50:\"#fce4ec\",100:\"#f8bbd0\",200:\"#f48fb1\",300:\"#f06292\",400:\"#ec407a\",500:\"#e91e63\",600:\"#d81b60\",700:\"#c2185b\",800:\"#ad1457\",900:\"#880e4f\",A100:\"#ff80ab\",A200:\"#ff4081\",A400:\"#f50057\",A700:\"#c51162\"},zse=Bse;Id.default=zse});var ij=v(Fd=\u003e{\"use strict\";Object.defineProperty(Fd,\"__esModule\",{value:!0});Fd.default=void 0;var Gse={50:\"#ffebee\",100:\"#ffcdd2\",200:\"#ef9a9a\",300:\"#e57373\",400:\"#ef5350\",500:\"#f44336\",600:\"#e53935\",700:\"#d32f2f\",800:\"#c62828\",900:\"#b71c1c\",A100:\"#ff8a80\",A200:\"#ff5252\",A400:\"#ff1744\",A700:\"#d50000\"},Use=Gse;Fd.default=Use});var oj=v(Vd=\u003e{\"use strict\";Object.defineProperty(Vd,\"__esModule\",{value:!0});Vd.default=void 0;var $se={50:\"#fff3e0\",100:\"#ffe0b2\",200:\"#ffcc80\",300:\"#ffb74d\",400:\"#ffa726\",500:\"#ff9800\",600:\"#fb8c00\",700:\"#f57c00\",800:\"#ef6c00\",900:\"#e65100\",A100:\"#ffd180\",A200:\"#ffab40\",A400:\"#ff9100\",A700:\"#ff6d00\"},Hse=$se;Vd.default=Hse});var uj=v(Ld=\u003e{\"use strict\";Object.defineProperty(Ld,\"__esModule\",{value:!0});Ld.default=void 0;var Yse={50:\"#e3f2fd\",100:\"#bbdefb\",200:\"#90caf9\",300:\"#64b5f6\",400:\"#42a5f5\",500:\"#2196f3\",600:\"#1e88e5\",700:\"#1976d2\",800:\"#1565c0\",900:\"#0d47a1\",A100:\"#82b1ff\",A200:\"#448aff\",A400:\"#2979ff\",A700:\"#2962ff\"},Xse=Yse;Ld.default=Xse});var cj=v(Wd=\u003e{\"use strict\";Object.defineProperty(Wd,\"__esModule\",{value:!0});Wd.default=void 0;var Zse={50:\"#e8f5e9\",100:\"#c8e6c9\",200:\"#a5d6a7\",300:\"#81c784\",400:\"#66bb6a\",500:\"#4caf50\",600:\"#43a047\",700:\"#388e3c\",800:\"#2e7d32\",900:\"#1b5e20\",A100:\"#b9f6ca\",A200:\"#69f0ae\",A400:\"#00e676\",A700:\"#00c853\"},Kse=Zse;Wd.default=Kse});var mj=v(Xn=\u003e{\"use strict\";Object.defineProperty(Xn,\"__esModule\",{value:!0});Xn.hexToRgb=lj;Xn.rgbToHex=eie;Xn.hslToRgb=hj;Xn.decomposeColor=Da;Xn.recomposeColor=Lc;Xn.getContrastRatio=tie;Xn.getLuminance=Bd;Xn.emphasize=nie;Xn.fade=rie;Xn.alpha=pj;Xn.darken=dj;Xn.lighten=fj;var Qse=nn();function R_(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:0,r=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,n),r)}function lj(n){n=n.substr(1);var e=new RegExp(\".{1,\".concat(n.length\u003e=6?2:1,\"}\"),\"g\"),r=n.match(e);return r\u0026\u0026r[0].length===1\u0026\u0026(r=r.map(function(s){return s+s})),r?\"rgb\".concat(r.length===4?\"a\":\"\",\"(\").concat(r.map(function(s,o){return o\u003c3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3}).join(\", \"),\")\"):\"\"}function Jse(n){var e=n.toString(16);return e.length===1?\"0\".concat(e):e}function eie(n){if(n.indexOf(\"#\")===0)return n;var e=Da(n),r=e.values;return\"#\".concat(r.map(function(s){return Jse(s)}).join(\"\"))}function hj(n){n=Da(n);var e=n,r=e.values,s=r[0],o=r[1]/100,c=r[2]/100,p=o*Math.min(c,1-c),d=function(k){var S=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:(k+s/30)%12;return c-p*Math.max(Math.min(S-3,9-S,1),-1)},y=\"rgb\",b=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return n.type===\"hsla\"\u0026\u0026(y+=\"a\",b.push(r[3])),Lc({type:y,values:b})}function Da(n){if(n.type)return n;if(n.charAt(0)===\"#\")return Da(lj(n));var e=n.indexOf(\"(\"),r=n.substring(0,e);if([\"rgb\",\"rgba\",\"hsl\",\"hsla\"].indexOf(r)===-1)throw new Error((0,Qse.formatMuiErrorMessage)(3,n));var s=n.substring(e+1,n.length-1).split(\",\");return s=s.map(function(o){return parseFloat(o)}),{type:r,values:s}}function Lc(n){var e=n.type,r=n.values;return e.indexOf(\"rgb\")!==-1?r=r.map(function(s,o){return o\u003c3?parseInt(s,10):s}):e.indexOf(\"hsl\")!==-1\u0026\u0026(r[1]=\"\".concat(r[1],\"%\"),r[2]=\"\".concat(r[2],\"%\")),\"\".concat(e,\"(\").concat(r.join(\", \"),\")\")}function tie(n,e){var r=Bd(n),s=Bd(e);return(Math.max(r,s)+.05)/(Math.min(r,s)+.05)}function Bd(n){n=Da(n);var e=n.type===\"hsl\"?Da(hj(n)).values:n.values;return e=e.map(function(r){return r/=255,r\u003c=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function nie(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:.15;return Bd(n)\u003e.5?dj(n,e):fj(n,e)}function rie(n,e){return pj(n,e)}function pj(n,e){return n=Da(n),e=R_(e),(n.type===\"rgb\"||n.type===\"hsl\")\u0026\u0026(n.type+=\"a\"),n.values[3]=e,Lc(n)}function dj(n,e){if(n=Da(n),e=R_(e),n.type.indexOf(\"hsl\")!==-1)n.values[2]*=1-e;else if(n.type.indexOf(\"rgb\")!==-1)for(var r=0;r\u003c3;r+=1)n.values[r]*=1-e;return Lc(n)}function fj(n,e){if(n=Da(n),e=R_(e),n.type.indexOf(\"hsl\")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf(\"rgb\")!==-1)for(var r=0;r\u003c3;r+=1)n.values[r]+=(255-n.values[r])*e;return Lc(n)}});var _j=v(oi=\u003e{\"use strict\";var fa=Me();Object.defineProperty(oi,\"__esModule\",{value:!0});oi.default=sie;oi.dark=oi.light=void 0;var vj=fa(yt()),aie=fa(Sn()),gj=nn(),zd=fa(nj()),E_=fa(rj()),j_=fa(aj()),D_=fa(sj()),I_=fa(ij()),F_=fa(oj()),V_=fa(uj()),L_=fa(cj()),W_=mj(),B_={text:{primary:\"rgba(0, 0, 0, 0.87)\",secondary:\"rgba(0, 0, 0, 0.54)\",disabled:\"rgba(0, 0, 0, 0.38)\",hint:\"rgba(0, 0, 0, 0.38)\"},divider:\"rgba(0, 0, 0, 0.12)\",background:{paper:zd.default.white,default:E_.default[50]},action:{active:\"rgba(0, 0, 0, 0.54)\",hover:\"rgba(0, 0, 0, 0.04)\",hoverOpacity:.04,selected:\"rgba(0, 0, 0, 0.08)\",selectedOpacity:.08,disabled:\"rgba(0, 0, 0, 0.26)\",disabledBackground:\"rgba(0, 0, 0, 0.12)\",disabledOpacity:.38,focus:\"rgba(0, 0, 0, 0.12)\",focusOpacity:.12,activatedOpacity:.12}};oi.light=B_;var Gd={text:{primary:zd.default.white,secondary:\"rgba(255, 255, 255, 0.7)\",disabled:\"rgba(255, 255, 255, 0.5)\",hint:\"rgba(255, 255, 255, 0.5)\",icon:\"rgba(255, 255, 255, 0.5)\"},divider:\"rgba(255, 255, 255, 0.12)\",background:{paper:E_.default[800],default:\"#303030\"},action:{active:zd.default.white,hover:\"rgba(255, 255, 255, 0.08)\",hoverOpacity:.08,selected:\"rgba(255, 255, 255, 0.16)\",selectedOpacity:.16,disabled:\"rgba(255, 255, 255, 0.3)\",disabledBackground:\"rgba(255, 255, 255, 0.12)\",disabledOpacity:.38,focus:\"rgba(255, 255, 255, 0.12)\",focusOpacity:.12,activatedOpacity:.24}};oi.dark=Gd;function yj(n,e,r,s){var o=s.light||s,c=s.dark||s*1.5;n[e]||(n.hasOwnProperty(r)?n[e]=n[r]:e===\"light\"?n.light=(0,W_.lighten)(n.main,o):e===\"dark\"\u0026\u0026(n.dark=(0,W_.darken)(n.main,c)))}function sie(n){var e=n.primary,r=e===void 0?{light:j_.default[300],main:j_.default[500],dark:j_.default[700]}:e,s=n.secondary,o=s===void 0?{light:D_.default.A200,main:D_.default.A400,dark:D_.default.A700}:s,c=n.error,p=c===void 0?{light:I_.default[300],main:I_.default[500],dark:I_.default[700]}:c,d=n.warning,y=d===void 0?{light:F_.default[300],main:F_.default[500],dark:F_.default[700]}:d,b=n.info,w=b===void 0?{light:V_.default[300],main:V_.default[500],dark:V_.default[700]}:b,k=n.success,S=k===void 0?{light:L_.default[300],main:L_.default[500],dark:L_.default[700]}:k,L=n.type,j=L===void 0?\"light\":L,B=n.contrastThreshold,ee=B===void 0?3:B,de=n.tonalOffset,ie=de===void 0?.2:de,he=(0,aie.default)(n,[\"primary\",\"secondary\",\"error\",\"warning\",\"info\",\"success\",\"type\",\"contrastThreshold\",\"tonalOffset\"]);function G(se){var ue=(0,W_.getContrastRatio)(se,Gd.text.primary)\u003e=ee?Gd.text.primary:B_.text.primary;if(!1)var Ne;return ue}var R=function(ue){var Ne=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:500,be=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:300,Re=arguments.length\u003e3\u0026\u0026arguments[3]!==void 0?arguments[3]:700;if(ue=(0,vj.default)({},ue),!ue.main\u0026\u0026ue[Ne]\u0026\u0026(ue.main=ue[Ne]),!ue.main)throw new Error((0,gj.formatMuiErrorMessage)(4,Ne));if(typeof ue.main!=\"string\")throw new Error(_formatMuiErrorMessage(5,JSON.stringify(ue.main)));return yj(ue,\"light\",be,ie),yj(ue,\"dark\",Re,ie),ue.contrastText||(ue.contrastText=G(ue.main)),ue},H={dark:Gd,light:B_},$=(0,gj.deepmerge)((0,vj.default)({common:zd.default,type:j,primary:R(r),secondary:R(o,\"A400\",\"A200\",\"A700\"),error:R(p),warning:R(y),info:R(w),success:R(S),grey:E_.default,contrastThreshold:ee,getContrastText:G,augmentColor:R,tonalOffset:ie},H[j]),he);return $}});var qj=v(z_=\u003e{\"use strict\";var bj=Me();Object.defineProperty(z_,\"__esModule\",{value:!0});z_.default=cie;var xj=bj(yt()),iie=bj(Sn()),oie=nn();function kj(n){return Math.round(n*1e5)/1e5}function uie(n){return kj(n)}var Nj={textTransform:\"uppercase\"},wj='\"Roboto\", \"Helvetica\", \"Arial\", sans-serif';function cie(n,e){var r=typeof e==\"function\"?e(n):e,s=r.fontFamily,o=s===void 0?wj:s,c=r.fontSize,p=c===void 0?14:c,d=r.fontWeightLight,y=d===void 0?300:d,b=r.fontWeightRegular,w=b===void 0?400:b,k=r.fontWeightMedium,S=k===void 0?500:k,L=r.fontWeightBold,j=L===void 0?700:L,B=r.htmlFontSize,ee=B===void 0?16:B,de=r.allVariants,ie=r.pxToRem,he=(0,iie.default)(r,[\"fontFamily\",\"fontSize\",\"fontWeightLight\",\"fontWeightRegular\",\"fontWeightMedium\",\"fontWeightBold\",\"htmlFontSize\",\"allVariants\",\"pxToRem\"]),G=p/14,R=ie||function(se){return\"\".concat(se/ee*G,\"rem\")},H=function(ue,Ne,be,Re,ze){return(0,xj.default)({fontFamily:o,fontWeight:ue,fontSize:R(Ne),lineHeight:be},o===wj?{letterSpacing:\"\".concat(kj(Re/Ne),\"em\")}:{},ze,de)},$={h1:H(y,96,1.167,-1.5),h2:H(y,60,1.2,-.5),h3:H(w,48,1.167,0),h4:H(w,34,1.235,.25),h5:H(w,24,1.334,0),h6:H(S,20,1.6,.15),subtitle1:H(w,16,1.75,.15),subtitle2:H(S,14,1.57,.1),body1:H(w,16,1.5,.15),body2:H(w,14,1.43,.15),button:H(S,14,1.75,.4,Nj),caption:H(w,12,1.66,.4),overline:H(w,12,2.66,1,Nj)};return(0,oie.deepmerge)((0,xj.default)({htmlFontSize:ee,pxToRem:R,round:uie,fontFamily:o,fontSize:p,fontWeightLight:y,fontWeightRegular:w,fontWeightMedium:S,fontWeightBold:j},$),he,{clone:!1})}});var Tj=v(Ud=\u003e{\"use strict\";Object.defineProperty(Ud,\"__esModule\",{value:!0});Ud.default=void 0;var lie=.2,hie=.14,pie=.12;function Ft(){return[\"\".concat(arguments.length\u003c=0?void 0:arguments[0],\"px \").concat(arguments.length\u003c=1?void 0:arguments[1],\"px \").concat(arguments.length\u003c=2?void 0:arguments[2],\"px \").concat(arguments.length\u003c=3?void 0:arguments[3],\"px rgba(0,0,0,\").concat(lie,\")\"),\"\".concat(arguments.length\u003c=4?void 0:arguments[4],\"px \").concat(arguments.length\u003c=5?void 0:arguments[5],\"px \").concat(arguments.length\u003c=6?void 0:arguments[6],\"px \").concat(arguments.length\u003c=7?void 0:arguments[7],\"px rgba(0,0,0,\").concat(hie,\")\"),\"\".concat(arguments.length\u003c=8?void 0:arguments[8],\"px \").concat(arguments.length\u003c=9?void 0:arguments[9],\"px \").concat(arguments.length\u003c=10?void 0:arguments[10],\"px \").concat(arguments.length\u003c=11?void 0:arguments[11],\"px rgba(0,0,0,\").concat(pie,\")\")].join(\",\")}var die=[\"none\",Ft(0,2,1,-1,0,1,1,0,0,1,3,0),Ft(0,3,1,-2,0,2,2,0,0,1,5,0),Ft(0,3,3,-2,0,3,4,0,0,1,8,0),Ft(0,2,4,-1,0,4,5,0,0,1,10,0),Ft(0,3,5,-1,0,5,8,0,0,1,14,0),Ft(0,3,5,-1,0,6,10,0,0,1,18,0),Ft(0,4,5,-2,0,7,10,1,0,2,16,1),Ft(0,5,5,-3,0,8,10,1,0,3,14,2),Ft(0,5,6,-3,0,9,12,1,0,3,16,2),Ft(0,6,6,-3,0,10,14,1,0,4,18,3),Ft(0,6,7,-4,0,11,15,1,0,4,20,3),Ft(0,7,8,-4,0,12,17,2,0,5,22,4),Ft(0,7,8,-4,0,13,19,2,0,5,24,4),Ft(0,7,9,-4,0,14,21,2,0,5,26,4),Ft(0,8,9,-5,0,15,22,2,0,6,28,5),Ft(0,8,10,-5,0,16,24,2,0,6,30,5),Ft(0,8,11,-5,0,17,26,2,0,6,32,5),Ft(0,9,11,-5,0,18,28,2,0,7,34,6),Ft(0,9,12,-6,0,19,29,2,0,7,36,6),Ft(0,10,13,-6,0,20,31,3,0,8,38,7),Ft(0,10,13,-6,0,21,33,3,0,8,40,7),Ft(0,10,14,-6,0,22,35,3,0,8,42,7),Ft(0,11,14,-7,0,23,36,3,0,9,44,8),Ft(0,11,15,-7,0,24,38,3,0,9,46,8)],fie=die;Ud.default=fie});var Mj=v($d=\u003e{\"use strict\";Object.defineProperty($d,\"__esModule\",{value:!0});$d.default=void 0;var mie={borderRadius:4},vie=mie;$d.default=vie});var G_=v(Hd=\u003e{\"use strict\";var gie=Me();Object.defineProperty(Hd,\"__esModule\",{value:!0});Hd.default=void 0;var Zxe=gie(It()),yie={},_ie=yie;Hd.default=_ie});var Wc=v(Yd=\u003e{\"use strict\";Object.defineProperty(Yd,\"__esModule\",{value:!0});Yd.default=void 0;var bie=nn();function xie(n,e){return e?(0,bie.deepmerge)(n,e,{clone:!1}):n}var kie=xie;Yd.default=kie});var Xd=v(zc=\u003e{\"use strict\";var Bc=Me();Object.defineProperty(zc,\"__esModule\",{value:!0});zc.handleBreakpoints=Sie;zc.default=void 0;var Nie=Bc(Rc()),wie=Bc(yt()),qie=Bc(Oo()),Jxe=Bc(It()),Tie=Bc(Wc()),Mie={xs:0,sm:600,md:960,lg:1280,xl:1920},U_={keys:[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"],up:function(e){return\"@media (min-width:\".concat(Mie[e],\"px)\")}};function Sie(n,e,r){if(Array.isArray(e)){var s=n.theme.breakpoints||U_;return e.reduce(function(p,d,y){return p[s.up(s.keys[y])]=r(e[y]),p},{})}if((0,qie.default)(e)===\"object\"){var o=n.theme.breakpoints||U_;return Object.keys(e).reduce(function(p,d){return p[o.up(d)]=r(e[d]),p},{})}var c=r(e);return c}function Pie(n){var e=function(s){var o=n(s),c=s.theme.breakpoints||U_,p=c.keys.reduce(function(d,y){return s[y]\u0026\u0026(d=d||{},d[c.up(y)]=n((0,wie.default)({theme:s.theme},s[y]))),d},null);return(0,Tie.default)(o,p)};return e.propTypes={},e.filterProps=[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"].concat((0,Nie.default)(n.filterProps)),e}var Oie=Pie;zc.default=Oie});var $r=v(Zd=\u003e{\"use strict\";var Sj=Me();Object.defineProperty(Zd,\"__esModule\",{value:!0});Zd.default=void 0;var Cie=Sj(lc()),tke=Sj(G_()),Aie=Xd();function Pj(n,e){return!e||typeof e!=\"string\"?null:e.split(\".\").reduce(function(r,s){return r\u0026\u0026r[s]?r[s]:null},n)}function Rie(n){var e=n.prop,r=n.cssProperty,s=r===void 0?n.prop:r,o=n.themeKey,c=n.transform,p=function(y){if(y[e]==null)return null;var b=y[e],w=y.theme,k=Pj(w,o)||{},S=function(j){var B;return typeof k==\"function\"?B=k(j):Array.isArray(k)?B=k[j]||j:(B=Pj(k,j)||j,c\u0026\u0026(B=c(B))),s===!1?B:(0,Cie.default)({},s,B)};return(0,Aie.handleBreakpoints)(y,b,S)};return p.propTypes={},p.filterProps=[e],p}var Eie=Rie;Zd.default=Eie});var ma=v(Kd=\u003e{\"use strict\";var Oj=Me();Object.defineProperty(Kd,\"__esModule\",{value:!0});Kd.default=void 0;var rke=Oj(yt()),jie=Oj(Wc());function Die(){for(var n=arguments.length,e=new Array(n),r=0;r\u003cn;r++)e[r]=arguments[r];var s=function(c){return e.reduce(function(p,d){var y=d(c);return y?(0,jie.default)(p,y):p},{})};return s.propTypes={},s.filterProps=e.reduce(function(o,c){return o.concat(c.filterProps)},[]),s}var Iie=Die;Kd.default=Iie});var Vj=v(fn=\u003e{\"use strict\";var Cj=Me();Object.defineProperty(fn,\"__esModule\",{value:!0});fn.default=fn.borderRadius=fn.borderColor=fn.borderLeft=fn.borderBottom=fn.borderRight=fn.borderTop=fn.border=void 0;var ui=Cj($r()),Fie=Cj(ma());function Gc(n){return typeof n!=\"number\"?n:\"\".concat(n,\"px solid\")}var Aj=(0,ui.default)({prop:\"border\",themeKey:\"borders\",transform:Gc});fn.border=Aj;var Rj=(0,ui.default)({prop:\"borderTop\",themeKey:\"borders\",transform:Gc});fn.borderTop=Rj;var Ej=(0,ui.default)({prop:\"borderRight\",themeKey:\"borders\",transform:Gc});fn.borderRight=Ej;var jj=(0,ui.default)({prop:\"borderBottom\",themeKey:\"borders\",transform:Gc});fn.borderBottom=jj;var Dj=(0,ui.default)({prop:\"borderLeft\",themeKey:\"borders\",transform:Gc});fn.borderLeft=Dj;var Ij=(0,ui.default)({prop:\"borderColor\",themeKey:\"palette\"});fn.borderColor=Ij;var Fj=(0,ui.default)({prop:\"borderRadius\",themeKey:\"shape\"});fn.borderRadius=Fj;var Vie=(0,Fie.default)(Aj,Rj,Ej,jj,Dj,Ij,Fj),Lie=Vie;fn.default=Lie});var zj=v(Uc=\u003e{\"use strict\";var Qd=Me();Object.defineProperty(Uc,\"__esModule\",{value:!0});Uc.css=Bie;Uc.default=void 0;var Wie=Qd(Rc()),Jd=Qd(yt()),ike=Qd(It()),oke=nn(),Lj=Qd(Wc());function Wj(n,e){var r={};return Object.keys(n).forEach(function(s){e.indexOf(s)===-1\u0026\u0026(r[s]=n[s])}),r}function Bj(n){var e=function(s){var o=n(s);return s.css?(0,Jd.default)({},(0,Lj.default)(o,n((0,Jd.default)({theme:s.theme},s.css))),Wj(s.css,[n.filterProps])):s.sx?(0,Jd.default)({},(0,Lj.default)(o,n((0,Jd.default)({theme:s.theme},s.sx))),Wj(s.sx,[n.filterProps])):o};return e.propTypes={},e.filterProps=[\"css\",\"sx\"].concat((0,Wie.default)(n.filterProps)),e}function Bie(n){return Bj(n)}var zie=Bj;Uc.default=zie});var Kj=v(Pn=\u003e{\"use strict\";var Gj=Me();Object.defineProperty(Pn,\"__esModule\",{value:!0});Pn.default=Pn.whiteSpace=Pn.visibility=Pn.textOverflow=Pn.overflow=Pn.displayRaw=Pn.displayPrint=void 0;var Bo=Gj($r()),Gie=Gj(ma()),Uj=(0,Bo.default)({prop:\"displayPrint\",cssProperty:!1,transform:function(e){return{\"@media print\":{display:e}}}});Pn.displayPrint=Uj;var $j=(0,Bo.default)({prop:\"display\"});Pn.displayRaw=$j;var Hj=(0,Bo.default)({prop:\"overflow\"});Pn.overflow=Hj;var Yj=(0,Bo.default)({prop:\"textOverflow\"});Pn.textOverflow=Yj;var Xj=(0,Bo.default)({prop:\"visibility\"});Pn.visibility=Xj;var Zj=(0,Bo.default)({prop:\"whiteSpace\"});Pn.whiteSpace=Zj;var Uie=(0,Gie.default)(Uj,$j,Hj,Yj,Xj,Zj);Pn.default=Uie});var pD=v(gt=\u003e{\"use strict\";var Qj=Me();Object.defineProperty(gt,\"__esModule\",{value:!0});gt.default=gt.justifySelf=gt.justifyItems=gt.alignSelf=gt.flexShrink=gt.flexGrow=gt.flex=gt.order=gt.alignContent=gt.alignItems=gt.justifyContent=gt.flexWrap=gt.flexDirection=gt.flexBasis=void 0;var mr=Qj($r()),$ie=Qj(ma()),Jj=(0,mr.default)({prop:\"flexBasis\"});gt.flexBasis=Jj;var eD=(0,mr.default)({prop:\"flexDirection\"});gt.flexDirection=eD;var tD=(0,mr.default)({prop:\"flexWrap\"});gt.flexWrap=tD;var nD=(0,mr.default)({prop:\"justifyContent\"});gt.justifyContent=nD;var rD=(0,mr.default)({prop:\"alignItems\"});gt.alignItems=rD;var aD=(0,mr.default)({prop:\"alignContent\"});gt.alignContent=aD;var sD=(0,mr.default)({prop:\"order\"});gt.order=sD;var iD=(0,mr.default)({prop:\"flex\"});gt.flex=iD;var oD=(0,mr.default)({prop:\"flexGrow\"});gt.flexGrow=oD;var uD=(0,mr.default)({prop:\"flexShrink\"});gt.flexShrink=uD;var cD=(0,mr.default)({prop:\"alignSelf\"});gt.alignSelf=cD;var lD=(0,mr.default)({prop:\"justifyItems\"});gt.justifyItems=lD;var hD=(0,mr.default)({prop:\"justifySelf\"});gt.justifySelf=hD;var Hie=(0,$ie.default)(Jj,eD,tD,nD,rD,aD,sD,iD,oD,uD,cD,lD,hD),Yie=Hie;gt.default=Yie});var TD=v(xt=\u003e{\"use strict\";var dD=Me();Object.defineProperty(xt,\"__esModule\",{value:!0});xt.default=xt.gridArea=xt.gridTemplateAreas=xt.gridTemplateRows=xt.gridTemplateColumns=xt.gridAutoRows=xt.gridAutoColumns=xt.gridAutoFlow=xt.gridRow=xt.gridColumn=xt.gridRowGap=xt.gridColumnGap=xt.gridGap=void 0;var Pr=dD($r()),Xie=dD(ma()),fD=(0,Pr.default)({prop:\"gridGap\"});xt.gridGap=fD;var mD=(0,Pr.default)({prop:\"gridColumnGap\"});xt.gridColumnGap=mD;var vD=(0,Pr.default)({prop:\"gridRowGap\"});xt.gridRowGap=vD;var gD=(0,Pr.default)({prop:\"gridColumn\"});xt.gridColumn=gD;var yD=(0,Pr.default)({prop:\"gridRow\"});xt.gridRow=yD;var _D=(0,Pr.default)({prop:\"gridAutoFlow\"});xt.gridAutoFlow=_D;var bD=(0,Pr.default)({prop:\"gridAutoColumns\"});xt.gridAutoColumns=bD;var xD=(0,Pr.default)({prop:\"gridAutoRows\"});xt.gridAutoRows=xD;var kD=(0,Pr.default)({prop:\"gridTemplateColumns\"});xt.gridTemplateColumns=kD;var ND=(0,Pr.default)({prop:\"gridTemplateRows\"});xt.gridTemplateRows=ND;var wD=(0,Pr.default)({prop:\"gridTemplateAreas\"});xt.gridTemplateAreas=wD;var qD=(0,Pr.default)({prop:\"gridArea\"});xt.gridArea=qD;var Zie=(0,Xie.default)(fD,mD,vD,gD,yD,_D,bD,xD,kD,ND,wD,qD),Kie=Zie;xt.default=Kie});var CD=v(ks=\u003e{\"use strict\";var MD=Me();Object.defineProperty(ks,\"__esModule\",{value:!0});ks.default=ks.bgcolor=ks.color=void 0;var SD=MD($r()),Qie=MD(ma()),PD=(0,SD.default)({prop:\"color\",themeKey:\"palette\"});ks.color=PD;var OD=(0,SD.default)({prop:\"bgcolor\",cssProperty:\"backgroundColor\",themeKey:\"palette\"});ks.bgcolor=OD;var Jie=(0,Qie.default)(PD,OD),eoe=Jie;ks.default=eoe});var VD=v(On=\u003e{\"use strict\";var AD=Me();Object.defineProperty(On,\"__esModule\",{value:!0});On.default=On.left=On.bottom=On.right=On.top=On.zIndex=On.position=void 0;var zo=AD($r()),toe=AD(ma()),RD=(0,zo.default)({prop:\"position\"});On.position=RD;var ED=(0,zo.default)({prop:\"zIndex\",themeKey:\"zIndex\"});On.zIndex=ED;var jD=(0,zo.default)({prop:\"top\"});On.top=jD;var DD=(0,zo.default)({prop:\"right\"});On.right=DD;var ID=(0,zo.default)({prop:\"bottom\"});On.bottom=ID;var FD=(0,zo.default)({prop:\"left\"});On.left=FD;var noe=(0,toe.default)(RD,ED,jD,DD,ID,FD);On.default=noe});var LD=v(ef=\u003e{\"use strict\";var roe=Me();Object.defineProperty(ef,\"__esModule\",{value:!0});ef.default=void 0;var aoe=roe($r()),soe=(0,aoe.default)({prop:\"boxShadow\",themeKey:\"shadows\"}),ioe=soe;ef.default=ioe});var XD=v(Gt=\u003e{\"use strict\";var WD=Me();Object.defineProperty(Gt,\"__esModule\",{value:!0});Gt.default=Gt.boxSizing=Gt.sizeHeight=Gt.sizeWidth=Gt.minHeight=Gt.maxHeight=Gt.height=Gt.minWidth=Gt.maxWidth=Gt.width=void 0;var Ia=WD($r()),ooe=WD(ma());function Ns(n){return n\u003c=1?\"\".concat(n*100,\"%\"):n}var BD=(0,Ia.default)({prop:\"width\",transform:Ns});Gt.width=BD;var zD=(0,Ia.default)({prop:\"maxWidth\",transform:Ns});Gt.maxWidth=zD;var GD=(0,Ia.default)({prop:\"minWidth\",transform:Ns});Gt.minWidth=GD;var UD=(0,Ia.default)({prop:\"height\",transform:Ns});Gt.height=UD;var $D=(0,Ia.default)({prop:\"maxHeight\",transform:Ns});Gt.maxHeight=$D;var HD=(0,Ia.default)({prop:\"minHeight\",transform:Ns});Gt.minHeight=HD;var uoe=(0,Ia.default)({prop:\"size\",cssProperty:\"width\",transform:Ns});Gt.sizeWidth=uoe;var coe=(0,Ia.default)({prop:\"size\",cssProperty:\"height\",transform:Ns});Gt.sizeHeight=coe;var YD=(0,Ia.default)({prop:\"boxSizing\"});Gt.boxSizing=YD;var loe=(0,ooe.default)(BD,zD,GD,UD,$D,HD,YD),hoe=loe;Gt.default=hoe});var ZD=v((vke,$c)=\u003e{function poe(n){if(Array.isArray(n))return n}$c.exports=poe;$c.exports.default=$c.exports,$c.exports.__esModule=!0});var KD=v((gke,Hc)=\u003e{function doe(n,e){var r=n==null?null:typeof Symbol!=\"undefined\"\u0026\u0026n[Symbol.iterator]||n[\"@@iterator\"];if(r!=null){var s=[],o=!0,c=!1,p,d;try{for(r=r.call(n);!(o=(p=r.next()).done)\u0026\u0026(s.push(p.value),!(e\u0026\u0026s.length===e));o=!0);}catch(y){c=!0,d=y}finally{try{!o\u0026\u0026r.return!=null\u0026\u0026r.return()}finally{if(c)throw d}}return s}}Hc.exports=doe;Hc.exports.default=Hc.exports,Hc.exports.__esModule=!0});var QD=v((yke,Yc)=\u003e{function foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Yc.exports=foe;Yc.exports.default=Yc.exports,Yc.exports.__esModule=!0});var JD=v((_ke,Xc)=\u003e{var moe=ZD(),voe=KD(),goe=Dy(),yoe=QD();function _oe(n,e){return moe(n)||voe(n,e)||goe(n,e)||yoe()}Xc.exports=_oe;Xc.exports.default=Xc.exports,Xc.exports.__esModule=!0});var eI=v($_=\u003e{\"use strict\";Object.defineProperty($_,\"__esModule\",{value:!0});$_.default=boe;function boe(n){var e={};return function(r){return e[r]===void 0\u0026\u0026(e[r]=n(r)),e[r]}}});var aI=v(Zc=\u003e{\"use strict\";var tf=Me();Object.defineProperty(Zc,\"__esModule\",{value:!0});Zc.createUnarySpacing=rI;Zc.default=void 0;var xoe=tf(JD()),xke=tf(G_()),koe=Xd(),Noe=tf(Wc()),woe=tf(eI()),qoe={m:\"margin\",p:\"padding\"},Toe={t:\"Top\",r:\"Right\",b:\"Bottom\",l:\"Left\",x:[\"Left\",\"Right\"],y:[\"Top\",\"Bottom\"]},tI={marginX:\"mx\",marginY:\"my\",paddingX:\"px\",paddingY:\"py\"},Moe=(0,woe.default)(function(n){if(n.length\u003e2)if(tI[n])n=tI[n];else return[n];var e=n.split(\"\"),r=(0,xoe.default)(e,2),s=r[0],o=r[1],c=qoe[s],p=Toe[o]||\"\";return Array.isArray(p)?p.map(function(d){return c+d}):[c+p]}),nI=[\"m\",\"mt\",\"mr\",\"mb\",\"ml\",\"mx\",\"my\",\"p\",\"pt\",\"pr\",\"pb\",\"pl\",\"px\",\"py\",\"margin\",\"marginTop\",\"marginRight\",\"marginBottom\",\"marginLeft\",\"marginX\",\"marginY\",\"padding\",\"paddingTop\",\"paddingRight\",\"paddingBottom\",\"paddingLeft\",\"paddingX\",\"paddingY\"];function rI(n){var e=n.spacing||8;return typeof e==\"number\"?function(r){return e*r}:Array.isArray(e)?function(r){return e[r]}:typeof e==\"function\"?e:function(){}}function Soe(n,e){if(typeof e==\"string\"||e==null)return e;var r=Math.abs(e),s=n(r);return e\u003e=0?s:typeof s==\"number\"?-s:\"-\".concat(s)}function Poe(n,e){return function(r){return n.reduce(function(s,o){return s[o]=Soe(e,r),s},{})}}function H_(n){var e=n.theme,r=rI(e);return Object.keys(n).map(function(s){if(nI.indexOf(s)===-1)return null;var o=Moe(s),c=Poe(o,r),p=n[s];return(0,koe.handleBreakpoints)(n,p,c)}).reduce(Noe.default,{})}H_.propTypes={};H_.filterProps=nI;var Ooe=H_;Zc.default=Ooe});var dI=v(mn=\u003e{\"use strict\";var sI=Me();Object.defineProperty(mn,\"__esModule\",{value:!0});mn.default=mn.textAlign=mn.lineHeight=mn.letterSpacing=mn.fontWeight=mn.fontStyle=mn.fontSize=mn.fontFamily=void 0;var ci=sI($r()),Coe=sI(ma()),iI=(0,ci.default)({prop:\"fontFamily\",themeKey:\"typography\"});mn.fontFamily=iI;var oI=(0,ci.default)({prop:\"fontSize\",themeKey:\"typography\"});mn.fontSize=oI;var uI=(0,ci.default)({prop:\"fontStyle\",themeKey:\"typography\"});mn.fontStyle=uI;var cI=(0,ci.default)({prop:\"fontWeight\",themeKey:\"typography\"});mn.fontWeight=cI;var lI=(0,ci.default)({prop:\"letterSpacing\"});mn.letterSpacing=lI;var hI=(0,ci.default)({prop:\"lineHeight\"});mn.lineHeight=hI;var pI=(0,ci.default)({prop:\"textAlign\"});mn.textAlign=pI;var Aoe=(0,Coe.default)(iI,oI,uI,cI,lI,hI,pI),Roe=Aoe;mn.default=Roe});var fI=v(Rt=\u003e{\"use strict\";var Kc=Me(),Fa=tn();Object.defineProperty(Rt,\"__esModule\",{value:!0});var Va={borders:!0,breakpoints:!0,compose:!0,styleFunctionSx:!0,display:!0,flexbox:!0,grid:!0,palette:!0,positions:!0,shadows:!0,sizing:!0,spacing:!0,style:!0,typography:!0};Object.defineProperty(Rt,\"borders\",{enumerable:!0,get:function(){return Y_.default}});Object.defineProperty(Rt,\"breakpoints\",{enumerable:!0,get:function(){return Eoe.default}});Object.defineProperty(Rt,\"compose\",{enumerable:!0,get:function(){return joe.default}});Object.defineProperty(Rt,\"styleFunctionSx\",{enumerable:!0,get:function(){return X_.default}});Object.defineProperty(Rt,\"display\",{enumerable:!0,get:function(){return Doe.default}});Object.defineProperty(Rt,\"flexbox\",{enumerable:!0,get:function(){return Z_.default}});Object.defineProperty(Rt,\"grid\",{enumerable:!0,get:function(){return K_.default}});Object.defineProperty(Rt,\"palette\",{enumerable:!0,get:function(){return Q_.default}});Object.defineProperty(Rt,\"positions\",{enumerable:!0,get:function(){return J_.default}});Object.defineProperty(Rt,\"shadows\",{enumerable:!0,get:function(){return Ioe.default}});Object.defineProperty(Rt,\"sizing\",{enumerable:!0,get:function(){return e0.default}});Object.defineProperty(Rt,\"spacing\",{enumerable:!0,get:function(){return t0.default}});Object.defineProperty(Rt,\"style\",{enumerable:!0,get:function(){return Foe.default}});Object.defineProperty(Rt,\"typography\",{enumerable:!0,get:function(){return n0.default}});var Y_=Fa(Vj());Object.keys(Y_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(Va,n)||Object.defineProperty(Rt,n,{enumerable:!0,get:function(){return Y_[n]}})});var Eoe=Kc(Xd()),joe=Kc(ma()),X_=Fa(zj());Object.keys(X_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(Va,n)||Object.defineProperty(Rt,n,{enumerable:!0,get:function(){return X_[n]}})});var Doe=Kc(Kj()),Z_=Fa(pD());Object.keys(Z_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(Va,n)||Object.defineProperty(Rt,n,{enumerable:!0,get:function(){return Z_[n]}})});var K_=Fa(TD());Object.keys(K_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(Va,n)||Object.defineProperty(Rt,n,{enumerable:!0,get:function(){return K_[n]}})});var Q_=Fa(CD());Object.keys(Q_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(Va,n)||Object.defineProperty(Rt,n,{enumerable:!0,get:function(){return Q_[n]}})});var J_=Fa(VD());Object.keys(J_).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(Va,n)||Object.defineProperty(Rt,n,{enumerable:!0,get:function(){return J_[n]}})});var Ioe=Kc(LD()),e0=Fa(XD());Object.keys(e0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(Va,n)||Object.defineProperty(Rt,n,{enumerable:!0,get:function(){return e0[n]}})});var t0=Fa(aI());Object.keys(t0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(Va,n)||Object.defineProperty(Rt,n,{enumerable:!0,get:function(){return t0[n]}})});var Foe=Kc($r()),n0=Fa(dI());Object.keys(n0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(Va,n)||Object.defineProperty(Rt,n,{enumerable:!0,get:function(){return n0[n]}})})});var mI=v(r0=\u003e{\"use strict\";Object.defineProperty(r0,\"__esModule\",{value:!0});r0.default=Loe;var Voe=fI();function Loe(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:8;if(n.mui)return n;var e=(0,Voe.createUnarySpacing)({spacing:n}),r=function(){for(var o=arguments.length,c=new Array(o),p=0;p\u003co;p++)c[p]=arguments[p];return c.length===0?e(1):c.length===1?e(c[0]):c.map(function(d){if(typeof d==\"string\")return d;var y=e(d);return typeof y==\"number\"?\"\".concat(y,\"px\"):y}).join(\" \")};return Object.defineProperty(r,\"unit\",{get:function(){return n}}),r.mui=!0,r}});var gI=v(ws=\u003e{\"use strict\";var Woe=Me();Object.defineProperty(ws,\"__esModule\",{value:!0});ws.default=ws.duration=ws.easing=void 0;var Boe=Woe(Sn()),a0={easeInOut:\"cubic-bezier(0.4, 0, 0.2, 1)\",easeOut:\"cubic-bezier(0.0, 0, 0.2, 1)\",easeIn:\"cubic-bezier(0.4, 0, 1, 1)\",sharp:\"cubic-bezier(0.4, 0, 0.6, 1)\"};ws.easing=a0;var s0={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};ws.duration=s0;function vI(n){return\"\".concat(Math.round(n),\"ms\")}var zoe={easing:a0,duration:s0,create:function(){var e=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:[\"all\"],r=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},s=r.duration,o=s===void 0?s0.standard:s,c=r.easing,p=c===void 0?a0.easeInOut:c,d=r.delay,y=d===void 0?0:d,b=(0,Boe.default)(r,[\"duration\",\"easing\",\"delay\"]);if(!1)var w,k;return(Array.isArray(e)?e:[e]).map(function(S){return\"\".concat(S,\" \").concat(typeof o==\"string\"?o:vI(o),\" \").concat(p,\" \").concat(typeof y==\"string\"?y:vI(y))}).join(\",\")},getAutoHeightDuration:function(e){if(!e)return 0;var r=e/36;return Math.round((4+15*Math.pow(r,.25)+r/5)*10)}};ws.default=zoe});var yI=v(nf=\u003e{\"use strict\";Object.defineProperty(nf,\"__esModule\",{value:!0});nf.default=void 0;var Goe={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Uoe=Goe;nf.default=Uoe});var xI=v(Qc=\u003e{\"use strict\";var Hr=Me();Object.defineProperty(Qc,\"__esModule\",{value:!0});Qc.createMuiTheme=nue;Qc.default=void 0;var Ske=Hr(lc()),$oe=Hr(Sn()),_I=nn(),Hoe=Hr(JE()),Yoe=Hr(tj()),Xoe=Hr(_j()),Zoe=Hr(qj()),Koe=Hr(Tj()),Qoe=Hr(Mj()),Joe=Hr(mI()),eue=Hr(gI()),tue=Hr(yI());function bI(){for(var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.breakpoints,r=e===void 0?{}:e,s=n.mixins,o=s===void 0?{}:s,c=n.palette,p=c===void 0?{}:c,d=n.spacing,y=n.typography,b=y===void 0?{}:y,w=(0,$oe.default)(n,[\"breakpoints\",\"mixins\",\"palette\",\"spacing\",\"typography\"]),k=(0,Xoe.default)(p),S=(0,Hoe.default)(r),L=(0,Joe.default)(d),j=(0,_I.deepmerge)({breakpoints:S,direction:\"ltr\",mixins:(0,Yoe.default)(S,L,o),overrides:{},palette:k,props:{},shadows:Koe.default,typography:(0,Zoe.default)(k,b),spacing:L,shape:Qoe.default,transitions:eue.default,zIndex:tue.default},w),B=arguments.length,ee=new Array(B\u003e1?B-1:0),de=1;de\u003cB;de++)ee[de-1]=arguments[de];if(j=ee.reduce(function(G,R){return(0,_I.deepmerge)(G,R)},j),!1)var ie,he;return j}function nue(){return bI.apply(void 0,arguments)}var rue=bI;Qc.default=rue});var kI=v(rf=\u003e{\"use strict\";var aue=Me();Object.defineProperty(rf,\"__esModule\",{value:!0});rf.default=void 0;var sue=aue(xI()),iue=(0,sue.default)(),oue=iue;rf.default=oue});var Go=v(af=\u003e{\"use strict\";var NI=Me();Object.defineProperty(af,\"__esModule\",{value:!0});af.default=void 0;var uue=NI(yt()),cue=KE(),lue=NI(kI());function hue(n,e){return(0,cue.withStyles)(n,(0,uue.default)({defaultTheme:lue.default},e))}var pue=hue;af.default=pue});var Jc=v((Ake,wI)=\u003e{wI.exports=ReactDOM});var o0=v(i0=\u003e{\"use strict\";Object.defineProperty(i0,\"__esModule\",{value:!0});i0.default=due;function due(n,e){typeof n==\"function\"?n(e):n\u0026\u0026(n.current=e)}});var c0=v(u0=\u003e{\"use strict\";var fue=Me(),mue=tn();Object.defineProperty(u0,\"__esModule\",{value:!0});u0.default=gue;var vue=mue(ot()),qI=fue(o0());function gue(n,e){return vue.useMemo(function(){return n==null\u0026\u0026e==null?null:function(r){(0,qI.default)(n,r),(0,qI.default)(e,r)}},[n,e])}});var of=v(l0=\u003e{\"use strict\";var yue=tn();Object.defineProperty(l0,\"__esModule\",{value:!0});l0.default=bue;var sf=yue(ot()),_ue=typeof window!=\"undefined\"?sf.useLayoutEffect:sf.useEffect;function bue(n){var e=sf.useRef(n);return _ue(function(){e.current=n}),sf.useCallback(function(){return e.current.apply(void 0,arguments)},[])}});var p0=v(h0=\u003e{\"use strict\";Object.defineProperty(h0,\"__esModule\",{value:!0});h0.default=xue;function xue(n,e){return function(){return null}}});var f0=v(cf=\u003e{\"use strict\";var TI=tn();Object.defineProperty(cf,\"__esModule\",{value:!0});cf.teardown=Mue;cf.default=Oue;var kue=TI(ot()),Nue=TI(Jc()),uf=!0,d0=!1,MI=null,wue={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,\"datetime-local\":!0};function que(n){var e=n.type,r=n.tagName;return!!(r===\"INPUT\"\u0026\u0026wue[e]\u0026\u0026!n.readOnly||r===\"TEXTAREA\"\u0026\u0026!n.readOnly||n.isContentEditable)}function SI(n){n.metaKey||n.altKey||n.ctrlKey||(uf=!0)}function Uo(){uf=!1}function PI(){this.visibilityState===\"hidden\"\u0026\u0026d0\u0026\u0026(uf=!0)}function Tue(n){n.addEventListener(\"keydown\",SI,!0),n.addEventListener(\"mousedown\",Uo,!0),n.addEventListener(\"pointerdown\",Uo,!0),n.addEventListener(\"touchstart\",Uo,!0),n.addEventListener(\"visibilitychange\",PI,!0)}function Mue(n){n.removeEventListener(\"keydown\",SI,!0),n.removeEventListener(\"mousedown\",Uo,!0),n.removeEventListener(\"pointerdown\",Uo,!0),n.removeEventListener(\"touchstart\",Uo,!0),n.removeEventListener(\"visibilitychange\",PI,!0)}function Sue(n){var e=n.target;try{return e.matches(\":focus-visible\")}catch(r){}return uf||que(e)}function Pue(){d0=!0,window.clearTimeout(MI),MI=window.setTimeout(function(){d0=!1},100)}function Oue(){var n=kue.useCallback(function(e){var r=Nue.findDOMNode(e);r!=null\u0026\u0026Tue(r.ownerDocument)},[]);return{isFocusVisible:Sue,onBlurVisible:Pue,ref:n}}});var CI=v((lf,OI)=\u003e{\"use strict\";lf.__esModule=!0;lf.default=Cue;function Cue(n,e){return n.classList?!!e\u0026\u0026n.classList.contains(e):(\" \"+(n.className.baseVal||n.className)+\" \").indexOf(\" \"+e+\" \")!==-1}OI.exports=lf.default});var RI=v((hf,AI)=\u003e{\"use strict\";var Aue=Me();hf.__esModule=!0;hf.default=Eue;var Rue=Aue(CI());function Eue(n,e){n.classList?n.classList.add(e):(0,Rue.default)(n,e)||(typeof n.className==\"string\"?n.className=n.className+\" \"+e:n.setAttribute(\"class\",(n.className\u0026\u0026n.className.baseVal||\"\")+\" \"+e))}AI.exports=hf.default});var DI=v((pf,jI)=\u003e{\"use strict\";pf.__esModule=!0;pf.default=jue;function EI(n,e){return n.replace(new RegExp(\"(^|\\\\s)\"+e+\"(?:\\\\s|$)\",\"g\"),\"$1\").replace(/\\s+/g,\" \").replace(/^\\s*|\\s*$/g,\"\")}function jue(n,e){n.classList?n.classList.remove(e):typeof n.className==\"string\"?n.className=EI(n.className,e):n.setAttribute(\"class\",EI(n.className\u0026\u0026n.className.baseVal||\"\",e))}jI.exports=pf.default});var m0=v((el,II)=\u003e{\"use strict\";el.__esModule=!0;el.default=void 0;var Due={disabled:!1};el.default=Due;II.exports=el.default});var v0=v($o=\u003e{\"use strict\";$o.__esModule=!0;$o.classNamesShape=$o.timeoutsShape=void 0;var Fke=Iue(It());function Iue(n){return n\u0026\u0026n.__esModule?n:{default:n}}var Fue=null;$o.timeoutsShape=Fue;var Vue=null;$o.classNamesShape=Vue});var df=v((tl,FI)=\u003e{\"use strict\";tl.__esModule=!0;tl.default=void 0;var Lue=Wue(ot());function Wue(n){return n\u0026\u0026n.__esModule?n:{default:n}}var Bue=Lue.default.createContext(null);tl.default=Bue;FI.exports=tl.default});var vf=v(Zn=\u003e{\"use strict\";Zn.__esModule=!0;Zn.default=Zn.EXITING=Zn.ENTERED=Zn.ENTERING=Zn.EXITED=Zn.UNMOUNTED=void 0;var Lke=nl(It()),ff=nl(ot()),g0=nl(Jc()),VI=nl(m0()),Wke=v0(),LI=nl(df());function nl(n){return n\u0026\u0026n.__esModule?n:{default:n}}function zue(n,e){if(n==null)return{};var r={},s=Object.keys(n),o,c;for(c=0;c\u003cs.length;c++)o=s[c],!(e.indexOf(o)\u003e=0)\u0026\u0026(r[o]=n[o]);return r}function Gue(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Ho=\"unmounted\";Zn.UNMOUNTED=Ho;var qs=\"exited\";Zn.EXITED=qs;var Ts=\"entering\";Zn.ENTERING=Ts;var li=\"entered\";Zn.ENTERED=li;var mf=\"exiting\";Zn.EXITING=mf;var La=function(n){Gue(e,n);function e(s,o){var c;c=n.call(this,s,o)||this;var p=o,d=p\u0026\u0026!p.isMounting?s.enter:s.appear,y;return c.appearStatus=null,s.in?d?(y=qs,c.appearStatus=Ts):y=li:s.unmountOnExit||s.mountOnEnter?y=Ho:y=qs,c.state={status:y},c.nextCallback=null,c}e.getDerivedStateFromProps=function(o,c){var p=o.in;return p\u0026\u0026c.status===Ho?{status:qs}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(o){var c=null;if(o!==this.props){var p=this.state.status;this.props.in?p!==Ts\u0026\u0026p!==li\u0026\u0026(c=Ts):(p===Ts||p===li)\u0026\u0026(c=mf)}this.updateStatus(!1,c)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var o=this.props.timeout,c,p,d;return c=p=d=o,o!=null\u0026\u0026typeof o!=\"number\"\u0026\u0026(c=o.exit,p=o.enter,d=o.appear!==void 0?o.appear:p),{exit:c,enter:p,appear:d}},r.updateStatus=function(o,c){o===void 0\u0026\u0026(o=!1),c!==null?(this.cancelNextCallback(),c===Ts?this.performEnter(o):this.performExit()):this.props.unmountOnExit\u0026\u0026this.state.status===qs\u0026\u0026this.setState({status:Ho})},r.performEnter=function(o){var c=this,p=this.props.enter,d=this.context?this.context.isMounting:o,y=this.props.nodeRef?[d]:[g0.default.findDOMNode(this),d],b=y[0],w=y[1],k=this.getTimeouts(),S=d?k.appear:k.enter;if(!o\u0026\u0026!p||VI.default.disabled){this.safeSetState({status:li},function(){c.props.onEntered(b)});return}this.props.onEnter(b,w),this.safeSetState({status:Ts},function(){c.props.onEntering(b,w),c.onTransitionEnd(S,function(){c.safeSetState({status:li},function(){c.props.onEntered(b,w)})})})},r.performExit=function(){var o=this,c=this.props.exit,p=this.getTimeouts(),d=this.props.nodeRef?void 0:g0.default.findDOMNode(this);if(!c||VI.default.disabled){this.safeSetState({status:qs},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:mf},function(){o.props.onExiting(d),o.onTransitionEnd(p.exit,function(){o.safeSetState({status:qs},function(){o.props.onExited(d)})})})},r.cancelNextCallback=function(){this.nextCallback!==null\u0026\u0026(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(o,c){c=this.setNextCallback(c),this.setState(o,c)},r.setNextCallback=function(o){var c=this,p=!0;return this.nextCallback=function(d){p\u0026\u0026(p=!1,c.nextCallback=null,o(d))},this.nextCallback.cancel=function(){p=!1},this.nextCallback},r.onTransitionEnd=function(o,c){this.setNextCallback(c);var p=this.props.nodeRef?this.props.nodeRef.current:g0.default.findDOMNode(this),d=o==null\u0026\u0026!this.props.addEndListener;if(!p||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var y=this.props.nodeRef?[this.nextCallback]:[p,this.nextCallback],b=y[0],w=y[1];this.props.addEndListener(b,w)}o!=null\u0026\u0026setTimeout(this.nextCallback,o)},r.render=function(){var o=this.state.status;if(o===Ho)return null;var c=this.props,p=c.children,d=c.in,y=c.mountOnEnter,b=c.unmountOnExit,w=c.appear,k=c.enter,S=c.exit,L=c.timeout,j=c.addEndListener,B=c.onEnter,ee=c.onEntering,de=c.onEntered,ie=c.onExit,he=c.onExiting,G=c.onExited,R=c.nodeRef,H=zue(c,[\"children\",\"in\",\"mountOnEnter\",\"unmountOnExit\",\"appear\",\"enter\",\"exit\",\"timeout\",\"addEndListener\",\"onEnter\",\"onEntering\",\"onEntered\",\"onExit\",\"onExiting\",\"onExited\",\"nodeRef\"]);return ff.default.createElement(LI.default.Provider,{value:null},typeof p==\"function\"?p(o,H):ff.default.cloneElement(ff.default.Children.only(p),H))},e}(ff.default.Component);La.contextType=LI.default;La.propTypes={};function Yo(){}La.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yo,onEntering:Yo,onEntered:Yo,onExit:Yo,onExiting:Yo,onExited:Yo};La.UNMOUNTED=Ho;La.EXITED=qs;La.ENTERING=Ts;La.ENTERED=li;La.EXITING=mf;var Uue=La;Zn.default=Uue});var zI=v((al,BI)=\u003e{\"use strict\";al.__esModule=!0;al.default=void 0;var zke=rl(It()),$ue=rl(RI()),Hue=rl(DI()),WI=rl(ot()),Yue=rl(vf()),Gke=v0();function rl(n){return n\u0026\u0026n.__esModule?n:{default:n}}function y0(){return y0=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)\u0026\u0026(n[s]=r[s])}return n},y0.apply(this,arguments)}function Xue(n,e){if(n==null)return{};var r={},s=Object.keys(n),o,c;for(c=0;c\u003cs.length;c++)o=s[c],!(e.indexOf(o)\u003e=0)\u0026\u0026(r[o]=n[o]);return r}function Zue(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Kue=function(e,r){return e\u0026\u0026r\u0026\u0026r.split(\" \").forEach(function(s){return(0,$ue.default)(e,s)})},_0=function(e,r){return e\u0026\u0026r\u0026\u0026r.split(\" \").forEach(function(s){return(0,Hue.default)(e,s)})},b0=function(n){Zue(e,n);function e(){for(var s,o=arguments.length,c=new Array(o),p=0;p\u003co;p++)c[p]=arguments[p];return s=n.call.apply(n,[this].concat(c))||this,s.appliedClasses={appear:{},enter:{},exit:{}},s.onEnter=function(d,y){var b=s.resolveArguments(d,y),w=b[0],k=b[1];s.removeClasses(w,\"exit\"),s.addClass(w,k?\"appear\":\"enter\",\"base\"),s.props.onEnter\u0026\u0026s.props.onEnter(d,y)},s.onEntering=function(d,y){var b=s.resolveArguments(d,y),w=b[0],k=b[1],S=k?\"appear\":\"enter\";s.addClass(w,S,\"active\"),s.props.onEntering\u0026\u0026s.props.onEntering(d,y)},s.onEntered=function(d,y){var b=s.resolveArguments(d,y),w=b[0],k=b[1],S=k?\"appear\":\"enter\";s.removeClasses(w,S),s.addClass(w,S,\"done\"),s.props.onEntered\u0026\u0026s.props.onEntered(d,y)},s.onExit=function(d){var y=s.resolveArguments(d),b=y[0];s.removeClasses(b,\"appear\"),s.removeClasses(b,\"enter\"),s.addClass(b,\"exit\",\"base\"),s.props.onExit\u0026\u0026s.props.onExit(d)},s.onExiting=function(d){var y=s.resolveArguments(d),b=y[0];s.addClass(b,\"exit\",\"active\"),s.props.onExiting\u0026\u0026s.props.onExiting(d)},s.onExited=function(d){var y=s.resolveArguments(d),b=y[0];s.removeClasses(b,\"exit\"),s.addClass(b,\"exit\",\"done\"),s.props.onExited\u0026\u0026s.props.onExited(d)},s.resolveArguments=function(d,y){return s.props.nodeRef?[s.props.nodeRef.current,d]:[d,y]},s.getClassNames=function(d){var y=s.props.classNames,b=typeof y==\"string\",w=b\u0026\u0026y?y+\"-\":\"\",k=b?\"\"+w+d:y[d],S=b?k+\"-active\":y[d+\"Active\"],L=b?k+\"-done\":y[d+\"Done\"];return{baseClassName:k,activeClassName:S,doneClassName:L}},s}var r=e.prototype;return r.addClass=function(o,c,p){var d=this.getClassNames(c)[p+\"ClassName\"],y=this.getClassNames(\"enter\"),b=y.doneClassName;c===\"appear\"\u0026\u0026p===\"done\"\u0026\u0026b\u0026\u0026(d+=\" \"+b),p===\"active\"\u0026\u0026o\u0026\u0026o.scrollTop,d\u0026\u0026(this.appliedClasses[c][p]=d,Kue(o,d))},r.removeClasses=function(o,c){var p=this.appliedClasses[c],d=p.base,y=p.active,b=p.done;this.appliedClasses[c]={},d\u0026\u0026_0(o,d),y\u0026\u0026_0(o,y),b\u0026\u0026_0(o,b)},r.render=function(){var o=this.props,c=o.classNames,p=Xue(o,[\"classNames\"]);return WI.default.createElement(Yue.default,y0({},p,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(WI.default.Component);b0.defaultProps={classNames:\"\"};b0.propTypes={};var Que=b0;al.default=Que;BI.exports=al.default});var UI=v(Xo=\u003e{\"use strict\";Xo.__esModule=!0;Xo.getChildMapping=x0;Xo.mergeChildMappings=GI;Xo.getInitialChildMapping=Jue;Xo.getNextChildMapping=ece;var Wa=ot();function x0(n,e){var r=function(c){return e\u0026\u0026(0,Wa.isValidElement)(c)?e(c):c},s=Object.create(null);return n\u0026\u0026Wa.Children.map(n,function(o){return o}).forEach(function(o){s[o.key]=r(o)}),s}function GI(n,e){n=n||{},e=e||{};function r(w){return w in e?e[w]:n[w]}var s=Object.create(null),o=[];for(var c in n)c in e?o.length\u0026\u0026(s[c]=o,o=[]):o.push(c);var p,d={};for(var y in e){if(s[y])for(p=0;p\u003cs[y].length;p++){var b=s[y][p];d[s[y][p]]=r(b)}d[y]=r(y)}for(p=0;p\u003co.length;p++)d[o[p]]=r(o[p]);return d}function hi(n,e,r){return r[e]!=null?r[e]:n.props[e]}function Jue(n,e){return x0(n.children,function(r){return(0,Wa.cloneElement)(r,{onExited:e.bind(null,r),in:!0,appear:hi(r,\"appear\",n),enter:hi(r,\"enter\",n),exit:hi(r,\"exit\",n)})})}function ece(n,e,r){var s=x0(n.children),o=GI(e,s);return Object.keys(o).forEach(function(c){var p=o[c];if(!!(0,Wa.isValidElement)(p)){var d=c in e,y=c in s,b=e[c],w=(0,Wa.isValidElement)(b)\u0026\u0026!b.props.in;y\u0026\u0026(!d||w)?o[c]=(0,Wa.cloneElement)(p,{onExited:r.bind(null,p),in:!0,exit:hi(p,\"exit\",n),enter:hi(p,\"enter\",n)}):!y\u0026\u0026d\u0026\u0026!w?o[c]=(0,Wa.cloneElement)(p,{in:!1}):y\u0026\u0026d\u0026\u0026(0,Wa.isValidElement)(b)\u0026\u0026(o[c]=(0,Wa.cloneElement)(p,{onExited:r.bind(null,p),in:b.props.in,exit:hi(p,\"exit\",n),enter:hi(p,\"enter\",n)}))}}),o}});var T0=v((sl,HI)=\u003e{\"use strict\";sl.__esModule=!0;sl.default=void 0;var $ke=N0(It()),gf=N0(ot()),$I=N0(df()),k0=UI();function N0(n){return n\u0026\u0026n.__esModule?n:{default:n}}function tce(n,e){if(n==null)return{};var r={},s=Object.keys(n),o,c;for(c=0;c\u003cs.length;c++)o=s[c],!(e.indexOf(o)\u003e=0)\u0026\u0026(r[o]=n[o]);return r}function w0(){return w0=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)\u0026\u0026(n[s]=r[s])}return n},w0.apply(this,arguments)}function nce(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}function rce(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var ace=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},sce={component:\"div\",childFactory:function(e){return e}},q0=function(n){rce(e,n);function e(s,o){var c;c=n.call(this,s,o)||this;var p=c.handleExited.bind(nce(c));return c.state={contextValue:{isMounting:!0},handleExited:p,firstRender:!0},c}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,c){var p=c.children,d=c.handleExited,y=c.firstRender;return{children:y?(0,k0.getInitialChildMapping)(o,d):(0,k0.getNextChildMapping)(o,p,d),firstRender:!1}},r.handleExited=function(o,c){var p=(0,k0.getChildMapping)(this.props.children);o.key in p||(o.props.onExited\u0026\u0026o.props.onExited(c),this.mounted\u0026\u0026this.setState(function(d){var y=w0({},d.children);return delete y[o.key],{children:y}}))},r.render=function(){var o=this.props,c=o.component,p=o.childFactory,d=tce(o,[\"component\",\"childFactory\"]),y=this.state.contextValue,b=ace(this.state.children).map(p);return delete d.appear,delete d.enter,delete d.exit,c===null?gf.default.createElement($I.default.Provider,{value:y},b):gf.default.createElement($I.default.Provider,{value:y},gf.default.createElement(c,d,b))},e}(gf.default.Component);q0.propTypes={};q0.defaultProps=sce;var ice=q0;sl.default=ice;HI.exports=sl.default});var ZI=v((il,XI)=\u003e{\"use strict\";il.__esModule=!0;il.default=void 0;var Hke=yf(It()),Zo=yf(ot()),oce=yf(Jc()),uce=yf(T0());function yf(n){return n\u0026\u0026n.__esModule?n:{default:n}}function cce(n,e){if(n==null)return{};var r={},s=Object.keys(n),o,c;for(c=0;c\u003cs.length;c++)o=s[c],!(e.indexOf(o)\u003e=0)\u0026\u0026(r[o]=n[o]);return r}function lce(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var YI=function(n){lce(e,n);function e(){for(var s,o=arguments.length,c=new Array(o),p=0;p\u003co;p++)c[p]=arguments[p];return s=n.call.apply(n,[this].concat(c))||this,s.handleEnter=function(){for(var d=arguments.length,y=new Array(d),b=0;b\u003cd;b++)y[b]=arguments[b];return s.handleLifecycle(\"onEnter\",0,y)},s.handleEntering=function(){for(var d=arguments.length,y=new Array(d),b=0;b\u003cd;b++)y[b]=arguments[b];return s.handleLifecycle(\"onEntering\",0,y)},s.handleEntered=function(){for(var d=arguments.length,y=new Array(d),b=0;b\u003cd;b++)y[b]=arguments[b];return s.handleLifecycle(\"onEntered\",0,y)},s.handleExit=function(){for(var d=arguments.length,y=new Array(d),b=0;b\u003cd;b++)y[b]=arguments[b];return s.handleLifecycle(\"onExit\",1,y)},s.handleExiting=function(){for(var d=arguments.length,y=new Array(d),b=0;b\u003cd;b++)y[b]=arguments[b];return s.handleLifecycle(\"onExiting\",1,y)},s.handleExited=function(){for(var d=arguments.length,y=new Array(d),b=0;b\u003cd;b++)y[b]=arguments[b];return s.handleLifecycle(\"onExited\",1,y)},s}var r=e.prototype;return r.handleLifecycle=function(o,c,p){var d,y=this.props.children,b=Zo.default.Children.toArray(y)[c];if(b.props[o]\u0026\u0026(d=b.props)[o].apply(d,p),this.props[o]){var w=b.props.nodeRef?void 0:oce.default.findDOMNode(this);this.props[o](w)}},r.render=function(){var o=this.props,c=o.children,p=o.in,d=cce(o,[\"children\",\"in\"]),y=Zo.default.Children.toArray(c),b=y[0],w=y[1];return delete d.onEnter,delete d.onEntering,delete d.onEntered,delete d.onExit,delete d.onExiting,delete d.onExited,Zo.default.createElement(uce.default,d,p?Zo.default.cloneElement(b,{key:\"first\",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):Zo.default.cloneElement(w,{key:\"second\",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},e}(Zo.default.Component);YI.propTypes={};var hce=YI;il.default=hce;XI.exports=il.default});var KI=v(Ko=\u003e{\"use strict\";Ko.__esModule=!0;Ko.default=Ko.modes=void 0;var Or=M0(ot()),Yke=M0(It()),Yr=vf(),pce=M0(df()),_f,bf;function M0(n){return n\u0026\u0026n.__esModule?n:{default:n}}function dce(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function fce(n,e){return!(n===e||Or.default.isValidElement(n)\u0026\u0026Or.default.isValidElement(e)\u0026\u0026n.key!=null\u0026\u0026n.key===e.key)}var pi={out:\"out-in\",in:\"in-out\"};Ko.modes=pi;var xf=function(e,r,s){return function(){var o;e.props[r]\u0026\u0026(o=e.props)[r].apply(o,arguments),s()}},mce=(_f={},_f[pi.out]=function(n){var e=n.current,r=n.changeState;return Or.default.cloneElement(e,{in:!1,onExited:xf(e,\"onExited\",function(){r(Yr.ENTERING,null)})})},_f[pi.in]=function(n){var e=n.current,r=n.changeState,s=n.children;return[e,Or.default.cloneElement(s,{in:!0,onEntered:xf(s,\"onEntered\",function(){r(Yr.ENTERING)})})]},_f),vce=(bf={},bf[pi.out]=function(n){var e=n.children,r=n.changeState;return Or.default.cloneElement(e,{in:!0,onEntered:xf(e,\"onEntered\",function(){r(Yr.ENTERED,Or.default.cloneElement(e,{in:!0}))})})},bf[pi.in]=function(n){var e=n.current,r=n.children,s=n.changeState;return[Or.default.cloneElement(e,{in:!1,onExited:xf(e,\"onExited\",function(){s(Yr.ENTERED,Or.default.cloneElement(r,{in:!0}))})}),Or.default.cloneElement(r,{in:!0})]},bf),S0=function(n){dce(e,n);function e(){for(var s,o=arguments.length,c=new Array(o),p=0;p\u003co;p++)c[p]=arguments[p];return s=n.call.apply(n,[this].concat(c))||this,s.state={status:Yr.ENTERED,current:null},s.appeared=!1,s.changeState=function(d,y){y===void 0\u0026\u0026(y=s.state.current),s.setState({status:d,current:y})},s}var r=e.prototype;return r.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(o,c){return o.children==null?{current:null}:c.status===Yr.ENTERING\u0026\u0026o.mode===pi.in?{status:Yr.ENTERING}:c.current\u0026\u0026fce(c.current,o.children)?{status:Yr.EXITING}:{current:Or.default.cloneElement(o.children,{in:!0})}},r.render=function(){var o=this.props,c=o.children,p=o.mode,d=this.state,y=d.status,b=d.current,w={children:c,current:b,changeState:this.changeState,status:y},k;switch(y){case Yr.ENTERING:k=vce[p](w);break;case Yr.EXITING:k=mce[p](w);break;case Yr.ENTERED:k=b}return Or.default.createElement(pce.default.Provider,{value:{isMounting:!this.appeared}},k)},e}(Or.default.Component);S0.propTypes={};S0.defaultProps={mode:pi.out};var gce=S0;Ko.default=gce});var QI=v(Kn=\u003e{\"use strict\";Kn.__esModule=!0;Kn.config=Kn.Transition=Kn.TransitionGroup=Kn.SwitchTransition=Kn.ReplaceTransition=Kn.CSSTransition=void 0;var yce=Qo(zI());Kn.CSSTransition=yce.default;var _ce=Qo(ZI());Kn.ReplaceTransition=_ce.default;var bce=Qo(KI());Kn.SwitchTransition=bce.default;var xce=Qo(T0());Kn.TransitionGroup=xce.default;var kce=Qo(vf());Kn.Transition=kce.default;var Nce=Qo(m0());Kn.config=Nce.default;function Qo(n){return n\u0026\u0026n.__esModule?n:{default:n}}});var e3=v(kf=\u003e{\"use strict\";var P0=Me(),wce=tn();Object.defineProperty(kf,\"__esModule\",{value:!0});kf.default=void 0;var ol=wce(ot()),Kke=P0(It()),JI=P0(ms()),qce=P0(of()),Tce=typeof window==\"undefined\"?ol.useEffect:ol.useLayoutEffect;function Mce(n){var e=n.classes,r=n.pulsate,s=r===void 0?!1:r,o=n.rippleX,c=n.rippleY,p=n.rippleSize,d=n.in,y=n.onExited,b=y===void 0?function(){}:y,w=n.timeout,k=ol.useState(!1),S=k[0],L=k[1],j=(0,JI.default)(e.ripple,e.rippleVisible,s\u0026\u0026e.ripplePulsate),B={width:p,height:p,top:-(p/2)+c,left:-(p/2)+o},ee=(0,JI.default)(e.child,S\u0026\u0026e.childLeaving,s\u0026\u0026e.childPulsate),de=(0,qce.default)(b);return Tce(function(){if(!d){L(!0);var ie=setTimeout(de,w);return function(){clearTimeout(ie)}}},[de,d,w]),ol.createElement(\"span\",{className:j,style:B},ol.createElement(\"span\",{className:ee}))}var Sce=Mce;kf.default=Sce});var r3=v(Ms=\u003e{\"use strict\";var Pce=tn(),di=Me();Object.defineProperty(Ms,\"__esModule\",{value:!0});Ms.default=Ms.styles=Ms.DELAY_RIPPLE=void 0;var Oce=di(yt()),Cce=di(Rc()),Ace=di(Sn()),un=Pce(ot()),Jke=di(It()),Rce=QI(),Ece=di(ms()),jce=di(Go()),Dce=di(e3()),O0=550,t3=80;Ms.DELAY_RIPPLE=t3;var n3=function(e){return{root:{overflow:\"hidden\",pointerEvents:\"none\",position:\"absolute\",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:\"inherit\"},ripple:{opacity:0,position:\"absolute\"},rippleVisible:{opacity:.3,transform:\"scale(1)\",animation:\"$enter \".concat(O0,\"ms \").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:\"\".concat(e.transitions.duration.shorter,\"ms\")},child:{opacity:1,display:\"block\",width:\"100%\",height:\"100%\",borderRadius:\"50%\",backgroundColor:\"currentColor\"},childLeaving:{opacity:0,animation:\"$exit \".concat(O0,\"ms \").concat(e.transitions.easing.easeInOut)},childPulsate:{position:\"absolute\",left:0,top:0,animation:\"$pulsate 2500ms \".concat(e.transitions.easing.easeInOut,\" 200ms infinite\")},\"@keyframes enter\":{\"0%\":{transform:\"scale(0)\",opacity:.1},\"100%\":{transform:\"scale(1)\",opacity:.3}},\"@keyframes exit\":{\"0%\":{opacity:1},\"100%\":{opacity:0}},\"@keyframes pulsate\":{\"0%\":{transform:\"scale(1)\"},\"50%\":{transform:\"scale(0.92)\"},\"100%\":{transform:\"scale(1)\"}}}};Ms.styles=n3;var Ice=un.forwardRef(function(e,r){var s=e.center,o=s===void 0?!1:s,c=e.classes,p=e.className,d=(0,Ace.default)(e,[\"center\",\"classes\",\"className\"]),y=un.useState([]),b=y[0],w=y[1],k=un.useRef(0),S=un.useRef(null);un.useEffect(function(){S.current\u0026\u0026(S.current(),S.current=null)},[b]);var L=un.useRef(!1),j=un.useRef(null),B=un.useRef(null),ee=un.useRef(null);un.useEffect(function(){return function(){clearTimeout(j.current)}},[]);var de=un.useCallback(function(R){var H=R.pulsate,$=R.rippleX,se=R.rippleY,ue=R.rippleSize,Ne=R.cb;w(function(be){return[].concat((0,Cce.default)(be),[un.createElement(Dce.default,{key:k.current,classes:c,timeout:O0,pulsate:H,rippleX:$,rippleY:se,rippleSize:ue})])}),k.current+=1,S.current=Ne},[c]),ie=un.useCallback(function(){var R=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},H=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},$=arguments.length\u003e2?arguments[2]:void 0,se=H.pulsate,ue=se===void 0?!1:se,Ne=H.center,be=Ne===void 0?o||H.pulsate:Ne,Re=H.fakeElement,ze=Re===void 0?!1:Re;if(R.type===\"mousedown\"\u0026\u0026L.current){L.current=!1;return}R.type===\"touchstart\"\u0026\u0026(L.current=!0);var He=ze?null:ee.current,X=He?He.getBoundingClientRect():{width:0,height:0,left:0,top:0},oe,Y,J;if(be||R.clientX===0\u0026\u0026R.clientY===0||!R.clientX\u0026\u0026!R.touches)oe=Math.round(X.width/2),Y=Math.round(X.height/2);else{var ge=R.touches?R.touches[0]:R,me=ge.clientX,Le=ge.clientY;oe=Math.round(me-X.left),Y=Math.round(Le-X.top)}if(be)J=Math.sqrt((2*Math.pow(X.width,2)+Math.pow(X.height,2))/3),J%2==0\u0026\u0026(J+=1);else{var Qe=Math.max(Math.abs((He?He.clientWidth:0)-oe),oe)*2+2,ft=Math.max(Math.abs((He?He.clientHeight:0)-Y),Y)*2+2;J=Math.sqrt(Math.pow(Qe,2)+Math.pow(ft,2))}R.touches?B.current===null\u0026\u0026(B.current=function(){de({pulsate:ue,rippleX:oe,rippleY:Y,rippleSize:J,cb:$})},j.current=setTimeout(function(){B.current\u0026\u0026(B.current(),B.current=null)},t3)):de({pulsate:ue,rippleX:oe,rippleY:Y,rippleSize:J,cb:$})},[o,de]),he=un.useCallback(function(){ie({},{pulsate:!0})},[ie]),G=un.useCallback(function(R,H){if(clearTimeout(j.current),R.type===\"touchend\"\u0026\u0026B.current){R.persist(),B.current(),B.current=null,j.current=setTimeout(function(){G(R,H)});return}B.current=null,w(function($){return $.length\u003e0?$.slice(1):$}),S.current=H},[]);return un.useImperativeHandle(r,function(){return{pulsate:he,start:ie,stop:G}},[he,ie,G]),un.createElement(\"span\",(0,Oce.default)({className:(0,Ece.default)(c.root,p),ref:ee},d),un.createElement(Rce.TransitionGroup,{component:null,exit:!0},b))}),Fce=(0,jce.default)(n3,{flip:!1,name:\"MuiTouchRipple\"})(un.memo(Ice));Ms.default=Fce});var o3=v(Jo=\u003e{\"use strict\";var a3=tn(),va=Me();Object.defineProperty(Jo,\"__esModule\",{value:!0});Jo.default=Jo.styles=void 0;var s3=va(yt()),Vce=va(Sn()),Xr=a3(ot()),tNe=va(It()),Lce=a3(Jc()),Wce=va(ms()),nNe=nn(),C0=va(c0()),Nf=va(of()),rNe=va(p0()),Bce=va(Go()),zce=va(f0()),Gce=va(r3()),i3={root:{display:\"inline-flex\",alignItems:\"center\",justifyContent:\"center\",position:\"relative\",WebkitTapHighlightColor:\"transparent\",backgroundColor:\"transparent\",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:\"pointer\",userSelect:\"none\",verticalAlign:\"middle\",\"-moz-appearance\":\"none\",\"-webkit-appearance\":\"none\",textDecoration:\"none\",color:\"inherit\",\"\u0026::-moz-focus-inner\":{borderStyle:\"none\"},\"\u0026$disabled\":{pointerEvents:\"none\",cursor:\"default\"},\"@media print\":{colorAdjust:\"exact\"}},disabled:{},focusVisible:{}};Jo.styles=i3;var Uce=Xr.forwardRef(function(e,r){var s=e.action,o=e.buttonRef,c=e.centerRipple,p=c===void 0?!1:c,d=e.children,y=e.classes,b=e.className,w=e.component,k=w===void 0?\"button\":w,S=e.disabled,L=S===void 0?!1:S,j=e.disableRipple,B=j===void 0?!1:j,ee=e.disableTouchRipple,de=ee===void 0?!1:ee,ie=e.focusRipple,he=ie===void 0?!1:ie,G=e.focusVisibleClassName,R=e.onBlur,H=e.onClick,$=e.onFocus,se=e.onFocusVisible,ue=e.onKeyDown,Ne=e.onKeyUp,be=e.onMouseDown,Re=e.onMouseLeave,ze=e.onMouseUp,He=e.onTouchEnd,X=e.onTouchMove,oe=e.onTouchStart,Y=e.onDragLeave,J=e.tabIndex,ge=J===void 0?0:J,me=e.TouchRippleProps,Le=e.type,Qe=Le===void 0?\"button\":Le,ft=(0,Vce.default)(e,[\"action\",\"buttonRef\",\"centerRipple\",\"children\",\"classes\",\"className\",\"component\",\"disabled\",\"disableRipple\",\"disableTouchRipple\",\"focusRipple\",\"focusVisibleClassName\",\"onBlur\",\"onClick\",\"onFocus\",\"onFocusVisible\",\"onKeyDown\",\"onKeyUp\",\"onMouseDown\",\"onMouseLeave\",\"onMouseUp\",\"onTouchEnd\",\"onTouchMove\",\"onTouchStart\",\"onDragLeave\",\"tabIndex\",\"TouchRippleProps\",\"type\"]),le=Xr.useRef(null);function xe(){return Lce.findDOMNode(le.current)}var Se=Xr.useRef(null),Be=Xr.useState(!1),Oe=Be[0],Pe=Be[1];L\u0026\u0026Oe\u0026\u0026Pe(!1);var tt=(0,zce.default)(),mt=tt.isFocusVisible,Zt=tt.onBlurVisible,An=tt.ref;Xr.useImperativeHandle(s,function(){return{focusVisible:function(){Pe(!0),le.current.focus()}}},[]),Xr.useEffect(function(){Oe\u0026\u0026he\u0026\u0026!B\u0026\u0026Se.current.pulsate()},[B,he,Oe]);function Et(Ze,_a){var uu=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:de;return(0,Nf.default)(function(_i){_a\u0026\u0026_a(_i);var bi=uu;return!bi\u0026\u0026Se.current\u0026\u0026Se.current[Ze](_i),!0})}var Rn=Et(\"start\",be),En=Et(\"stop\",Y),Cr=Et(\"stop\",ze),vr=Et(\"stop\",function(Ze){Oe\u0026\u0026Ze.preventDefault(),Re\u0026\u0026Re(Ze)}),Ar=Et(\"start\",oe),vt=Et(\"stop\",He),er=Et(\"stop\",X),In=Et(\"stop\",function(Ze){Oe\u0026\u0026(Zt(Ze),Pe(!1)),R\u0026\u0026R(Ze)},!1),Ba=(0,Nf.default)(function(Ze){le.current||(le.current=Ze.currentTarget),mt(Ze)\u0026\u0026(Pe(!0),se\u0026\u0026se(Ze)),$\u0026\u0026$(Ze)}),za=function(){var _a=xe();return k\u0026\u0026k!==\"button\"\u0026\u0026!(_a.tagName===\"A\"\u0026\u0026_a.href)},ga=Xr.useRef(!1),ya=(0,Nf.default)(function(Ze){he\u0026\u0026!ga.current\u0026\u0026Oe\u0026\u0026Se.current\u0026\u0026Ze.key===\" \"\u0026\u0026(ga.current=!0,Ze.persist(),Se.current.stop(Ze,function(){Se.current.start(Ze)})),Ze.target===Ze.currentTarget\u0026\u0026za()\u0026\u0026Ze.key===\" \"\u0026\u0026Ze.preventDefault(),ue\u0026\u0026ue(Ze),Ze.target===Ze.currentTarget\u0026\u0026za()\u0026\u0026Ze.key===\"Enter\"\u0026\u0026!L\u0026\u0026(Ze.preventDefault(),H\u0026\u0026H(Ze))}),iu=(0,Nf.default)(function(Ze){he\u0026\u0026Ze.key===\" \"\u0026\u0026Se.current\u0026\u0026Oe\u0026\u0026!Ze.defaultPrevented\u0026\u0026(ga.current=!1,Ze.persist(),Se.current.stop(Ze,function(){Se.current.pulsate(Ze)})),Ne\u0026\u0026Ne(Ze),H\u0026\u0026Ze.target===Ze.currentTarget\u0026\u0026za()\u0026\u0026Ze.key===\" \"\u0026\u0026!Ze.defaultPrevented\u0026\u0026H(Ze)}),Rr=k;Rr===\"button\"\u0026\u0026ft.href\u0026\u0026(Rr=\"a\");var Er={};Rr===\"button\"?(Er.type=Qe,Er.disabled=L):((Rr!==\"a\"||!ft.href)\u0026\u0026(Er.role=\"button\"),Er[\"aria-disabled\"]=L);var vi=(0,C0.default)(o,r),gi=(0,C0.default)(An,le),Ga=(0,C0.default)(vi,gi),Os=Xr.useState(!1),Ua=Os[0],ou=Os[1];Xr.useEffect(function(){ou(!0)},[]);var yi=Ua\u0026\u0026!B\u0026\u0026!L;return Xr.createElement(Rr,(0,s3.default)({className:(0,Wce.default)(y.root,b,Oe\u0026\u0026[y.focusVisible,G],L\u0026\u0026y.disabled),onBlur:In,onClick:H,onFocus:Ba,onKeyDown:ya,onKeyUp:iu,onMouseDown:Rn,onMouseLeave:vr,onMouseUp:Cr,onDragLeave:En,onTouchEnd:vt,onTouchMove:er,onTouchStart:Ar,ref:Ga,tabIndex:L?-1:ge},Er,ft),d,yi?Xr.createElement(Gce.default,(0,s3.default)({ref:Se,center:p},me)):null)}),$ce=(0,Bce.default)(i3,{name:\"MuiButtonBase\"})(Uce);Jo.default=$ce});var u3=v(A0=\u003e{\"use strict\";var Hce=Me();Object.defineProperty(A0,\"__esModule\",{value:!0});Object.defineProperty(A0,\"default\",{enumerable:!0,get:function(){return Yce.default}});var Yce=Hce(o3())});var ul=v(R0=\u003e{\"use strict\";Object.defineProperty(R0,\"__esModule\",{value:!0});R0.default=Zce;var Xce=nn();function Zce(n){if(typeof n!=\"string\")throw new Error((0,Xce.formatMuiErrorMessage)(7));return n.charAt(0).toUpperCase()+n.slice(1)}});var p3=v(eu=\u003e{\"use strict\";var Kce=tn(),fi=Me();Object.defineProperty(eu,\"__esModule\",{value:!0});eu.default=eu.styles=void 0;var Qce=fi(Sn()),c3=fi(yt()),E0=Kce(ot()),oNe=fi(It()),l3=fi(ms()),uNe=nn(),Jce=fi(Go()),ele=fi(u3()),tle=fi(ul()),h3=function(e){return{root:(0,c3.default)({},e.typography.button,{boxSizing:\"border-box\",minHeight:36,transition:e.transitions.create([\"background-color\",\"box-shadow\",\"border\"],{duration:e.transitions.duration.short}),borderRadius:\"50%\",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],\"\u0026:active\":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],\"\u0026:hover\":{backgroundColor:e.palette.grey.A100,\"@media (hover: none)\":{backgroundColor:e.palette.grey[300]},\"\u0026$disabled\":{backgroundColor:e.palette.action.disabledBackground},textDecoration:\"none\"},\"\u0026$focusVisible\":{boxShadow:e.shadows[6]},\"\u0026$disabled\":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:\"100%\",display:\"inherit\",alignItems:\"inherit\",justifyContent:\"inherit\"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,\"\u0026:hover\":{backgroundColor:e.palette.primary.dark,\"@media (hover: none)\":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,\"\u0026:hover\":{backgroundColor:e.palette.secondary.dark,\"@media (hover: none)\":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:48/2,padding:\"0 16px\",width:\"auto\",minHeight:\"auto\",minWidth:48,height:48,\"\u0026$sizeSmall\":{width:\"auto\",padding:\"0 8px\",borderRadius:34/2,minWidth:34,height:34},\"\u0026$sizeMedium\":{width:\"auto\",padding:\"0 16px\",borderRadius:40/2,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:\"inherit\"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}};eu.styles=h3;var nle=E0.forwardRef(function(e,r){var s=e.children,o=e.classes,c=e.className,p=e.color,d=p===void 0?\"default\":p,y=e.component,b=y===void 0?\"button\":y,w=e.disabled,k=w===void 0?!1:w,S=e.disableFocusRipple,L=S===void 0?!1:S,j=e.focusVisibleClassName,B=e.size,ee=B===void 0?\"large\":B,de=e.variant,ie=de===void 0?\"circular\":de,he=(0,Qce.default)(e,[\"children\",\"classes\",\"className\",\"color\",\"component\",\"disabled\",\"disableFocusRipple\",\"focusVisibleClassName\",\"size\",\"variant\"]);return E0.createElement(ele.default,(0,c3.default)({className:(0,l3.default)(o.root,c,ee!==\"large\"\u0026\u0026o[\"size\".concat((0,tle.default)(ee))],k\u0026\u0026o.disabled,ie===\"extended\"\u0026\u0026o.extended,{primary:o.primary,secondary:o.secondary,inherit:o.colorInherit}[d]),component:b,disabled:k,focusRipple:!L,focusVisibleClassName:(0,l3.default)(o.focusVisible,j),ref:r},he),E0.createElement(\"span\",{className:o.label},s))}),rle=(0,Jce.default)(h3,{name:\"MuiFab\"})(nle);eu.default=rle});var d3=v(j0=\u003e{\"use strict\";var ale=Me();Object.defineProperty(j0,\"__esModule\",{value:!0});Object.defineProperty(j0,\"default\",{enumerable:!0,get:function(){return sle.default}});var sle=ale(p3())});var f3=v(D0=\u003e{\"use strict\";Object.defineProperty(D0,\"__esModule\",{value:!0});D0.default=ile;function ile(){for(var n=arguments.length,e=new Array(n),r=0;r\u003cn;r++)e[r]=arguments[r];return e.reduce(function(s,o){return o==null?s:function(){for(var p=arguments.length,d=new Array(p),y=0;y\u003cp;y++)d[y]=arguments[y];s.apply(this,d),o.apply(this,d)}},function(){})}});var y3=v(nu=\u003e{\"use strict\";var ole=tn(),tu=Me();Object.defineProperty(nu,\"__esModule\",{value:!0});nu.default=nu.styles=void 0;var ule=tu(yt()),cle=tu(Sn()),I0=ole(ot()),pNe=tu(It()),lle=tu(ms()),dNe=nn(),hle=tu(Go()),m3=tu(ul()),v3=function(e){return{root:{userSelect:\"none\",width:\"1em\",height:\"1em\",display:\"inline-block\",fill:\"currentColor\",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create(\"fill\",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:\"inherit\"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}};nu.styles=v3;var g3=I0.forwardRef(function(e,r){var s=e.children,o=e.classes,c=e.className,p=e.color,d=p===void 0?\"inherit\":p,y=e.component,b=y===void 0?\"svg\":y,w=e.fontSize,k=w===void 0?\"medium\":w,S=e.htmlColor,L=e.titleAccess,j=e.viewBox,B=j===void 0?\"0 0 24 24\":j,ee=(0,cle.default)(e,[\"children\",\"classes\",\"className\",\"color\",\"component\",\"fontSize\",\"htmlColor\",\"titleAccess\",\"viewBox\"]);return I0.createElement(b,(0,ule.default)({className:(0,lle.default)(o.root,c,d!==\"inherit\"\u0026\u0026o[\"color\".concat((0,m3.default)(d))],k!==\"default\"\u0026\u0026k!==\"medium\"\u0026\u0026o[\"fontSize\".concat((0,m3.default)(k))]),focusable:\"false\",viewBox:B,color:S,\"aria-hidden\":L?void 0:!0,role:L?\"img\":void 0,ref:r},ee),s,L?I0.createElement(\"title\",null,L):null)});g3.muiName=\"SvgIcon\";var ple=(0,hle.default)(v3,{name:\"MuiSvgIcon\"})(g3);nu.default=ple});var _3=v(F0=\u003e{\"use strict\";var dle=Me();Object.defineProperty(F0,\"__esModule\",{value:!0});Object.defineProperty(F0,\"default\",{enumerable:!0,get:function(){return fle.default}});var fle=dle(y3())});var x3=v(W0=\u003e{\"use strict\";var V0=Me();Object.defineProperty(W0,\"__esModule\",{value:!0});W0.default=vle;var mle=V0(yt()),L0=V0(ot()),b3=V0(_3());function vle(n,e){var r=function(o,c){return L0.default.createElement(b3.default,(0,mle.default)({ref:c},o),n)};return r.muiName=b3.default.muiName,L0.default.memo(L0.default.forwardRef(r))}});var k3=v(B0=\u003e{\"use strict\";Object.defineProperty(B0,\"__esModule\",{value:!0});B0.default=gle;function gle(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:166,r;function s(){for(var o=arguments.length,c=new Array(o),p=0;p\u003co;p++)c[p]=arguments[p];var d=this,y=function(){n.apply(d,c)};clearTimeout(r),r=setTimeout(y,e)}return s.clear=function(){clearTimeout(r)},s}});var N3=v(z0=\u003e{\"use strict\";var yle=tn();Object.defineProperty(z0,\"__esModule\",{value:!0});z0.default=ble;var _le=yle(ot());function ble(n,e){return _le.isValidElement(n)\u0026\u0026e.indexOf(n.type.muiName)!==-1}});var U0=v(G0=\u003e{\"use strict\";Object.defineProperty(G0,\"__esModule\",{value:!0});G0.default=xle;function xle(n){return n\u0026\u0026n.ownerDocument||document}});var w3=v($0=\u003e{\"use strict\";var kle=Me();Object.defineProperty($0,\"__esModule\",{value:!0});$0.default=wle;var Nle=kle(U0());function wle(n){var e=(0,Nle.default)(n);return e.defaultView||window}});var q3=v(H0=\u003e{\"use strict\";Object.defineProperty(H0,\"__esModule\",{value:!0});H0.default=qle;function qle(n){return function(){return null};var e}});var T3=v(Y0=\u003e{\"use strict\";Object.defineProperty(Y0,\"__esModule\",{value:!0});Y0.default=Tle;function Tle(n,e,r,s,o){return null;var c}});var M3=v(Z0=\u003e{\"use strict\";var Mle=tn();Object.defineProperty(Z0,\"__esModule\",{value:!0});Z0.default=Sle;var X0=Mle(ot());function Sle(n){var e=n.controlled,r=n.default,s=n.name,o=n.state,c=o===void 0?\"value\":o,p=X0.useRef(e!==void 0),d=p.current,y=X0.useState(r),b=y[0],w=y[1],k=d?e:b;if(!1)var S,L;var j=X0.useCallback(function(B){d||w(B)},[]);return[k,j]}});var P3=v(K0=\u003e{\"use strict\";var Ple=tn();Object.defineProperty(K0,\"__esModule\",{value:!0});K0.default=Ole;var S3=Ple(ot());function Ole(n){var e=S3.useState(n),r=e[0],s=e[1],o=n||r;return S3.useEffect(function(){r==null\u0026\u0026s(\"mui-\".concat(Math.round(Math.random()*1e5)))},[r]),o}});var O3=v(vn=\u003e{\"use strict\";var Cn=Me();Object.defineProperty(vn,\"__esModule\",{value:!0});Object.defineProperty(vn,\"capitalize\",{enumerable:!0,get:function(){return Cle.default}});Object.defineProperty(vn,\"createChainedFunction\",{enumerable:!0,get:function(){return Ale.default}});Object.defineProperty(vn,\"createSvgIcon\",{enumerable:!0,get:function(){return Rle.default}});Object.defineProperty(vn,\"debounce\",{enumerable:!0,get:function(){return Ele.default}});Object.defineProperty(vn,\"deprecatedPropType\",{enumerable:!0,get:function(){return jle.default}});Object.defineProperty(vn,\"isMuiElement\",{enumerable:!0,get:function(){return Dle.default}});Object.defineProperty(vn,\"ownerDocument\",{enumerable:!0,get:function(){return Ile.default}});Object.defineProperty(vn,\"ownerWindow\",{enumerable:!0,get:function(){return Fle.default}});Object.defineProperty(vn,\"requirePropFactory\",{enumerable:!0,get:function(){return Vle.default}});Object.defineProperty(vn,\"setRef\",{enumerable:!0,get:function(){return Lle.default}});Object.defineProperty(vn,\"unsupportedProp\",{enumerable:!0,get:function(){return Wle.default}});Object.defineProperty(vn,\"useControlled\",{enumerable:!0,get:function(){return Ble.default}});Object.defineProperty(vn,\"useEventCallback\",{enumerable:!0,get:function(){return zle.default}});Object.defineProperty(vn,\"useForkRef\",{enumerable:!0,get:function(){return Gle.default}});Object.defineProperty(vn,\"unstable_useId\",{enumerable:!0,get:function(){return Ule.default}});Object.defineProperty(vn,\"useIsFocusVisible\",{enumerable:!0,get:function(){return $le.default}});var Cle=Cn(ul()),Ale=Cn(f3()),Rle=Cn(x3()),Ele=Cn(k3()),jle=Cn(p0()),Dle=Cn(N3()),Ile=Cn(U0()),Fle=Cn(w3()),Vle=Cn(q3()),Lle=Cn(o0()),Wle=Cn(T3()),Ble=Cn(M3()),zle=Cn(of()),Gle=Cn(c0()),Ule=Cn(P3()),$le=Cn(f0())});var J0=v(Q0=\u003e{\"use strict\";Object.defineProperty(Q0,\"__esModule\",{value:!0});Object.defineProperty(Q0,\"default\",{enumerable:!0,get:function(){return Hle.createSvgIcon}});var Hle=O3()});var C3=v(wf=\u003e{\"use strict\";var Yle=Me(),Xle=tn();Object.defineProperty(wf,\"__esModule\",{value:!0});wf.default=void 0;var Zle=Xle(ot()),Kle=Yle(J0()),Qle=(0,Kle.default)(Zle.createElement(\"path\",{d:\"M8 5v14l11-7z\"}),\"PlayArrow\");wf.default=Qle});var A3=v(qf=\u003e{\"use strict\";var Jle=Me(),ehe=tn();Object.defineProperty(qf,\"__esModule\",{value:!0});qf.default=void 0;var the=ehe(ot()),nhe=Jle(J0()),rhe=(0,nhe.default)(the.createElement(\"path\",{d:\"M6 6h12v12H6z\"}),\"Stop\");qf.default=rhe});var D3=v(au=\u003e{\"use strict\";var ahe=tn(),ru=Me();Object.defineProperty(au,\"__esModule\",{value:!0});au.default=au.styles=void 0;var R3=ru(yt()),she=ru(Sn()),Tf=ahe(ot()),PNe=ru(It()),E3=ru(ms()),ONe=nn(),ihe=ru(Go()),ohe=ru(ul()),Ss=44,j3=function(e){return{root:{display:\"inline-block\"},static:{transition:e.transitions.create(\"transform\")},indeterminate:{animation:\"$circular-rotate 1.4s linear infinite\"},determinate:{transition:e.transitions.create(\"transform\")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:\"block\"},circle:{stroke:\"currentColor\"},circleStatic:{transition:e.transitions.create(\"stroke-dashoffset\")},circleIndeterminate:{animation:\"$circular-dash 1.4s ease-in-out infinite\",strokeDasharray:\"80px, 200px\",strokeDashoffset:\"0px\"},circleDeterminate:{transition:e.transitions.create(\"stroke-dashoffset\")},\"@keyframes circular-rotate\":{\"0%\":{transformOrigin:\"50% 50%\"},\"100%\":{transform:\"rotate(360deg)\"}},\"@keyframes circular-dash\":{\"0%\":{strokeDasharray:\"1px, 200px\",strokeDashoffset:\"0px\"},\"50%\":{strokeDasharray:\"100px, 200px\",strokeDashoffset:\"-15px\"},\"100%\":{strokeDasharray:\"100px, 200px\",strokeDashoffset:\"-125px\"}},circleDisableShrink:{animation:\"none\"}}};au.styles=j3;var uhe=Tf.forwardRef(function(e,r){var s=e.classes,o=e.className,c=e.color,p=c===void 0?\"primary\":c,d=e.disableShrink,y=d===void 0?!1:d,b=e.size,w=b===void 0?40:b,k=e.style,S=e.thickness,L=S===void 0?3.6:S,j=e.value,B=j===void 0?0:j,ee=e.variant,de=ee===void 0?\"indeterminate\":ee,ie=(0,she.default)(e,[\"classes\",\"className\",\"color\",\"disableShrink\",\"size\",\"style\",\"thickness\",\"value\",\"variant\"]),he={},G={},R={};if(de===\"determinate\"||de===\"static\"){var H=2*Math.PI*((Ss-L)/2);he.strokeDasharray=H.toFixed(3),R[\"aria-valuenow\"]=Math.round(B),he.strokeDashoffset=\"\".concat(((100-B)/100*H).toFixed(3),\"px\"),G.transform=\"rotate(-90deg)\"}return Tf.createElement(\"div\",(0,R3.default)({className:(0,E3.default)(s.root,o,p!==\"inherit\"\u0026\u0026s[\"color\".concat((0,ohe.default)(p))],{determinate:s.determinate,indeterminate:s.indeterminate,static:s.static}[de]),style:(0,R3.default)({width:w,height:w},G,k),ref:r,role:\"progressbar\"},R,ie),Tf.createElement(\"svg\",{className:s.svg,viewBox:\"\".concat(Ss/2,\" \").concat(Ss/2,\" \").concat(Ss,\" \").concat(Ss)},Tf.createElement(\"circle\",{className:(0,E3.default)(s.circle,y\u0026\u0026s.circleDisableShrink,{determinate:s.circleDeterminate,indeterminate:s.circleIndeterminate,static:s.circleStatic}[de]),style:he,cx:Ss,cy:Ss,r:(Ss-L)/2,fill:\"none\",strokeWidth:L})))}),che=(0,ihe.default)(j3,{name:\"MuiCircularProgress\",flip:!1})(uhe);au.default=che});var I3=v(eb=\u003e{\"use strict\";var lhe=Me();Object.defineProperty(eb,\"__esModule\",{value:!0});Object.defineProperty(eb,\"default\",{enumerable:!0,get:function(){return hhe.default}});var hhe=lhe(D3())});var vhe={};K5(vhe,{default:()=\u003emhe,frontmatter:()=\u003edhe});var a=it(Rx());var ua=it(is());function sn(n){return typeof n!=\"object\"||Array.isArray(n)?{value:n}:n}function Br(n){return Array.isArray(n)?n:[n]}function Su(n,e={}){let r=e.getChildren||J5,s=e.isDeep||(p=\u003ep.value\u0026\u0026typeof p.value==\"object\"),o=[],c=r(n,e);return c.forEach((p,d)=\u003e{typeof e.mapChild==\"function\"\u0026\u0026(p=e.mapChild({child:p,isLeaf:!s(p),index:d,props:e,siblings:c,parent:n})),s(p)?(o=o.concat(Su(p,e)),e.includeNonLeaves\u0026\u0026o.push(p)):o.push(p)}),o}function J5(n){let e=sn(n);return(Br(e.value)||[]).map((s,o,c)=\u003e({...sn(s),path:(e.path||[]).concat([[o,c.length]])}))}var EA=it(gp());var Vv=it(sa());function Lv(n){let e=sn(n);if(e.type\u0026\u0026e.type!==\"sequential\"||!e.value\u0026\u0026!e.sequential)return e;if(e.value\u0026\u0026e.sequential)throw new Error(\"cannot set value together with sequential\");let r=e.sequential||e.value;return delete e.sequential,{...e,value:r}}function Wv(n,e=[]){let r=Lv(n);if(!r.value)return r;let s=Br(r.value||[]),o=s.map(p=\u003esn(p).duration??1),c=(0,Vv.sum)(o);return{...r,value:s.map((p,d)=\u003e{let y=(0,Vv.sum)(o.slice(0,d));p=sn(p);let b;return b=(r.path||[]).concat([[y,o[d],c]]),{...p,path:b}})}}var GC=it(sa());function Bv(n){if(typeof n!=\"object\")return n;let e=n;if(e.type===\"parallel\"||e.parallel){if(e.value\u0026\u0026e.parallel)throw new Error(\"cannot set value together with parallel\");e.value=e.parallel||e.value,e.type=\"parallel\",delete e.parallel}return e}function zv(n){let e=Bv(n);if(typeof e!=\"object\"||e.type!==\"parallel\")return e;let r=sn(e),s=Br(r.value||[]),o=s.map(p=\u003esn(p).duration??1),c=(0,GC.max)(o);return{...r,value:s.map((p,d)=\u003e{p=sn(p);let y;return y=(r.path||[]).concat([[0,o[d],c]]),{...p,path:y}})}}var CA=it(gp()),AA=it(vg());var Rp=it(vg());var qA=it(sa());function gg(n){return Array.isArray(n)?n:n?.parallel||n?.sequential}function TA(n,e){return Array.isArray(n)?e:n.parallel?{...n,parallel:e}:{...n,sequential:e}}var Ep=it(Vu()),yg=it(vp()),Ku=it(us()),TJ=n=\u003e!!gg(n),MA=(0,Rp.makeZipper)(TJ,gg,TA),{isEnd:MJ,isLeaf:SJ,next:SA,root:PJ,up:tye,down:nye,isTop:rye}=Rp.zip,PA=(0,Ku.default)((n,e)=\u003e(0,Ep.default)((0,yg.default)(MJ,(0,Ep.default)(n,SA)),PJ)(e)),OJ=(0,Ku.default)((n,e)=\u003ePA((0,Ep.default)((0,yg.default)(SJ,SA),n),e)),OA=(0,Ku.default)((n,e)=\u003ePA(n,MA(e)).value()),aye=(0,Ku.default)((n,e)=\u003eOJ(n,MA(e)).value());function RA(n){return e=\u003e{let r=sn(e);return!r[n]||!r.value?r:{...r,value:Br(r.value).map(s=\u003e{let o=sn(s);return{...o,[n]:o[n]||r[n]}})}}}function CJ(n){return Array.isArray(n)?{sequential:n}:typeof n==\"object\"?n:{value:n}}var cye=(0,CA.curry)((n,e)=\u003eOA(r=\u003e{let s=r.up?.()?.value();return s?.[n]===void 0?r:AA.zip.edit(o=\u003e{let c=CJ(o);return{...c,[n]:c[n]??s?.[n]}})(r)},e));function _g(n,e=1){let r=0,s=e;for(let o=0;o\u003cn.length;o++)r=r+n[o][0]/n[o][2]*s,s*=n[o][1]/n[o][2];return[r,s]}function bg(n,e){return e.forEach(r=\u003e{n=r(n)}),n}function AJ(n,e=[],r={}){return Su(n,{getChildren:s=\u003e{let o=sn(bg(s,[Wv,zv,RA(\"color\"),...e]));return(Br(o.value)||[]).map((p,d)=\u003ebg(p,[Lv,Bv]))},...r})}function cr(n,e=[],r={}){let o=sn(n).duration||1;return AJ(n,e,r).map(c=\u003e{let{path:p}=c,[d,y]=_g(p,o);return{...c,time:d,duration:y,path:p}})}function RJ(n,e=[],r={}){let o=sn(n).duration||1;return Su(n,{getChildren:jJ,isDeep:c=\u003e!!c\u0026\u0026[\"value\",\"parallel\",\"sequential\"].reduce((p,d)=\u003ep||c[d]\u0026\u0026typeof c[d]==\"object\",!1),mapChild:EJ(e),...r}).map(c=\u003e{let p=c?.path||[[0,1,1]],[d,y]=_g(p,o);return{...c,time:d,duration:y,path:p}})}function EJ(n=[]){return e=\u003e(n.forEach(r=\u003e{e.child=r(e)}),e.child)}function jJ(n){let e=sn(bg(n,[Wv,zv]));return Br(e.value)||[]}var yye=(0,EA.curry)((n,e)=\u003eRJ(e,n));var DJ=it(sa());var Dp=it(is());var Yn=it(is());var No={m7:[\"3m 5P 7m 9M\",\"7m 9M 10m 12P\"],\"7\":[\"3M 6M 7m 9M\",\"7m 9M 10M 13M\"],\"^7\":[\"3M 5P 7M 9M\",\"7M 9M 10M 12P\"],\"69\":[\"3M 5P 6A 9M\"],m7b5:[\"3m 5d 7m 8P\",\"7m 8P 10m 12d\"],\"7b9\":[\"3M 6m 7m 9m\",\"7m 9m 10M 13m\"],\"7b13\":[\"3M 6m 7m 9m\",\"7m 9m 10M 13m\"],o7:[\"1P 3m 5d 6M\",\"5d 6M 8P 10m\"],\"7#11\":[\"7m 9M 11A 13A\"],\"7#9\":[\"3M 7m 9A\"],mM7:[\"3m 5P 7M 9M\",\"7M 9M 10m 12P\"],m6:[\"3m 5P 6M 9M\",\"6M 9M 10m 12P\"]};var jp=it(is());function jA(n,e){let{alt:r,letter:s}=jp.Note.get(e),{oct:o}=jp.Note.get(n),c=jp.Note.chroma(s)+r;return c\u003e11?o--:c\u003c0\u0026\u0026o++,e+o}function xg(n,e=No,r=[\"D3\",\"A4\"]){let{tonic:s,aliases:o}=Yn.Chord.get(n),c=o?.length?Object.keys(e).find(y=\u003eo.includes(y)):n;if(!e[c])return[];let p=e[c].map(y=\u003ey.split(\" \")),d=Yn.Range.chromatic(r);return p.reduce((y,b)=\u003e{let w=b.map(j=\u003eYn.Interval.substract(j,b[0])),k=Yn.Note.transpose(s,b[0]),L=d.filter(j=\u003eYn.Note.chroma(j)===Yn.Note.chroma(k)).filter(j=\u003eYn.Note.midi(Yn.Note.transpose(j,w[w.length-1]))\u003c=Yn.Note.midi(r[1])).map(j=\u003ejA(j,k)).map(j=\u003ew.map(B=\u003eYn.Note.transpose(j,B)));return y.concat(L)},[])}var DA=n=\u003e{let e=n[n.length-1].value,r=s=\u003eMath.abs(Dp.Note.midi(e)-Dp.Note.midi(s[s.length-1]));return(s,o)=\u003er(s)-r(o)};var Ip={m7:[\"3m 5P 7m 9M\",\"-2M 2M 3m 5P\",\"7m 9M 10m 12P\"],\"7\":[\"3M 6M 7m 9M\",\"-2M 2M 3M 6M\",\"7m 9M 10M 13M\"],\"^7\":[\"3M 5P 7M 9M\",\"-2m 2M 3M 5P\",\"7M 9M 10M 12P\"]};function IA(n,e,r,s){if(typeof e.value==\"string\"){let{intervals:o,tonic:c}=ua.Chord.get(e.value),p=o.map(d=\u003eua.Note.transpose(c+\"3\",d));return n.concat(p.map(d=\u003e({...e,value:d})))}return n}var wo=n=\u003e(e,r)=\u003e{if(typeof r.value!=\"string\")return e;let{tonic:s,aliases:o}=ua.Chord.get(r.value),c=Object.keys(n).find(k=\u003eo.includes(k));if(!c)return console.log(`no voicings found for chord \"${r.value}\"`),e;let p,d=n[c].map(k=\u003ek.split(\" \")),y=s+\"3\",b=s+\"2\";if(!e.length)p=d[0];else{let k=e[e.length-1].value,S=L=\u003eMath.abs(ua.Note.midi(k)-ua.Note.midi(ua.Note.transpose(y,L[L.length-1])));p=d.sort((L,j)=\u003eS(L)-S(j))[0]}let w=p.map(k=\u003eua.Note.transpose(y,k));return e.concat([{...r,value:b}]).concat(w.map(k=\u003e({...r,value:k})))},Qu=(n,e,r=DA)=\u003e(s,o)=\u003e{if(typeof o.value!=\"string\")return s;let c=xg(o.value,n,e),{tonic:p,aliases:d}=ua.Chord.get(o.value);if(!Object.keys(n).find(k=\u003ed.includes(k)))return console.log(`no voicings found for chord \"${o.value}\"`),s;let b=p+\"2\",w;return s.length?w=c.sort(r(s))[0]:w=c[Math.ceil(c.length/2)],s.concat([{...o,value:b}]).concat(w.map(k=\u003e({...o,value:k})))};var FA=it(gp());var en=it(is()),Dn=class{static getBassNote(e,r=!1){if(!e)return null;if(!r\u0026\u0026e.includes(\"/\"))return e.split(\"/\")[1];let s=e.match(/^([A-G][b|#]?)/);return!s||!s.length?\"\":s[0]}static chordInversions(e,r,s){let o=en.Chord.getChord(e,r).notes.map(d=\u003een.Note.get(d).pc),c=en.Range.chromatic(s).filter(Dn.byPitches(o));return c.length-o.length+1\u003c=0?[]:Array.from({length:c.length-o.length+1},(d,y)=\u003een.Collection.rotate(y,c).slice(0,o.length))}static tokenizeChord(e){if(!e)return null;let r=Dn.getBassNote(e,!0)||\"\",s=e.replace(r,\"\");return s=s.split(\"/\")[0],Object.keys(Dn.irealToTonal).find(o=\u003eDn.irealToTonal[o]===s)?r+s:[r,s]}static getTonalChord(e){if(!e)return null;let r=Dn.getBassNote(e,!0)||\"\",s=e.replace(r,\"\");return s=s.split(\"/\")[0],Object.keys(Dn.irealToTonal).find(o=\u003eDn.irealToTonal[o]===s)?r+s:(s=Dn.irealToTonal[s],s===void 0?null:r+s)}static minInterval(e,r,s){if(e=Dn.reduceInterval(e,!0),r)return Dn.forceDirection(e,r,s);let o=Dn.invertInterval(e);return Math.abs(en.Interval.semitones(o))\u003cMath.abs(en.Interval.semitones(e))\u0026\u0026(e=o),e}static reduceInterval(e=\"\",r=!1){let s={\"0A\":\"1P\",\"-0A\":\"1P\"};return r\u0026\u0026(s={...s,\"8P\":\"1P\",\"-8P\":\"1P\"},e=en.Interval.simplify(e)),Object.keys(s).includes(e)?s[e]:e}static forceDirection(e,r,s=!1){let o=en.Interval.semitones(e);return r===\"up\"\u0026\u0026o\u003c0||r===\"down\"\u0026\u0026o\u003e0?Dn.invertInterval(e):e===\"1P\"\u0026\u0026s?(r===\"down\"?\"-\":\"\")+\"8P\":e}static invertInterval(e){if(!e)return null;let r=e.replace(\"-\",\"\"),s=Dn.intervalComplement(r);return(e.length\u003er.length?\"\":\"-\")+s}static intervalComplement(e){let r={\"8P\":\"1P\",\"8d\":\"1A\",\"8A\":\"1d\",\"1A\":\"8d\",\"1d\":\"8A\"},s=Object.keys(r).find(o=\u003ee.match(o));return s?r[s]:en.Interval.invert(e)}static isInterval(e){return typeof en.Interval.semitones(e)==\"number\"}static isInRange(e,r){let s=en.Note.midi(e);return en.Note.midi(r[0])\u003c=s\u0026\u0026s\u003c=en.Note.midi(r[1])}static byPitches(e){let r=e.map(s=\u003een.Note.chroma(s));return s=\u003er.includes(en.Note.chroma(s))}},kg=Dn;Cx(kg,\"irealToTonal\",{\"^7\":\"M7\",\"7\":\"7\",\"-7\":\"m7\",h7:\"m7b5\",\"7#9\":\"7#9\",\"7b9\":\"7b9\",\"^7#5\":\"M7#5\",\"^#5\":\"M#5\",\"\":\"\",\"^\":\"M\",\"6\":\"6\",\"9\":\"9\",\"-6\":\"m6\",o7:\"o7\",h:\"m7b5\",\"-^7\":\"mM7\",o:\"o\",\"^9\":\"M9\",\"7#11\":\"7#11\",\"7#5\":\"7#5\",\"-\":\"m\",\"7sus\":\"7sus\",\"69\":\"69\",\"7b13\":\"7b13\",\"+\":\"+\",\"7b9b5\":\"7b5b9\",\"-9\":\"m9\",\"9sus\":\"9sus\",\"7b9sus\":\"7b9sus\",\"7b9#5\":\"7#5b9\",\"13\":\"13\",\"^7#11\":\"M7#11\",\"-7b5\":\"m7b5\",\"^13\":\"M13\",\"7#9b5\":\"7b5#9\",\"-11\":\"m11\",\"11\":\"11\",\"7b5\":\"7b5\",\"9#5\":\"9#5\",\"13b9\":\"13b9\",\"9#11\":\"9#11\",\"13#11\":\"13#11\",\"-b6\":\"mb6\",\"7#9#5\":\"7#5#9\",\"-69\":\"m69\",\"13sus\":\"13sus\",\"^9#11\":\"M9#11\",\"7b9#9\":\"7b9#9\",sus:\"sus\",sus4:\"Msus4\",sus2:\"Msus2\",\"7#9#11\":\"7#9#11\",\"7b9b13\":\"7b9b13\",\"7b9#11\":\"7b9#11\",\"13#9\":\"13#9\",\"9b5\":\"9b5\",\"-^9\":\"mM9\",\"2\":\"Madd9\",\"-#5\":\"m#5\",\"7+\":\"7#5\",\"7sus4\":\"7sus\",M69:\"M69\"});var IJ=(0,FA.curry)((n,e)=\u003ee.reduce(n,[])),Fp=n=\u003e(e,r,s,o)=\u003e{n\u0026\u0026(o=o.filter(n));let c=d=\u003ed\u003co.length\u0026\u0026o[d].value===\"_\";if(c(s))return e;if(!c(s+1))return e.concat([r]);let p=r.duration;for(;c(++s);)p+=o[s].duration;return e.concat([{...r,duration:p}])},Wye=IJ(Fp());var Ps=it(ot()),su=it(ec());function hs(){return!!(typeof window!=\"undefined\"\u0026\u0026window.document\u0026\u0026window.document.createElement)}var $3=it(sa()),H3=it(ot());var So=it(ot()),on=it(is());function BA(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}var Yp=it(sa());var uR=it(sa());function Vp(n,e,r){n.prototype=e.prototype=r,r.constructor=n}function wg(n,e){var r=Object.create(n.prototype);for(var s in e)r[s]=e[s];return r}function tc(){}var nc=.7,Lp=1/nc,qo=\"\\\\s*([+-]?\\\\d+)\\\\s*\",rc=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",ca=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",FJ=/^#([0-9a-f]{3,8})$/,VJ=new RegExp(\"^rgb\\\\(\"+[qo,qo,qo]+\"\\\\)$\"),LJ=new RegExp(\"^rgb\\\\(\"+[ca,ca,ca]+\"\\\\)$\"),WJ=new RegExp(\"^rgba\\\\(\"+[qo,qo,qo,rc]+\"\\\\)$\"),BJ=new RegExp(\"^rgba\\\\(\"+[ca,ca,ca,rc]+\"\\\\)$\"),zJ=new RegExp(\"^hsl\\\\(\"+[rc,ca,ca]+\"\\\\)$\"),GJ=new RegExp(\"^hsla\\\\(\"+[rc,ca,ca,rc]+\"\\\\)$\"),zA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vp(tc,ps,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:GA,formatHex:GA,formatHsl:UJ,formatRgb:UA,toString:UA});function GA(){return this.rgb().formatHex()}function UJ(){return ZA(this).formatHsl()}function UA(){return this.rgb().formatRgb()}function ps(n){var e,r;return n=(n+\"\").trim().toLowerCase(),(e=FJ.exec(n))?(r=e[1].length,e=parseInt(e[1],16),r===6?$A(e):r===3?new lr(e\u003e\u003e8\u002615|e\u003e\u003e4\u0026240,e\u003e\u003e4\u002615|e\u0026240,(e\u002615)\u003c\u003c4|e\u002615,1):r===8?Wp(e\u003e\u003e24\u0026255,e\u003e\u003e16\u0026255,e\u003e\u003e8\u0026255,(e\u0026255)/255):r===4?Wp(e\u003e\u003e12\u002615|e\u003e\u003e8\u0026240,e\u003e\u003e8\u002615|e\u003e\u003e4\u0026240,e\u003e\u003e4\u002615|e\u0026240,((e\u002615)\u003c\u003c4|e\u002615)/255):null):(e=VJ.exec(n))?new lr(e[1],e[2],e[3],1):(e=LJ.exec(n))?new lr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=WJ.exec(n))?Wp(e[1],e[2],e[3],e[4]):(e=BJ.exec(n))?Wp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zJ.exec(n))?XA(e[1],e[2]/100,e[3]/100,1):(e=GJ.exec(n))?XA(e[1],e[2]/100,e[3]/100,e[4]):zA.hasOwnProperty(n)?$A(zA[n]):n===\"transparent\"?new lr(NaN,NaN,NaN,0):null}function $A(n){return new lr(n\u003e\u003e16\u0026255,n\u003e\u003e8\u0026255,n\u0026255,1)}function Wp(n,e,r,s){return s\u003c=0\u0026\u0026(n=e=r=NaN),new lr(n,e,r,s)}function $J(n){return n instanceof tc||(n=ps(n)),n?(n=n.rgb(),new lr(n.r,n.g,n.b,n.opacity)):new lr}function To(n,e,r,s){return arguments.length===1?$J(n):new lr(n,e,r,s??1)}function lr(n,e,r,s){this.r=+n,this.g=+e,this.b=+r,this.opacity=+s}Vp(lr,To,wg(tc,{brighter:function(n){return n=n==null?Lp:Math.pow(Lp,n),new lr(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=n==null?nc:Math.pow(nc,n),new lr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5\u003c=this.r\u0026\u0026this.r\u003c255.5\u0026\u0026-.5\u003c=this.g\u0026\u0026this.g\u003c255.5\u0026\u0026-.5\u003c=this.b\u0026\u0026this.b\u003c255.5\u0026\u00260\u003c=this.opacity\u0026\u0026this.opacity\u003c=1},hex:HA,formatHex:HA,formatRgb:YA,toString:YA}));function HA(){return\"#\"+qg(this.r)+qg(this.g)+qg(this.b)}function YA(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?\")\":\", \"+n+\")\")}function qg(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n\u003c16?\"0\":\"\")+n.toString(16)}function XA(n,e,r,s){return s\u003c=0?n=e=r=NaN:r\u003c=0||r\u003e=1?n=e=NaN:e\u003c=0\u0026\u0026(n=NaN),new la(n,e,r,s)}function ZA(n){if(n instanceof la)return new la(n.h,n.s,n.l,n.opacity);if(n instanceof tc||(n=ps(n)),!n)return new la;if(n instanceof la)return n;n=n.rgb();var e=n.r/255,r=n.g/255,s=n.b/255,o=Math.min(e,r,s),c=Math.max(e,r,s),p=NaN,d=c-o,y=(c+o)/2;return d?(e===c?p=(r-s)/d+(r\u003cs)*6:r===c?p=(s-e)/d+2:p=(e-r)/d+4,d/=y\u003c.5?c+o:2-c-o,p*=60):d=y\u003e0\u0026\u0026y\u003c1?0:p,new la(p,d,y,n.opacity)}function KA(n,e,r,s){return arguments.length===1?ZA(n):new la(n,e,r,s??1)}function la(n,e,r,s){this.h=+n,this.s=+e,this.l=+r,this.opacity=+s}Vp(la,KA,wg(tc,{brighter:function(n){return n=n==null?Lp:Math.pow(Lp,n),new la(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?nc:Math.pow(nc,n),new la(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+(this.h\u003c0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r\u003c.5?r:1-r)*e,o=2*r-s;return new lr(Tg(n\u003e=240?n-240:n+120,o,s),Tg(n,o,s),Tg(n\u003c120?n+240:n-120,o,s),this.opacity)},displayable:function(){return(0\u003c=this.s\u0026\u0026this.s\u003c=1||isNaN(this.s))\u0026\u00260\u003c=this.l\u0026\u0026this.l\u003c=1\u0026\u00260\u003c=this.opacity\u0026\u0026this.opacity\u003c=1},formatHsl:function(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+(this.s||0)*100+\"%, \"+(this.l||0)*100+\"%\"+(n===1?\")\":\", \"+n+\")\")}}));function Tg(n,e,r){return(n\u003c60?e+(r-e)*n/60:n\u003c180?r:n\u003c240?e+(r-e)*(240-n)/60:e)*255}function Mg(n,e,r,s,o){var c=n*n,p=c*n;return((1-3*n+3*c-p)*e+(4-6*c+3*p)*r+(1+3*n+3*c-3*p)*s+p*o)/6}function QA(n){var e=n.length-1;return function(r){var s=r\u003c=0?r=0:r\u003e=1?(r=1,e-1):Math.floor(r*e),o=n[s],c=n[s+1],p=s\u003e0?n[s-1]:2*o-c,d=s\u003ce-1?n[s+2]:2*c-o;return Mg((r-s/e)*e,p,o,c,d)}}function JA(n){var e=n.length;return function(r){var s=Math.floor(((r%=1)\u003c0?++r:r)*e),o=n[(s+e-1)%e],c=n[s%e],p=n[(s+1)%e],d=n[(s+2)%e];return Mg((r-s/e)*e,o,c,p,d)}}var ac=n=\u003e()=\u003en;function HJ(n,e){return function(r){return n+r*e}}function YJ(n,e,r){return n=Math.pow(n,r),e=Math.pow(e,r)-n,r=1/r,function(s){return Math.pow(n+s*e,r)}}function eR(n){return(n=+n)==1?Bp:function(e,r){return r-e?YJ(e,r,n):ac(isNaN(e)?r:e)}}function Bp(n,e){var r=e-n;return r?HJ(n,r):ac(isNaN(n)?e:n)}var zp=function n(e){var r=eR(e);function s(o,c){var p=r((o=To(o)).r,(c=To(c)).r),d=r(o.g,c.g),y=r(o.b,c.b),b=Bp(o.opacity,c.opacity);return function(w){return o.r=p(w),o.g=d(w),o.b=y(w),o.opacity=b(w),o+\"\"}}return s.gamma=n,s}(1);function tR(n){return function(e){var r=e.length,s=new Array(r),o=new Array(r),c=new Array(r),p,d;for(p=0;p\u003cr;++p)d=To(e[p]),s[p]=d.r||0,o[p]=d.g||0,c[p]=d.b||0;return s=n(s),o=n(o),c=n(c),d.opacity=1,function(y){return d.r=s(y),d.g=o(y),d.b=c(y),d+\"\"}}}var Sg=tR(QA),XJ=tR(JA);function nR(n,e){e||(e=[]);var r=n?Math.min(e.length,n.length):0,s=e.slice(),o;return function(c){for(o=0;o\u003cr;++o)s[o]=n[o]*(1-c)+e[o]*c;return s}}function rR(n){return ArrayBuffer.isView(n)\u0026\u0026!(n instanceof DataView)}function aR(n,e){var r=e?e.length:0,s=n?Math.min(r,n.length):0,o=new Array(s),c=new Array(r),p;for(p=0;p\u003cs;++p)o[p]=Ks(n[p],e[p]);for(;p\u003cr;++p)c[p]=e[p];return function(d){for(p=0;p\u003cs;++p)c[p]=o[p](d);return c}}function sR(n,e){var r=new Date;return n=+n,e=+e,function(s){return r.setTime(n*(1-s)+e*s),r}}function ds(n,e){return n=+n,e=+e,function(r){return n*(1-r)+e*r}}function iR(n,e){var r={},s={},o;(n===null||typeof n!=\"object\")\u0026\u0026(n={}),(e===null||typeof e!=\"object\")\u0026\u0026(e={});for(o in e)o in n?r[o]=Ks(n[o],e[o]):s[o]=e[o];return function(c){for(o in r)s[o]=r[o](c);return s}}var Pg=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Og=new RegExp(Pg.source,\"g\");function ZJ(n){return function(){return n}}function KJ(n){return function(e){return n(e)+\"\"}}function oR(n,e){var r=Pg.lastIndex=Og.lastIndex=0,s,o,c,p=-1,d=[],y=[];for(n=n+\"\",e=e+\"\";(s=Pg.exec(n))\u0026\u0026(o=Og.exec(e));)(c=o.index)\u003er\u0026\u0026(c=e.slice(r,c),d[p]?d[p]+=c:d[++p]=c),(s=s[0])===(o=o[0])?d[p]?d[p]+=o:d[++p]=o:(d[++p]=null,y.push({i:p,x:ds(s,o)})),r=Og.lastIndex;return r\u003ce.length\u0026\u0026(c=e.slice(r),d[p]?d[p]+=c:d[++p]=c),d.length\u003c2?y[0]?KJ(y[0].x):ZJ(e):(e=y.length,function(b){for(var w=0,k;w\u003ce;++w)d[(k=y[w]).i]=k.x(b);return d.join(\"\")})}function Ks(n,e){var r=typeof e,s;return e==null||r===\"boolean\"?ac(e):(r===\"number\"?ds:r===\"string\"?(s=ps(e))?(e=s,zp):oR:e instanceof ps?zp:e instanceof Date?sR:rR(e)?nR:Array.isArray(e)?aR:typeof e.valueOf!=\"function\"\u0026\u0026typeof e.toString!=\"function\"||isNaN(e)?iR:ds)(n,e)}function Cg(n,e){return n=+n,e=+e,function(r){return Math.round(n*(1-r)+e*r)}}function Ag(n){return function(){return n}}function Rg(n){return+n}var cR=[0,1];function Mo(n){return n}function Eg(n,e){return(e-=n=+n)?function(r){return(r-n)/e}:Ag(isNaN(e)?NaN:.5)}function QJ(n,e){var r;return n\u003ee\u0026\u0026(r=n,n=e,e=r),function(s){return Math.max(n,Math.min(e,s))}}function JJ(n,e,r){var s=n[0],o=n[1],c=e[0],p=e[1];return o\u003cs?(s=Eg(o,s),c=r(p,c)):(s=Eg(s,o),c=r(c,p)),function(d){return c(s(d))}}function eee(n,e,r){var s=Math.min(n.length,e.length)-1,o=new Array(s),c=new Array(s),p=-1;for(n[s]\u003cn[0]\u0026\u0026(n=n.slice().reverse(),e=e.slice().reverse());++p\u003cs;)o[p]=Eg(n[p],n[p+1]),c[p]=r(e[p],e[p+1]);return function(d){var y=(0,uR.bisect)(n,d,1,s)-1;return c[y](o[y](d))}}function lR(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function tee(){var n=cR,e=cR,r=Ks,s,o,c,p=Mo,d,y,b;function w(){var S=Math.min(n.length,e.length);return p!==Mo\u0026\u0026(p=QJ(n[0],n[S-1])),d=S\u003e2?eee:JJ,y=b=null,k}function k(S){return S==null||isNaN(S=+S)?c:(y||(y=d(n.map(s),e,r)))(s(p(S)))}return k.invert=function(S){return p(o((b||(b=d(e,n.map(s),ds)))(S)))},k.domain=function(S){return arguments.length?(n=Array.from(S,Rg),w()):n.slice()},k.range=function(S){return arguments.length?(e=Array.from(S),w()):e.slice()},k.rangeRound=function(S){return e=Array.from(S),r=Cg,w()},k.clamp=function(S){return arguments.length?(p=S?!0:Mo,w()):p!==Mo},k.interpolate=function(S){return arguments.length?(r=S,w()):r},k.unknown=function(S){return arguments.length?(c=S,k):c},function(S,L){return s=S,o=L,w()}}function jg(){return tee()(Mo,Mo)}var _R=it(sa());function hR(n){return Math.abs(n=Math.round(n))\u003e=1e21?n.toLocaleString(\"en\").replace(/,/g,\"\"):n.toString(10)}function Qs(n,e){if((r=(n=e?n.toExponential(e-1):n.toExponential()).indexOf(\"e\"))\u003c0)return null;var r,s=n.slice(0,r);return[s.length\u003e1?s[0]+s.slice(2):s,+n.slice(r+1)]}function ha(n){return n=Qs(Math.abs(n)),n?n[1]:NaN}function pR(n,e){return function(r,s){for(var o=r.length,c=[],p=0,d=n[0],y=0;o\u003e0\u0026\u0026d\u003e0\u0026\u0026(y+d+1\u003es\u0026\u0026(d=Math.max(1,s-y)),c.push(r.substring(o-=d,o+d)),!((y+=d+1)\u003es));)d=n[p=(p+1)%n.length];return c.reverse().join(e)}}function dR(n){return function(e){return e.replace(/[0-9]/g,function(r){return n[+r]})}}var nee=/^(?:(.)?([\u003c\u003e=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function fs(n){if(!(e=nee.exec(n)))throw new Error(\"invalid format: \"+n);var e;return new Gp({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]\u0026\u0026e[8].slice(1),trim:e[9],type:e[10]})}fs.prototype=Gp.prototype;function Gp(n){this.fill=n.fill===void 0?\" \":n.fill+\"\",this.align=n.align===void 0?\"\u003e\":n.align+\"\",this.sign=n.sign===void 0?\"-\":n.sign+\"\",this.symbol=n.symbol===void 0?\"\":n.symbol+\"\",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?\"\":n.type+\"\"}Gp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(this.width===void 0?\"\":Math.max(1,this.width|0))+(this.comma?\",\":\"\")+(this.precision===void 0?\"\":\".\"+Math.max(0,this.precision|0))+(this.trim?\"~\":\"\")+this.type};function fR(n){e:for(var e=n.length,r=1,s=-1,o;r\u003ce;++r)switch(n[r]){case\".\":s=o=r;break;case\"0\":s===0\u0026\u0026(s=r),o=r;break;default:if(!+n[r])break e;s\u003e0\u0026\u0026(s=0);break}return s\u003e0?n.slice(0,s)+n.slice(o+1):n}var Dg;function mR(n,e){var r=Qs(n,e);if(!r)return n+\"\";var s=r[0],o=r[1],c=o-(Dg=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,p=s.length;return c===p?s:c\u003ep?s+new Array(c-p+1).join(\"0\"):c\u003e0?s.slice(0,c)+\".\"+s.slice(c):\"0.\"+new Array(1-c).join(\"0\")+Qs(n,Math.max(0,e+c-1))[0]}function Ig(n,e){var r=Qs(n,e);if(!r)return n+\"\";var s=r[0],o=r[1];return o\u003c0?\"0.\"+new Array(-o).join(\"0\")+s:s.length\u003eo+1?s.slice(0,o+1)+\".\"+s.slice(o+1):s+new Array(o-s.length+2).join(\"0\")}var Fg={\"%\":(n,e)=\u003e(n*100).toFixed(e),b:n=\u003eMath.round(n).toString(2),c:n=\u003en+\"\",d:hR,e:(n,e)=\u003en.toExponential(e),f:(n,e)=\u003en.toFixed(e),g:(n,e)=\u003en.toPrecision(e),o:n=\u003eMath.round(n).toString(8),p:(n,e)=\u003eIg(n*100,e),r:Ig,s:mR,X:n=\u003eMath.round(n).toString(16).toUpperCase(),x:n=\u003eMath.round(n).toString(16)};function Vg(n){return n}var vR=Array.prototype.map,gR=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\\xB5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];function yR(n){var e=n.grouping===void 0||n.thousands===void 0?Vg:pR(vR.call(n.grouping,Number),n.thousands+\"\"),r=n.currency===void 0?\"\":n.currency[0]+\"\",s=n.currency===void 0?\"\":n.currency[1]+\"\",o=n.decimal===void 0?\".\":n.decimal+\"\",c=n.numerals===void 0?Vg:dR(vR.call(n.numerals,String)),p=n.percent===void 0?\"%\":n.percent+\"\",d=n.minus===void 0?\"\\u2212\":n.minus+\"\",y=n.nan===void 0?\"NaN\":n.nan+\"\";function b(k){k=fs(k);var S=k.fill,L=k.align,j=k.sign,B=k.symbol,ee=k.zero,de=k.width,ie=k.comma,he=k.precision,G=k.trim,R=k.type;R===\"n\"?(ie=!0,R=\"g\"):Fg[R]||(he===void 0\u0026\u0026(he=12),G=!0,R=\"g\"),(ee||S===\"0\"\u0026\u0026L===\"=\")\u0026\u0026(ee=!0,S=\"0\",L=\"=\");var H=B===\"$\"?r:B===\"#\"\u0026\u0026/[boxX]/.test(R)?\"0\"+R.toLowerCase():\"\",$=B===\"$\"?s:/[%p]/.test(R)?p:\"\",se=Fg[R],ue=/[defgprs%]/.test(R);he=he===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,he)):Math.max(0,Math.min(20,he));function Ne(be){var Re=H,ze=$,He,X,oe;if(R===\"c\")ze=se(be)+ze,be=\"\";else{be=+be;var Y=be\u003c0||1/be\u003c0;if(be=isNaN(be)?y:se(Math.abs(be),he),G\u0026\u0026(be=fR(be)),Y\u0026\u0026+be==0\u0026\u0026j!==\"+\"\u0026\u0026(Y=!1),Re=(Y?j===\"(\"?j:d:j===\"-\"||j===\"(\"?\"\":j)+Re,ze=(R===\"s\"?gR[8+Dg/3]:\"\")+ze+(Y\u0026\u0026j===\"(\"?\")\":\"\"),ue){for(He=-1,X=be.length;++He\u003cX;)if(oe=be.charCodeAt(He),48\u003eoe||oe\u003e57){ze=(oe===46?o+be.slice(He+1):be.slice(He))+ze,be=be.slice(0,He);break}}}ie\u0026\u0026!ee\u0026\u0026(be=e(be,1/0));var J=Re.length+be.length+ze.length,ge=J\u003cde?new Array(de-J+1).join(S):\"\";switch(ie\u0026\u0026ee\u0026\u0026(be=e(ge+be,ge.length?de-ze.length:1/0),ge=\"\"),L){case\"\u003c\":be=Re+be+ze+ge;break;case\"=\":be=Re+ge+be+ze;break;case\"^\":be=ge.slice(0,J=ge.length\u003e\u003e1)+Re+be+ze+ge.slice(J);break;default:be=ge+Re+be+ze;break}return c(be)}return Ne.toString=function(){return k+\"\"},Ne}function w(k,S){var L=b((k=fs(k),k.type=\"f\",k)),j=Math.max(-8,Math.min(8,Math.floor(ha(S)/3)))*3,B=Math.pow(10,-j),ee=gR[8+j/3];return function(de){return L(B*de)+ee}}return{format:b,formatPrefix:w}}var Up,$p,Hp;Lg({thousands:\",\",grouping:[3],currency:[\"$\",\"\"]});function Lg(n){return Up=yR(n),$p=Up.format,Hp=Up.formatPrefix,Up}function Wg(n){return Math.max(0,-ha(Math.abs(n)))}function Bg(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ha(e)/3)))*3-ha(Math.abs(n)))}function zg(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,ha(e)-ha(n))+1}function Gg(n,e,r,s){var o=(0,_R.tickStep)(n,e,r),c;switch(s=fs(s??\",f\"),s.type){case\"s\":{var p=Math.max(Math.abs(n),Math.abs(e));return s.precision==null\u0026\u0026!isNaN(c=Bg(o,p))\u0026\u0026(s.precision=c),Hp(s,p)}case\"\":case\"e\":case\"g\":case\"p\":case\"r\":{s.precision==null\u0026\u0026!isNaN(c=zg(o,Math.max(Math.abs(n),Math.abs(e))))\u0026\u0026(s.precision=c-(s.type===\"e\"));break}case\"f\":case\"%\":{s.precision==null\u0026\u0026!isNaN(c=Wg(o))\u0026\u0026(s.precision=c-(s.type===\"%\")*2);break}}return $p(s)}function ree(n){var e=n.domain;return n.ticks=function(r){var s=e();return(0,Yp.ticks)(s[0],s[s.length-1],r??10)},n.tickFormat=function(r,s){var o=e();return Gg(o[0],o[o.length-1],r??10,s)},n.nice=function(r){r==null\u0026\u0026(r=10);var s=e(),o=0,c=s.length-1,p=s[o],d=s[c],y,b,w=10;for(d\u003cp\u0026\u0026(b=p,p=d,d=b,b=o,o=c,c=b);w-- \u003e0;){if(b=(0,Yp.tickIncrement)(p,d,r),b===y)return s[o]=p,s[c]=d,e(s);if(b\u003e0)p=Math.floor(p/b)*b,d=Math.ceil(d/b)*b;else if(b\u003c0)p=Math.ceil(p*b)/b,d=Math.floor(d*b)/b;else break;y=b}return n},n}function Js(){var n=jg();return n.copy=function(){return lR(n,Js())},BA.apply(n,arguments),ree(n)}function bR(n){for(var e=n.length/6|0,r=new Array(e),s=0;s\u003ce;)r[s]=\"#\"+n.slice(s*6,++s*6);return r}var xR=n=\u003eSg(n[n.length-1]);var kR=new Array(3).concat(\"deebf79ecae13182bd\",\"eff3ffbdd7e76baed62171b5\",\"eff3ffbdd7e76baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\").map(bR),Ug=xR(kR);var Po=it(sa());function $g(n){let{width:e=600,height:r=200,noteRange:s,rhythmLanes:o,noteLanes:c,timeRange:p,strokeWidth:d=1,hiddenSymbols:y=[\"r\"],fold:b=!1,time:w=0,center:k=.5,events:S}=n,L=Y=\u003e[\"string\",\"number\"].includes(typeof Y.value),j=S.filter(L),B=(0,Po.max)(j.map(Y=\u003eY.path?Y.path.length:1));k=k*e;let ee=j.filter(({value:Y})=\u003ey.indexOf(Y)===-1).map(Y=\u003eY.value).filter((Y,J,ge)=\u003ege.indexOf(Y)===J).sort((Y,J)=\u003eon.Note.midi(J)-on.Note.midi(Y)),de=ee.filter(Y=\u003e!!on.Note.name(Y)),ie=ee.filter(Y=\u003e!on.Note.name(Y)),he=(0,Po.max)(j.map(Y=\u003eY.time+Y.duration));p=p?[p[0],p[1]]:[0,he];let G;if(b)G=(c?c.filter(Y=\u003ede.find(J=\u003eon.Note.midi(J)===on.Note.midi(Y))):de).map(Y=\u003eon.Note.midi(Y)+\"\").concat(o?o.filter(Y=\u003eie.indexOf(Y)!==-1):ie.reverse());else{if(de.length){let Y=s?s.map(J=\u003eon.Note.midi(J)):[(0,Po.min)(de.map(J=\u003eon.Note.midi(J))),(0,Po.max)(de.map(J=\u003eon.Note.midi(J)))];c=(c||on.Range.chromatic(Y.reverse().map(J=\u003eon.Note.fromMidi(J)))).map(J=\u003eon.Note.midi(J)+\"\")}else c=c||[];G=c.concat(o||ie.reverse())}let R=[];n.hierarchy\u0026\u0026(R=S.filter(Y=\u003e!L(Y)).map(Y=\u003e({...Y,lane:Y.lane||`container-${Y.path.length}`})),G=[].concat(R.map(Y=\u003eY.lane).reverse(),G).filter((Y,J,ge)=\u003ege.indexOf(Y)===J));let H=Js().domain(p).range([d,e-d]),$=Js().domain([0,he]).range([0,e]),se=Js().domain([G.length,0]).range([r-d,d]),ue=Y=\u003eei(se(Y)-d),Ne=j.filter(({value:Y,time:J,duration:ge})=\u003ey.indexOf(Y)===-1\u0026\u0026G.indexOf(on.Note.midi(Y)?on.Note.midi(Y)+\"\":Y)!==-1).map(Y=\u003e({...Y,height:1})).concat(R),be=$(w)%e,Re=r/G.length;function ze(Y=0){return So.default.createElement(\"g\",null,Ne.map(({value:J,time:ge,duration:me,path:Le,color:Qe,height:ft,lane:le},xe)=\u003e{let Se=ei(H(ge+Y)-k),Be=ei($(me));if(!(Se\u003ce-d+be\u0026\u0026Se+Be\u003ed+be))return;J=on.Note.midi(J)?on.Note.midi(J)+\"\":J;let Pe=G.indexOf(le||J),tt=be!==0\u0026\u0026be+k\u003eSe\u0026\u0026be+k\u003cSe+Be;return So.default.createElement(\"rect\",{rx:Re/2,ry:Re/2,stroke:\"black\",strokeWidth:d,fill:tt?\"white\":Qe||Ug((Le?Le.length:1)/B),key:xe,x:Se,y:ei(se(Pe)),width:Be,height:ue(ft||1)})}))}let He=!0,X,oe;return He?(X=k-ei(d),oe=-ei(be)):(oe=-k,X=ei(be)),So.default.createElement(\"svg\",{...{width:e,height:r}},So.default.createElement(\"g\",{style:{transform:`translateX(${oe}px)`,willChange:\"transform\"}},ze(),ze(he),ze(2*he)),So.default.createElement(\"line\",{x1:X,x2:X,y1:0,y2:r,strokeWidth:d*2,stroke:\"black\"}))}function ei(n){return Math.floor(n*2)/2}var cl=it(ot()),L3=it(d3()),W3=it(C3()),B3=it(A3()),z3=it(I3());var F3=it(ec());function V3(n,e={}){return()=\u003enew Promise((r,s)=\u003e{let o;e={volume:-12,attack:.01,...e,onload:()=\u003e{r(o)}};let c=new F3.Players(n,e);o={customSymbols:Object.keys(n),triggerAttackRelease:(p,d,y,b)=\u003e{if(!c.has(p)){console.warn(`key ${p} not found for playback`);return}let w=c.player(p);w.start(y),w.stop(y+d)},connect:p=\u003e(c.connect(p),o),toMaster:()=\u003e(c.toDestination(),o),toDestination:()=\u003e(c.toDestination(),o)}})}var Mf={load:async()=\u003e{let n={bd:\"../samples/tidal/bd/BT0A0D0.wav\",sn:\"../samples/tidal/sn/ST0T0S3.wav\",hh:\"../samples/tidal/hh/000_hh3closedhh.wav\",cp:\"../samples/tidal/cp/HANDCLP0.wav\",mt:\"../samples/tidal/mt/MT0D3.wav\",ht:\"../samples/tidal/ht/HT0D3.wav\",lt:\"../samples/tidal/lt/LT0D3.wav\"};return hs()\u0026\u0026(await V3(n,{volume:-20})()).toDestination()}};var Sf=it(ec()),mi=it(ot());function Pf({events:n,instruments:e,draw:r,loop:s}){let[o,c]=(0,mi.useState)(!1),[p,d]=(0,mi.useState)(!1),y=(0,mi.useRef)();(0,mi.useEffect)(()=\u003e{!o||(o?.removeAll?.(),n.forEach(S=\u003eo.add(S.time,S)))},[n]);function b(){y.current\u0026\u0026y.current.stop(),o?.stop?.(),Sf.Transport.stop(),c(!1)}async function w(){let S=Object.keys(e||{});return(await Promise.all(S.map(j=\u003etypeof e[j]==\"function\"?e[j]():typeof e[j]?.load==\"function\"?e[j].load():e[j]))).reduce((j,B,ee)=\u003e({...j,[S[ee]]:B}),{})}async function k(){if(p)return;Sf.start(),d(!0);let S=await w();c(G3(n,{instruments:S||{synth:Of,drums:Mf},loop:s})),y.current=U3(r),d(!1)}return cl.default.createElement(L3.default,{color:\"primary\",onClick:()=\u003eo?b():k()},o?cl.default.createElement(B3.default,null):p?cl.default.createElement(z3.default,null):cl.default.createElement(W3.default,null))}var{PolySynth:Y3,Synth:X3}=su,Of=hs()\u0026\u0026new Y3({maxPolyphony:12,voice:X3,options:{volume:-16,envelope:{attack:.01,decay:.2,sustain:.5,release:.1},oscillator:{type:\"fmtriangle\"}}}).toDestination(),GNe=hs()\u0026\u0026new Y3({maxPolyphony:12,voice:X3,options:{volume:-16,envelope:{attack:.01,decay:.1,sustain:0,release:0},oscillator:{type:\"fmtriangle\"}}}).toDestination();function G3(n,e={}){let r=n.filter(d=\u003e[\"string\",\"number\"].includes(typeof d.value)),{loop:s=!0,instruments:o={synth:Of},duration:c=(0,$3.max)(r.map(d=\u003ed.time+d.duration))}=e,p=new su.Part((d,y)=\u003e{y.value===\"r\"||![\"string\",\"number\"].includes(typeof y.value)||phe(y.instrument,o).triggerAttackRelease(y.value,y.duration,d,y.velocity||.9)},r).start(0);return p.loop=s,p.loopEnd=c,su.Transport.start(\"+0.1\"),p}function phe(n,e){let r=Object.keys(e);!r.length,n=n||r[0];let s,o=r.find(c=\u003ec===n);if(o)s=e[o];else{let c=r[0];s=e[c]||Of}return s}function U3(n,e=1/30){if(n)return new su.Loop(r=\u003e{su.Draw.schedule(()=\u003en(su.Transport.seconds),r)},e).start(0)}function Qn(n){let{hidePianoRoll:e}=n,[r,s]=(0,H3.useState)(0);return e?Ps.default.createElement(Pf,{...n,draw:s}):Ps.default.createElement(Ps.default.Fragment,null,Ps.default.createElement($g,{...n,time:r}),Ps.default.createElement(\"div\",{style:{float:\"right\"}},Ps.default.createElement(Pf,{...n,draw:s})),Ps.default.createElement(\"div\",{style:{clear:\"both\"}}))}var ll=it(is()),Z3=it(ec());function K3(n,e={}){return()=\u003enew Promise(r=\u003e{e={volume:-12,attack:.01,...e,onload:()=\u003e{r(o)}};let s=new Z3.Sampler(n,e),o={triggerAttackRelease:(c,p,d,y)=\u003e{if(typeof c==\"number\"){s.triggerAttackRelease(c,p,d,y);return}e.transpose\u0026\u0026(c=ll.Note.transpose(c,ll.Interval.fromSemitones(e.transpose))),s.triggerAttackRelease(ll.Note.simplify(c),p,d,y)},triggerAttack:s.triggerAttack,triggerRelease:s.triggerAttack,connect:c=\u003e(s.connect(c),o),toMaster:()=\u003e(s.toDestination(),o),toDestination:()=\u003e(s.toDestination(),o)}})}var Jn={load:async()=\u003e{let n={C1:\"../samples/piano/C1.mp3\",C2:\"../samples/piano/C2.mp3\",C3:\"../samples/piano/C3.mp3\",C4:\"../samples/piano/C4.mp3\",C5:\"../samples/piano/C5.mp3\",C6:\"../samples/piano/C6.mp3\",C7:\"../samples/piano/C7.mp3\"};return hs()\u0026\u0026(await K3(n,{volume:-20})()).toDestination()}};var dhe={title:\"Rhythmical Chords\",date:\"2020-07-30\",tags:[\"rhythmical\",\"code\"],description:\"To bring rhythmical one step closer to being a hackable backing track player, I want to implement one of the most important things: chord symbols\",image:\"./img/rhythmical-chords.png\"};function fhe(n){let e=Object.assign({p:\"p\",ul:\"ul\",li:\"li\",a:\"a\",pre:\"pre\",code:\"code\",span:\"span\",h2:\"h2\",em:\"em\",h3:\"h3\",h4:\"h4\"},n.components),{wrapper:r}=e,s=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.p,{children:\"To bring rhythmical one step closer to being a hackable backing track player, I want to implement one of the most important things: chord symbols.\"}),`\n`,(0,a.jsx)(e.p,{children:\"Disclaimer: To get the most out of this post, you might want to read those posts first:\"}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:\"https://felixroos.github.io/blog/rhythmical-arrays/\",children:\"Rhythmical Arrays\"})}),`\n`,(0,a.jsx)(e.li,{children:(0,a.jsx)(e.a,{href:\"https://felixroos.github.io/blog/rhythmical-objects/\",children:\"Rhythmical Objects\"})}),`\n`]}),`\n`,(0,a.jsx)(e.p,{children:\"After this post, we will be able play chords like this:\"}),`\n`,(0,a.jsx)(Qn,{instruments:{tinypiano:Jn},fold:!1,events:cr({duration:64,sequential:[[\"Fm7\",\"Bbm7\",\"Eb7\",\"Ab^7\"],[\"Db^7\",[\"Dm7\",\"G7\"],\"C^7\",\"_\"],[\"Cm7\",\"Fm7\",\"Bb7\",\"Eb^7\"],[\"Ab^7\",[\"Am7\",\"D7\"],\"G^7\",\"_\"],[\"Am7\",\"D7\",\"G^7\",\"_\"],[\"F#m7b5\",\"B7b9\",\"E^7\",\"C7b13\"],[\"Fm7\",\"Bbm7\",\"Eb7\",\"Ab^7\"],[\"Db^7\",\"DbmM7\",\"Cm7\",\"Bo7\"],[\"Bbm7\",\"Eb7\",\"Ab^7\",[\"Gm7b5\",\"C7b9\"]]]}).reduce(Fp(),[]).reduce(Qu(No,[\"G3\",\"G5\"]),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"64\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F#m7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'B7b9'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'E^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'DbmM7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bo7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7b9'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"tieReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(\"br\",{}),`\n`,(0,a.jsxs)(e.p,{children:[\"Without having anything implemented yet, let's \",(0,a.jsx)(e.a,{href:\"https://felixroos.github.io/blog/rhythmical-objects/\",children:\"render\"}),\" the following two bars of major chords:\"]}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"...and look at the result:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"...obviously, we cannot use that for playback, as these are chord symbols, and we need single notes with octaves.\"}),`\n`,(0,a.jsxs)(e.h2,{id:\"most-basic-chord-reducer\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#most-basic-chord-reducer\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Most Basic Chord Reducer\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"As our goal is to get playable events, we need to transform the chord symbols to notes, using \",(0,a.jsx)(e.a,{href:\"https://github.com/tonaljs/tonal/tree/master/packages/chord#chordgetname-string-\",children:\"Chord.get\"}),\" and \",(0,a.jsx)(e.a,{href:\"https://github.com/tonaljs/tonal/tree/master/packages/note#transposenote-string-interval-string--string\",children:\"Note.transpose\"}),\" of \",(0,a.jsx)(e.a,{href:\"https://github.com/tonaljs/tonal\",children:\"tonaljs\"}),\":\"]}),`\n`,(0,a.jsx)(e.pre,{className:\"language-ts\",children:(0,a.jsxs)(e.code,{className:\"language-ts\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,a.jsxs)(e.span,{className:\"token imports\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'@tonaljs/tonal'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"chordReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" index\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" array\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" tonic \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notes \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"tonic \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"notes\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" note \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,a.jsxs)(e.p,{children:[\"to apply the reducer, we can now just use \",(0,a.jsx)(e.a,{href:\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\",children:\"reduce\"}),\":\"]}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"chordReducer\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"Result:\"}),`\n`,(0,a.jsx)(\"div\",{style:{maxHeight:400,overflow:\"auto\",borderRadius:10,marginBottom:10},children:(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    value`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    time`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,a.jsx)(e.p,{children:\"...which we can now play back:\"}),`\n`,(0,a.jsx)(Qn,{instruments:{tinypiano:Jn},fold:!1,events:cr({duration:8,sequential:[[\"F\",\"G\"],\"C\"]}).reduce(IA,[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"chordReducer\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(\"br\",{}),`\n`,(0,a.jsxs)(e.h2,{id:\"is-this-good-music-yet\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#is-this-good-music-yet\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Is this good music yet?\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Even besides the fact that this is played back by a cheap piano without rhythm, you might not be satisfied with the way the chords are played.\"}),`\n`,(0,a.jsx)(e.p,{children:\"A good pianist would never play chords like this, as their voices are moving with big steps. The voice leading would be much better if the end result sounded something like this:\"}),`\n`,(0,a.jsx)(Qn,{fold:!1,instruments:{tinypiano:Jn},events:cr({duration:8,sequential:[[{parallel:[\"F3\",\"A3\",\"C4\"]},{parallel:[\"D3\",\"G3\",\"B3\"]}],{parallel:[\"E3\",\"G3\",\"C4\"]}]})}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsxs)(e.p,{children:[\"Here, we start on F major in \",(0,a.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Root_position\",children:\"root position\"}),\" (1 3 5), transition to G major in 2nd inversion (5 1 3) to land on C major in 1st inversion (3 5 1).\"]}),`\n`,(0,a.jsx)(e.p,{children:`If we look at the movement between individual notes (voices), we only have small steps between 0 and 3 semitones, as opposed to 2-5 semitones in the previous example.\nThe result is a much smoother sound.`}),`\n`,(0,a.jsxs)(e.h2,{id:\"voicings--voice-leading\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#voicings--voice-leading\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Voicings \u0026 Voice leading\"]}),`\n`,(0,a.jsx)(e.p,{children:\"The problem above brings us to the topic of Voicings and Voice Leading.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"A \",(0,a.jsx)(e.em,{children:\"voicing\"}),\" of a chord is one of many ways to play it, like different inversions. Another way to voice chords is by using wider intervals or doubling notes in different octaves. If you have no clue what I'm talking about, \",(0,a.jsx)(e.a,{href:\"https://www.youtube.com/watch?v=VR3o45Pwx9Y\",children:\"watch this video\"}),\".\"]}),`\n`,(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.em,{children:\"Voice Leading\"}),\" describes the transition between different voicings of chords, with the general aim to create smooth transitions.\"]}),`\n`,(0,a.jsxs)(e.h2,{id:\"two-approaches-to-algorithmic-voicings\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#two-approaches-to-algorithmic-voicings\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Two approaches to algorithmic voicings\"]}),`\n`,(0,a.jsx)(e.p,{children:\"So far, I came across two approaches to generate voicings automatically:\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"voicing-dictionaries\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#voicing-dictionaries\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Voicing Dictionaries\"]}),`\n`,(0,a.jsx)(e.p,{children:`Many applications (like iReal pro) use dictionaries that contain multiple voicings for each chord, then picking the one with the best voice leading.\nThis is similar to how beginner and intermediate improvising piano players learn chords: Practising different voicings and pressing them on the fly.\nThis is the approach that I want to implement today.`}),`\n`,(0,a.jsxs)(e.h3,{id:\"voicing-permutation\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#voicing-permutation\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Voicing Permutation\"]}),`\n`,(0,a.jsxs)(e.p,{children:[`More advanced improvisers will think in terms of scales/modes and voicings that fit inside, which offers much more freedom.\nThis approach can be mapped by using permutation: Taking all possible notes that can be selected for a chord, and going through all possible combinations one by one.\nAs there are almost endless combinations, especially for chords with more notes, we need to come up with some rules that filter out combinations we do not want + find a way to permutate efficiently.\nThis can be done via `,(0,a.jsx)(e.a,{href:\"https://felixroos.github.io/blog/combinatorial-search/\",children:\"combinatorial search\"}),\", which will be the topic for a future post.\"]}),`\n`,(0,a.jsxs)(e.h2,{id:\"implementing-a-voicing-dictionary\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#implementing-a-voicing-dictionary\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Implementing a Voicing Dictionary\"]}),`\n`,(0,a.jsx)(e.p,{children:\"A small fragment of a voicing dictionary could look like this:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" lefthand \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  m7`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3m 5P 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2M 2M 3m 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10m 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token number\",children:\"7\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 6M 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2M 2M 3M 6M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10M 13M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'^7'\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 5P 7M 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2m 2M 3M 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7M 9M 10M 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsxs)(e.p,{children:[\"These are typical \",(0,a.jsx)(e.a,{href:\"https://www.youtube.com/watch?v=5uoD6LfaDoE\",children:\"rootless lefthand voicings\"}),`, notated using .\nIf we now want to resolve chords with good voice leading, we can do it like this:`]}),`\n`,(0,a.jsx)(\"div\",{style:{maxHeight:400,overflow:\"auto\",borderRadius:10,marginBottom:10},children:(0,a.jsx)(e.pre,{className:\"language-ts\",children:(0,a.jsxs)(e.code,{className:\"language-ts\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,a.jsxs)(e.span,{className:\"token imports\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'@tonaljs/tonal'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token function-variable function\",children:\"voicingDictionaryReducer\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"!==\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tonic\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" aliases \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token builtin\",children:\"symbol\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token known-class-name class-name\",children:\"Object\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"keys\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"find\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"_symbol\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" aliases\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"includes\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"_symbol\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,a.jsx)(e.span,{className:\"token builtin\",children:\"symbol\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token console class-name\",children:\"console\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"log\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsxs)(e.span,{className:\"token template-string\",children:[(0,a.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'no voicings found for chord \"'}),(0,a.jsxs)(e.span,{className:\"token interpolation\",children:[(0,a.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,a.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,a.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" voicings \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token builtin\",children:\"symbol\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"i\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" i\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"split\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"' '\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// split interval strings\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" root \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" tonic \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" bass \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" tonic \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'2'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// first chord =\u003e just use first voicing\"}),`\n    intervals `,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicings\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// not first chord =\u003e find smoothest voicing\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" lastNote \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// last voiced note (top note)\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// calculates the distance between the last note and the given voicings top note\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token function-variable function\",children:\"diff\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"abs\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lastNote\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"root\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// sort voicings by lowest top note difference\"}),`\n    intervals `,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicings\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"sort\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"a\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" b\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"diff\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"a\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"diff\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"b\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// transpose to root\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notes \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"root\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" bass \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"notes\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"event\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" note \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})})}),`\n`,(0,a.jsx)(e.p,{children:\"Now, a 251 sounds like this:\"}),`\n`,(0,a.jsx)(Qn,{fold:!1,instruments:{tinypiano:Jn},events:cr({duration:8,sequential:[[\"Dm7\",\"G7\"],\"C^7\"]}).reduce(wo(Ip),[])}),`\n`,(0,a.jsx)(e.p,{children:\"Ahhh.. yeahhh, niccce. Let's try a tune that only uses 251s but goes through different tonal centers, like joy spring:\"}),`\n`,(0,a.jsx)(Qn,{fold:!1,instruments:{tinypiano:Jn},events:cr({duration:64,sequential:[[\"F^7\",[\"Gm7\",\"C7\"],\"F^7\",[\"Bbm7\",\"Eb7\"]],[[\"Am7\",\"Ab7\"],[\"Gm7\",\"C7\"],\"F^7\",[\"Abm7\",\"Db7\"]],[\"Gb^7\",[\"Abm7\",\"Db7\"],\"Gb^7\",[\"Bm7\",\"E7\"]],[[\"Bbm7\",\"A7\"],[\"Abm7\",\"Db7\"],\"Gb^7\",[\"Am7\",\"D7\"]],[\"G^7\",[\"Gm7\",\"C7\"],\"F^7\",[\"Fm7\",\"Bb7\"]],[\"Eb^7\",[\"Abm7\",\"Db7\"],\"Gb^7\",[\"Gm7\",\"C7\"]],[\"F^7\",[\"Gm7\",\"C7\"],\"F^7\",[\"Bbm7\",\"Eb7\"]],[[\"Am7\",\"Ab7\"],[\"Gm7\",\"C7\"],\"F^7\",[\"Gm7\",\"C7\"]]]}).reduce(wo(Ip),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"64\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Abm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Abm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'E7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'A7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Abm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Abm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Ab7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingDictionaryReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(\"br\",{}),`\n`,(0,a.jsxs)(e.h3,{id:\"observations\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#observations\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Observations\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Apart from the fact that this still sounds robotic due to the lame rhythm and non existing articulation, we can observe:\"}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:\"the basic voice leading works good\"}),`\n`,(0,a.jsx)(e.li,{children:\"sometimes, it still jumps after getting too low\"}),`\n`,(0,a.jsx)(e.li,{children:\"this is (partly) good, as voicings that are too low sound muddy\"}),`\n`,(0,a.jsx)(e.li,{children:\"for many tunes (like joy spring), it is inevitable that the tightest possible voice leading is going out of range at some point\"}),`\n`,(0,a.jsx)(e.li,{children:\"so at some point, a non optimal voice leading has to be chosen to get back to the sugar range\"}),`\n`]}),`\n`,(0,a.jsxs)(e.h3,{id:\"range-considerations\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#range-considerations\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Range Considerations\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Let's review, how we are transposing the intervals to get the notes:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-ts\",children:(0,a.jsxs)(e.code,{className:\"language-ts\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" root \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" tonic \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notes \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"root\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"This will give us a lowest possible root of C3 and a highest of B3.\"}),`\n`,(0,a.jsx)(e.p,{children:\"If we use the following intervals:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" lefthand \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  m7`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3m 5P 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2M 2M 3m 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10m 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token number\",children:\"7\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 6M 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2M 2M 3M 6M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10M 13M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'^7'\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 5P 7M 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2m 2M 3M 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7M 9M 10M 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"... we have a minimum transposition of -2M and a maximum of 13M. Applying those to our min and max roots we get a note range of:\"}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:\"lowest note: C3 - 2M = Bb2\"}),`\n`,(0,a.jsx)(e.li,{children:\"highest note: B3 + 13M = G#4\"}),`\n`]}),`\n`,(0,a.jsx)(e.p,{children:\"To test some range edge cases, I want to create an example where the voicings get really low. As the first voicing will always use the first interval set:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"events\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// first chord =\u003e just use first voicing\"}),`\n  intervals `,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicings\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"...which is:\"}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:\"'3m 5P 7m 9M' for m7\"}),`\n`,(0,a.jsx)(e.li,{children:\"'3M 6M 7m 9M' for 7\"}),`\n`,(0,a.jsx)(e.li,{children:\"'3M 5P 7M 9M' for ^7\"}),`\n`]}),`\n`,(0,a.jsx)(e.p,{children:\"... we will not even use the min or max intervals. If we want to reach them, we have to construct chords so that their smoothest voice leading will go down:\"}),`\n`,(0,a.jsx)(Qn,{fold:!1,instruments:{tinypiano:Jn},events:cr({duration:6,sequential:[\"Cm7\",\"Em7\",\"Dm7\",{value:\"Cm7\",duration:2},\"Bm7\"]}).reduce(wo(Ip),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"6\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Em7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" duration\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingDictionaryReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(e.p,{children:\"Now we reach the lowest possible note (Bb2) on the second Cm7 (the long one). This is kind of low, but still more or less acceptable. What's less acceptable, is the last chord:\"}),`\n`,(0,a.jsx)(e.p,{children:\"I've set up the Bm7 to create a disjoint after the low Cm7. It may not sound unpleasant but for the goal of smooth voice leading, the Bm7 goes higher than it should.\"}),`\n`,(0,a.jsx)(e.p,{children:\"If we add another, even lower octave to our m7 voicings:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-ts\",children:(0,a.jsxs)(e.code,{className:\"language-ts\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\nm7`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3m 5P 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-6M -4P -2M 2M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'-2M 2M 3m 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10m 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"/* */\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"... we get this:\"}),`\n`,(0,a.jsx)(Qn,{fold:!1,instruments:{tinypiano:Jn},events:cr({duration:6,sequential:[\"Cm7\",\"Em7\",\"Dm7\",{value:\"Cm7\",duration:2},\"Bm7\"]}).reduce(wo({m7:[\"3m 5P 7m 9M\",\"-6M -4P -2M 2M\",\"-2M 2M 3m 5P\",\"7m 9M 10m 12P\"],\"7\":[\"3M 6M 7m 9M\",\"-6m -3m -2M 2M\",\"-2M 2M 3M 6M\",\"7m 9M 10M 13M\"],\"^7\":[\"3M 5P 7M 9M\",\"-2m 2M 3M 5P\",\"7M 9M 10M 12P\"]}),[])}),`\n`,(0,a.jsx)(e.p,{children:'Now, the Bm7 does not \"overshoot\" and leads much smoother to the higher Cm7. Ok fine, so should we just use that addition?'}),`\n`,(0,a.jsx)(e.p,{children:\"Before we do that, let's modify the example slightly, spinning an extra round to get even lower:\"}),`\n`,(0,a.jsx)(Qn,{fold:!1,instruments:{tinypiano:Jn},events:cr({duration:12,sequential:[\"Cm7\",\"Em7\",\"Db^7\",\"Cm7\",\"Em7\",\"Dm7\",{value:\"Cm7\",duration:2},\"Bm7\"]}).reduce(wo({m7:[\"3m 5P 7m 9M\",\"-6M -4P -2M 2M\",\"-2M 2M 3m 5P\",\"7m 9M 10m 12P\"],\"7\":[\"3M 6M 7m 9M\",\"-6m -3m -2M 2M\",\"-2M 2M 3M 6M\",\"7m 9M 10M 13M\"],\"^7\":[\"3M 5P 7M 9M\",\"-2m 2M 3M 5P\",\"7M 9M 10M 12P\"]}),[])}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Em7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Db^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Em7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" duration\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"Here, we are getting much too low on the longer Cm7...\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"the-dilemma\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-dilemma\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"The dilemma\"]}),`\n`,(0,a.jsx)(e.p,{children:`So now we have the classic coding dilemma: We had a problem (Bm7 did not go low enough), came up with a fix that solved it (add lower voicing), but we created another problem (other voicings are now too low)...\nThis often happens when we are using a wrong abstraction, in this case, using root transposition to create voicings.`}),`\n`,(0,a.jsx)(e.p,{children:`The essential problem: We end up having different ranges for different roots. Also, we have no direct control over the range of the voicings.\nAdditionally, it does not feel right for a voicing appear twice in the dictionary, only differing in octave.`}),`\n`,(0,a.jsxs)(e.h3,{id:\"what-makes-a-voicing-unpleasant\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#what-makes-a-voicing-unpleasant\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"What makes a voicing unpleasant\"]}),`\n`,(0,a.jsx)(e.p,{children:\"When a voicing gets too low, some intervals at the bottom end are getting so close together that their overtones create nasty dissonances, as they get more and more audible.\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"solution\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#solution\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Solution\"]}),`\n`,(0,a.jsx)(e.p,{children:\"It would be great to control the range directly, not indirectly through the dictionary. Let's remove the clutter from our dictionary:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" lefthand \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  m7`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3m 5P 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10m 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token number\",children:\"7\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 6M 7m 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7m 9M 10M 13M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'^7'\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 5P 7M 9M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'7M 9M 10M 12P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"Now I want to find a way to get all possible voicings inside a given note range. Lets use:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'G2'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,a.jsxs)(e.p,{children:[\"like proposed \",(0,a.jsx)(e.a,{href:\"https://youtu.be/5uoD6LfaDoE?t=523\",children:\"here\"}),\".\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Now we want this:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" possibleVoicings \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingsInRange\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'G2'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:`/* [\n  ['Eb3','G3','Bb3','D4'],\n  ['Bb2','D3','Eb3','G3'],\n  ['Bb3','D4','Eb4','G4'],\n]*/`}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:\"Now those 3 voicings are all possible Cm7 voicings inside the given range, using the provided dictionary.\"}),`\n`,(0,a.jsx)(Qn,{fold:!1,instruments:{tinypiano:Jn},events:cr({duration:4,sequential:[{parallel:[\"Bb2\",\"D3\",\"Eb3\",\"G3\"]},{parallel:[\"Eb3\",\"G3\",\"Bb3\",\"D4\"]},{parallel:[\"Bb3\",\"D4\",\"Eb4\",\"G4\"],duration:2}]})}),`\n`,(0,a.jsxs)(e.h3,{id:\"proper-range-implementation\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#proper-range-implementation\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Proper Range Implementation\"]}),`\n`,(0,a.jsx)(e.p,{children:\"After some back and forth, I ended up implementing the method like this:\"}),`\n`,(0,a.jsx)(\"div\",{style:{maxHeight:\"400px\",overflow:\"auto\",borderRadius:\"10px\",marginBottom:\"10px\"},children:(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,a.jsxs)(e.span,{className:\"token imports\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Range\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Interval\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'@tonaljs/tonal'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n\n`,(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingsInRange\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsxs)(e.span,{className:\"token parameter\",children:[\"chord\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" range\"]}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tonic\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" aliases \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"chord\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// find equivalent symbol that is used as a key in dictionary:\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" symbol \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token known-class-name class-name\",children:\"Object\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"keys\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"find\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"_symbol\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" aliases\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"includes\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"_symbol\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// resolve array of interval arrays for the wanted symbol\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" voicings \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" dictionary\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"symbol\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"intervals\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" intervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"split\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"' '\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notesInRange \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Range\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chromatic\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// gives array of notes inside range\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" voicings\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsxs)(e.span,{className:\"token parameter\",children:[\"voiced\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\"]}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// transpose intervals relative to first interval (e.g. 3m 5P \u003e 1P 3M)\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" relativeIntervals \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"substract\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// interval from bottom to top note\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" voicingSpan \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// get enharmonic correct pitch class the bottom note\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" bottomPitchClass \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"tonic\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// get all possible start notes for voicing\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" starts \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` notesInRange\n      `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// only get the start notes:\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"filter\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chroma\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chroma\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"bottomPitchClass\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// filter out start notes that will overshoot the top end of the range\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"filter\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicingSpan\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// replace Range.chromatic notes with the correct enharmonic equivalents\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"enharmonicEquivalent\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" bottomPitchClass\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// render one voicing for each start note\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notes \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" starts\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"start\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"start\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" voiced\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"notes\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"using \",(0,a.jsx)(e.a,{href:\"https://github.com/tonaljs/tonal/tree/master/packages/range\",children:\"Range.chromatic\"}),\" to create the range + a custom enharmonicEquivalent function to get the accidentals right.\"]}),`\n`,(0,a.jsxs)(e.h4,{id:\"enharmonic-considerations\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#enharmonic-considerations\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Enharmonic Considerations\"]}),`\n`,(0,a.jsx)(e.p,{children:\"One tricky part of the implementation above was the enharmonicEquivalent method.\"}),`\n`,(0,a.jsx)(e.p,{children:\"To understand the problem, let's try to create an edge case, by rendering the chord Fm7b5 with a specific voicing:\"}),`\n`,(0,a.jsx)(\"div\",{style:{maxHeight:\"400px\",overflow:\"auto\",borderRadius:\"10px\",marginBottom:\"10px\"},children:(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" tonic \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" voicing \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'5d 7m 8P 10m'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" range \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'A2'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notesInRange \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Range\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chromatic\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['A2','Bb2','B2','C3','Db3','D3','Eb3','E3','F3','Gb3','G3','Ab3','A3','Bb3','B3','C4']\"}),`\nvoicing `,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"split\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"' '\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['5d', '7m', '8P', '10m']\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// map intervals relative to start\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" relativeIntervals \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"substract\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['1P', '3M', '4A', '6M']\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// interval from bottom to top note:\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" voicingSpan \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// 6M\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// find out the bottom pitch class\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" bottomPitchClass \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"tonic\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicing\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// F + 5d = Cb\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// filter the range\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" starts \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` notesInRange\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// .. only keep notes that are enharmonically equivalent to Cb\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"filter\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chroma\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chroma\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"bottomPitchClass\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['B2','B3']\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// .. only keep notes that stay within range when added the voicingSpan\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"filter\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" voicingSpan\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"range\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['B2']\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// .map(note =\u003e enharmonicEquivalent(note, bottomPitchClass)) // intentionally left out\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// render one voicing for each start note\"}),`\n`,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" notes \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" starts\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"start\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" relativeIntervals\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token parameter\",children:\"interval\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"transpose\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"start\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" interval\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// ['1P', '3M', '4A', '6M'].map((interval) =\u003e Note.transpose('B2', interval))\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// yields ['B2','D#3','E#3', 'G#3']\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// but we want ['Cb3','Eb3','F3','Ab3']\"}),`\n`]})})}),`\n`,(0,a.jsx)(e.p,{children:\"So the last piece of the puzzle is a function that turns the B2 to a Cb3 before calculating the notes.\"}),`\n`,(0,a.jsx)(e.p,{children:\"My first attempt at this was just swapping the octave number:\"}),`\n`,(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"enharmonicEquivalent\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsxs)(e.span,{className:\"token parameter\",children:[\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" pitchClass\"]}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" oct \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" pitchClass \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" oct\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('F2', 'E#') =\u003e E#2 =\u003e fine\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('B2', 'Cb') =\u003e Cb2 =\u003e not fine =\u003e 1 octave too low\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('C2', 'B#') =\u003e B#2 =\u003e not fine =\u003e 1 octave too high\"}),`\n`]})}),`\n`,(0,a.jsx)(e.p,{children:`But for cases where the enharmonic equivalents have a different octave number, this results in octave shifts.\nI finally implemented it like this:`}),`\n`,(0,a.jsx)(e.pre,{className:\"language-ts\",children:(0,a.jsxs)(e.code,{className:\"language-ts\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,a.jsx)(e.span,{className:\"token function\",children:\"enharmonicEquivalent\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" pitchClass\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token builtin\",children:\"string\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" alt\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" letter \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"pitchClass\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" oct \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token keyword\",children:\"get\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"note\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" letterChroma \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"chroma\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"letter\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" alt\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"letterChroma \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"11\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    oct`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"--\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"else\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"letterChroma \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    oct`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"++\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" pitchClass \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" oct\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('F2', 'E#') =\u003e E#2 =\u003e fine\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('B2', 'Cb') =\u003e Cb3 =\u003e fine\"}),`\n`,(0,a.jsx)(e.span,{className:\"token comment\",children:\"// enharmonicEquivalent('C2', 'B#') =\u003e B#1 =\u003e fine\"}),`\n`]})}),`\n`,(0,a.jsxs)(e.h3,{id:\"conclusion\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#conclusion\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),`\n`,(0,a.jsx)(e.p,{children:'Finally the \"problematic\" chord progression sounds like this:'}),`\n`,(0,a.jsx)(Qn,{fold:!1,instruments:{tinypiano:Jn,drums:Mf},events:cr({duration:12,sequential:[\"Cm7\",\"Em7\",\"Dm7\",\"Cm7\",\"Em7\",\"Dm7\",{value:\"Cm7\",duration:2},{value:\"Bm7\",duration:2}]}).reduce(Qu(No,[\"C3\",\"C6\"]),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" drums \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"12\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Em7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Em7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" duration\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" value\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" duration\",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C6'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(\"br\",{}),`\n`,(0,a.jsx)(e.p,{children:\"Now this seems to work perfectly, the only jump remains at the repetition, which could be fixed by regenerating the voicing each round, which I will implement in the future.\"}),`\n`,(0,a.jsx)(e.p,{children:\"Now to close the gap, here's the basic cadence again, this time generated algorithmically:\"}),`\n`,(0,a.jsx)(Qn,{fold:!0,instruments:{tinypiano:Jn},events:cr({duration:4,sequential:[[\"F\",\"G\"],\"C\"]}).reduce(Qu({M:[\"1P 3M 5P\",\"3M 5P 8P\",\"5P 8P 10M\"]},[\"C3\",\"A4\"]),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"4\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n        `,(0,a.jsx)(e.span,{className:\"token constant\",children:\"M\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'1P 3M 5P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'3M 5P 8P'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'5P 8P 10M'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(e.p,{children:\"Let's try some autumn leaves (with more voicings added to the dictionary):\"}),`\n`,(0,a.jsx)(Qn,{instruments:{piano:Jn},fold:!1,events:cr({duration:64,sequential:[[\"Cm7\",\"F7\",\"Bb^7\",\"Eb^7\"],[\"Am7b5\",\"D7b13\",\"Gm6\",\"_\"],[\"Cm7\",\"F7\",\"Bb^7\",\"Eb^7\"],[\"Am7b5\",\"D7b13\",\"Gm6\",\"_\"],[\"Am7b5\",\"D7b13\",\"Gm6\",\"_\"],[\"Cm7\",\"F7\",\"Bb^7\",\"Eb^7\"],[\"Am7b5\",\"D7b13\",[\"Gm7\",\"Gb7\"],[\"Fm7\",\"E7\"]],[\"Am7b5\",\"D7b13\",\"Gm6\",\"_\"]]}).reduce(Fp(),[]).reduce(Qu(No,[\"D3\",\"E5\"]),[])}),`\n`,(0,a.jsxs)(\"details\",{children:[(0,a.jsx)(\"summary\",{children:\"show source\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"language-js\",children:[(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" piano \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"64\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm6'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm6'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm6'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'F7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Bb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gb7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'E7'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'Am7b5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'D7b13'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'Gm6'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"tieReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token function\",children:\"voicingReducer\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lefthand\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'G5'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,a.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,a.jsx)(\"br\",{}),`\n`,(0,a.jsxs)(e.h2,{id:\"tbd\",children:[(0,a.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#tbd\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"TBD\"]}),`\n`,(0,a.jsxs)(e.ul,{children:[`\n`,(0,a.jsx)(e.li,{children:\"error handling !\"}),`\n`,(0,a.jsx)(e.li,{children:\"remove hard coded bass from voicingReducer =\u003e add bassReducer\"}),`\n`,(0,a.jsx)(e.li,{children:\"add filterReducer + combineReducers =\u003e apply voicing reducer only to chords\"}),`\n`,(0,a.jsx)(e.li,{children:\"add duplicateReducer (removes duplicate events) =\u003e remove notes that are covered by melody\"}),`\n`,(0,a.jsx)(e.li,{children:\"add rangeReducer (remove notes outside a certain range) =\u003e remove notes above melody\"}),`\n`]})]});return r?(0,a.jsx)(r,Object.assign({},n,{children:s})):s}var mhe=fhe;return vhe;})();\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n/**\n * A better abstraction over CSS.\n *\n * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n * @website https://github.com/cssinjs/jss\n * @license MIT\n */\n/**\n * Tone.js\n * @author Yotam Mann\n * @license http://opensource.org/licenses/MIT MIT License\n * @copyright 2014-2019 Yotam Mann\n */\n/** @license Material-UI v4.11.2\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/** @license Material-UI v4.11.4\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/** @license Material-UI v4.12.1\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/** @license React v17.0.2\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n;return Component.default;"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"rhythmical-chords"},"buildId":"G3PuGP-3UQ_TjRSvK8pry","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>