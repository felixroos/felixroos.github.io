<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Loophole Letters</title><meta content="This is where felixroos writes about music and coding and stuff that he finds interesting." name="description"/><meta property="og:url" content="https://felixroos.github.io/analog-synthesis"/><link rel="canonical" href="https://felixroos.github.io/analog-synthesis"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"/><meta property="og:type" content="website"/><meta property="og:site_name" content="Loophole Letters"/><meta property="og:description" content="This is where felixroos writes about music and coding and stuff that he finds interesting."/><meta property="og:title" content="Loophole Letters"/><meta property="og:image" content="https://felixroos.github.io/images/site-preview.png"/><meta name="next-head-count" content="12"/><link rel="preload" href="/_next/static/css/f8a3c5eefbf570a0a2cd.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8a3c5eefbf570a0a2cd.css" data-n-g=""/><link rel="preload" href="/_next/static/css/c5f7f21f8a36ff298cce.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c5f7f21f8a36ff298cce.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-ddd010a953737b6e3536.js" defer=""></script><script src="/_next/static/chunks/framework-895f067827ebe11ffe45.js" defer=""></script><script src="/_next/static/chunks/main-222191e14496d29481e0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-91d8f98e791f05bf3a8d.js" defer=""></script><script src="/_next/static/chunks/732-bb8832fe0913704ead3e.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-363d85701650cd2e565b.js" defer=""></script><script src="/_next/static/vEH9g2d-Cu2NrEISP3t7v/_buildManifest.js" defer=""></script><script src="/_next/static/vEH9g2d-Cu2NrEISP3t7v/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="z-[1999] sticky top-0 bg-slate-900 font-semibold p-2 text-white flex justify-center shadow-xl border-b border-gray-500"><div class="max-w-3xl w-full text-right p-2"><h1 class="text-3xl"><a href="/">âˆž loophole letters</a> </h1></div></header><div class="flex justify-center min-h-full  py-4"> <main class="max-w-3xl p-2"><article class="bg-white prose font-serif max-w-none prose-headings:font-sans prose-headings:font-black prose-headings:text-slate-900"><div class="border-b-4 border-dotted pb-2 border-slate-900 mb-4"><div class="md:flex justify-between"><h1 class="mb-4 ">A Macro View on Analog Synthesis</h1><div class="flex space-x-2 items-start pb-4 md:pb-0"><div class="text-sm border bg-slate-200 rounded-md p-2 font-serif">diy</div><div class="text-sm border bg-slate-200 rounded-md p-2 font-serif">electronics</div><div class="text-sm border bg-slate-200 rounded-md p-2 font-serif">synthesis</div></div></div><p class="italic p-0 m-0">May 14, 2021</p></div><div><p>Lately, I&#x27;ve been learning about analog synthesis.
In this post, I want to document what I&#x27;ve learned so far and how I approached the topic.
Disclaimer: I am not an expert.</p>
<h2 id="analog--digital-synthesis"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#analog--digital-synthesis"><span class="icon icon-link"></span></a>Analog &amp; Digital Synthesis</h2>
<p><img src="./img/analog-synthesis/analogcircuit.gif" alt="analog circuit"/></p>
<p>In a nutshell, analog synthesis produces sound by directly manipulating voltages in electrical circuits.
In digital synthesis, buffered sound data is calculated from code and then passed to an audio interface that transforms it into voltage.</p>
<p>Generally, analog synthesis is much simpler in its infrastructure.
The higher complexity of digital synthesis allows much more fine grained control,
whereas analog synthesis can sometimes behave in unexpected ways.</p>
<p>I am not going into the debate of which is &quot;better&quot; here, as both ways have their right to exist.</p>
<h2 id="from-voltage-to-sound--"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#from-voltage-to-sound--"><span class="icon icon-link"></span></a>From Voltage to Sound ðŸ”Œ ðŸ”Š</h2>
<p>In both analog and digital synthesis, we have a voltage at the end, which is fed to the sound system (amplifier + speaker).</p>
<div style="display:flex"><div style="width:300px"><p>When the voltage does a sine wave,</p><svg width="300" height="100"><g><path d="M269.000001,58.55786742317792L268.000001,62.043310495653806L267.000001,65.38537207766848L266.000001,68.5160174331217L265.000001,71.37151565061231L264.000001,73.89373702100893L263.000001,76.03133639069615L262.000001,77.74079840083459L261.000001,78.98732333457932L260.000001,79.74553553896028L259.000001,79.99999999999974L258.000001,79.74553655508585L257.000001,78.98732534614506L256.000001,77.7408013668908L255.000001,76.03134025086248L254.000001,73.89374169670357L253.000001,71.37152104665164L252.000001,68.51602343965781L251.000001,65.38537857242565L250.000001,62.04331734641754L249.000001,58.5578744904864L248.000001,55.00000356999156L247.000001,51.442132576822175L246.000001,47.956689504346194L245.000001,44.61462792233152L244.000001,41.483982566878296L243.000001,38.628484349387634L242.000001,36.10626297899107L241.000001,33.96866360930386L240.000001,32.25920159916541L239.000001,31.012676665420656L238.000001,30.254464461039717L237.000001,30.000000000000256L236.000001,30.254463444914144L235.000001,31.01267465385496L234.000001,32.25919863310915L233.000001,33.9686597491375L232.000001,36.10625830329636L231.000001,38.62847895334842L230.000001,41.48397656034219L229.000001,44.614621427574335L228.000001,47.95668265358247L227.000001,51.442125509513595L226.000001,54.99999643000843L225.000001,58.557867423177825L224.000001,62.0433104956538L223.000001,65.3853720776684L222.000001,68.51601743312177L221.000001,71.3715156506123L220.000001,73.89373702100893L219.000001,76.03133639069608L218.000001,77.74079840083462L217.000001,78.98732333457934L216.000001,79.74553553896028L215.000001,79.99999999999974L214.000001,79.74553655508585L213.000001,78.98732534614504L212.000001,77.74080136689085L211.000001,76.0313402508625L210.000001,73.89374169670364L209.000001,71.37152104665158L208.000001,68.51602343965789L207.000001,65.38537857242567L206.000001,62.04331734641762L205.000001,58.55787449048631L204.000001,55.00000356999157L203.000001,51.44213257682219L202.000001,47.9566895043462L201.000001,44.61462792233152L200.000001,41.483982566878225L199.000001,38.62848434938771L198.000001,36.10626297899107L197.000001,33.96866360930387L196.000001,32.25920159916537L195.000001,31.012676665420685L194.000001,30.254464461039717L193.000001,30.000000000000256L192.000001,30.254463444914155L191.000001,31.01267465385493L190.000001,32.25919863310915L189.000001,33.968659749137494L188.000001,36.106258303296414L187.000001,38.62847895334842L186.000001,41.48397656034211L185.000001,44.614621427574335L184.000001,47.95668265358246L183.000001,51.44212550951368L182.000001,54.99999643000834L181.000001,58.55786742317781L180.000001,62.04331049565379L179.000001,65.38537207766848L178.000001,68.5160174331217L177.000001,71.3715156506123L176.000001,73.89373702100899L175.000001,76.03133639069613L174.000001,77.74079840083463L173.000001,78.98732333457932L172.000001,79.74553553896028L171.000001,79.99999999999974L170.000001,79.74553655508585L169.000001,78.98732534614507L168.000001,77.74080136689084L167.000001,76.0313402508625L166.000001,73.8937416967036L165.000001,71.37152104665165L164.000001,68.5160234396579L163.000001,65.38537857242567L162.000001,62.043317346417545L161.000001,58.55787449048637L160.000001,55.00000356999166L159.000001,51.44213257682219L158.000001,47.95668950434621L157.000001,44.614627922331564L156.000001,41.48398256687823L155.000001,38.628484349387676L154.000001,36.106262978991076L153.000001,33.96866360930387L152.000001,32.259201599165394L151.000001,31.012676665420674L150.000001,30.254464461039717L149.000001,30.000000000000256L148.000001,30.25446344491415L147.000001,31.01267465385494L146.000001,32.25919863310914L145.000001,33.968659749137494L144.000001,36.10625830329638L143.000001,38.628478953348385L142.000001,41.48397656034214L141.000001,44.61462142757437L140.000001,47.956682653582455L139.000001,51.44212550951367L138.000001,54.99999643000837L137.000001,58.55786742317781L136.000001,62.043310495653785L135.000001,65.38537207766842L134.000001,68.51601743312173L133.000001,71.37151565061228L132.000001,73.89373702100892L131.000001,76.0313363906961L130.000001,77.74079840083462L129.000001,78.98732333457932L128.000001,79.74553553896028L127.000001,79.99999999999974L126.000001,79.74553655508585L125.000001,78.98732534614507L124.000001,77.74080136689084L123.000001,76.0313402508625L122.000001,73.8937416967036L121.000001,71.37152104665162L120.000001,68.51602343965786L119.000001,65.38537857242568L118.000001,62.04331734641759L117.000001,58.55787449048637L116.000001,55.00000356999167L115.000001,51.44213257682219L114.000001,47.956689504346215L113.000001,44.614627922331536L112.000001,41.48398256687827L111.000001,38.62848434938768L110.000001,36.10626297899108L109.000001,33.968663609303874L108.000001,32.259201599165394L107.000001,31.012676665420674L106.000001,30.254464461039717L105.000001,30.000000000000256L104.000001,30.254463444914155L103.000001,31.01267465385494L102.000001,32.25919863310915L101.000001,33.96865974913749L100.000001,36.10625830329639L99.000001,38.62847895334838L98.000001,41.483976560342114L97.000001,44.61462142757435L96.000001,47.95668265358245L95.000001,51.44212550951365L94.000001,54.999996430008366L93.000001,58.557867423177825L92.000001,62.043310495653785L91.000001,65.38537207766842L90.000001,68.51601743312172L89.000001,71.37151565061231L88.000001,73.89373702100892L87.000001,76.03133639069611L86.000001,77.7407984008346L85.000001,78.98732333457932L84.000001,79.74553553896028L83.000001,79.99999999999974L82.000001,79.74553655508585L81.000001,78.98732534614507L80.000001,77.74080136689085L79.000001,76.03134025086251L78.000001,73.8937416967036L77.000001,71.37152104665162L76.000001,68.51602343965789L75.000001,65.38537857242568L74.000001,62.04331734641757L73.000001,58.55787449048637L72.000001,55.00000356999165L71.000001,51.442132576822175L70.000001,47.95668950434622L69.000001,44.614627922331564L68.000001,41.48398256687828L67.000001,38.628484349387705L66.000001,36.10626297899108L65.000001,33.96866360930388L64.000001,32.259201599165394L63.000001,31.012676665420685L62.000001,30.254464461039717L61.000001,30.000000000000256L60.000001,30.254463444914155L59.000001,31.01267465385494L58.000001,32.25919863310915L57.000001,33.96865974913749L56.000001,36.10625830329639L55.000001,38.62847895334838L54.000001,41.48397656034212L53.000001,44.61462142757433L52.000001,47.95668265358243L51.000001,51.44212550951363L50.000001,54.99999643000836" stroke="green" stroke-width="1" fill="none"></path></g></svg></div><div style="width:300px"><p> the membrane will move like this:</p><svg width="300" height="100"><g><path d="M269.000001,55L268.000001,55L267.000001,55L266.000001,55L265.000001,55L264.000001,55L263.000001,55L262.000001,55L261.000001,55L260.000001,55L259.000001,55L258.000001,55L257.000001,55L256.000001,55L255.000001,55L254.000001,55L253.000001,55L252.000001,55L251.000001,55L250.000001,55L249.000001,55L248.000001,55L247.000001,55L246.000001,55L245.000001,55L244.000001,55L243.000001,55L242.000001,55L241.000001,55L240.000001,55L239.000001,55L238.000001,55L237.000001,55L236.000001,55L235.000001,55L234.000001,55L233.000001,55L232.000001,55L231.000001,55L230.000001,55L229.000001,55L228.000001,55L227.000001,55L226.000001,55L225.000001,55L224.000001,55L223.000001,55L222.000001,55L221.000001,55L220.000001,55L219.000001,55L218.000001,55L217.000001,55L216.000001,55L215.000001,55L214.000001,55L213.000001,55L212.000001,55L211.000001,55L210.000001,55L209.000001,55L208.000001,55L207.000001,55L206.000001,55L205.000001,55L204.000001,55L203.000001,55L202.000001,55L201.000001,55L200.000001,55L199.000001,55L198.000001,55L197.000001,55L196.000001,55L195.000001,55L194.000001,55L193.000001,55L192.000001,55L191.000001,55L190.000001,55L189.000001,55L188.000001,55L187.000001,55L186.000001,55L185.000001,55L184.000001,55L183.000001,55L182.000001,55L181.000001,55L180.000001,55L179.000001,55L178.000001,55L177.000001,55L176.000001,55L175.000001,55L174.000001,55L173.000001,55L172.000001,55L171.000001,55L170.000001,55L169.000001,55L168.000001,55L167.000001,55L166.000001,55L165.000001,55L164.000001,55L163.000001,55L162.000001,55L161.000001,55L160.000001,55L159.000001,55L158.000001,55L157.000001,55L156.000001,55L155.000001,55L154.000001,55L153.000001,55L152.000001,55L151.000001,55L150.000001,55L149.000001,55L148.000001,55L147.000001,55L146.000001,55L145.000001,55L144.000001,55L143.000001,55L142.000001,55L141.000001,55L140.000001,55L139.000001,55L138.000001,55L137.000001,55L136.000001,55L135.000001,55L134.000001,55L133.000001,55L132.000001,55L131.000001,55L130.000001,55L129.000001,55L128.000001,55L127.000001,55L126.000001,55L125.000001,55L124.000001,55L123.000001,55L122.000001,55L121.000001,55L120.000001,55L119.000001,55L118.000001,55L117.000001,55L116.000001,55L115.000001,55L114.000001,55L113.000001,55L112.000001,55L111.000001,55L110.000001,55L109.000001,55L108.000001,55L107.000001,55L106.000001,55L105.000001,55L104.000001,55L103.000001,55L102.000001,55L101.000001,55L100.000001,55L99.000001,55L98.000001,55L97.000001,55L96.000001,55L95.000001,55L94.000001,55L93.000001,55L92.000001,55L91.000001,55L90.000001,55L89.000001,55L88.000001,55L87.000001,55L86.000001,55L85.000001,55L84.000001,55L83.000001,55L82.000001,55L81.000001,55L80.000001,55L79.000001,55L78.000001,55L77.000001,55L76.000001,55L75.000001,55L74.000001,55L73.000001,55L72.000001,55L71.000001,55L70.000001,55L69.000001,55L68.000001,55L67.000001,55L66.000001,55L65.000001,55L64.000001,55L63.000001,55L62.000001,55L61.000001,55L60.000001,55L59.000001,55L58.000001,55L57.000001,55L56.000001,55L55.000001,55L54.000001,55L53.000001,55L52.000001,55L51.000001,55L50.000001,55" stroke="green" stroke-width="1" fill="none"></path></g></svg></div></div>
<p>... which will push and pull the air molecules around (now from left to right..):</p>
<img src="https://mk0waitbutwhy9c3hjku.kinstacdn.com/wp-content/uploads/2016/03/red-dot.gif"/>
<p>So, the displacement of the membrane in the speaker is directly affected by that incoming voltage level.
When the membrane moves, it pushes the air molecules back and forth, creating a sound wave that the human ear can detect.</p>
<p>If you want to read more on the basics of sound, I recommend <a target="_blank" href="https://waitbutwhy.com/2016/03/sound.html">this post by waitbutwhy</a>.</p>
<h2 id="building-blocks-of-analog-synthesis"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#building-blocks-of-analog-synthesis"><span class="icon icon-link"></span></a>Building Blocks of Analog Synthesis</h2>
<p>Now that we have the basic theory out of the way, let&#x27;s look at the most important building blocks of an analog synth.</p>
<h3 id="micromodules"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#micromodules"><span class="icon icon-link"></span></a>Micromodules</h3>
<p>As this post is a macro view on analog synthesis, I will not talk about how the electric circuits work in detail.
To start playing around with analog synthesis, I found the <a target="_blank" href="http://micromodular.pl/">micromodules from Syntaxis</a> (not sponsored ðŸ™‚).
They provide breadboard friendly components that can be linked together in multiple ways. With them, I could start to explore
how analog modules interact without needing to know the details about how to build the circuits.</p>
<h3 id="the-oscillator"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#the-oscillator"><span class="icon icon-link"></span></a>The Oscillator</h3>
<p>As a sound source, we need at least one oscillator. At the heart of an analog oscillator, an electric circuit is creating some kind of
periodic voltage wave. Commonly, the frequency of that wave can be controlled with voltage (CV = Control Voltage).
An oscillator that can be controlled with voltage is called a VCO (= Voltage Controlled Oscillator).</p>
<p>Let&#x27;s start with a simple circuit:</p>
<p><img src="./img/analog-synthesis/vco-simple.png" alt="vco-simple"/></p>
<table>
<thead>
<tr>
<th>color</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><div style="background-color:#CB2A1D;width:25px;height:25px;border-radius:50%"></div></td>
<td>+12V</td>
</tr>
<tr>
<td><div style="background-color:#3E89D5;width:25px;height:25px;border-radius:50%"></div></td>
<td>-12V</td>
</tr>
<tr>
<td><div style="background-color:#3C3C3C;width:25px;height:25px;border-radius:50%"></div></td>
<td>Ground (0V)</td>
</tr>
<tr>
<td><div style="background-color:#EC612A;width:25px;height:25px;border-radius:50%"></div></td>
<td>5V</td>
</tr>
<tr>
<td><div style="background-color:#FFF853;width:25px;height:25px;border-radius:50%"></div></td>
<td>Control Voltage (CV)</td>
</tr>
<tr>
<td><div style="background-color:#5CC63D;width:25px;height:25px;border-radius:50%"></div></td>
<td>Analog Audio Voltage</td>
</tr>
</tbody>
</table>
<p>We will use this color coding throughout the post. This is the (much more messy) circuit in real life:</p>
<p><img src="./img/analog-synthesis/vco-simple-real.png" alt="vco-simple-real"/></p>
<h4 id="parts"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#parts"><span class="icon icon-link"></span></a>Parts</h4>
<ul>
<li><a target="_blank" href="https://syntaxis.com.pl/en/micromodules/77-uvco-3340-a.html">uVCO-3340-A</a></li>
<li><a target="_blank" href="https://syntaxis.com.pl/en/micromodules/82-upsu-112-a.html">uPSU-112-A</a> with laptop charger</li>
<li>8ohm speaker</li>
<li>3 potentiometers to provide CV</li>
<li>breadboard + cables</li>
</ul>
<h4 id="power-connections"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#power-connections"><span class="icon icon-link"></span></a>Power Connections</h4>
<ul>
<li>The PSU (power suplly unit) provides -12V, GND (0V), +12 and 5V.</li>
<li>The VCO is connected to -12V, GND and 12V</li>
<li>The potentiometers are connected to GND and 5V, outputting a voltage between 0 and 5V.</li>
</ul>
<p>Similar power connections will be used throughout the post.</p>
<h4 id="control-voltage"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#control-voltage"><span class="icon icon-link"></span></a>Control Voltage</h4>
<p>The output of the pots is used as CV to change certain parameters of the VCO:</p>
<ul>
<li>The coarse pot is connected to the 1/2 V/Oct input, which means it can add 5V/0.5V = 10 octaves</li>
<li>The fine pot is connected to the 24V/Oct input, which means it can add 5V/24V = 0.2 octaves = 2.5 semitones</li>
<li>Let&#x27;s ignore the pulse width pot for now</li>
</ul>
<h4 id="adding-a-keyboard"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#adding-a-keyboard"><span class="icon icon-link"></span></a>Adding a Keyboard</h4>
<p>The circuit above is slightly boring, as controlling pitch with a potentiometer is not very useful when we want to play melodies.
To fix that, let&#x27;s remove all pots and add a keyboard that supports CV, like the Arturia Keystep:</p>
<p><img src="./img/analog-synthesis/vco-keystep-sketch.png" alt="vco-keystep real"/></p>
<p>In reality:</p>
<p><img src="./img/analog-synthesis/vco-keystep-real.png" alt="vco-keystep real"/></p>
<ul>
<li>The keystep has a pitch cv output, that I connected to the 1V/Oct input of the VCO, using a 3,5mm jack (which is also grounded)</li>
<li>I also replaced the cheap 8ohm speaker with a Bluetooth Speaker that has an AUX input.</li>
</ul>
<h4 id="ready-to-rave"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#ready-to-rave"><span class="icon icon-link"></span></a>Ready to Rave?</h4>
<p>Now we are finally ready to rave (loud):</p>
<audio class="react-audio-player " controls="" id="" preload="metadata" src="./audio/vco-rave.mp3" title="./audio/vco-rave.mp3"><p>Your browser does not support the <code>audio</code> element.</p></audio>
<p>If we look at the waveform, we can see the crisp sawwave:</p>
<p><img src="./img/analog-synthesis/sawrave.png" alt="sawrave"/></p>
<p>Here, we can clearly see the sawwave changing frequencies.
Also, we can make out slight wobbles in the amplitude, which is that dirty analog imperfection we want.</p>
<h3 id="the-filter"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#the-filter"><span class="icon icon-link"></span></a>The Filter</h3>
<p>If you listen to the sound above, the sawwave is really harsh, which might be tamed with a <a target="_blank" href="https://syntaxis.com.pl/en/micromodules/109-uvcf-2044-lp4-a.html">filter</a>:</p>
<p><img src="./img/analog-synthesis/vco-filtered-sketch.png" alt="vco-filtered"/></p>
<p>In reality (with slightly exaggerated cutoff pot):</p>
<p><img src="./img/analog-synthesis/vco-filtered-real.png" alt="vco-filtered real"/></p>
<h4 id="explanation"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#explanation"><span class="icon icon-link"></span></a>Explanation</h4>
<ul>
<li>Instead of going from the VCO saw output directly to the speaker, we route it into the filter input</li>
<li>The filter output is then plugged to the speaker</li>
<li>The potentiometer controls the cutoff frequency of the filter</li>
<li>A filter that can be controlled with voltage is called VCF (Voltage Controlled Filter)</li>
</ul>
<h4 id="now-the-rave-gets-better"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#now-the-rave-gets-better"><span class="icon icon-link"></span></a>Now the rave gets better</h4>
<audio class="react-audio-player " controls="" id="" preload="metadata" src="./audio/vco-rave-filter.mp3" title="./audio/vco-rave-filter.mp3"><p>Your browser does not support the <code>audio</code> element.</p></audio>
<p>In the beginning of the waveform, we can see the sawwave emerging from a more sinelike shape as the filter opens:</p>
<p><img src="./img/analog-synthesis/sawrave-filtered.png" alt="vco-sawrave filtered"/></p>
<h3 id="the-lfo"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#the-lfo"><span class="icon icon-link"></span></a>The LFO</h3>
<p>So far, I had to use my hand to manually turn the cutoff knob.
Using an LFO (= Low Frequency Oscillator), we can automate periodic CV changes:</p>
<p><img src="./img/analog-synthesis/vco-filter-lfo-sketch.png" alt="vco filter + lfo sketch"/></p>
<p>In the messy real life:</p>
<p><img src="./img/analog-synthesis/vco-filter-lfo.png" alt="vco filter + lfo"/></p>
<h4 id="explanation-1"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#explanation-1"><span class="icon icon-link"></span></a>Explanation</h4>
<ul>
<li>The LFOs triangle output is connected with the filter frequency input</li>
<li>The right pot is connected to another filter frequency input<!-- -->
<ul>
<li>Both frequency inputs will be summed by the filter</li>
</ul>
</li>
<li>A left pot controls the speed of the lfo</li>
</ul>
<h4 id="hands-free-raving"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#hands-free-raving"><span class="icon icon-link"></span></a>Hands free raving</h4>
<audio class="react-audio-player " controls="" id="" preload="metadata" src="./audio/vco-rave-filter-lfo.mp3" title="./audio/vco-rave-filter-lfo.mp3"><p>Your browser does not support the <code>audio</code> element.</p></audio>
<p>In the waveform, the periodic cutoff changes look like this:</p>
<p><img src="./img/analog-synthesis/sawrave-filter-lfo.png" alt="vco-sawrave filter + lfo"/></p>
<h3 id="the-attenuator"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#the-attenuator"><span class="icon icon-link"></span></a>The Attenuator</h3>
<p>So far, the LFO has a pretty big impact on our filter.
It would be nice if we could somehow control the amount of impact.. This is where the attenuator comes in.
Unlike the other modules, an attenuator is just a potentiometer with special wiring:</p>
<p><img src="./img/analog-synthesis/attenuator.png" alt="attenuator sketch"/></p>
<p>Instead of wiring 5V to the right pin, we use any signal that should be attenuated.
In our case, we can use the LFO triangle output.
Using the pot, we can then scale it down to minimize its impact:</p>
<p><img src="./img/analog-synthesis/vco-filter-lfo-attenuator-sketch.png" alt="vco-sawrave filter + lfo + attenuator sketch"/></p>
<p>The rats nest in real life:</p>
<p><img src="./img/analog-synthesis/vco-filter-lfo-attenuator-real.png" alt="vco-sawrave filter + lfo + attenuator real"/></p>
<p>Note that I also added an attenuator for pitch. You can view the attenuator like a modulation depth control for any parameter.</p>
<h4 id="lets-rave-again"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#lets-rave-again"><span class="icon icon-link"></span></a>Let&#x27;s rave again</h4>
<audio class="react-audio-player " controls="" id="" preload="metadata" src="./audio/vco-rave-filter-lfo-attenuator.mp3" title="./audio/vco-rave-filter-lfo-attenuator.mp3"><p>Your browser does not support the <code>audio</code> element.</p></audio>
<p>In the waveform, we can see the wobbles getting slightly more intense to the right:</p>
<p><img src="./img/analog-synthesis/sawrave-filter-lfo-attenuator.png" alt="vco-sawrave filter + lfo + attenuator"/></p>
<h4 id="time-for-a-melody"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#time-for-a-melody"><span class="icon icon-link"></span></a>Time for a Melody</h4>
<p>Using the pitch modulation attenuator, we can create a spacey melody ontop (layered with a DAW):</p>
<audio class="react-audio-player " controls="" id="" preload="metadata" src="./audio/vco-rave-filter-lfo-attenuator-melody.mp3" title="./audio/vco-rave-filter-lfo-attenuator-melody.mp3"><p>Your browser does not support the <code>audio</code> element.</p></audio>
<p>(The steady beeping came from my potentiometer bouncing out of the breadboard...)</p>
<h3 id="gate-signals-and-the-amplifier"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#gate-signals-and-the-amplifier"><span class="icon icon-link"></span></a>Gate Signals and the Amplifier</h3>
<p>In our little synth, the tone keeps going on and on and on, even if we release the key on the keyboard.
This is not really practical to make music with.. To control the volume / amplitude of a signal, we can use a VCA (= Voltage Controlled Amplifier).</p>
<p>When using a keyboard, we want the sound to start when the key is pressed and stop when it is released.
Therefore, a keyboard that includes CV will commonly also have a Gate output.
By convention, the gate signal will be low (0V) when no key is pressed and high (5V) when a key is pressed.</p>
<p>Back to the circuit: To keep it simple, let&#x27;s remove the lfo and the attenuators, and add the VCA + Gate:</p>
<p><img src="./img/analog-synthesis/vco-filter-vca.png" alt="vco, filter + vca sketch"/></p>
<p><img src="./img/analog-synthesis/vco-filter-vca-real.png" alt="vco, filter + vca real"/></p>
<p>Now we can release the key and the sound will stop.</p>
<audio class="react-audio-player " controls="" id="" preload="metadata" src="./audio/vco-rave-filter-vca-melody.mp3" title="./audio/vco-rave-filter-vca-melody.mp3"><p>Your browser does not support the <code>audio</code> element.</p></audio>
<h3 id="the-adsr-envelope"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#the-adsr-envelope"><span class="icon icon-link"></span></a>The ADSR Envelope</h3>
<p>Using the gate to control our amplifier sounds really hard and sometimes clicky.
For softer sounds, we might want to fade the in when the key is pressed and out when it is released.
This is where the ADSR envelope comes in. ADSR stands for:</p>
<ul>
<li>Attack: Time till the note reaches the max volume</li>
<li>Decay: Time till the note reaches the sustain level</li>
<li>Sustain: Final level for the sustained note</li>
<li>Release: Time till the note is silent after the key is released</li>
</ul>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/ADSR_parameter.svg/2880px-ADSR_parameter.svg.png" alt="ADSR"/></p>
<p><img src="./img/analog-synthesis/vco-filter-vca-envelope.png" alt="ADSR sketch"/></p>
<p><img src="./img/analog-synthesis/vco-filter-vca-adsr-real.png" alt="ADSR real"/></p>
<p>Now we can control the ADSR curve with the 4 pots on the bottom!
As we will see soon, we can also use attenuators to modulate parameters with an envelope.</p>
<audio class="react-audio-player " controls="" id="" preload="metadata" src="./audio/vco-rave-filter-vca-adsr-melody.mp3" title="./audio/vco-rave-filter-vca-adsr-melody.mp3"><p>Your browser does not support the <code>audio</code> element.</p></audio>
<p>In the waveform, we can see the slow decay:</p>
<p><img src="./img/analog-synthesis/sawrave-vco-filter-vca-adsr.png" alt="ADSR real"/></p>
<h3 id="putting-it-all-together"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#putting-it-all-together"><span class="icon icon-link"></span></a>Putting it all together</h3>
<p>After we examined the most important building blocks of a classic analog synthesizer, let&#x27;s combine all of them!</p>
<p>This sketch from the <a target="_blank" href="http://micromodular.pl/howto">micromodular how to site</a> shows how we can arrange all the parts to a fully functional monosynth:</p>
<p><img src="./img/analog-synthesis/bb_simplest_synthesizer.png" alt="full synth"/></p>
<p>Of course, I also built this thing:</p>
<p><img src="./img/analog-synthesis/whole-synth.png" alt="full synth real"/></p>
<h4 id="controls"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#controls"><span class="icon icon-link"></span></a>Controls</h4>
<ul>
<li>VCO<!-- -->
<ul>
<li>pitch coarse</li>
<li>pitch fine</li>
<li>pulse width (for square wave)</li>
<li>pitch mod ADSR attenuator</li>
<li>pitch mod LFO attenuator</li>
</ul>
</li>
<li>VCF<!-- -->
<ul>
<li>cutoff</li>
<li>resonance</li>
<li>cutoff mod ADSR attenuator</li>
<li>res mod LFO attenuator</li>
</ul>
</li>
<li>VCA<!-- -->
<ul>
<li>manual gain</li>
<li>volume attenuator</li>
<li>gain mod ADSR attenuator</li>
<li>gain mod LFO attenuator</li>
</ul>
</li>
<li>LFO<!-- -->
<ul>
<li>rate coarse</li>
<li>rate fine</li>
<li>pulse width</li>
</ul>
</li>
</ul>
<h3 id="final-thoughts"><a aria-hidden="true" tabindex="-1" href="/analog-synthesis#final-thoughts"><span class="icon icon-link"></span></a>Final Thoughts</h3>
<p>Those were the most essential building blocks of an analog synthesizer.
In a future posts, I might</p>
<ul>
<li>combine the synth with my DIY Keyboard Scanner</li>
<li>use a multi channel DAC to output polyphonic CV</li>
<li>build modules from scratch</li>
</ul></div></article></main></div><div class="py-4 font-serif bg-slate-400 flex justify-center items-center"><p class="leading-none"><a class="underline" href="https://github.com/felixroos">Felix Roos</a> <!-- -->2021</p></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"A Macro View on Analog Synthesis","date":"2021-05-14","tags":["diy","electronics","synthesis"],"description":"Lately, I've been learning about analog synthesis","image":"./img/vco.png"},"code":"var Component=(()=\u003e{var Qi=Object.create;var Ke=Object.defineProperty;var Zi=Object.getOwnPropertyDescriptor;var Ji=Object.getOwnPropertyNames;var eo=Object.getPrototypeOf,to=Object.prototype.hasOwnProperty;var vn=e=\u003eKe(e,\"__esModule\",{value:!0});var Z=(e,t)=\u003e()=\u003e(t||e((t={exports:{}}).exports,t),t.exports),no=(e,t)=\u003e{vn(e);for(var r in t)Ke(e,r,{get:t[r],enumerable:!0})},ro=(e,t,r)=\u003e{if(t\u0026\u0026typeof t==\"object\"||typeof t==\"function\")for(let n of Ji(t))!to.call(e,n)\u0026\u0026n!==\"default\"\u0026\u0026Ke(e,n,{get:()=\u003et[n],enumerable:!(r=Zi(t,n))||r.enumerable});return e},te=e=\u003ero(vn(Ke(e!=null?Qi(eo(e)):{},\"default\",e\u0026\u0026e.__esModule\u0026\u0026\"default\"in e?{get:()=\u003ee.default,enumerable:!0}:{value:e,enumerable:!0})),e);var wn=Z((fl,bn)=\u003e{bn.exports=_jsx_runtime});var ge=Z((dl,Mn)=\u003e{Mn.exports=React});var Te=Z(($e,En)=\u003e{(function(e,t){typeof $e==\"object\"\u0026\u0026typeof En!=\"undefined\"?t($e):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],t):(e=typeof globalThis!=\"undefined\"?globalThis:e||self,t(e.d3=e.d3||{}))})($e,function(e){\"use strict\";function t(o,u){return o\u003cu?-1:o\u003eu?1:o\u003e=u?0:NaN}function r(o){let u=o,c=o;o.length===1\u0026\u0026(u=(b,w)=\u003eo(b)-w,c=n(o));function h(b,w,E,C){for(E==null\u0026\u0026(E=0),C==null\u0026\u0026(C=b.length);E\u003cC;){let O=E+C\u003e\u003e\u003e1;c(b[O],w)\u003c0?E=O+1:C=O}return E}function f(b,w,E,C){for(E==null\u0026\u0026(E=0),C==null\u0026\u0026(C=b.length);E\u003cC;){let O=E+C\u003e\u003e\u003e1;c(b[O],w)\u003e0?C=O:E=O+1}return E}function m(b,w,E,C){E==null\u0026\u0026(E=0),C==null\u0026\u0026(C=b.length);let O=h(b,w,E,C-1);return O\u003eE\u0026\u0026u(b[O-1],w)\u003e-u(b[O],w)?O-1:O}return{left:h,center:m,right:f}}function n(o){return(u,c)=\u003et(o(u),c)}function i(o){return o===null?NaN:+o}function*a(o,u){if(u===void 0)for(let c of o)c!=null\u0026\u0026(c=+c)\u003e=c\u0026\u0026(yield c);else{let c=-1;for(let h of o)(h=u(h,++c,o))!=null\u0026\u0026(h=+h)\u003e=h\u0026\u0026(yield h)}}let s=r(t),d=s.right,p=s.left,y=r(i).center;function _(o,u){let c=0;if(u===void 0)for(let h of o)h!=null\u0026\u0026(h=+h)\u003e=h\u0026\u0026++c;else{let h=-1;for(let f of o)(f=u(f,++h,o))!=null\u0026\u0026(f=+f)\u003e=f\u0026\u0026++c}return c}function g(o){return o.length|0}function x(o){return!(o\u003e0)}function v(o){return typeof o!=\"object\"||\"length\"in o?o:Array.from(o)}function A(o){return u=\u003eo(...u)}function P(...o){let u=typeof o[o.length-1]==\"function\"\u0026\u0026A(o.pop());o=o.map(v);let c=o.map(g),h=o.length-1,f=new Array(h+1).fill(0),m=[];if(h\u003c0||c.some(x))return m;for(;;){m.push(f.map((w,E)=\u003eo[E][w]));let b=h;for(;++f[b]===c[b];){if(b===0)return u?m.map(u):m;f[b--]=0}}}function k(o,u){var c=0,h=0;return Float64Array.from(o,u===void 0?f=\u003ec+=+f||0:f=\u003ec+=+u(f,h++,o)||0)}function L(o,u){return u\u003co?-1:u\u003eo?1:u\u003e=o?0:NaN}function j(o,u){let c=0,h,f=0,m=0;if(u===void 0)for(let b of o)b!=null\u0026\u0026(b=+b)\u003e=b\u0026\u0026(h=b-f,f+=h/++c,m+=h*(b-f));else{let b=-1;for(let w of o)(w=u(w,++b,o))!=null\u0026\u0026(w=+w)\u003e=w\u0026\u0026(h=w-f,f+=h/++c,m+=h*(w-f))}if(c\u003e1)return m/(c-1)}function N(o,u){let c=j(o,u);return c\u0026\u0026Math.sqrt(c)}function U(o,u){let c,h;if(u===void 0)for(let f of o)f!=null\u0026\u0026(c===void 0?f\u003e=f\u0026\u0026(c=h=f):(c\u003ef\u0026\u0026(c=f),h\u003cf\u0026\u0026(h=f)));else{let f=-1;for(let m of o)(m=u(m,++f,o))!=null\u0026\u0026(c===void 0?m\u003e=m\u0026\u0026(c=h=m):(c\u003em\u0026\u0026(c=m),h\u003cm\u0026\u0026(h=m)))}return[c,h]}class I{constructor(){this._partials=new Float64Array(32),this._n=0}add(u){let c=this._partials,h=0;for(let f=0;f\u003cthis._n\u0026\u0026f\u003c32;f++){let m=c[f],b=u+m,w=Math.abs(u)\u003cMath.abs(m)?u-(b-m):m-(b-u);w\u0026\u0026(c[h++]=w),u=b}return c[h]=u,this._n=h+1,this}valueOf(){let u=this._partials,c=this._n,h,f,m,b=0;if(c\u003e0){for(b=u[--c];c\u003e0\u0026\u0026(h=b,f=u[--c],b=h+f,m=f-(b-h),!m););c\u003e0\u0026\u0026(m\u003c0\u0026\u0026u[c-1]\u003c0||m\u003e0\u0026\u0026u[c-1]\u003e0)\u0026\u0026(f=m*2,h=b+f,f==h-b\u0026\u0026(b=h))}return b}}function K(o,u){let c=new I;if(u===void 0)for(let h of o)(h=+h)\u0026\u0026c.add(h);else{let h=-1;for(let f of o)(f=+u(f,++h,o))\u0026\u0026c.add(f)}return+c}function $(o,u){let c=new I,h=-1;return Float64Array.from(o,u===void 0?f=\u003ec.add(+f||0):f=\u003ec.add(+u(f,++h,o)||0))}class D extends Map{constructor(u,c=R){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:c}}),u!=null)for(let[h,f]of u)this.set(h,f)}get(u){return super.get(B(this,u))}has(u){return super.has(B(this,u))}set(u,c){return super.set(M(this,u),c)}delete(u){return super.delete(T(this,u))}}class H extends Set{constructor(u,c=R){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:c}}),u!=null)for(let h of u)this.add(h)}has(u){return super.has(B(this,u))}add(u){return super.add(M(this,u))}delete(u){return super.delete(T(this,u))}}function B({_intern:o,_key:u},c){let h=u(c);return o.has(h)?o.get(h):c}function M({_intern:o,_key:u},c){let h=u(c);return o.has(h)?o.get(h):(o.set(h,c),c)}function T({_intern:o,_key:u},c){let h=u(c);return o.has(h)\u0026\u0026(c=o.get(c),o.delete(h)),c}function R(o){return o!==null\u0026\u0026typeof o==\"object\"?o.valueOf():o}function Y(o){return o}function Oe(o,...u){return we(o,Y,Y,u)}function ve(o,...u){return we(o,Array.from,Y,u)}function pe(o,u,...c){return we(o,Y,u,c)}function be(o,u,...c){return we(o,Array.from,u,c)}function ee(o,...u){return we(o,Y,sn,u)}function mi(o,...u){return we(o,Array.from,sn,u)}function sn(o){if(o.length!==1)throw new Error(\"duplicate key\");return o[0]}function we(o,u,c,h){return function f(m,b){if(b\u003e=h.length)return c(m);let w=new D,E=h[b++],C=-1;for(let O of m){let S=E(O,++C,m),q=w.get(S);q?q.push(O):w.set(S,[O])}for(let[O,S]of w)w.set(O,f(S,b));return u(w)}(o,0)}function un(o,u){return Array.from(u,c=\u003eo[c])}function pt(o,...u){if(typeof o[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");o=Array.from(o);let[c=t]=u;if(c.length===1||u.length\u003e1){let h=Uint32Array.from(o,(f,m)=\u003em);return u.length\u003e1?(u=u.map(f=\u003eo.map(f)),h.sort((f,m)=\u003e{for(let b of u){let w=t(b[f],b[m]);if(w)return w}})):(c=o.map(c),h.sort((f,m)=\u003et(c[f],c[m]))),un(o,h)}return o.sort(c)}function gi(o,u,c){return(u.length===1?pt(pe(o,u,c),([h,f],[m,b])=\u003et(f,b)||t(h,m)):pt(Oe(o,c),([h,f],[m,b])=\u003eu(f,b)||t(h,m))).map(([h])=\u003eh)}var yi=Array.prototype,_i=yi.slice;function Ue(o){return function(){return o}}var mt=Math.sqrt(50),gt=Math.sqrt(10),yt=Math.sqrt(2);function cn(o,u,c){var h,f=-1,m,b,w;if(u=+u,o=+o,c=+c,o===u\u0026\u0026c\u003e0)return[o];if((h=u\u003co)\u0026\u0026(m=o,o=u,u=m),(w=We(o,u,c))===0||!isFinite(w))return[];if(w\u003e0){let E=Math.round(o/w),C=Math.round(u/w);for(E*w\u003co\u0026\u0026++E,C*w\u003eu\u0026\u0026--C,b=new Array(m=C-E+1);++f\u003cm;)b[f]=(E+f)*w}else{w=-w;let E=Math.round(o*w),C=Math.round(u*w);for(E/w\u003co\u0026\u0026++E,C/w\u003eu\u0026\u0026--C,b=new Array(m=C-E+1);++f\u003cm;)b[f]=(E+f)/w}return h\u0026\u0026b.reverse(),b}function We(o,u,c){var h=(u-o)/Math.max(0,c),f=Math.floor(Math.log(h)/Math.LN10),m=h/Math.pow(10,f);return f\u003e=0?(m\u003e=mt?10:m\u003e=gt?5:m\u003e=yt?2:1)*Math.pow(10,f):-Math.pow(10,-f)/(m\u003e=mt?10:m\u003e=gt?5:m\u003e=yt?2:1)}function xi(o,u,c){var h=Math.abs(u-o)/Math.max(0,c),f=Math.pow(10,Math.floor(Math.log(h)/Math.LN10)),m=h/f;return m\u003e=mt?f*=10:m\u003e=gt?f*=5:m\u003e=yt\u0026\u0026(f*=2),u\u003co?-f:f}function fn(o,u,c){let h;for(;;){let f=We(o,u,c);if(f===h||f===0||!isFinite(f))return[o,u];f\u003e0?(o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f):f\u003c0\u0026\u0026(o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f),h=f}}function dn(o){return Math.ceil(Math.log(_(o))/Math.LN2)+1}function hn(){var o=Y,u=U,c=dn;function h(f){Array.isArray(f)||(f=Array.from(f));var m,b=f.length,w,E=new Array(b);for(m=0;m\u003cb;++m)E[m]=o(f[m],m,f);var C=u(E),O=C[0],S=C[1],q=c(E,O,S);if(!Array.isArray(q)){let Yi=S,bt=+q;if(u===U\u0026\u0026([O,S]=fn(O,S,bt)),q=cn(O,S,bt),q[q.length-1]\u003e=S)if(Yi\u003e=S\u0026\u0026u===U){let me=We(O,S,bt);isFinite(me)\u0026\u0026(me\u003e0?S=(Math.floor(S/me)+1)*me:me\u003c0\u0026\u0026(S=(Math.ceil(S*-me)+1)/-me))}else q.pop()}for(var ae=q.length;q[0]\u003c=O;)q.shift(),--ae;for(;q[ae-1]\u003eS;)q.pop(),--ae;var Se=new Array(ae+1),vt;for(m=0;m\u003c=ae;++m)vt=Se[m]=[],vt.x0=m\u003e0?q[m-1]:O,vt.x1=m\u003cae?q[m]:S;for(m=0;m\u003cb;++m)w=E[m],O\u003c=w\u0026\u0026w\u003c=S\u0026\u0026Se[d(q,w,0,ae)].push(f[m]);return Se}return h.value=function(f){return arguments.length?(o=typeof f==\"function\"?f:Ue(f),h):o},h.domain=function(f){return arguments.length?(u=typeof f==\"function\"?f:Ue([f[0],f[1]]),h):u},h.thresholds=function(f){return arguments.length?(c=typeof f==\"function\"?f:Array.isArray(f)?Ue(_i.call(f)):Ue(f),h):c},h}function _t(o,u){let c;if(u===void 0)for(let h of o)h!=null\u0026\u0026(c\u003ch||c===void 0\u0026\u0026h\u003e=h)\u0026\u0026(c=h);else{let h=-1;for(let f of o)(f=u(f,++h,o))!=null\u0026\u0026(c\u003cf||c===void 0\u0026\u0026f\u003e=f)\u0026\u0026(c=f)}return c}function ze(o,u){let c;if(u===void 0)for(let h of o)h!=null\u0026\u0026(c\u003eh||c===void 0\u0026\u0026h\u003e=h)\u0026\u0026(c=h);else{let h=-1;for(let f of o)(f=u(f,++h,o))!=null\u0026\u0026(c\u003ef||c===void 0\u0026\u0026f\u003e=f)\u0026\u0026(c=f)}return c}function xt(o,u,c=0,h=o.length-1,f=t){for(;h\u003ec;){if(h-c\u003e600){let E=h-c+1,C=u-c+1,O=Math.log(E),S=.5*Math.exp(2*O/3),q=.5*Math.sqrt(O*S*(E-S)/E)*(C-E/2\u003c0?-1:1),ae=Math.max(c,Math.floor(u-C*S/E+q)),Se=Math.min(h,Math.floor(u+(E-C)*S/E+q));xt(o,u,ae,Se,f)}let m=o[u],b=c,w=h;for(Ie(o,c,u),f(o[h],m)\u003e0\u0026\u0026Ie(o,c,h);b\u003cw;){for(Ie(o,b,w),++b,--w;f(o[b],m)\u003c0;)++b;for(;f(o[w],m)\u003e0;)--w}f(o[c],m)===0?Ie(o,c,w):(++w,Ie(o,w,h)),w\u003c=u\u0026\u0026(c=w+1),u\u003c=w\u0026\u0026(h=w-1)}return o}function Ie(o,u,c){let h=o[u];o[u]=o[c],o[c]=h}function He(o,u,c){if(o=Float64Array.from(a(o,c)),!!(h=o.length)){if((u=+u)\u003c=0||h\u003c2)return ze(o);if(u\u003e=1)return _t(o);var h,f=(h-1)*u,m=Math.floor(f),b=_t(xt(o,m).subarray(0,m+1)),w=ze(o.subarray(m+1));return b+(w-b)*(f-m)}}function vi(o,u,c=i){if(!!(h=o.length)){if((u=+u)\u003c=0||h\u003c2)return+c(o[0],0,o);if(u\u003e=1)return+c(o[h-1],h-1,o);var h,f=(h-1)*u,m=Math.floor(f),b=+c(o[m],m,o),w=+c(o[m+1],m+1,o);return b+(w-b)*(f-m)}}function bi(o,u,c){return Math.ceil((c-u)/(2*(He(o,.75)-He(o,.25))*Math.pow(_(o),-1/3)))}function wi(o,u,c){return Math.ceil((c-u)/(3.5*N(o)*Math.pow(_(o),-1/3)))}function pn(o,u){let c,h=-1,f=-1;if(u===void 0)for(let m of o)++f,m!=null\u0026\u0026(c\u003cm||c===void 0\u0026\u0026m\u003e=m)\u0026\u0026(c=m,h=f);else for(let m of o)(m=u(m,++f,o))!=null\u0026\u0026(c\u003cm||c===void 0\u0026\u0026m\u003e=m)\u0026\u0026(c=m,h=f);return h}function Mi(o,u){let c=0,h=0;if(u===void 0)for(let f of o)f!=null\u0026\u0026(f=+f)\u003e=f\u0026\u0026(++c,h+=f);else{let f=-1;for(let m of o)(m=u(m,++f,o))!=null\u0026\u0026(m=+m)\u003e=m\u0026\u0026(++c,h+=m)}if(c)return h/c}function Ai(o,u){return He(o,.5,u)}function*Ei(o){for(let u of o)yield*u}function Pi(o){return Array.from(Ei(o))}function mn(o,u){let c,h=-1,f=-1;if(u===void 0)for(let m of o)++f,m!=null\u0026\u0026(c\u003em||c===void 0\u0026\u0026m\u003e=m)\u0026\u0026(c=m,h=f);else for(let m of o)(m=u(m,++f,o))!=null\u0026\u0026(c\u003em||c===void 0\u0026\u0026m\u003e=m)\u0026\u0026(c=m,h=f);return h}function ki(o,u=Ci){let c=[],h,f=!1;for(let m of o)f\u0026\u0026c.push(u(h,m)),h=m,f=!0;return c}function Ci(o,u){return[o,u]}function ji(o,u,c){o=+o,u=+u,c=(f=arguments.length)\u003c2?(u=o,o=0,1):f\u003c3?1:+c;for(var h=-1,f=Math.max(0,Math.ceil((u-o)/c))|0,m=new Array(f);++h\u003cf;)m[h]=o+h*c;return m}function Oi(o,u=t){let c,h=!1;if(u.length===1){let f;for(let m of o){let b=u(m);(h?t(b,f)\u003c0:t(b,b)===0)\u0026\u0026(c=m,f=b,h=!0)}}else for(let f of o)(h?u(f,c)\u003c0:u(f,f)===0)\u0026\u0026(c=f,h=!0);return c}function gn(o,u=t){if(u.length===1)return mn(o,u);let c,h=-1,f=-1;for(let m of o)++f,(h\u003c0?u(m,m)===0:u(m,c)\u003c0)\u0026\u0026(c=m,h=f);return h}function Ii(o,u=t){let c,h=!1;if(u.length===1){let f;for(let m of o){let b=u(m);(h?t(b,f)\u003e0:t(b,b)===0)\u0026\u0026(c=m,f=b,h=!0)}}else for(let f of o)(h?u(f,c)\u003e0:u(f,f)===0)\u0026\u0026(c=f,h=!0);return c}function Si(o,u=t){if(u.length===1)return pn(o,u);let c,h=-1,f=-1;for(let m of o)++f,(h\u003c0?u(m,m)===0:u(m,c)\u003e0)\u0026\u0026(c=m,h=f);return h}function Ti(o,u){let c=gn(o,u);return c\u003c0?void 0:c}var Li=yn(Math.random);function yn(o){return function(c,h=0,f=c.length){let m=f-(h=+h);for(;m;){let b=o()*m--|0,w=c[m+h];c[m+h]=c[b+h],c[b+h]=w}return c}}function Di(o,u){let c=0;if(u===void 0)for(let h of o)(h=+h)\u0026\u0026(c+=h);else{let h=-1;for(let f of o)(f=+u(f,++h,o))\u0026\u0026(c+=f)}return c}function _n(o){if(!(m=o.length))return[];for(var u=-1,c=ze(o,Ni),h=new Array(c);++u\u003cc;)for(var f=-1,m,b=h[u]=new Array(m);++f\u003cm;)b[f]=o[f][u];return h}function Ni(o){return o.length}function Ri(){return _n(arguments)}function Fi(o,u){if(typeof u!=\"function\")throw new TypeError(\"test is not a function\");let c=-1;for(let h of o)if(!u(h,++c,o))return!1;return!0}function Vi(o,u){if(typeof u!=\"function\")throw new TypeError(\"test is not a function\");let c=-1;for(let h of o)if(u(h,++c,o))return!0;return!1}function qi(o,u){if(typeof u!=\"function\")throw new TypeError(\"test is not a function\");let c=[],h=-1;for(let f of o)u(f,++h,o)\u0026\u0026c.push(f);return c}function Bi(o,u){if(typeof o[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");if(typeof u!=\"function\")throw new TypeError(\"mapper is not a function\");return Array.from(o,(c,h)=\u003eu(c,h,o))}function Ui(o,u,c){if(typeof u!=\"function\")throw new TypeError(\"reducer is not a function\");let h=o[Symbol.iterator](),f,m,b=-1;if(arguments.length\u003c3){if({done:f,value:c}=h.next(),f)return;++b}for(;{done:f,value:m}=h.next(),!f;)c=u(c,m,++b,o);return c}function Wi(o){if(typeof o[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");return Array.from(o).reverse()}function zi(o,...u){o=new Set(o);for(let c of u)for(let h of c)o.delete(h);return o}function Hi(o,u){let c=u[Symbol.iterator](),h=new Set;for(let f of o){if(h.has(f))return!1;let m,b;for(;({value:m,done:b}=c.next())\u0026\u0026!b;){if(Object.is(f,m))return!1;h.add(m)}}return!0}function Ki(o){return o instanceof Set?o:new Set(o)}function $i(o,...u){o=new Set(o),u=u.map(Ki);e:for(let c of o)for(let h of u)if(!h.has(c)){o.delete(c);continue e}return o}function xn(o,u){let c=o[Symbol.iterator](),h=new Set;for(let f of u){if(h.has(f))continue;let m,b;for(;{value:m,done:b}=c.next();){if(b)return!1;if(h.add(m),Object.is(f,m))break}}return!0}function Gi(o,u){return xn(u,o)}function Xi(...o){let u=new Set;for(let c of o)for(let h of c)u.add(h);return u}e.Adder=I,e.InternMap=D,e.InternSet=H,e.ascending=t,e.bin=hn,e.bisect=d,e.bisectCenter=y,e.bisectLeft=p,e.bisectRight=d,e.bisector=r,e.count=_,e.cross=P,e.cumsum=k,e.descending=L,e.deviation=N,e.difference=zi,e.disjoint=Hi,e.every=Fi,e.extent=U,e.fcumsum=$,e.filter=qi,e.fsum=K,e.greatest=Ii,e.greatestIndex=Si,e.group=Oe,e.groupSort=gi,e.groups=ve,e.histogram=hn,e.index=ee,e.indexes=mi,e.intersection=$i,e.least=Oi,e.leastIndex=gn,e.map=Bi,e.max=_t,e.maxIndex=pn,e.mean=Mi,e.median=Ai,e.merge=Pi,e.min=ze,e.minIndex=mn,e.nice=fn,e.pairs=ki,e.permute=un,e.quantile=He,e.quantileSorted=vi,e.quickselect=xt,e.range=ji,e.reduce=Ui,e.reverse=Wi,e.rollup=pe,e.rollups=be,e.scan=Ti,e.shuffle=Li,e.shuffler=yn,e.some=Vi,e.sort=pt,e.subset=Gi,e.sum=Di,e.superset=xn,e.thresholdFreedmanDiaconis=bi,e.thresholdScott=wi,e.thresholdSturges=dn,e.tickIncrement=We,e.tickStep=xi,e.ticks=cn,e.transpose=_n,e.union=Xi,e.variance=j,e.zip=Ri,Object.defineProperty(e,\"__esModule\",{value:!0})})});var Qr=Z((kf,le)=\u003e{function nn(e,t){return le.exports=nn=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},le.exports.default=le.exports,le.exports.__esModule=!0,nn(e,t)}le.exports=nn;le.exports.default=le.exports,le.exports.__esModule=!0});var Zr=Z((Cf,qe)=\u003e{var Ta=Qr();function La(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ta(e,t)}qe.exports=La;qe.exports.default=qe.exports,qe.exports.__esModule=!0});var Jr=Z((jf,Be)=\u003e{function Da(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a\u003cn.length;a++)i=n[a],!(t.indexOf(i)\u003e=0)\u0026\u0026(r[i]=e[i]);return r}Be.exports=Da;Be.exports.default=Be.exports,Be.exports.__esModule=!0});var ei=Z((Of,se)=\u003e{function rn(){return se.exports=rn=Object.assign||function(e){for(var t=1;t\u003carguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)\u0026\u0026(e[n]=r[n])}return e},se.exports.default=se.exports,se.exports.__esModule=!0,rn.apply(this,arguments)}se.exports=rn;se.exports.default=se.exports,se.exports.__esModule=!0});var oi=Z(V=\u003e{\"use strict\";Object.defineProperty(V,\"__esModule\",{value:!0});function on(e){return e\u0026\u0026typeof e==\"object\"\u0026\u0026\"default\"in e?e.default:e}var ti=on(Zr()),W=ge(),G=on(Jr()),de=on(ei()),Na=function(t){return typeof t==\"function\"},z=function(t){for(var r=t.children,n=t.render,i=Na(r)?r:n,a=arguments.length,s=new Array(a\u003e1?a-1:0),d=1;d\u003ca;d++)s[d-1]=arguments[d];return i?i.apply(void 0,s):null},an=function(){},X=function(e){ti(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),s=0;s\u003ci;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,n.state={value:n.props.initial},n._set=function(d,p){p===void 0\u0026\u0026(p=an);var y=n.props.onChange,_=y===void 0?an:y;n.setState(typeof d==\"function\"?function(g){return{value:d(g.value)}}:{value:d},function(){_(n.state.value),p()})},n._reset=function(d){d===void 0\u0026\u0026(d=an),n._set(n.props.initial,d)},n}var r=t.prototype;return r.render=function(){return z(this.props,{value:this.state.value,set:this._set,reset:this._reset})},t}(W.Component),Ra=function(t){var r=t.onChange,n=G(t,[\"onChange\"]);return W.createElement(X,{initial:!1,onChange:r},function(i){var a=i.value,s=i.set;return z(n,{active:a,bind:{onMouseDown:function(){return s(!0)},onMouseUp:function(){return s(!1)}}})})},Fa=function(t){return typeof t.type==\"function\"},ni=function(){for(var t=arguments.length,r=new Array(t),n=0;n\u003ct;n++)r[n]=arguments[n];var i=r.reverse();return function(a){function s(d,p,y){y===void 0\u0026\u0026(y=[]);var _=p[d],g=d===0,x=function(P){return g?z.apply(void 0,[a].concat(y.concat(P))):s(d-1,p,y.concat(P))},v=Fa(_)?W.cloneElement:W.createElement;return v(_,{},x)}return s(r.length-1,i)}},Va=function(t){var r=t.components,n=G(t,[\"components\"]);return ni.apply(void 0,r)(n)},ht=function(t){return function(r){return r+t}},qa=function(t){var r=t.initial,n=r===void 0?0:r,i=t.onChange,a=G(t,[\"initial\",\"onChange\"]);return W.createElement(X,{initial:n,onChange:i},function(s){var d=s.value,p=s.set,y=s.reset;return z(a,{count:d,inc:function(){return p(ht(1))},dec:function(){return p(ht(-1))},incBy:function(g){return p(ht(g))},decBy:function(g){return p(ht(-g))},set:function(g){return p(g)},reset:y})})},ri=function(t){return typeof t==\"object\"\u0026\u0026t},Ba=function(t){var r=t.initial,n=r===void 0?\"\":r,i=t.onChange,a=G(t,[\"initial\",\"onChange\"]);return W.createElement(X,{initial:n,onChange:i},function(s){var d=s.value,p=s.set,y=s.reset;return z(a,{value:d,reset:y,set:p,bind:{value:d,onChange:function(g){ri(g)\u0026\u0026ri(g.target)?p(g.target.value):p(g)}}})})},Ua=function(t){var r=t.onChange,n=G(t,[\"onChange\"]);return W.createElement(X,{initial:!1,onChange:r},function(i){var a=i.value,s=i.set;return z(n,{focused:a,bind:{onFocus:function(){return s(!0)},onBlur:function(){return s(!1)}}})})},Wa=function(t){var r=t.onChange,n=G(t,[\"onChange\"]),i=!0;return W.createElement(X,{initial:!1,onChange:r},function(a){var s=a.value,d=a.set;return z(n,{focused:s,blur:function(){s\u0026\u0026document.activeElement.blur()},bind:{tabIndex:-1,onBlur:function(){i\u0026\u0026d(!1)},onFocus:function(){d(!0)},onMouseDown:function(){i=!1},onMouseUp:function(){i=!0}}})})},ii=function(t){return typeof t==\"object\"\u0026\u0026t},za=function(t){var r=t.initial,n=r===void 0?{}:r,i=t.onChange,a=G(t,[\"initial\",\"onChange\"]);return W.createElement(X,{initial:de({},n),onChange:i},function(s){var d=s.value,p=s.set,y=s.reset;return z(a,{values:d,reset:y,setValues:function(g){return p(function(x){return de({},x,typeof g==\"function\"?g(x):g)})},field:function(g){var x=d[g],v=function(P){var k;return typeof P==\"function\"?p(function(L){var j;return de({},L,(j={},j[g]=P(L[g]),j))}):p(de({},d,(k={},k[g]=P,k)))};return{value:x,set:v,bind:{value:x,onChange:function(P){ii(P)\u0026\u0026ii(P.target)?v(P.target.value):v(P)}}}}})})},Ha=function(t){var r=t.onChange,n=G(t,[\"onChange\"]);return W.createElement(X,{initial:!1,onChange:r},function(i){var a=i.value,s=i.set;return z(n,{hovered:a,bind:{onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}})})},Ka=function(e){ti(t,e);function t(){for(var n,i=arguments.length,a=new Array(i),s=0;s\u003ci;s++)a[s]=arguments[s];return n=e.call.apply(e,[this].concat(a))||this,n.state={times:0},n.intervalId=void 0,n._clearIntervalIfNecessary=function(){n.intervalId\u0026\u0026(n.intervalId=clearInterval(n.intervalId))},n._setIntervalIfNecessary=function(d){Number.isFinite(d)\u0026\u0026(n._clearIntervalIfNecessary(),n.intervalId=setInterval(function(){return n.setState(function(p){return{times:p.times+1}})},d))},n.stop=function(){n._clearIntervalIfNecessary()},n.start=function(d){var p=typeof d==\"number\"?d:n.props.delay!=null?n.props.delay:1e3;n._setIntervalIfNecessary(p)},n.toggle=function(){n.intervalId?n.stop():n.start()},n}var r=t.prototype;return r.componentDidMount=function(){this.start()},r.componentDidUpdate=function(i){i.delay!==this.props.delay\u0026\u0026(this.stop(),this.start())},r.componentWillUnmount=function(){this.stop()},r.render=function(){return z(this.props,{start:this.start,stop:this.stop,toggle:this.toggle})},t}(W.Component),$a=function(t){return function(){return!t.apply(void 0,arguments)}},Ga=function(t){var r=t.initial,n=r===void 0?[]:r,i=t.onChange,a=G(t,[\"initial\",\"onChange\"]);return W.createElement(X,{initial:n,onChange:i},function(s){var d=s.value,p=s.set,y=s.reset;return z(a,{list:d,first:function(){return d[0]},last:function(){return d[Math.max(0,d.length-1)]},set:function(g){return p(g)},push:function(){for(var g=arguments.length,x=new Array(g),v=0;v\u003cg;v++)x[v]=arguments[v];return p(function(A){return A.concat(x)})},pull:function(g){return p(function(x){return x.filter($a(g))})},sort:function(g){return p(function(x){return x.concat().sort(g)})},reset:y})})},Xa=function(t){var r=t.initial,n=r===void 0?{}:r,i=t.onChange,a=G(t,[\"initial\",\"onChange\"]);return W.createElement(X,{initial:de({},n),onChange:i},function(s){var d=s.value,p=s.set,y=s.reset;return z(a,{values:d,clear:function(){return p({})},reset:y,set:function(g,x){return p(function(v){var A;return de({},v,(A={},A[g]=typeof x==\"function\"?x(v[g]):x,A))})},get:function(g){return d[g]},has:function(g){return d[g]!=null},delete:function(g){return p(function(x){var v=x[g],A=G(x,[g]);return A})}})})},Ya=function(t){return t.filter(function(r,n){return t.indexOf(r)===n})},ln=function(t,r){return t.indexOf(r)!==-1},Qa=function(t,r){return ln(t,r)?t.filter(function(n){return n!==r}):t},Za=function(t,r){return ln(t,r)?t:t.concat([r])},Ja=function(t){var r=t.initial,n=r===void 0?[]:r,i=t.onChange,a=G(t,[\"initial\",\"onChange\"]);return W.createElement(X,{initial:Ya(n),onChange:i},function(s){var d=s.value,p=s.set,y=s.reset;return z(a,{values:d,add:function(g){return p(function(x){return Za(x,g)})},clear:function(){return p([])},remove:function(g){return p(function(x){return Qa(x,g)})},has:function(g){return ln(d,g)},reset:y})})},el=function(t){var r=t.initial,n=r===void 0?{}:r,i=t.onChange,a=G(t,[\"initial\",\"onChange\"]);return W.createElement(X,{initial:n,onChange:i},function(s){var d=s.value,p=s.set,y=s.reset;return z(a,{state:d,setState:function(g,x){return p(function(v){return de({},v,typeof g==\"function\"?g(v):g)},x)},resetState:y})})},tl=function(t){var r=t.initial,n=r===void 0?!1:r,i=t.onChange,a=G(t,[\"initial\",\"onChange\"]);return W.createElement(X,{initial:n,onChange:i},function(s){var d=s.value,p=s.set,y=s.reset;return z(a,{on:d,set:function(g){return p(g)},reset:y,toggle:function(){return p(function(g){return!g})},setOn:function(){return p(!0)},setOff:function(){return p(!1)}})})},nl=function(t){var r=t.onChange,n=G(t,[\"onChange\"]);return W.createElement(X,{initial:!1,onChange:r},function(i){var a=i.value,s=i.set;return z(n,{touched:a,bind:{onTouchStart:function(){return s(!0)},onTouchEnd:function(){return s(!1)}}})})},rl=function(){for(var t=arguments.length,r=new Array(t),n=0;n\u003ct;n++)r[n]=arguments[n];return r.reverse().reduce(function(i,a){var s={},d=function(_){s[_]=i[_]?function(){a[_].apply(a,arguments),i[_].apply(i,arguments)}:a[_]};for(var p in a)d(p);return de({},i,s)})};V.Active=Ra;V.Compose=Va;V.Counter=qa;V.Field=Ba;V.Focus=Ua;V.unstable_FocusManager=Wa;V.Form=za;V.Hover=Ha;V.Interval=Ka;V.List=Ga;V.Map=Xa;V.Set=Ja;V.State=el;V.Toggle=tl;V.Touch=nl;V.Value=X;V.compose=ni;V.composeEvents=rl;V.renderProps=z});var li=Z((Sf,ai)=\u003e{\"use strict\";var il=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\";ai.exports=il});var fi=Z((Tf,ci)=\u003e{\"use strict\";var ol=li();function si(){}function ui(){}ui.resetWarningCache=si;ci.exports=function(){function e(n,i,a,s,d,p){if(p!==ol){var y=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw y.name=\"Invariant Violation\",y}}e.isRequired=e;function t(){return e}var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ui,resetWarningCache:si};return r.PropTypes=r,r}});var hi=Z((Nf,di)=\u003e{di.exports=fi()();var Lf,Df});var pi=Z((exports,module)=\u003e{module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(n,i,a){r.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:a})},r.r=function(n){typeof Symbol!=\"undefined\"\u0026\u0026Symbol.toStringTag\u0026\u0026Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},r.t=function(n,i){if(1\u0026i\u0026\u0026(n=r(n)),8\u0026i||4\u0026i\u0026\u0026typeof n==\"object\"\u0026\u0026n\u0026\u0026n.__esModule)return n;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:n}),2\u0026i\u0026\u0026typeof n!=\"string\")for(var s in n)r.d(a,s,function(d){return n[d]}.bind(null,s));return a},r.n=function(n){var i=n\u0026\u0026n.__esModule?function(){return n.default}:function(){return n};return r.d(i,\"a\",i),i},r.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},r.p=\"\",r(r.s=2)}([function(e,t){e.exports=hi()},function(e,t){e.exports=ge()},function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),enterModule;function _typeof(e){return(_typeof=typeof Symbol==\"function\"\u0026\u0026typeof Symbol.iterator==\"symbol\"?function(t){return typeof t}:function(t){return t\u0026\u0026typeof Symbol==\"function\"\u0026\u0026t.constructor===Symbol\u0026\u0026t!==Symbol.prototype?\"symbol\":typeof t})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t\u003carguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)\u0026\u0026(e[n]=r[n])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function _defineProperties(e,t){for(var r=0;r\u003ct.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n\u0026\u0026(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t\u0026\u0026_defineProperties(e.prototype,t),r\u0026\u0026_defineProperties(e,r),e}function _inherits(e,t){if(typeof t!=\"function\"\u0026\u0026t!==null)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t\u0026\u0026t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t\u0026\u0026_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r})(e,t)}function _createSuper(e){return function(){var t,r=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var n=_getPrototypeOf(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,t){return!t||_typeof(t)!==\"object\"\u0026\u0026typeof t!=\"function\"?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function _isNativeReflectConstruct(){if(typeof Reflect==\"undefined\"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==\"function\")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}enterModule=typeof reactHotLoaderGlobal!=\"undefined\"?reactHotLoaderGlobal.enterModule:void 0,enterModule\u0026\u0026enterModule(module);var __signature__=typeof reactHotLoaderGlobal!=\"undefined\"?reactHotLoaderGlobal.default.signature:function(e){return e},ReactAudioPlayer=function(_Component){_inherits(ReactAudioPlayer,_Component);var _super=_createSuper(ReactAudioPlayer);function ReactAudioPlayer(){var e;_classCallCheck(this,ReactAudioPlayer);for(var t=arguments.length,r=new Array(t),n=0;n\u003ct;n++)r[n]=arguments[n];return _defineProperty(_assertThisInitialized(e=_super.call.apply(_super,[this].concat(r))),\"audioEl\",react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef()),_defineProperty(_assertThisInitialized(e),\"listenTracker\",void 0),_defineProperty(_assertThisInitialized(e),\"onError\",function(i){var a,s;return(a=(s=e.props).onError)===null||a===void 0?void 0:a.call(s,i)}),_defineProperty(_assertThisInitialized(e),\"onCanPlay\",function(i){var a,s;return(a=(s=e.props).onCanPlay)===null||a===void 0?void 0:a.call(s,i)}),_defineProperty(_assertThisInitialized(e),\"onCanPlayThrough\",function(i){var a,s;return(a=(s=e.props).onCanPlayThrough)===null||a===void 0?void 0:a.call(s,i)}),_defineProperty(_assertThisInitialized(e),\"onPlay\",function(i){var a,s;e.setListenTrack(),(a=(s=e.props).onPlay)===null||a===void 0||a.call(s,i)}),_defineProperty(_assertThisInitialized(e),\"onAbort\",function(i){var a,s;e.clearListenTrack(),(a=(s=e.props).onAbort)===null||a===void 0||a.call(s,i)}),_defineProperty(_assertThisInitialized(e),\"onEnded\",function(i){var a,s;e.clearListenTrack(),(a=(s=e.props).onEnded)===null||a===void 0||a.call(s,i)}),_defineProperty(_assertThisInitialized(e),\"onPause\",function(i){var a,s;e.clearListenTrack(),(a=(s=e.props).onPause)===null||a===void 0||a.call(s,i)}),_defineProperty(_assertThisInitialized(e),\"onSeeked\",function(i){var a,s;(a=(s=e.props).onSeeked)===null||a===void 0||a.call(s,i)}),_defineProperty(_assertThisInitialized(e),\"onLoadedMetadata\",function(i){var a,s;(a=(s=e.props).onLoadedMetadata)===null||a===void 0||a.call(s,i)}),_defineProperty(_assertThisInitialized(e),\"onVolumeChanged\",function(i){var a,s;(a=(s=e.props).onVolumeChanged)===null||a===void 0||a.call(s,i)}),e}return _createClass(ReactAudioPlayer,[{key:\"componentDidMount\",value:function(){var e=this.audioEl.current;e\u0026\u0026(this.updateVolume(this.props.volume),e.addEventListener(\"error\",this.onError),e.addEventListener(\"canplay\",this.onCanPlay),e.addEventListener(\"canplaythrough\",this.onCanPlayThrough),e.addEventListener(\"play\",this.onPlay),e.addEventListener(\"abort\",this.onAbort),e.addEventListener(\"ended\",this.onEnded),e.addEventListener(\"pause\",this.onPause),e.addEventListener(\"seeked\",this.onSeeked),e.addEventListener(\"loadedmetadata\",this.onLoadedMetadata),e.addEventListener(\"volumechange\",this.onVolumeChanged))}},{key:\"componentWillUnmount\",value:function(){var e=this.audioEl.current;e\u0026\u0026(e.removeEventListener(\"error\",this.onError),e.removeEventListener(\"canplay\",this.onCanPlay),e.removeEventListener(\"canplaythrough\",this.onCanPlayThrough),e.removeEventListener(\"play\",this.onPlay),e.removeEventListener(\"abort\",this.onAbort),e.removeEventListener(\"ended\",this.onEnded),e.removeEventListener(\"pause\",this.onPause),e.removeEventListener(\"seeked\",this.onSeeked),e.removeEventListener(\"loadedmetadata\",this.onLoadedMetadata),e.removeEventListener(\"volumechange\",this.onVolumeChanged))}},{key:\"componentDidUpdate\",value:function(e){this.updateVolume(this.props.volume)}},{key:\"setListenTrack\",value:function(){var e=this;if(!this.listenTracker){var t=this.props.listenInterval;this.listenTracker=window.setInterval(function(){var r,n;e.audioEl.current\u0026\u0026((r=(n=e.props).onListen)===null||r===void 0||r.call(n,e.audioEl.current.currentTime))},t)}}},{key:\"updateVolume\",value:function(e){var t=this.audioEl.current;t!==null\u0026\u0026typeof e==\"number\"\u0026\u0026e!==(t==null?void 0:t.volume)\u0026\u0026(t.volume=e)}},{key:\"clearListenTrack\",value:function(){this.listenTracker\u0026\u0026(clearInterval(this.listenTracker),delete this.listenTracker)}},{key:\"render\",value:function(){var e=this.props.children||react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"p\",null,\"Your browser does not support the \",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"code\",null,\"audio\"),\" element.\"),t=this.props.controls!==!1,r=this.props.title?this.props.title:this.props.src,n={};return this.props.controlsList\u0026\u0026(n.controlsList=this.props.controlsList),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"audio\",_extends({autoPlay:this.props.autoPlay,className:\"react-audio-player \".concat(this.props.className),controls:t,crossOrigin:this.props.crossOrigin,id:this.props.id,loop:this.props.loop,muted:this.props.muted,preload:this.props.preload,ref:this.audioEl,src:this.props.src,style:this.props.style,title:r},n),e)}},{key:\"__reactstandin__regenerateByEval\",value:function(key,code){this[key]=eval(code)}}]),ReactAudioPlayer}(react__WEBPACK_IMPORTED_MODULE_0__.Component);_defineProperty(ReactAudioPlayer,\"propTypes\",void 0),_defineProperty(ReactAudioPlayer,\"defaultProps\",void 0),ReactAudioPlayer.defaultProps={autoPlay:!1,children:null,className:\"\",controls:!1,controlsList:\"\",id:\"\",listenInterval:1e4,loop:!1,muted:!1,onAbort:function(){},onCanPlay:function(){},onCanPlayThrough:function(){},onEnded:function(){},onError:function(){},onListen:function(){},onPause:function(){},onPlay:function(){},onSeeked:function(){},onVolumeChanged:function(){},onLoadedMetadata:function(){},preload:\"metadata\",style:{},title:\"\",volume:1},ReactAudioPlayer.propTypes={autoPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.element,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,controls:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,controlsList:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,crossOrigin:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,id:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,listenInterval:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,loop:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,muted:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,onAbort:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onCanPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onCanPlayThrough:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onEnded:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onError:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onListen:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onLoadedMetadata:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onPause:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onSeeked:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onVolumeChanged:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,preload:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf([\"\",\"none\",\"metadata\",\"auto\"]),src:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string),title:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,volume:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number};var _default=ReactAudioPlayer,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader=typeof reactHotLoaderGlobal!=\"undefined\"?reactHotLoaderGlobal.default:void 0,reactHotLoader\u0026\u0026(reactHotLoader.register(ReactAudioPlayer,\"ReactAudioPlayer\",\"/home/justin/Projects/react-audio-player/src/index.tsx\"),reactHotLoader.register(_default,\"default\",\"/home/justin/Projects/react-audio-player/src/index.tsx\")),leaveModule=typeof reactHotLoaderGlobal!=\"undefined\"?reactHotLoaderGlobal.leaveModule:void 0,leaveModule\u0026\u0026leaveModule(module)}.call(this,__webpack_require__(3)(module))},function(e,t){e.exports=function(r){if(!r.webpackPolyfill){var n=Object.create(r);n.children||(n.children=[]),Object.defineProperty(n,\"loaded\",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,\"id\",{enumerable:!0,get:function(){return n.i}}),Object.defineProperty(n,\"exports\",{enumerable:!0}),n.webpackPolyfill=1}return n}}])});var ul={};no(ul,{default:()=\u003esl,frontmatter:()=\u003eal});var l=te(wn());var An=te(ge());function ye({color:e,size:t}){return t=t||25,An.default.createElement(\"div\",{style:{backgroundColor:e,width:t,height:t,borderRadius:\"50%\"}})}var J=te(ge());function Ge(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var rt=te(Te());var Hn=te(Te());function Xe(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function wt(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Le(){}var De=.7,Ye=1/De,Me=\"\\\\s*([+-]?\\\\d+)\\\\s*\",Ne=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",ne=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",io=/^#([0-9a-f]{3,8})$/,oo=new RegExp(\"^rgb\\\\(\"+[Me,Me,Me]+\"\\\\)$\"),ao=new RegExp(\"^rgb\\\\(\"+[ne,ne,ne]+\"\\\\)$\"),lo=new RegExp(\"^rgba\\\\(\"+[Me,Me,Me,Ne]+\"\\\\)$\"),so=new RegExp(\"^rgba\\\\(\"+[ne,ne,ne,Ne]+\"\\\\)$\"),uo=new RegExp(\"^hsl\\\\(\"+[Ne,ne,ne]+\"\\\\)$\"),co=new RegExp(\"^hsla\\\\(\"+[Ne,ne,ne,Ne]+\"\\\\)$\"),Pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xe(Le,ue,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:kn,formatHex:kn,formatHsl:fo,formatRgb:Cn,toString:Cn});function kn(){return this.rgb().formatHex()}function fo(){return Tn(this).formatHsl()}function Cn(){return this.rgb().formatRgb()}function ue(e){var t,r;return e=(e+\"\").trim().toLowerCase(),(t=io.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?jn(t):r===3?new Q(t\u003e\u003e8\u002615|t\u003e\u003e4\u0026240,t\u003e\u003e4\u002615|t\u0026240,(t\u002615)\u003c\u003c4|t\u002615,1):r===8?Qe(t\u003e\u003e24\u0026255,t\u003e\u003e16\u0026255,t\u003e\u003e8\u0026255,(t\u0026255)/255):r===4?Qe(t\u003e\u003e12\u002615|t\u003e\u003e8\u0026240,t\u003e\u003e8\u002615|t\u003e\u003e4\u0026240,t\u003e\u003e4\u002615|t\u0026240,((t\u002615)\u003c\u003c4|t\u002615)/255):null):(t=oo.exec(e))?new Q(t[1],t[2],t[3],1):(t=ao.exec(e))?new Q(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lo.exec(e))?Qe(t[1],t[2],t[3],t[4]):(t=so.exec(e))?Qe(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uo.exec(e))?Sn(t[1],t[2]/100,t[3]/100,1):(t=co.exec(e))?Sn(t[1],t[2]/100,t[3]/100,t[4]):Pn.hasOwnProperty(e)?jn(Pn[e]):e===\"transparent\"?new Q(NaN,NaN,NaN,0):null}function jn(e){return new Q(e\u003e\u003e16\u0026255,e\u003e\u003e8\u0026255,e\u0026255,1)}function Qe(e,t,r,n){return n\u003c=0\u0026\u0026(e=t=r=NaN),new Q(e,t,r,n)}function ho(e){return e instanceof Le||(e=ue(e)),e?(e=e.rgb(),new Q(e.r,e.g,e.b,e.opacity)):new Q}function Ae(e,t,r,n){return arguments.length===1?ho(e):new Q(e,t,r,n??1)}function Q(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Xe(Q,Ae,wt(Le,{brighter:function(e){return e=e==null?Ye:Math.pow(Ye,e),new Q(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?De:Math.pow(De,e),new Q(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5\u003c=this.r\u0026\u0026this.r\u003c255.5\u0026\u0026-.5\u003c=this.g\u0026\u0026this.g\u003c255.5\u0026\u0026-.5\u003c=this.b\u0026\u0026this.b\u003c255.5\u0026\u00260\u003c=this.opacity\u0026\u0026this.opacity\u003c=1},hex:On,formatHex:On,formatRgb:In,toString:In}));function On(){return\"#\"+Mt(this.r)+Mt(this.g)+Mt(this.b)}function In(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?\")\":\", \"+e+\")\")}function Mt(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e\u003c16?\"0\":\"\")+e.toString(16)}function Sn(e,t,r,n){return n\u003c=0?e=t=r=NaN:r\u003c=0||r\u003e=1?e=t=NaN:t\u003c=0\u0026\u0026(e=NaN),new re(e,t,r,n)}function Tn(e){if(e instanceof re)return new re(e.h,e.s,e.l,e.opacity);if(e instanceof Le||(e=ue(e)),!e)return new re;if(e instanceof re)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,d=a-i,p=(a+i)/2;return d?(t===a?s=(r-n)/d+(r\u003cn)*6:r===a?s=(n-t)/d+2:s=(t-r)/d+4,d/=p\u003c.5?a+i:2-a-i,s*=60):d=p\u003e0\u0026\u0026p\u003c1?0:s,new re(s,d,p,e.opacity)}function Ln(e,t,r,n){return arguments.length===1?Tn(e):new re(e,t,r,n??1)}function re(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Xe(re,Ln,wt(Le,{brighter:function(e){return e=e==null?Ye:Math.pow(Ye,e),new re(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?De:Math.pow(De,e),new re(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h\u003c0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r\u003c.5?r:1-r)*t,i=2*r-n;return new Q(At(e\u003e=240?e-240:e+120,i,n),At(e,i,n),At(e\u003c120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0\u003c=this.s\u0026\u0026this.s\u003c=1||isNaN(this.s))\u0026\u00260\u003c=this.l\u0026\u0026this.l\u003c=1\u0026\u00260\u003c=this.opacity\u0026\u0026this.opacity\u003c=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+(this.s||0)*100+\"%, \"+(this.l||0)*100+\"%\"+(e===1?\")\":\", \"+e+\")\")}}));function At(e,t,r){return(e\u003c60?t+(r-t)*e/60:e\u003c180?r:e\u003c240?t+(r-t)*(240-e)/60:t)*255}function Et(e,t,r,n,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*n+s*i)/6}function Dn(e){var t=e.length-1;return function(r){var n=r\u003c=0?r=0:r\u003e=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],s=n\u003e0?e[n-1]:2*i-a,d=n\u003ct-1?e[n+2]:2*a-i;return Et((r-n/t)*t,s,i,a,d)}}function Nn(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)\u003c0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],s=e[(n+1)%t],d=e[(n+2)%t];return Et((r-n/t)*t,i,a,s,d)}}var Re=e=\u003e()=\u003ee;function po(e,t){return function(r){return e+r*t}}function mo(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Rn(e){return(e=+e)==1?Ze:function(t,r){return r-t?mo(t,r,e):Re(isNaN(t)?r:t)}}function Ze(e,t){var r=t-e;return r?po(e,r):Re(isNaN(e)?t:e)}var Pt=function e(t){var r=Rn(t);function n(i,a){var s=r((i=Ae(i)).r,(a=Ae(a)).r),d=r(i.g,a.g),p=r(i.b,a.b),y=Ze(i.opacity,a.opacity);return function(_){return i.r=s(_),i.g=d(_),i.b=p(_),i.opacity=y(_),i+\"\"}}return n.gamma=e,n}(1);function Fn(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),a=new Array(r),s,d;for(s=0;s\u003cr;++s)d=Ae(t[s]),n[s]=d.r||0,i[s]=d.g||0,a[s]=d.b||0;return n=e(n),i=e(i),a=e(a),d.opacity=1,function(p){return d.r=n(p),d.g=i(p),d.b=a(p),d+\"\"}}}var Ol=Fn(Dn),Il=Fn(Nn);function Vn(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i\u003cr;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function qn(e){return ArrayBuffer.isView(e)\u0026\u0026!(e instanceof DataView)}function Bn(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s\u003cn;++s)i[s]=_e(e[s],t[s]);for(;s\u003cr;++s)a[s]=t[s];return function(d){for(s=0;s\u003cn;++s)a[s]=i[s](d);return a}}function Un(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ce(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Wn(e,t){var r={},n={},i;(e===null||typeof e!=\"object\")\u0026\u0026(e={}),(t===null||typeof t!=\"object\")\u0026\u0026(t={});for(i in t)i in e?r[i]=_e(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var kt=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Ct=new RegExp(kt.source,\"g\");function go(e){return function(){return e}}function yo(e){return function(t){return e(t)+\"\"}}function zn(e,t){var r=kt.lastIndex=Ct.lastIndex=0,n,i,a,s=-1,d=[],p=[];for(e=e+\"\",t=t+\"\";(n=kt.exec(e))\u0026\u0026(i=Ct.exec(t));)(a=i.index)\u003er\u0026\u0026(a=t.slice(r,a),d[s]?d[s]+=a:d[++s]=a),(n=n[0])===(i=i[0])?d[s]?d[s]+=i:d[++s]=i:(d[++s]=null,p.push({i:s,x:ce(n,i)})),r=Ct.lastIndex;return r\u003ct.length\u0026\u0026(a=t.slice(r),d[s]?d[s]+=a:d[++s]=a),d.length\u003c2?p[0]?yo(p[0].x):go(t):(t=p.length,function(y){for(var _=0,g;_\u003ct;++_)d[(g=p[_]).i]=g.x(y);return d.join(\"\")})}function _e(e,t){var r=typeof t,n;return t==null||r===\"boolean\"?Re(t):(r===\"number\"?ce:r===\"string\"?(n=ue(t))?(t=n,Pt):zn:t instanceof ue?Pt:t instanceof Date?Un:qn(t)?Vn:Array.isArray(t)?Bn:typeof t.valueOf!=\"function\"\u0026\u0026typeof t.toString!=\"function\"||isNaN(t)?Wn:ce)(e,t)}function jt(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ot(e){return function(){return e}}function It(e){return+e}var Kn=[0,1];function Ee(e){return e}function St(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Ot(isNaN(t)?NaN:.5)}function _o(e,t){var r;return e\u003et\u0026\u0026(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function xo(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i\u003cn?(n=St(i,n),a=r(s,a)):(n=St(n,i),a=r(a,s)),function(d){return a(n(d))}}function vo(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]\u003ce[0]\u0026\u0026(e=e.slice().reverse(),t=t.slice().reverse());++s\u003cn;)i[s]=St(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(d){var p=(0,Hn.bisect)(e,d,1,n)-1;return a[p](i[p](d))}}function Je(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tt(){var e=Kn,t=Kn,r=_e,n,i,a,s=Ee,d,p,y;function _(){var x=Math.min(e.length,t.length);return s!==Ee\u0026\u0026(s=_o(e[0],e[x-1])),d=x\u003e2?vo:xo,p=y=null,g}function g(x){return x==null||isNaN(x=+x)?a:(p||(p=d(e.map(n),t,r)))(n(s(x)))}return g.invert=function(x){return s(i((y||(y=d(t,e.map(n),ce)))(x)))},g.domain=function(x){return arguments.length?(e=Array.from(x,It),_()):e.slice()},g.range=function(x){return arguments.length?(t=Array.from(x),_()):t.slice()},g.rangeRound=function(x){return t=Array.from(x),r=jt,_()},g.clamp=function(x){return arguments.length?(s=x?!0:Ee,_()):s!==Ee},g.interpolate=function(x){return arguments.length?(r=x,_()):r},g.unknown=function(x){return arguments.length?(a=x,g):a},function(x,v){return n=x,i=v,_()}}function Lt(){return Tt()(Ee,Ee)}var tr=te(Te());function $n(e){return Math.abs(e=Math.round(e))\u003e=1e21?e.toLocaleString(\"en\").replace(/,/g,\"\"):e.toString(10)}function xe(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf(\"e\"))\u003c0)return null;var r,n=e.slice(0,r);return[n.length\u003e1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ie(e){return e=xe(Math.abs(e)),e?e[1]:NaN}function Gn(e,t){return function(r,n){for(var i=r.length,a=[],s=0,d=e[0],p=0;i\u003e0\u0026\u0026d\u003e0\u0026\u0026(p+d+1\u003en\u0026\u0026(d=Math.max(1,n-p)),a.push(r.substring(i-=d,i+d)),!((p+=d+1)\u003en));)d=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Xn(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bo=/^(?:(.)?([\u003c\u003e=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function fe(e){if(!(t=bo.exec(e)))throw new Error(\"invalid format: \"+e);var t;return new et({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]\u0026\u0026t[8].slice(1),trim:t[9],type:t[10]})}fe.prototype=et.prototype;function et(e){this.fill=e.fill===void 0?\" \":e.fill+\"\",this.align=e.align===void 0?\"\u003e\":e.align+\"\",this.sign=e.sign===void 0?\"-\":e.sign+\"\",this.symbol=e.symbol===void 0?\"\":e.symbol+\"\",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?\"\":e.type+\"\"}et.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(this.width===void 0?\"\":Math.max(1,this.width|0))+(this.comma?\",\":\"\")+(this.precision===void 0?\"\":\".\"+Math.max(0,this.precision|0))+(this.trim?\"~\":\"\")+this.type};function Yn(e){e:for(var t=e.length,r=1,n=-1,i;r\u003ct;++r)switch(e[r]){case\".\":n=i=r;break;case\"0\":n===0\u0026\u0026(n=r),i=r;break;default:if(!+e[r])break e;n\u003e0\u0026\u0026(n=0);break}return n\u003e0?e.slice(0,n)+e.slice(i+1):e}var Dt;function Qn(e,t){var r=xe(e,t);if(!r)return e+\"\";var n=r[0],i=r[1],a=i-(Dt=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a\u003es?n+new Array(a-s+1).join(\"0\"):a\u003e0?n.slice(0,a)+\".\"+n.slice(a):\"0.\"+new Array(1-a).join(\"0\")+xe(e,Math.max(0,t+a-1))[0]}function Nt(e,t){var r=xe(e,t);if(!r)return e+\"\";var n=r[0],i=r[1];return i\u003c0?\"0.\"+new Array(-i).join(\"0\")+n:n.length\u003ei+1?n.slice(0,i+1)+\".\"+n.slice(i+1):n+new Array(i-n.length+2).join(\"0\")}var Rt={\"%\":(e,t)=\u003e(e*100).toFixed(t),b:e=\u003eMath.round(e).toString(2),c:e=\u003ee+\"\",d:$n,e:(e,t)=\u003ee.toExponential(t),f:(e,t)=\u003ee.toFixed(t),g:(e,t)=\u003ee.toPrecision(t),o:e=\u003eMath.round(e).toString(8),p:(e,t)=\u003eNt(e*100,t),r:Nt,s:Qn,X:e=\u003eMath.round(e).toString(16).toUpperCase(),x:e=\u003eMath.round(e).toString(16)};function Ft(e){return e}var Zn=Array.prototype.map,Jn=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\\xB5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];function er(e){var t=e.grouping===void 0||e.thousands===void 0?Ft:Gn(Zn.call(e.grouping,Number),e.thousands+\"\"),r=e.currency===void 0?\"\":e.currency[0]+\"\",n=e.currency===void 0?\"\":e.currency[1]+\"\",i=e.decimal===void 0?\".\":e.decimal+\"\",a=e.numerals===void 0?Ft:Xn(Zn.call(e.numerals,String)),s=e.percent===void 0?\"%\":e.percent+\"\",d=e.minus===void 0?\"\\u2212\":e.minus+\"\",p=e.nan===void 0?\"NaN\":e.nan+\"\";function y(g){g=fe(g);var x=g.fill,v=g.align,A=g.sign,P=g.symbol,k=g.zero,L=g.width,j=g.comma,N=g.precision,U=g.trim,I=g.type;I===\"n\"?(j=!0,I=\"g\"):Rt[I]||(N===void 0\u0026\u0026(N=12),U=!0,I=\"g\"),(k||x===\"0\"\u0026\u0026v===\"=\")\u0026\u0026(k=!0,x=\"0\",v=\"=\");var K=P===\"$\"?r:P===\"#\"\u0026\u0026/[boxX]/.test(I)?\"0\"+I.toLowerCase():\"\",$=P===\"$\"?n:/[%p]/.test(I)?s:\"\",D=Rt[I],H=/[defgprs%]/.test(I);N=N===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function B(M){var T=K,R=$,Y,Oe,ve;if(I===\"c\")R=D(M)+R,M=\"\";else{M=+M;var pe=M\u003c0||1/M\u003c0;if(M=isNaN(M)?p:D(Math.abs(M),N),U\u0026\u0026(M=Yn(M)),pe\u0026\u0026+M==0\u0026\u0026A!==\"+\"\u0026\u0026(pe=!1),T=(pe?A===\"(\"?A:d:A===\"-\"||A===\"(\"?\"\":A)+T,R=(I===\"s\"?Jn[8+Dt/3]:\"\")+R+(pe\u0026\u0026A===\"(\"?\")\":\"\"),H){for(Y=-1,Oe=M.length;++Y\u003cOe;)if(ve=M.charCodeAt(Y),48\u003eve||ve\u003e57){R=(ve===46?i+M.slice(Y+1):M.slice(Y))+R,M=M.slice(0,Y);break}}}j\u0026\u0026!k\u0026\u0026(M=t(M,1/0));var be=T.length+M.length+R.length,ee=be\u003cL?new Array(L-be+1).join(x):\"\";switch(j\u0026\u0026k\u0026\u0026(M=t(ee+M,ee.length?L-R.length:1/0),ee=\"\"),v){case\"\u003c\":M=T+M+R+ee;break;case\"=\":M=T+ee+M+R;break;case\"^\":M=ee.slice(0,be=ee.length\u003e\u003e1)+T+M+R+ee.slice(be);break;default:M=ee+T+M+R;break}return a(M)}return B.toString=function(){return g+\"\"},B}function _(g,x){var v=y((g=fe(g),g.type=\"f\",g)),A=Math.max(-8,Math.min(8,Math.floor(ie(x)/3)))*3,P=Math.pow(10,-A),k=Jn[8+A/3];return function(L){return v(P*L)+k}}return{format:y,formatPrefix:_}}var tt,Pe,nt;Vt({thousands:\",\",grouping:[3],currency:[\"$\",\"\"]});function Vt(e){return tt=er(e),Pe=tt.format,nt=tt.formatPrefix,tt}function qt(e){return Math.max(0,-ie(Math.abs(e)))}function Bt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ie(t)/3)))*3-ie(Math.abs(e)))}function Ut(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ie(t)-ie(e))+1}function Wt(e,t,r,n){var i=(0,tr.tickStep)(e,t,r),a;switch(n=fe(n??\",f\"),n.type){case\"s\":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null\u0026\u0026!isNaN(a=Bt(i,s))\u0026\u0026(n.precision=a),nt(n,s)}case\"\":case\"e\":case\"g\":case\"p\":case\"r\":{n.precision==null\u0026\u0026!isNaN(a=Ut(i,Math.max(Math.abs(e),Math.abs(t))))\u0026\u0026(n.precision=a-(n.type===\"e\"));break}case\"f\":case\"%\":{n.precision==null\u0026\u0026!isNaN(a=qt(i))\u0026\u0026(n.precision=a-(n.type===\"%\")*2);break}}return Pe(n)}function wo(e){var t=e.domain;return e.ticks=function(r){var n=t();return(0,rt.ticks)(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Wt(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null\u0026\u0026(r=10);var n=t(),i=0,a=n.length-1,s=n[i],d=n[a],p,y,_=10;for(d\u003cs\u0026\u0026(y=s,s=d,d=y,y=i,i=a,a=y);_-- \u003e0;){if(y=(0,rt.tickIncrement)(s,d,r),y===p)return n[i]=s,n[a]=d,t(n);if(y\u003e0)s=Math.floor(s/y)*y,d=Math.ceil(d/y)*y;else if(y\u003c0)s=Math.ceil(s*y)/y,d=Math.floor(d*y)/y;else break;p=y}return e},e}function ke(){var e=Lt();return e.copy=function(){return Je(e,ke())},Ge.apply(e,arguments),wo(e)}var Ht=te(Te());function zt(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a\u003ci\u0026\u0026(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function nr(e){return Math.log(e)}function rr(e){return Math.exp(e)}function Mo(e){return-Math.log(-e)}function Ao(e){return-Math.exp(-e)}function Eo(e){return isFinite(e)?+(\"1e\"+e):e\u003c0?0:e}function Po(e){return e===10?Eo:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function ko(e){return e===Math.E?Math.log:e===10\u0026\u0026Math.log10||e===2\u0026\u0026Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function ir(e){return function(t){return-e(-t)}}function Co(e){var t=e(nr,rr),r=t.domain,n=10,i,a;function s(){return i=ko(n),a=Po(n),r()[0]\u003c0?(i=ir(i),a=ir(a),e(Mo,Ao)):e(nr,rr),t}return t.base=function(d){return arguments.length?(n=+d,s()):n},t.domain=function(d){return arguments.length?(r(d),s()):r()},t.ticks=function(d){var p=r(),y=p[0],_=p[p.length-1],g;(g=_\u003cy)\u0026\u0026(x=y,y=_,_=x);var x=i(y),v=i(_),A,P,k,L=d==null?10:+d,j=[];if(!(n%1)\u0026\u0026v-x\u003cL){if(x=Math.floor(x),v=Math.ceil(v),y\u003e0){for(;x\u003c=v;++x)for(P=1,A=a(x);P\u003cn;++P)if(k=A*P,!(k\u003cy)){if(k\u003e_)break;j.push(k)}}else for(;x\u003c=v;++x)for(P=n-1,A=a(x);P\u003e=1;--P)if(k=A*P,!(k\u003cy)){if(k\u003e_)break;j.push(k)}j.length*2\u003cL\u0026\u0026(j=(0,Ht.ticks)(y,_,L))}else j=(0,Ht.ticks)(x,v,Math.min(v-x,L)).map(a);return g?j.reverse():j},t.tickFormat=function(d,p){if(p==null\u0026\u0026(p=n===10?\".0e\":\",\"),typeof p!=\"function\"\u0026\u0026(p=Pe(p)),d===1/0)return p;d==null\u0026\u0026(d=10);var y=Math.max(1,n*d/t.ticks().length);return function(_){var g=_/a(Math.round(i(_)));return g*n\u003cn-.5\u0026\u0026(g*=n),g\u003c=y?p(_):\"\"}},t.nice=function(){return r(zt(r(),{floor:function(d){return a(Math.floor(i(d)))},ceil:function(d){return a(Math.ceil(i(d)))}}))},t}function Ce(){var e=Co(Tt()).domain([1,10]);return e.copy=function(){return Je(e,Ce()).base(e.base())},Ge.apply(e,arguments),e}function or(e){return e}var Kt=1,$t=2,Gt=3,Fe=4,ar=1e-6;function jo(e){return\"translate(\"+e+\",0)\"}function Oo(e){return\"translate(0,\"+e+\")\"}function Io(e){return t=\u003e+e(t)}function So(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()\u0026\u0026(t=Math.round(t)),r=\u003e+e(r)+t}function To(){return!this.__axis}function lr(e,t){var r=[],n=null,i=null,a=6,s=6,d=3,p=typeof window!=\"undefined\"\u0026\u0026window.devicePixelRatio\u003e1?0:.5,y=e===Kt||e===Fe?-1:1,_=e===Fe||e===$t?\"x\":\"y\",g=e===Kt||e===Gt?jo:Oo;function x(v){var A=n??(t.ticks?t.ticks.apply(t,r):t.domain()),P=i??(t.tickFormat?t.tickFormat.apply(t,r):or),k=Math.max(a,0)+d,L=t.range(),j=+L[0]+p,N=+L[L.length-1]+p,U=(t.bandwidth?So:Io)(t.copy(),p),I=v.selection?v.selection():v,K=I.selectAll(\".domain\").data([null]),$=I.selectAll(\".tick\").data(A,t).order(),D=$.exit(),H=$.enter().append(\"g\").attr(\"class\",\"tick\"),B=$.select(\"line\"),M=$.select(\"text\");K=K.merge(K.enter().insert(\"path\",\".tick\").attr(\"class\",\"domain\").attr(\"stroke\",\"currentColor\")),$=$.merge(H),B=B.merge(H.append(\"line\").attr(\"stroke\",\"currentColor\").attr(_+\"2\",y*a)),M=M.merge(H.append(\"text\").attr(\"fill\",\"currentColor\").attr(_,y*k).attr(\"dy\",e===Kt?\"0em\":e===Gt?\"0.71em\":\"0.32em\")),v!==I\u0026\u0026(K=K.transition(v),$=$.transition(v),B=B.transition(v),M=M.transition(v),D=D.transition(v).attr(\"opacity\",ar).attr(\"transform\",function(T){return isFinite(T=U(T))?g(T+p):this.getAttribute(\"transform\")}),H.attr(\"opacity\",ar).attr(\"transform\",function(T){var R=this.parentNode.__axis;return g((R\u0026\u0026isFinite(R=R(T))?R:U(T))+p)})),D.remove(),K.attr(\"d\",e===Fe||e===$t?s?\"M\"+y*s+\",\"+j+\"H\"+p+\"V\"+N+\"H\"+y*s:\"M\"+p+\",\"+j+\"V\"+N:s?\"M\"+j+\",\"+y*s+\"V\"+p+\"H\"+N+\"V\"+y*s:\"M\"+j+\",\"+p+\"H\"+N),$.attr(\"opacity\",1).attr(\"transform\",function(T){return g(U(T)+p)}),B.attr(_+\"2\",y*a),M.attr(_,y*k).text(P),I.filter(To).attr(\"fill\",\"none\").attr(\"font-size\",10).attr(\"font-family\",\"sans-serif\").attr(\"text-anchor\",e===$t?\"start\":e===Fe?\"end\":\"middle\"),I.each(function(){this.__axis=U})}return x.scale=function(v){return arguments.length?(t=v,x):t},x.ticks=function(){return r=Array.from(arguments),x},x.tickArguments=function(v){return arguments.length?(r=v==null?[]:Array.from(v),x):r.slice()},x.tickValues=function(v){return arguments.length?(n=v==null?null:Array.from(v),x):n\u0026\u0026n.slice()},x.tickFormat=function(v){return arguments.length?(i=v,x):i},x.tickSize=function(v){return arguments.length?(a=s=+v,x):a},x.tickSizeInner=function(v){return arguments.length?(a=+v,x):a},x.tickSizeOuter=function(v){return arguments.length?(s=+v,x):s},x.tickPadding=function(v){return arguments.length?(d=+v,x):d},x.offset=function(v){return arguments.length?(p=+v,x):p},x}function it(e){return lr(Gt,e)}function ot(e){return lr(Fe,e)}var at=\"http://www.w3.org/1999/xhtml\",Xt={svg:\"http://www.w3.org/2000/svg\",xhtml:at,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"};function lt(e){var t=e+=\"\",r=t.indexOf(\":\");return r\u003e=0\u0026\u0026(t=e.slice(0,r))!==\"xmlns\"\u0026\u0026(e=e.slice(r+1)),Xt.hasOwnProperty(t)?{space:Xt[t],local:e}:e}function Lo(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===at\u0026\u0026t.documentElement.namespaceURI===at?t.createElement(e):t.createElementNS(r,e)}}function Do(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function st(e){var t=lt(e);return(t.local?Do:Lo)(t)}function No(){}function ut(e){return e==null?No:function(){return this.querySelector(e)}}function sr(e){typeof e!=\"function\"\u0026\u0026(e=ut(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i\u003cr;++i)for(var a=t[i],s=a.length,d=n[i]=new Array(s),p,y,_=0;_\u003cs;++_)(p=a[_])\u0026\u0026(y=e.call(p,p.__data__,_,a))\u0026\u0026(\"__data__\"in p\u0026\u0026(y.__data__=p.__data__),d[_]=y);return new F(n,this._parents)}function Yt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ro(){return[]}function ur(e){return e==null?Ro:function(){return this.querySelectorAll(e)}}function Fo(e){return function(){return Yt(e.apply(this,arguments))}}function cr(e){typeof e==\"function\"?e=Fo(e):e=ur(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a\u003cr;++a)for(var s=t[a],d=s.length,p,y=0;y\u003cd;++y)(p=s[y])\u0026\u0026(n.push(e.call(p,p.__data__,y,s)),i.push(p));return new F(n,i)}function fr(e){return function(){return this.matches(e)}}function ct(e){return function(t){return t.matches(e)}}var Vo=Array.prototype.find;function qo(e){return function(){return Vo.call(this.children,e)}}function Bo(){return this.firstElementChild}function dr(e){return this.select(e==null?Bo:qo(typeof e==\"function\"?e:ct(e)))}var Uo=Array.prototype.filter;function Wo(){return Array.from(this.children)}function zo(e){return function(){return Uo.call(this.children,e)}}function hr(e){return this.selectAll(e==null?Wo:zo(typeof e==\"function\"?e:ct(e)))}function pr(e){typeof e!=\"function\"\u0026\u0026(e=fr(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i\u003cr;++i)for(var a=t[i],s=a.length,d=n[i]=[],p,y=0;y\u003cs;++y)(p=a[y])\u0026\u0026e.call(p,p.__data__,y,a)\u0026\u0026d.push(p);return new F(n,this._parents)}function ft(e){return new Array(e.length)}function mr(){return new F(this._enter||this._groups.map(ft),this._parents)}function Ve(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ve.prototype={constructor:Ve,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function gr(e){return function(){return e}}function Ho(e,t,r,n,i,a){for(var s=0,d,p=t.length,y=a.length;s\u003cy;++s)(d=t[s])?(d.__data__=a[s],n[s]=d):r[s]=new Ve(e,a[s]);for(;s\u003cp;++s)(d=t[s])\u0026\u0026(i[s]=d)}function Ko(e,t,r,n,i,a,s){var d,p,y=new Map,_=t.length,g=a.length,x=new Array(_),v;for(d=0;d\u003c_;++d)(p=t[d])\u0026\u0026(x[d]=v=s.call(p,p.__data__,d,t)+\"\",y.has(v)?i[d]=p:y.set(v,p));for(d=0;d\u003cg;++d)v=s.call(e,a[d],d,a)+\"\",(p=y.get(v))?(n[d]=p,p.__data__=a[d],y.delete(v)):r[d]=new Ve(e,a[d]);for(d=0;d\u003c_;++d)(p=t[d])\u0026\u0026y.get(x[d])===p\u0026\u0026(i[d]=p)}function $o(e){return e.__data__}function yr(e,t){if(!arguments.length)return Array.from(this,$o);var r=t?Ko:Ho,n=this._parents,i=this._groups;typeof e!=\"function\"\u0026\u0026(e=gr(e));for(var a=i.length,s=new Array(a),d=new Array(a),p=new Array(a),y=0;y\u003ca;++y){var _=n[y],g=i[y],x=g.length,v=Go(e.call(_,_\u0026\u0026_.__data__,y,n)),A=v.length,P=d[y]=new Array(A),k=s[y]=new Array(A),L=p[y]=new Array(x);r(_,g,P,k,L,v,t);for(var j=0,N=0,U,I;j\u003cA;++j)if(U=P[j]){for(j\u003e=N\u0026\u0026(N=j+1);!(I=k[N])\u0026\u0026++N\u003cA;);U._next=I||null}}return s=new F(s,n),s._enter=d,s._exit=p,s}function Go(e){return typeof e==\"object\"\u0026\u0026\"length\"in e?e:Array.from(e)}function _r(){return new F(this._exit||this._groups.map(ft),this._parents)}function xr(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e==\"function\"?(n=e(n),n\u0026\u0026(n=n.selection())):n=n.append(e+\"\"),t!=null\u0026\u0026(i=t(i),i\u0026\u0026(i=i.selection())),r==null?a.remove():r(a),n\u0026\u0026i?n.merge(i).order():i}function vr(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,s=Math.min(i,a),d=new Array(i),p=0;p\u003cs;++p)for(var y=r[p],_=n[p],g=y.length,x=d[p]=new Array(g),v,A=0;A\u003cg;++A)(v=y[A]||_[A])\u0026\u0026(x[A]=v);for(;p\u003ci;++p)d[p]=r[p];return new F(d,this._parents)}function br(){for(var e=this._groups,t=-1,r=e.length;++t\u003cr;)for(var n=e[t],i=n.length-1,a=n[i],s;--i\u003e=0;)(s=n[i])\u0026\u0026(a\u0026\u0026s.compareDocumentPosition(a)^4\u0026\u0026a.parentNode.insertBefore(s,a),a=s);return this}function wr(e){e||(e=Xo);function t(g,x){return g\u0026\u0026x?e(g.__data__,x.__data__):!g-!x}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a\u003cn;++a){for(var s=r[a],d=s.length,p=i[a]=new Array(d),y,_=0;_\u003cd;++_)(y=s[_])\u0026\u0026(p[_]=y);p.sort(t)}return new F(i,this._parents).order()}function Xo(e,t){return e\u003ct?-1:e\u003et?1:e\u003e=t?0:NaN}function Mr(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ar(){return Array.from(this)}function Er(){for(var e=this._groups,t=0,r=e.length;t\u003cr;++t)for(var n=e[t],i=0,a=n.length;i\u003ca;++i){var s=n[i];if(s)return s}return null}function Pr(){let e=0;for(let t of this)++e;return e}function kr(){return!this.node()}function Cr(e){for(var t=this._groups,r=0,n=t.length;r\u003cn;++r)for(var i=t[r],a=0,s=i.length,d;a\u003cs;++a)(d=i[a])\u0026\u0026e.call(d,d.__data__,a,i);return this}function Yo(e){return function(){this.removeAttribute(e)}}function Qo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zo(e,t){return function(){this.setAttribute(e,t)}}function Jo(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ea(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function ta(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function jr(e,t){var r=lt(e);if(arguments.length\u003c2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Qo:Yo:typeof t==\"function\"?r.local?ta:ea:r.local?Jo:Zo)(r,t))}function dt(e){return e.ownerDocument\u0026\u0026e.ownerDocument.defaultView||e.document\u0026\u0026e||e.defaultView}function na(e){return function(){this.style.removeProperty(e)}}function ra(e,t,r){return function(){this.style.setProperty(e,t,r)}}function ia(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Or(e,t,r){return arguments.length\u003e1?this.each((t==null?na:typeof t==\"function\"?ia:ra)(e,t,r??\"\")):oa(this.node(),e)}function oa(e,t){return e.style.getPropertyValue(t)||dt(e).getComputedStyle(e,null).getPropertyValue(t)}function aa(e){return function(){delete this[e]}}function la(e,t){return function(){this[e]=t}}function sa(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Ir(e,t){return arguments.length\u003e1?this.each((t==null?aa:typeof t==\"function\"?sa:la)(e,t)):this.node()[e]}function Sr(e){return e.trim().split(/^|\\s+/)}function Qt(e){return e.classList||new Tr(e)}function Tr(e){this._node=e,this._names=Sr(e.getAttribute(\"class\")||\"\")}Tr.prototype={add:function(e){var t=this._names.indexOf(e);t\u003c0\u0026\u0026(this._names.push(e),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(e){var t=this._names.indexOf(e);t\u003e=0\u0026\u0026(this._names.splice(t,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(e){return this._names.indexOf(e)\u003e=0}};function Lr(e,t){for(var r=Qt(e),n=-1,i=t.length;++n\u003ci;)r.add(t[n])}function Dr(e,t){for(var r=Qt(e),n=-1,i=t.length;++n\u003ci;)r.remove(t[n])}function ua(e){return function(){Lr(this,e)}}function ca(e){return function(){Dr(this,e)}}function fa(e,t){return function(){(t.apply(this,arguments)?Lr:Dr)(this,e)}}function Nr(e,t){var r=Sr(e+\"\");if(arguments.length\u003c2){for(var n=Qt(this.node()),i=-1,a=r.length;++i\u003ca;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t==\"function\"?fa:t?ua:ca)(r,t))}function da(){this.textContent=\"\"}function ha(e){return function(){this.textContent=e}}function pa(e){return function(){var t=e.apply(this,arguments);this.textContent=t??\"\"}}function Rr(e){return arguments.length?this.each(e==null?da:(typeof e==\"function\"?pa:ha)(e)):this.node().textContent}function ma(){this.innerHTML=\"\"}function ga(e){return function(){this.innerHTML=e}}function ya(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??\"\"}}function Fr(e){return arguments.length?this.each(e==null?ma:(typeof e==\"function\"?ya:ga)(e)):this.node().innerHTML}function _a(){this.nextSibling\u0026\u0026this.parentNode.appendChild(this)}function Vr(){return this.each(_a)}function xa(){this.previousSibling\u0026\u0026this.parentNode.insertBefore(this,this.parentNode.firstChild)}function qr(){return this.each(xa)}function Br(e){var t=typeof e==\"function\"?e:st(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function va(){return null}function Ur(e,t){var r=typeof e==\"function\"?e:st(e),n=t==null?va:typeof t==\"function\"?t:ut(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function ba(){var e=this.parentNode;e\u0026\u0026e.removeChild(this)}function Wr(){return this.each(ba)}function wa(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ma(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zr(e){return this.select(e?Ma:wa)}function Hr(e){return arguments.length?this.property(\"__data__\",e):this.node().__data__}function Aa(e){return function(t){e.call(this,t,this.__data__)}}function Ea(e){return e.trim().split(/^|\\s+/).map(function(t){var r=\"\",n=t.indexOf(\".\");return n\u003e=0\u0026\u0026(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Pa(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,i=t.length,a;r\u003ci;++r)a=t[r],(!e.type||a.type===e.type)\u0026\u0026a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function ka(e,t,r){return function(){var n=this.__on,i,a=Aa(t);if(n){for(var s=0,d=n.length;s\u003cd;++s)if((i=n[s]).type===e.type\u0026\u0026i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function Kr(e,t,r){var n=Ea(e+\"\"),i,a=n.length,s;if(arguments.length\u003c2){var d=this.node().__on;if(d){for(var p=0,y=d.length,_;p\u003cy;++p)for(i=0,_=d[p];i\u003ca;++i)if((s=n[i]).type===_.type\u0026\u0026s.name===_.name)return _.value}return}for(d=t?ka:Pa,i=0;i\u003ca;++i)this.each(d(n[i],t,r));return this}function $r(e,t,r){var n=dt(e),i=n.CustomEvent;typeof i==\"function\"?i=new i(t,r):(i=n.document.createEvent(\"Event\"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ca(e,t){return function(){return $r(this,e,t)}}function ja(e,t){return function(){return $r(this,e,t.apply(this,arguments))}}function Gr(e,t){return this.each((typeof t==\"function\"?ja:Ca)(e,t))}function*Xr(){for(var e=this._groups,t=0,r=e.length;t\u003cr;++t)for(var n=e[t],i=0,a=n.length,s;i\u003ca;++i)(s=n[i])\u0026\u0026(yield s)}var Zt=[null];function F(e,t){this._groups=e,this._parents=t}function Oa(){return new F([[document.documentElement]],Zt)}function Ia(){return this}F.prototype=Oa.prototype={constructor:F,select:sr,selectAll:cr,selectChild:dr,selectChildren:hr,filter:pr,data:yr,enter:mr,exit:_r,join:xr,merge:vr,selection:Ia,order:br,sort:wr,call:Mr,nodes:Ar,node:Er,size:Pr,empty:kr,each:Cr,attr:jr,style:Or,property:Ir,classed:Nr,text:Rr,html:Fr,raise:Vr,lower:qr,append:Br,insert:Ur,remove:Wr,clone:zr,datum:Hr,on:Kr,dispatch:Gr,[Symbol.iterator]:Xr};function je(e){return typeof e==\"string\"?new F([[document.querySelector(e)]],[document.documentElement]):new F([[e]],Zt)}var Sa=[\"lightsalmon\",\"lightseagreen\",\"indianred\",\"darkmagenta\",\"cornflowerblue\",\"aqua\"];function Jt({strokeWidth:e,functions:t,width:r,height:n,range:i,colors:a,logX:s,logY:d,grid:p,onHover:y,onMouseEnter:_,onMouseLeave:g,onClick:x,margin:v,hideAxes:A,hideXAxis:P,hideYAxis:k}){v=v||{top:20,right:30,bottom:30,left:50},r=r||500,n=n||300;let L=n-v.top-v.bottom,j=r-v.left-v.right;e=e||1,a=a||Sa,t=t||[],i=i||{x:[-4,4],y:[-4,4]};let N=s?Ce().base(s||10):ke(),U=d?Ce().base(d||10):ke(),I=N.domain(i.x).range([v.left,r-v.right]),K=U.domain(i.y).range([n-v.top,v.bottom]),$=t.map(D=\u003e{let H=[[]];for(let B=v.left+1e-6;B\u003cr-v.right;B+=1){let M=I.invert(B),T=D(M);if(typeof T==\"number\"){let R=K(T);M\u003e=i.x[0]\u0026\u0026M\u003c=i.x[1]\u0026\u0026T\u003e=i.y[0]\u0026\u0026T\u003c=i.y[1]\u0026\u0026H[0].unshift([B,R])}}return H});return J.default.createElement(\"svg\",{width:r,height:n,onClick:D=\u003ex\u0026\u0026x(D)},!A\u0026\u0026J.default.createElement(J.default.Fragment,null,!P\u0026\u0026J.default.createElement(\"g\",{className:\"x-axis plot-axis\",ref:D=\u003eje(D).attr(\"transform\",`translate(0,${n-v.top})`).call(it(I).ticks(r/50))}),!k\u0026\u0026J.default.createElement(\"g\",{className:\"y-axis plot-axis\",ref:D=\u003eje(D).attr(\"transform\",`translate(${v.left},0)`).call(ot(K).ticks(n/50))})),p\u0026\u0026J.default.createElement(J.default.Fragment,null,p.x\u0026\u0026J.default.createElement(\"g\",{className:\"grid\",ref:D=\u003eje(D).attr(\"transform\",`translate(0, ${K(i.y[1])})`).call(it(I).ticks(p.x).tickSize(L).tickFormat(()=\u003e\"\"))}),p.y\u0026\u0026J.default.createElement(\"g\",{className:\"grid\",ref:D=\u003eje(D).attr(\"transform\",`translate(${I(i.x[0])}, 0)`).call(ot(K).ticks(p.y).tickSize(-j).tickFormat(()=\u003e\"\"))})),J.default.createElement(\"g\",null,$.map((D,H)=\u003eD.map((B,M)=\u003eJ.default.createElement(\"path\",{onMouseEnter:()=\u003e_\u0026\u0026_(H),onMouseLeave:()=\u003eg\u0026\u0026g(H),key:H+\"-\"+M,d:\"M\"+B.join(\"L\"),stroke:a[H%a.length]||\"black\",strokeWidth:e,fill:\"none\"})))))}var Yr=te(ge());var oe=te(ge());function en(e,t=!1){let r=(0,oe.useRef)(),n=(0,oe.useRef)(),i=(0,oe.useRef)(),a=(0,oe.useRef)(0),s=(0,oe.useRef)(),[d,p]=(0,oe.useState)(t),y=v=\u003e{if(i.current||(i.current=v),n.current!=null){let A=v-n.current,P=v-i.current,k=s.current\u0026\u0026P\u003e=s.current;if(e({time:v,delta:A,fromStart:P,last:k,fromFirstStart:P+a.current,stopTime:a.current,progress:s.current?P/s.current:0}),k){g(),s.current=null;return}}n.current=v,r.current=requestAnimationFrame(y)};function _(v){d\u0026\u0026g(),v\u0026\u0026(s.current=v),r.current=requestAnimationFrame(y),p(!0)}function g(){n.current\u0026\u0026i.current\u0026\u0026(a.current=n.current-i.current+a.current),cancelAnimationFrame(r.current),i.current=0,r.current=null,p(!1)}function x(){r.current?g():_()}return oe.default.useEffect(()=\u003e(t\u0026\u0026_(),()=\u003eg()),[]),{start:_,stop:g,toggle:x,isRunning:d}}function tn(e){let[t,r]=(0,Yr.useState)({fromStart:0,fromFirstStart:0,progress:0,delta:null}),n=en(r,e.autostart);return e.children({...n,time:t})}var qf=te(oi()),he=te(pi()),al={title:\"A Macro View on Analog Synthesis\",date:\"2021-05-14\",tags:[\"diy\",\"electronics\",\"synthesis\"],description:\"Lately, I've been learning about analog synthesis\",image:\"./img/vco.png\"};function ll(e){let t=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",img:\"img\",div:\"div\",h3:\"h3\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",h4:\"h4\",ul:\"ul\",li:\"li\"},e.components),{wrapper:r}=t,n=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.p,{children:`Lately, I've been learning about analog synthesis.\nIn this post, I want to document what I've learned so far and how I approached the topic.\nDisclaimer: I am not an expert.`}),`\n`,(0,l.jsxs)(t.h2,{id:\"analog--digital-synthesis\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#analog--digital-synthesis\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Analog \u0026 Digital Synthesis\"]}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/analogcircuit.gif\",alt:\"analog circuit\"})}),`\n`,(0,l.jsx)(t.p,{children:`In a nutshell, analog synthesis produces sound by directly manipulating voltages in electrical circuits.\nIn digital synthesis, buffered sound data is calculated from code and then passed to an audio interface that transforms it into voltage.`}),`\n`,(0,l.jsx)(t.p,{children:`Generally, analog synthesis is much simpler in its infrastructure.\nThe higher complexity of digital synthesis allows much more fine grained control,\nwhereas analog synthesis can sometimes behave in unexpected ways.`}),`\n`,(0,l.jsx)(t.p,{children:'I am not going into the debate of which is \"better\" here, as both ways have their right to exist.'}),`\n`,(0,l.jsxs)(t.h2,{id:\"from-voltage-to-sound--\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#from-voltage-to-sound--\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"From Voltage to Sound \\u{1F50C} \\u{1F50A}\"]}),`\n`,(0,l.jsx)(t.p,{children:\"In both analog and digital synthesis, we have a voltage at the end, which is fed to the sound system (amplifier + speaker).\"}),`\n`,(0,l.jsx)(tn,{autostart:!0,children:({toggle:i,time:a,isRunning:s,start:d})=\u003e(0,l.jsx)(l.Fragment,{children:a\u0026\u0026(0,l.jsxs)(t.div,{style:{display:\"flex\"},children:[(0,l.jsxs)(t.div,{style:{width:300},children:[(0,l.jsx)(t.p,{children:\"When the voltage does a sine wave,\"}),(0,l.jsx)(Jt,{range:{x:[0,10*Math.PI],y:[-1,1]},height:100,width:300,hideAxes:!0,functions:[p=\u003eMath.sin(p+a.fromStart/100)],colors:[\"green\",\"yellow\"]})]}),(0,l.jsxs)(t.div,{style:{width:300},children:[(0,l.jsx)(t.p,{children:\" the membrane will move like this:\"}),(0,l.jsx)(Jt,{range:{x:[0,Math.PI],y:[-1,1]},height:100,width:300,hideAxes:!0,functions:[p=\u003eMath.sin(a.fromStart/100)*Math.sin(p)],colors:[\"green\",\"yellow\"]})]})]})})}),`\n`,(0,l.jsx)(\"p\",{children:\"... which will push and pull the air molecules around (now from left to right..):\"}),`\n`,(0,l.jsx)(\"img\",{src:\"https://mk0waitbutwhy9c3hjku.kinstacdn.com/wp-content/uploads/2016/03/red-dot.gif\"}),`\n`,(0,l.jsx)(t.p,{children:`So, the displacement of the membrane in the speaker is directly affected by that incoming voltage level.\nWhen the membrane moves, it pushes the air molecules back and forth, creating a sound wave that the human ear can detect.`}),`\n`,(0,l.jsxs)(t.p,{children:[\"If you want to read more on the basics of sound, I recommend \",(0,l.jsx)(t.a,{href:\"https://waitbutwhy.com/2016/03/sound.html\",children:\"this post by waitbutwhy\"}),\".\"]}),`\n`,(0,l.jsxs)(t.h2,{id:\"building-blocks-of-analog-synthesis\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#building-blocks-of-analog-synthesis\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Building Blocks of Analog Synthesis\"]}),`\n`,(0,l.jsx)(t.p,{children:\"Now that we have the basic theory out of the way, let's look at the most important building blocks of an analog synth.\"}),`\n`,(0,l.jsxs)(t.h3,{id:\"micromodules\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#micromodules\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Micromodules\"]}),`\n`,(0,l.jsxs)(t.p,{children:[`As this post is a macro view on analog synthesis, I will not talk about how the electric circuits work in detail.\nTo start playing around with analog synthesis, I found the `,(0,l.jsx)(t.a,{href:\"http://micromodular.pl/\",children:\"micromodules from Syntaxis\"}),` (not sponsored \\u{1F642}).\nThey provide breadboard friendly components that can be linked together in multiple ways. With them, I could start to explore\nhow analog modules interact without needing to know the details about how to build the circuits.`]}),`\n`,(0,l.jsxs)(t.h3,{id:\"the-oscillator\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-oscillator\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"The Oscillator\"]}),`\n`,(0,l.jsx)(t.p,{children:`As a sound source, we need at least one oscillator. At the heart of an analog oscillator, an electric circuit is creating some kind of\nperiodic voltage wave. Commonly, the frequency of that wave can be controlled with voltage (CV = Control Voltage).\nAn oscillator that can be controlled with voltage is called a VCO (= Voltage Controlled Oscillator).`}),`\n`,(0,l.jsx)(t.p,{children:\"Let's start with a simple circuit:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-simple.png\",alt:\"vco-simple\"})}),`\n`,(0,l.jsxs)(t.table,{children:[`\n`,(0,l.jsxs)(t.thead,{children:[`\n`,(0,l.jsxs)(t.tr,{children:[`\n`,(0,l.jsx)(t.th,{children:\"color\"}),`\n`,(0,l.jsx)(t.th,{children:\"meaning\"}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(t.tbody,{children:[`\n`,(0,l.jsxs)(t.tr,{children:[`\n`,(0,l.jsx)(t.td,{children:(0,l.jsx)(ye,{color:\"#CB2A1D\"})}),`\n`,(0,l.jsx)(t.td,{children:\"+12V\"}),`\n`]}),`\n`,(0,l.jsxs)(t.tr,{children:[`\n`,(0,l.jsx)(t.td,{children:(0,l.jsx)(ye,{color:\"#3E89D5\"})}),`\n`,(0,l.jsx)(t.td,{children:\"-12V\"}),`\n`]}),`\n`,(0,l.jsxs)(t.tr,{children:[`\n`,(0,l.jsx)(t.td,{children:(0,l.jsx)(ye,{color:\"#3C3C3C\"})}),`\n`,(0,l.jsx)(t.td,{children:\"Ground (0V)\"}),`\n`]}),`\n`,(0,l.jsxs)(t.tr,{children:[`\n`,(0,l.jsx)(t.td,{children:(0,l.jsx)(ye,{color:\"#EC612A\"})}),`\n`,(0,l.jsx)(t.td,{children:\"5V\"}),`\n`]}),`\n`,(0,l.jsxs)(t.tr,{children:[`\n`,(0,l.jsx)(t.td,{children:(0,l.jsx)(ye,{color:\"#FFF853\"})}),`\n`,(0,l.jsx)(t.td,{children:\"Control Voltage (CV)\"}),`\n`]}),`\n`,(0,l.jsxs)(t.tr,{children:[`\n`,(0,l.jsx)(t.td,{children:(0,l.jsx)(ye,{color:\"#5CC63D\"})}),`\n`,(0,l.jsx)(t.td,{children:\"Analog Audio Voltage\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,l.jsx)(t.p,{children:\"We will use this color coding throughout the post. This is the (much more messy) circuit in real life:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-simple-real.png\",alt:\"vco-simple-real\"})}),`\n`,(0,l.jsxs)(t.h4,{id:\"parts\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#parts\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Parts\"]}),`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:(0,l.jsx)(t.a,{href:\"https://syntaxis.com.pl/en/micromodules/77-uvco-3340-a.html\",children:\"uVCO-3340-A\"})}),`\n`,(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:\"https://syntaxis.com.pl/en/micromodules/82-upsu-112-a.html\",children:\"uPSU-112-A\"}),\" with laptop charger\"]}),`\n`,(0,l.jsx)(t.li,{children:\"8ohm speaker\"}),`\n`,(0,l.jsx)(t.li,{children:\"3 potentiometers to provide CV\"}),`\n`,(0,l.jsx)(t.li,{children:\"breadboard + cables\"}),`\n`]}),`\n`,(0,l.jsxs)(t.h4,{id:\"power-connections\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#power-connections\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Power Connections\"]}),`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"The PSU (power suplly unit) provides -12V, GND (0V), +12 and 5V.\"}),`\n`,(0,l.jsx)(t.li,{children:\"The VCO is connected to -12V, GND and 12V\"}),`\n`,(0,l.jsx)(t.li,{children:\"The potentiometers are connected to GND and 5V, outputting a voltage between 0 and 5V.\"}),`\n`]}),`\n`,(0,l.jsx)(t.p,{children:\"Similar power connections will be used throughout the post.\"}),`\n`,(0,l.jsxs)(t.h4,{id:\"control-voltage\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#control-voltage\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Control Voltage\"]}),`\n`,(0,l.jsx)(t.p,{children:\"The output of the pots is used as CV to change certain parameters of the VCO:\"}),`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"The coarse pot is connected to the 1/2 V/Oct input, which means it can add 5V/0.5V = 10 octaves\"}),`\n`,(0,l.jsx)(t.li,{children:\"The fine pot is connected to the 24V/Oct input, which means it can add 5V/24V = 0.2 octaves = 2.5 semitones\"}),`\n`,(0,l.jsx)(t.li,{children:\"Let's ignore the pulse width pot for now\"}),`\n`]}),`\n`,(0,l.jsxs)(t.h4,{id:\"adding-a-keyboard\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#adding-a-keyboard\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Adding a Keyboard\"]}),`\n`,(0,l.jsx)(t.p,{children:`The circuit above is slightly boring, as controlling pitch with a potentiometer is not very useful when we want to play melodies.\nTo fix that, let's remove all pots and add a keyboard that supports CV, like the Arturia Keystep:`}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-keystep-sketch.png\",alt:\"vco-keystep real\"})}),`\n`,(0,l.jsx)(t.p,{children:\"In reality:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-keystep-real.png\",alt:\"vco-keystep real\"})}),`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"The keystep has a pitch cv output, that I connected to the 1V/Oct input of the VCO, using a 3,5mm jack (which is also grounded)\"}),`\n`,(0,l.jsx)(t.li,{children:\"I also replaced the cheap 8ohm speaker with a Bluetooth Speaker that has an AUX input.\"}),`\n`]}),`\n`,(0,l.jsxs)(t.h4,{id:\"ready-to-rave\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#ready-to-rave\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Ready to Rave?\"]}),`\n`,(0,l.jsx)(t.p,{children:\"Now we are finally ready to rave (loud):\"}),`\n`,(0,l.jsx)(he.default,{type:\"audio/x-m4a\",src:\"./audio/vco-rave.mp3\",controls:!0}),`\n`,(0,l.jsx)(t.p,{children:\"If we look at the waveform, we can see the crisp sawwave:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/sawrave.png\",alt:\"sawrave\"})}),`\n`,(0,l.jsx)(t.p,{children:`Here, we can clearly see the sawwave changing frequencies.\nAlso, we can make out slight wobbles in the amplitude, which is that dirty analog imperfection we want.`}),`\n`,(0,l.jsxs)(t.h3,{id:\"the-filter\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-filter\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"The Filter\"]}),`\n`,(0,l.jsxs)(t.p,{children:[\"If you listen to the sound above, the sawwave is really harsh, which might be tamed with a \",(0,l.jsx)(t.a,{href:\"https://syntaxis.com.pl/en/micromodules/109-uvcf-2044-lp4-a.html\",children:\"filter\"}),\":\"]}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-filtered-sketch.png\",alt:\"vco-filtered\"})}),`\n`,(0,l.jsx)(t.p,{children:\"In reality (with slightly exaggerated cutoff pot):\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-filtered-real.png\",alt:\"vco-filtered real\"})}),`\n`,(0,l.jsxs)(t.h4,{id:\"explanation\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#explanation\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Explanation\"]}),`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"Instead of going from the VCO saw output directly to the speaker, we route it into the filter input\"}),`\n`,(0,l.jsx)(t.li,{children:\"The filter output is then plugged to the speaker\"}),`\n`,(0,l.jsx)(t.li,{children:\"The potentiometer controls the cutoff frequency of the filter\"}),`\n`,(0,l.jsx)(t.li,{children:\"A filter that can be controlled with voltage is called VCF (Voltage Controlled Filter)\"}),`\n`]}),`\n`,(0,l.jsxs)(t.h4,{id:\"now-the-rave-gets-better\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#now-the-rave-gets-better\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Now the rave gets better\"]}),`\n`,(0,l.jsx)(he.default,{type:\"audio/x-m4a\",src:\"./audio/vco-rave-filter.mp3\",controls:!0}),`\n`,(0,l.jsx)(t.p,{children:\"In the beginning of the waveform, we can see the sawwave emerging from a more sinelike shape as the filter opens:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/sawrave-filtered.png\",alt:\"vco-sawrave filtered\"})}),`\n`,(0,l.jsxs)(t.h3,{id:\"the-lfo\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-lfo\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"The LFO\"]}),`\n`,(0,l.jsx)(t.p,{children:`So far, I had to use my hand to manually turn the cutoff knob.\nUsing an LFO (= Low Frequency Oscillator), we can automate periodic CV changes:`}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-filter-lfo-sketch.png\",alt:\"vco filter + lfo sketch\"})}),`\n`,(0,l.jsx)(t.p,{children:\"In the messy real life:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-filter-lfo.png\",alt:\"vco filter + lfo\"})}),`\n`,(0,l.jsxs)(t.h4,{id:\"explanation-1\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#explanation-1\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Explanation\"]}),`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"The LFOs triangle output is connected with the filter frequency input\"}),`\n`,(0,l.jsxs)(t.li,{children:[\"The right pot is connected to another filter frequency input\",`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"Both frequency inputs will be summed by the filter\"}),`\n`]}),`\n`]}),`\n`,(0,l.jsx)(t.li,{children:\"A left pot controls the speed of the lfo\"}),`\n`]}),`\n`,(0,l.jsxs)(t.h4,{id:\"hands-free-raving\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#hands-free-raving\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Hands free raving\"]}),`\n`,(0,l.jsx)(he.default,{type:\"audio/x-m4a\",src:\"./audio/vco-rave-filter-lfo.mp3\",controls:!0}),`\n`,(0,l.jsx)(t.p,{children:\"In the waveform, the periodic cutoff changes look like this:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/sawrave-filter-lfo.png\",alt:\"vco-sawrave filter + lfo\"})}),`\n`,(0,l.jsxs)(t.h3,{id:\"the-attenuator\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-attenuator\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"The Attenuator\"]}),`\n`,(0,l.jsx)(t.p,{children:`So far, the LFO has a pretty big impact on our filter.\nIt would be nice if we could somehow control the amount of impact.. This is where the attenuator comes in.\nUnlike the other modules, an attenuator is just a potentiometer with special wiring:`}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/attenuator.png\",alt:\"attenuator sketch\"})}),`\n`,(0,l.jsx)(t.p,{children:`Instead of wiring 5V to the right pin, we use any signal that should be attenuated.\nIn our case, we can use the LFO triangle output.\nUsing the pot, we can then scale it down to minimize its impact:`}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-filter-lfo-attenuator-sketch.png\",alt:\"vco-sawrave filter + lfo + attenuator sketch\"})}),`\n`,(0,l.jsx)(t.p,{children:\"The rats nest in real life:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-filter-lfo-attenuator-real.png\",alt:\"vco-sawrave filter + lfo + attenuator real\"})}),`\n`,(0,l.jsx)(t.p,{children:\"Note that I also added an attenuator for pitch. You can view the attenuator like a modulation depth control for any parameter.\"}),`\n`,(0,l.jsxs)(t.h4,{id:\"lets-rave-again\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#lets-rave-again\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Let's rave again\"]}),`\n`,(0,l.jsx)(he.default,{type:\"audio/x-m4a\",src:\"./audio/vco-rave-filter-lfo-attenuator.mp3\",controls:!0}),`\n`,(0,l.jsx)(t.p,{children:\"In the waveform, we can see the wobbles getting slightly more intense to the right:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/sawrave-filter-lfo-attenuator.png\",alt:\"vco-sawrave filter + lfo + attenuator\"})}),`\n`,(0,l.jsxs)(t.h4,{id:\"time-for-a-melody\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#time-for-a-melody\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Time for a Melody\"]}),`\n`,(0,l.jsx)(t.p,{children:\"Using the pitch modulation attenuator, we can create a spacey melody ontop (layered with a DAW):\"}),`\n`,(0,l.jsx)(he.default,{type:\"audio/x-m4a\",src:\"./audio/vco-rave-filter-lfo-attenuator-melody.mp3\",controls:!0}),`\n`,(0,l.jsx)(t.p,{children:\"(The steady beeping came from my potentiometer bouncing out of the breadboard...)\"}),`\n`,(0,l.jsxs)(t.h3,{id:\"gate-signals-and-the-amplifier\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#gate-signals-and-the-amplifier\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Gate Signals and the Amplifier\"]}),`\n`,(0,l.jsx)(t.p,{children:`In our little synth, the tone keeps going on and on and on, even if we release the key on the keyboard.\nThis is not really practical to make music with.. To control the volume / amplitude of a signal, we can use a VCA (= Voltage Controlled Amplifier).`}),`\n`,(0,l.jsx)(t.p,{children:`When using a keyboard, we want the sound to start when the key is pressed and stop when it is released.\nTherefore, a keyboard that includes CV will commonly also have a Gate output.\nBy convention, the gate signal will be low (0V) when no key is pressed and high (5V) when a key is pressed.`}),`\n`,(0,l.jsx)(t.p,{children:\"Back to the circuit: To keep it simple, let's remove the lfo and the attenuators, and add the VCA + Gate:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-filter-vca.png\",alt:\"vco, filter + vca sketch\"})}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-filter-vca-real.png\",alt:\"vco, filter + vca real\"})}),`\n`,(0,l.jsx)(t.p,{children:\"Now we can release the key and the sound will stop.\"}),`\n`,(0,l.jsx)(he.default,{type:\"audio/x-m4a\",src:\"./audio/vco-rave-filter-vca-melody.mp3\",controls:!0}),`\n`,(0,l.jsxs)(t.h3,{id:\"the-adsr-envelope\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-adsr-envelope\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"The ADSR Envelope\"]}),`\n`,(0,l.jsx)(t.p,{children:`Using the gate to control our amplifier sounds really hard and sometimes clicky.\nFor softer sounds, we might want to fade the in when the key is pressed and out when it is released.\nThis is where the ADSR envelope comes in. ADSR stands for:`}),`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"Attack: Time till the note reaches the max volume\"}),`\n`,(0,l.jsx)(t.li,{children:\"Decay: Time till the note reaches the sustain level\"}),`\n`,(0,l.jsx)(t.li,{children:\"Sustain: Final level for the sustained note\"}),`\n`,(0,l.jsx)(t.li,{children:\"Release: Time till the note is silent after the key is released\"}),`\n`]}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/ADSR_parameter.svg/2880px-ADSR_parameter.svg.png\",alt:\"ADSR\"})}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-filter-vca-envelope.png\",alt:\"ADSR sketch\"})}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/vco-filter-vca-adsr-real.png\",alt:\"ADSR real\"})}),`\n`,(0,l.jsx)(t.p,{children:`Now we can control the ADSR curve with the 4 pots on the bottom!\nAs we will see soon, we can also use attenuators to modulate parameters with an envelope.`}),`\n`,(0,l.jsx)(he.default,{type:\"audio/x-m4a\",src:\"./audio/vco-rave-filter-vca-adsr-melody.mp3\",controls:!0}),`\n`,(0,l.jsx)(t.p,{children:\"In the waveform, we can see the slow decay:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/sawrave-vco-filter-vca-adsr.png\",alt:\"ADSR real\"})}),`\n`,(0,l.jsxs)(t.h3,{id:\"putting-it-all-together\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#putting-it-all-together\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Putting it all together\"]}),`\n`,(0,l.jsx)(t.p,{children:\"After we examined the most important building blocks of a classic analog synthesizer, let's combine all of them!\"}),`\n`,(0,l.jsxs)(t.p,{children:[\"This sketch from the \",(0,l.jsx)(t.a,{href:\"http://micromodular.pl/howto\",children:\"micromodular how to site\"}),\" shows how we can arrange all the parts to a fully functional monosynth:\"]}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/bb_simplest_synthesizer.png\",alt:\"full synth\"})}),`\n`,(0,l.jsx)(t.p,{children:\"Of course, I also built this thing:\"}),`\n`,(0,l.jsx)(t.p,{children:(0,l.jsx)(t.img,{src:\"./img/analog-synthesis/whole-synth.png\",alt:\"full synth real\"})}),`\n`,(0,l.jsxs)(t.h4,{id:\"controls\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#controls\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Controls\"]}),`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsxs)(t.li,{children:[\"VCO\",`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"pitch coarse\"}),`\n`,(0,l.jsx)(t.li,{children:\"pitch fine\"}),`\n`,(0,l.jsx)(t.li,{children:\"pulse width (for square wave)\"}),`\n`,(0,l.jsx)(t.li,{children:\"pitch mod ADSR attenuator\"}),`\n`,(0,l.jsx)(t.li,{children:\"pitch mod LFO attenuator\"}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(t.li,{children:[\"VCF\",`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"cutoff\"}),`\n`,(0,l.jsx)(t.li,{children:\"resonance\"}),`\n`,(0,l.jsx)(t.li,{children:\"cutoff mod ADSR attenuator\"}),`\n`,(0,l.jsx)(t.li,{children:\"res mod LFO attenuator\"}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(t.li,{children:[\"VCA\",`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"manual gain\"}),`\n`,(0,l.jsx)(t.li,{children:\"volume attenuator\"}),`\n`,(0,l.jsx)(t.li,{children:\"gain mod ADSR attenuator\"}),`\n`,(0,l.jsx)(t.li,{children:\"gain mod LFO attenuator\"}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(t.li,{children:[\"LFO\",`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"rate coarse\"}),`\n`,(0,l.jsx)(t.li,{children:\"rate fine\"}),`\n`,(0,l.jsx)(t.li,{children:\"pulse width\"}),`\n`]}),`\n`]}),`\n`]}),`\n`,(0,l.jsxs)(t.h3,{id:\"final-thoughts\",children:[(0,l.jsx)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#final-thoughts\",children:(0,l.jsx)(t.span,{className:\"icon icon-link\"})}),\"Final Thoughts\"]}),`\n`,(0,l.jsx)(t.p,{children:`Those were the most essential building blocks of an analog synthesizer.\nIn a future posts, I might`}),`\n`,(0,l.jsxs)(t.ul,{children:[`\n`,(0,l.jsx)(t.li,{children:\"combine the synth with my DIY Keyboard Scanner\"}),`\n`,(0,l.jsx)(t.li,{children:\"use a multi channel DAC to output polyphonic CV\"}),`\n`,(0,l.jsx)(t.li,{children:\"build modules from scratch\"}),`\n`]})]});return r?(0,l.jsx)(r,Object.assign({},e,{children:n})):n}var sl=ll;return ul;})();\n;return Component.default;"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"analog-synthesis"},"buildId":"vEH9g2d-Cu2NrEISP3t7v","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>