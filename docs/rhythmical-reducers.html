<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Loophole Letters</title><meta content="This is where felixroos writes about music and coding and stuff that he finds interesting." name="description"/><meta property="og:url" content="https://felixroos.github.io/rhythmical-reducers"/><link rel="canonical" href="https://felixroos.github.io/rhythmical-reducers"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"/><meta property="og:type" content="website"/><meta property="og:site_name" content="Loophole Letters"/><meta property="og:description" content="This is where felixroos writes about music and coding and stuff that he finds interesting."/><meta property="og:title" content="Loophole Letters"/><meta property="og:image" content="https://felixroos.github.io/images/site-preview.png"/><meta name="next-head-count" content="12"/><link rel="preload" href="/_next/static/css/824406bfec680877c871.css" as="style"/><link rel="stylesheet" href="/_next/static/css/824406bfec680877c871.css" data-n-g=""/><link rel="preload" href="/_next/static/css/3dd4d340904c9260f6d8.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3dd4d340904c9260f6d8.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-ddd010a953737b6e3536.js" defer=""></script><script src="/_next/static/chunks/framework-895f067827ebe11ffe45.js" defer=""></script><script src="/_next/static/chunks/main-222191e14496d29481e0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-99b66f93221fbb7f4a73.js" defer=""></script><script src="/_next/static/chunks/404-d5935ede064e9f79c1b7.js" defer=""></script><script src="/_next/static/chunks/pages/%5Bslug%5D-451cfbeca75d2f1e006e.js" defer=""></script><script src="/_next/static/JsI6sbwlLaANsE0qRchCY/_buildManifest.js" defer=""></script><script src="/_next/static/JsI6sbwlLaANsE0qRchCY/_ssgManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css-global 1ob364s">html{--theme-ui-colors-primary:#307AC6;--theme-ui-colors-secondary:#27a727;--theme-ui-colors-background:#fff;--theme-ui-colors-text:#1b1e21;--theme-ui-colors-blue:#4169e1;--theme-ui-colors-cyan:#41b9e1;--theme-ui-colors-gray:#667788;--theme-ui-colors-green:#27a727;--theme-ui-colors-purple:#6941e1;--theme-ui-colors-orange:#fba100;--theme-ui-colors-pink:#e141b9;--theme-ui-colors-red:#ee5555;--theme-ui-colors-white:#fff;--theme-ui-colors-yellow:#FFDD22;--theme-ui-colors-lite:#eee;color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}html.theme-ui-__default{--theme-ui-colors-primary:#307AC6;--theme-ui-colors-secondary:#27a727;--theme-ui-colors-background:#fff;--theme-ui-colors-text:#1b1e21;--theme-ui-colors-blue:#4169e1;--theme-ui-colors-cyan:#41b9e1;--theme-ui-colors-gray:#667788;--theme-ui-colors-green:#27a727;--theme-ui-colors-purple:#6941e1;--theme-ui-colors-orange:#fba100;--theme-ui-colors-pink:#e141b9;--theme-ui-colors-red:#ee5555;--theme-ui-colors-white:#fff;--theme-ui-colors-yellow:#FFDD22;--theme-ui-colors-lite:#eee;}html.theme-ui-dark{--theme-ui-colors-text:#fff;--theme-ui-colors-background:#292C34;--theme-ui-colors-lite:#333;--theme-ui-colors-primary:#85DEFB;}</style><style data-emotion="css-global 0"></style><style data-emotion="css 1td7120">.css-1td7120{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:100vh;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:auto;position:relative;max-width:800px;}</style><div class="css-1td7120"><style data-emotion="css eim2bq">.css-eim2bq{box-sizing:border-box;margin:0;min-width:0;padding:16px;position:absolute;top:0;right:0;opacity:0;-webkit-transition:opacity .25s ease-in-out;transition:opacity .25s ease-in-out;}</style><div class="css-eim2bq"><style data-emotion="css jakyet">.css-jakyet{box-sizing:border-box;margin:0;min-width:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;display:inline-block;text-align:center;line-height:inherit;-webkit-text-decoration:none;text-decoration:none;font-size:inherit;padding-left:16px;padding-right:16px;padding-top:8px;padding-bottom:8px;color:var(--theme-ui-colors-white);background-color:var(--theme-ui-colors-primary);border:0;border-radius:4px;color:var(--theme-ui-colors-background);background-color:var(--theme-ui-colors-primary);background-color:var(--theme-ui-colors-gray);padding-top:4px;padding-bottom:4px;padding-left:8px;padding-right:8px;font-size:16px;cursor:pointer;}.css-jakyet:hover{background-color:var(--theme-ui-colors-text);}</style><button class="css-jakyet">light<!-- --> mode</button></div><style data-emotion="css 1doo0ju">.css-1doo0ju{box-sizing:border-box;margin:0;min-width:0;padding-top:32px;}</style><header class="css-1doo0ju"><style data-emotion="css 1n35gdr">.css-1n35gdr{box-sizing:border-box;margin:0;min-width:0;font-family:Montserrat,sans-serif;font-weight:900;line-height:1.1;font-size:30px;padding-bottom:32px;padding-left:16px;padding-right:16px;font-weight:900;}@media screen and (min-width: 32em){.css-1n35gdr{padding-left:32px;padding-right:32px;}}</style><h1 class="css-1n35gdr"><style data-emotion="css 1ie6k50">.css-1ie6k50{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-text);}</style><a href="/" class="css-1ie6k50">♾️ loophole letters</a></h1></header><style data-emotion="css td0gup">.css-td0gup{box-sizing:border-box;margin:0;min-width:0;padding-left:16px;padding-right:16px;padding-bottom:0;}@media screen and (min-width: 32em){.css-td0gup{padding-left:32px;padding-right:32px;}}</style><main class="css-td0gup"><style data-emotion="css vurnku">.css-vurnku{box-sizing:border-box;margin:0;min-width:0;}</style><article class="css-vurnku"><style data-emotion="css 1hep91p">.css-1hep91p{box-sizing:border-box;margin:0;min-width:0;float:right;}</style><div class="css-1hep91p"><style data-emotion="css 1f7qs6g">.css-1f7qs6g{box-sizing:border-box;margin:0;min-width:0;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;display:inline-block;text-align:center;line-height:inherit;-webkit-text-decoration:none;text-decoration:none;font-size:inherit;padding-left:16px;padding-right:16px;padding-top:8px;padding-bottom:8px;color:var(--theme-ui-colors-white);background-color:var(--theme-ui-colors-primary);border:0;border-radius:4px;color:var(--theme-ui-colors-primary);border:1px solid var(--theme-ui-colors-primary);background-color:var(--theme-ui-colors-background);display:inline;margin-right:4px;}</style><button class="css-1f7qs6g">rhythmical</button><button class="css-1f7qs6g">code</button></div><style data-emotion="css 108j34h">.css-108j34h{box-sizing:border-box;margin:0;min-width:0;font-family:Montserrat,sans-serif;font-weight:900;line-height:1.1;font-size:40px;}</style><h2 class="css-108j34h">Rhythmical Mutations</h2><style data-emotion="css 188b938">.css-188b938{box-sizing:border-box;margin:0;min-width:0;font-family:'Merriweather','Georgia',serif;font-weight:400;line-height:1.75;margin-bottom:32px;color:var(--theme-ui-colors-gray);font-style:italic;}</style><p class="css-188b938">August 02, 2020</p><div class="css-vurnku"><style data-emotion="css 1i3mtem">.css-1i3mtem{font-size:16px;font-weight:400;line-height:1.75;font-family:'Merriweather','Georgia',serif;}</style><p class="css-1i3mtem">So far, rhythmical knows two ways of data transformation/mutation:</p>
<ol>
<style data-emotion="css 58pxoz">.css-58pxoz{font-family:'Merriweather','Georgia',serif;margin-bottom:14px;}</style><li class="css-58pxoz"><style data-emotion="css 1e6egy8">.css-1e6egy8{color:var(--theme-ui-colors-primary);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;}</style><a class="css-1e6egy8">plugins</a> as preprocessors</li>
<li class="css-58pxoz"><a class="css-1e6egy8">reducers</a> as postprocessors</li>
</ol>
<p class="css-1i3mtem">In this post, I want to develop the idea of mutation to allow more flexibility.</p>
<!-- -->
<style data-emotion="css 12ewxln">.css-12ewxln{box-sizing:border-box;margin:0;min-width:0;font-family:Montserrat,sans-serif;font-weight:900;line-height:1.1;margin-bottom:8px;margin-top:32px;}</style><h2 id="reducers" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Reducers</h2>
<p class="css-1i3mtem">With reducers, flat rhythmical events can be mutated after rendering:</p>
<pre class="language-js"><code class="language-js"><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;d4&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;eb4&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;e4&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;f4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">tieReducer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// appends &quot;_&quot; event to &quot;f4&quot; event</span>
</code></pre>
<p class="css-1i3mtem">or</p>
<pre class="language-js"><code class="language-js"><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicings</span><span class="token punctuation">(</span>triads<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// generates notes in range for each chord symbol (implemented in last post)</span>
</code></pre>
<p class="css-1i3mtem">As a reducer runs, the previous state of the events is lost, for example, the chord symbols will be vanished after the voicing reducer.</p>
<h3 id="bass-reducer" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Bass Reducer</h3>
<p class="css-1i3mtem">As another example, I want to introduce this simple reducer:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// reduces events to bass notes</span>
<span class="token keyword module">export</span> <span class="token keyword">const</span> bassNotes<span class="token operator">:</span> <span class="token function-variable function"><span class="token maybe-class-name">EventReducer</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">events<span class="token punctuation">,</span> event<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> event<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">!==</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> events<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> bassNote <span class="token operator">=</span> <span class="token function">getBassNote</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> events<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>event<span class="token punctuation">,</span> value<span class="token operator">:</span> bassNote <span class="token operator">+</span> <span class="token string">&#x27;2&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// returns bass note of given chord</span>
<span class="token keyword">function</span> <span class="token function">getBassNote</span><span class="token punctuation">(</span><span class="token parameter">chord<span class="token operator">:</span> string<span class="token punctuation">,</span> ignoreSlash <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>chord<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ignoreSlash <span class="token operator">&amp;&amp;</span> chord<span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> chord<span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&#x27;/&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> match <span class="token operator">=</span> chord<span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([A-G][b|#]?)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>match <span class="token operator">||</span> <span class="token operator">!</span>match<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">return</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p class="css-1i3mtem">It takes chord symbols and returns only the bass note in a fixed octave:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="12.5" ry="12.5" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="174" width="300" height="24.5"></rect></g><g><rect rx="12.5" ry="12.5" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="50.5" width="150" height="24.5"></rect><rect rx="12.5" ry="12.5" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="1" width="150" height="24.5"></rect><rect rx="12.5" ry="12.5" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="174" width="300" height="24.5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>bassNotes<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<p class="css-1i3mtem">I will improve this later, adding a range option + error handling..</p>
<h3 id="voicing-reducer" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Voicing Reducer</h3>
<p class="css-1i3mtem">Another reducer that works with chord symbols is the voicing reducer introduced <a class="css-1e6egy8">in the last post</a>.
I now removed the hard coded bass note from it.</p>
<p class="css-1i3mtem">If we run the voicings reducer on the same rhythm object, we get:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="122.5" width="300" height="15"></rect><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="77" width="300" height="15"></rect><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="1" width="300" height="15"></rect></g><g><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="183.5" width="150" height="15"></rect><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="107.5" width="150" height="15"></rect><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="46.5" width="150" height="15"></rect><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="153" width="150" height="15"></rect><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="77" width="150" height="15"></rect><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="16" width="150" height="15"></rect><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="122.5" width="300" height="15"></rect><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="77" width="300" height="15"></rect><rect rx="7.6923076923076925" ry="7.6923076923076925" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="1" width="300" height="15"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicings</span><span class="token punctuation">(</span>triads<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<h3 id="running-two-reducers-on-the-same-array" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Running two reducers on the same array</h3>
<p class="css-1i3mtem">To get chords + bassline, we could combine both reducers like this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="64" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="40.5" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="1" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="191" width="300" height="7.5"></rect></g><g><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="96" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="56" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="24.5" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="80" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="40.5" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="8.5" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="64" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="40.5" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="1" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="151" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="135.5" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="191" width="300" height="7.5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> events <span class="token operator">=</span> <span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
      sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span><span class="token spread operator">...</span>events<span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">voicings</span><span class="token punctuation">(</span>triads<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>events<span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>bassNotes<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<p class="css-1i3mtem">But this is kind of ugly if we want to use a single function call (like needed for MDX), which requires wrapping it in an <a target="_blank" href="https://flaviocopes.com/javascript-iife/" class="css-1e6egy8">IIFE</a>.. It would be nice to have something like this:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">voicings</span><span class="token punctuation">(</span>triads<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bassNotes<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
<p class="css-1i3mtem">The parallel reducer will run both reducers on the same events in parallel.</p>
<h3 id="parallel-reducer" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>parallel reducer</h3>
<p class="css-1i3mtem">The implementation is pretty straightforward:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">parallel</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">reducers<span class="token operator">:</span> <span class="token maybe-class-name">EventReducer</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function-variable function"><span class="token maybe-class-name">EventReducer</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">reducers</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token parameter">events<span class="token punctuation">,</span> event<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    reducers<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      events <span class="token operator">=</span> <span class="token function">r</span><span class="token punctuation">(</span>events<span class="token punctuation">,</span> event<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> events<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">That&#x27;s it!</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="64" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="40.5" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="1" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="191" width="300" height="7.5"></rect></g><g><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="96" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="56" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="24.5" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="151" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="80" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="40.5" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="8.5" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="135.5" width="150" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="64" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="40.5" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="1" width="300" height="7.5"></rect><rect rx="4" ry="4" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="191" width="300" height="7.5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">voicings</span><span class="token punctuation">(</span>triads<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bassNotes<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<p class="css-1i3mtem">Let&#x27;s try a more sophisticated example:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="33" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="17" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="0" y="156" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="81" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="33" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="33" y="161.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="81" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="49.5" y="134.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="70.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="33" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="66" y="172" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="83" y="193.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="99.5" y="166.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="116" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="132.5" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="149.5" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="166" y="188" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="182.5" y="188" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="199" y="193.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="70.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="215.5" y="134.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="232.5" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="249" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="265.5" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="75.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="59.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="38" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="27.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="156" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="75.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="59.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="22" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="193.5" width="8" height="5"></rect></g><g><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="1" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="299" y="166.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="1" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="315.5" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="59.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="1" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="332" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="11.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="348.5" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="22" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="365" y="188" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="65" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="38" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="17" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="182.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="70.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="38" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="17" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="156" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="43.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="27.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="398.5" y="193.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="431.5" y="193.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="448.5" y="166.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="86.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="465" y="140" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="54.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="38" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="481.5" y="177.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="91.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="75.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="49" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="498" y="150.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="91.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="70.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="65" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="145" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="65" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="43.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="33" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="6" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="182.5" width="8" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="33" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="17" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="531.5" y="156" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="27.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="6" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="564.5" y="145" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="65" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="43.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="33" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="6" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="581" y="182.5" width="16.5" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="70.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="54.5" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="33" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="17" width="33" height="5"></rect><rect rx="2.7027027027027026" ry="2.7027027027027026" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="598" y="156" width="33" height="5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Db^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;_&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;F#m7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B7b9&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7b13&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Db^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;DbmM7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bo7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7b9&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">tieReducer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">voicings</span><span class="token punctuation">(</span>lefthand<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bassNotes<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<p class="css-1i3mtem">To make the parallel reducer work with voicings, I had to adjust the voicings reducer (see comments):</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">voicings</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">dictionary<span class="token punctuation">,</span> range<span class="token punctuation">,</span> sorter <span class="token operator">=</span> topNoteSort</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">events<span class="token punctuation">,</span> event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> event<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">!==</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> events
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> voicings <span class="token operator">=</span> <span class="token function">voicingsInRange</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">,</span> dictionary<span class="token punctuation">,</span> range<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> tonic<span class="token punctuation">,</span> aliases <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token maybe-class-name">Chord</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> symbol <span class="token operator">=</span> <span class="token known-class-name class-name">Object</span><span class="token punctuation">.</span><span class="token method function property-access">keys</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token parameter">_symbol</span> <span class="token arrow operator">=&gt;</span> aliases<span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span>_symbol<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>symbol<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">no voicings found for chord &quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>event<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> events<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> notes<span class="token punctuation">;</span>
  <span class="token comment">// here we filter the events for having a chord set (skips bass notes)</span>
  <span class="token keyword">const</span> lastVoiced <span class="token operator">=</span> events<span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token arrow operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span>e<span class="token punctuation">.</span><span class="token property-access">chord</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>lastVoiced<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    notes <span class="token operator">=</span> voicings<span class="token punctuation">[</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">ceil</span><span class="token punctuation">(</span>voicings<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
    notes <span class="token operator">=</span> voicings<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token function">sorter</span><span class="token punctuation">(</span>lastVoiced<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// here we pass the chord symbol that generated the note</span>
  <span class="token keyword control-flow">return</span> events<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span>notes<span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">note</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token spread operator">...</span>event<span class="token punctuation">,</span> value<span class="token operator">:</span> note<span class="token punctuation">,</span> chord<span class="token operator">:</span> event<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">In general, to make a reducer work in parallel, we need to add some filterable property (like chord property above).
Without filtering, other events from parallel reducers will pollute the array (like bass notes in a voicing reducer).</p>
<h3 id="track-reducer" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>track reducer</h3>
<p class="css-1i3mtem">What if we want to run reducers only on a certain set of events? For example, if we add a melody, we want the voicing reducer to ignore that part. For this case, I wrote this track reducer:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">track</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">track<span class="token punctuation">,</span> reducer <span class="token operator">=</span> idleReducer</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">trackFilter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> track<span class="token operator">:</span> t <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> t <span class="token operator">===</span> track<span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token parameter">events<span class="token punctuation">,</span> event<span class="token punctuation">,</span> <span class="token spread operator">...</span>args</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token function">trackFilter</span><span class="token punctuation">(</span>event <span class="token keyword module">as</span> any<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">reducer</span><span class="token punctuation">(</span>events<span class="token punctuation">,</span> event<span class="token punctuation">,</span> <span class="token spread operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">:</span> events<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// if no reducer passed to track, all events are used as is</span>
<span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">idleReducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">events<span class="token punctuation">,</span> event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> events<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">In Action:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="1" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="194" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="116.5" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="102" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="78" width="300" height="4.5"></rect></g><g><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="34.5" width="75" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="20" width="37.5" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="411" y="34.5" width="37.5" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="25" width="75" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="523" y="10.5" width="75" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="1" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="170" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="136" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="112" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="92.5" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="160" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="126.5" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="102" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="83" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="194" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="116.5" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="102" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="78" width="300" height="4.5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
      parallel<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          track<span class="token operator">:</span> <span class="token string">&#x27;melody&#x27;</span><span class="token punctuation">,</span>
          sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;B4&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;E5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          track<span class="token operator">:</span> <span class="token string">&#x27;chords&#x27;</span><span class="token punctuation">,</span>
          sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token function">inheritProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;track&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span>
    <span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&#x27;melody&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&#x27;chords&#x27;</span><span class="token punctuation">,</span> bassNotes<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">track</span><span class="token punctuation">(</span><span class="token string">&#x27;chords&#x27;</span><span class="token punctuation">,</span> <span class="token function">voicings</span><span class="token punctuation">(</span>triads<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<p class="css-1i3mtem">Now the bassNotes and voicings reducers only run on events on the chords track, while the melody track stays as it is.</p>
<h3 id="mutation-inheritance" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Mutation Inheritance</h3>
<p class="css-1i3mtem">We could also inherit mutation functions:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="1" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="116.5" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="102" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="78" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="194" width="300" height="4.5"></rect></g><g><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="34.5" width="75" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="20" width="37.5" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="411" y="34.5" width="37.5" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="25" width="75" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="523" y="10.5" width="75" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="1" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="136" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="112" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="92.5" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="170" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="126.5" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="102" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="83" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="160" width="150" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="116.5" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="102" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="78" width="300" height="4.5"></rect><rect rx="2.4390243902439024" ry="2.4390243902439024" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="194" width="300" height="4.5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
      parallel<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;B4&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;E5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          reducer<span class="token operator">:</span> <span class="token function">parallel</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">voicings</span><span class="token punctuation">(</span>triads<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bassNotes<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token function">inheritProperty</span><span class="token punctuation">(</span><span class="token string">&#x27;reducer&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token function">applyReducers</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token comment">// filter out chords</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">applyReducers</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">keepEventsWithoutReducer<span class="token operator">:</span> boolean</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function-variable function"><span class="token maybe-class-name">EventReducer</span></span> <span class="token operator">=</span>
  <span class="token punctuation">(</span><span class="token parameter">keepEventsWithoutReducer <span class="token operator">=</span> <span class="token boolean">true</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
  <span class="token punctuation">(</span><span class="token parameter">events<span class="token punctuation">,</span> event<span class="token punctuation">,</span> <span class="token spread operator">...</span>args</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">reducer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      events <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token method function property-access">reducer</span><span class="token punctuation">(</span>events<span class="token punctuation">,</span> event<span class="token punctuation">,</span> <span class="token spread operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>keepEventsWithoutReducer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">return</span> events<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>event<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">return</span> events<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">Pro</p>
<style data-emotion="css zoser8">.css-zoser8{padding-top:8px;}</style><ul class="css-zoser8">
<li class="css-58pxoz">no track reducer filter magic needed</li>
<li class="css-58pxoz">much shorter</li>
</ul>
<p class="css-1i3mtem">Contra</p>
<ul class="css-zoser8">
<li class="css-58pxoz">JS in JSON =&gt; not serializable</li>
<li class="css-58pxoz">chords pollute final event array =&gt; need to filter non usable events</li>
</ul>
<h3 id="thoughts-on-reducers" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Thoughts on Reducers</h3>
<p class="css-1i3mtem">Reducers are a handy way of postprocessing events. On the other hand, it starts to get a little bit magical and untransparent when having different purpose tracks and nesting...
Also, it seems kind of odd that there are now two hierarchial structures: the rhythmical object and the postprocessing tree.</p>
<h2 id="plugins" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Plugins</h2>
<p class="css-1i3mtem">As opposed to reducers, plugins (previously called <a class="css-1e6egy8">features</a>) are applied while the rhythmical tree is processed.
It would be nice if some of the above reducer functionality could be added as plugins, for example:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
      parallel<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;B4&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;E5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          plugin<span class="token operator">:</span> <span class="token string">&#x27;chords&#x27;</span><span class="token punctuation">,</span>
          sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token function">inherit</span><span class="token punctuation">(</span><span class="token string">&#x27;plugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">chords</span><span class="token punctuation">(</span><span class="token punctuation">{</span> dictionary<span class="token operator">:</span> triads <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
<p class="css-1i3mtem">The above snippet would produce the same output as this notation:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythmObject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    parallel<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;C5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;B4&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;E5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
<p class="css-1i3mtem">which can be rendered normally:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="1" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="164.5" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="144" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="110" width="300" height="6.5"></rect></g><g><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="48.5" width="75" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="28" width="37.5" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="411" y="48.5" width="37.5" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="35" width="75" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="523" y="14.5" width="75" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="1" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="192" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="158" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="130.5" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="178.5" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="144" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="117" width="150" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="164.5" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="144" width="300" height="6.5"></rect><rect rx="3.4482758620689653" ry="3.4482758620689653" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="110" width="300" height="6.5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<h3 id="back-to-the-basics" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>back to the basics</h3>
<p class="css-1i3mtem">For the above ideas to work, I first needed to add more flexibility to the <a target="_blank" href="https://felixroos.github.io/blog/rhythmical-objects/#flattening-nested-objects" class="css-1e6egy8">flatObject</a> method:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">function</span> flatObject<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>agnostic<span class="token operator">:</span> <span class="token maybe-class-name">AgnosticChild</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> props<span class="token operator">:</span> <span class="token maybe-class-name">FlatObjectProps</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">ValueChild</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> getChildren<span class="token operator">:</span> <span class="token maybe-class-name">ChildrenResolver</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token property-access">getChildren</span> <span class="token operator">||</span> getChildrenWithPath<span class="token punctuation">;</span>
  <span class="token comment">// this function decides if the given child should be flattened or not</span>
  <span class="token keyword">const</span> <span class="token function-variable function">isDeep</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">child<span class="token operator">:</span> <span class="token maybe-class-name">ValueChild</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> boolean <span class="token operator">=</span>
    props<span class="token punctuation">.</span><span class="token property-access">isDeep</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> child<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> child<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">===</span> <span class="token string">&#x27;object&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> flat<span class="token operator">:</span> <span class="token maybe-class-name">ValueChild</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> children <span class="token operator">=</span> <span class="token function">getChildren</span><span class="token punctuation">(</span>agnostic<span class="token punctuation">,</span> props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  children<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> props<span class="token punctuation">.</span><span class="token property-access">mapChild</span> <span class="token operator">===</span> <span class="token string">&#x27;function&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// this function will mutate the child</span>
      child <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token method function property-access">mapChild</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        child<span class="token punctuation">,</span>
        isLeaf<span class="token operator">:</span> <span class="token operator">!</span><span class="token function">isDeep</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">,</span>
        index<span class="token punctuation">,</span>
        props<span class="token punctuation">,</span>
        siblings<span class="token operator">:</span> children<span class="token punctuation">,</span>
        parent<span class="token operator">:</span> agnostic<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token function">isDeep</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      flat <span class="token operator">=</span> flat<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span><span class="token function">flatObject</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> props<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
      flat<span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> flat<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul class="css-zoser8">
<li class="css-58pxoz">isDeep can now be passed as a function to override the exit condition of the recursion</li>
<li class="css-58pxoz">mapChild can be used to manipulate children before the exit condition runs</li>
</ul>
<h3 id="new-renderrhythm-method" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>new renderRhythm method</h3>
<p class="css-1i3mtem">renderRhythmObject is now replaced by renderRhythm, which uses isDeep and mapChild:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">function</span> renderRhythm<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>agnostic<span class="token operator">:</span> <span class="token maybe-class-name">AgnosticChild</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> rhythmPlugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">toObject</span><span class="token punctuation">(</span>agnostic<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> totalDuration <span class="token operator">=</span> root<span class="token punctuation">.</span><span class="token property-access">duration</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// outer duration</span>
  <span class="token keyword control-flow">return</span> <span class="token function">flatObject</span><span class="token punctuation">(</span>agnostic<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    getChildren<span class="token operator">:</span> rhythmChildren<span class="token punctuation">,</span>
    <span class="token comment">// dont stop recursion if child has parallel or sequential props</span>
    <span class="token function-variable function">isDeep</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">child</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
      <span class="token punctuation">[</span><span class="token string">&#x27;value&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;parallel&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;sequential&#x27;</span><span class="token punctuation">]</span> <span class="token comment">// this spares the sequential child mess from earlier</span>
        <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">deep<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> deep <span class="token operator">||</span> <span class="token punctuation">(</span>child<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> child<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&#x27;object&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// apply features to children</span>
    mapChild<span class="token operator">:</span> <span class="token function">renderRhythmPlugins</span><span class="token punctuation">(</span>rhythmPlugins<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span> path <span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>time<span class="token punctuation">,</span> duration<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getTimeDuration</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> totalDuration<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>event<span class="token punctuation">,</span> time<span class="token punctuation">,</span> duration<span class="token punctuation">,</span> path <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">renderRhythmPlugins</span><span class="token punctuation">(</span><span class="token parameter">rhythmPlugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    rhythmPlugins<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">plugin</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      props<span class="token punctuation">.</span><span class="token property-access">child</span> <span class="token operator">=</span> <span class="token function">plugin</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">return</span> props<span class="token punctuation">.</span><span class="token property-access">child</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> rhythmChildren<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>agnostic<span class="token operator">:</span> <span class="token maybe-class-name">AgnosticChild</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> parent <span class="token operator">=</span> <span class="token function">toObject</span><span class="token punctuation">(</span><span class="token function">applyFeatures</span><span class="token punctuation">(</span>agnostic<span class="token punctuation">,</span> <span class="token punctuation">[</span>sequentialParent<span class="token punctuation">,</span> parallelParent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> children <span class="token operator">=</span> <span class="token function">toArray</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">return</span> children<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="inherit-plugin" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>inherit plugin</h3>
<p class="css-1i3mtem">Now, plugins look much sexier than the old features. The <a target="_blank" href="https://felixroos.github.io/blog/rhythmical-objects/#inheritance" class="css-1e6egy8">inherit</a> plugin can be implemented like this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">inherit</span><span class="token punctuation">(</span><span class="token parameter">property</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> child<span class="token punctuation">,</span> parent <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span>child<span class="token punctuation">,</span> <span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token operator">:</span> child<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">??</span> parent<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<details><summary>compare this to the old inheritProperty feature</summary><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">inheritProperty</span><span class="token punctuation">(</span><span class="token parameter">property</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span><span class="token parameter">_parent</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> parent <span class="token operator">=</span> <span class="token function">toObject</span><span class="token punctuation">(</span>_parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>parent<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token operator">!</span>parent<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword control-flow">return</span> parent<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
      <span class="token spread operator">...</span>parent<span class="token punctuation">,</span>
      value<span class="token operator">:</span> <span class="token function">toArray</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">child</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> childObj <span class="token operator">=</span> <span class="token function">toObject</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
          <span class="token spread operator">...</span>childObj<span class="token punctuation">,</span>
          <span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token operator">:</span> childObj<span class="token punctuation">[</span>property<span class="token punctuation">]</span> <span class="token operator">||</span> parent<span class="token punctuation">[</span>property<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></details>
<br/>
<h3 id="chords-plugin" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>chords plugin</h3>
<p class="css-1i3mtem">Chord voicings can be resolved like this:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword module">export</span> <span class="token keyword">const</span> <span class="token function-variable function">chords</span> <span class="token operator">=</span>
  <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> dictionary<span class="token punctuation">,</span> range <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
  <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> child<span class="token punctuation">,</span> isLeaf<span class="token punctuation">,</span> props<span class="token punctuation">,</span> parent <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isLeaf <span class="token operator">||</span> parent<span class="token punctuation">.</span><span class="token property-access">chord</span> <span class="token operator">||</span> child<span class="token punctuation">.</span><span class="token property-access">plugin</span> <span class="token operator">!==</span> <span class="token string">&#x27;chords&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// prevent infinite loop</span>
      <span class="token keyword control-flow">return</span> child<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token function">voicingsInRange</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">,</span> child<span class="token punctuation">.</span><span class="token property-access">dictionary</span> <span class="token operator">||</span> dictionary<span class="token punctuation">,</span> child<span class="token punctuation">.</span><span class="token property-access">range</span> <span class="token operator">||</span> range<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span><span class="token property-access">lastVoicing</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// if not the first =&gt; voice leading</span>
      <span class="token keyword">const</span> diff <span class="token operator">=</span> <span class="token punctuation">(</span>
        voicing <span class="token comment">// returns distance between top notes</span>
      <span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
        <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">abs</span><span class="token punctuation">(</span><span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span><span class="token property-access">lastVoicing</span><span class="token punctuation">[</span>props<span class="token punctuation">.</span><span class="token property-access">lastVoicing</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token maybe-class-name">Note</span><span class="token punctuation">.</span><span class="token method function property-access">midi</span><span class="token punctuation">(</span>voicing<span class="token punctuation">[</span>voicing<span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      options <span class="token operator">=</span> options<span class="token punctuation">.</span><span class="token method function property-access">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">diff</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">diff</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// sort by min top note distance</span>
    <span class="token punctuation">}</span>
    props<span class="token punctuation">.</span><span class="token property-access">lastVoicing</span> <span class="token operator">=</span> options<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// pick best voicing</span>
    <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
      <span class="token spread operator">...</span>child<span class="token punctuation">,</span>
      chord<span class="token operator">:</span> child<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">,</span> <span class="token comment">// this is needed to stop the plugin from running again on its children</span>
      value<span class="token operator">:</span> options<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      type<span class="token operator">:</span> <span class="token string">&#x27;parallel&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p class="css-1i3mtem">In action:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="darksalmon" x="0" y="48" width="300" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="189.5" width="300" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="161" width="300" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="114" width="300" height="9"></rect></g><g><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="darksalmon" x="299" y="29" width="75" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="darksalmon" x="373.5" y="1" width="75" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="darksalmon" x="448.5" y="38.5" width="75" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="darksalmon" x="523" y="1" width="75" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="darksalmon" x="598" y="48" width="300" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="180" width="150" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="142" width="150" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="114" width="150" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="180" width="150" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="151.5" width="150" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="114" width="150" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="189.5" width="300" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="161" width="300" height="9"></rect><rect rx="4.761904761904762" ry="4.761904761904762" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="114" width="300" height="9"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythm</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
      parallel<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;A4&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab4&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;G4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          color<span class="token operator">:</span> <span class="token string">&#x27;darksalmon&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Fm&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          plugin<span class="token operator">:</span> <span class="token string">&#x27;chords&#x27;</span><span class="token punctuation">,</span>
          velocity<span class="token operator">:</span> <span class="token number">0.6</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token function">inherit</span><span class="token punctuation">(</span><span class="token string">&#x27;plugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">inherit</span><span class="token punctuation">(</span><span class="token string">&#x27;color&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">inherit</span><span class="token punctuation">(</span><span class="token string">&#x27;velocity&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">chords</span><span class="token punctuation">(</span><span class="token punctuation">{</span> dictionary<span class="token operator">:</span> triads <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<h3 id="thoughts-on-plugins" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Thoughts on Plugins</h3>
<p class="css-1i3mtem">Comparing the above snippet with the reducer version, I like it much more.
The good thing about plugins is that the structural information of the object is not yet lost.
Being able to add a plugin anywhere in the tree spares all the indirect track selection stuff from earlier.</p>
<p class="css-1i3mtem">The only thing that is not yet solved is running two plugins on the same source, like voicings and bass notes.</p>
<h2 id="multiple-mutation-data-flow" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Multiple Mutation Data Flow</h2>
<p class="css-1i3mtem">There are different scenarios how data can flow through multiple mutations:</p>
<ol>
<li class="css-58pxoz">sequential: data flows out of one plugin into the nexxt</li>
<li class="css-58pxoz">parallel: data flows from the source into each plugin</li>
</ol>
<p class="css-1i3mtem">So this is basically polyphony for mutation functions!</p>
<h3 id="sequential-mutation" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>sequential mutation</h3>
<p class="css-1i3mtem">This applies one mutation after the other.
For example, we could first apply a voicing plugin and then use the generated notes as an input of a pattern plugin:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythm</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      duration<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
      sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;E-&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E-&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B-&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B-&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      mutate<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// those mutations are applied sequentially</span>
        <span class="token string">&#x27;chords&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> pattern<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token function">chords</span><span class="token punctuation">(</span><span class="token punctuation">{</span> dictionary<span class="token operator">:</span> triads <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> patternPlugin<span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
<p class="css-1i3mtem">After only the chord mutation, it could sound like this:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="185.5" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="133" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="67" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="27" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="74.5" y="185.5" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="74.5" y="133" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="74.5" y="67" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="74.5" y="27" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="149.5" y="185.5" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="149.5" y="133" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="149.5" y="93" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="149.5" y="27" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="185.5" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="133" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="93" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="27" width="75" height="13"></rect></g><g><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="159" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="119.5" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="67" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="159" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="119.5" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="67" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="1" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="185.5" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="119.5" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="67" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="27" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="185.5" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="119.5" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="67" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="27" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="185.5" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="133" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="67" width="75" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="27" width="75" height="13"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<p class="css-1i3mtem">Now only the pattern mutation is left:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F#3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F#3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F#3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F#3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    mutate<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> pattern<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
<p class="css-1i3mtem">After the pattern mutation:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="185.5" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="0" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="18.5" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="37" y="133" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="37" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="56" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="74.5" y="185.5" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="74.5" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="93" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="112" y="133" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="112" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="130.5" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="149.5" y="185.5" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="149.5" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="168" y="93" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="133" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="186.5" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="205.5" y="93" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="185.5" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="224" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="242.5" y="93" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="261.5" y="133" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="261.5" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="280" y="93" width="18.5" height="13"></rect></g><g><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="159" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="317.5" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="336" y="119.5" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="336" y="1" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="355" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="159" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="373.5" y="1" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="392" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="411" y="119.5" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="411" y="1" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="429.5" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="185.5" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="467" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="485.5" y="119.5" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="485.5" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="504.5" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="185.5" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="541.5" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="560.5" y="119.5" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="560.5" y="27" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(55, 135, 192)" x="579" y="67" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="185.5" width="18.5" height="13"></rect><rect rx="6.666666666666667" ry="6.666666666666667" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="598" y="27" width="18.5" height="13"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
    sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;F#3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;F#3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;B3&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;F#3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;D3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;F#3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D4&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
<h4 id="how-musicians-think" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>How musicians think</h4>
<p class="css-1i3mtem">If we look again at the notation:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythm</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
      sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;E-&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E-&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B-&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B-&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      mutate<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// those mutations are applied sequentially</span>
        <span class="token string">&#x27;chords&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> pattern<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token function">chords</span><span class="token punctuation">(</span><span class="token punctuation">{</span> dictionary<span class="token operator">:</span> triads <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> patternPlugin<span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
<p class="css-1i3mtem">This is structurally similar to how a musician would remember a piece of music by creating &quot;chunks&quot;:</p>
<ul class="css-zoser8">
<li class="css-58pxoz">the info needed to play (render) the piece are abtract chunks of information (chord symbols)</li>
<li class="css-58pxoz">each abstract chunk has a recipe (mutation) that is applied to get to the notes</li>
<li class="css-58pxoz">by using mutations in a certain order, interesting results could be achieved quickly, which is good for algorithmic composition</li>
</ul>
<h3 id="parallel-mutation" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Parallel Mutation</h3>
<p class="css-1i3mtem">Parallel mutation will pass the same data to each plugin. For example to render chords and bass notes for a set of chord symbols:</p>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythm</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
      sequential<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Fm&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      mutate<span class="token operator">:</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;chords&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;bass&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token function">chords</span><span class="token punctuation">(</span><span class="token punctuation">{</span> dictionary<span class="token operator">:</span> triads <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">bass</span><span class="token punctuation">(</span><span class="token punctuation">{</span> octave<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
<p class="css-1i3mtem">after mutation:</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="46" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="19" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="82" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="0" y="190" width="300" height="9"></rect></g><g><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="37" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="1" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="299" y="82" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="37" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="10" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="448.5" y="82" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="46" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="19" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="82" width="300" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="145" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="145" width="150" height="9"></rect><rect rx="4.545454545454546" ry="4.545454545454546" stroke="black" stroke-width="1" fill="rgb(109, 174, 213)" x="598" y="190" width="300" height="9"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    duration<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    parallel<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;F3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;A3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;F3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> parallel<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;E3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C3&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;F2&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;F2&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C2&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre>
<p class="css-1i3mtem">As this post now exceeds the limit of 1000 lines, I will stop here and implement polyphonic mutation in another post.</p>
<h2 id="conclusion" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>Conclusion</h2>
<p class="css-1i3mtem">With reducers and plugins, many musical abstractions can be achieved.
Some are more practical using reducers (like micro time adjustems e.g. swing), others are easier implemented using plugins (anything that needs structural info).</p>
<p class="css-1i3mtem">I cannot wait to finish the mutation data flow and play around with it!
When it&#x27;s done, many possibilities are open, like grooves, arpeggios, patterns, melodies etc..</p>
<svg width="600" height="200"><g style="transform:translateX(0px);will-change:transform"><g><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="140.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="59" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="0" y="24" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="16.5" y="140.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="16.5" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="16.5" y="59" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="16.5" y="24" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="33" y="164" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="33" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="33" y="82.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="33" y="59" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="49.5" y="164" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="49.5" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="49.5" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="49.5" y="47.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="66" y="175.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="66" y="140.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="66" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="66" y="59" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="83" y="152" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="83" y="117" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="83" y="82.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="83" y="35.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="99.5" y="175.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="99.5" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="99.5" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="99.5" y="47.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="116" y="175.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="116" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="116" y="117" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="116" y="70.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="132.5" y="187" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="132.5" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="132.5" y="117" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="132.5" y="70.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="149.5" y="187" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="149.5" y="152" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="149.5" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="149.5" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="166" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="166" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="166" y="70.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="166" y="35.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="182.5" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="182.5" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="182.5" y="82.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="182.5" y="35.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="199" y="152" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="199" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="199" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="199" y="47.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="215.5" y="140.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="215.5" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="215.5" y="70.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="215.5" y="35.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="232.5" y="175.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="232.5" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="232.5" y="117" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="232.5" y="70.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="249" y="187" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="249" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="249" y="117" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="249" y="70.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="265.5" y="187" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="265.5" y="152" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="265.5" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="265.5" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="152" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="117" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="70.5" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="282" y="47.5" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="152" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="117" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="82.5" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="290.5" y="35.5" width="8" height="11.5"></rect></g><g><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="175.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="299" y="47.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="315.5" y="175.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="315.5" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="315.5" y="117" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="315.5" y="70.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="332" y="187" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="332" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="332" y="117" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="332" y="70.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="348.5" y="187" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="348.5" y="152" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="348.5" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="348.5" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="365" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="365" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="365" y="70.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="365" y="35.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="129" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="82.5" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="70.5" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="382" y="24" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="140.5" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="82.5" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="70.5" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="390" y="24" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="398.5" y="140.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="398.5" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="398.5" y="82.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="398.5" y="47.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="415" y="140.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="415" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="415" y="82.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="415" y="47.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="431.5" y="152" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="431.5" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="431.5" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="431.5" y="47.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="175.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="448.5" y="47.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="465" y="175.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="465" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="465" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="465" y="47.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="481.5" y="187" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="481.5" y="152" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="481.5" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="481.5" y="70.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="498" y="187" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="498" y="152" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="498" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="498" y="94" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="187" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="140.5" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="129" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="514.5" y="82.5" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="129" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="82.5" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="59" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(8, 48, 107)" x="523" y="1" width="8" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="531.5" y="140.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="531.5" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="531.5" y="59" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="531.5" y="24" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="548" y="140.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="548" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="548" y="59" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="548" y="24" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="564.5" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="564.5" y="82.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="564.5" y="47.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="564.5" y="1" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="581" y="129" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="581" y="82.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="581" y="59" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="581" y="1" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="140.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="105.5" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="59" width="16.5" height="11.5"></rect><rect rx="5.882352941176471" ry="5.882352941176471" stroke="black" stroke-width="1" fill="rgb(34, 113, 180)" x="598" y="24" width="16.5" height="11.5"></rect></g><g></g></g><line x1="299" x2="299" y1="0" y2="200" stroke-width="2" stroke="black"></line></svg><div style="float:right"><button class="MuiButtonBase-root MuiFab-root MuiFab-primary" tabindex="0" type="button"><span class="MuiFab-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"></path></svg></span></button></div><div style="clear:both"></div>
<details><summary>show source</summary><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token maybe-class-name">Player</span>
  instruments<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> tinypiano <span class="token punctuation">}</span><span class="token punctuation">}</span>
  fold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span>
  events<span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">renderRhythm</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      duration<span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>
      plugin<span class="token operator">:</span> <span class="token string">&#x27;chords&#x27;</span><span class="token punctuation">,</span>
      sequential<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&#x27;Db^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Dm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;C^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&#x27;Am7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;D7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&#x27;F#m7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B7b9&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;E^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7b13&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&#x27;Fm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&#x27;Db^7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;DbmM7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Cm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Bo7&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&#x27;Bbm7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Eb7&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Ab^7&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;Gm7b5&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;C7b9&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token function">inherit</span><span class="token punctuation">(</span><span class="token string">&#x27;plugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">chords</span><span class="token punctuation">(</span><span class="token punctuation">{</span> dictionary<span class="token operator">:</span> lefthand<span class="token punctuation">,</span> range<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;G3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;G5&#x27;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre></details>
<br/>
<h3 id="tbd" class="css-12ewxln"><a aria-hidden="true" tabindex="-1" class="css-1e6egy8"><span class="icon icon-link"></span></a>TBD</h3>
<ul class="css-zoser8">
<li class="css-58pxoz">find way to implement tieReducer as plugin (cannot use ties in above)</li>
<li class="css-58pxoz">implement polyphonic mutations</li>
</ul></div></article></main><style data-emotion="css btp6j1">.css-btp6j1{box-sizing:border-box;margin:0;min-width:0;padding:32px;color:#666;text-align:center;font-size:18px;}</style><div class="css-btp6j1"><style data-emotion="css i57cvr">.css-i57cvr{box-sizing:border-box;margin:0;min-width:0;margin-left:16px;margin-right:16px;display:inline-block;}</style><span class="css-i57cvr">Created by <a href="https://github.com/felixroos" class="css-1e6egy8">Felix Roos</a></span></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Rhythmical Mutations","date":"2020-08-02","image":"./img/pianoroll-color.png","tags":["rhythmical","code"],"description":"In this post, I want to develop the idea of mutation to allow more flexibility."},"code":"var Component=(()=\u003e{var L8=Object.create;var Jc=Object.defineProperty;var W8=Object.getOwnPropertyDescriptor;var B8=Object.getOwnPropertyNames;var z8=Object.getPrototypeOf,G8=Object.prototype.hasOwnProperty;var U8=(n,e,a)=\u003ee in n?Jc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a;var RN=n=\u003eJc(n,\"__esModule\",{value:!0});var yt=(n,e)=\u003e()=\u003e(n\u0026\u0026(e=n(n=0)),e);var v=(n,e)=\u003e()=\u003e(e||n((e={exports:{}}).exports,e),e.exports),rv=(n,e)=\u003e{RN(n);for(var a in e)Jc(n,a,{get:e[a],enumerable:!0})},$8=(n,e,a)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let s of B8(e))!G8.call(n,s)\u0026\u0026s!==\"default\"\u0026\u0026Jc(n,s,{get:()=\u003ee[s],enumerable:!(a=W8(e,s))||a.enumerable});return n},nt=n=\u003e$8(RN(Jc(n!=null?L8(z8(n)):{},\"default\",n\u0026\u0026n.__esModule\u0026\u0026\"default\"in n?{get:()=\u003en.default,enumerable:!0}:{value:n,enumerable:!0})),n);var EN=(n,e,a)=\u003e(U8(n,typeof e!=\"symbol\"?e+\"\":e,a),a);var DN=v((gde,jN)=\u003e{jN.exports=_jsx_runtime});var FN=v((yde,IN)=\u003e{var X8=function(){return!1};IN.exports=X8});var av=v((_de,VN)=\u003e{var Y8=function(){return!0};VN.exports=Y8});var sv=v((bde,LN)=\u003e{LN.exports={\"@@functional/placeholder\":!0}});var eu=v((kde,WN)=\u003e{function H8(n){return n!=null\u0026\u0026typeof n==\"object\"\u0026\u0026n[\"@@functional/placeholder\"]===!0}WN.exports=H8});var We=v((Nde,BN)=\u003e{var Z8=eu();function K8(n){return function e(a){return arguments.length===0||Z8(a)?e:n.apply(this,arguments)}}BN.exports=K8});var re=v((xde,zN)=\u003e{var iv=We(),tu=eu();function Q8(n){return function e(a,s){switch(arguments.length){case 0:return e;case 1:return tu(a)?e:iv(function(o){return n(a,o)});default:return tu(a)\u0026\u0026tu(s)?e:tu(a)?iv(function(o){return n(o,s)}):tu(s)?iv(function(o){return n(a,o)}):n(a,s)}}}zN.exports=Q8});var nu=v((wde,GN)=\u003e{var J8=re(),e9=J8(function(e,a){return Number(e)+Number(a)});GN.exports=e9});var Ar=v((qde,UN)=\u003e{function t9(n,e){n=n||[],e=e||[];var a,s=n.length,o=e.length,u=[];for(a=0;a\u003cs;)u[u.length]=n[a],a+=1;for(a=0;a\u003co;)u[u.length]=e[a],a+=1;return u}UN.exports=t9});var Rr=v((Tde,$N)=\u003e{function n9(n,e){switch(n){case 0:return function(){return e.apply(this,arguments)};case 1:return function(a){return e.apply(this,arguments)};case 2:return function(a,s){return e.apply(this,arguments)};case 3:return function(a,s,o){return e.apply(this,arguments)};case 4:return function(a,s,o,u){return e.apply(this,arguments)};case 5:return function(a,s,o,u,h){return e.apply(this,arguments)};case 6:return function(a,s,o,u,h,d){return e.apply(this,arguments)};case 7:return function(a,s,o,u,h,d,g){return e.apply(this,arguments)};case 8:return function(a,s,o,u,h,d,g,_){return e.apply(this,arguments)};case 9:return function(a,s,o,u,h,d,g,_,N){return e.apply(this,arguments)};case 10:return function(a,s,o,u,h,d,g,_,N,k){return e.apply(this,arguments)};default:throw new Error(\"First argument to _arity must be a non-negative integer no greater than ten\")}}$N.exports=n9});var ru=v((Sde,HN)=\u003e{var r9=Rr(),XN=eu();function YN(n,e,a){return function(){for(var s=[],o=0,u=n,h=0;h\u003ce.length||o\u003carguments.length;){var d;h\u003ce.length\u0026\u0026(!XN(e[h])||o\u003e=arguments.length)?d=e[h]:(d=arguments[o],o+=1),s[h]=d,XN(d)||(u-=1),h+=1}return u\u003c=0?a.apply(this,s):r9(u,YN(n,s,a))}}HN.exports=YN});var _n=v((Mde,ZN)=\u003e{var a9=Rr(),s9=We(),i9=re(),o9=ru(),c9=i9(function(e,a){return e===1?s9(a):a9(e,o9(e,[],a))});ZN.exports=c9});var QN=v((Pde,KN)=\u003e{var u9=Ar(),l9=We(),p9=_n(),h9=l9(function(e){return p9(e.length,function(){var a=0,s=arguments[0],o=arguments[arguments.length-1],u=Array.prototype.slice.call(arguments,0);return u[0]=function(){var h=s.apply(this,u9(arguments,[a,o]));return a+=1,h},e.apply(this,u)})});KN.exports=h9});var Ke=v((Ode,JN)=\u003e{var Jp=We(),jo=re(),An=eu();function d9(n){return function e(a,s,o){switch(arguments.length){case 0:return e;case 1:return An(a)?e:jo(function(u,h){return n(a,u,h)});case 2:return An(a)\u0026\u0026An(s)?e:An(a)?jo(function(u,h){return n(u,s,h)}):An(s)?jo(function(u,h){return n(a,u,h)}):Jp(function(u){return n(a,s,u)});default:return An(a)\u0026\u0026An(s)\u0026\u0026An(o)?e:An(a)\u0026\u0026An(s)?jo(function(u,h){return n(u,h,o)}):An(a)\u0026\u0026An(o)?jo(function(u,h){return n(u,s,h)}):An(s)\u0026\u0026An(o)?jo(function(u,h){return n(a,u,h)}):An(a)?Jp(function(u){return n(u,s,o)}):An(s)?Jp(function(u){return n(a,u,o)}):An(o)?Jp(function(u){return n(a,s,u)}):n(a,s,o)}}}JN.exports=d9});var ov=v((Cde,e1)=\u003e{var f9=Ar(),m9=Ke(),v9=m9(function(e,a,s){if(e\u003e=s.length||e\u003c-s.length)return s;var o=e\u003c0?s.length:0,u=o+e,h=f9(s);return h[u]=a(s[u]),h});e1.exports=v9});var ga=v((Ade,t1)=\u003e{t1.exports=Array.isArray||function(e){return e!=null\u0026\u0026e.length\u003e=0\u0026\u0026Object.prototype.toString.call(e)===\"[object Array]\"}});var eh=v((Rde,n1)=\u003e{function g9(n){return n!=null\u0026\u0026typeof n[\"@@transducer/step\"]==\"function\"}n1.exports=g9});var Jt=v((Ede,r1)=\u003e{var y9=ga(),_9=eh();function b9(n,e,a){return function(){if(arguments.length===0)return a();var s=Array.prototype.slice.call(arguments,0),o=s.pop();if(!y9(o)){for(var u=0;u\u003cn.length;){if(typeof o[n[u]]==\"function\")return o[n[u]].apply(o,s);u+=1}if(_9(o)){var h=e.apply(null,s);return h(o)}}return a.apply(this,arguments)}}r1.exports=b9});var Ga=v((jde,a1)=\u003e{function k9(n){return n\u0026\u0026n[\"@@transducer/reduced\"]?n:{\"@@transducer/value\":n,\"@@transducer/reduced\":!0}}a1.exports=k9});var rn=v((Dde,s1)=\u003e{s1.exports={init:function(){return this.xf[\"@@transducer/init\"]()},result:function(n){return this.xf[\"@@transducer/result\"](n)}}});var o1=v((Ide,i1)=\u003e{var N9=re(),x9=Ga(),w9=rn(),q9=function(){function n(e,a){this.xf=a,this.f=e,this.all=!0}return n.prototype[\"@@transducer/init\"]=w9.init,n.prototype[\"@@transducer/result\"]=function(e){return this.all\u0026\u0026(e=this.xf[\"@@transducer/step\"](e,!0)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,a){return this.f(a)||(this.all=!1,e=x9(this.xf[\"@@transducer/step\"](e,!1))),e},n}(),T9=N9(function(e,a){return new q9(e,a)});i1.exports=T9});var cv=v((Fde,c1)=\u003e{var S9=re(),M9=Jt(),P9=o1(),O9=S9(M9([\"all\"],P9,function(e,a){for(var s=0;s\u003ca.length;){if(!e(a[s]))return!1;s+=1}return!0}));c1.exports=O9});var di=v((Vde,u1)=\u003e{var C9=re(),A9=C9(function(e,a){return a\u003ee?a:e});u1.exports=A9});var au=v((Lde,l1)=\u003e{function R9(n,e){for(var a=0,s=e.length,o=Array(s);a\u003cs;)o[a]=n(e[a]),a+=1;return o}l1.exports=R9});var Do=v((Wde,p1)=\u003e{function E9(n){return Object.prototype.toString.call(n)===\"[object String]\"}p1.exports=E9});var su=v((Bde,h1)=\u003e{var j9=We(),D9=ga(),I9=Do(),F9=j9(function(e){return D9(e)?!0:!e||typeof e!=\"object\"||I9(e)?!1:e.nodeType===1?!!e.length:e.length===0?!0:e.length\u003e0?e.hasOwnProperty(0)\u0026\u0026e.hasOwnProperty(e.length-1):!1});h1.exports=F9});var uv=v((zde,d1)=\u003e{var V9=function(){function n(e){this.f=e}return n.prototype[\"@@transducer/init\"]=function(){throw new Error(\"init not implemented on XWrap\")},n.prototype[\"@@transducer/result\"]=function(e){return e},n.prototype[\"@@transducer/step\"]=function(e,a){return this.f(e,a)},n}();function L9(n){return new V9(n)}d1.exports=L9});var lv=v((Gde,f1)=\u003e{var W9=Rr(),B9=re(),z9=B9(function(e,a){return W9(e.length,function(){return e.apply(a,arguments)})});f1.exports=z9});var tr=v((Ude,y1)=\u003e{var G9=su(),U9=uv(),$9=lv();function X9(n,e,a){for(var s=0,o=a.length;s\u003co;){if(e=n[\"@@transducer/step\"](e,a[s]),e\u0026\u0026e[\"@@transducer/reduced\"]){e=e[\"@@transducer/value\"];break}s+=1}return n[\"@@transducer/result\"](e)}function m1(n,e,a){for(var s=a.next();!s.done;){if(e=n[\"@@transducer/step\"](e,s.value),e\u0026\u0026e[\"@@transducer/reduced\"]){e=e[\"@@transducer/value\"];break}s=a.next()}return n[\"@@transducer/result\"](e)}function v1(n,e,a,s){return n[\"@@transducer/result\"](a[s]($9(n[\"@@transducer/step\"],n),e))}var g1=typeof Symbol!=\"undefined\"?Symbol.iterator:\"@@iterator\";function Y9(n,e,a){if(typeof n==\"function\"\u0026\u0026(n=U9(n)),G9(a))return X9(n,e,a);if(typeof a[\"fantasy-land/reduce\"]==\"function\")return v1(n,e,a,\"fantasy-land/reduce\");if(a[g1]!=null)return m1(n,e,a[g1]());if(typeof a.next==\"function\")return m1(n,e,a);if(typeof a.reduce==\"function\")return v1(n,e,a,\"reduce\");throw new TypeError(\"reduce: list must be array or iterable\")}y1.exports=Y9});var k1=v(($de,b1)=\u003e{var H9=re(),_1=rn(),Z9=function(){function n(e,a){this.xf=a,this.f=e}return n.prototype[\"@@transducer/init\"]=_1.init,n.prototype[\"@@transducer/result\"]=_1.result,n.prototype[\"@@transducer/step\"]=function(e,a){return this.xf[\"@@transducer/step\"](e,this.f(a))},n}(),K9=H9(function(e,a){return new Z9(e,a)});b1.exports=K9});var nr=v((Xde,N1)=\u003e{function Q9(n,e){return Object.prototype.hasOwnProperty.call(e,n)}N1.exports=Q9});var pv=v((Yde,w1)=\u003e{var J9=nr(),x1=Object.prototype.toString,eI=function(){return x1.call(arguments)===\"[object Arguments]\"?function(e){return x1.call(e)===\"[object Arguments]\"}:function(e){return J9(\"callee\",e)}}();w1.exports=eI});var Er=v((Hde,P1)=\u003e{var q1=We(),T1=nr(),tI=pv(),nI=!{toString:null}.propertyIsEnumerable(\"toString\"),S1=[\"constructor\",\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"],M1=function(){\"use strict\";return arguments.propertyIsEnumerable(\"length\")}(),rI=function(e,a){for(var s=0;s\u003ce.length;){if(e[s]===a)return!0;s+=1}return!1},aI=typeof Object.keys==\"function\"\u0026\u0026!M1?q1(function(e){return Object(e)!==e?[]:Object.keys(e)}):q1(function(e){if(Object(e)!==e)return[];var a,s,o=[],u=M1\u0026\u0026tI(e);for(a in e)T1(a,e)\u0026\u0026(!u||a!==\"length\")\u0026\u0026(o[o.length]=a);if(nI)for(s=S1.length-1;s\u003e=0;)a=S1[s],T1(a,e)\u0026\u0026!rI(o,a)\u0026\u0026(o[o.length]=a),s-=1;return o});P1.exports=aI});var _r=v((Zde,O1)=\u003e{var sI=re(),iI=Jt(),oI=au(),cI=tr(),uI=k1(),lI=_n(),pI=Er(),hI=sI(iI([\"fantasy-land/map\",\"map\"],uI,function(e,a){switch(Object.prototype.toString.call(a)){case\"[object Function]\":return lI(a.length,function(){return e.call(this,a.apply(this,arguments))});case\"[object Object]\":return cI(function(s,o){return s[o]=e(a[o]),s},{},pI(a));default:return oI(e,a)}}));O1.exports=hI});var iu=v((Kde,C1)=\u003e{C1.exports=Number.isInteger||function(e){return e\u003c\u003c0===e}});var fi=v((Qde,A1)=\u003e{var dI=re(),fI=Do(),mI=dI(function(e,a){var s=e\u003c0?a.length+e:e;return fI(a)?a.charAt(s):a[s]});A1.exports=mI});var hv=v((Jde,R1)=\u003e{var vI=re(),gI=iu(),yI=fi(),_I=vI(function(e,a){return e.map(function(s){for(var o=a,u=0,h;u\u003cs.length;){if(o==null)return;h=s[u],o=gI(h)?yI(h,o):o[h],u+=1}return o})});R1.exports=_I});var Ts=v((efe,E1)=\u003e{var bI=re(),kI=hv(),NI=bI(function(e,a){return kI([e],a)[0]});E1.exports=NI});var ou=v((tfe,j1)=\u003e{var xI=re(),wI=Ts(),qI=xI(function(e,a){return wI([e],a)});j1.exports=qI});var Io=v((nfe,D1)=\u003e{var TI=re(),SI=_r(),MI=ou(),PI=TI(function(e,a){return SI(MI(e),a)});D1.exports=PI});var Zr=v((rfe,I1)=\u003e{var OI=Ke(),CI=tr(),AI=OI(CI);I1.exports=AI});var V1=v((afe,F1)=\u003e{var RI=We(),EI=_n(),jI=di(),DI=Io(),II=Zr(),FI=RI(function(e){return EI(II(jI,0,DI(\"length\",e)),function(){for(var a=0,s=e.length;a\u003cs;){if(!e[a].apply(this,arguments))return!1;a+=1}return!0})});F1.exports=FI});var Fo=v((sfe,L1)=\u003e{var VI=We(),LI=VI(function(e){return function(){return e}});L1.exports=LI});var dv=v((ife,W1)=\u003e{var WI=re(),BI=WI(function(e,a){return e\u0026\u0026a});W1.exports=BI});var z1=v((ofe,B1)=\u003e{var zI=re(),GI=Ga(),UI=rn(),$I=function(){function n(e,a){this.xf=a,this.f=e,this.any=!1}return n.prototype[\"@@transducer/init\"]=UI.init,n.prototype[\"@@transducer/result\"]=function(e){return this.any||(e=this.xf[\"@@transducer/step\"](e,!1)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,a){return this.f(a)\u0026\u0026(this.any=!0,e=GI(this.xf[\"@@transducer/step\"](e,!0))),e},n}(),XI=zI(function(e,a){return new $I(e,a)});B1.exports=XI});var U1=v((cfe,G1)=\u003e{var YI=re(),HI=Jt(),ZI=z1(),KI=YI(HI([\"any\"],ZI,function(e,a){for(var s=0;s\u003ca.length;){if(e(a[s]))return!0;s+=1}return!1}));G1.exports=KI});var X1=v((ufe,$1)=\u003e{var QI=We(),JI=_n(),eF=di(),tF=Io(),nF=Zr(),rF=QI(function(e){return JI(nF(eF,0,tF(\"length\",e)),function(){for(var a=0,s=e.length;a\u003cs;){if(e[a].apply(this,arguments))return!0;a+=1}return!1})});$1.exports=rF});var th=v((lfe,Y1)=\u003e{var aF=Ar(),sF=re(),iF=tr(),oF=_r(),cF=sF(function(e,a){return typeof a[\"fantasy-land/ap\"]==\"function\"?a[\"fantasy-land/ap\"](e):typeof e.ap==\"function\"?e.ap(a):typeof e==\"function\"?function(s){return e(s)(a(s))}:iF(function(s,o){return aF(s,oF(o,a))},[],e)});Y1.exports=cF});var Z1=v((pfe,H1)=\u003e{function uF(n,e){for(var a=0,s=e.length-(n-1),o=new Array(s\u003e=0?s:0);a\u003cs;)o[a]=Array.prototype.slice.call(e,a,a+n),a+=1;return o}H1.exports=uF});var Q1=v((hfe,K1)=\u003e{var lF=Ar(),pF=re(),hF=rn(),dF=function(){function n(e,a){this.xf=a,this.pos=0,this.full=!1,this.acc=new Array(e)}return n.prototype[\"@@transducer/init\"]=hF.init,n.prototype[\"@@transducer/result\"]=function(e){return this.acc=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,a){return this.store(a),this.full?this.xf[\"@@transducer/step\"](e,this.getCopy()):e},n.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length\u0026\u0026(this.pos=0,this.full=!0)},n.prototype.getCopy=function(){return lF(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},n}(),fF=pF(function(e,a){return new dF(e,a)});K1.exports=fF});var ex=v((dfe,J1)=\u003e{var mF=Z1(),vF=re(),gF=Jt(),yF=Q1(),_F=vF(gF([],yF,mF));J1.exports=_F});var nx=v((ffe,tx)=\u003e{var bF=Ar(),kF=re(),NF=kF(function(e,a){return bF(a,[e])});tx.exports=NF});var fv=v((mfe,rx)=\u003e{var xF=re(),wF=xF(function(e,a){return e.apply(this,a)});rx.exports=wF});var mv=v((vfe,ax)=\u003e{var qF=We(),TF=Er(),SF=qF(function(e){for(var a=TF(e),s=a.length,o=[],u=0;u\u003cs;)o[u]=e[a[u]],u+=1;return o});ax.exports=SF});var ox=v((gfe,ix)=\u003e{var MF=We(),PF=fv(),OF=_n(),CF=di(),AF=Io(),RF=Zr(),EF=Er(),jF=mv();function sx(n,e){return EF(e).reduce(function(a,s){return a[s]=n(e[s]),a},{})}var DF=MF(function n(e){return e=sx(function(a){return typeof a==\"function\"?a:n(a)},e),OF(RF(CF,0,AF(\"length\",jF(e))),function(){var a=arguments;return sx(function(s){return PF(s,a)},e)})});ix.exports=DF});var ux=v((yfe,cx)=\u003e{var IF=re(),FF=IF(function(e,a){return a(e)});cx.exports=FF});var px=v((_fe,lx)=\u003e{var VF=Ke(),LF=VF(function(e,a,s){var o=e(a),u=e(s);return o\u003cu?-1:o\u003eu?1:0});lx.exports=LF});var Vo=v((bfe,hx)=\u003e{var WF=Ke(),BF=WF(function(e,a,s){var o={};for(var u in s)o[u]=s[u];return o[e]=a,o});hx.exports=BF});var nh=v((kfe,dx)=\u003e{var zF=We(),GF=zF(function(e){return e==null});dx.exports=GF});var vv=v((Nfe,mx)=\u003e{var UF=Ke(),$F=nr(),XF=ga(),fx=iu(),YF=Vo(),HF=nh(),ZF=UF(function n(e,a,s){if(e.length===0)return a;var o=e[0];if(e.length\u003e1){var u=!HF(s)\u0026\u0026$F(o,s)?s[o]:fx(e[1])?[]:{};a=n(Array.prototype.slice.call(e,1),a,u)}if(fx(o)\u0026\u0026XF(s)){var h=[].concat(s);return h[o]=a,h}else return YF(o,a,s)});mx.exports=ZF});var cu=v((xfe,vx)=\u003e{var KF=re(),QF=KF(function(e,a){switch(e){case 0:return function(){return a.call(this)};case 1:return function(s){return a.call(this,s)};case 2:return function(s,o){return a.call(this,s,o)};case 3:return function(s,o,u){return a.call(this,s,o,u)};case 4:return function(s,o,u,h){return a.call(this,s,o,u,h)};case 5:return function(s,o,u,h,d){return a.call(this,s,o,u,h,d)};case 6:return function(s,o,u,h,d,g){return a.call(this,s,o,u,h,d,g)};case 7:return function(s,o,u,h,d,g,_){return a.call(this,s,o,u,h,d,g,_)};case 8:return function(s,o,u,h,d,g,_,N){return a.call(this,s,o,u,h,d,g,_,N)};case 9:return function(s,o,u,h,d,g,_,N,k){return a.call(this,s,o,u,h,d,g,_,N,k)};case 10:return function(s,o,u,h,d,g,_,N,k,T){return a.call(this,s,o,u,h,d,g,_,N,k,T)};default:throw new Error(\"First argument to nAry must be a non-negative integer no greater than ten\")}});vx.exports=QF});var yx=v((wfe,gx)=\u003e{var JF=We(),eV=cu(),tV=JF(function(e){return eV(2,e)});gx.exports=tV});var Lo=v((qfe,_x)=\u003e{function nV(n){var e=Object.prototype.toString.call(n);return e===\"[object Function]\"||e===\"[object AsyncFunction]\"||e===\"[object GeneratorFunction]\"||e===\"[object AsyncGeneratorFunction]\"}_x.exports=nV});var gv=v((Tfe,kx)=\u003e{var rV=re(),aV=tr(),sV=th(),bx=_n(),iV=_r(),oV=rV(function(e,a){var s=bx(e,a);return bx(e,function(){return aV(sV,iV(s,arguments[0]),Array.prototype.slice.call(arguments,1))})});kx.exports=oV});var uu=v((Sfe,Nx)=\u003e{var cV=We(),uV=gv(),lV=cV(function(e){return uV(e.length,e)});Nx.exports=lV});var wx=v((Mfe,xx)=\u003e{var pV=re(),hV=Lo(),dV=dv(),fV=uu(),mV=pV(function(e,a){return hV(e)?function(){return e.apply(this,arguments)\u0026\u0026a.apply(this,arguments)}:fV(dV)(e,a)});xx.exports=mV});var Ss=v((Pfe,qx)=\u003e{var vV=We(),gV=_n(),yV=vV(function(e){return gV(e.length,e)});qx.exports=yV});var yv=v((Ofe,Tx)=\u003e{var _V=Ss(),bV=_V(function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))});Tx.exports=bV});var _v=v((Cfe,Sx)=\u003e{var kV=su();function NV(n){return function e(a){for(var s,o,u,h=[],d=0,g=a.length;d\u003cg;){if(kV(a[d]))for(s=n?e(a[d]):a[d],u=0,o=s.length;u\u003co;)h[h.length]=s[u],u+=1;else h[h.length]=a[d];d+=1}return h}}Sx.exports=NV});var Px=v((Afe,Mx)=\u003e{function xV(n){return{\"@@transducer/value\":n,\"@@transducer/reduced\":!0}}Mx.exports=xV});var Rx=v((Rfe,Ax)=\u003e{var wV=Px(),qV=su(),Ox=tr(),Cx=rn(),TV=function(n){return{\"@@transducer/init\":Cx.init,\"@@transducer/result\":function(e){return n[\"@@transducer/result\"](e)},\"@@transducer/step\":function(e,a){var s=n[\"@@transducer/step\"](e,a);return s[\"@@transducer/reduced\"]?wV(s):s}}},SV=function(e){var a=TV(e);return{\"@@transducer/init\":Cx.init,\"@@transducer/result\":function(s){return a[\"@@transducer/result\"](s)},\"@@transducer/step\":function(s,o){return qV(o)?Ox(a,s,o):Ox(a,s,[o])}}};Ax.exports=SV});var jx=v((Efe,Ex)=\u003e{var MV=re(),PV=Rx(),OV=_r(),CV=MV(function(e,a){return OV(e,PV(a))});Ex.exports=CV});var rh=v((jfe,Dx)=\u003e{var AV=re(),RV=Jt(),EV=_v(),jV=jx(),DV=_r(),IV=AV(RV([\"fantasy-land/chain\",\"chain\"],jV,function(e,a){return typeof a==\"function\"?function(s){return e(a(s))(s)}:EV(!1)(DV(e,a))}));Dx.exports=IV});var Fx=v((Dfe,Ix)=\u003e{var FV=Ke(),VV=FV(function(e,a,s){if(e\u003ea)throw new Error(\"min must not be greater than max in clamp(min, max, value)\");return s\u003ce?e:s\u003ea?a:s});Ix.exports=VV});var bv=v((Ife,Vx)=\u003e{function LV(n){return new RegExp(n.source,(n.global?\"g\":\"\")+(n.ignoreCase?\"i\":\"\")+(n.multiline?\"m\":\"\")+(n.sticky?\"y\":\"\")+(n.unicode?\"u\":\"\"))}Vx.exports=LV});var ah=v((Ffe,Lx)=\u003e{var WV=We(),BV=WV(function(e){return e===null?\"Null\":e===void 0?\"Undefined\":Object.prototype.toString.call(e).slice(8,-1)});Lx.exports=BV});var sh=v((Vfe,Bx)=\u003e{var zV=bv(),GV=ah();function Wx(n,e,a,s){var o=function(h){for(var d=e.length,g=0;g\u003cd;){if(n===e[g])return a[g];g+=1}e[g+1]=n,a[g+1]=h;for(var _ in n)h[_]=s?Wx(n[_],e,a,!0):n[_];return h};switch(GV(n)){case\"Object\":return o({});case\"Array\":return o([]);case\"Date\":return new Date(n.valueOf());case\"RegExp\":return zV(n);default:return n}}Bx.exports=Wx});var Gx=v((Lfe,zx)=\u003e{var UV=sh(),$V=We(),XV=$V(function(e){return e!=null\u0026\u0026typeof e.clone==\"function\"?e.clone():UV(e,[],[],!0)});zx.exports=XV});var $x=v((Wfe,Ux)=\u003e{var YV=We(),HV=YV(function(e){return function(a,s){return e(a,s)?-1:e(s,a)?1:0}});Ux.exports=HV});var kv=v((Bfe,Xx)=\u003e{var ZV=We(),KV=ZV(function(e){return!e});Xx.exports=KV});var Nv=v((zfe,Yx)=\u003e{var QV=uu(),JV=kv(),eL=QV(JV);Yx.exports=eL});var Zx=v((Gfe,Hx)=\u003e{function tL(n,e){return function(){return e.call(this,n.apply(this,arguments))}}Hx.exports=tL});var Wo=v((Ufe,Kx)=\u003e{var nL=ga();function rL(n,e){return function(){var a=arguments.length;if(a===0)return e();var s=arguments[a-1];return nL(s)||typeof s[n]!=\"function\"?e.apply(this,arguments):s[n].apply(s,Array.prototype.slice.call(arguments,0,a-1))}}Kx.exports=rL});var jr=v(($fe,Qx)=\u003e{var aL=Wo(),sL=Ke(),iL=sL(aL(\"slice\",function(e,a,s){return Array.prototype.slice.call(s,e,a)}));Qx.exports=iL});var Bo=v((Xfe,Jx)=\u003e{var oL=Wo(),cL=We(),uL=jr(),lL=cL(oL(\"tail\",uL(1,1/0)));Jx.exports=lL});var lu=v((Yfe,ew)=\u003e{var pL=Rr(),hL=Zx(),dL=Zr(),fL=Bo();function mL(){if(arguments.length===0)throw new Error(\"pipe requires at least one argument\");return pL(arguments[0].length,dL(hL,arguments[0],fL(arguments)))}ew.exports=mL});var zo=v((Hfe,tw)=\u003e{var vL=We(),gL=Do(),yL=vL(function(e){return gL(e)?e.split(\"\").reverse().join(\"\"):Array.prototype.slice.call(e,0).reverse()});tw.exports=yL});var ih=v((Zfe,nw)=\u003e{var _L=lu(),bL=zo();function kL(){if(arguments.length===0)throw new Error(\"compose requires at least one argument\");return _L.apply(this,bL(arguments))}nw.exports=kL});var xv=v((Kfe,aw)=\u003e{var NL=rh(),rw=ih(),xL=_r();function wL(){if(arguments.length===0)throw new Error(\"composeK requires at least one argument\");var n=Array.prototype.slice.call(arguments),e=n.pop();return rw(rw.apply(this,xL(NL,n)),e)}aw.exports=wL});var iw=v((Qfe,sw)=\u003e{function qL(n,e){return function(){var a=this;return n.apply(a,arguments).then(function(s){return e.call(a,s)})}}sw.exports=qL});var wv=v((Jfe,ow)=\u003e{var TL=Rr(),SL=iw(),ML=Zr(),PL=Bo();function OL(){if(arguments.length===0)throw new Error(\"pipeP requires at least one argument\");return TL(arguments[0].length,ML(SL,arguments[0],PL(arguments)))}ow.exports=OL});var uw=v((eme,cw)=\u003e{var CL=wv(),AL=zo();function RL(){if(arguments.length===0)throw new Error(\"composeP requires at least one argument\");return CL.apply(this,AL(arguments))}cw.exports=RL});var oh=v((tme,lw)=\u003e{var EL=fi(),jL=EL(0);lw.exports=jL});var ch=v((nme,pw)=\u003e{function DL(n){return n}pw.exports=DL});var Go=v((rme,hw)=\u003e{var IL=We(),FL=ch(),VL=IL(FL);hw.exports=VL});var qv=v((ame,dw)=\u003e{var LL=Rr(),WL=re(),BL=oh(),zL=tr(),GL=Bo(),UL=Go(),$L=WL(function(e,a){if(a.length\u003c=0)return UL;var s=BL(a),o=GL(a);return LL(s.length,function(){return zL(function(u,h){return e.call(this,h,u)},s.apply(this,arguments),o)})});dw.exports=$L});var mw=v((sme,fw)=\u003e{var XL=re(),YL=qv(),HL=zo(),ZL=XL(function(e,a){return YL.apply(this,[e,HL(a)])});fw.exports=ZL});var gw=v((ime,vw)=\u003e{function KL(n){for(var e=[],a;!(a=n.next()).done;)e.push(a.value);return e}vw.exports=KL});var pu=v((ome,yw)=\u003e{function QL(n,e,a){for(var s=0,o=a.length;s\u003co;){if(n(e,a[s]))return!0;s+=1}return!1}yw.exports=QL});var bw=v((cme,_w)=\u003e{function JL(n){var e=String(n).match(/^function (\\w*)/);return e==null?\"\":e[1]}_w.exports=JL});var Tv=v((ume,kw)=\u003e{function eW(n,e){return n===e?n!==0||1/n==1/e:n!==n\u0026\u0026e!==e}kw.exports=typeof Object.is==\"function\"?Object.is:eW});var Mw=v((lme,Sw)=\u003e{var Nw=gw(),xw=pu(),tW=bw(),nW=nr(),Sv=Tv(),ww=Er(),qw=ah();function Tw(n,e,a,s){var o=Nw(n),u=Nw(e);function h(d,g){return Mv(d,g,a.slice(),s.slice())}return!xw(function(d,g){return!xw(h,g,d)},u,o)}function Mv(n,e,a,s){if(Sv(n,e))return!0;var o=qw(n);if(o!==qw(e)||n==null||e==null)return!1;if(typeof n[\"fantasy-land/equals\"]==\"function\"||typeof e[\"fantasy-land/equals\"]==\"function\")return typeof n[\"fantasy-land/equals\"]==\"function\"\u0026\u0026n[\"fantasy-land/equals\"](e)\u0026\u0026typeof e[\"fantasy-land/equals\"]==\"function\"\u0026\u0026e[\"fantasy-land/equals\"](n);if(typeof n.equals==\"function\"||typeof e.equals==\"function\")return typeof n.equals==\"function\"\u0026\u0026n.equals(e)\u0026\u0026typeof e.equals==\"function\"\u0026\u0026e.equals(n);switch(o){case\"Arguments\":case\"Array\":case\"Object\":if(typeof n.constructor==\"function\"\u0026\u0026tW(n.constructor)===\"Promise\")return n===e;break;case\"Boolean\":case\"Number\":case\"String\":if(!(typeof n==typeof e\u0026\u0026Sv(n.valueOf(),e.valueOf())))return!1;break;case\"Date\":if(!Sv(n.valueOf(),e.valueOf()))return!1;break;case\"Error\":return n.name===e.name\u0026\u0026n.message===e.message;case\"RegExp\":if(!(n.source===e.source\u0026\u0026n.global===e.global\u0026\u0026n.ignoreCase===e.ignoreCase\u0026\u0026n.multiline===e.multiline\u0026\u0026n.sticky===e.sticky\u0026\u0026n.unicode===e.unicode))return!1;break}for(var u=a.length-1;u\u003e=0;){if(a[u]===n)return s[u]===e;u-=1}switch(o){case\"Map\":return n.size!==e.size?!1:Tw(n.entries(),e.entries(),a.concat([n]),s.concat([e]));case\"Set\":return n.size!==e.size?!1:Tw(n.values(),e.values(),a.concat([n]),s.concat([e]));case\"Arguments\":case\"Array\":case\"Object\":case\"Boolean\":case\"Number\":case\"String\":case\"Date\":case\"Error\":case\"RegExp\":case\"Int8Array\":case\"Uint8Array\":case\"Uint8ClampedArray\":case\"Int16Array\":case\"Uint16Array\":case\"Int32Array\":case\"Uint32Array\":case\"Float32Array\":case\"Float64Array\":case\"ArrayBuffer\":break;default:return!1}var h=ww(n);if(h.length!==ww(e).length)return!1;var d=a.concat([n]),g=s.concat([e]);for(u=h.length-1;u\u003e=0;){var _=h[u];if(!(nW(_,e)\u0026\u0026Mv(e[_],n[_],d,g)))return!1;u-=1}return!0}Sw.exports=Mv});var rr=v((pme,Pw)=\u003e{var rW=re(),aW=Mw(),sW=rW(function(e,a){return aW(e,a,[],[])});Pw.exports=sW});var Pv=v((hme,Ow)=\u003e{var iW=rr();function oW(n,e,a){var s,o;if(typeof n.indexOf==\"function\")switch(typeof e){case\"number\":if(e===0){for(s=1/e;a\u003cn.length;){if(o=n[a],o===0\u0026\u00261/o===s)return a;a+=1}return-1}else if(e!==e){for(;a\u003cn.length;){if(o=n[a],typeof o==\"number\"\u0026\u0026o!==o)return a;a+=1}return-1}return n.indexOf(e,a);case\"string\":case\"boolean\":case\"function\":case\"undefined\":return n.indexOf(e,a);case\"object\":if(e===null)return n.indexOf(e,a)}for(;a\u003cn.length;){if(iW(n[a],e))return a;a+=1}return-1}Ow.exports=oW});var mi=v((dme,Cw)=\u003e{var cW=Pv();function uW(n,e){return cW(e,n,0)\u003e=0}Cw.exports=uW});var Rw=v((fme,Aw)=\u003e{function lW(n){var e=n.replace(/\\\\/g,\"\\\\\\\\\").replace(/[\\b]/g,\"\\\\b\").replace(/\\f/g,\"\\\\f\").replace(/\\n/g,\"\\\\n\").replace(/\\r/g,\"\\\\r\").replace(/\\t/g,\"\\\\t\").replace(/\\v/g,\"\\\\v\").replace(/\\0/g,\"\\\\0\");return'\"'+e.replace(/\"/g,'\\\\\"')+'\"'}Aw.exports=lW});var jw=v((mme,Ew)=\u003e{var hu=function(e){return(e\u003c10?\"0\":\"\")+e},pW=typeof Date.prototype.toISOString==\"function\"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+\"-\"+hu(e.getUTCMonth()+1)+\"-\"+hu(e.getUTCDate())+\"T\"+hu(e.getUTCHours())+\":\"+hu(e.getUTCMinutes())+\":\"+hu(e.getUTCSeconds())+\".\"+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+\"Z\"};Ew.exports=pW});var Ov=v((vme,Dw)=\u003e{function hW(n){return function(){return!n.apply(this,arguments)}}Dw.exports=hW});var uh=v((gme,Iw)=\u003e{function dW(n,e){for(var a=0,s=e.length,o=[];a\u003cs;)n(e[a])\u0026\u0026(o[o.length]=e[a]),a+=1;return o}Iw.exports=dW});var lh=v((yme,Fw)=\u003e{function fW(n){return Object.prototype.toString.call(n)===\"[object Object]\"}Fw.exports=fW});var Ww=v((_me,Lw)=\u003e{var mW=re(),Vw=rn(),vW=function(){function n(e,a){this.xf=a,this.f=e}return n.prototype[\"@@transducer/init\"]=Vw.init,n.prototype[\"@@transducer/result\"]=Vw.result,n.prototype[\"@@transducer/step\"]=function(e,a){return this.f(a)?this.xf[\"@@transducer/step\"](e,a):e},n}(),gW=mW(function(e,a){return new vW(e,a)});Lw.exports=gW});var ph=v((bme,Bw)=\u003e{var yW=re(),_W=Jt(),bW=uh(),kW=lh(),NW=tr(),xW=Ww(),wW=Er(),qW=yW(_W([\"filter\"],xW,function(n,e){return kW(e)?NW(function(a,s){return n(e[s])\u0026\u0026(a[s]=e[s]),a},{},wW(e)):bW(n,e)}));Bw.exports=qW});var du=v((kme,zw)=\u003e{var TW=Ov(),SW=re(),MW=ph(),PW=SW(function(e,a){return MW(TW(e),a)});zw.exports=PW});var Rv=v((Nme,$w)=\u003e{var OW=mi(),Cv=au(),Av=Rw(),CW=jw(),Gw=Er(),AW=du();function Uw(n,e){var a=function(h){var d=e.concat([n]);return OW(h,d)?\"\u003cCircular\u003e\":Uw(h,d)},s=function(u,h){return Cv(function(d){return Av(d)+\": \"+a(u[d])},h.slice().sort())};switch(Object.prototype.toString.call(n)){case\"[object Arguments]\":return\"(function() { return arguments; }(\"+Cv(a,n).join(\", \")+\"))\";case\"[object Array]\":return\"[\"+Cv(a,n).concat(s(n,AW(function(u){return/^\\d+$/.test(u)},Gw(n)))).join(\", \")+\"]\";case\"[object Boolean]\":return typeof n==\"object\"?\"new Boolean(\"+a(n.valueOf())+\")\":n.toString();case\"[object Date]\":return\"new Date(\"+(isNaN(n.valueOf())?a(NaN):Av(CW(n)))+\")\";case\"[object Null]\":return\"null\";case\"[object Number]\":return typeof n==\"object\"?\"new Number(\"+a(n.valueOf())+\")\":1/n==-1/0?\"-0\":n.toString(10);case\"[object String]\":return typeof n==\"object\"?\"new String(\"+a(n.valueOf())+\")\":Av(n);case\"[object Undefined]\":return\"undefined\";default:if(typeof n.toString==\"function\"){var o=n.toString();if(o!==\"[object Object]\")return o}return\"{\"+s(n,Gw(n)).join(\", \")+\"}\"}}$w.exports=Uw});var fu=v((xme,Xw)=\u003e{var RW=We(),EW=Rv(),jW=RW(function(e){return EW(e,[])});Xw.exports=jW});var hh=v((wme,Kw)=\u003e{var DW=re(),Yw=ga(),Hw=Lo(),Zw=Do(),Ev=fu(),IW=DW(function(e,a){if(Yw(e)){if(Yw(a))return e.concat(a);throw new TypeError(Ev(a)+\" is not an array\")}if(Zw(e)){if(Zw(a))return e+a;throw new TypeError(Ev(a)+\" is not a string\")}if(e!=null\u0026\u0026Hw(e[\"fantasy-land/concat\"]))return e[\"fantasy-land/concat\"](a);if(e!=null\u0026\u0026Hw(e.concat))return e.concat(a);throw new TypeError(Ev(e)+' does not have a method named \"concat\" or \"fantasy-land/concat\"')});Kw.exports=IW});var jv=v((qme,Qw)=\u003e{var FW=Rr(),VW=We(),LW=_r(),WW=di(),BW=Zr(),zW=VW(function(e){var a=BW(WW,0,LW(function(s){return s[0].length},e));return FW(a,function(){for(var s=0;s\u003ce.length;){if(e[s][0].apply(this,arguments))return e[s][1].apply(this,arguments);s+=1}})});Qw.exports=zW});var Dv=v((Tme,Jw)=\u003e{var GW=re(),UW=Ss(),$W=cu(),XW=GW(function(e,a){if(e\u003e10)throw new Error(\"Constructor with greater than ten arguments\");return e===0?function(){return new a}:UW($W(e,function(s,o,u,h,d,g,_,N,k,T){switch(arguments.length){case 1:return new a(s);case 2:return new a(s,o);case 3:return new a(s,o,u);case 4:return new a(s,o,u,h);case 5:return new a(s,o,u,h,d);case 6:return new a(s,o,u,h,d,g);case 7:return new a(s,o,u,h,d,g,_);case 8:return new a(s,o,u,h,d,g,_,N);case 9:return new a(s,o,u,h,d,g,_,N,k);case 10:return new a(s,o,u,h,d,g,_,N,k,T)}}))});Jw.exports=XW});var tq=v((Sme,eq)=\u003e{var YW=We(),HW=Dv(),ZW=YW(function(e){return HW(e.length,e)});eq.exports=ZW});var rq=v((Mme,nq)=\u003e{var KW=mi(),QW=re(),JW=QW(KW);nq.exports=JW});var dh=v((Pme,aq)=\u003e{var eB=re(),tB=au(),nB=_n(),rB=di(),aB=Io(),sB=Zr(),iB=eB(function(e,a){return nB(sB(rB,0,aB(\"length\",a)),function(){var s=arguments,o=this;return e.apply(o,tB(function(u){return u.apply(o,s)},a))})});aq.exports=iB});var iq=v((Ome,sq)=\u003e{var oB=ru(),cB=nr(),uB=rn(),lB=function(){function n(e,a,s,o){this.valueFn=e,this.valueAcc=a,this.keyFn=s,this.xf=o,this.inputs={}}return n.prototype[\"@@transducer/init\"]=uB.init,n.prototype[\"@@transducer/result\"]=function(e){var a;for(a in this.inputs)if(cB(a,this.inputs)\u0026\u0026(e=this.xf[\"@@transducer/step\"](e,this.inputs[a]),e[\"@@transducer/reduced\"])){e=e[\"@@transducer/value\"];break}return this.inputs=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,a){var s=this.keyFn(a);return this.inputs[s]=this.inputs[s]||[s,this.valueAcc],this.inputs[s][1]=this.valueFn(this.inputs[s][1],a),e},n}(),pB=oB(4,[],function(e,a,s,o){return new lB(e,a,s,o)});sq.exports=pB});var mu=v((Cme,oq)=\u003e{var hB=sh(),dB=ru(),fB=Jt(),mB=nr(),vB=tr(),gB=iq(),yB=dB(4,[],fB([],gB,function(e,a,s,o){return vB(function(u,h){var d=s(h);return u[d]=e(mB(d,u)?u[d]:hB(a,[],[],!1),h),u},{},o)}));oq.exports=yB});var uq=v((Ame,cq)=\u003e{var _B=mu(),bB=_B(function(n,e){return n+1},0);cq.exports=bB});var pq=v((Rme,lq)=\u003e{var kB=nu(),NB=kB(-1);lq.exports=NB});var Iv=v((Eme,hq)=\u003e{var xB=re(),wB=xB(function(e,a){return a==null||a!==a?e:a});hq.exports=wB});var fq=v((jme,dq)=\u003e{var qB=Ke(),TB=qB(function(e,a,s){var o=e(a),u=e(s);return o\u003eu?-1:o\u003cu?1:0});dq.exports=TB});var Fv=v((Dme,gq)=\u003e{var mq=mi(),SB=function(){function n(){this._nativeSet=typeof Set==\"function\"?new Set:null,this._items={}}return n.prototype.add=function(e){return!vq(e,!0,this)},n.prototype.has=function(e){return vq(e,!1,this)},n}();function vq(n,e,a){var s=typeof n,o,u;switch(s){case\"string\":case\"number\":return n===0\u0026\u00261/n==-1/0?a._items[\"-0\"]?!0:(e\u0026\u0026(a._items[\"-0\"]=!0),!1):a._nativeSet!==null?e?(o=a._nativeSet.size,a._nativeSet.add(n),u=a._nativeSet.size,u===o):a._nativeSet.has(n):s in a._items?n in a._items[s]?!0:(e\u0026\u0026(a._items[s][n]=!0),!1):(e\u0026\u0026(a._items[s]={},a._items[s][n]=!0),!1);case\"boolean\":if(s in a._items){var h=n?1:0;return a._items[s][h]?!0:(e\u0026\u0026(a._items[s][h]=!0),!1)}else return e\u0026\u0026(a._items[s]=n?[!1,!0]:[!0,!1]),!1;case\"function\":return a._nativeSet!==null?e?(o=a._nativeSet.size,a._nativeSet.add(n),u=a._nativeSet.size,u===o):a._nativeSet.has(n):s in a._items?mq(n,a._items[s])?!0:(e\u0026\u0026a._items[s].push(n),!1):(e\u0026\u0026(a._items[s]=[n]),!1);case\"undefined\":return a._items[s]?!0:(e\u0026\u0026(a._items[s]=!0),!1);case\"object\":if(n===null)return a._items.null?!0:(e\u0026\u0026(a._items.null=!0),!1);default:return s=Object.prototype.toString.call(n),s in a._items?mq(n,a._items[s])?!0:(e\u0026\u0026a._items[s].push(n),!1):(e\u0026\u0026(a._items[s]=[n]),!1)}}gq.exports=SB});var Vv=v((Ime,yq)=\u003e{var MB=re(),PB=Fv(),OB=MB(function(e,a){for(var s=[],o=0,u=e.length,h=a.length,d=new PB,g=0;g\u003ch;g+=1)d.add(a[g]);for(;o\u003cu;)d.add(e[o])\u0026\u0026(s[s.length]=e[o]),o+=1;return s});yq.exports=OB});var Lv=v((Fme,bq)=\u003e{var _q=pu(),CB=Ke(),AB=CB(function(e,a,s){for(var o=[],u=0,h=a.length;u\u003ch;)!_q(e,a[u],s)\u0026\u0026!_q(e,a[u],o)\u0026\u0026o.push(a[u]),u+=1;return o});bq.exports=AB});var Wv=v((Vme,kq)=\u003e{var RB=re(),EB=RB(function(e,a){var s={};for(var o in a)s[o]=a[o];return delete s[e],s});kq.exports=EB});var Bv=v((Lme,Nq)=\u003e{var jB=Ke(),DB=jB(function(e,a,s){var o=Array.prototype.slice.call(s,0);return o.splice(e,a),o});Nq.exports=DB});var fh=v((Wme,xq)=\u003e{var IB=Ke(),FB=ov(),VB=Fo(),LB=IB(function(e,a,s){return FB(e,VB(a),s)});xq.exports=LB});var Sq=v((Bme,Tq)=\u003e{var WB=re(),wq=iu(),qq=ga(),BB=Vo(),zB=Wv(),GB=Bv(),UB=fh(),$B=WB(function n(e,a){switch(e.length){case 0:return a;case 1:return wq(e[0])\u0026\u0026qq(a)?GB(e[0],1,a):zB(e[0],a);default:var s=e[0],o=Array.prototype.slice.call(e,1);return a[s]==null?a:wq(s)\u0026\u0026qq(a)?UB(s,n(o,a[s]),a):BB(s,n(o,a[s]),a)}});Tq.exports=$B});var Pq=v((zme,Mq)=\u003e{var XB=re(),YB=XB(function(e,a){return e/a});Mq.exports=YB});var Aq=v((Gme,Cq)=\u003e{var HB=re(),Oq=rn(),ZB=function(){function n(e,a){this.xf=a,this.n=e}return n.prototype[\"@@transducer/init\"]=Oq.init,n.prototype[\"@@transducer/result\"]=Oq.result,n.prototype[\"@@transducer/step\"]=function(e,a){return this.n\u003e0?(this.n-=1,e):this.xf[\"@@transducer/step\"](e,a)},n}(),KB=HB(function(e,a){return new ZB(e,a)});Cq.exports=KB});var zv=v((Ume,Rq)=\u003e{var QB=re(),JB=Jt(),ez=Aq(),tz=jr(),nz=QB(JB([\"drop\"],ez,function(e,a){return tz(Math.max(0,e),1/0,a)}));Rq.exports=nz});var Dq=v(($me,jq)=\u003e{var rz=re(),az=Ga(),Eq=rn(),sz=function(){function n(e,a){this.xf=a,this.n=e,this.i=0}return n.prototype[\"@@transducer/init\"]=Eq.init,n.prototype[\"@@transducer/result\"]=Eq.result,n.prototype[\"@@transducer/step\"]=function(e,a){this.i+=1;var s=this.n===0?e:this.xf[\"@@transducer/step\"](e,a);return this.n\u003e=0\u0026\u0026this.i\u003e=this.n?az(s):s},n}(),iz=rz(function(e,a){return new sz(e,a)});jq.exports=iz});var mh=v((Xme,Iq)=\u003e{var oz=re(),cz=Jt(),uz=Dq(),lz=jr(),pz=oz(cz([\"take\"],uz,function(e,a){return lz(0,e\u003c0?1/0:e,a)}));Iq.exports=pz});var Vq=v((Yme,Fq)=\u003e{var hz=mh();function dz(n,e){return hz(n\u003ce.length?e.length-n:0,e)}Fq.exports=dz});var Wq=v((Hme,Lq)=\u003e{var fz=re(),mz=rn(),vz=function(){function n(e,a){this.xf=a,this.pos=0,this.full=!1,this.acc=new Array(e)}return n.prototype[\"@@transducer/init\"]=mz.init,n.prototype[\"@@transducer/result\"]=function(e){return this.acc=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,a){return this.full\u0026\u0026(e=this.xf[\"@@transducer/step\"](e,this.acc[this.pos])),this.store(a),e},n.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length\u0026\u0026(this.pos=0,this.full=!0)},n}(),gz=fz(function(e,a){return new vz(e,a)});Lq.exports=gz});var zq=v((Zme,Bq)=\u003e{var yz=re(),_z=Jt(),bz=Vq(),kz=Wq(),Nz=yz(_z([],kz,bz));Bq.exports=Nz});var Uq=v((Kme,Gq)=\u003e{var xz=jr();function wz(n,e){for(var a=e.length-1;a\u003e=0\u0026\u0026n(e[a]);)a-=1;return xz(0,a+1,e)}Gq.exports=wz});var Xq=v((Qme,$q)=\u003e{var qz=re(),Tz=tr(),Sz=rn(),Mz=function(){function n(e,a){this.f=e,this.retained=[],this.xf=a}return n.prototype[\"@@transducer/init\"]=Sz.init,n.prototype[\"@@transducer/result\"]=function(e){return this.retained=null,this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,a){return this.f(a)?this.retain(e,a):this.flush(e,a)},n.prototype.flush=function(e,a){return e=Tz(this.xf[\"@@transducer/step\"],e,this.retained),this.retained=[],this.xf[\"@@transducer/step\"](e,a)},n.prototype.retain=function(e,a){return this.retained.push(a),e},n}(),Pz=qz(function(e,a){return new Mz(e,a)});$q.exports=Pz});var Hq=v((Jme,Yq)=\u003e{var Oz=re(),Cz=Jt(),Az=Uq(),Rz=Xq(),Ez=Oz(Cz([],Rz,Az));Yq.exports=Ez});var Gv=v((eve,Kq)=\u003e{var jz=re(),Zq=rn(),Dz=function(){function n(e,a){this.xf=a,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return n.prototype[\"@@transducer/init\"]=Zq.init,n.prototype[\"@@transducer/result\"]=Zq.result,n.prototype[\"@@transducer/step\"]=function(e,a){var s=!1;return this.seenFirstValue?this.pred(this.lastValue,a)\u0026\u0026(s=!0):this.seenFirstValue=!0,this.lastValue=a,s?e:this.xf[\"@@transducer/step\"](e,a)},n}(),Iz=jz(function(e,a){return new Dz(e,a)});Kq.exports=Iz});var vh=v((tve,Qq)=\u003e{var Fz=fi(),Vz=Fz(-1);Qq.exports=Vz});var Uv=v((nve,Jq)=\u003e{var Lz=re(),Wz=Jt(),Bz=Gv(),zz=vh(),Gz=Lz(Wz([],Bz,function(e,a){var s=[],o=1,u=a.length;if(u!==0)for(s[0]=a[0];o\u003cu;)e(zz(s),a[o])||(s[s.length]=a[o]),o+=1;return s}));Jq.exports=Gz});var n2=v((rve,t2)=\u003e{var Uz=We(),$z=Jt(),Xz=Gv(),Yz=Uv(),e2=rr(),Hz=Uz($z([],Xz(e2),Yz(e2)));t2.exports=Hz});var s2=v((ave,a2)=\u003e{var Zz=re(),r2=rn(),Kz=function(){function n(e,a){this.xf=a,this.f=e}return n.prototype[\"@@transducer/init\"]=r2.init,n.prototype[\"@@transducer/result\"]=r2.result,n.prototype[\"@@transducer/step\"]=function(e,a){if(this.f){if(this.f(a))return e;this.f=null}return this.xf[\"@@transducer/step\"](e,a)},n}(),Qz=Zz(function(e,a){return new Kz(e,a)});a2.exports=Qz});var o2=v((sve,i2)=\u003e{var Jz=re(),eG=Jt(),tG=s2(),nG=jr(),rG=Jz(eG([\"dropWhile\"],tG,function(e,a){for(var s=0,o=a.length;s\u003co\u0026\u0026e(a[s]);)s+=1;return nG(s,1/0,a)}));i2.exports=rG});var gh=v((ive,c2)=\u003e{var aG=re(),sG=aG(function(e,a){return e||a});c2.exports=sG});var $v=v((ove,u2)=\u003e{var iG=re(),oG=Lo(),cG=uu(),uG=gh(),lG=iG(function(e,a){return oG(e)?function(){return e.apply(this,arguments)||a.apply(this,arguments)}:cG(uG)(e,a)});u2.exports=lG});var Xv=v((cve,l2)=\u003e{var pG=We(),hG=pv(),dG=ga(),fG=lh(),mG=Do(),vG=pG(function(e){return e!=null\u0026\u0026typeof e[\"fantasy-land/empty\"]==\"function\"?e[\"fantasy-land/empty\"]():e!=null\u0026\u0026e.constructor!=null\u0026\u0026typeof e.constructor[\"fantasy-land/empty\"]==\"function\"?e.constructor[\"fantasy-land/empty\"]():e!=null\u0026\u0026typeof e.empty==\"function\"?e.empty():e!=null\u0026\u0026e.constructor!=null\u0026\u0026typeof e.constructor.empty==\"function\"?e.constructor.empty():dG(e)?[]:mG(e)?\"\":fG(e)?{}:hG(e)?function(){return arguments}():void 0});l2.exports=vG});var Yv=v((uve,p2)=\u003e{var gG=re(),yG=zv(),_G=gG(function(e,a){return yG(e\u003e=0?a.length-e:0,a)});p2.exports=_G});var d2=v((lve,h2)=\u003e{var bG=re(),kG=rr(),NG=Yv(),xG=bG(function(n,e){return kG(NG(n.length,e),n)});h2.exports=xG});var m2=v((pve,f2)=\u003e{var wG=Ke(),qG=rr(),TG=wG(function(e,a,s){return qG(e(a),e(s))});f2.exports=TG});var g2=v((hve,v2)=\u003e{var SG=Ke(),MG=rr(),PG=SG(function(e,a,s){return MG(a[e],s[e])});v2.exports=PG});var _2=v((dve,y2)=\u003e{var OG=re(),CG=OG(function n(e,a){var s=a instanceof Array?[]:{},o,u,h;for(u in a)o=e[u],h=typeof o,s[u]=h===\"function\"?o(a[u]):o\u0026\u0026h===\"object\"?n(o,a[u]):a[u];return s});y2.exports=CG});var k2=v((fve,b2)=\u003e{var AG=re(),RG=Ga(),EG=rn(),jG=function(){function n(e,a){this.xf=a,this.f=e,this.found=!1}return n.prototype[\"@@transducer/init\"]=EG.init,n.prototype[\"@@transducer/result\"]=function(e){return this.found||(e=this.xf[\"@@transducer/step\"](e,void 0)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,a){return this.f(a)\u0026\u0026(this.found=!0,e=RG(this.xf[\"@@transducer/step\"](e,a))),e},n}(),DG=AG(function(e,a){return new jG(e,a)});b2.exports=DG});var x2=v((mve,N2)=\u003e{var IG=re(),FG=Jt(),VG=k2(),LG=IG(FG([\"find\"],VG,function(e,a){for(var s=0,o=a.length;s\u003co;){if(e(a[s]))return a[s];s+=1}}));N2.exports=LG});var q2=v((vve,w2)=\u003e{var WG=re(),BG=Ga(),zG=rn(),GG=function(){function n(e,a){this.xf=a,this.f=e,this.idx=-1,this.found=!1}return n.prototype[\"@@transducer/init\"]=zG.init,n.prototype[\"@@transducer/result\"]=function(e){return this.found||(e=this.xf[\"@@transducer/step\"](e,-1)),this.xf[\"@@transducer/result\"](e)},n.prototype[\"@@transducer/step\"]=function(e,a){return this.idx+=1,this.f(a)\u0026\u0026(this.found=!0,e=BG(this.xf[\"@@transducer/step\"](e,this.idx))),e},n}(),UG=WG(function(e,a){return new GG(e,a)});w2.exports=UG});var S2=v((gve,T2)=\u003e{var $G=re(),XG=Jt(),YG=q2(),HG=$G(XG([],YG,function(e,a){for(var s=0,o=a.length;s\u003co;){if(e(a[s]))return s;s+=1}return-1}));T2.exports=HG});var P2=v((yve,M2)=\u003e{var ZG=re(),KG=rn(),QG=function(){function n(e,a){this.xf=a,this.f=e}return n.prototype[\"@@transducer/init\"]=KG.init,n.prototype[\"@@transducer/result\"]=function(e){return this.xf[\"@@transducer/result\"](this.xf[\"@@transducer/step\"](e,this.last))},n.prototype[\"@@transducer/step\"]=function(e,a){return this.f(a)\u0026\u0026(this.last=a),e},n}(),JG=ZG(function(e,a){return new QG(e,a)});M2.exports=JG});var C2=v((_ve,O2)=\u003e{var eU=re(),tU=Jt(),nU=P2(),rU=eU(tU([],nU,function(e,a){for(var s=a.length-1;s\u003e=0;){if(e(a[s]))return a[s];s-=1}}));O2.exports=rU});var R2=v((bve,A2)=\u003e{var aU=re(),sU=rn(),iU=function(){function n(e,a){this.xf=a,this.f=e,this.idx=-1,this.lastIdx=-1}return n.prototype[\"@@transducer/init\"]=sU.init,n.prototype[\"@@transducer/result\"]=function(e){return this.xf[\"@@transducer/result\"](this.xf[\"@@transducer/step\"](e,this.lastIdx))},n.prototype[\"@@transducer/step\"]=function(e,a){return this.idx+=1,this.f(a)\u0026\u0026(this.lastIdx=this.idx),e},n}(),oU=aU(function(e,a){return new iU(e,a)});A2.exports=oU});var j2=v((kve,E2)=\u003e{var cU=re(),uU=Jt(),lU=R2(),pU=cU(uU([],lU,function(e,a){for(var s=a.length-1;s\u003e=0;){if(e(a[s]))return s;s-=1}return-1}));E2.exports=pU});var I2=v((Nve,D2)=\u003e{var hU=We(),dU=_v(),fU=hU(dU(!0));D2.exports=fU});var vu=v((xve,F2)=\u003e{var mU=We(),vU=_n(),gU=mU(function(e){return vU(e.length,function(a,s){var o=Array.prototype.slice.call(arguments,0);return o[0]=s,o[1]=a,e.apply(this,o)})});F2.exports=gU});var L2=v((wve,V2)=\u003e{var yU=Wo(),_U=re(),bU=_U(yU(\"forEach\",function(e,a){for(var s=a.length,o=0;o\u003cs;)e(a[o]),o+=1;return a}));V2.exports=bU});var B2=v((qve,W2)=\u003e{var kU=re(),NU=Er(),xU=kU(function(e,a){for(var s=NU(a),o=0;o\u003cs.length;){var u=s[o];e(a[u],u,a),o+=1}return a});W2.exports=xU});var G2=v((Tve,z2)=\u003e{var wU=We(),qU=wU(function(e){for(var a={},s=0;s\u003ce.length;)a[e[s][0]]=e[s][1],s+=1;return a});z2.exports=qU});var $2=v((Sve,U2)=\u003e{var TU=Wo(),SU=re(),MU=mu(),PU=SU(TU(\"groupBy\",MU(function(n,e){return n==null\u0026\u0026(n=[]),n.push(e),n},null)));U2.exports=PU});var Y2=v((Mve,X2)=\u003e{var OU=re(),CU=OU(function(n,e){for(var a=[],s=0,o=e.length;s\u003co;){for(var u=s+1;u\u003co\u0026\u0026n(e[u-1],e[u]);)u+=1;a.push(e.slice(s,u)),s=u}return a});X2.exports=CU});var Z2=v((Pve,H2)=\u003e{var AU=re(),RU=AU(function(e,a){return e\u003ea});H2.exports=RU});var Q2=v((Ove,K2)=\u003e{var EU=re(),jU=EU(function(e,a){return e\u003e=a});K2.exports=jU});var Hv=v((Cve,eT)=\u003e{var DU=re(),IU=nr(),J2=nh(),FU=DU(function(e,a){if(e.length===0||J2(a))return!1;for(var s=a,o=0;o\u003ce.length;)if(!J2(s)\u0026\u0026IU(e[o],s))s=s[e[o]],o+=1;else return!1;return!0});eT.exports=FU});var Zv=v((Ave,tT)=\u003e{var VU=re(),LU=Hv(),WU=VU(function(e,a){return LU([e],a)});tT.exports=WU});var rT=v((Rve,nT)=\u003e{var BU=re(),zU=BU(function(e,a){return e in a});nT.exports=zU});var sT=v((Eve,aT)=\u003e{var GU=Tv(),UU=re(),$U=UU(GU);aT.exports=$U});var Kv=v((jve,iT)=\u003e{var XU=Ke(),YU=_n(),HU=XU(function(e,a,s){return YU(Math.max(e.length,a.length,s.length),function(){return e.apply(this,arguments)?a.apply(this,arguments):s.apply(this,arguments)})});iT.exports=HU});var cT=v((Dve,oT)=\u003e{var ZU=nu(),KU=ZU(1);oT.exports=KU});var lT=v((Ive,uT)=\u003e{var QU=mi(),JU=re(),e$=JU(QU);uT.exports=e$});var hT=v((Fve,pT)=\u003e{var t$=mu(),n$=t$(function(n,e){return e},null);pT.exports=n$});var fT=v((Vve,dT)=\u003e{var r$=re(),a$=Pv(),s$=ga(),i$=r$(function(e,a){return typeof a.indexOf==\"function\"\u0026\u0026!s$(a)?a.indexOf(e):a$(a,e,0)});dT.exports=i$});var Qv=v((Lve,mT)=\u003e{var o$=jr(),c$=o$(0,-1);mT.exports=c$});var gT=v((Wve,vT)=\u003e{var u$=pu(),l$=Ke(),p$=uh(),h$=l$(function(e,a,s){return p$(function(o){return u$(e,o,s)},a)});vT.exports=h$});var _T=v((Bve,yT)=\u003e{var d$=Ke(),f$=d$(function(e,a,s){e=e\u003cs.length\u0026\u0026e\u003e=0?e:s.length;var o=Array.prototype.slice.call(s,0);return o.splice(e,0,a),o});yT.exports=f$});var kT=v((zve,bT)=\u003e{var m$=Ke(),v$=m$(function(e,a,s){return e=e\u003cs.length\u0026\u0026e\u003e=0?e:s.length,[].concat(Array.prototype.slice.call(s,0,e),a,Array.prototype.slice.call(s,e))});bT.exports=v$});var Jv=v((Gve,NT)=\u003e{var g$=Fv(),y$=re(),_$=y$(function(e,a){for(var s=new g$,o=[],u=0,h,d;u\u003ca.length;)d=a[u],h=e(d),s.add(h)\u0026\u0026o.push(d),u+=1;return o});NT.exports=_$});var yh=v((Uve,xT)=\u003e{var b$=Go(),k$=Jv(),N$=k$(b$);xT.exports=N$});var qT=v(($ve,wT)=\u003e{var x$=mi(),w$=re(),q$=uh(),T$=vu(),S$=yh(),M$=w$(function(e,a){var s,o;return e.length\u003ea.length?(s=e,o=a):(s=a,o=e),S$(q$(T$(x$)(s),o))});wT.exports=M$});var ST=v((Xve,TT)=\u003e{var P$=Wo(),O$=re(),C$=O$(P$(\"intersperse\",function(e,a){for(var s=[],o=0,u=a.length;o\u003cu;)o===u-1?s.push(a[o]):s.push(a[o],e),o+=1;return s}));TT.exports=C$});var Uo=v((Yve,MT)=\u003e{var A$=nr();function R$(n){if(n==null)throw new TypeError(\"Cannot convert undefined or null to object\");for(var e=Object(n),a=1,s=arguments.length;a\u003cs;){var o=arguments[a];if(o!=null)for(var u in o)A$(u,o)\u0026\u0026(e[u]=o[u]);a+=1}return e}MT.exports=typeof Object.assign==\"function\"?Object.assign:R$});var eg=v((Hve,PT)=\u003e{var E$=re(),j$=E$(function(e,a){var s={};return s[e]=a,s});PT.exports=j$});var AT=v((Zve,CT)=\u003e{var D$=Uo(),tg=ch(),OT=su(),I$=eh(),F$=eg(),V$={\"@@transducer/init\":Array,\"@@transducer/step\":function(n,e){return n.push(e),n},\"@@transducer/result\":tg},L$={\"@@transducer/init\":String,\"@@transducer/step\":function(n,e){return n+e},\"@@transducer/result\":tg},W$={\"@@transducer/init\":Object,\"@@transducer/step\":function(n,e){return D$(n,OT(e)?F$(e[0],e[1]):e)},\"@@transducer/result\":tg};function B$(n){if(I$(n))return n;if(OT(n))return V$;if(typeof n==\"string\")return L$;if(typeof n==\"object\")return W$;throw new Error(\"Cannot create transformer for \"+n)}CT.exports=B$});var jT=v((Kve,ET)=\u003e{var z$=sh(),G$=Ke(),U$=eh(),RT=tr(),$$=AT(),X$=G$(function(e,a,s){return U$(e)?RT(a(e),e[\"@@transducer/init\"](),s):RT(a($$(e)),z$(e,[],[],!1),s)});ET.exports=X$});var IT=v((Qve,DT)=\u003e{var Y$=We(),H$=nr(),Z$=Er(),K$=Y$(function(e){for(var a=Z$(e),s=a.length,o=0,u={};o\u003cs;){var h=a[o],d=e[h],g=H$(d,u)?u[d]:u[d]=[];g[g.length]=h,o+=1}return u});DT.exports=K$});var VT=v((Jve,FT)=\u003e{var Q$=We(),J$=Er(),eX=Q$(function(e){for(var a=J$(e),s=a.length,o=0,u={};o\u003cs;){var h=a[o];u[e[h]]=h,o+=1}return u});FT.exports=eX});var $o=v((ege,LT)=\u003e{var tX=re(),nX=Lo(),rX=_n(),aX=fu(),sX=tX(function(e,a){return rX(e+1,function(){var s=arguments[e];if(s!=null\u0026\u0026nX(s[a]))return s[a].apply(s,Array.prototype.slice.call(arguments,0,e));throw new TypeError(aX(s)+' does not have a method named \"'+a+'\"')})});LT.exports=sX});var ng=v((tge,WT)=\u003e{var iX=re(),oX=iX(function(e,a){return a!=null\u0026\u0026a.constructor===e||a instanceof e});WT.exports=oX});var zT=v((nge,BT)=\u003e{var cX=We(),uX=Xv(),lX=rr(),pX=cX(function(e){return e!=null\u0026\u0026lX(e,uX(e))});BT.exports=pX});var UT=v((rge,GT)=\u003e{var hX=$o(),dX=hX(1,\"join\");GT.exports=dX});var _h=v((age,$T)=\u003e{var fX=We(),mX=dh(),vX=fX(function(e){return mX(function(){return Array.prototype.slice.call(arguments,0)},e)});$T.exports=vX});var YT=v((sge,XT)=\u003e{var gX=We(),yX=gX(function(e){var a,s=[];for(a in e)s[s.length]=a;return s});XT.exports=yX});var ZT=v((ige,HT)=\u003e{var _X=re(),bX=ga(),kX=rr(),NX=_X(function(e,a){if(typeof a.lastIndexOf==\"function\"\u0026\u0026!bX(a))return a.lastIndexOf(e);for(var s=a.length-1;s\u003e=0;){if(kX(a[s],e))return s;s-=1}return-1});HT.exports=NX});var rg=v((oge,KT)=\u003e{function xX(n){return Object.prototype.toString.call(n)===\"[object Number]\"}KT.exports=xX});var ag=v((cge,QT)=\u003e{var wX=We(),qX=rg(),TX=wX(function(e){return e!=null\u0026\u0026qX(e.length)?e.length:NaN});QT.exports=TX});var gu=v((uge,JT)=\u003e{var SX=re(),MX=_r(),PX=SX(function(e,a){return function(s){return function(o){return MX(function(u){return a(u,o)},s(e(o)))}}});JT.exports=PX});var tS=v((lge,eS)=\u003e{var OX=We(),CX=gu(),AX=fi(),RX=fh(),EX=OX(function(e){return CX(AX(e),RX(e))});eS.exports=EX});var rS=v((pge,nS)=\u003e{var jX=We(),DX=vv(),IX=gu(),FX=Ts(),VX=jX(function(e){return IX(FX(e),DX(e))});nS.exports=VX});var sS=v((hge,aS)=\u003e{var LX=We(),WX=Vo(),BX=gu(),zX=ou(),GX=LX(function(e){return BX(zX(e),WX(e))});aS.exports=GX});var oS=v((dge,iS)=\u003e{var UX=re(),$X=UX(function(e,a){return e\u003ca});iS.exports=$X});var uS=v((fge,cS)=\u003e{var XX=re(),YX=XX(function(e,a){return e\u003c=a});cS.exports=YX});var pS=v((mge,lS)=\u003e{var HX=Ke(),ZX=HX(function(e,a,s){for(var o=0,u=s.length,h=[],d=[a];o\u003cu;)d=e(d[0],s[o]),h[o]=d[1],o+=1;return[d[0],h]});lS.exports=ZX});var dS=v((vge,hS)=\u003e{var KX=Ke(),QX=KX(function(e,a,s){for(var o=s.length-1,u=[],h=[a];o\u003e=0;)h=e(h[0],s[o]),u[o]=h[1],o-=1;return[h[0],u]});hS.exports=QX});var mS=v((gge,fS)=\u003e{var JX=re(),eY=tr(),tY=Er(),nY=JX(function(e,a){return eY(function(s,o){return s[o]=e(a[o],o,a),s},{},tY(a))});fS.exports=nY});var gS=v((yge,vS)=\u003e{var rY=re(),aY=rY(function(e,a){return a.match(e)||[]});vS.exports=aY});var bS=v((_ge,_S)=\u003e{var sY=re(),yS=iu(),iY=sY(function(e,a){return yS(e)?!yS(a)||a\u003c1?NaN:(e%a+a)%a:NaN});_S.exports=iY});var NS=v((bge,kS)=\u003e{var oY=Ke(),cY=oY(function(e,a,s){return e(s)\u003ee(a)?s:a});kS.exports=cY});var sg=v((kge,xS)=\u003e{var uY=nu(),lY=Zr(),pY=lY(uY,0);xS.exports=pY});var ig=v((Nge,wS)=\u003e{var hY=We(),dY=sg(),fY=hY(function(e){return dY(e)/e.length});wS.exports=fY});var TS=v((xge,qS)=\u003e{var mY=We(),vY=ig(),gY=mY(function(e){var a=e.length;if(a===0)return NaN;var s=2-a%2,o=(a-s)/2;return vY(Array.prototype.slice.call(e,0).sort(function(u,h){return u\u003ch?-1:u\u003eh?1:0}).slice(o,o+s))});qS.exports=gY});var MS=v((wge,SS)=\u003e{var yY=Rr(),_Y=re(),bY=nr(),kY=_Y(function(e,a){var s={};return yY(a.length,function(){var o=e.apply(this,arguments);return bY(o,s)||(s[o]=a.apply(this,arguments)),s[o]})});SS.exports=kY});var og=v((qge,PS)=\u003e{var NY=Uo(),xY=re(),wY=xY(function(e,a){return NY({},e,a)});PS.exports=wY});var CS=v((Tge,OS)=\u003e{var qY=Uo(),TY=We(),SY=TY(function(e){return qY.apply(null,[{}].concat(e))});OS.exports=SY});var kh=v((Sge,AS)=\u003e{var MY=Ke(),bh=nr(),PY=MY(function(e,a,s){var o={},u;for(u in a)bh(u,a)\u0026\u0026(o[u]=bh(u,s)?e(u,a[u],s[u]):a[u]);for(u in s)bh(u,s)\u0026\u0026!bh(u,o)\u0026\u0026(o[u]=s[u]);return o});AS.exports=PY});var yu=v((Mge,ES)=\u003e{var OY=Ke(),RS=lh(),CY=kh(),AY=OY(function n(e,a,s){return CY(function(o,u,h){return RS(u)\u0026\u0026RS(h)?n(e,u,h):e(o,u,h)},a,s)});ES.exports=AY});var DS=v((Pge,jS)=\u003e{var RY=re(),EY=yu(),jY=RY(function(e,a){return EY(function(s,o,u){return o},e,a)});jS.exports=jY});var FS=v((Oge,IS)=\u003e{var DY=re(),IY=yu(),FY=DY(function(e,a){return IY(function(s,o,u){return u},e,a)});IS.exports=FY});var LS=v((Cge,VS)=\u003e{var VY=Ke(),LY=yu(),WY=VY(function(e,a,s){return LY(function(o,u,h){return e(u,h)},a,s)});VS.exports=WY});var BS=v((Age,WS)=\u003e{var BY=Uo(),zY=re(),GY=zY(function(e,a){return BY({},a,e)});WS.exports=GY});var GS=v((Rge,zS)=\u003e{var UY=Uo(),$Y=re(),XY=$Y(function(e,a){return UY({},e,a)});zS.exports=XY});var $S=v((Ege,US)=\u003e{var YY=Ke(),HY=kh(),ZY=YY(function(e,a,s){return HY(function(o,u,h){return e(u,h)},a,s)});US.exports=ZY});var YS=v((jge,XS)=\u003e{var KY=re(),QY=KY(function(e,a){return a\u003ce?a:e});XS.exports=QY});var ZS=v((Dge,HS)=\u003e{var JY=Ke(),eH=JY(function(e,a,s){return e(s)\u003ce(a)?s:a});HS.exports=eH});var QS=v((Ige,KS)=\u003e{var tH=re(),nH=tH(function(e,a){return e%a});KS.exports=nH});var eM=v((Fge,JS)=\u003e{var rH=Ke(),aH=rH(function(n,e,a){var s=a.length,o=a.slice(),u=n\u003c0?s+n:n,h=e\u003c0?s+e:e,d=o.splice(u,1);return u\u003c0||u\u003e=a.length||h\u003c0||h\u003e=a.length?a:[].concat(o.slice(0,h)).concat(d).concat(o.slice(h,a.length))});JS.exports=aH});var cg=v((Vge,tM)=\u003e{var sH=re(),iH=sH(function(e,a){return e*a});tM.exports=iH});var rM=v((Lge,nM)=\u003e{var oH=We(),cH=oH(function(e){return-e});nM.exports=cH});var sM=v((Wge,aM)=\u003e{var uH=Ov(),lH=re(),pH=cv(),hH=lH(function(e,a){return pH(uH(e),a)});aM.exports=hH});var oM=v((Bge,iM)=\u003e{var dH=We(),fH=_n(),mH=fi(),vH=dH(function(e){var a=e\u003c0?1:e+1;return fH(a,function(){return mH(e,arguments)})});iM.exports=vH});var uM=v((zge,cM)=\u003e{var gH=Ke(),yH=gH(function(e,a,s){return e(a(s))});cM.exports=yH});var pM=v((Gge,lM)=\u003e{function _H(n){return[n]}lM.exports=_H});var ug=v((Uge,hM)=\u003e{var bH=We(),kH=pM(),NH=bH(kH);hM.exports=NH});var fM=v(($ge,dM)=\u003e{var xH=re(),wH=xH(function(e,a){for(var s={},o={},u=0,h=e.length;u\u003ch;)o[e[u]]=1,u+=1;for(var d in a)o.hasOwnProperty(d)||(s[d]=a[d]);return s});dM.exports=wH});var vM=v((Xge,mM)=\u003e{var qH=Rr(),TH=We(),SH=TH(function(e){var a=!1,s;return qH(e.length,function(){return a||(a=!0,s=e.apply(this,arguments)),s})});mM.exports=SH});var lg=v((Yge,gM)=\u003e{var MH=Lo(),PH=Rv();function OH(n,e){if(e==null||!MH(e.then))throw new TypeError(\"`\"+n+\"` expected a Promise, received \"+PH(e,[]))}gM.exports=OH});var _M=v((Hge,yM)=\u003e{var CH=re(),AH=lg(),RH=CH(function(e,a){return AH(\"otherwise\",a),a.then(null,e)});yM.exports=RH});var pg=v((Zge,kM)=\u003e{var EH=Ke(),bM=function(n){return{value:n,map:function(e){return bM(e(n))}}},jH=EH(function(e,a,s){return e(function(o){return bM(a(o))})(s).value});kM.exports=jH});var xM=v((Kge,NM)=\u003e{var DH=re(),IH=DH(function(e,a){return[e,a]});NM.exports=IH});var hg=v((Qge,wM)=\u003e{var FH=Rr(),VH=re();function LH(n){return VH(function(e,a){return FH(Math.max(0,e.length-a.length),function(){return e.apply(this,n(a,arguments))})})}wM.exports=LH});var TM=v((Jge,qM)=\u003e{var WH=Ar(),BH=hg(),zH=BH(WH);qM.exports=zH});var MM=v((eye,SM)=\u003e{var GH=Ar(),UH=hg(),$H=vu(),XH=UH($H(GH));SM.exports=XH});var OM=v((tye,PM)=\u003e{var YH=ph(),HH=_h(),ZH=du(),KH=HH([YH,ZH]);PM.exports=KH});var AM=v((nye,CM)=\u003e{var QH=Ke(),JH=rr(),eZ=Ts(),tZ=QH(function(e,a,s){return JH(eZ(e,s),a)});CM.exports=tZ});var dg=v((rye,RM)=\u003e{var nZ=Ke(),rZ=Iv(),aZ=Ts(),sZ=nZ(function(e,a,s){return rZ(e,aZ(a,s))});RM.exports=sZ});var jM=v((aye,EM)=\u003e{var iZ=Ke(),oZ=Ts(),cZ=iZ(function(e,a,s){return e(oZ(a,s))});EM.exports=cZ});var IM=v((sye,DM)=\u003e{var uZ=re(),lZ=uZ(function(e,a){for(var s={},o=0;o\u003ce.length;)e[o]in a\u0026\u0026(s[e[o]]=a[e[o]]),o+=1;return s});DM.exports=lZ});var fg=v((iye,FM)=\u003e{var pZ=re(),hZ=pZ(function(e,a){for(var s={},o=0,u=e.length;o\u003cu;){var h=e[o];s[h]=a[h],o+=1}return s});FM.exports=hZ});var LM=v((oye,VM)=\u003e{var dZ=re(),fZ=dZ(function(e,a){var s={};for(var o in a)e(a[o],o,a)\u0026\u0026(s[o]=a[o]);return s});VM.exports=fZ});var BM=v((cye,WM)=\u003e{var mZ=xv(),vZ=zo();function gZ(){if(arguments.length===0)throw new Error(\"pipeK requires at least one argument\");return mZ.apply(this,vZ(arguments))}WM.exports=gZ});var mg=v((uye,zM)=\u003e{var yZ=Ar(),_Z=re(),bZ=_Z(function(e,a){return yZ([e],a)});zM.exports=bZ});var UM=v((lye,GM)=\u003e{var kZ=cg(),NZ=Zr(),xZ=NZ(kZ,1);GM.exports=xZ});var vg=v((pye,$M)=\u003e{var wZ=re(),qZ=_n(),TZ=wZ(function(e,a){return qZ(a.length,function(){for(var s=[],o=0;o\u003ca.length;)s.push(a[o].call(this,arguments[o])),o+=1;return e.apply(this,s.concat(Array.prototype.slice.call(arguments,a.length)))})});$M.exports=TZ});var YM=v((hye,XM)=\u003e{var SZ=au(),MZ=Go(),PZ=fg(),OZ=vg(),CZ=OZ(SZ,[PZ,MZ]);XM.exports=CZ});var ZM=v((dye,HM)=\u003e{var AZ=Ke(),RZ=rr(),EZ=AZ(function(e,a,s){return RZ(a,s[e])});HM.exports=EZ});var QM=v((fye,KM)=\u003e{var jZ=Ke(),DZ=ng(),IZ=jZ(function(e,a,s){return DZ(e,s[a])});KM.exports=IZ});var eP=v((mye,JM)=\u003e{var FZ=Ke(),VZ=dg(),LZ=FZ(function(e,a,s){return VZ(e,[a],s)});JM.exports=LZ});var nP=v((vye,tP)=\u003e{var WZ=Ke(),BZ=WZ(function(e,a,s){return e(s[a])});tP.exports=BZ});var aP=v((gye,rP)=\u003e{var zZ=re(),GZ=Ts(),UZ=zZ(function(e,a){return e.map(function(s){return GZ([s],a)})});rP.exports=UZ});var oP=v((yye,iP)=\u003e{var $Z=re(),sP=rg(),XZ=$Z(function(e,a){if(!(sP(e)\u0026\u0026sP(a)))throw new TypeError(\"Both arguments to range must be numbers\");for(var s=[],o=e;o\u003ca;)s.push(o),o+=1;return s});iP.exports=XZ});var gg=v((_ye,cP)=\u003e{var YZ=Ke(),HZ=YZ(function(e,a,s){for(var o=s.length-1;o\u003e=0;)a=e(s[o],a),o-=1;return a});cP.exports=HZ});var lP=v((bye,uP)=\u003e{var ZZ=ru(),KZ=tr(),QZ=Ga(),JZ=ZZ(4,[],function(e,a,s,o){return KZ(function(u,h){return e(u,h)?a(u,h):QZ(u)},s,o)});uP.exports=JZ});var hP=v((kye,pP)=\u003e{var eK=We(),tK=Ga(),nK=eK(tK);pP.exports=nK});var yg=v((Nye,dP)=\u003e{var rK=re(),aK=rK(function(e,a){var s=Number(a),o=0,u;if(s\u003c0||isNaN(s))throw new RangeError(\"n must be a non-negative number\");for(u=new Array(s);o\u003cs;)u[o]=e(o),o+=1;return u});dP.exports=aK});var mP=v((xye,fP)=\u003e{var sK=re(),iK=Fo(),oK=yg(),cK=sK(function(e,a){return oK(iK(e),a)});fP.exports=cK});var gP=v((wye,vP)=\u003e{var uK=Ke(),lK=uK(function(e,a,s){return s.replace(e,a)});vP.exports=lK});var _P=v((qye,yP)=\u003e{var pK=Ke(),hK=pK(function(e,a,s){for(var o=0,u=s.length,h=[a];o\u003cu;)a=e(a,s[o]),h[o+1]=a,o+=1;return h});yP.exports=hK});var _g=v((Tye,bP)=\u003e{var dK=re(),fK=th(),mK=_r(),vK=mg(),gK=gg(),yK=dK(function(e,a){return typeof a.sequence==\"function\"?a.sequence(e):gK(function(s,o){return fK(mK(vK,s),o)},e([]),a)});bP.exports=yK});var NP=v((Sye,kP)=\u003e{var _K=Ke(),bK=Fo(),kK=pg(),NK=_K(function(e,a,s){return kK(e,bK(a),s)});kP.exports=NK});var wP=v((Mye,xP)=\u003e{var xK=re(),wK=xK(function(e,a){return Array.prototype.slice.call(a,0).sort(e)});xP.exports=wK});var TP=v((Pye,qP)=\u003e{var qK=re(),TK=qK(function(e,a){return Array.prototype.slice.call(a,0).sort(function(s,o){var u=e(s),h=e(o);return u\u003ch?-1:u\u003eh?1:0})});qP.exports=TK});var MP=v((Oye,SP)=\u003e{var SK=re(),MK=SK(function(e,a){return Array.prototype.slice.call(a,0).sort(function(s,o){for(var u=0,h=0;u===0\u0026\u0026h\u003ce.length;)u=e[h](s,o),h+=1;return u})});SP.exports=MK});var OP=v((Cye,PP)=\u003e{var PK=$o(),OK=PK(1,\"split\");PP.exports=OK});var RP=v((Aye,AP)=\u003e{var CK=re(),AK=ag(),CP=jr(),RK=CK(function(e,a){return[CP(0,e,a),CP(e,AK(a),a)]});AP.exports=RK});var jP=v((Rye,EP)=\u003e{var EK=re(),jK=jr(),DK=EK(function(e,a){if(e\u003c=0)throw new Error(\"First argument to splitEvery must be a positive integer\");for(var s=[],o=0;o\u003ca.length;)s.push(jK(o,o+=e,a));return s});EP.exports=DK});var IP=v((Eye,DP)=\u003e{var IK=re(),FK=IK(function(e,a){for(var s=0,o=a.length,u=[];s\u003co\u0026\u0026!e(a[s]);)u.push(a[s]),s+=1;return[u,Array.prototype.slice.call(a,s)]});DP.exports=FK});var VP=v((jye,FP)=\u003e{var VK=re(),LK=rr(),WK=mh(),BK=VK(function(n,e){return LK(WK(n.length,e),n)});FP.exports=BK});var WP=v((Dye,LP)=\u003e{var zK=re(),GK=zK(function(e,a){return Number(e)-Number(a)});LP.exports=GK});var GP=v((Iye,zP)=\u003e{var UK=re(),$K=hh(),BP=Vv(),XK=UK(function(e,a){return $K(BP(e,a),BP(a,e))});zP.exports=XK});var XP=v((Fye,$P)=\u003e{var YK=Ke(),HK=hh(),UP=Lv(),ZK=YK(function(e,a,s){return HK(UP(e,a,s),UP(e,s,a))});$P.exports=ZK});var HP=v((Vye,YP)=\u003e{var KK=re(),QK=jr(),JK=KK(function(e,a){for(var s=a.length-1;s\u003e=0\u0026\u0026e(a[s]);)s-=1;return QK(s+1,1/0,a)});YP.exports=JK});var QP=v((Lye,KP)=\u003e{var eQ=re(),tQ=Ga(),ZP=rn(),nQ=function(){function n(e,a){this.xf=a,this.f=e}return n.prototype[\"@@transducer/init\"]=ZP.init,n.prototype[\"@@transducer/result\"]=ZP.result,n.prototype[\"@@transducer/step\"]=function(e,a){return this.f(a)?this.xf[\"@@transducer/step\"](e,a):tQ(e)},n}(),rQ=eQ(function(e,a){return new nQ(e,a)});KP.exports=rQ});var eO=v((Wye,JP)=\u003e{var aQ=re(),sQ=Jt(),iQ=QP(),oQ=jr(),cQ=aQ(sQ([\"takeWhile\"],iQ,function(e,a){for(var s=0,o=a.length;s\u003co\u0026\u0026e(a[s]);)s+=1;return oQ(0,s,a)}));JP.exports=cQ});var rO=v((Bye,nO)=\u003e{var uQ=re(),tO=rn(),lQ=function(){function n(e,a){this.xf=a,this.f=e}return n.prototype[\"@@transducer/init\"]=tO.init,n.prototype[\"@@transducer/result\"]=tO.result,n.prototype[\"@@transducer/step\"]=function(e,a){return this.f(a),this.xf[\"@@transducer/step\"](e,a)},n}(),pQ=uQ(function(e,a){return new lQ(e,a)});nO.exports=pQ});var sO=v((zye,aO)=\u003e{var hQ=re(),dQ=Jt(),fQ=rO(),mQ=hQ(dQ([],fQ,function(e,a){return e(a),a}));aO.exports=mQ});var oO=v((Gye,iO)=\u003e{function vQ(n){return Object.prototype.toString.call(n)===\"[object RegExp]\"}iO.exports=vQ});var uO=v((Uye,cO)=\u003e{var gQ=bv(),yQ=re(),_Q=oO(),bQ=fu(),kQ=yQ(function(e,a){if(!_Q(e))throw new TypeError(\"\\u2018test\\u2019 requires a value of type RegExp as its first argument; received \"+bQ(e));return gQ(e).test(a)});cO.exports=kQ});var pO=v(($ye,lO)=\u003e{var NQ=re(),xQ=lg(),wQ=NQ(function(e,a){return xQ(\"andThen\",a),a.then(e)});lO.exports=wQ});var dO=v((Xye,hO)=\u003e{var qQ=$o(),TQ=qQ(0,\"toLowerCase\");hO.exports=TQ});var mO=v((Yye,fO)=\u003e{var SQ=We(),MQ=nr(),PQ=SQ(function(e){var a=[];for(var s in e)MQ(s,e)\u0026\u0026(a[a.length]=[s,e[s]]);return a});fO.exports=PQ});var gO=v((Hye,vO)=\u003e{var OQ=We(),CQ=OQ(function(e){var a=[];for(var s in e)a[a.length]=[s,e[s]];return a});vO.exports=CQ});var _O=v((Zye,yO)=\u003e{var AQ=$o(),RQ=AQ(0,\"toUpperCase\");yO.exports=RQ});var kO=v((Kye,bO)=\u003e{var EQ=tr(),jQ=uv(),DQ=_n(),IQ=DQ(4,function(e,a,s,o){return EQ(e(typeof a==\"function\"?jQ(a):a),s,o)});bO.exports=IQ});var xO=v((Qye,NO)=\u003e{var FQ=We(),VQ=FQ(function(e){for(var a=0,s=[];a\u003ce.length;){for(var o=e[a],u=0;u\u003co.length;)typeof s[u]==\"undefined\"\u0026\u0026(s[u]=[]),s[u].push(o[u]),u+=1;a+=1}return s});NO.exports=VQ});var qO=v((Jye,wO)=\u003e{var LQ=Ke(),WQ=_r(),BQ=_g(),zQ=LQ(function(e,a,s){return typeof s[\"fantasy-land/traverse\"]==\"function\"?s[\"fantasy-land/traverse\"](a,e):BQ(e,WQ(a,s))});wO.exports=zQ});var MO=v((e_e,SO)=\u003e{var TO=We(),_u=`\t\n\\v\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF`,GQ=\"\\u200B\",UQ=typeof String.prototype.trim==\"function\",$Q=TO(!UQ||_u.trim()||!GQ.trim()?function(e){var a=new RegExp(\"^[\"+_u+\"][\"+_u+\"]*\"),s=new RegExp(\"[\"+_u+\"][\"+_u+\"]*$\");return e.replace(a,\"\").replace(s,\"\")}:function(e){return e.trim()});SO.exports=$Q});var OO=v((t_e,PO)=\u003e{var XQ=Rr(),YQ=Ar(),HQ=re(),ZQ=HQ(function(e,a){return XQ(e.length,function(){try{return e.apply(this,arguments)}catch(s){return a.apply(this,YQ([s],arguments))}})});PO.exports=ZQ});var AO=v((n_e,CO)=\u003e{var KQ=We(),QQ=KQ(function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}});CO.exports=QQ});var EO=v((r_e,RO)=\u003e{var JQ=We(),eJ=cu(),tJ=JQ(function(e){return eJ(1,e)});RO.exports=tJ});var DO=v((a_e,jO)=\u003e{var nJ=re(),rJ=_n(),aJ=nJ(function(e,a){return rJ(e,function(){for(var s=1,o=a,u=0,h;s\u003c=e\u0026\u0026typeof o==\"function\";)h=s===e?arguments.length:u+o.length,o=o.apply(this,Array.prototype.slice.call(arguments,u,h)),s+=1,u=h;return o})});jO.exports=aJ});var FO=v((s_e,IO)=\u003e{var sJ=re(),iJ=sJ(function(e,a){for(var s=e(a),o=[];s\u0026\u0026s.length;)o[o.length]=s[0],s=e(s[1]);return o});IO.exports=iJ});var LO=v((i_e,VO)=\u003e{var oJ=Ar(),cJ=re(),uJ=ih(),lJ=yh(),pJ=cJ(uJ(lJ,oJ));VO.exports=pJ});var bg=v((o_e,WO)=\u003e{var hJ=pu(),dJ=re(),fJ=dJ(function(e,a){for(var s=0,o=a.length,u=[],h;s\u003co;)h=a[s],hJ(e,h,u)||(u[u.length]=h),s+=1;return u});WO.exports=fJ});var zO=v((c_e,BO)=\u003e{var mJ=Ar(),vJ=Ke(),gJ=bg(),yJ=vJ(function(e,a,s){return gJ(e,mJ(a,s))});BO.exports=yJ});var kg=v((u_e,GO)=\u003e{var _J=Ke(),bJ=_J(function(e,a,s){return e(s)?s:a(s)});GO.exports=bJ});var Ng=v((l_e,UO)=\u003e{var kJ=ch(),NJ=rh(),xJ=NJ(kJ);UO.exports=xJ});var Nh=v((p_e,$O)=\u003e{var wJ=Ke(),qJ=wJ(function(e,a,s){for(var o=s;!e(o);)o=a(o);return o});$O.exports=qJ});var YO=v((h_e,XO)=\u003e{var TJ=We(),SJ=TJ(function(e){var a,s=[];for(a in e)s[s.length]=e[a];return s});XO.exports=SJ});var ZO=v((d_e,HO)=\u003e{var MJ=re(),PJ=function(n){return{value:n,\"fantasy-land/map\":function(){return this}}},OJ=MJ(function(e,a){return e(PJ)(a).value});HO.exports=OJ});var xg=v((f_e,KO)=\u003e{var CJ=Ke(),AJ=CJ(function(e,a,s){return e(s)?a(s):s});KO.exports=AJ});var wg=v((m_e,QO)=\u003e{var RJ=re(),EJ=nr(),jJ=RJ(function(e,a){for(var s in e)if(EJ(s,e)\u0026\u0026!e[s](a[s]))return!1;return!0});QO.exports=jJ});var e3=v((v_e,JO)=\u003e{var DJ=re(),IJ=rr(),FJ=_r(),VJ=wg(),LJ=DJ(function(e,a){return VJ(FJ(IJ,e),a)});JO.exports=LJ});var n3=v((g_e,t3)=\u003e{var WJ=mi(),BJ=re(),zJ=vu(),GJ=du(),UJ=BJ(function(n,e){return GJ(zJ(WJ)(n),e)});t3.exports=UJ});var a3=v((y_e,r3)=\u003e{var $J=re(),XJ=$J(function(e,a){return Boolean(!e^!a)});r3.exports=XJ});var i3=v((__e,s3)=\u003e{var YJ=re(),HJ=YJ(function(e,a){for(var s=0,o=e.length,u,h=a.length,d=[];s\u003co;){for(u=0;u\u003ch;)d[d.length]=[e[s],a[u]],u+=1;s+=1}return d});s3.exports=HJ});var c3=v((b_e,o3)=\u003e{var ZJ=re(),KJ=ZJ(function(e,a){for(var s=[],o=0,u=Math.min(e.length,a.length);o\u003cu;)s[o]=[e[o],a[o]],o+=1;return s});o3.exports=KJ});var l3=v((k_e,u3)=\u003e{var QJ=re(),JJ=QJ(function(e,a){for(var s=0,o=Math.min(e.length,a.length),u={};s\u003co;)u[e[s]]=a[s],s+=1;return u});u3.exports=JJ});var h3=v((N_e,p3)=\u003e{var eee=Ke(),tee=eee(function(e,a,s){for(var o=[],u=0,h=Math.min(a.length,s.length);u\u003ch;)o[u]=e(a[u],s[u]),u+=1;return o});p3.exports=tee});var f3=v((x_e,d3)=\u003e{var nee=_n(),ree=We(),aee=ree(function(e){return nee(e.length,function(){var s=arguments;return function(){return e.apply(this,s)}})});d3.exports=aee});var xh=v((w_e,C)=\u003e{C.exports={};C.exports.F=FN();C.exports.T=av();C.exports.__=sv();C.exports.add=nu();C.exports.addIndex=QN();C.exports.adjust=ov();C.exports.all=cv();C.exports.allPass=V1();C.exports.always=Fo();C.exports.and=dv();C.exports.any=U1();C.exports.anyPass=X1();C.exports.ap=th();C.exports.aperture=ex();C.exports.append=nx();C.exports.apply=fv();C.exports.applySpec=ox();C.exports.applyTo=ux();C.exports.ascend=px();C.exports.assoc=Vo();C.exports.assocPath=vv();C.exports.binary=yx();C.exports.bind=lv();C.exports.both=wx();C.exports.call=yv();C.exports.chain=rh();C.exports.clamp=Fx();C.exports.clone=Gx();C.exports.comparator=$x();C.exports.complement=Nv();C.exports.compose=ih();C.exports.composeK=xv();C.exports.composeP=uw();C.exports.composeWith=mw();C.exports.concat=hh();C.exports.cond=jv();C.exports.construct=tq();C.exports.constructN=Dv();C.exports.contains=rq();C.exports.converge=dh();C.exports.countBy=uq();C.exports.curry=Ss();C.exports.curryN=_n();C.exports.dec=pq();C.exports.defaultTo=Iv();C.exports.descend=fq();C.exports.difference=Vv();C.exports.differenceWith=Lv();C.exports.dissoc=Wv();C.exports.dissocPath=Sq();C.exports.divide=Pq();C.exports.drop=zv();C.exports.dropLast=zq();C.exports.dropLastWhile=Hq();C.exports.dropRepeats=n2();C.exports.dropRepeatsWith=Uv();C.exports.dropWhile=o2();C.exports.either=$v();C.exports.empty=Xv();C.exports.endsWith=d2();C.exports.eqBy=m2();C.exports.eqProps=g2();C.exports.equals=rr();C.exports.evolve=_2();C.exports.filter=ph();C.exports.find=x2();C.exports.findIndex=S2();C.exports.findLast=C2();C.exports.findLastIndex=j2();C.exports.flatten=I2();C.exports.flip=vu();C.exports.forEach=L2();C.exports.forEachObjIndexed=B2();C.exports.fromPairs=G2();C.exports.groupBy=$2();C.exports.groupWith=Y2();C.exports.gt=Z2();C.exports.gte=Q2();C.exports.has=Zv();C.exports.hasIn=rT();C.exports.hasPath=Hv();C.exports.head=oh();C.exports.identical=sT();C.exports.identity=Go();C.exports.ifElse=Kv();C.exports.inc=cT();C.exports.includes=lT();C.exports.indexBy=hT();C.exports.indexOf=fT();C.exports.init=Qv();C.exports.innerJoin=gT();C.exports.insert=_T();C.exports.insertAll=kT();C.exports.intersection=qT();C.exports.intersperse=ST();C.exports.into=jT();C.exports.invert=IT();C.exports.invertObj=VT();C.exports.invoker=$o();C.exports.is=ng();C.exports.isEmpty=zT();C.exports.isNil=nh();C.exports.join=UT();C.exports.juxt=_h();C.exports.keys=Er();C.exports.keysIn=YT();C.exports.last=vh();C.exports.lastIndexOf=ZT();C.exports.length=ag();C.exports.lens=gu();C.exports.lensIndex=tS();C.exports.lensPath=rS();C.exports.lensProp=sS();C.exports.lift=uu();C.exports.liftN=gv();C.exports.lt=oS();C.exports.lte=uS();C.exports.map=_r();C.exports.mapAccum=pS();C.exports.mapAccumRight=dS();C.exports.mapObjIndexed=mS();C.exports.match=gS();C.exports.mathMod=bS();C.exports.max=di();C.exports.maxBy=NS();C.exports.mean=ig();C.exports.median=TS();C.exports.memoizeWith=MS();C.exports.merge=og();C.exports.mergeAll=CS();C.exports.mergeDeepLeft=DS();C.exports.mergeDeepRight=FS();C.exports.mergeDeepWith=LS();C.exports.mergeDeepWithKey=yu();C.exports.mergeLeft=BS();C.exports.mergeRight=GS();C.exports.mergeWith=$S();C.exports.mergeWithKey=kh();C.exports.min=YS();C.exports.minBy=ZS();C.exports.modulo=QS();C.exports.move=eM();C.exports.multiply=cg();C.exports.nAry=cu();C.exports.negate=rM();C.exports.none=sM();C.exports.not=kv();C.exports.nth=fi();C.exports.nthArg=oM();C.exports.o=uM();C.exports.objOf=eg();C.exports.of=ug();C.exports.omit=fM();C.exports.once=vM();C.exports.or=gh();C.exports.otherwise=_M();C.exports.over=pg();C.exports.pair=xM();C.exports.partial=TM();C.exports.partialRight=MM();C.exports.partition=OM();C.exports.path=Ts();C.exports.paths=hv();C.exports.pathEq=AM();C.exports.pathOr=dg();C.exports.pathSatisfies=jM();C.exports.pick=IM();C.exports.pickAll=fg();C.exports.pickBy=LM();C.exports.pipe=lu();C.exports.pipeK=BM();C.exports.pipeP=wv();C.exports.pipeWith=qv();C.exports.pluck=Io();C.exports.prepend=mg();C.exports.product=UM();C.exports.project=YM();C.exports.prop=ou();C.exports.propEq=ZM();C.exports.propIs=QM();C.exports.propOr=eP();C.exports.propSatisfies=nP();C.exports.props=aP();C.exports.range=oP();C.exports.reduce=Zr();C.exports.reduceBy=mu();C.exports.reduceRight=gg();C.exports.reduceWhile=lP();C.exports.reduced=hP();C.exports.reject=du();C.exports.remove=Bv();C.exports.repeat=mP();C.exports.replace=gP();C.exports.reverse=zo();C.exports.scan=_P();C.exports.sequence=_g();C.exports.set=NP();C.exports.slice=jr();C.exports.sort=wP();C.exports.sortBy=TP();C.exports.sortWith=MP();C.exports.split=OP();C.exports.splitAt=RP();C.exports.splitEvery=jP();C.exports.splitWhen=IP();C.exports.startsWith=VP();C.exports.subtract=WP();C.exports.sum=sg();C.exports.symmetricDifference=GP();C.exports.symmetricDifferenceWith=XP();C.exports.tail=Bo();C.exports.take=mh();C.exports.takeLast=Yv();C.exports.takeLastWhile=HP();C.exports.takeWhile=eO();C.exports.tap=sO();C.exports.test=uO();C.exports.andThen=pO();C.exports.times=yg();C.exports.toLower=dO();C.exports.toPairs=mO();C.exports.toPairsIn=gO();C.exports.toString=fu();C.exports.toUpper=_O();C.exports.transduce=kO();C.exports.transpose=xO();C.exports.traverse=qO();C.exports.trim=MO();C.exports.tryCatch=OO();C.exports.type=ah();C.exports.unapply=AO();C.exports.unary=EO();C.exports.uncurryN=DO();C.exports.unfold=FO();C.exports.union=LO();C.exports.unionWith=zO();C.exports.uniq=yh();C.exports.uniqBy=Jv();C.exports.uniqWith=bg();C.exports.unless=kg();C.exports.unnest=Ng();C.exports.until=Nh();C.exports.update=fh();C.exports.useWith=vg();C.exports.values=mv();C.exports.valuesIn=YO();C.exports.view=ZO();C.exports.when=xg();C.exports.where=wg();C.exports.whereEq=e3();C.exports.without=n3();C.exports.xor=a3();C.exports.xprod=i3();C.exports.zip=c3();C.exports.zipObj=l3();C.exports.zipWith=h3();C.exports.thunkify=f3()});var ya=v((wh,m3)=\u003e{(function(n,e){typeof wh==\"object\"\u0026\u0026typeof m3!=\"undefined\"?e(wh):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.d3=n.d3||{}))})(wh,function(n){\"use strict\";function e(S,A){return S\u003cA?-1:S\u003eA?1:S\u003e=A?0:NaN}function a(S){let A=S,E=S;S.length===1\u0026\u0026(A=(_e,qe)=\u003eS(_e)-qe,E=s(S));function F(_e,qe,Ue,Ze){for(Ue==null\u0026\u0026(Ue=0),Ze==null\u0026\u0026(Ze=_e.length);Ue\u003cZe;){let vt=Ue+Ze\u003e\u003e\u003e1;E(_e[vt],qe)\u003c0?Ue=vt+1:Ze=vt}return Ue}function I(_e,qe,Ue,Ze){for(Ue==null\u0026\u0026(Ue=0),Ze==null\u0026\u0026(Ze=_e.length);Ue\u003cZe;){let vt=Ue+Ze\u003e\u003e\u003e1;E(_e[vt],qe)\u003e0?Ze=vt:Ue=vt+1}return Ue}function z(_e,qe,Ue,Ze){Ue==null\u0026\u0026(Ue=0),Ze==null\u0026\u0026(Ze=_e.length);let vt=F(_e,qe,Ue,Ze-1);return vt\u003eUe\u0026\u0026A(_e[vt-1],qe)\u003e-A(_e[vt],qe)?vt-1:vt}return{left:F,center:z,right:I}}function s(S){return(A,E)=\u003ee(S(A),E)}function o(S){return S===null?NaN:+S}function*u(S,A){if(A===void 0)for(let E of S)E!=null\u0026\u0026(E=+E)\u003e=E\u0026\u0026(yield E);else{let E=-1;for(let F of S)(F=A(F,++E,S))!=null\u0026\u0026(F=+F)\u003e=F\u0026\u0026(yield F)}}let h=a(e),d=h.right,g=h.left,_=a(o).center;function N(S,A){let E=0;if(A===void 0)for(let F of S)F!=null\u0026\u0026(F=+F)\u003e=F\u0026\u0026++E;else{let F=-1;for(let I of S)(I=A(I,++F,S))!=null\u0026\u0026(I=+I)\u003e=I\u0026\u0026++E}return E}function k(S){return S.length|0}function T(S){return!(S\u003e0)}function L(S){return typeof S!=\"object\"||\"length\"in S?S:Array.from(S)}function P(S){return A=\u003eS(...A)}function W(...S){let A=typeof S[S.length-1]==\"function\"\u0026\u0026P(S.pop());S=S.map(L);let E=S.map(k),F=S.length-1,I=new Array(F+1).fill(0),z=[];if(F\u003c0||E.some(T))return z;for(;;){z.push(I.map((qe,Ue)=\u003eS[Ue][qe]));let _e=F;for(;++I[_e]===E[_e];){if(_e===0)return A?z.map(A):z;I[_e--]=0}}}function K(S,A){var E=0,F=0;return Float64Array.from(S,A===void 0?I=\u003eE+=+I||0:I=\u003eE+=+A(I,F++,S)||0)}function J(S,A){return A\u003cS?-1:A\u003eS?1:A\u003e=S?0:NaN}function H(S,A){let E=0,F,I=0,z=0;if(A===void 0)for(let _e of S)_e!=null\u0026\u0026(_e=+_e)\u003e=_e\u0026\u0026(F=_e-I,I+=F/++E,z+=F*(_e-I));else{let _e=-1;for(let qe of S)(qe=A(qe,++_e,S))!=null\u0026\u0026(qe=+qe)\u003e=qe\u0026\u0026(F=qe-I,I+=F/++E,z+=F*(qe-I))}if(E\u003e1)return z/(E-1)}function oe(S,A){let E=H(S,A);return E\u0026\u0026Math.sqrt(E)}function G(S,A){let E,F;if(A===void 0)for(let I of S)I!=null\u0026\u0026(E===void 0?I\u003e=I\u0026\u0026(E=F=I):(E\u003eI\u0026\u0026(E=I),F\u003cI\u0026\u0026(F=I)));else{let I=-1;for(let z of S)(z=A(z,++I,S))!=null\u0026\u0026(E===void 0?z\u003e=z\u0026\u0026(E=F=z):(E\u003ez\u0026\u0026(E=z),F\u003cz\u0026\u0026(F=z)))}return[E,F]}class R{constructor(){this._partials=new Float64Array(32),this._n=0}add(A){let E=this._partials,F=0;for(let I=0;I\u003cthis._n\u0026\u0026I\u003c32;I++){let z=E[I],_e=A+z,qe=Math.abs(A)\u003cMath.abs(z)?A-(_e-z):z-(_e-A);qe\u0026\u0026(E[F++]=qe),A=_e}return E[F]=A,this._n=F+1,this}valueOf(){let A=this._partials,E=this._n,F,I,z,_e=0;if(E\u003e0){for(_e=A[--E];E\u003e0\u0026\u0026(F=_e,I=A[--E],_e=F+I,z=I-(_e-F),!z););E\u003e0\u0026\u0026(z\u003c0\u0026\u0026A[E-1]\u003c0||z\u003e0\u0026\u0026A[E-1]\u003e0)\u0026\u0026(I=z*2,F=_e+I,I==F-_e\u0026\u0026(_e=F))}return _e}}function $(S,A){let E=new R;if(A===void 0)for(let F of S)(F=+F)\u0026\u0026E.add(F);else{let F=-1;for(let I of S)(I=+A(I,++F,S))\u0026\u0026E.add(I)}return+E}function U(S,A){let E=new R,F=-1;return Float64Array.from(S,A===void 0?I=\u003eE.add(+I||0):I=\u003eE.add(+A(I,++F,S)||0))}class te extends Map{constructor(A,E=ze){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:E}}),A!=null)for(let[F,I]of A)this.set(F,I)}get(A){return super.get(be(this,A))}has(A){return super.has(be(this,A))}set(A,E){return super.set(xe(this,A),E)}delete(A){return super.delete(Ae(this,A))}}class se extends Set{constructor(A,E=ze){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:E}}),A!=null)for(let F of A)this.add(F)}has(A){return super.has(be(this,A))}add(A){return super.add(xe(this,A))}delete(A){return super.delete(Ae(this,A))}}function be({_intern:S,_key:A},E){let F=A(E);return S.has(F)?S.get(F):E}function xe({_intern:S,_key:A},E){let F=A(E);return S.has(F)?S.get(F):(S.set(F,E),E)}function Ae({_intern:S,_key:A},E){let F=A(E);return S.has(F)\u0026\u0026(E=S.get(E),S.delete(F)),E}function ze(S){return S!==null\u0026\u0026typeof S==\"object\"?S.valueOf():S}function $e(S){return S}function Y(S,...A){return Je(S,$e,$e,A)}function ce(S,...A){return Je(S,Array.from,$e,A)}function le(S,A,...E){return Je(S,$e,A,E)}function ue(S,A,...E){return Je(S,Array.from,A,E)}function ye(S,...A){return Je(S,$e,je,A)}function me(S,...A){return Je(S,Array.from,je,A)}function je(S){if(S.length!==1)throw new Error(\"duplicate key\");return S[0]}function Je(S,A,E,F){return function I(z,_e){if(_e\u003e=F.length)return E(z);let qe=new te,Ue=F[_e++],Ze=-1;for(let vt of z){let qt=Ue(vt,++Ze,z),Ut=qe.get(qt);Ut?Ut.push(vt):qe.set(qt,[vt])}for(let[vt,qt]of qe)qe.set(vt,I(qt,_e));return A(qe)}(S,0)}function ft(S,A){return Array.from(A,E=\u003eS[E])}function he(S,...A){if(typeof S[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");S=Array.from(S);let[E=e]=A;if(E.length===1||A.length\u003e1){let F=Uint32Array.from(S,(I,z)=\u003ez);return A.length\u003e1?(A=A.map(I=\u003eS.map(I)),F.sort((I,z)=\u003e{for(let _e of A){let qe=e(_e[I],_e[z]);if(qe)return qe}})):(E=S.map(E),F.sort((I,z)=\u003ee(E[I],E[z]))),ft(S,F)}return S.sort(E)}function ke(S,A,E){return(A.length===1?he(le(S,A,E),([F,I],[z,_e])=\u003ee(I,_e)||e(F,z)):he(Y(S,E),([F,I],[z,_e])=\u003eA(I,_e)||e(F,z))).map(([F])=\u003eF)}var Oe=Array.prototype,Ge=Oe.slice;function Pe(S){return function(){return S}}var Me=Math.sqrt(50),rt=Math.sqrt(10),ut=Math.sqrt(2);function Gt(S,A,E){var F,I=-1,z,_e,qe;if(A=+A,S=+S,E=+E,S===A\u0026\u0026E\u003e0)return[S];if((F=A\u003cS)\u0026\u0026(z=S,S=A,A=z),(qe=fn(S,A,E))===0||!isFinite(qe))return[];if(qe\u003e0){let Ue=Math.round(S/qe),Ze=Math.round(A/qe);for(Ue*qe\u003cS\u0026\u0026++Ue,Ze*qe\u003eA\u0026\u0026--Ze,_e=new Array(z=Ze-Ue+1);++I\u003cz;)_e[I]=(Ue+I)*qe}else{qe=-qe;let Ue=Math.round(S*qe),Ze=Math.round(A*qe);for(Ue/qe\u003cS\u0026\u0026++Ue,Ze/qe\u003eA\u0026\u0026--Ze,_e=new Array(z=Ze-Ue+1);++I\u003cz;)_e[I]=(Ue+I)/qe}return F\u0026\u0026_e.reverse(),_e}function fn(S,A,E){var F=(A-S)/Math.max(0,E),I=Math.floor(Math.log(F)/Math.LN10),z=F/Math.pow(10,I);return I\u003e=0?(z\u003e=Me?10:z\u003e=rt?5:z\u003e=ut?2:1)*Math.pow(10,I):-Math.pow(10,-I)/(z\u003e=Me?10:z\u003e=rt?5:z\u003e=ut?2:1)}function Ot(S,A,E){var F=Math.abs(A-S)/Math.max(0,E),I=Math.pow(10,Math.floor(Math.log(F)/Math.LN10)),z=F/I;return z\u003e=Me?I*=10:z\u003e=rt?I*=5:z\u003e=ut\u0026\u0026(I*=2),A\u003cS?-I:I}function mn(S,A,E){let F;for(;;){let I=fn(S,A,E);if(I===F||I===0||!isFinite(I))return[S,A];I\u003e0?(S=Math.floor(S/I)*I,A=Math.ceil(A/I)*I):I\u003c0\u0026\u0026(S=Math.ceil(S*I)/I,A=Math.floor(A*I)/I),F=I}}function wn(S){return Math.ceil(Math.log(N(S))/Math.LN2)+1}function $n(){var S=$e,A=G,E=wn;function F(I){Array.isArray(I)||(I=Array.from(I));var z,_e=I.length,qe,Ue=new Array(_e);for(z=0;z\u003c_e;++z)Ue[z]=S(I[z],z,I);var Ze=A(Ue),vt=Ze[0],qt=Ze[1],Ut=E(Ue,vt,qt);if(!Array.isArray(Ut)){let km=qt,Qi=+Ut;if(A===G\u0026\u0026([vt,qt]=mn(vt,qt,Qi)),Ut=Gt(vt,qt,Qi),Ut[Ut.length-1]\u003e=qt)if(km\u003e=qt\u0026\u0026A===G){let Tr=fn(vt,qt,Qi);isFinite(Tr)\u0026\u0026(Tr\u003e0?qt=(Math.floor(qt/Tr)+1)*Tr:Tr\u003c0\u0026\u0026(qt=(Math.ceil(qt*-Tr)+1)/-Tr))}else Ut.pop()}for(var zr=Ut.length;Ut[0]\u003c=vt;)Ut.shift(),--zr;for(;Ut[zr-1]\u003eqt;)Ut.pop(),--zr;var ni=new Array(zr+1),Ki;for(z=0;z\u003c=zr;++z)Ki=ni[z]=[],Ki.x0=z\u003e0?Ut[z-1]:vt,Ki.x1=z\u003czr?Ut[z]:qt;for(z=0;z\u003c_e;++z)qe=Ue[z],vt\u003c=qe\u0026\u0026qe\u003c=qt\u0026\u0026ni[d(Ut,qe,0,zr)].push(I[z]);return ni}return F.value=function(I){return arguments.length?(S=typeof I==\"function\"?I:Pe(I),F):S},F.domain=function(I){return arguments.length?(A=typeof I==\"function\"?I:Pe([I[0],I[1]]),F):A},F.thresholds=function(I){return arguments.length?(E=typeof I==\"function\"?I:Array.isArray(I)?Pe(Ge.call(I)):Pe(I),F):E},F}function Xn(S,A){let E;if(A===void 0)for(let F of S)F!=null\u0026\u0026(E\u003cF||E===void 0\u0026\u0026F\u003e=F)\u0026\u0026(E=F);else{let F=-1;for(let I of S)(I=A(I,++F,S))!=null\u0026\u0026(E\u003cI||E===void 0\u0026\u0026I\u003e=I)\u0026\u0026(E=I)}return E}function Yn(S,A){let E;if(A===void 0)for(let F of S)F!=null\u0026\u0026(E\u003eF||E===void 0\u0026\u0026F\u003e=F)\u0026\u0026(E=F);else{let F=-1;for(let I of S)(I=A(I,++F,S))!=null\u0026\u0026(E\u003eI||E===void 0\u0026\u0026I\u003e=I)\u0026\u0026(E=I)}return E}function mt(S,A,E=0,F=S.length-1,I=e){for(;F\u003eE;){if(F-E\u003e600){let Ue=F-E+1,Ze=A-E+1,vt=Math.log(Ue),qt=.5*Math.exp(2*vt/3),Ut=.5*Math.sqrt(vt*qt*(Ue-qt)/Ue)*(Ze-Ue/2\u003c0?-1:1),zr=Math.max(E,Math.floor(A-Ze*qt/Ue+Ut)),ni=Math.min(F,Math.floor(A+(Ue-Ze)*qt/Ue+Ut));mt(S,A,zr,ni,I)}let z=S[A],_e=E,qe=F;for(jn(S,E,A),I(S[F],z)\u003e0\u0026\u0026jn(S,E,F);_e\u003cqe;){for(jn(S,_e,qe),++_e,--qe;I(S[_e],z)\u003c0;)++_e;for(;I(S[qe],z)\u003e0;)--qe}I(S[E],z)===0?jn(S,E,qe):(++qe,jn(S,qe,F)),qe\u003c=A\u0026\u0026(E=qe+1),A\u003c=qe\u0026\u0026(F=qe-1)}return S}function jn(S,A,E){let F=S[A];S[A]=S[E],S[E]=F}function Dn(S,A,E){if(S=Float64Array.from(u(S,E)),!!(F=S.length)){if((A=+A)\u003c=0||F\u003c2)return Yn(S);if(A\u003e=1)return Xn(S);var F,I=(F-1)*A,z=Math.floor(I),_e=Xn(mt(S,z).subarray(0,z+1)),qe=Yn(S.subarray(z+1));return _e+(qe-_e)*(I-z)}}function Lr(S,A,E=o){if(!!(F=S.length)){if((A=+A)\u003c=0||F\u003c2)return+E(S[0],0,S);if(A\u003e=1)return+E(S[F-1],F-1,S);var F,I=(F-1)*A,z=Math.floor(I),_e=+E(S[z],z,S),qe=+E(S[z+1],z+1,S);return _e+(qe-_e)*(I-z)}}function sa(S,A,E){return Math.ceil((E-A)/(2*(Dn(S,.75)-Dn(S,.25))*Math.pow(N(S),-1/3)))}function qr(S,A,E){return Math.ceil((E-A)/(3.5*oe(S)*Math.pow(N(S),-1/3)))}function Wr(S,A){let E,F=-1,I=-1;if(A===void 0)for(let z of S)++I,z!=null\u0026\u0026(E\u003cz||E===void 0\u0026\u0026z\u003e=z)\u0026\u0026(E=z,F=I);else for(let z of S)(z=A(z,++I,S))!=null\u0026\u0026(E\u003cz||E===void 0\u0026\u0026z\u003e=z)\u0026\u0026(E=z,F=I);return F}function ss(S,A){let E=0,F=0;if(A===void 0)for(let I of S)I!=null\u0026\u0026(I=+I)\u003e=I\u0026\u0026(++E,F+=I);else{let I=-1;for(let z of S)(z=A(z,++I,S))!=null\u0026\u0026(z=+z)\u003e=z\u0026\u0026(++E,F+=z)}if(E)return F/E}function pr(S,A){return Dn(S,.5,A)}function*Hn(S){for(let A of S)yield*A}function is(S){return Array.from(Hn(S))}function Aa(S,A){let E,F=-1,I=-1;if(A===void 0)for(let z of S)++I,z!=null\u0026\u0026(E\u003ez||E===void 0\u0026\u0026z\u003e=z)\u0026\u0026(E=z,F=I);else for(let z of S)(z=A(z,++I,S))!=null\u0026\u0026(E\u003ez||E===void 0\u0026\u0026z\u003e=z)\u0026\u0026(E=z,F=I);return F}function ia(S,A=Ra){let E=[],F,I=!1;for(let z of S)I\u0026\u0026E.push(A(F,z)),F=z,I=!0;return E}function Ra(S,A){return[S,A]}function oa(S,A,E){S=+S,A=+A,E=(I=arguments.length)\u003c2?(A=S,S=0,1):I\u003c3?1:+E;for(var F=-1,I=Math.max(0,Math.ceil((A-S)/E))|0,z=new Array(I);++F\u003cI;)z[F]=S+F*E;return z}function ei(S,A=e){let E,F=!1;if(A.length===1){let I;for(let z of S){let _e=A(z);(F?e(_e,I)\u003c0:e(_e,_e)===0)\u0026\u0026(E=z,I=_e,F=!0)}}else for(let I of S)(F?A(I,E)\u003c0:A(I,I)===0)\u0026\u0026(E=I,F=!0);return E}function os(S,A=e){if(A.length===1)return Aa(S,A);let E,F=-1,I=-1;for(let z of S)++I,(F\u003c0?A(z,z)===0:A(z,E)\u003c0)\u0026\u0026(E=z,F=I);return F}function Xe(S,A=e){let E,F=!1;if(A.length===1){let I;for(let z of S){let _e=A(z);(F?e(_e,I)\u003e0:e(_e,_e)===0)\u0026\u0026(E=z,I=_e,F=!0)}}else for(let I of S)(F?A(I,E)\u003e0:A(I,I)===0)\u0026\u0026(E=I,F=!0);return E}function Br(S,A=e){if(A.length===1)return Wr(S,A);let E,F=-1,I=-1;for(let z of S)++I,(F\u003c0?A(z,z)===0:A(z,E)\u003e0)\u0026\u0026(E=z,F=I);return F}function ca(S,A){let E=os(S,A);return E\u003c0?void 0:E}var cs=us(Math.random);function us(S){return function(E,F=0,I=E.length){let z=I-(F=+F);for(;z;){let _e=S()*z--|0,qe=E[z+F];E[z+F]=E[_e+F],E[_e+F]=qe}return E}}function ls(S,A){let E=0;if(A===void 0)for(let F of S)(F=+F)\u0026\u0026(E+=F);else{let F=-1;for(let I of S)(I=+A(I,++F,S))\u0026\u0026(E+=I)}return E}function Yi(S){if(!(z=S.length))return[];for(var A=-1,E=Yn(S,ps),F=new Array(E);++A\u003cE;)for(var I=-1,z,_e=F[A]=new Array(z);++I\u003cz;)_e[I]=S[I][A];return F}function ps(S){return S.length}function It(){return Yi(arguments)}function hs(S,A){if(typeof A!=\"function\")throw new TypeError(\"test is not a function\");let E=-1;for(let F of S)if(!A(F,++E,S))return!1;return!0}function jc(S,A){if(typeof A!=\"function\")throw new TypeError(\"test is not a function\");let E=-1;for(let F of S)if(A(F,++E,S))return!0;return!1}function Hi(S,A){if(typeof A!=\"function\")throw new TypeError(\"test is not a function\");let E=[],F=-1;for(let I of S)A(I,++F,S)\u0026\u0026E.push(I);return E}function Re(S,A){if(typeof S[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");if(typeof A!=\"function\")throw new TypeError(\"mapper is not a function\");return Array.from(S,(E,F)=\u003eA(E,F,S))}function zt(S,A,E){if(typeof A!=\"function\")throw new TypeError(\"reducer is not a function\");let F=S[Symbol.iterator](),I,z,_e=-1;if(arguments.length\u003c3){if({done:I,value:E}=F.next(),I)return;++_e}for(;{done:I,value:z}=F.next(),!I;)E=A(E,z,++_e,S);return E}function ti(S){if(typeof S[Symbol.iterator]!=\"function\")throw new TypeError(\"values is not iterable\");return Array.from(S).reverse()}function _t(S,...A){S=new Set(S);for(let E of A)for(let F of E)S.delete(F);return S}function Zt(S,A){let E=A[Symbol.iterator](),F=new Set;for(let I of S){if(F.has(I))return!1;let z,_e;for(;({value:z,done:_e}=E.next())\u0026\u0026!_e;){if(Object.is(I,z))return!1;F.add(z)}}return!0}function Gl(S){return S instanceof Set?S:new Set(S)}function Ft(S,...A){S=new Set(S),A=A.map(Gl);e:for(let E of S)for(let F of A)if(!F.has(E)){S.delete(E);continue e}return S}function Zi(S,A){let E=S[Symbol.iterator](),F=new Set;for(let I of A){if(F.has(I))continue;let z,_e;for(;{value:z,done:_e}=E.next();){if(_e)return!1;if(F.add(z),Object.is(I,z))break}}return!0}function Dc(S,A){return Zi(A,S)}function Ul(...S){let A=new Set;for(let E of S)for(let F of E)A.add(F);return A}n.Adder=R,n.InternMap=te,n.InternSet=se,n.ascending=e,n.bin=$n,n.bisect=d,n.bisectCenter=_,n.bisectLeft=g,n.bisectRight=d,n.bisector=a,n.count=N,n.cross=W,n.cumsum=K,n.descending=J,n.deviation=oe,n.difference=_t,n.disjoint=Zt,n.every=hs,n.extent=G,n.fcumsum=U,n.filter=Hi,n.fsum=$,n.greatest=Xe,n.greatestIndex=Br,n.group=Y,n.groupSort=ke,n.groups=ce,n.histogram=$n,n.index=ye,n.indexes=me,n.intersection=Ft,n.least=ei,n.leastIndex=os,n.map=Re,n.max=Xn,n.maxIndex=Wr,n.mean=ss,n.median=pr,n.merge=is,n.min=Yn,n.minIndex=Aa,n.nice=mn,n.pairs=ia,n.permute=ft,n.quantile=Dn,n.quantileSorted=Lr,n.quickselect=mt,n.range=oa,n.reduce=zt,n.reverse=ti,n.rollup=le,n.rollups=ue,n.scan=ca,n.shuffle=cs,n.shuffler=us,n.some=jc,n.sort=he,n.subset=Dc,n.sum=ls,n.superset=Zi,n.thresholdFreedmanDiaconis=sa,n.thresholdScott=qr,n.thresholdSturges=wn,n.tickIncrement=fn,n.tickStep=Ot,n.ticks=Gt,n.transpose=Yi,n.union=Ul,n.variance=H,n.zip=It,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Dh=v(Fe=\u003e{\"use strict\";Object.defineProperty(Fe,\"__esModule\",{value:!0});Fe.replace=Fe.edit=Fe.appendChild=Fe.insertChild=Fe.insertRight=Fe.insertLeft=Fe.prev=Fe.next=Fe.root=Fe.up=Fe.canGoUp=Fe.canGoRight=Fe.canGoLeft=Fe.isRightmost=Fe.isLeftmost=Fe.isNotTop=Fe.isTop=Fe.isEnd=Fe.getChildren=Fe.isLeaf=Fe.value=Fe.whilst=void 0;Fe.zipperFrom=sr;Fe.isBranch=vi;Fe.leftmost=A3;Fe.left=zg;Fe.right=Rh;Fe.rightmost=Gg;Fe.canGoDown=Ug;Fe.down=Eh;Fe.remove=I3;Fe.makeZipper=L3;var iee=sv(),g3=Mt(iee),oee=Vo(),Og=Mt(oee),cee=ug(),uee=Mt(cee),lee=Fo(),pee=Mt(lee),hee=yv(),dee=Mt(hee),fee=jv(),y3=Mt(fee),mee=dh(),qh=Mt(mee),vee=Nv(),Xo=Mt(vee),gee=Ss(),Ms=Mt(gee),yee=$v(),_ee=Mt(yee),bee=oh(),Cg=Mt(bee),kee=rr(),Ag=Mt(kee),Nee=Go(),Th=Mt(Nee),xee=Qv(),Rg=Mt(xee),wee=Kv(),_3=Mt(wee),qee=vh(),Sh=Mt(qee),Tee=gh(),Eg=Mt(Tee),See=ou(),Ua=Mt(See),Mee=_h(),Pee=Mt(Mee),Oee=Bo(),jg=Mt(Oee),Cee=lu(),Yt=Mt(Cee),Aee=og(),Ps=Mt(Aee),Ree=av(),b3=Mt(Ree),Eee=xg(),k3=Mt(Eee),jee=kg(),Dee=Mt(jee),Iee=Nh(),Fee=Mt(Iee),Vee=Ng(),Lee=Mt(Vee);function Mt(n){return n\u0026\u0026n.__esModule?n:{default:n}}var Dg=null,Ig=\"END\";function Fg(n){return!n.length}var Vg=Fe.whilst=(0,Ms.default)(function(n,e,a){for(var s=a;n(s);)s=e(s);return s}),Wee={left:[],right:[],parentItems:Dg,parentPath:Dg,changed:!1};function Lg(n,e,a){this.item=n,this.path=e,this.meta=a}var ar=(0,Ua.default)(\"item\"),Bee=Fe.value=ar,Rn=(0,Ua.default)(\"path\"),Mh=(0,Ua.default)(\"meta\"),zee=(0,Ms.default)(function(n,e){return n(e),e}),Gee=function(e){return function(){throw new Error(e)}},N3=(0,Yt.default)(Gee,zee);function sr(n,e,a,s){return new Lg(e,a||Rn(n),s||Mh(n))}function vi(n){return Mh(n).isBranch(ar(n))}var x3=Fe.isLeaf=(0,Xo.default)(vi),Uee=(0,Yt.default)(Mh,(0,Ua.default)(\"getChildren\")),Ph=Fe.getChildren=(0,Yt.default)((0,k3.default)(x3,N3(\"Tried getting children of a leaf\")),(0,qh.default)(dee.default,[Uee,ar]));function Oh(n,e,a){return Mh(n).makeItem(e,a)}var gi=Fe.isEnd=(0,Yt.default)(Rn,(0,Ag.default)(Ig)),Wg=(0,Ua.default)(\"parentItems\"),w3=(0,Yt.default)(Wg,Sh.default),q3=(0,Ua.default)(\"parentPath\"),$ee=(0,Yt.default)(Rn,(0,k3.default)((0,Ag.default)(Ig),N3(\"Can't get parent items from end path.\")),Wg),T3=(0,Yt.default)(Rn,w3),S3=(0,Yt.default)(Rn,q3),_a=Fe.isTop=(0,Yt.default)($ee,(0,Ag.default)(Dg)),M3=Fe.isNotTop=(0,Xo.default)(_a),yi=(0,Yt.default)((0,Ua.default)(\"left\"),(0,Eg.default)(g3.default,[])),_i=(0,Yt.default)((0,Ua.default)(\"right\"),(0,Eg.default)(g3.default,[])),P3=(0,Yt.default)(Rn,yi),O3=(0,Yt.default)(Rn,_i),Xee=(0,Yt.default)(Rn,(0,Ua.default)(\"changed\"),Boolean),Yee=(0,Xo.default)(Xee),Hee=(0,Xo.default)(Fg),Ch=Fe.isLeftmost=(0,Yt.default)(P3,Fg),Ah=Fe.isRightmost=(0,Yt.default)(O3,Fg),C3=Fe.canGoLeft=(0,Xo.default)(Ch),Bg=Fe.canGoRight=(0,Xo.default)(Ah);function A3(n){if(_a(n)||Ch(n))return n;var e=Rn(n),a=yi(e),s=_i(e),o=ar(n),u=(0,Cg.default)(a),h=[],d=(0,jg.default)(a).concat([o],s);return sr(n,u,(0,Ps.default)(e,{left:h,right:d}))}function zg(n){if(gi(n))return n;if(Ch(n))return null;var e=ar(n),a=Rn(n),s=yi(a),o=_i(a),u=(0,Sh.default)(s),h=(0,Rg.default)(s),d=[e].concat(o);return sr(n,u,(0,Ps.default)(a,{left:h,right:d}))}function Rh(n){if(gi(n))return n;if(Ah(n))return null;var e=ar(n),a=Rn(n),s=yi(a),o=_i(a),u=(0,Cg.default)(o),h=s.concat([e]),d=(0,jg.default)(o);return sr(n,u,(0,Ps.default)(a,{left:h,right:d}))}function Gg(n){if(Ah(n))return n;var e=Rn(n),a=_i(e),s=yi(e),o=ar(n),u=(0,Sh.default)(a),h=s.concat([o],(0,Rg.default)(a)),d=[];return sr(n,u,(0,Ps.default)(e,{left:h,right:d}))}function Ug(n){return vi(n)\u0026\u0026Hee(Ph(n))}function Eh(n){if(!vi(n))return null;var e=ar(n),a=Rn(n),s=Ph(n),o=[],u=(0,jg.default)(s),h=sr(n,(0,Cg.default)(s),(0,Ps.default)(a,{left:o,right:u,parentItems:(Wg(a)||[]).concat([e]),parentPath:a}));return h}function R3(n,e){if(_a(e))throw new Error(\"Tried inserting left of top\");var a=ar(e),s=Rn(e),o=yi(s);return sr(e,a,(0,Ps.default)(s,{left:o.concat([n]),changed:!0}))}function E3(n,e){if(_a(e))throw new Error(\"Tried inserting left of top\");var a=ar(e),s=Rn(e),o=_i(s);return sr(e,a,(0,Ps.default)(s,{right:[n].concat(o),changed:!0}))}function ku(n,e){return ar(e)===n?e:sr(e,n,(0,Og.default)(\"changed\",!0,Rn(e)))}function j3(n,e){return ku(n(ar(e)),e)}var Zee=Fe.canGoUp=M3,Kee=(0,qh.default)(sr,[Th.default,T3,S3]),Qee=(0,Yt.default)((0,Pee.default)([P3,(0,Yt.default)(ar,uee.default),O3]),Lee.default),Jee=(0,qh.default)(Oh,[Th.default,T3,Qee]),jh=Fe.up=(0,y3.default)([[(0,Eg.default)(_a,gi),(0,pee.default)(null)],[Yee,Kee],[b3.default,(0,qh.default)(sr,[Th.default,Jee,(0,Yt.default)(S3,(0,Og.default)(\"changed\",!0))])]]),ete=Fe.root=(0,Dee.default)(gi,Vg(M3,jh)),tte=function(e){return sr(e,ar(e),Ig)},nte=(0,Yt.default)((0,Fee.default)((0,_ee.default)(_a,Bg),jh),(0,_3.default)(_a,tte,Rh)),rte=Fe.next=(0,y3.default)([[gi,Th.default],[Ug,Eh],[Bg,Rh],[b3.default,nte]]),D3=(0,Yt.default)(Eh,Gg),ate=Fe.prev=(0,_3.default)(C3,(0,Yt.default)(zg,Vg(vi,D3)),jh);function I3(n){if(_a(n))throw new Error(\"Can't remove top.\");if(gi(n))throw new Error(\"Can't remove end\");var e=Rn(n),a=yi(e);if(a.length){var s=sr(n,(0,Sh.default)(a),(0,Ps.default)(e,{left:(0,Rg.default)(a),changed:!0}));return Vg(vi,D3,s)}else{var o=_i(e),u=q3(e),h=w3(e);return sr(n,Oh(n,h,o),_a(n)?u:(0,Og.default)(\"changed\",!0,u))}}function F3(n,e){var a=[n].concat(Ph(e));return ku(Oh(e,n,a),e)}function V3(n,e){var a=Ph(e).concat([n]);return ku(Oh(e,n,a),e)}function en(n){return function(){return n(this)}}function Yo(n){return function(a){return n(a,this)}}Object.assign(Lg.prototype,{value:en(Bee),root:en(ete),up:en(jh),down:en(Eh),left:en(zg),right:en(Rh),leftmost:en(A3),rightmost:en(Gg),next:en(rte),prev:en(ate),isEnd:en(gi),isTop:en(_a),isBranch:en(vi),isLeaf:en(x3),isLeftmost:en(Ch),isRightmost:en(Ah),canGoUp:en(Zee),canGoLeft:en(C3),canGoRight:en(Bg),canGoDown:en(Ug),edit:Yo(j3),replace:Yo(ku),insertLeft:Yo(R3),insertRight:Yo(E3),insertChild:Yo(F3),appendChild:Yo(V3),remove:en(I3)});function L3(n,e,a){function s(o){return new Lg(o,Wee,{isBranch:n,getChildren:e,makeItem:a})}return s.from=s,s}var j_e=Fe.insertLeft=(0,Ms.default)(R3),D_e=Fe.insertRight=(0,Ms.default)(E3),I_e=Fe.insertChild=(0,Ms.default)(F3),F_e=Fe.appendChild=(0,Ms.default)(V3),V_e=Fe.edit=(0,Ms.default)(j3),L_e=Fe.replace=(0,Ms.default)(ku);Fe.default=L3});var Zg=v(Dr=\u003e{\"use strict\";Object.defineProperty(Dr,\"__esModule\",{value:!0});Dr.onPost=Dr.onPre=Dr.visit=Dr.POST=Dr.PRE=void 0;var ste=Ss(),W3=z3(ste),ite=Zv(),B3=z3(ite),Qr=Dh();function z3(n){return n\u0026\u0026n.__esModule?n:{default:n}}var G3=Dr.PRE=\"PRE\",$g=Dr.POST=\"POST\";function ote(n,e,a,s){for(var o=e,u=a,h=!1,d=!1,g=0;g\u003cs.length;g++){var _=s[g],N=_(n,o,u)||{},k=N.item,T=N.state,L=N.stop,P=N.cut;if((0,B3.default)(\"item\",N)\u0026\u0026(o=k),(0,B3.default)(\"state\",N)\u0026\u0026(u=T),L||P){h=L,d=P;break}}return{item:o,state:u,stop:h,cut:d}}function Xg(n,e,a,s){var o=ote(n,(0,Qr.value)(e),a,s)||{},u=o.item,h=o.state,d=o.stop,g=o.cut;return{loc:o.hasOwnProperty(\"item\")?(0,Qr.replace)(u,e):e,state:o.hasOwnProperty(\"state\")?h:a,stop:d,cut:g}}var Yg=\"DOWN\",Hg=\"RIGHT\";function U3(n,e){return{item:(0,Qr.value)((0,Qr.root)(n)),state:e}}var B_e=Dr.visit=(0,W3.default)(function(e,a,s){for(var o=Yg,u=s,h=a,d=!0;d||(0,Qr.isNotTop)(u);)if(d=!1,o===Yg){var g=Xg(G3,u,h,e);if(h=g.state,u=g.loc,g.stop)return U3(u,h);!g.cut\u0026\u0026(0,Qr.canGoDown)(u)?u=(0,Qr.down)(u):o=Hg}else if(o===Hg){var _=Xg($g,u,h,e);if(h=_.state,u=_.loc,_.stop)return U3(u,h);(0,Qr.canGoRight)(u)?(u=(0,Qr.right)(u),o=Yg):(u=(0,Qr.up)(u),o=Hg)}var N=Xg($g,u,h,e);return h=N.state,u=N.loc,{item:(0,Qr.value)(u),zipper:u,state:h}}),$3=(0,W3.default)(function(n,e){return function(a,s,o){return a===n?e(s,o):void 0}}),z_e=Dr.onPre=$3(G3),G_e=Dr.onPost=$3($g)});var X3=v($a=\u003e{\"use strict\";Object.defineProperty($a,\"__esModule\",{value:!0});$a.walk=$a.preWalk=$a.postWalk=void 0;var cte=Ss(),Kg=ute(cte),bi=Zg();function ute(n){return n\u0026\u0026n.__esModule?n:{default:n}}var Ih=function(e){return function(a,s){return{item:e(a)}}},lte=$a.postWalk=(0,Kg.default)(function(n,e){return(0,bi.visit)([(0,bi.onPost)(Ih(n))],void 0,e).zipper}),pte=$a.preWalk=(0,Kg.default)(function(n,e){return(0,bi.visit)([(0,bi.onPre)(Ih(n))],void 0,e).zipper}),hte=$a.walk=(0,Kg.default)(function(n,e,a){return(0,bi.visit)([(0,bi.onPre)(Ih(n)),(0,bi.onPost)(Ih(e))],void 0,a).zipper});$a.default={walk:hte,postWalk:lte,preWalk:pte}});var Y3=v(Nu=\u003e{\"use strict\";Object.defineProperty(Nu,\"__esModule\",{value:!0});Nu.ArrayZipper=void 0;var dte=Dh(),fte=Nu.ArrayZipper=(0,dte.makeZipper)(function(n){return!!n.length},function(n){return n},function(n,e){return e});Nu.default=fte});var ny=v(ba=\u003e{\"use strict\";Object.defineProperty(ba,\"__esModule\",{value:!0});ba.ArrayZipper=ba.zip=void 0;var mte=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)\u0026\u0026(n[s]=a[s])}return n},Qg=X3();Object.keys(Qg).forEach(function(n){n!==\"default\"\u0026\u0026Object.defineProperty(ba,n,{enumerable:!0,get:function(){return Qg[n]}})});var Jg=Zg();Object.keys(Jg).forEach(function(n){n!==\"default\"\u0026\u0026Object.defineProperty(ba,n,{enumerable:!0,get:function(){return Jg[n]}})});var ey=Dh();Object.keys(ey).forEach(function(n){n!==\"default\"\u0026\u0026Object.defineProperty(ba,n,{enumerable:!0,get:function(){return ey[n]}})});var Fh=ty(ey),vte=ty(Qg),gte=Y3(),H3=yte(gte),Z3=ty(Jg);function yte(n){return n\u0026\u0026n.__esModule?n:{default:n}}function ty(n){if(n\u0026\u0026n.__esModule)return n;var e={};if(n!=null)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)\u0026\u0026(e[a]=n[a]);return e.default=n,e}ba.zip=Fh;ba.ArrayZipper=H3.default;var _te=mte({},Fh,Z3,{ArrayZipper:H3.default,walk:vte,makeZipper:Fh.makeZipper,visit:Z3,zip:Fh});ba.default=_te});var En=v((Wh,iC)=\u003e{(function(n,e){typeof Wh==\"object\"\u0026\u0026typeof iC!=\"undefined\"?e(Wh):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Core={}))})(Wh,function(n){\"use strict\";var e=function(he,ke){return Array(Math.abs(ke)+1).join(he)};function a(he,ke,Oe){return function(){for(var Ge=[],Pe=0;Pe\u003carguments.length;Pe++)Ge[Pe]=arguments[Pe];return console.warn(he+\" is deprecated. Use \"+ke+\".\"),Oe.apply(this,Ge)}}function s(he){return he!==null\u0026\u0026typeof he==\"object\"\u0026\u0026typeof he.name==\"string\"}function o(he){return he!==null\u0026\u0026typeof he==\"object\"\u0026\u0026typeof he.step==\"number\"\u0026\u0026typeof he.alt==\"number\"}var u=[0,2,4,-1,1,3,5],h=u.map(function(he){return Math.floor(he*7/12)});function d(he){var ke=he.step,Oe=he.alt,Ge=he.oct,Pe=he.dir,Me=Pe===void 0?1:Pe,rt=u[ke]+7*Oe;if(Ge===void 0)return[Me*rt];var ut=Ge-h[ke]-4*Oe;return[Me*rt,Me*ut]}var g=[3,0,4,1,5,2,6];function _(he){var ke=he[0],Oe=he[1],Ge=he[2],Pe=g[N(ke)],Me=Math.floor((ke+1)/7);if(Oe===void 0)return{step:Pe,alt:Me,dir:Ge};var rt=Oe+4*Me+h[Pe];return{step:Pe,alt:Me,oct:rt,dir:Ge}}function N(he){var ke=(he+1)%7;return ke\u003c0?7+ke:ke}var k={empty:!0,name:\"\",pc:\"\",acc:\"\"},T=new Map,L=function(he){return\"CDEFGAB\".charAt(he)},P=function(he){return he\u003c0?e(\"b\",-he):e(\"#\",he)},W=function(he){return he[0]===\"b\"?-he.length:he.length};function K(he){var ke=T.get(he);if(ke)return ke;var Oe=typeof he==\"string\"?$(he):o(he)?K(U(he)):s(he)?K(he.name):k;return T.set(he,Oe),Oe}var J=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\\d*)\\s*(.*)$/;function H(he){var ke=J.exec(he);return[ke[1].toUpperCase(),ke[2].replace(/x/g,\"##\"),ke[3],ke[4]]}function oe(he){return K(_(he))}var G=function(he,ke){return(he%ke+ke)%ke},R=[0,2,4,5,7,9,11];function $(he){var ke=H(he);if(ke[0]===\"\"||ke[3]!==\"\")return k;var Oe=ke[0],Ge=ke[1],Pe=ke[2],Me=(Oe.charCodeAt(0)+3)%7,rt=W(Ge),ut=Pe.length?+Pe:void 0,Gt=d({step:Me,alt:rt,oct:ut}),fn=Oe+Ge+Pe,Ot=Oe+Ge,mn=(R[Me]+rt+120)%12,wn=ut===void 0?G(R[Me]+rt,12)-12*99:R[Me]+rt+12*(ut+1),$n=wn\u003e=0\u0026\u0026wn\u003c=127?wn:null,Xn=ut===void 0?null:Math.pow(2,(wn-69)/12)*440;return{empty:!1,acc:Ge,alt:rt,chroma:mn,coord:Gt,freq:Xn,height:wn,letter:Oe,midi:$n,name:fn,oct:ut,pc:Ot,step:Me}}function U(he){var ke=he.step,Oe=he.alt,Ge=he.oct,Pe=L(ke);if(!Pe)return\"\";var Me=Pe+P(Oe);return Ge||Ge===0?Me+Ge:Me}var te={empty:!0,name:\"\",acc:\"\"},se=\"([-+]?\\\\d+)(d{1,4}|m|M|P|A{1,4})\",be=\"(AA|A|P|M|m|d|dd)([-+]?\\\\d+)\",xe=new RegExp(\"^\"+se+\"|\"+be+\"$\");function Ae(he){var ke=xe.exec(\"\"+he);return ke===null?[\"\",\"\"]:ke[1]?[ke[1],ke[2]]:[ke[4],ke[3]]}var ze={};function $e(he){return typeof he==\"string\"?ze[he]||(ze[he]=le(he)):o(he)?$e(me(he)):s(he)?$e(he.name):te}var Y=[0,2,4,5,7,9,11],ce=\"PMMPPMM\";function le(he){var ke=Ae(he);if(ke[0]===\"\")return te;var Oe=+ke[0],Ge=ke[1],Pe=(Math.abs(Oe)-1)%7,Me=ce[Pe];if(Me===\"M\"\u0026\u0026Ge===\"P\")return te;var rt=Me===\"M\"?\"majorable\":\"perfectable\",ut=\"\"+Oe+Ge,Gt=Oe\u003c0?-1:1,fn=Oe===8||Oe===-8?Oe:Gt*(Pe+1),Ot=ye(rt,Ge),mn=Math.floor((Math.abs(Oe)-1)/7),wn=Gt*(Y[Pe]+Ot+12*mn),$n=(Gt*(Y[Pe]+Ot)%12+12)%12,Xn=d({step:Pe,alt:Ot,oct:mn,dir:Gt});return{empty:!1,name:ut,num:Oe,q:Ge,step:Pe,alt:Ot,dir:Gt,type:rt,simple:fn,semitones:wn,chroma:$n,coord:Xn,oct:mn}}function ue(he){var ke=he[0],Oe=he[1],Ge=Oe===void 0?0:Oe,Pe=ke*7+Ge*12\u003c0,Me=Pe?[-ke,-Ge,-1]:[ke,Ge,1];return $e(_(Me))}function ye(he,ke){return ke===\"M\"\u0026\u0026he===\"majorable\"||ke===\"P\"\u0026\u0026he===\"perfectable\"?0:ke===\"m\"\u0026\u0026he===\"majorable\"?-1:/^A+$/.test(ke)?ke.length:/^d+$/.test(ke)?-1*(he===\"perfectable\"?ke.length:ke.length+1):0}function me(he){var ke=he.step,Oe=he.alt,Ge=he.oct,Pe=Ge===void 0?0:Ge,Me=he.dir;if(!Me)return\"\";var rt=ke+1+7*Pe,ut=Me\u003c0?\"-\":\"\",Gt=ce[ke]===\"M\"?\"majorable\":\"perfectable\",fn=ut+rt+je(Gt,Oe);return fn}function je(he,ke){return ke===0?he===\"majorable\"?\"M\":\"P\":ke===-1\u0026\u0026he===\"majorable\"?\"m\":ke\u003e0?e(\"A\",ke):e(\"d\",he===\"perfectable\"?ke:ke+1)}function Je(he,ke){var Oe=K(he),Ge=$e(ke);if(Oe.empty||Ge.empty)return\"\";var Pe=Oe.coord,Me=Ge.coord,rt=Pe.length===1?[Pe[0]+Me[0]]:[Pe[0]+Me[0],Pe[1]+Me[1]];return oe(rt).name}function ft(he,ke){var Oe=K(he),Ge=K(ke);if(Oe.empty||Ge.empty)return\"\";var Pe=Oe.coord,Me=Ge.coord,rt=Me[0]-Pe[0],ut=Pe.length===2\u0026\u0026Me.length===2?Me[1]-Pe[1]:-Math.floor(rt*7/12);return ue([rt,ut]).name}n.accToAlt=W,n.altToAcc=P,n.coordToInterval=ue,n.coordToNote=oe,n.decode=_,n.deprecate=a,n.distance=ft,n.encode=d,n.fillStr=e,n.interval=$e,n.isNamed=s,n.isPitch=o,n.note=K,n.stepToLetter=L,n.tokenizeInterval=Ae,n.tokenizeNote=H,n.transpose=Je,Object.defineProperty(n,\"__esModule\",{value:!0})})});var cC=v((Bh,oC)=\u003e{(function(n,e){typeof Bh==\"object\"\u0026\u0026typeof oC!=\"undefined\"?e(Bh,En()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.AbcNotation={},n.core))})(Bh,function(n,e){\"use strict\";var a=function(N,k){return Array(k+1).join(N)},s=/^(_{1,}|=|\\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function o(N){var k=s.exec(N);return k?[k[1],k[2],k[3]]:[\"\",\"\",\"\"]}function u(N){var k=o(N),T=k[0],L=k[1],P=k[2];if(L===\"\")return\"\";for(var W=4,K=0;K\u003cP.length;K++)W+=P.charAt(K)===\",\"?-1:1;var J=T[0]===\"_\"?T.replace(/_/g,\"b\"):T[0]===\"^\"?T.replace(/\\^/g,\"#\"):\"\";return L.charCodeAt(0)\u003e96?L.toUpperCase()+J+(W+1):L+J+W}function h(N){var k=e.note(N);if(k.empty||!k.oct\u0026\u0026k.oct!==0)return\"\";var T=k.letter,L=k.acc,P=k.oct,W=L[0]===\"b\"?L.replace(/b/g,\"_\"):L.replace(/#/g,\"^\"),K=P\u003e4?T.toLowerCase():T,J=P===5?\"\":P\u003e4?a(\"'\",P-5):a(\",\",4-P);return W+K+J}function d(N,k){return h(e.transpose(u(N),k))}function g(N,k){return e.distance(u(N),u(k))}var _={abcToScientificNotation:u,scientificToAbcNotation:h,tokenize:o,transpose:d,distance:g};n.abcToScientificNotation=u,n.default=_,n.distance=g,n.scientificToAbcNotation=h,n.tokenize=o,n.transpose=d,Object.defineProperty(n,\"__esModule\",{value:!0})})});var lC=v((zh,uC)=\u003e{(function(n,e){typeof zh==\"object\"\u0026\u0026typeof uC!=\"undefined\"?e(zh,En()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Array={},n.core))})(zh,function(n,e){\"use strict\";function a(k,T){for(var L=[];T--;L[T]=T+k);return L}function s(k,T){for(var L=[];T--;L[T]=k-T);return L}function o(k,T){return k\u003cT?a(k,T-k+1):s(k,k-T+1)}function u(k,T){var L=T.length,P=(k%L+L)%L;return T.slice(P,L).concat(T.slice(0,P))}function h(k){return k.filter(function(T){return T===0||T})}function d(k){var T=k.map(function(L){return e.note(L)}).filter(function(L){return!L.empty});return T.sort(function(L,P){return L.height-P.height}).map(function(L){return L.name})}function g(k){return d(k).filter(function(T,L,P){return L===0||T!==P[L-1]})}function _(k,T){T===void 0\u0026\u0026(T=Math.random);for(var L,P,W=k.length;W;)L=Math.floor(T()*W--),P=k[W],k[W]=k[L],k[L]=P;return k}function N(k){return k.length===0?[[]]:N(k.slice(1)).reduce(function(T,L){return T.concat(k.map(function(P,W){var K=L.slice();return K.splice(W,0,k[0]),K}))},[])}n.compact=h,n.permutations=N,n.range=o,n.rotate=u,n.shuffle=_,n.sortedNoteNames=d,n.sortedUniqNoteNames=g,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Ho=v((Gh,pC)=\u003e{(function(n,e){typeof Gh==\"object\"\u0026\u0026typeof pC!=\"undefined\"?e(Gh):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Collection={}))})(Gh,function(n){\"use strict\";function e(_,N){for(var k=[];N--;k[N]=N+_);return k}function a(_,N){for(var k=[];N--;k[N]=_-N);return k}function s(_,N){return _\u003cN?e(_,N-_+1):a(_,_-N+1)}function o(_,N){var k=N.length,T=(_%k+k)%k;return N.slice(T,k).concat(N.slice(0,T))}function u(_){return _.filter(function(N){return N===0||N})}function h(_,N){N===void 0\u0026\u0026(N=Math.random);for(var k,T,L=_.length;L;)k=Math.floor(N()*L--),T=_[L],_[L]=_[k],_[k]=T;return _}function d(_){return _.length===0?[[]]:d(_.slice(1)).reduce(function(N,k){return N.concat(_.map(function(T,L){var P=k.slice();return P.splice(L,0,_[0]),P}))},[])}var g={compact:u,permutations:d,range:s,rotate:o,shuffle:h};n.compact=u,n.default=g,n.permutations=d,n.range=s,n.rotate=o,n.shuffle=h,Object.defineProperty(n,\"__esModule\",{value:!0})})});var As=v((Uh,hC)=\u003e{(function(n,e){typeof Uh==\"object\"\u0026\u0026typeof hC!=\"undefined\"?e(Uh,Ho(),En()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Pcset={},n.collection,n.core))})(Uh,function(n,e,a){\"use strict\";var s,o={empty:!0,name:\"\",setNum:0,chroma:\"000000000000\",normalized:\"000000000000\",intervals:[]},u=function(Y){return Number(Y).toString(2)},h=function(Y){return parseInt(Y,2)},d=/^[01]{12}$/;function g(Y){return d.test(Y)}var _=function(Y){return typeof Y==\"number\"\u0026\u0026Y\u003e=0\u0026\u0026Y\u003c=4095},N=function(Y){return Y\u0026\u0026g(Y.chroma)},k=(s={},s[o.chroma]=o,s);function T(Y){var ce=g(Y)?Y:_(Y)?u(Y):Array.isArray(Y)?$e(Y):N(Y)?Y.chroma:o.chroma;return k[ce]=k[ce]||ze(ce)}var L=a.deprecate(\"Pcset.pcset\",\"Pcset.get\",T),P=function(Y){return T(Y).chroma},W=function(Y){return T(Y).intervals},K=function(Y){return T(Y).setNum},J=[\"1P\",\"2m\",\"2M\",\"3m\",\"3M\",\"4P\",\"5d\",\"5P\",\"6m\",\"6M\",\"7m\",\"7M\"];function H(Y){for(var ce=[],le=0;le\u003c12;le++)Y.charAt(le)===\"1\"\u0026\u0026ce.push(J[le]);return ce}function oe(){return e.range(2048,4095).map(u)}function G(Y,ce){ce===void 0\u0026\u0026(ce=!0);var le=T(Y),ue=le.chroma.split(\"\");return e.compact(ue.map(function(ye,me){var je=e.rotate(me,ue);return ce\u0026\u0026je[0]===\"0\"?null:je.join(\"\")}))}function R(Y,ce){return T(Y).setNum===T(ce).setNum}function $(Y){var ce=T(Y).setNum;return function(le){var ue=T(le).setNum;return ce\u0026\u0026ce!==ue\u0026\u0026(ue\u0026ce)===ue}}function U(Y){var ce=T(Y).setNum;return function(le){var ue=T(le).setNum;return ce\u0026\u0026ce!==ue\u0026\u0026(ue|ce)===ue}}function te(Y){var ce=T(Y);return function(le){var ue=a.note(le);return ce\u0026\u0026!ue.empty\u0026\u0026ce.chroma.charAt(ue.chroma)===\"1\"}}var se=te;function be(Y){var ce=te(Y);return function(le){return le.filter(ce)}}var xe={get:T,chroma:P,num:K,intervals:W,chromas:oe,isSupersetOf:U,isSubsetOf:$,isNoteIncludedIn:te,isEqual:R,filter:be,modes:G,pcset:L};function Ae(Y){var ce=Y.split(\"\");return ce.map(function(le,ue){return e.rotate(ue,ce).join(\"\")})}function ze(Y){var ce=h(Y),le=Ae(Y).map(h).filter(function(me){return me\u003e=2048}).sort()[0],ue=u(le),ye=H(Y);return{empty:!1,name:\"\",setNum:ce,chroma:Y,normalized:ue,intervals:ye}}function $e(Y){if(Y.length===0)return o.chroma;for(var ce,le=[0,0,0,0,0,0,0,0,0,0,0,0],ue=0;ue\u003cY.length;ue++)ce=a.note(Y[ue]),ce.empty\u0026\u0026(ce=a.interval(Y[ue])),ce.empty||(le[ce.chroma]=1);return le.join(\"\")}n.EmptyPcset=o,n.chromaToIntervals=H,n.chromas=oe,n.default=xe,n.filter=be,n.get=T,n.includes=se,n.isEqual=R,n.isNoteIncludedIn=te,n.isSubsetOf=$,n.isSupersetOf=U,n.modes=G,n.pcset=L,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Tu=v(($h,dC)=\u003e{(function(n,e){typeof $h==\"object\"\u0026\u0026typeof dC!=\"undefined\"?e($h,En(),As()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.ChordType={},n.core,n.pcset))})($h,function(n,e,a){\"use strict\";var s=function(){return s=Object.assign||function(R){for(var $,U=1,te=arguments.length;U\u003cte;U++){$=arguments[U];for(var se in $)Object.prototype.hasOwnProperty.call($,se)\u0026\u0026(R[se]=$[se])}return R},s.apply(this,arguments)},o=[[\"1P 3M 5P\",\"major\",\"M ^ \"],[\"1P 3M 5P 7M\",\"major seventh\",\"maj7 \\u0394 ma7 M7 Maj7 ^7\"],[\"1P 3M 5P 7M 9M\",\"major ninth\",\"maj9 \\u03949 ^9\"],[\"1P 3M 5P 7M 9M 13M\",\"major thirteenth\",\"maj13 Maj13 ^13\"],[\"1P 3M 5P 6M\",\"sixth\",\"6 add6 add13 M6\"],[\"1P 3M 5P 6M 9M\",\"sixth/ninth\",\"6/9 69 M69\"],[\"1P 3M 6m 7M\",\"major seventh flat sixth\",\"M7b6 ^7b6\"],[\"1P 3M 5P 7M 11A\",\"major seventh sharp eleventh\",\"maj#4 \\u0394#4 \\u0394#11 M7#11 ^7#11 maj7#11\"],[\"1P 3m 5P\",\"minor\",\"m min -\"],[\"1P 3m 5P 7m\",\"minor seventh\",\"m7 min7 mi7 -7\"],[\"1P 3m 5P 7M\",\"minor/major seventh\",\"m/ma7 m/maj7 mM7 mMaj7 m/M7 -\\u03947 m\\u0394 -^7\"],[\"1P 3m 5P 6M\",\"minor sixth\",\"m6 -6\"],[\"1P 3m 5P 7m 9M\",\"minor ninth\",\"m9 -9\"],[\"1P 3m 5P 7M 9M\",\"minor/major ninth\",\"mM9 mMaj9 -^9\"],[\"1P 3m 5P 7m 9M 11P\",\"minor eleventh\",\"m11 -11\"],[\"1P 3m 5P 7m 9M 13M\",\"minor thirteenth\",\"m13 -13\"],[\"1P 3m 5d\",\"diminished\",\"dim \\xB0 o\"],[\"1P 3m 5d 7d\",\"diminished seventh\",\"dim7 \\xB07 o7\"],[\"1P 3m 5d 7m\",\"half-diminished\",\"m7b5 \\xF8 -7b5 h7 h\"],[\"1P 3M 5P 7m\",\"dominant seventh\",\"7 dom\"],[\"1P 3M 5P 7m 9M\",\"dominant ninth\",\"9\"],[\"1P 3M 5P 7m 9M 13M\",\"dominant thirteenth\",\"13\"],[\"1P 3M 5P 7m 11A\",\"lydian dominant seventh\",\"7#11 7#4\"],[\"1P 3M 5P 7m 9m\",\"dominant flat ninth\",\"7b9\"],[\"1P 3M 5P 7m 9A\",\"dominant sharp ninth\",\"7#9\"],[\"1P 3M 7m 9m\",\"altered\",\"alt7\"],[\"1P 4P 5P\",\"suspended fourth\",\"sus4 sus\"],[\"1P 2M 5P\",\"suspended second\",\"sus2\"],[\"1P 4P 5P 7m\",\"suspended fourth seventh\",\"7sus4 7sus\"],[\"1P 5P 7m 9M 11P\",\"eleventh\",\"11\"],[\"1P 4P 5P 7m 9m\",\"suspended fourth flat ninth\",\"b9sus phryg 7b9sus 7b9sus4\"],[\"1P 5P\",\"fifth\",\"5\"],[\"1P 3M 5A\",\"augmented\",\"aug + +5 ^#5\"],[\"1P 3m 5A\",\"minor augmented\",\"m#5 -#5 m+\"],[\"1P 3M 5A 7M\",\"augmented seventh\",\"maj7#5 maj7+5 +maj7 ^7#5\"],[\"1P 3M 5P 7M 9M 11A\",\"major sharp eleventh (lydian)\",\"maj9#11 \\u03949#11 ^9#11\"],[\"1P 2M 4P 5P\",\"\",\"sus24 sus4add9\"],[\"1P 3M 5A 7M 9M\",\"\",\"maj9#5 Maj9#5\"],[\"1P 3M 5A 7m\",\"\",\"7#5 +7 7+ 7aug aug7\"],[\"1P 3M 5A 7m 9A\",\"\",\"7#5#9 7#9#5 7alt\"],[\"1P 3M 5A 7m 9M\",\"\",\"9#5 9+\"],[\"1P 3M 5A 7m 9M 11A\",\"\",\"9#5#11\"],[\"1P 3M 5A 7m 9m\",\"\",\"7#5b9 7b9#5\"],[\"1P 3M 5A 7m 9m 11A\",\"\",\"7#5b9#11\"],[\"1P 3M 5A 9A\",\"\",\"+add#9\"],[\"1P 3M 5A 9M\",\"\",\"M#5add9 +add9\"],[\"1P 3M 5P 6M 11A\",\"\",\"M6#11 M6b5 6#11 6b5\"],[\"1P 3M 5P 6M 7M 9M\",\"\",\"M7add13\"],[\"1P 3M 5P 6M 9M 11A\",\"\",\"69#11\"],[\"1P 3m 5P 6M 9M\",\"\",\"m69 -69\"],[\"1P 3M 5P 6m 7m\",\"\",\"7b6\"],[\"1P 3M 5P 7M 9A 11A\",\"\",\"maj7#9#11\"],[\"1P 3M 5P 7M 9M 11A 13M\",\"\",\"M13#11 maj13#11 M13+4 M13#4\"],[\"1P 3M 5P 7M 9m\",\"\",\"M7b9\"],[\"1P 3M 5P 7m 11A 13m\",\"\",\"7#11b13 7b5b13\"],[\"1P 3M 5P 7m 13M\",\"\",\"7add6 67 7add13\"],[\"1P 3M 5P 7m 9A 11A\",\"\",\"7#9#11 7b5#9 7#9b5\"],[\"1P 3M 5P 7m 9A 11A 13M\",\"\",\"13#9#11\"],[\"1P 3M 5P 7m 9A 11A 13m\",\"\",\"7#9#11b13\"],[\"1P 3M 5P 7m 9A 13M\",\"\",\"13#9\"],[\"1P 3M 5P 7m 9A 13m\",\"\",\"7#9b13\"],[\"1P 3M 5P 7m 9M 11A\",\"\",\"9#11 9+4 9#4\"],[\"1P 3M 5P 7m 9M 11A 13M\",\"\",\"13#11 13+4 13#4\"],[\"1P 3M 5P 7m 9M 11A 13m\",\"\",\"9#11b13 9b5b13\"],[\"1P 3M 5P 7m 9m 11A\",\"\",\"7b9#11 7b5b9 7b9b5\"],[\"1P 3M 5P 7m 9m 11A 13M\",\"\",\"13b9#11\"],[\"1P 3M 5P 7m 9m 11A 13m\",\"\",\"7b9b13#11 7b9#11b13 7b5b9b13\"],[\"1P 3M 5P 7m 9m 13M\",\"\",\"13b9\"],[\"1P 3M 5P 7m 9m 13m\",\"\",\"7b9b13\"],[\"1P 3M 5P 7m 9m 9A\",\"\",\"7b9#9\"],[\"1P 3M 5P 9M\",\"\",\"Madd9 2 add9 add2\"],[\"1P 3M 5P 9m\",\"\",\"Maddb9\"],[\"1P 3M 5d\",\"\",\"Mb5\"],[\"1P 3M 5d 6M 7m 9M\",\"\",\"13b5\"],[\"1P 3M 5d 7M\",\"\",\"M7b5\"],[\"1P 3M 5d 7M 9M\",\"\",\"M9b5\"],[\"1P 3M 5d 7m\",\"\",\"7b5\"],[\"1P 3M 5d 7m 9M\",\"\",\"9b5\"],[\"1P 3M 7m\",\"\",\"7no5\"],[\"1P 3M 7m 13m\",\"\",\"7b13\"],[\"1P 3M 7m 9M\",\"\",\"9no5\"],[\"1P 3M 7m 9M 13M\",\"\",\"13no5\"],[\"1P 3M 7m 9M 13m\",\"\",\"9b13\"],[\"1P 3m 4P 5P\",\"\",\"madd4\"],[\"1P 3m 5P 6m 7M\",\"\",\"mMaj7b6\"],[\"1P 3m 5P 6m 7M 9M\",\"\",\"mMaj9b6\"],[\"1P 3m 5P 7m 11P\",\"\",\"m7add11 m7add4\"],[\"1P 3m 5P 9M\",\"\",\"madd9\"],[\"1P 3m 5d 6M 7M\",\"\",\"o7M7\"],[\"1P 3m 5d 7M\",\"\",\"oM7\"],[\"1P 3m 6m 7M\",\"\",\"mb6M7\"],[\"1P 3m 6m 7m\",\"\",\"m7#5\"],[\"1P 3m 6m 7m 9M\",\"\",\"m9#5\"],[\"1P 3m 5A 7m 9M 11P\",\"\",\"m11A\"],[\"1P 3m 6m 9m\",\"\",\"mb6b9\"],[\"1P 2M 3m 5d 7m\",\"\",\"m9b5\"],[\"1P 4P 5A 7M\",\"\",\"M7#5sus4\"],[\"1P 4P 5A 7M 9M\",\"\",\"M9#5sus4\"],[\"1P 4P 5A 7m\",\"\",\"7#5sus4\"],[\"1P 4P 5P 7M\",\"\",\"M7sus4\"],[\"1P 4P 5P 7M 9M\",\"\",\"M9sus4\"],[\"1P 4P 5P 7m 9M\",\"\",\"9sus4 9sus\"],[\"1P 4P 5P 7m 9M 13M\",\"\",\"13sus4 13sus\"],[\"1P 4P 5P 7m 9m 13m\",\"\",\"7sus4b9b13 7b9b13sus4\"],[\"1P 4P 7m 10m\",\"\",\"4 quartal\"],[\"1P 5P 7m 9m 11P\",\"\",\"11b9\"]],u=s(s({},a.EmptyPcset),{name:\"\",quality:\"Unknown\",intervals:[],aliases:[]}),h=[],d={};function g(G){return d[G]||u}var _=e.deprecate(\"ChordType.chordType\",\"ChordType.get\",g);function N(){return h.map(function(G){return G.name}).filter(function(G){return G})}function k(){return h.map(function(G){return G.aliases[0]}).filter(function(G){return G})}function T(){return Object.keys(d)}function L(){return h.slice()}var P=e.deprecate(\"ChordType.entries\",\"ChordType.all\",L);function W(){h=[],d={}}function K(G,R,$){var U=H(G),te=s(s({},a.get(G)),{name:$||\"\",quality:U,intervals:G,aliases:R});h.push(te),te.name\u0026\u0026(d[te.name]=te),d[te.setNum]=te,d[te.chroma]=te,te.aliases.forEach(function(se){return J(te,se)})}function J(G,R){d[R]=G}function H(G){var R=function($){return G.indexOf($)!==-1};return R(\"5A\")?\"Augmented\":R(\"3M\")?\"Major\":R(\"5d\")?\"Diminished\":R(\"3m\")?\"Minor\":\"Unknown\"}o.forEach(function(G){var R=G[0],$=G[1],U=G[2];return K(R.split(\" \"),U.split(\" \"),$)}),h.sort(function(G,R){return G.setNum-R.setNum});var oe={names:N,symbols:k,get:g,all:L,add:K,removeAll:W,keys:T,entries:P,chordType:_};n.add=K,n.addAlias=J,n.all=L,n.chordType=_,n.default=oe,n.entries=P,n.get=g,n.keys=T,n.names=N,n.removeAll=W,n.symbols=k,Object.defineProperty(n,\"__esModule\",{value:!0})})});var mC=v((Xh,fC)=\u003e{(function(n,e){typeof Xh==\"object\"\u0026\u0026typeof fC!=\"undefined\"?e(Xh,Tu(),En(),As()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord-type\",\"@tonaljs/core\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.ChordDetect={},n.chordType,n.core,n.pcset))})(Xh,function(n,e,a,s){\"use strict\";var o=function(g){var _=g.reduce(function(N,k){var T=a.note(k).chroma;return T!==void 0\u0026\u0026(N[T]=N[T]||a.note(k).name),N},{});return function(N){return _[N]}};function u(g){var _=g.map(function(k){return a.note(k).pc}).filter(function(k){return k});if(a.note.length===0)return[];var N=h(_,1);return N.filter(function(k){return k.weight}).sort(function(k,T){return T.weight-k.weight}).map(function(k){return k.name})}function h(g,_){var N=g[0],k=a.note(N).chroma,T=o(g),L=s.modes(g,!1),P=[];return L.forEach(function(W,K){var J=e.all().filter(function(H){return H.chroma===W});J.forEach(function(H){var oe=H.aliases[0],G=T(K),R=K!==k;R?P.push({weight:.5*_,name:\"\"+G+oe+\"/\"+N}):P.push({weight:1*_,name:\"\"+G+oe})})}),P}var d={detect:u};n.default=d,n.detect=u,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Hh=v((Yh,vC)=\u003e{(function(n,e){typeof Yh==\"object\"\u0026\u0026typeof vC!=\"undefined\"?e(Yh,En(),As()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.ScaleType={},n.core,n.pcset))})(Yh,function(n,e,a){\"use strict\";var s=function(){return s=Object.assign||function(oe){for(var G,R=1,$=arguments.length;R\u003c$;R++){G=arguments[R];for(var U in G)Object.prototype.hasOwnProperty.call(G,U)\u0026\u0026(oe[U]=G[U])}return oe},s.apply(this,arguments)},o=[[\"1P 2M 3M 5P 6M\",\"major pentatonic\",\"pentatonic\"],[\"1P 3M 4P 5P 7M\",\"ionian pentatonic\"],[\"1P 3M 4P 5P 7m\",\"mixolydian pentatonic\",\"indian\"],[\"1P 2M 4P 5P 6M\",\"ritusen\"],[\"1P 2M 4P 5P 7m\",\"egyptian\"],[\"1P 3M 4P 5d 7m\",\"neopolitan major pentatonic\"],[\"1P 3m 4P 5P 6m\",\"vietnamese 1\"],[\"1P 2m 3m 5P 6m\",\"pelog\"],[\"1P 2m 4P 5P 6m\",\"kumoijoshi\"],[\"1P 2M 3m 5P 6m\",\"hirajoshi\"],[\"1P 2m 4P 5d 7m\",\"iwato\"],[\"1P 2m 4P 5P 7m\",\"in-sen\"],[\"1P 3M 4A 5P 7M\",\"lydian pentatonic\",\"chinese\"],[\"1P 3m 4P 6m 7m\",\"malkos raga\"],[\"1P 3m 4P 5d 7m\",\"locrian pentatonic\",\"minor seven flat five pentatonic\"],[\"1P 3m 4P 5P 7m\",\"minor pentatonic\",\"vietnamese 2\"],[\"1P 3m 4P 5P 6M\",\"minor six pentatonic\"],[\"1P 2M 3m 5P 6M\",\"flat three pentatonic\",\"kumoi\"],[\"1P 2M 3M 5P 6m\",\"flat six pentatonic\"],[\"1P 2m 3M 5P 6M\",\"scriabin\"],[\"1P 3M 5d 6m 7m\",\"whole tone pentatonic\"],[\"1P 3M 4A 5A 7M\",\"lydian #5P pentatonic\"],[\"1P 3M 4A 5P 7m\",\"lydian dominant pentatonic\"],[\"1P 3m 4P 5P 7M\",\"minor #7M pentatonic\"],[\"1P 3m 4d 5d 7m\",\"super locrian pentatonic\"],[\"1P 2M 3m 4P 5P 7M\",\"minor hexatonic\"],[\"1P 2A 3M 5P 5A 7M\",\"augmented\"],[\"1P 2M 3m 3M 5P 6M\",\"major blues\"],[\"1P 2M 4P 5P 6M 7m\",\"piongio\"],[\"1P 2m 3M 4A 6M 7m\",\"prometheus neopolitan\"],[\"1P 2M 3M 4A 6M 7m\",\"prometheus\"],[\"1P 2m 3M 5d 6m 7m\",\"mystery #1\"],[\"1P 2m 3M 4P 5A 6M\",\"six tone symmetric\"],[\"1P 2M 3M 4A 5A 7m\",\"whole tone\",\"messiaen's mode #1\"],[\"1P 2m 4P 4A 5P 7M\",\"messiaen's mode #5\"],[\"1P 3m 4P 5d 5P 7m\",\"minor blues\",\"blues\"],[\"1P 2M 3M 4P 5d 6m 7m\",\"locrian major\",\"arabian\"],[\"1P 2m 3M 4A 5P 6m 7M\",\"double harmonic lydian\"],[\"1P 2M 3m 4P 5P 6m 7M\",\"harmonic minor\"],[\"1P 2m 2A 3M 4A 6m 7m\",\"altered\",\"super locrian\",\"diminished whole tone\",\"pomeroy\"],[\"1P 2M 3m 4P 5d 6m 7m\",\"locrian #2\",\"half-diminished\",\"aeolian b5\"],[\"1P 2M 3M 4P 5P 6m 7m\",\"mixolydian b6\",\"melodic minor fifth mode\",\"hindu\"],[\"1P 2M 3M 4A 5P 6M 7m\",\"lydian dominant\",\"lydian b7\",\"overtone\"],[\"1P 2M 3M 4A 5P 6M 7M\",\"lydian\"],[\"1P 2M 3M 4A 5A 6M 7M\",\"lydian augmented\"],[\"1P 2m 3m 4P 5P 6M 7m\",\"dorian b2\",\"phrygian #6\",\"melodic minor second mode\"],[\"1P 2M 3m 4P 5P 6M 7M\",\"melodic minor\"],[\"1P 2m 3m 4P 5d 6m 7m\",\"locrian\"],[\"1P 2m 3m 4d 5d 6m 7d\",\"ultralocrian\",\"superlocrian bb7\",\"\\xB7superlocrian diminished\"],[\"1P 2m 3m 4P 5d 6M 7m\",\"locrian 6\",\"locrian natural 6\",\"locrian sharp 6\"],[\"1P 2A 3M 4P 5P 5A 7M\",\"augmented heptatonic\"],[\"1P 2M 3m 5d 5P 6M 7m\",\"romanian minor\"],[\"1P 2M 3m 4A 5P 6M 7m\",\"dorian #4\"],[\"1P 2M 3m 4A 5P 6M 7M\",\"lydian diminished\"],[\"1P 2m 3m 4P 5P 6m 7m\",\"phrygian\"],[\"1P 2M 3M 4A 5A 7m 7M\",\"leading whole tone\"],[\"1P 2M 3M 4A 5P 6m 7m\",\"lydian minor\"],[\"1P 2m 3M 4P 5P 6m 7m\",\"phrygian dominant\",\"spanish\",\"phrygian major\"],[\"1P 2m 3m 4P 5P 6m 7M\",\"balinese\"],[\"1P 2m 3m 4P 5P 6M 7M\",\"neopolitan major\"],[\"1P 2M 3m 4P 5P 6m 7m\",\"aeolian\",\"minor\"],[\"1P 2M 3M 4P 5P 6m 7M\",\"harmonic major\"],[\"1P 2m 3M 4P 5P 6m 7M\",\"double harmonic major\",\"gypsy\"],[\"1P 2M 3m 4P 5P 6M 7m\",\"dorian\"],[\"1P 2M 3m 4A 5P 6m 7M\",\"hungarian minor\"],[\"1P 2A 3M 4A 5P 6M 7m\",\"hungarian major\"],[\"1P 2m 3M 4P 5d 6M 7m\",\"oriental\"],[\"1P 2m 3m 3M 4A 5P 7m\",\"flamenco\"],[\"1P 2m 3m 4A 5P 6m 7M\",\"todi raga\"],[\"1P 2M 3M 4P 5P 6M 7m\",\"mixolydian\",\"dominant\"],[\"1P 2m 3M 4P 5d 6m 7M\",\"persian\"],[\"1P 2M 3M 4P 5P 6M 7M\",\"major\",\"ionian\"],[\"1P 2m 3M 5d 6m 7m 7M\",\"enigmatic\"],[\"1P 2M 3M 4P 5A 6M 7M\",\"major augmented\",\"major #5\",\"ionian augmented\",\"ionian #5\"],[\"1P 2A 3M 4A 5P 6M 7M\",\"lydian #9\"],[\"1P 2m 2M 4P 4A 5P 6m 7M\",\"messiaen's mode #4\"],[\"1P 2m 3M 4P 4A 5P 6m 7M\",\"purvi raga\"],[\"1P 2m 3m 3M 4P 5P 6m 7m\",\"spanish heptatonic\"],[\"1P 2M 3M 4P 5P 6M 7m 7M\",\"bebop\"],[\"1P 2M 3m 3M 4P 5P 6M 7m\",\"bebop minor\"],[\"1P 2M 3M 4P 5P 5A 6M 7M\",\"bebop major\"],[\"1P 2m 3m 4P 5d 5P 6m 7m\",\"bebop locrian\"],[\"1P 2M 3m 4P 5P 6m 7m 7M\",\"minor bebop\"],[\"1P 2M 3m 4P 5d 6m 6M 7M\",\"diminished\",\"whole-half diminished\"],[\"1P 2M 3M 4P 5d 5P 6M 7M\",\"ichikosucho\"],[\"1P 2M 3m 4P 5P 6m 6M 7M\",\"minor six diminished\"],[\"1P 2m 3m 3M 4A 5P 6M 7m\",\"half-whole diminished\",\"dominant diminished\",\"messiaen's mode #2\"],[\"1P 3m 3M 4P 5P 6M 7m 7M\",\"kafi raga\"],[\"1P 2M 3M 4P 4A 5A 6A 7M\",\"messiaen's mode #6\"],[\"1P 2M 3m 3M 4P 5d 5P 6M 7m\",\"composite blues\"],[\"1P 2M 3m 3M 4A 5P 6m 7m 7M\",\"messiaen's mode #3\"],[\"1P 2m 2M 3m 4P 4A 5P 6m 6M 7M\",\"messiaen's mode #7\"],[\"1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M\",\"chromatic\"]],u=s(s({},a.EmptyPcset),{intervals:[],aliases:[]}),h=[],d={};function g(){return h.map(function(H){return H.name})}function _(H){return d[H]||u}var N=e.deprecate(\"ScaleDictionary.scaleType\",\"ScaleType.get\",_);function k(){return h.slice()}var T=e.deprecate(\"ScaleDictionary.entries\",\"ScaleType.all\",k);function L(){return Object.keys(d)}function P(){h=[],d={}}function W(H,oe,G){G===void 0\u0026\u0026(G=[]);var R=s(s({},a.get(H)),{name:oe,intervals:H,aliases:G});return h.push(R),d[R.name]=R,d[R.setNum]=R,d[R.chroma]=R,R.aliases.forEach(function($){return K(R,$)}),R}function K(H,oe){d[oe]=H}o.forEach(function(H){var oe=H[0],G=H[1],R=H.slice(2);return W(oe.split(\" \"),G,R)});var J={names:g,get:_,all:k,add:W,removeAll:P,keys:L,entries:T,scaleType:N};n.NoScaleType=u,n.add=W,n.addAlias=K,n.all=k,n.default=J,n.entries=T,n.get=_,n.keys=L,n.names=g,n.removeAll=P,n.scaleType=N,Object.defineProperty(n,\"__esModule\",{value:!0})})});var oy=v((Zh,gC)=\u003e{(function(n,e){typeof Zh==\"object\"\u0026\u0026typeof gC!=\"undefined\"?e(Zh,mC(),Tu(),En(),As(),Hh()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord-detect\",\"@tonaljs/chord-type\",\"@tonaljs/core\",\"@tonaljs/pcset\",\"@tonaljs/scale-type\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Chord={},n.chordDetect,n.chordType,n.core,n.pcset,n.scaleType))})(Zh,function(n,e,a,s,o,u){\"use strict\";var h=function(){return h=Object.assign||function(oe){for(var G,R=1,$=arguments.length;R\u003c$;R++){G=arguments[R];for(var U in G)Object.prototype.hasOwnProperty.call(G,U)\u0026\u0026(oe[U]=G[U])}return oe},h.apply(this,arguments)},d={empty:!0,name:\"\",symbol:\"\",root:\"\",rootDegree:0,type:\"\",tonic:null,setNum:NaN,quality:\"Unknown\",chroma:\"\",normalized:\"\",aliases:[],notes:[],intervals:[]},g=/^(6|64|7|9|11|13)$/;function _(H){var oe=s.tokenizeNote(H),G=oe[0],R=oe[1],$=oe[2],U=oe[3];return G===\"\"?[\"\",H]:G===\"A\"\u0026\u0026U===\"ug\"?[\"\",\"aug\"]:!U\u0026\u0026($===\"4\"||$===\"5\")?[G+R,$]:g.test($)?[G+R,$+U]:[G+R+$,U]}function N(H){if(H===\"\")return d;if(Array.isArray(H)\u0026\u0026H.length===2)return k(H[1],H[0]);var oe=_(H),G=oe[0],R=oe[1],$=k(R,G);return $.empty?k(H):$}function k(H,oe,G){var R=a.get(H),$=s.note(oe||\"\"),U=s.note(G||\"\");if(R.empty||oe\u0026\u0026$.empty||G\u0026\u0026U.empty)return d;var te=s.distance($.pc,U.pc),se=R.intervals.indexOf(te)+1;if(!U.empty\u0026\u0026!se)return d;for(var be=Array.from(R.intervals),xe=1;xe\u003cse;xe++){var Ae=be[0][0],ze=be[0][1],$e=parseInt(Ae,10)+7;be.push(\"\"+$e+ze),be.shift()}var Y=$.empty?[]:be.map(function(ue){return s.transpose($,ue)});H=R.aliases.indexOf(H)!==-1?H:R.aliases[0];var ce=\"\"+($.empty?\"\":$.pc)+H+(U.empty||se\u003c=1?\"\":\"/\"+U.pc),le=\"\"+(oe?$.pc+\" \":\"\")+R.name+(se\u003e1\u0026\u0026G?\" over \"+U.pc:\"\");return h(h({},R),{name:le,symbol:ce,type:R.name,root:U.name,intervals:be,rootDegree:se,tonic:$.name,notes:Y})}var T=s.deprecate(\"Chord.chord\",\"Chord.get\",N);function L(H,oe){var G=_(H),R=G[0],$=G[1];return R?s.transpose(R,oe)+$:H}function P(H){var oe=N(H),G=o.isSupersetOf(oe.chroma);return u.all().filter(function(R){return G(R.chroma)}).map(function(R){return R.name})}function W(H){var oe=N(H),G=o.isSupersetOf(oe.chroma);return a.all().filter(function(R){return G(R.chroma)}).map(function(R){return oe.tonic+R.aliases[0]})}function K(H){var oe=N(H),G=o.isSubsetOf(oe.chroma);return a.all().filter(function(R){return G(R.chroma)}).map(function(R){return oe.tonic+R.aliases[0]})}var J={getChord:k,get:N,detect:e.detect,chordScales:P,extended:W,reduced:K,tokenize:_,transpose:L,chord:T};Object.defineProperty(n,\"detect\",{enumerable:!0,get:function(){return e.detect}}),n.chord=T,n.chordScales=P,n.default=J,n.extended=W,n.get=N,n.getChord=k,n.reduced=K,n.tokenize=_,n.transpose=L,Object.defineProperty(n,\"__esModule\",{value:!0})})});var _C=v((Kh,yC)=\u003e{(function(n,e){typeof Kh==\"object\"\u0026\u0026typeof yC!=\"undefined\"?e(Kh):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.DurationValue={}))})(Kh,function(n){\"use strict\";var e=function(){return e=Object.assign||function(W){for(var K,J=1,H=arguments.length;J\u003cH;J++){K=arguments[J];for(var oe in K)Object.prototype.hasOwnProperty.call(K,oe)\u0026\u0026(W[oe]=K[oe])}return W},e.apply(this,arguments)},a=[[.125,\"dl\",[\"large\",\"duplex longa\",\"maxima\",\"octuple\",\"octuple whole\"]],[.25,\"l\",[\"long\",\"longa\"]],[.5,\"d\",[\"double whole\",\"double\",\"breve\"]],[1,\"w\",[\"whole\",\"semibreve\"]],[2,\"h\",[\"half\",\"minim\"]],[4,\"q\",[\"quarter\",\"crotchet\"]],[8,\"e\",[\"eighth\",\"quaver\"]],[16,\"s\",[\"sixteenth\",\"semiquaver\"]],[32,\"t\",[\"thirty-second\",\"demisemiquaver\"]],[64,\"sf\",[\"sixty-fourth\",\"hemidemisemiquaver\"]],[128,\"h\",[\"hundred twenty-eighth\"]],[256,\"th\",[\"two hundred fifty-sixth\"]]],s=[];a.forEach(function(P){var W=P[0],K=P[1],J=P[2];return T(W,K,J)});var o={empty:!0,name:\"\",value:0,fraction:[0,0],shorthand:\"\",dots:\"\",names:[]};function u(){return s.reduce(function(P,W){return W.names.forEach(function(K){return P.push(K)}),P},[])}function h(){return s.map(function(P){return P.shorthand})}var d=/^([^.]+)(\\.*)$/;function g(P){var W=d.exec(P)||[];W[0];var K=W[1],J=W[2],H=s.find(function(R){return R.shorthand===K||R.names.includes(K)});if(!H)return o;var oe=L(H.fraction,J.length),G=oe[0]/oe[1];return e(e({},H),{name:P,dots:J,value:G,fraction:oe})}var _=function(P){return g(P).value},N=function(P){return g(P).fraction},k={names:u,shorthands:h,get:g,value:_,fraction:N};function T(P,W,K){s.push({empty:!1,dots:\"\",name:\"\",value:1/P,fraction:P\u003c1?[1/P,1]:[1,P],shorthand:W,names:K})}function L(P,W){for(var K=Math.pow(2,W),J=P[0]*K,H=P[1]*K,oe=J,G=0;G\u003cW;G++)J+=oe/Math.pow(2,G+1);for(;J%2==0\u0026\u0026H%2==0;)J/=2,H/=2;return[J,H]}n.default=k,n.fraction=N,n.get=g,n.names=u,n.shorthands=h,n.value=_,Object.defineProperty(n,\"__esModule\",{value:!0})})});var cy=v((Qh,bC)=\u003e{(function(n,e){typeof Qh==\"object\"\u0026\u0026typeof bC!=\"undefined\"?e(Qh,En()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Interval={},n.core))})(Qh,function(n,e){\"use strict\";function a(){return\"1P 2M 3M 4P 5P 6m 7m\".split(\" \")}var s=e.interval,o=function(G){return e.interval(G).name},u=function(G){return e.interval(G).semitones},h=function(G){return e.interval(G).q},d=function(G){return e.interval(G).num};function g(G){var R=e.interval(G);return R.empty?\"\":R.simple+R.q}function _(G){var R=e.interval(G);if(R.empty)return\"\";var $=(7-R.step)%7,U=R.type===\"perfectable\"?-R.alt:-(R.alt+1);return e.interval({step:$,alt:U,oct:R.oct,dir:R.dir}).name}var N=[1,2,2,3,3,4,5,5,6,6,7,7],k=\"P m M m M P d P m M m M\".split(\" \");function T(G){var R=G\u003c0?-1:1,$=Math.abs(G),U=$%12,te=Math.floor($/12);return R*(N[U]+7*te)+k[U]}var L=e.distance,P=oe(function(G,R){return[G[0]+R[0],G[1]+R[1]]}),W=function(G){return function(R){return P(G,R)}},K=oe(function(G,R){return[G[0]-R[0],G[1]-R[1]]});function J(G,R){var $=s(G);if($.empty)return\"\";var U=$.coord,te=U[0],se=U[1],be=U[2];return e.coordToInterval([te+R,se,be]).name}var H={names:a,get:s,name:o,num:d,semitones:u,quality:h,fromSemitones:T,distance:L,invert:_,simplify:g,add:P,addTo:W,substract:K,transposeFifths:J};function oe(G){return function(R,$){var U=e.interval(R).coord,te=e.interval($).coord;if(U\u0026\u0026te){var se=G(U,te);return e.coordToInterval(se).name}}}n.add=P,n.addTo=W,n.default=H,n.distance=L,n.fromSemitones=T,n.get=s,n.invert=_,n.name=o,n.names=a,n.num=d,n.quality=h,n.semitones=u,n.simplify=g,n.substract=K,n.transposeFifths=J,Object.defineProperty(n,\"__esModule\",{value:!0})})});var ed=v((Jh,kC)=\u003e{(function(n,e){typeof Jh==\"object\"\u0026\u0026typeof kC!=\"undefined\"?e(Jh,En()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Midi={},n.core))})(Jh,function(n,e){\"use strict\";function a(T){return+T\u003e=0\u0026\u0026+T\u003c=127}function s(T){if(a(T))return+T;var L=e.note(T);return L.empty?null:L.midi}function o(T,L){return L===void 0\u0026\u0026(L=440),Math.pow(2,(T-69)/12)*L}var u=Math.log(2),h=Math.log(440);function d(T){var L=12*(Math.log(T)-h)/u+69;return Math.round(L*100)/100}var g=\"C C# D D# E F F# G G# A A# B\".split(\" \"),_=\"C Db D Eb E F Gb G Ab A Bb B\".split(\" \");function N(T,L){if(L===void 0\u0026\u0026(L={}),isNaN(T)||T===-1/0||T===1/0)return\"\";T=Math.round(T);var P=L.sharps===!0?g:_,W=P[T%12];if(L.pitchClass)return W;var K=Math.floor(T/12)-1;return W+K}var k={isMidi:a,toMidi:s,midiToFreq:o,midiToNoteName:N,freqToMidi:d};n.default=k,n.freqToMidi=d,n.isMidi=a,n.midiToFreq=o,n.midiToNoteName=N,n.toMidi=s,Object.defineProperty(n,\"__esModule\",{value:!0})})});var nd=v((td,NC)=\u003e{(function(n,e){typeof td==\"object\"\u0026\u0026typeof NC!=\"undefined\"?e(td,En(),ed()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/midi\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Note={},n.core,n.midi$1))})(td,function(n,e,a){\"use strict\";var s=[\"C\",\"D\",\"E\",\"F\",\"G\",\"A\",\"B\"],o=function(ue){return ue.name},u=function(ue){return ue.map(e.note).filter(function(ye){return!ye.empty})};function h(ue){return ue===void 0?s.slice():Array.isArray(ue)?u(ue).map(o):[]}var d=e.note,g=function(ue){return d(ue).name},_=function(ue){return d(ue).pc},N=function(ue){return d(ue).acc},k=function(ue){return d(ue).oct},T=function(ue){return d(ue).midi},L=function(ue){return d(ue).freq},P=function(ue){return d(ue).chroma};function W(ue){return a.midiToNoteName(ue)}function K(ue){return a.midiToNoteName(a.freqToMidi(ue))}function J(ue){return a.midiToNoteName(a.freqToMidi(ue),{sharps:!0})}function H(ue){return a.midiToNoteName(ue,{sharps:!0})}var oe=e.transpose,G=e.transpose,R=function(ue){return function(ye){return oe(ye,ue)}},$=R,U=function(ue){return function(ye){return oe(ue,ye)}},te=U;function se(ue,ye){var me=d(ue);if(me.empty)return\"\";var je=me.coord,Je=je[0],ft=je[1],he=ft===void 0?e.coordToNote([Je+ye]):e.coordToNote([Je+ye,ft]);return he.name}var be=se,xe=function(ue,ye){return ue.height-ye.height},Ae=function(ue,ye){return ye.height-ue.height};function ze(ue,ye){return ye=ye||xe,u(ue).sort(ye).map(o)}function $e(ue){return ze(ue,xe).filter(function(ye,me,je){return me===0||ye!==je[me-1]})}var Y=function(ue){var ye=d(ue);return ye.empty?\"\":a.midiToNoteName(ye.midi||ye.chroma,{sharps:ye.alt\u003e0,pitchClass:ye.midi===null})};function ce(ue,ye){var me=d(ue);if(me.empty)return\"\";var je=d(ye||a.midiToNoteName(me.midi||me.chroma,{sharps:me.alt\u003c0,pitchClass:!0}));if(je.empty||je.chroma!==me.chroma)return\"\";if(me.oct===void 0)return je.pc;var Je=me.chroma-me.alt,ft=je.chroma-je.alt,he=Je\u003e11||ft\u003c0?-1:Je\u003c0||ft\u003e11?1:0,ke=me.oct+he;return je.pc+ke}var le={names:h,get:d,name:g,pitchClass:_,accidentals:N,octave:k,midi:T,ascending:xe,descending:Ae,sortedNames:ze,sortedUniqNames:$e,fromMidi:W,fromMidiSharps:H,freq:L,fromFreq:K,fromFreqSharps:J,chroma:P,transpose:oe,tr:G,transposeBy:R,trBy:$,transposeFrom:U,trFrom:te,transposeFifths:se,trFifths:be,simplify:Y,enharmonic:ce};n.accidentals=N,n.ascending=xe,n.chroma=P,n.default=le,n.descending=Ae,n.enharmonic=ce,n.freq=L,n.fromFreq=K,n.fromFreqSharps=J,n.fromMidi=W,n.fromMidiSharps=H,n.get=d,n.midi=T,n.name=g,n.names=h,n.octave=k,n.pitchClass=_,n.simplify=Y,n.sortedNames=ze,n.sortedUniqNames=$e,n.tr=G,n.trBy=$,n.trFifths=be,n.trFrom=te,n.transpose=oe,n.transposeBy=R,n.transposeFifths=se,n.transposeFrom=U,Object.defineProperty(n,\"__esModule\",{value:!0})})});var ad=v((rd,xC)=\u003e{(function(n,e){typeof rd==\"object\"\u0026\u0026typeof xC!=\"undefined\"?e(rd,En()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.RomanNumeral={},n.core))})(rd,function(n,e){\"use strict\";var a={empty:!0,name:\"\",chordType:\"\"},s={};function o(W){return typeof W==\"string\"?s[W]||(s[W]=L(W)):typeof W==\"number\"?o(k[W]||\"\"):e.isPitch(W)?d(W):e.isNamed(W)?o(W.name):a}var u=e.deprecate(\"RomanNumeral.romanNumeral\",\"RomanNumeral.get\",o);function h(W){return W===void 0\u0026\u0026(W=!0),(W?k:T).slice()}function d(W){return o(e.altToAcc(W.alt)+k[W.step])}var g=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function _(W){return g.exec(W)||[\"\",\"\",\"\",\"\"]}var N=\"I II III IV V VI VII\",k=N.split(\" \"),T=N.toLowerCase().split(\" \");function L(W){var K=_(W),J=K[0],H=K[1],oe=K[2],G=K[3];if(!oe)return a;var R=oe.toUpperCase(),$=k.indexOf(R),U=e.accToAlt(H),te=1;return{empty:!1,name:J,roman:oe,interval:e.interval({step:$,alt:U,dir:te}).name,acc:H,chordType:G,alt:U,step:$,major:oe===R,oct:0,dir:te}}var P={names:h,get:o,romanNumeral:u};n.default=P,n.get=o,n.names=h,n.tokenize=_,Object.defineProperty(n,\"__esModule\",{value:!0})})});var qC=v((sd,wC)=\u003e{(function(n,e){typeof sd==\"object\"\u0026\u0026typeof wC!=\"undefined\"?e(sd,En(),nd(),ad()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/core\",\"@tonaljs/note\",\"@tonaljs/roman-numeral\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Key={},n.core,n.note,n.romanNumeral))})(sd,function(n,e,a,s){\"use strict\";var o=function(){return o=Object.assign||function($){for(var U,te=1,se=arguments.length;te\u003cse;te++){U=arguments[te];for(var be in U)Object.prototype.hasOwnProperty.call(U,be)\u0026\u0026($[be]=U[be])}return $},o.apply(this,arguments)},u=Object.freeze([]),h={type:\"major\",tonic:\"\",alteration:0,keySignature:\"\"},d={tonic:\"\",grades:u,intervals:u,scale:u,chords:u,chordsHarmonicFunction:u,chordScales:u},g=o(o(o({},h),d),{type:\"major\",minorRelative:\"\",scale:u,secondaryDominants:u,secondaryDominantsMinorRelative:u,substituteDominants:u,substituteDominantsMinorRelative:u}),_=o(o({},h),{type:\"minor\",relativeMajor:\"\",natural:d,harmonic:d,melodic:d}),N=function(R,$,U){return U===void 0\u0026\u0026(U=\"\"),$.map(function(te,se){return\"\"+R[se]+U+te})};function k(R,$,U,te){return function(se){var be=R.map(function(Ae){return s.get(Ae).interval||\"\"}),xe=be.map(function(Ae){return e.transpose(se,Ae)});return{tonic:se,grades:R,intervals:be,scale:xe,chords:N(xe,$),chordsHarmonicFunction:U.slice(),chordScales:N(xe,te,\" \")}}}var T=function(R,$){var U=e.note(R),te=e.note($);return U.empty||te.empty?0:te.coord[0]-U.coord[0]},L=k(\"I II III IV V VI VII\".split(\" \"),\"maj7 m7 m7 maj7 7 m7 m7b5\".split(\" \"),\"T SD T SD D T D\".split(\" \"),\"major,dorian,phrygian,lydian,mixolydian,minor,locrian\".split(\",\")),P=k(\"I II bIII IV V bVI bVII\".split(\" \"),\"m7 m7b5 maj7 m7 m7 maj7 7\".split(\" \"),\"T SD T SD D SD SD\".split(\" \"),\"minor,locrian,major,dorian,phrygian,lydian,mixolydian\".split(\",\")),W=k(\"I II bIII IV V bVI VII\".split(\" \"),\"mMaj7 m7b5 +maj7 m7 7 maj7 o7\".split(\" \"),\"T SD T SD D SD D\".split(\" \"),\"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian\".split(\",\")),K=k(\"I II bIII IV V VI VII\".split(\" \"),\"m6 m7 +maj7 7 7 m7b5 m7b5\".split(\" \"),\"T SD T SD D  \".split(\" \"),\"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered\".split(\",\"));function J(R){var $=e.note(R).pc;if(!$)return g;var U=L($),te=T(\"C\",$),se=function(be){var xe=s.get(be);return xe.empty?\"\":e.transpose(R,xe.interval)+xe.chordType};return o(o({},U),{type:\"major\",minorRelative:e.transpose($,\"-3m\"),alteration:te,keySignature:e.altToAcc(te),secondaryDominants:\"- VI7 VII7 I7 II7 III7 -\".split(\" \").map(se),secondaryDominantsMinorRelative:\"- IIIm7b5 IV#m7 Vm7 VIm7 VIIm7b5 -\".split(\" \").map(se),substituteDominants:\"- bIII7 IV7 bV7 bVI7 bVII7 -\".split(\" \").map(se),substituteDominantsMinorRelative:\"- IIIm7 Im7 IIbm7 VIm7 IVm7 -\".split(\" \").map(se)})}function H(R){var $=e.note(R).pc;if(!$)return _;var U=T(\"C\",$)-3;return{type:\"minor\",tonic:$,relativeMajor:e.transpose($,\"3m\"),alteration:U,keySignature:e.altToAcc(U),natural:P($),harmonic:W($),melodic:K($)}}function oe(R){return typeof R==\"number\"?a.transposeFifths(\"C\",R):typeof R==\"string\"\u0026\u0026/^b+|#+$/.test(R)?a.transposeFifths(\"C\",e.accToAlt(R)):null}var G={majorKey:J,majorTonicFromKeySignature:oe,minorKey:H};n.default=G,n.majorKey=J,n.majorTonicFromKeySignature=oe,n.minorKey=H,Object.defineProperty(n,\"__esModule\",{value:!0})})});var SC=v((id,TC)=\u003e{(function(n,e){typeof id==\"object\"\u0026\u0026typeof TC!=\"undefined\"?e(id,Ho(),En(),cy(),As()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/interval\",\"@tonaljs/pcset\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Mode={},n.collection,n.core,n.interval,n.pcset))})(id,function(n,e,a,s,o){\"use strict\";var u=function(){return u=Object.assign||function(te){for(var se,be=1,xe=arguments.length;be\u003cxe;be++){se=arguments[be];for(var Ae in se)Object.prototype.hasOwnProperty.call(se,Ae)\u0026\u0026(te[Ae]=se[Ae])}return te},u.apply(this,arguments)},h=[[0,2773,0,\"ionian\",\"\",\"Maj7\",\"major\"],[1,2902,2,\"dorian\",\"m\",\"m7\"],[2,3418,4,\"phrygian\",\"m\",\"m7\"],[3,2741,-1,\"lydian\",\"\",\"Maj7\"],[4,2774,1,\"mixolydian\",\"\",\"7\"],[5,2906,3,\"aeolian\",\"m\",\"m7\",\"minor\"],[6,3434,5,\"locrian\",\"dim\",\"m7b5\"]],d=u(u({},o.EmptyPcset),{name:\"\",alt:0,modeNum:NaN,triad:\"\",seventh:\"\",aliases:[]}),g=h.map(W),_={};g.forEach(function(U){_[U.name]=U,U.aliases.forEach(function(te){_[te]=U})});function N(U){return typeof U==\"string\"?_[U.toLowerCase()]||d:U\u0026\u0026U.name?N(U.name):d}var k=a.deprecate(\"Mode.mode\",\"Mode.get\",N);function T(){return g.slice()}var L=a.deprecate(\"Mode.mode\",\"Mode.all\",T);function P(){return g.map(function(U){return U.name})}function W(U){var te=U[0],se=U[1],be=U[2],xe=U[3],Ae=U[4],ze=U[5],$e=U[6],Y=$e?[$e]:[],ce=Number(se).toString(2),le=o.chromaToIntervals(ce);return{empty:!1,intervals:le,modeNum:te,chroma:ce,normalized:ce,name:xe,setNum:se,alt:be,triad:Ae,seventh:ze,aliases:Y}}function K(U,te){return N(U).intervals.map(function(se){return a.transpose(te,se)})}function J(U){return function(te,se){var be=N(te);if(be.empty)return[];var xe=e.rotate(be.modeNum,U),Ae=be.intervals.map(function(ze){return a.transpose(se,ze)});return xe.map(function(ze,$e){return Ae[$e]+ze})}}var H=J(h.map(function(U){return U[4]})),oe=J(h.map(function(U){return U[5]}));function G(U,te){var se=N(te),be=N(U);return se.empty||be.empty?\"\":s.simplify(s.transposeFifths(\"1P\",be.alt-se.alt))}function R(U,te,se){return a.transpose(se,G(U,te))}var $={get:N,names:P,all:T,distance:G,relativeTonic:R,notes:K,triads:H,seventhChords:oe,entries:L,mode:k};n.all=T,n.default=$,n.distance=G,n.entries=L,n.get=N,n.mode=k,n.names=P,n.notes=K,n.relativeTonic=R,n.seventhChords=oe,n.triads=H,Object.defineProperty(n,\"__esModule\",{value:!0})})});var PC=v((od,MC)=\u003e{(function(n,e){typeof od==\"object\"\u0026\u0026typeof MC!=\"undefined\"?e(od,oy(),En(),ad()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord\",\"@tonaljs/core\",\"@tonaljs/roman-numeral\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Progression={},n.chord,n.core,n.romanNumeral))})(od,function(n,e,a,s){\"use strict\";function o(d,g){var _=g.map(s.get);return _.map(function(N){return a.transpose(d,a.interval(N))+N.chordType})}function u(d,g){return g.map(function(_){var N=e.tokenize(_),k=N[0],T=N[1],L=a.distance(d,k),P=s.get(a.interval(L));return P.name+T})}var h={fromRomanNumerals:o,toRomanNumerals:u};n.default=h,n.fromRomanNumerals=o,n.toRomanNumerals=u,Object.defineProperty(n,\"__esModule\",{value:!0})})});var CC=v((cd,OC)=\u003e{(function(n,e){typeof cd==\"object\"\u0026\u0026typeof OC!=\"undefined\"?e(cd,Ho(),ed()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/collection\",\"@tonaljs/midi\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Range={},n.collection,n.midi))})(cd,function(n,e,a){\"use strict\";function s(h){var d=e.compact(h.map(a.toMidi));return!h.length||d.length!==h.length?[]:d.reduce(function(g,_){var N=g[g.length-1];return g.concat(e.range(N,_).slice(1))},[d[0]])}function o(h,d){return s(h).map(function(g){return a.midiToNoteName(g,d)})}var u={numeric:s,chromatic:o};n.chromatic=o,n.default=u,n.numeric=s,Object.defineProperty(n,\"__esModule\",{value:!0})})});var RC=v((ud,AC)=\u003e{(function(n,e){typeof ud==\"object\"\u0026\u0026typeof AC!=\"undefined\"?e(ud,Tu(),Ho(),En(),nd(),As(),Hh()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/chord-type\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/note\",\"@tonaljs/pcset\",\"@tonaljs/scale-type\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Scale={},n.chordType,n.collection,n.core,n.note,n.pcset,n.scaleType))})(ud,function(n,e,a,s,o,u,h){\"use strict\";var d=function(){return d=Object.assign||function($){for(var U,te=1,se=arguments.length;te\u003cse;te++){U=arguments[te];for(var be in U)Object.prototype.hasOwnProperty.call(U,be)\u0026\u0026($[be]=U[be])}return $},d.apply(this,arguments)},g={empty:!0,name:\"\",type:\"\",tonic:null,setNum:NaN,chroma:\"\",normalized:\"\",aliases:[],notes:[],intervals:[]};function _(R){if(typeof R!=\"string\")return[\"\",\"\"];var $=R.indexOf(\" \"),U=s.note(R.substring(0,$));if(U.empty){var te=s.note(R);return te.empty?[\"\",R]:[te.name,\"\"]}var se=R.substring(U.name.length+1);return[U.name,se.length?se:\"\"]}var N=h.names;function k(R){var $=Array.isArray(R)?R:_(R),U=s.note($[0]).name,te=h.get($[1]);if(te.empty)return g;var se=te.name,be=U?te.intervals.map(function(Ae){return s.transpose(U,Ae)}):[],xe=U?U+\" \"+se:se;return d(d({},te),{name:xe,type:se,tonic:U,notes:be})}var T=s.deprecate(\"Scale.scale\",\"Scale.get\",k);function L(R){var $=k(R),U=u.isSubsetOf($.chroma);return e.all().filter(function(te){return U(te.chroma)}).map(function(te){return te.aliases[0]})}function P(R){var $=k(R),U=u.isSupersetOf($.chroma);return h.all().filter(function(te){return U(te.chroma)}).map(function(te){return te.name})}function W(R){var $=u.isSubsetOf(k(R).chroma);return h.all().filter(function(U){return $(U.chroma)}).map(function(U){return U.name})}function K(R){var $=R.map(function(se){return s.note(se).pc}).filter(function(se){return se}),U=$[0],te=o.sortedUniqNames($);return a.rotate(te.indexOf(U),te)}function J(R){var $=k(R);if($.empty)return[];var U=$.tonic?$.notes:$.intervals;return u.modes($.chroma).map(function(te,se){var be=k(te).name;return be?[U[se],be]:[\"\",\"\"]}).filter(function(te){return te[0]})}function H(R){var $=Array.isArray(R)?K(R):k(R).notes,U=$.map(function(te){return s.note(te).chroma});return function(te){var se=typeof te==\"number\"?s.note(o.fromMidi(te)):s.note(te),be=se.height;if(be!==void 0){var xe=be%12,Ae=U.indexOf(xe);if(Ae!==-1)return o.enharmonic(se.name,$[Ae])}}}function oe(R){var $=H(R);return function(U,te){var se=s.note(U).height,be=s.note(te).height;return se===void 0||be===void 0?[]:a.range(se,be).map($).filter(function(xe){return xe})}}var G={get:k,names:N,extended:P,modeNames:J,reduced:W,scaleChords:L,scaleNotes:K,tokenize:_,rangeOf:oe,scale:T};n.default=G,n.extended=P,n.get=k,n.modeNames=J,n.names=N,n.rangeOf=oe,n.reduced=W,n.scale=T,n.scaleChords=L,n.scaleNotes=K,n.tokenize=_,Object.defineProperty(n,\"__esModule\",{value:!0})})});var jC=v((ld,EC)=\u003e{(function(n,e){typeof ld==\"object\"\u0026\u0026typeof EC!=\"undefined\"?e(ld):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.TimeSignature={}))})(ld,function(n){\"use strict\";var e={empty:!0,name:\"\",upper:void 0,lower:void 0,type:void 0,additive:[]},a=[\"4/4\",\"3/4\",\"2/4\",\"2/2\",\"12/8\",\"9/8\",\"6/8\",\"3/8\"];function s(){return a.slice()}var o=/^(\\d?\\d(?:\\+\\d)*)\\/(\\d)$/,u=new Map;function h(N){var k=u.get(N);if(k)return k;var T=_(d(N));return u.set(N,T),T}function d(N){if(typeof N==\"string\"){var k=o.exec(N)||[];k[0];var T=k[1],L=k[2];return d([T,L])}var P=N[0],W=N[1],K=+W;if(typeof P==\"number\")return[P,K];var J=P.split(\"+\").map(function(H){return+H});return J.length===1?[J[0],K]:[J,K]}var g={names:s,parse:d,get:h};function _(N){var k=N[0],T=N[1],L=Array.isArray(k)?k.reduce(function(H,oe){return H+oe},0):k,P=T;if(L===0||P===0)return e;var W=Array.isArray(k)?k.join(\"+\")+\"/\"+T:k+\"/\"+T,K=Array.isArray(k)?k:[],J=P===4||P===2?\"simple\":P===8\u0026\u0026L%3==0?\"compound\":\"irregular\";return{empty:!1,name:W,type:J,upper:L,lower:P,additive:K}}n.default=g,n.get=h,n.names=s,n.parse=d,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Xa=v((pd,DC)=\u003e{(function(n,e){typeof pd==\"object\"\u0026\u0026typeof DC!=\"undefined\"?e(pd,cC(),lC(),oy(),Tu(),Ho(),En(),_C(),cy(),qC(),ed(),SC(),nd(),As(),PC(),CC(),ad(),RC(),Hh(),jC()):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"@tonaljs/abc-notation\",\"@tonaljs/array\",\"@tonaljs/chord\",\"@tonaljs/chord-type\",\"@tonaljs/collection\",\"@tonaljs/core\",\"@tonaljs/duration-value\",\"@tonaljs/interval\",\"@tonaljs/key\",\"@tonaljs/midi\",\"@tonaljs/mode\",\"@tonaljs/note\",\"@tonaljs/pcset\",\"@tonaljs/progression\",\"@tonaljs/range\",\"@tonaljs/roman-numeral\",\"@tonaljs/scale\",\"@tonaljs/scale-type\",\"@tonaljs/time-signature\"],e):(n=typeof globalThis!=\"undefined\"?globalThis:n||self,e(n.Tonal={},n.abcNotation,n.array,n.chord,n.ChordType,n.collection,n.Core,n.durationValue,n.interval,n.key,n.midi,n.mode,n.note,n.Pcset,n.progression,n.range,n.romanNumeral,n.scale,n.ScaleType,n.timeSignature))})(pd,function(n,e,a,s,o,u,h,d,g,_,N,k,T,L,P,W,K,J,H,oe){\"use strict\";function G(Me){return Me\u0026\u0026typeof Me==\"object\"\u0026\u0026\"default\"in Me?Me:{default:Me}}function R(Me){if(Me\u0026\u0026Me.__esModule)return Me;var rt=Object.create(null);return Me\u0026\u0026Object.keys(Me).forEach(function(ut){if(ut!==\"default\"){var Gt=Object.getOwnPropertyDescriptor(Me,ut);Object.defineProperty(rt,ut,Gt.get?Gt:{enumerable:!0,get:function(){return Me[ut]}})}}),rt.default=Me,Object.freeze(rt)}var $=G(e),U=R(a),te=G(s),se=G(o),be=G(u),xe=R(h),Ae=G(d),ze=G(g),$e=G(_),Y=G(N),ce=G(k),le=G(T),ue=G(L),ye=G(P),me=G(W),je=G(K),Je=G(J),ft=G(H),he=G(oe),ke=xe,Oe=ue.default,Ge=se.default,Pe=ft.default;Object.defineProperty(n,\"AbcNotation\",{enumerable:!0,get:function(){return $.default}}),n.Array=U,Object.defineProperty(n,\"Chord\",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(n,\"ChordType\",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(n,\"Collection\",{enumerable:!0,get:function(){return be.default}}),n.Core=xe,Object.defineProperty(n,\"DurationValue\",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(n,\"Interval\",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(n,\"Key\",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(n,\"Midi\",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(n,\"Mode\",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(n,\"Note\",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(n,\"Pcset\",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(n,\"Progression\",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(n,\"Range\",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(n,\"RomanNumeral\",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(n,\"Scale\",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(n,\"ScaleType\",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(n,\"TimeSignature\",{enumerable:!0,get:function(){return he.default}}),n.ChordDictionary=Ge,n.PcSet=Oe,n.ScaleDictionary=Pe,n.Tonal=ke,Object.keys(h).forEach(function(Me){Me!==\"default\"\u0026\u0026!n.hasOwnProperty(Me)\u0026\u0026Object.defineProperty(n,Me,{enumerable:!0,get:function(){return h[Me]}})}),Object.defineProperty(n,\"__esModule\",{value:!0})})});var ct=v((T0e,FC)=\u003e{FC.exports=React});var Pu=v((Mu,py)=\u003e{(function(n,e){typeof Mu==\"object\"\u0026\u0026typeof py==\"object\"?py.exports=e():typeof define==\"function\"\u0026\u0026define.amd?define([],e):typeof Mu==\"object\"?Mu.Tone=e():n.Tone=e()})(typeof self!=\"undefined\"?self:Mu,function(){return function(n){var e={};function a(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=n,a.c=e,a.d=function(s,o,u){a.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:u})},a.r=function(s){typeof Symbol!=\"undefined\"\u0026\u0026Symbol.toStringTag\u0026\u0026Object.defineProperty(s,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(s,\"__esModule\",{value:!0})},a.t=function(s,o){if(1\u0026o\u0026\u0026(s=a(s)),8\u0026o||4\u0026o\u0026\u0026typeof s==\"object\"\u0026\u0026s\u0026\u0026s.__esModule)return s;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,\"default\",{enumerable:!0,value:s}),2\u0026o\u0026\u0026typeof s!=\"string\")for(var h in s)a.d(u,h,function(d){return s[d]}.bind(null,h));return u},a.n=function(s){var o=s\u0026\u0026s.__esModule?function(){return s.default}:function(){return s};return a.d(o,\"a\",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p=\"\",a(a.s=9)}([function(n,e,a){(function(s,o,u,h){\"use strict\";function d(Y){return Y\u0026\u0026typeof Y==\"object\"\u0026\u0026\"default\"in Y?Y:{default:Y}}var g=d(o),_=d(u),N=d(h),k=function(Y,ce,le){return{endTime:ce,insertTime:le,type:\"exponentialRampToValue\",value:Y}},T=function(Y,ce,le){return{endTime:ce,insertTime:le,type:\"linearRampToValue\",value:Y}},L=function(Y,ce){return{startTime:ce,type:\"setValue\",value:Y}},P=function(Y,ce,le){return{duration:le,startTime:ce,type:\"setValueCurve\",values:Y}},W=function(Y,ce,le){var ue=le.startTime,ye=le.target,me=le.timeConstant;return ye+(ce-ye)*Math.exp((ue-Y)/me)},K=function(Y){return Y.type===\"exponentialRampToValue\"},J=function(Y){return Y.type===\"linearRampToValue\"},H=function(Y){return K(Y)||J(Y)},oe=function(Y){return Y.type===\"setValue\"},G=function(Y){return Y.type===\"setValueCurve\"},R=function Y(ce,le,ue,ye){var me=ce[le];return me===void 0?ye:H(me)||oe(me)?me.value:G(me)?me.values[me.values.length-1]:W(ue,Y(ce,le-1,me.startTime,ye),me)},$=function(Y,ce,le,ue,ye){return le===void 0?[ue.insertTime,ye]:H(le)?[le.endTime,le.value]:oe(le)?[le.startTime,le.value]:G(le)?[le.startTime+le.duration,le.values[le.values.length-1]]:[le.startTime,R(Y,ce-1,le.startTime,ye)]},U=function(Y){return Y.type===\"cancelAndHold\"},te=function(Y){return Y.type===\"cancelScheduledValues\"},se=function(Y){return U(Y)||te(Y)?Y.cancelTime:K(Y)||J(Y)?Y.endTime:Y.startTime},be=function(Y,ce,le,ue){var ye=ue.endTime,me=ue.value;return le===me?me:0\u003cle\u0026\u00260\u003cme||le\u003c0\u0026\u0026me\u003c0?le*Math.pow(me/le,(Y-ce)/(ye-ce)):0},xe=function(Y,ce,le,ue){return le+(Y-ce)/(ue.endTime-ce)*(ue.value-le)},Ae=function(Y,ce){var le=ce.duration,ue=ce.startTime,ye=ce.values;return function(me,je){var Je=Math.floor(je),ft=Math.ceil(je);return Je===ft?me[Je]:(1-(je-Je))*me[Je]+(1-(ft-je))*me[ft]}(ye,(Y-ue)/le*(ye.length-1))},ze=function(Y){return Y.type===\"setTarget\"},$e=function(){function Y(ce){_.default(this,Y),this._automationEvents=[],this._currenTime=0,this._defaultValue=ce}return N.default(Y,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:\"add\",value:function(ce){var le=se(ce);if(U(ce)||te(ce)){var ue=this._automationEvents.findIndex(function(Pe){return te(ce)\u0026\u0026G(Pe)?Pe.startTime+Pe.duration\u003e=le:se(Pe)\u003e=le}),ye=this._automationEvents[ue];if(ue!==-1\u0026\u0026(this._automationEvents=this._automationEvents.slice(0,ue)),U(ce)){var me=this._automationEvents[this._automationEvents.length-1];if(ye!==void 0\u0026\u0026H(ye)){if(ze(me))throw new Error(\"The internal list is malformed.\");var je=G(me)?me.startTime+me.duration:se(me),Je=G(me)?me.values[me.values.length-1]:me.value,ft=K(ye)?be(le,je,Je,ye):xe(le,je,Je,ye),he=K(ye)?k(ft,le,this._currenTime):T(ft,le,this._currenTime);this._automationEvents.push(he)}me!==void 0\u0026\u0026ze(me)\u0026\u0026this._automationEvents.push(L(this.getValue(le),le)),me!==void 0\u0026\u0026G(me)\u0026\u0026me.startTime+me.duration\u003ele\u0026\u0026(this._automationEvents[this._automationEvents.length-1]=P(new Float32Array([6,7]),me.startTime,le-me.startTime))}}else{var ke=this._automationEvents.findIndex(function(Pe){return se(Pe)\u003ele}),Oe=ke===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[ke-1];if(Oe!==void 0\u0026\u0026G(Oe)\u0026\u0026se(Oe)+Oe.duration\u003ele)return!1;var Ge=K(ce)?k(ce.value,ce.endTime,this._currenTime):J(ce)?T(ce.value,le,this._currenTime):ce;if(ke===-1)this._automationEvents.push(Ge);else{if(G(ce)\u0026\u0026le+ce.duration\u003ese(this._automationEvents[ke]))return!1;this._automationEvents.splice(ke,0,Ge)}}return!0}},{key:\"flush\",value:function(ce){var le=this._automationEvents.findIndex(function(me){return se(me)\u003ece});if(le\u003e1){var ue=this._automationEvents.slice(le-1),ye=ue[0];ze(ye)\u0026\u0026ue.unshift(L(R(this._automationEvents,le-2,ye.startTime,this._defaultValue),ye.startTime)),this._automationEvents=ue}}},{key:\"getValue\",value:function(ce){if(this._automationEvents.length===0)return this._defaultValue;var le=this._automationEvents[this._automationEvents.length-1],ue=this._automationEvents.findIndex(function(Me){return se(Me)\u003ece}),ye=this._automationEvents[ue],me=se(le)\u003c=ce?le:this._automationEvents[ue-1];if(me!==void 0\u0026\u0026ze(me)\u0026\u0026(ye===void 0||!H(ye)||ye.insertTime\u003ece))return W(ce,R(this._automationEvents,ue-2,me.startTime,this._defaultValue),me);if(me!==void 0\u0026\u0026oe(me)\u0026\u0026(ye===void 0||!H(ye)))return me.value;if(me!==void 0\u0026\u0026G(me)\u0026\u0026(ye===void 0||!H(ye)||me.startTime+me.duration\u003ece))return ce\u003cme.startTime+me.duration?Ae(ce,me):me.values[me.values.length-1];if(me!==void 0\u0026\u0026H(me)\u0026\u0026(ye===void 0||!H(ye)))return me.value;if(ye!==void 0\u0026\u0026K(ye)){var je=$(this._automationEvents,ue-1,me,ye,this._defaultValue),Je=g.default(je,2),ft=Je[0],he=Je[1];return be(ce,ft,he,ye)}if(ye!==void 0\u0026\u0026J(ye)){var ke=$(this._automationEvents,ue-1,me,ye,this._defaultValue),Oe=g.default(ke,2),Ge=Oe[0],Pe=Oe[1];return xe(ce,Ge,Pe,ye)}return this._defaultValue}}]),Y}();s.AutomationEventList=$e,s.createCancelAndHoldAutomationEvent=function(Y){return{cancelTime:Y,type:\"cancelAndHold\"}},s.createCancelScheduledValuesAutomationEvent=function(Y){return{cancelTime:Y,type:\"cancelScheduledValues\"}},s.createExponentialRampToValueAutomationEvent=function(Y,ce){return{endTime:ce,type:\"exponentialRampToValue\",value:Y}},s.createLinearRampToValueAutomationEvent=function(Y,ce){return{endTime:ce,type:\"linearRampToValue\",value:Y}},s.createSetTargetAutomationEvent=function(Y,ce,le){return{startTime:ce,target:Y,timeConstant:le,type:\"setTarget\"}},s.createSetValueAutomationEvent=L,s.createSetValueCurveAutomationEvent=P,Object.defineProperty(s,\"__esModule\",{value:!0})})(e,a(1),a(7),a(8))},function(n,e,a){var s=a(2),o=a(3),u=a(4),h=a(6);n.exports=function(d,g){return s(d)||o(d,g)||u(d,g)||h()}},function(n,e){n.exports=function(a){if(Array.isArray(a))return a}},function(n,e){n.exports=function(a,s){if(typeof Symbol!=\"undefined\"\u0026\u0026Symbol.iterator in Object(a)){var o=[],u=!0,h=!1,d=void 0;try{for(var g,_=a[Symbol.iterator]();!(u=(g=_.next()).done)\u0026\u0026(o.push(g.value),!s||o.length!==s);u=!0);}catch(N){h=!0,d=N}finally{try{u||_.return==null||_.return()}finally{if(h)throw d}}return o}}},function(n,e,a){var s=a(5);n.exports=function(o,u){if(o){if(typeof o==\"string\")return s(o,u);var h=Object.prototype.toString.call(o).slice(8,-1);return h===\"Object\"\u0026\u0026o.constructor\u0026\u0026(h=o.constructor.name),h===\"Map\"||h===\"Set\"?Array.from(o):h===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?s(o,u):void 0}}},function(n,e){n.exports=function(a,s){(s==null||s\u003ea.length)\u0026\u0026(s=a.length);for(var o=0,u=new Array(s);o\u003cs;o++)u[o]=a[o];return u}},function(n,e){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,e){n.exports=function(a,s){if(!(a instanceof s))throw new TypeError(\"Cannot call a class as a function\")}},function(n,e){function a(s,o){for(var u=0;u\u003co.length;u++){var h=o[u];h.enumerable=h.enumerable||!1,h.configurable=!0,\"value\"in h\u0026\u0026(h.writable=!0),Object.defineProperty(s,h.key,h)}}n.exports=function(s,o,u){return o\u0026\u0026a(s.prototype,o),u\u0026\u0026a(s,u),s}},function(n,e,a){\"use strict\";a.r(e),a.d(e,\"getContext\",function(){return At}),a.d(e,\"setContext\",function(){return np}),a.d(e,\"Clock\",function(){return si}),a.d(e,\"Context\",function(){return ao}),a.d(e,\"BaseContext\",function(){return Gm}),a.d(e,\"Delay\",function(){return Qn}),a.d(e,\"Gain\",function(){return Ce}),a.d(e,\"Offline\",function(){return i8}),a.d(e,\"OfflineContext\",function(){return so}),a.d(e,\"Param\",function(){return Ye}),a.d(e,\"ToneAudioBuffer\",function(){return lt}),a.d(e,\"ToneAudioBuffers\",function(){return lo}),a.d(e,\"ToneAudioNode\",function(){return ge}),a.d(e,\"connectSeries\",function(){return mr}),a.d(e,\"connect\",function(){return Kn}),a.d(e,\"disconnect\",function(){return Xm}),a.d(e,\"FrequencyClass\",function(){return zn}),a.d(e,\"Frequency\",function(){return a8}),a.d(e,\"MidiClass\",function(){return po}),a.d(e,\"Midi\",function(){return o8}),a.d(e,\"TimeClass\",function(){return fr}),a.d(e,\"Time\",function(){return t8}),a.d(e,\"TicksClass\",function(){return St}),a.d(e,\"Ticks\",function(){return c8}),a.d(e,\"TransportTimeClass\",function(){return tn}),a.d(e,\"TransportTime\",function(){return s8}),a.d(e,\"Emitter\",function(){return ro}),a.d(e,\"IntervalTimeline\",function(){return vN}),a.d(e,\"StateTimeline\",function(){return co}),a.d(e,\"Timeline\",function(){return Yr}),a.d(e,\"isUndef\",function(){return Zn}),a.d(e,\"isDefined\",function(){return et}),a.d(e,\"isFunction\",function(){return cN}),a.d(e,\"isNumber\",function(){return dr}),a.d(e,\"isObject\",function(){return ja}),a.d(e,\"isBoolean\",function(){return Bm}),a.d(e,\"isArray\",function(){return Sn}),a.d(e,\"isString\",function(){return Sr}),a.d(e,\"isNote\",function(){return Lc}),a.d(e,\"dbToGain\",function(){return io}),a.d(e,\"gainToDb\",function(){return Bc}),a.d(e,\"intervalToFrequencyRatio\",function(){return oo}),a.d(e,\"ftom\",function(){return vs}),a.d(e,\"mtof\",function(){return Um}),a.d(e,\"optionsFromArguments\",function(){return V}),a.d(e,\"defaultArg\",function(){return Pr}),a.d(e,\"Unit\",function(){return o}),a.d(e,\"debug\",function(){return s}),a.d(e,\"Noise\",function(){return Va}),a.d(e,\"UserMedia\",function(){return ho}),a.d(e,\"Oscillator\",function(){return Rt}),a.d(e,\"AMOscillator\",function(){return mo}),a.d(e,\"FMOscillator\",function(){return oi}),a.d(e,\"PulseOscillator\",function(){return ci}),a.d(e,\"FatOscillator\",function(){return vo}),a.d(e,\"PWMOscillator\",function(){return go}),a.d(e,\"OmniOscillator\",function(){return ha}),a.d(e,\"ToneOscillatorNode\",function(){return fo}),a.d(e,\"LFO\",function(){return In}),a.d(e,\"ToneBufferSource\",function(){return Fa}),a.d(e,\"Player\",function(){return li}),a.d(e,\"Players\",function(){return lp}),a.d(e,\"GrainPlayer\",function(){return pp}),a.d(e,\"Add\",function(){return ui}),a.d(e,\"Abs\",function(){return bN}),a.d(e,\"AudioToGain\",function(){return cp}),a.d(e,\"GainToAudio\",function(){return kN}),a.d(e,\"GreaterThan\",function(){return $c}),a.d(e,\"GreaterThanZero\",function(){return hp}),a.d(e,\"Multiply\",function(){return Et}),a.d(e,\"Negate\",function(){return Hm}),a.d(e,\"Pow\",function(){return yo}),a.d(e,\"Signal\",function(){return Be}),a.d(e,\"connectSignal\",function(){return Gc}),a.d(e,\"Scale\",function(){return da}),a.d(e,\"ScaleExp\",function(){return Xc}),a.d(e,\"Subtract\",function(){return pi}),a.d(e,\"SyncedSignal\",function(){return h8}),a.d(e,\"WaveShaper\",function(){return Or}),a.d(e,\"Zero\",function(){return up}),a.d(e,\"AMSynth\",function(){return Zm}),a.d(e,\"DuoSynth\",function(){return fp}),a.d(e,\"FMSynth\",function(){return mp}),a.d(e,\"MetalSynth\",function(){return vp}),a.d(e,\"MembraneSynth\",function(){return xo}),a.d(e,\"MonoSynth\",function(){return ys}),a.d(e,\"NoiseSynth\",function(){return gp}),a.d(e,\"PluckSynth\",function(){return yp}),a.d(e,\"PolySynth\",function(){return _p}),a.d(e,\"Sampler\",function(){return So}),a.d(e,\"Synth\",function(){return Ba}),a.d(e,\"Loop\",function(){return Mo}),a.d(e,\"Part\",function(){return Po}),a.d(e,\"Pattern\",function(){return bp}),a.d(e,\"Sequence\",function(){return kp}),a.d(e,\"ToneEvent\",function(){return Hr}),a.d(e,\"AutoFilter\",function(){return xp}),a.d(e,\"AutoPanner\",function(){return wp}),a.d(e,\"AutoWah\",function(){return qp}),a.d(e,\"BitCrusher\",function(){return Tp}),a.d(e,\"Chebyshev\",function(){return Mp}),a.d(e,\"Chorus\",function(){return Pp}),a.d(e,\"Distortion\",function(){return Op}),a.d(e,\"FeedbackDelay\",function(){return Ap}),a.d(e,\"FrequencyShifter\",function(){return Rp}),a.d(e,\"Freeverb\",function(){return Ep}),a.d(e,\"JCReverb\",function(){return jp}),a.d(e,\"PingPongDelay\",function(){return Dp}),a.d(e,\"PitchShift\",function(){return Ip}),a.d(e,\"Phaser\",function(){return Fp}),a.d(e,\"Reverb\",function(){return Vp}),a.d(e,\"StereoWidener\",function(){return Lp}),a.d(e,\"Tremolo\",function(){return Wp}),a.d(e,\"Vibrato\",function(){return Bp}),a.d(e,\"Analyser\",function(){return Ro}),a.d(e,\"Meter\",function(){return zp}),a.d(e,\"FFT\",function(){return Gp}),a.d(e,\"DCMeter\",function(){return tv}),a.d(e,\"Waveform\",function(){return Up}),a.d(e,\"Follower\",function(){return Ao}),a.d(e,\"Channel\",function(){return ks}),a.d(e,\"CrossFade\",function(){return hi}),a.d(e,\"Merge\",function(){return za}),a.d(e,\"MidSideMerge\",function(){return Zc}),a.d(e,\"MidSideSplit\",function(){return Hc}),a.d(e,\"Mono\",function(){return nv}),a.d(e,\"MultibandSplit\",function(){return Eo}),a.d(e,\"Panner\",function(){return Co}),a.d(e,\"Panner3D\",function(){return $p}),a.d(e,\"PanVol\",function(){return Kc}),a.d(e,\"Recorder\",function(){return Qc}),a.d(e,\"Solo\",function(){return Xt}),a.d(e,\"Split\",function(){return _s}),a.d(e,\"Volume\",function(){return pa}),a.d(e,\"Compressor\",function(){return ma}),a.d(e,\"Gate\",function(){return Xp}),a.d(e,\"Limiter\",function(){return Yp}),a.d(e,\"MidSideCompressor\",function(){return Hp}),a.d(e,\"MultibandCompressor\",function(){return Zp}),a.d(e,\"AmplitudeEnvelope\",function(){return _o}),a.d(e,\"Envelope\",function(){return yn}),a.d(e,\"FrequencyEnvelope\",function(){return No}),a.d(e,\"EQ3\",function(){return Kp}),a.d(e,\"Filter\",function(){return Jn}),a.d(e,\"OnePoleFilter\",function(){return qo}),a.d(e,\"FeedbackCombFilter\",function(){return wo}),a.d(e,\"LowpassCombFilter\",function(){return To}),a.d(e,\"Convolver\",function(){return Qp}),a.d(e,\"BiquadFilter\",function(){return ko}),a.d(e,\"version\",function(){return u}),a.d(e,\"start\",function(){return e8}),a.d(e,\"supported\",function(){return H6}),a.d(e,\"now\",function(){return N8}),a.d(e,\"immediate\",function(){return x8}),a.d(e,\"Transport\",function(){return w8}),a.d(e,\"getTransport\",function(){return q8}),a.d(e,\"Destination\",function(){return T8}),a.d(e,\"Master\",function(){return S8}),a.d(e,\"getDestination\",function(){return M8}),a.d(e,\"Listener\",function(){return P8}),a.d(e,\"getListener\",function(){return O8}),a.d(e,\"Draw\",function(){return C8}),a.d(e,\"getDraw\",function(){return A8}),a.d(e,\"context\",function(){return R8}),a.d(e,\"loaded\",function(){return E8}),a.d(e,\"Buffer\",function(){return j8}),a.d(e,\"Buffers\",function(){return D8}),a.d(e,\"BufferSource\",function(){return I8});var s={};a.r(s),a.d(s,\"assert\",function(){return Ee}),a.d(s,\"assertRange\",function(){return Tn}),a.d(s,\"assertContextRunning\",function(){return Lm}),a.d(s,\"setLogger\",function(){return Z6}),a.d(s,\"log\",function(){return oN}),a.d(s,\"warn\",function(){return Vc});var o={};a.r(o);let u=\"14.7.77\";var h=a(0);let d=new WeakSet,g=new WeakMap,_=new WeakMap,N=new WeakMap,k=new WeakMap,T=new WeakMap,L=new WeakMap,P=new WeakMap,W=new WeakMap,K=new WeakMap,J={construct:()=\u003eJ},H=/^import(?:(?:[\\s]+[\\w]+|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\{[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?(?:[\\s]*,[\\s]*[\\w]+(?:[\\s]+as[\\s]+[\\w]+)?)*[\\s]*}|(?:[\\s]+[\\w]+[\\s]*,)?[\\s]*\\*[\\s]+as[\\s]+[\\w]+)[\\s]+from)?(?:[\\s]*)(\"([^\"\\\\]|\\\\.)+\"|'([^'\\\\]|\\\\.)+')(?:[\\s]*);?/,oe=(l,t)=\u003e{let i=[],c=l.replace(/^[\\s]+/,\"\"),p=c.match(H);for(;p!==null;){let f=p[1].slice(1,-1),m=p[0].replace(/([\\s]+)?;?$/,\"\").replace(f,new URL(f,t).toString());i.push(m),c=c.slice(p[0].length).replace(/^[\\s]+/,\"\"),p=c.match(H)}return[i.join(\";\"),c]},G=l=\u003e{if(l!==void 0\u0026\u0026!Array.isArray(l))throw new TypeError(\"The parameterDescriptors property of given value for processorCtor is not an array.\")},R=l=\u003e{if(!(t=\u003e{try{new new Proxy(t,J)}catch{return!1}return!0})(l))throw new TypeError(\"The given value for processorCtor should be a constructor.\");if(l.prototype===null||typeof l.prototype!=\"object\")throw new TypeError(\"The given value for processorCtor should have a prototype.\")},$=(l,t)=\u003e{let i=l.get(t);if(i===void 0)throw new Error(\"A value with the given key could not be found.\");return i},U=(l,t)=\u003e{let i=Array.from(l).filter(t);if(i.length\u003e1)throw Error(\"More than one element was found.\");if(i.length===0)throw Error(\"No element was found.\");let[c]=i;return l.delete(c),c},te=(l,t,i,c)=\u003e{let p=$(l,t),f=U(p,m=\u003em[0]===i\u0026\u0026m[1]===c);return p.size===0\u0026\u0026l.delete(t),f},se=l=\u003e$(L,l),be=l=\u003e{if(d.has(l))throw new Error(\"The AudioNode is already stored.\");d.add(l),se(l).forEach(t=\u003et(!0))},xe=l=\u003e\"port\"in l,Ae=l=\u003e{if(!d.has(l))throw new Error(\"The AudioNode is not stored.\");d.delete(l),se(l).forEach(t=\u003et(!1))},ze=(l,t)=\u003e{!xe(l)\u0026\u0026t.every(i=\u003ei.size===0)\u0026\u0026Ae(l)},$e={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Y=(l,t)=\u003el.context===t,ce=l=\u003e{try{l.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},le=()=\u003enew DOMException(\"\",\"IndexSizeError\"),ue=l=\u003e{var t;l.getChannelData=(t=l.getChannelData,i=\u003e{try{return t.call(l,i)}catch(c){throw c.code===12?le():c}})},ye={numberOfChannels:1},me=-34028234663852886e22,je=-me,Je=l=\u003ed.has(l),ft={buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},he=l=\u003e$(g,l),ke=l=\u003e$(N,l),Oe=(l,t)=\u003e{let{activeInputs:i}=he(l);i.forEach(p=\u003ep.forEach(([f])=\u003e{t.includes(l)||Oe(f,[...t,l])}));let c=(p=\u003e\"playbackRate\"in p)(l)?[l.playbackRate]:xe(l)?Array.from(l.parameters.values()):(p=\u003e\"frequency\"in p\u0026\u0026\"gain\"in p)(l)?[l.Q,l.detune,l.frequency,l.gain]:(p=\u003e\"offset\"in p)(l)?[l.offset]:(p=\u003e!(\"frequency\"in p)\u0026\u0026\"gain\"in p)(l)?[l.gain]:(p=\u003e\"detune\"in p\u0026\u0026\"frequency\"in p)(l)?[l.detune,l.frequency]:(p=\u003e\"pan\"in p)(l)?[l.pan]:[];for(let p of c){let f=ke(p);f!==void 0\u0026\u0026f.activeInputs.forEach(([m])=\u003eOe(m,t))}Je(l)\u0026\u0026Ae(l)},Ge=l=\u003e{Oe(l.destination,[])},Pe=l=\u003el===void 0||typeof l==\"number\"||typeof l==\"string\"\u0026\u0026(l===\"balanced\"||l===\"interactive\"||l===\"playback\"),Me=l=\u003e\"context\"in l,rt=l=\u003eMe(l[0]),ut=(l,t,i,c)=\u003e{for(let p of l)if(i(p)){if(c)return!1;throw Error(\"The set contains at least one similar element.\")}return l.add(t),!0},Gt=(l,t,[i,c],p)=\u003e{ut(l,[t,i,c],f=\u003ef[0]===t\u0026\u0026f[1]===i,p)},fn=(l,[t,i,c],p)=\u003e{let f=l.get(t);f===void 0?l.set(t,new Set([[i,c]])):ut(f,[i,c],m=\u003em[0]===i,p)},Ot=l=\u003e\"inputs\"in l,mn=(l,t,i,c)=\u003e{if(Ot(t)){let p=t.inputs[c];return l.connect(p,i,0),[p,i,0]}return l.connect(t,i,c),[t,i,c]},wn=(l,t,i)=\u003e{for(let c of l)if(c[0]===t\u0026\u0026c[1]===i)return l.delete(c),c;return null},$n=(l,t)=\u003e{if(!se(l).delete(t))throw new Error(\"Missing the expected event listener.\")},Xn=(l,t,i)=\u003e{let c=$(l,t),p=U(c,f=\u003ef[0]===i);return c.size===0\u0026\u0026l.delete(t),p},Yn=(l,t,i,c)=\u003e{Ot(t)?l.disconnect(t.inputs[c],i,0):l.disconnect(t,i,c)},mt=l=\u003e$(_,l),jn=l=\u003e$(k,l),Dn=l=\u003eP.has(l),Lr=l=\u003e!d.has(l),sa=l=\u003enew Promise(t=\u003e{let i=l.createScriptProcessor(256,1,1),c=l.createGain(),p=l.createBuffer(1,2,44100),f=p.getChannelData(0);f[0]=1,f[1]=1;let m=l.createBufferSource();m.buffer=p,m.loop=!0,m.connect(i).connect(l.destination),m.connect(c),m.disconnect(c),i.onaudioprocess=y=\u003e{let b=y.inputBuffer.getChannelData(0);Array.prototype.some.call(b,x=\u003ex===1)?t(!0):t(!1),m.stop(),i.onaudioprocess=null,m.disconnect(i),i.disconnect(l.destination)},m.start()}),qr=(l,t)=\u003e{let i=new Map;for(let c of l)for(let p of c){let f=i.get(p);i.set(p,f===void 0?1:f+1)}i.forEach((c,p)=\u003et(p,c))},Wr=l=\u003e\"context\"in l,ss=(l,t,i,c)=\u003e{let{activeInputs:p,passiveInputs:f}=ke(t),{outputs:m}=he(l),y=se(l),b=x=\u003e{let M=mt(l),w=jn(t);if(x){let O=Xn(f,l,i);Gt(p,l,O,!1),c||Dn(l)||M.connect(w,i)}else{let O=((q,X,D)=\u003eU(q,j=\u003ej[0]===X\u0026\u0026j[1]===D))(p,l,i);fn(f,O,!1),c||Dn(l)||M.disconnect(w,i)}};return!!ut(m,[t,i],x=\u003ex[0]===t\u0026\u0026x[1]===i,!0)\u0026\u0026(y.add(b),Je(l)?Gt(p,l,[i,b],!0):fn(f,[l,i,b],!0),!0)},pr=(l,t,i,c,p)=\u003e{let[f,m]=((y,b,x,M)=\u003e{let{activeInputs:w,passiveInputs:O}=he(b),q=wn(w[M],y,x);return q===null?[te(O,y,x,M)[2],!1]:[q[2],!0]})(l,i,c,p);if(f!==null\u0026\u0026($n(l,f),!m||t||Dn(l)||Yn(mt(l),mt(i),c,p)),Je(i)){let{activeInputs:y}=he(i);ze(i,y)}},Hn=(l,t,i,c)=\u003e{let[p,f]=((m,y,b)=\u003e{let{activeInputs:x,passiveInputs:M}=ke(y),w=wn(x,m,b);return w===null?[Xn(M,m,b)[1],!1]:[w[2],!0]})(l,i,c);p!==null\u0026\u0026($n(l,p),!f||t||Dn(l)||mt(l).disconnect(jn(i),c))};class is{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,i=null){return this._map.forEach((c,p)=\u003et.call(i,c,p,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}let Aa={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function ia(l,t,i,c,p){if(typeof l.copyFromChannel==\"function\")t[i].byteLength===0\u0026\u0026(t[i]=new Float32Array(128)),l.copyFromChannel(t[i],c,p);else{let f=l.getChannelData(c);if(t[i].byteLength===0)t[i]=f.slice(p,p+128);else{let m=new Float32Array(f.buffer,p*Float32Array.BYTES_PER_ELEMENT,128);t[i].set(m)}}}let Ra=(l,t,i,c,p)=\u003e{typeof l.copyToChannel==\"function\"?t[i].byteLength!==0\u0026\u0026l.copyToChannel(t[i],c,p):t[i].byteLength!==0\u0026\u0026l.getChannelData(c).set(t[i],p)},oa=(l,t)=\u003e{let i=[];for(let c=0;c\u003cl;c+=1){let p=[],f=typeof t==\"number\"?t:t[c];for(let m=0;m\u003cf;m+=1)p.push(new Float32Array(128));i.push(p)}return i},ei=async(l,t,i,c,p,f,m)=\u003e{let y=t===null?128*Math.ceil(l.context.length/128):t.length,b=c.channelCount*c.numberOfInputs,x=p.reduce((j,B)=\u003ej+B,0),M=x===0?null:i.createBuffer(x,y,i.sampleRate);if(f===void 0)throw new Error(\"Missing the processor constructor.\");let w=he(l),O=await((j,B)=\u003e{let Q=$(K,j),Z=mt(B);return $(Q,Z)})(i,l),q=oa(c.numberOfInputs,c.channelCount),X=oa(c.numberOfOutputs,p),D=Array.from(l.parameters.keys()).reduce((j,B)=\u003e({...j,[B]:new Float32Array(128)}),{});for(let j=0;j\u003cy;j+=128){if(c.numberOfInputs\u003e0\u0026\u0026t!==null)for(let B=0;B\u003cc.numberOfInputs;B+=1)for(let Q=0;Q\u003cc.channelCount;Q+=1)ia(t,q[B],Q,Q,j);f.parameterDescriptors!==void 0\u0026\u0026t!==null\u0026\u0026f.parameterDescriptors.forEach(({name:B},Q)=\u003e{ia(t,D,B,b+Q,j)});for(let B=0;B\u003cc.numberOfInputs;B+=1)for(let Q=0;Q\u003cp[B];Q+=1)X[B][Q].byteLength===0\u0026\u0026(X[B][Q]=new Float32Array(128));try{let B=q.map((Z,ee)=\u003ew.activeInputs[ee].size===0?[]:Z),Q=m(j/i.sampleRate,i.sampleRate,()=\u003eO.process(B,X,D));if(M!==null)for(let Z=0,ee=0;Z\u003cc.numberOfOutputs;Z+=1){for(let ae=0;ae\u003cp[Z];ae+=1)Ra(M,X[Z],ae,ee+ae,j);ee+=p[Z]}if(!Q)break}catch(B){l.dispatchEvent(new ErrorEvent(\"processorerror\",{colno:B.colno,filename:B.filename,lineno:B.lineno,message:B.message}));break}}return M},os={Q:1,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",detune:0,frequency:350,gain:0,type:\"lowpass\"},Xe={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:6},Br={channelCount:6,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:6},ca={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",offset:1},cs={buffer:null,channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",disableNormalization:!1},us={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",delayTime:0,maxDelayTime:1},ls=(l,t,i)=\u003e{let c=t[i];if(c===void 0)throw l();return c},Yi={attack:.003,channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",knee:30,ratio:12,release:.25,threshold:-24},ps={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",gain:1},It=()=\u003enew DOMException(\"\",\"InvalidStateError\"),hs=()=\u003enew DOMException(\"\",\"InvalidAccessError\"),jc={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\"},Hi=(l,t,i,c,p,f,m,y,b,x,M)=\u003e{let w=x.length,O=y;for(let q=0;q\u003cw;q+=1){let X=i[0]*x[q];for(let D=1;D\u003cp;D+=1){let j=O-D\u0026b-1;X+=i[D]*f[j],X-=l[D]*m[j]}for(let D=p;D\u003cc;D+=1)X+=i[D]*f[O-D\u0026b-1];for(let D=p;D\u003ct;D+=1)X-=l[D]*m[O-D\u0026b-1];f[O]=x[q],m[O]=X,O=O+1\u0026b-1,M[q]=X}return O},Re={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\"},zt=l=\u003e{let t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{let i=l.decodeAudioData(t.buffer,()=\u003e{});return i!==void 0\u0026\u0026(i.catch(()=\u003e{}),!0)}catch{}return!1},ti={numberOfChannels:1},_t=(l,t,i)=\u003e{let c=t[i];c!==void 0\u0026\u0026c!==l[i]\u0026\u0026(l[i]=c)},Zt=(l,t)=\u003e{_t(l,t,\"channelCount\"),_t(l,t,\"channelCountMode\"),_t(l,t,\"channelInterpretation\")},Gl=l=\u003etypeof l.getFloatTimeDomainData==\"function\",Ft=(l,t,i)=\u003e{let c=t[i];c!==void 0\u0026\u0026c!==l[i].value\u0026\u0026(l[i].value=c)},Zi=l=\u003e{var t;l.start=(t=l.start,(i=0,c=0,p)=\u003e{if(typeof p==\"number\"\u0026\u0026p\u003c0||c\u003c0||i\u003c0)throw new RangeError(\"The parameters can't be negative.\");t.call(l,i,c,p)})},Dc=l=\u003e{var t;l.stop=(t=l.stop,(i=0)=\u003e{if(i\u003c0)throw new RangeError(\"The parameter can't be negative.\");t.call(l,i)})},Ul=(l,t)=\u003el===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(l*t))))),S=async(l,t)=\u003enew l(await(i=\u003enew Promise((c,p)=\u003e{let{port1:f,port2:m}=new MessageChannel;f.onmessage=({data:y})=\u003e{f.close(),m.close(),c(y)},f.onmessageerror=({data:y})=\u003e{f.close(),m.close(),p(y)},m.postMessage(i)}))(t)),A=(l,t)=\u003e{let i=l.createBiquadFilter();return Zt(i,t),Ft(i,t,\"Q\"),Ft(i,t,\"detune\"),Ft(i,t,\"frequency\"),Ft(i,t,\"gain\"),_t(i,t,\"type\"),i},E=(l,t)=\u003e{let i=l.createChannelSplitter(t.numberOfOutputs);return Zt(i,t),(c=\u003e{let p=c.numberOfOutputs;Object.defineProperty(c,\"channelCount\",{get:()=\u003ep,set:f=\u003e{if(f!==p)throw It()}}),Object.defineProperty(c,\"channelCountMode\",{get:()=\u003e\"explicit\",set:f=\u003e{if(f!==\"explicit\")throw It()}}),Object.defineProperty(c,\"channelInterpretation\",{get:()=\u003e\"discrete\",set:f=\u003e{if(f!==\"discrete\")throw It()}})})(i),i},F=(l,t)=\u003e(l.connect=t.connect.bind(t),l.disconnect=t.disconnect.bind(t),l),I=(l,t)=\u003e{let i=l.createDelay(t.maxDelayTime);return Zt(i,t),Ft(i,t,\"delayTime\"),i},z=(l,t)=\u003e{let i=l.createGain();return Zt(i,t),Ft(i,t,\"gain\"),i};function _e(l,t){let i=t[0]*t[0]+t[1]*t[1];return[(l[0]*t[0]+l[1]*t[1])/i,(l[1]*t[0]-l[0]*t[1])/i]}function qe(l,t){let i=[0,0];for(let f=l.length-1;f\u003e=0;f-=1)p=t,i=[(c=i)[0]*p[0]-c[1]*p[1],c[0]*p[1]+c[1]*p[0]],i[0]+=l[f];var c,p;return i}let Ue=(l,t,i,c)=\u003el.createScriptProcessor(t,i,c),Ze=()=\u003enew DOMException(\"\",\"NotSupportedError\"),vt={numberOfChannels:1},qt={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",detune:0,frequency:440,periodicWave:void 0,type:\"sine\"},Ut={channelCount:2,channelCountMode:\"clamped-max\",channelInterpretation:\"speakers\",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:\"inverse\",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:\"equalpower\",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},zr={disableNormalization:!1},ni={channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",pan:0},Ki=()=\u003enew DOMException(\"\",\"UnknownError\"),km={channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",curve:null,oversample:\"none\"},Qi=l=\u003e{if(l===null)return!1;let t=l.length;return t%2!=0?l[Math.floor(t/2)]!==0:l[t/2-1]+l[t/2]!==0},Tr=(l,t,i,c)=\u003e{let p=Object.getPrototypeOf(l);for(;!p.hasOwnProperty(t);)p=Object.getPrototypeOf(p);let{get:f,set:m}=Object.getOwnPropertyDescriptor(p,t);Object.defineProperty(l,t,{get:i(f),set:c(m)})},sk=(l,t,i)=\u003e{try{l.setValueAtTime(t,i)}catch(c){if(c.code!==9)throw c;sk(l,t,i+1e-7)}},Nm=l=\u003e{let t=l.createOscillator();try{t.start(-1)}catch(i){return i instanceof RangeError}return!1},ik=l=\u003e{let t=l.createBuffer(1,1,44100),i=l.createBufferSource();i.buffer=t,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},xm=l=\u003e{let t=l.createOscillator();try{t.stop(-1)}catch(i){return i instanceof RangeError}return!1},X4=()=\u003e{try{new DOMException}catch{return!1}return!0},Y4=()=\u003enew Promise(l=\u003e{let t=new ArrayBuffer(0),{port1:i,port2:c}=new MessageChannel;i.onmessage=({data:p})=\u003el(p!==null),c.postMessage(t,[t])}),ok=(l,t)=\u003e{let i=t.createGain();l.connect(i);let c=(p=l.disconnect,()=\u003e{p.call(l,i),l.removeEventListener(\"ended\",c)});var p;l.addEventListener(\"ended\",c),F(l,i),l.stop=(f=\u003e{let m=!1;return(y=0)=\u003e{if(m)try{f.call(l,y)}catch{i.gain.setValueAtTime(0,y)}else f.call(l,y),m=!0}})(l.stop)},Ji=(l,t)=\u003ei=\u003e{let c={value:l};return Object.defineProperties(i,{currentTarget:c,target:c}),typeof t==\"function\"?t.call(l,i):t.handleEvent.call(l,i)},H4=(ck=ut,(l,t,[i,c,p],f)=\u003e{ck(l[c],[t,i,p],m=\u003em[0]===t\u0026\u0026m[1]===i,f)});var ck;let Z4=(l=\u003e(t,i,[c,p,f],m)=\u003e{let y=t.get(c);y===void 0?t.set(c,new Set([[p,i,f]])):l(y,[p,i,f],b=\u003eb[0]===p\u0026\u0026b[1]===i,m)})(ut),K4=(l=\u003e(t,i,c,p)=\u003el(t[p],f=\u003ef[0]===i\u0026\u0026f[1]===c))(U),uk=new WeakMap,Q4=(l=\u003et=\u003e{var i;return(i=l.get(t))!==null\u0026\u0026i!==void 0?i:0})(uk),hr=($l=new Map,Ic=new WeakMap,(l,t)=\u003e{let i=Ic.get(l);if(i!==void 0)return i;let c=$l.get(l);if(c!==void 0)return c;try{let p=t();return p instanceof Promise?($l.set(l,p),p.catch(()=\u003e!1).then(f=\u003e($l.delete(l),Ic.set(l,f),f))):(Ic.set(l,p),p)}catch{return Ic.set(l,!1),!1}});var $l,Ic;let Gr=typeof window==\"undefined\"?null:window,lk=(pk=hr,hk=le,(l,t)=\u003e{let i=l.createAnalyser();if(Zt(i,t),!(t.maxDecibels\u003et.minDecibels))throw hk();return _t(i,t,\"fftSize\"),_t(i,t,\"maxDecibels\"),_t(i,t,\"minDecibels\"),_t(i,t,\"smoothingTimeConstant\"),pk(Gl,()=\u003eGl(i))||(c=\u003e{c.getFloatTimeDomainData=p=\u003e{let f=new Uint8Array(p.length);c.getByteTimeDomainData(f);let m=Math.max(f.length,c.fftSize);for(let y=0;y\u003cm;y+=1)p[y]=.0078125*(f[y]-128);return p}})(i),i});var pk,hk;let wm=(dk=he,l=\u003e{let t=dk(l);if(t.renderer===null)throw new Error(\"Missing the renderer of the given AudioNode in the audio graph.\");return t.renderer});var dk;let qn=((l,t,i)=\u003easync(c,p,f,m)=\u003e{let y=l(c),b=[...m,c];await Promise.all(y.activeInputs.map((x,M)=\u003eArray.from(x).filter(([w])=\u003e!b.includes(w)).map(async([w,O])=\u003e{let q=t(w),X=await q.render(w,p,b),D=c.context.destination;i(w)||c===D\u0026\u0026i(c)||X.connect(f,O,M)})).reduce((x,M)=\u003e[...x,...M],[]))})(he,wm,Dn),J4=(fk=lk,mk=mt,vk=qn,()=\u003e{let l=new WeakMap;return{render(t,i,c){let p=l.get(i);return p!==void 0?Promise.resolve(p):(async(f,m,y)=\u003e{let b=mk(f);if(!Y(b,m)){let x={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,fftSize:b.fftSize,maxDecibels:b.maxDecibels,minDecibels:b.minDecibels,smoothingTimeConstant:b.smoothingTimeConstant};b=fk(m,x)}return l.set(m,b),await vk(f,m,b,y),b})(t,i,c)}}});var fk,mk,vk;let Ct=(gk=T,l=\u003e{let t=gk.get(l);if(t===void 0)throw It();return t});var gk;let vn=(l=\u003el===null?null:l.hasOwnProperty(\"OfflineAudioContext\")?l.OfflineAudioContext:l.hasOwnProperty(\"webkitOfflineAudioContext\")?l.webkitOfflineAudioContext:null)(Gr),Nt=(qm=vn,l=\u003eqm!==null\u0026\u0026l instanceof qm);var qm;let yk=new WeakMap,_k=(bk=Ji,class{constructor(l){this._nativeEventTarget=l,this._listeners=new WeakMap}addEventListener(l,t,i){if(t!==null){let c=this._listeners.get(t);c===void 0\u0026\u0026(c=bk(this,t),typeof t==\"function\"\u0026\u0026this._listeners.set(t,c)),this._nativeEventTarget.addEventListener(l,c,i)}}dispatchEvent(l){return this._nativeEventTarget.dispatchEvent(l)}removeEventListener(l,t,i){let c=t===null?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(l,c===void 0?null:c,i)}});var bk;let Ea=(l=\u003el===null?null:l.hasOwnProperty(\"AudioContext\")?l.AudioContext:l.hasOwnProperty(\"webkitAudioContext\")?l.webkitAudioContext:null)(Gr),Tm=(Sm=Ea,l=\u003eSm!==null\u0026\u0026l instanceof Sm);var Sm;let Mm=(l=\u003et=\u003el!==null\u0026\u0026typeof l.AudioNode==\"function\"\u0026\u0026t instanceof l.AudioNode)(Gr),kk=(l=\u003et=\u003el!==null\u0026\u0026typeof l.AudioParam==\"function\"\u0026\u0026t instanceof l.AudioParam)(Gr),Kt=((l,t,i,c,p,f,m,y,b,x,M,w,O,q,X)=\u003eclass extends x{constructor(D,j,B,Q){super(B),this._context=D,this._nativeAudioNode=B;let Z=M(D);w(Z)\u0026\u0026i(sa,()=\u003esa(Z))!==!0\u0026\u0026(ee=\u003e{let ae=new Map;var ne,ie;ee.connect=(ne=ee.connect.bind(ee),(Ne,pe=0,fe=0)=\u003e{let ve=Wr(Ne)?ne(Ne,pe,fe):ne(Ne,pe),Te=ae.get(Ne);return Te===void 0?ae.set(Ne,[{input:fe,output:pe}]):Te.every(Le=\u003eLe.input!==fe||Le.output!==pe)\u0026\u0026Te.push({input:fe,output:pe}),ve}),ee.disconnect=(ie=ee.disconnect,(Ne,pe,fe)=\u003e{if(ie.apply(ee),Ne===void 0)ae.clear();else if(typeof Ne==\"number\")for(let[ve,Te]of ae){let Le=Te.filter(pt=\u003ept.output!==Ne);Le.length===0?ae.delete(ve):ae.set(ve,Le)}else if(ae.has(Ne))if(pe===void 0)ae.delete(Ne);else{let ve=ae.get(Ne);if(ve!==void 0){let Te=ve.filter(Le=\u003eLe.output!==pe\u0026\u0026(Le.input!==fe||fe===void 0));Te.length===0?ae.delete(Ne):ae.set(Ne,Te)}}for(let[ve,Te]of ae)Te.forEach(Le=\u003e{Wr(ve)?ee.connect(ve,Le.output,Le.input):ee.connect(ve,Le.output)})})})(B),_.set(this,B),L.set(this,new Set),D.state!==\"closed\"\u0026\u0026j\u0026\u0026be(this),l(this,Q,B)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(D){this._nativeAudioNode.channelCount=D}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(D){this._nativeAudioNode.channelCountMode=D}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(D){this._nativeAudioNode.channelInterpretation=D}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(D,j=0,B=0){if(j\u003c0||j\u003e=this._nativeAudioNode.numberOfOutputs)throw p();let Q=M(this._context),Z=X(Q);if(O(D)||q(D))throw f();if(Me(D)){let ae=mt(D);try{let ne=mn(this._nativeAudioNode,ae,j,B),ie=Lr(this);(Z||ie)\u0026\u0026this._nativeAudioNode.disconnect(...ne),this.context.state!==\"closed\"\u0026\u0026!ie\u0026\u0026Lr(D)\u0026\u0026be(D)}catch(ne){throw ne.code===12?f():ne}if(t(this,D,j,B,Z)){let ne=b([this],D);qr(ne,c(Z))}return D}let ee=jn(D);if(ee.name===\"playbackRate\")throw m();try{this._nativeAudioNode.connect(ee,j),(Z||Lr(this))\u0026\u0026this._nativeAudioNode.disconnect(ee,j)}catch(ae){throw ae.code===12?f():ae}if(ss(this,D,j,Z)){let ae=b([this],D);qr(ae,c(Z))}}disconnect(D,j,B){let Q,Z=M(this._context),ee=X(Z);if(D===void 0)Q=((ae,ne)=\u003e{let ie=he(ae),Ne=[];for(let pe of ie.outputs)rt(pe)?pr(ae,ne,...pe):Hn(ae,ne,...pe),Ne.push(pe[0]);return ie.outputs.clear(),Ne})(this,ee);else if(typeof D==\"number\"){if(D\u003c0||D\u003e=this.numberOfOutputs)throw p();Q=((ae,ne,ie)=\u003e{let Ne=he(ae),pe=[];for(let fe of Ne.outputs)fe[1]===ie\u0026\u0026(rt(fe)?pr(ae,ne,...fe):Hn(ae,ne,...fe),pe.push(fe[0]),Ne.outputs.delete(fe));return pe})(this,ee,D)}else{if(j!==void 0\u0026\u0026(j\u003c0||j\u003e=this.numberOfOutputs)||Me(D)\u0026\u0026B!==void 0\u0026\u0026(B\u003c0||B\u003e=D.numberOfInputs))throw p();if(Q=((ae,ne,ie,Ne,pe)=\u003e{let fe=he(ae);return Array.from(fe.outputs).filter(ve=\u003e!(ve[0]!==ie||Ne!==void 0\u0026\u0026ve[1]!==Ne||pe!==void 0\u0026\u0026ve[2]!==pe)).map(ve=\u003e(rt(ve)?pr(ae,ne,...ve):Hn(ae,ne,...ve),fe.outputs.delete(ve),ve[0]))})(this,ee,D,j,B),Q.length===0)throw f()}for(let ae of Q){let ne=b([this],ae);qr(ne,y)}}})((Nk=g,(l,t,i)=\u003e{let c=[];for(let p=0;p\u003ci.numberOfInputs;p+=1)c.push(new Set);Nk.set(l,{activeInputs:c,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((l,t,i,c,p,f,m,y,b,x,M,w,O)=\u003e(q,X,D,j,B)=\u003e{let{activeInputs:Q,passiveInputs:Z}=f(X),{outputs:ee}=f(q),ae=y(q),ne=ie=\u003e{let Ne=b(X),pe=b(q);if(ie){let fe=te(Z,q,D,j);l(Q,q,fe,!1),B||w(q)||i(pe,Ne,D,j),O(X)\u0026\u0026be(X)}else{let fe=c(Q,q,D,j);t(Z,j,fe,!1),B||w(q)||p(pe,Ne,D,j);let ve=m(X);ve===0?M(X)\u0026\u0026ze(X,Q):setTimeout(()=\u003e{M(X)\u0026\u0026ze(X,Q)},1e3*ve)}};return!!x(ee,[X,D,j],ie=\u003eie[0]===X\u0026\u0026ie[1]===D\u0026\u0026ie[2]===j,!0)\u0026\u0026(ae.add(ne),M(q)?l(Q,q,[D,j,ne],!0):t(Z,j,[q,D,ne],!0),!0)})(H4,Z4,mn,K4,Yn,he,Q4,se,mt,ut,Je,Dn,Lr),hr,((l,t,i,c,p,f)=\u003em=\u003e(y,b)=\u003e{let x=l.get(y);if(x===void 0){if(!m\u0026\u0026f(y)){let M=c(y),{outputs:w}=i(y);for(let O of w)if(rt(O)){let q=c(O[0]);t(M,q,O[1],O[2])}else{let q=p(O[0]);M.disconnect(q,O[1])}}l.set(y,b)}else l.set(y,x+b)})(P,Yn,he,mt,jn,Je),le,hs,Ze,((l,t,i,c,p,f,m,y)=\u003e(b,x)=\u003e{let M=t.get(b);if(M===void 0)throw new Error(\"Missing the expected cycle count.\");let w=f(b.context),O=y(w);if(M===x){if(t.delete(b),!O\u0026\u0026m(b)){let q=c(b),{outputs:X}=i(b);for(let D of X)if(rt(D)){let j=c(D[0]);l(q,j,D[1],D[2])}else{let j=p(D[0]);q.connect(j,D[1])}}}else t.set(b,M-x)})(mn,P,he,mt,jn,Ct,Je,Nt),((l,t,i)=\u003efunction c(p,f){let m=Me(f)?f:i(l,f);if((b=\u003e\"delayTime\"in b)(m))return[];if(p[0]===m)return[p];if(p.includes(m))return[];let{outputs:y}=t(m);return Array.from(y).map(b=\u003ec([...p,m],b[0])).reduce((b,x)=\u003eb.concat(x),[])})(yk,he,$),_k,Ct,Tm,Mm,kk,Nt);var Nk;let e6=((l,t,i,c,p,f)=\u003eclass extends l{constructor(m,y){let b=p(m),x={...$e,...y},M=c(b,x);super(m,!1,M,f(b)?t():null),this._nativeAnalyserNode=M}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(m){this._nativeAnalyserNode.fftSize=m}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(m){let y=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=m,!(m\u003ethis._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=y,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(m){let y=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=m,!(this._nativeAnalyserNode.maxDecibels\u003em))throw this._nativeAnalyserNode.minDecibels=y,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(m){this._nativeAnalyserNode.smoothingTimeConstant=m}getByteFrequencyData(m){this._nativeAnalyserNode.getByteFrequencyData(m)}getByteTimeDomainData(m){this._nativeAnalyserNode.getByteTimeDomainData(m)}getFloatFrequencyData(m){this._nativeAnalyserNode.getFloatFrequencyData(m)}getFloatTimeDomainData(m){this._nativeAnalyserNode.getFloatTimeDomainData(m)}})(Kt,J4,le,lk,Ct,Nt),Pm=new WeakSet,xk=(l=\u003el===null?null:l.hasOwnProperty(\"AudioBuffer\")?l.AudioBuffer:null)(Gr),wk=(Om=new Uint32Array(1),l=\u003e(Om[0]=l,Om[0]));var Om;let Cm=((l,t)=\u003ei=\u003e{i.copyFromChannel=(c,p,f=0)=\u003e{let m=l(f),y=l(p);if(y\u003e=i.numberOfChannels)throw t();let b=i.length,x=i.getChannelData(y),M=c.length;for(let w=m\u003c0?-m:0;w+m\u003cb\u0026\u0026w\u003cM;w+=1)c[w]=x[w+m]},i.copyToChannel=(c,p,f=0)=\u003e{let m=l(f),y=l(p);if(y\u003e=i.numberOfChannels)throw t();let b=i.length,x=i.getChannelData(y),M=c.length;for(let w=m\u003c0?-m:0;w+m\u003cb\u0026\u0026w\u003cM;w+=1)x[w+m]=c[w]}})(wk,le),Am=(l=\u003et=\u003e{t.copyFromChannel=(i=\u003e(c,p,f=0)=\u003e{let m=l(f),y=l(p);if(m\u003ct.length)return i.call(t,c,y,m)})(t.copyFromChannel),t.copyToChannel=(i=\u003e(c,p,f=0)=\u003e{let m=l(f),y=l(p);if(m\u003ct.length)return i.call(t,c,y,m)})(t.copyToChannel)})(wk),t6=((l,t,i,c,p,f,m,y)=\u003e{let b=null;return class VC{constructor(M){if(p===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let{length:w,numberOfChannels:O,sampleRate:q}={...ye,...M};b===null\u0026\u0026(b=new p(1,1,44100));let X=c!==null\u0026\u0026t(f,f)?new c({length:w,numberOfChannels:O,sampleRate:q}):b.createBuffer(O,w,q);if(X.numberOfChannels===0)throw i();return typeof X.copyFromChannel!=\"function\"?(m(X),ue(X)):t(ce,()=\u003ece(X))||y(X),l.add(X),X}static[Symbol.hasInstance](M){return M!==null\u0026\u0026typeof M==\"object\"\u0026\u0026Object.getPrototypeOf(M)===VC.prototype||l.has(M)}}})(Pm,hr,Ze,xk,vn,(Rm=xk,()=\u003e{if(Rm===null)return!1;try{new Rm({length:1,sampleRate:44100})}catch{return!1}return!0}),Cm,Am);var Rm;let Xl=(qk=z,(l,t)=\u003e{let i=qk(l,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});t.connect(i).connect(l.destination);let c=()=\u003e{t.removeEventListener(\"ended\",c),t.disconnect(i),i.disconnect()};t.addEventListener(\"ended\",c)});var qk;let Tk=((l,t,i)=\u003easync(c,p,f,m)=\u003e{let y=t(c);await Promise.all(Array.from(y.activeInputs).map(async([b,x])=\u003e{let M=l(b),w=await M.render(b,p,m);i(b)||w.connect(f,x)}))})(wm,ke,Dn),ua=(l=\u003e(t,i,c,p)=\u003el(i,t,c,p))(Tk),eo=((l,t,i,c,p,f,m,y,b,x,M)=\u003e(w,O)=\u003e{let q=w.createBufferSource();return Zt(q,O),Ft(q,O,\"playbackRate\"),_t(q,O,\"buffer\"),_t(q,O,\"loop\"),_t(q,O,\"loopEnd\"),_t(q,O,\"loopStart\"),t(i,()=\u003ei(w))||(X=\u003e{X.start=(D=\u003e{let j=!1;return(B=0,Q=0,Z)=\u003e{if(j)throw It();D.call(X,B,Q,Z),j=!0}})(X.start)})(q),t(c,()=\u003ec(w))||b(q),t(p,()=\u003ep(w))||x(q,w),t(f,()=\u003ef(w))||Zi(q),t(m,()=\u003em(w))||M(q,w),t(y,()=\u003ey(w))||Dc(q),l(w,q),q})(Xl,hr,l=\u003e{let t=l.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},l=\u003e{let t=l.createBufferSource(),i=l.createBuffer(1,1,44100);t.buffer=i;try{t.start(0,1)}catch{return!1}return!0},l=\u003e{let t=l.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},Nm,ik,xm,l=\u003e{var t;l.start=(t=l.start,(i=0,c=0,p)=\u003e{let f=l.buffer,m=f===null?c:Math.min(f.duration,c);f!==null\u0026\u0026m\u003ef.duration-.5/l.context.sampleRate?t.call(l,i,0,0):t.call(l,i,m,p)})},(Sk=Tr,(l,t)=\u003e{let i=t.createBuffer(1,1,44100);l.buffer===null\u0026\u0026(l.buffer=i),Sk(l,\"buffer\",c=\u003e()=\u003e{let p=c.call(l);return p===i?null:p},c=\u003ep=\u003ec.call(l,p===null?i:p))}),ok);var Sk;let la=((l,t)=\u003e(i,c,p,f)=\u003e(l(c).replay(p),t(c,i,p,f)))((l=\u003et=\u003e{let i=l(t);if(i.renderer===null)throw new Error(\"Missing the renderer of the given AudioParam in the audio graph.\");return i.renderer})(ke),Tk),n6=((l,t,i,c,p)=\u003e()=\u003e{let f=new WeakMap,m=null,y=null;return{set start(b){m=b},set stop(b){y=b},render(b,x,M){let w=f.get(x);return w!==void 0?Promise.resolve(w):(async(O,q,X)=\u003e{let D=i(O),j=Y(D,q);if(!j){let B={buffer:D.buffer,channelCount:D.channelCount,channelCountMode:D.channelCountMode,channelInterpretation:D.channelInterpretation,loop:D.loop,loopEnd:D.loopEnd,loopStart:D.loopStart,playbackRate:D.playbackRate.value};D=t(q,B),m!==null\u0026\u0026D.start(...m),y!==null\u0026\u0026D.stop(y)}return f.set(q,D),j?await l(q,O.playbackRate,D.playbackRate,X):await c(q,O.playbackRate,D.playbackRate,X),await p(O,q,D,X),D})(b,x,M)}}})(ua,eo,mt,la,qn),Ur=((l,t,i,c,p,f,m,y,b,x,M,w,O)=\u003e(q,X,D,j=null,B=null)=\u003e{let Q=new h.AutomationEventList(D.defaultValue),Z=X?c(Q):null,ee={get defaultValue(){return D.defaultValue},get maxValue(){return j===null?D.maxValue:j},get minValue(){return B===null?D.minValue:B},get value(){return D.value},set value(ae){D.value=ae,ee.setValueAtTime(ae,q.context.currentTime)},cancelAndHoldAtTime(ae){if(typeof D.cancelAndHoldAtTime==\"function\")Z===null\u0026\u0026Q.flush(q.context.currentTime),Q.add(p(ae)),D.cancelAndHoldAtTime(ae);else{let ne=Array.from(Q).pop();Z===null\u0026\u0026Q.flush(q.context.currentTime),Q.add(p(ae));let ie=Array.from(Q).pop();D.cancelScheduledValues(ae),ne!==ie\u0026\u0026ie!==void 0\u0026\u0026(ie.type===\"exponentialRampToValue\"?D.exponentialRampToValueAtTime(ie.value,ie.endTime):ie.type===\"linearRampToValue\"?D.linearRampToValueAtTime(ie.value,ie.endTime):ie.type===\"setValue\"?D.setValueAtTime(ie.value,ie.startTime):ie.type===\"setValueCurve\"\u0026\u0026D.setValueCurveAtTime(ie.values,ie.startTime,ie.duration))}return ee},cancelScheduledValues:ae=\u003e(Z===null\u0026\u0026Q.flush(q.context.currentTime),Q.add(f(ae)),D.cancelScheduledValues(ae),ee),exponentialRampToValueAtTime(ae,ne){if(ae===0)throw new RangeError;if(!Number.isFinite(ne)||ne\u003c0)throw new RangeError;return Z===null\u0026\u0026Q.flush(q.context.currentTime),Q.add(m(ae,ne)),D.exponentialRampToValueAtTime(ae,ne),ee},linearRampToValueAtTime:(ae,ne)=\u003e(Z===null\u0026\u0026Q.flush(q.context.currentTime),Q.add(y(ae,ne)),D.linearRampToValueAtTime(ae,ne),ee),setTargetAtTime:(ae,ne,ie)=\u003e(Z===null\u0026\u0026Q.flush(q.context.currentTime),Q.add(b(ae,ne,ie)),D.setTargetAtTime(ae,ne,ie),ee),setValueAtTime:(ae,ne)=\u003e(Z===null\u0026\u0026Q.flush(q.context.currentTime),Q.add(x(ae,ne)),D.setValueAtTime(ae,ne),ee),setValueCurveAtTime(ae,ne,ie){let Ne=ae instanceof Float32Array?ae:new Float32Array(ae);if(w!==null\u0026\u0026w.name===\"webkitAudioContext\"){let pe=ne+ie,fe=q.context.sampleRate,ve=Math.ceil(ne*fe),Te=Math.floor(pe*fe),Le=Te-ve,pt=new Float32Array(Le);for(let Qe=0;Qe\u003cLe;Qe+=1){let it=(Ne.length-1)/ie*((ve+Qe)/fe-ne),He=Math.floor(it),at=Math.ceil(it);pt[Qe]=He===at?Ne[He]:(1-(it-He))*Ne[He]+(1-(at-it))*Ne[at]}Z===null\u0026\u0026Q.flush(q.context.currentTime),Q.add(M(pt,ne,ie)),D.setValueCurveAtTime(pt,ne,ie);let De=Te/fe;De\u003cpe\u0026\u0026O(ee,pt[pt.length-1],De),O(ee,Ne[Ne.length-1],pe)}else Z===null\u0026\u0026Q.flush(q.context.currentTime),Q.add(M(Ne,ne,ie)),D.setValueCurveAtTime(Ne,ne,ie);return ee}};return i.set(ee,D),t.set(ee,q),l(ee,Z),ee})((Mk=N,(l,t)=\u003e{Mk.set(l,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),yk,k,l=\u003e({replay(t){for(let i of l)if(i.type===\"exponentialRampToValue\"){let{endTime:c,value:p}=i;t.exponentialRampToValueAtTime(p,c)}else if(i.type===\"linearRampToValue\"){let{endTime:c,value:p}=i;t.linearRampToValueAtTime(p,c)}else if(i.type===\"setTarget\"){let{startTime:c,target:p,timeConstant:f}=i;t.setTargetAtTime(p,c,f)}else if(i.type===\"setValue\"){let{startTime:c,value:p}=i;t.setValueAtTime(p,c)}else{if(i.type!==\"setValueCurve\")throw new Error(\"Can't apply an unknown automation.\");{let{duration:c,startTime:p,values:f}=i;t.setValueCurveAtTime(f,p,c)}}}}),h.createCancelAndHoldAutomationEvent,h.createCancelScheduledValuesAutomationEvent,h.createExponentialRampToValueAutomationEvent,h.createLinearRampToValueAutomationEvent,h.createSetTargetAutomationEvent,h.createSetValueAutomationEvent,h.createSetValueCurveAutomationEvent,Ea,sk);var Mk;let r6=((l,t,i,c,p,f,m,y)=\u003eclass extends l{constructor(b,x){let M=f(b),w={...ft,...x},O=p(M,w),q=m(M),X=q?t():null;super(b,!1,O,X),this._audioBufferSourceNodeRenderer=X,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=O,this._onended=null,this._playbackRate=i(this,q,O.playbackRate,je,me)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(b){if(this._nativeAudioBufferSourceNode.buffer=b,b!==null){if(this._isBufferSet)throw c();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(b){this._nativeAudioBufferSourceNode.loop=b}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(b){this._nativeAudioBufferSourceNode.loopEnd=b}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(b){this._nativeAudioBufferSourceNode.loopStart=b}get onended(){return this._onended}set onended(b){let x=typeof b==\"function\"?y(this,b):null;this._nativeAudioBufferSourceNode.onended=x;let M=this._nativeAudioBufferSourceNode.onended;this._onended=M!==null\u0026\u0026M===x?b:M}get playbackRate(){return this._playbackRate}start(b=0,x=0,M){if(this._nativeAudioBufferSourceNode.start(b,x,M),this._audioBufferSourceNodeRenderer!==null\u0026\u0026(this._audioBufferSourceNodeRenderer.start=M===void 0?[b,x]:[b,x,M]),this.context.state!==\"closed\"){be(this);let w=()=\u003e{this._nativeAudioBufferSourceNode.removeEventListener(\"ended\",w),Je(this)\u0026\u0026Ae(this)};this._nativeAudioBufferSourceNode.addEventListener(\"ended\",w)}}stop(b=0){this._nativeAudioBufferSourceNode.stop(b),this._audioBufferSourceNodeRenderer!==null\u0026\u0026(this._audioBufferSourceNodeRenderer.stop=b)}})(Kt,n6,Ur,It,eo,Ct,Nt,Ji),a6=((l,t,i,c,p,f,m,y)=\u003eclass extends l{constructor(b,x){let M=f(b),w=m(M),O=p(M,x,w);super(b,!1,O,w?t(y):null),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=O}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(b){if(this._isNodeOfNativeOfflineAudioContext)throw c();if(b\u003ethis._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=b}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(b){if(this._isNodeOfNativeOfflineAudioContext)throw c();this._nativeAudioDestinationNode.channelCountMode=b}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Kt,l=\u003e{let t=null;return{render:(i,c,p)=\u003e(t===null\u0026\u0026(t=(async(f,m,y)=\u003e{let b=m.destination;return await l(f,m,b,y),b})(i,c,p)),t)}},le,It,((l,t)=\u003e(i,c,p)=\u003e{let f=i.destination;if(f.channelCount!==c)try{f.channelCount=c}catch{}p\u0026\u0026f.channelCountMode!==\"explicit\"\u0026\u0026(f.channelCountMode=\"explicit\"),f.maxChannelCount===0\u0026\u0026Object.defineProperty(f,\"maxChannelCount\",{value:c});let m=l(i,{channelCount:c,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});return t(m,\"channelCount\",y=\u003e()=\u003ey.call(m),y=\u003eb=\u003e{y.call(m,b);try{f.channelCount=b}catch(x){if(b\u003ef.maxChannelCount)throw x}}),t(m,\"channelCountMode\",y=\u003e()=\u003ey.call(m),y=\u003eb=\u003e{y.call(m,b),f.channelCountMode=b}),t(m,\"channelInterpretation\",y=\u003e()=\u003ey.call(m),y=\u003eb=\u003e{y.call(m,b),f.channelInterpretation=b}),Object.defineProperty(m,\"maxChannelCount\",{get:()=\u003ef.maxChannelCount}),m.connect(f),m})(z,Tr),Ct,Nt,qn),s6=((l,t,i,c,p)=\u003e()=\u003e{let f=new WeakMap;return{render(m,y,b){let x=f.get(y);return x!==void 0?Promise.resolve(x):(async(M,w,O)=\u003e{let q=i(M),X=Y(q,w);if(!X){let D={Q:q.Q.value,channelCount:q.channelCount,channelCountMode:q.channelCountMode,channelInterpretation:q.channelInterpretation,detune:q.detune.value,frequency:q.frequency.value,gain:q.gain.value,type:q.type};q=t(w,D)}return f.set(w,q),X?(await l(w,M.Q,q.Q,O),await l(w,M.detune,q.detune,O),await l(w,M.frequency,q.frequency,O),await l(w,M.gain,q.gain,O)):(await c(w,M.Q,q.Q,O),await c(w,M.detune,q.detune,O),await c(w,M.frequency,q.frequency,O),await c(w,M.gain,q.gain,O)),await p(M,w,q,O),q})(m,y,b)}}})(ua,A,mt,la,qn),ri=(l=\u003e(t,i)=\u003el.set(t,i))(uk),i6=(Pk=Kt,Fc=Ur,Ok=s6,Em=hs,Ck=A,Ak=Ct,Rk=Nt,Ek=ri,class extends Pk{constructor(l,t){let i=Ak(l),c={...os,...t},p=Ck(i,c),f=Rk(i);super(l,!1,p,f?Ok():null),this._Q=Fc(this,f,p.Q,je,me),this._detune=Fc(this,f,p.detune,1200*Math.log2(je),-1200*Math.log2(je)),this._frequency=Fc(this,f,p.frequency,l.sampleRate/2,0),this._gain=Fc(this,f,p.gain,40*Math.log10(je),me),this._nativeBiquadFilterNode=p,Ek(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,t,i){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,t,i)}catch(c){throw c.code===11?Em():c}if(l.length!==t.length||t.length!==i.length)throw Em()}});var Pk,Fc,Ok,Em,Ck,Ak,Rk,Ek;let ds=((l,t)=\u003e(i,c,p)=\u003e{let f=new Set;var m,y;return i.connect=(m=i.connect,(b,x=0,M=0)=\u003e{let w=f.size===0;if(t(b))return m.call(i,b,x,M),l(f,[b,x,M],O=\u003eO[0]===b\u0026\u0026O[1]===x\u0026\u0026O[2]===M,!0),w\u0026\u0026c(),b;m.call(i,b,x),l(f,[b,x],O=\u003eO[0]===b\u0026\u0026O[1]===x,!0),w\u0026\u0026c()}),i.disconnect=(y=i.disconnect,(b,x,M)=\u003e{let w=f.size\u003e0;if(b===void 0)y.apply(i),f.clear();else if(typeof b==\"number\"){y.call(i,b);for(let q of f)q[1]===b\u0026\u0026f.delete(q)}else{t(b)?y.call(i,b,x,M):y.call(i,b,x);for(let q of f)q[0]!==b||x!==void 0\u0026\u0026q[1]!==x||M!==void 0\u0026\u0026q[2]!==M||f.delete(q)}let O=f.size===0;w\u0026\u0026O\u0026\u0026p()}),i})(ut,Mm),o6=(jm=It,jk=ds,(l,t)=\u003e{t.channelCount=1,t.channelCountMode=\"explicit\",Object.defineProperty(t,\"channelCount\",{get:()=\u003e1,set:()=\u003e{throw jm()}}),Object.defineProperty(t,\"channelCountMode\",{get:()=\u003e\"explicit\",set:()=\u003e{throw jm()}});let i=l.createBufferSource();jk(t,()=\u003e{let c=t.numberOfInputs;for(let p=0;p\u003cc;p+=1)i.connect(t,0,p)},()=\u003ei.disconnect(t))});var jm,jk;let fs=((l,t)=\u003e(i,c)=\u003e{let p=i.createChannelMerger(c.numberOfInputs);return l!==null\u0026\u0026l.name===\"webkitAudioContext\"\u0026\u0026t(i,p),Zt(p,c),p})(Ea,o6),c6=((l,t,i,c,p)=\u003eclass extends l{constructor(f,m){let y=c(f),b={...Xe,...m};super(f,!1,i(y,b),p(y)?t():null)}})(Kt,((l,t,i)=\u003e()=\u003e{let c=new WeakMap;return{render(p,f,m){let y=c.get(f);return y!==void 0?Promise.resolve(y):(async(b,x,M)=\u003e{let w=t(b);if(!Y(w,x)){let O={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,numberOfInputs:w.numberOfInputs};w=l(x,O)}return c.set(x,w),await i(b,x,w,M),w})(p,f,m)}}})(fs,mt,qn),fs,Ct,Nt),u6=((l,t,i,c,p,f)=\u003eclass extends l{constructor(m,y){let b=c(m),x=f({...Br,...y});super(m,!1,i(b,x),p(b)?t():null)}})(Kt,((l,t,i)=\u003e()=\u003e{let c=new WeakMap;return{render(p,f,m){let y=c.get(f);return y!==void 0?Promise.resolve(y):(async(b,x,M)=\u003e{let w=t(b);if(!Y(w,x)){let O={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,numberOfOutputs:w.numberOfOutputs};w=l(x,O)}return c.set(x,w),await i(b,x,w,M),w})(p,f,m)}}})(E,mt,qn),E,Ct,Nt,l=\u003e({...l,channelCount:l.numberOfOutputs})),l6=((l,t,i,c)=\u003e(p,{offset:f,...m})=\u003e{let y=p.createBuffer(1,2,44100),b=t(p,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),x=i(p,{...m,gain:f}),M=y.getChannelData(0);M[0]=1,M[1]=1,b.buffer=y,b.loop=!0;let w={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(O){x.channelCount=O},get channelCountMode(){return x.channelCountMode},set channelCountMode(O){x.channelCountMode=O},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(O){x.channelInterpretation=O},get context(){return x.context},get inputs(){return[]},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get offset(){return x.gain},get onended(){return b.onended},set onended(O){b.onended=O},addEventListener:(...O)=\u003eb.addEventListener(O[0],O[1],O[2]),dispatchEvent:(...O)=\u003eb.dispatchEvent(O[0]),removeEventListener:(...O)=\u003eb.removeEventListener(O[0],O[1],O[2]),start(O=0){b.start.call(b,O)},stop(O=0){b.stop.call(b,O)}};return l(p,b),c(F(w,x),()=\u003eb.connect(x),()=\u003eb.disconnect(x))})(Xl,eo,z,ds),to=((l,t,i,c,p)=\u003e(f,m)=\u003e{if(f.createConstantSource===void 0)return i(f,m);let y=f.createConstantSource();return Zt(y,m),Ft(y,m,\"offset\"),t(c,()=\u003ec(f))||Zi(y),t(p,()=\u003ep(f))||Dc(y),l(f,y),y})(Xl,hr,l6,Nm,xm),p6=((l,t,i,c,p,f,m)=\u003eclass extends l{constructor(y,b){let x=p(y),M={...ca,...b},w=c(x,M),O=f(x),q=O?i():null;super(y,!1,w,q),this._constantSourceNodeRenderer=q,this._nativeConstantSourceNode=w,this._offset=t(this,O,w.offset,je,me),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(y){let b=typeof y==\"function\"?m(this,y):null;this._nativeConstantSourceNode.onended=b;let x=this._nativeConstantSourceNode.onended;this._onended=x!==null\u0026\u0026x===b?y:x}start(y=0){if(this._nativeConstantSourceNode.start(y),this._constantSourceNodeRenderer!==null\u0026\u0026(this._constantSourceNodeRenderer.start=y),this.context.state!==\"closed\"){be(this);let b=()=\u003e{this._nativeConstantSourceNode.removeEventListener(\"ended\",b),Je(this)\u0026\u0026Ae(this)};this._nativeConstantSourceNode.addEventListener(\"ended\",b)}}stop(y=0){this._nativeConstantSourceNode.stop(y),this._constantSourceNodeRenderer!==null\u0026\u0026(this._constantSourceNodeRenderer.stop=y)}})(Kt,Ur,((l,t,i,c,p)=\u003e()=\u003e{let f=new WeakMap,m=null,y=null;return{set start(b){m=b},set stop(b){y=b},render(b,x,M){let w=f.get(x);return w!==void 0?Promise.resolve(w):(async(O,q,X)=\u003e{let D=i(O),j=Y(D,q);if(!j){let B={channelCount:D.channelCount,channelCountMode:D.channelCountMode,channelInterpretation:D.channelInterpretation,offset:D.offset.value};D=t(q,B),m!==null\u0026\u0026D.start(m),y!==null\u0026\u0026D.stop(y)}return f.set(q,D),j?await l(q,O.offset,D.offset,X):await c(q,O.offset,D.offset,X),await p(O,q,D,X),D})(b,x,M)}}})(ua,to,mt,la,qn),to,Ct,Nt,Ji),Dk=((l,t)=\u003e(i,c)=\u003e{let p=i.createConvolver();if(Zt(p,c),c.disableNormalization===p.normalize\u0026\u0026(p.normalize=!c.disableNormalization),_t(p,c,\"buffer\"),c.channelCount\u003e2||(t(p,\"channelCount\",f=\u003e()=\u003ef.call(p),f=\u003em=\u003e{if(m\u003e2)throw l();return f.call(p,m)}),c.channelCountMode===\"max\"))throw l();return t(p,\"channelCountMode\",f=\u003e()=\u003ef.call(p),f=\u003em=\u003e{if(m===\"max\")throw l();return f.call(p,m)}),p})(Ze,Tr),h6=((l,t,i,c,p,f)=\u003eclass extends l{constructor(m,y){let b=c(m),x={...cs,...y},M=i(b,x);super(m,!1,M,p(b)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=M,x.buffer!==null\u0026\u0026f(this,x.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(m){if(this._nativeConvolverNode.buffer=m,m===null\u0026\u0026this._nativeConvolverNode.buffer!==null){let y=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=y.createBuffer(1,1,44100),this._isBufferNullified=!0,f(this,0)}else this._isBufferNullified=!1,f(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(m){this._nativeConvolverNode.normalize=m}})(Kt,((l,t,i)=\u003e()=\u003e{let c=new WeakMap;return{render(p,f,m){let y=c.get(f);return y!==void 0?Promise.resolve(y):(async(b,x,M)=\u003e{let w=t(b);if(!Y(w,x)){let O={buffer:w.buffer,channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,disableNormalization:!w.normalize};w=l(x,O)}return c.set(x,w),Ot(w)?await i(b,x,w.inputs[0],M):await i(b,x,w,M),w})(p,f,m)}}})(Dk,mt,qn),Dk,Ct,Nt,ri),d6=((l,t,i,c,p,f,m)=\u003eclass extends l{constructor(y,b){let x=p(y),M={...us,...b},w=c(x,M),O=f(x);super(y,!1,w,O?i(M.maxDelayTime):null),this._delayTime=t(this,O,w.delayTime),m(this,M.maxDelayTime)}get delayTime(){return this._delayTime}})(Kt,Ur,((l,t,i,c,p)=\u003ef=\u003e{let m=new WeakMap;return{render(y,b,x){let M=m.get(b);return M!==void 0?Promise.resolve(M):(async(w,O,q)=\u003e{let X=i(w),D=Y(X,O);if(!D){let j={channelCount:X.channelCount,channelCountMode:X.channelCountMode,channelInterpretation:X.channelInterpretation,delayTime:X.delayTime.value,maxDelayTime:f};X=t(O,j)}return m.set(O,X),D?await l(O,w.delayTime,X.delayTime,q):await c(O,w.delayTime,X.delayTime,q),await p(w,O,X,q),X})(y,b,x)}}})(ua,I,mt,la,qn),I,Ct,Nt,ri),Ik=(Dm=Ze,(l,t)=\u003e{let i=l.createDynamicsCompressor();if(Zt(i,t),t.channelCount\u003e2||t.channelCountMode===\"max\")throw Dm();return Ft(i,t,\"attack\"),Ft(i,t,\"knee\"),Ft(i,t,\"ratio\"),Ft(i,t,\"release\"),Ft(i,t,\"threshold\"),i});var Dm;let f6=((l,t,i,c,p,f,m,y)=\u003eclass extends l{constructor(b,x){let M=f(b),w={...Yi,...x},O=c(M,w),q=m(M);super(b,!1,O,q?i():null),this._attack=t(this,q,O.attack),this._knee=t(this,q,O.knee),this._nativeDynamicsCompressorNode=O,this._ratio=t(this,q,O.ratio),this._release=t(this,q,O.release),this._threshold=t(this,q,O.threshold),y(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(b){let x=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=b,b\u003e2)throw this._nativeDynamicsCompressorNode.channelCount=x,p()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(b){let x=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=b,b===\"max\")throw this._nativeDynamicsCompressorNode.channelCountMode=x,p()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value==\"number\"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Kt,Ur,((l,t,i,c,p)=\u003e()=\u003e{let f=new WeakMap;return{render(m,y,b){let x=f.get(y);return x!==void 0?Promise.resolve(x):(async(M,w,O)=\u003e{let q=i(M),X=Y(q,w);if(!X){let D={attack:q.attack.value,channelCount:q.channelCount,channelCountMode:q.channelCountMode,channelInterpretation:q.channelInterpretation,knee:q.knee.value,ratio:q.ratio.value,release:q.release.value,threshold:q.threshold.value};q=t(w,D)}return f.set(w,q),X?(await l(w,M.attack,q.attack,O),await l(w,M.knee,q.knee,O),await l(w,M.ratio,q.ratio,O),await l(w,M.release,q.release,O),await l(w,M.threshold,q.threshold,O)):(await c(w,M.attack,q.attack,O),await c(w,M.knee,q.knee,O),await c(w,M.ratio,q.ratio,O),await c(w,M.release,q.release,O),await c(w,M.threshold,q.threshold,O)),await p(M,w,q,O),q})(m,y,b)}}})(ua,Ik,mt,la,qn),Ik,Ze,Ct,Nt,ri),m6=((l,t,i,c,p,f)=\u003eclass extends l{constructor(m,y){let b=p(m),x={...ps,...y},M=c(b,x),w=f(b);super(m,!1,M,w?i():null),this._gain=t(this,w,M.gain,je,me)}get gain(){return this._gain}})(Kt,Ur,((l,t,i,c,p)=\u003e()=\u003e{let f=new WeakMap;return{render(m,y,b){let x=f.get(y);return x!==void 0?Promise.resolve(x):(async(M,w,O)=\u003e{let q=i(M),X=Y(q,w);if(!X){let D={channelCount:q.channelCount,channelCountMode:q.channelCountMode,channelInterpretation:q.channelInterpretation,gain:q.gain.value};q=t(w,D)}return f.set(w,q),X?await l(w,M.gain,q.gain,O):await c(w,M.gain,q.gain,O),await p(M,w,q,O),q})(m,y,b)}}})(ua,z,mt,la,qn),z,Ct,Nt),v6=((l,t,i,c)=\u003e(p,f,{channelCount:m,channelCountMode:y,channelInterpretation:b,feedback:x,feedforward:M})=\u003e{let w=Ul(f,p.sampleRate),O=x instanceof Float64Array?x:new Float64Array(x),q=M instanceof Float64Array?M:new Float64Array(M),X=O.length,D=q.length,j=Math.min(X,D);if(X===0||X\u003e20)throw c();if(O[0]===0)throw t();if(D===0||D\u003e20)throw c();if(q[0]===0)throw t();if(O[0]!==1){for(let ne=0;ne\u003cD;ne+=1)q[ne]/=O[0];for(let ne=1;ne\u003cX;ne+=1)O[ne]/=O[0]}let B=i(p,w,m,m);B.channelCount=m,B.channelCountMode=y,B.channelInterpretation=b;let Q=[],Z=[],ee=[];for(let ne=0;ne\u003cm;ne+=1){Q.push(0);let ie=new Float32Array(32),Ne=new Float32Array(32);ie.fill(0),Ne.fill(0),Z.push(ie),ee.push(Ne)}B.onaudioprocess=ne=\u003e{let ie=ne.inputBuffer,Ne=ne.outputBuffer,pe=ie.numberOfChannels;for(let fe=0;fe\u003cpe;fe+=1){let ve=ie.getChannelData(fe),Te=Ne.getChannelData(fe);Q[fe]=Hi(O,X,q,D,j,Z[fe],ee[fe],Q[fe],32,ve,Te)}};let ae=p.sampleRate/2;return F({get bufferSize(){return w},get channelCount(){return B.channelCount},set channelCount(ne){B.channelCount=ne},get channelCountMode(){return B.channelCountMode},set channelCountMode(ne){B.channelCountMode=ne},get channelInterpretation(){return B.channelInterpretation},set channelInterpretation(ne){B.channelInterpretation=ne},get context(){return B.context},get inputs(){return[B]},get numberOfInputs(){return B.numberOfInputs},get numberOfOutputs(){return B.numberOfOutputs},addEventListener:(...ne)=\u003eB.addEventListener(ne[0],ne[1],ne[2]),dispatchEvent:(...ne)=\u003eB.dispatchEvent(ne[0]),getFrequencyResponse(ne,ie,Ne){if(ne.length!==ie.length||ie.length!==Ne.length)throw l();let pe=ne.length;for(let fe=0;fe\u003cpe;fe+=1){let ve=-Math.PI*(ne[fe]/ae),Te=[Math.cos(ve),Math.sin(ve)],Le=_e(qe(q,Te),qe(O,Te));ie[fe]=Math.sqrt(Le[0]*Le[0]+Le[1]*Le[1]),Ne[fe]=Math.atan2(Le[1],Le[0])}},removeEventListener:(...ne)=\u003eB.removeEventListener(ne[0],ne[1],ne[2])},B)})(hs,It,Ue,Ze),Yl=((l,t,i,c)=\u003ep=\u003el(zt,()=\u003ezt(p))?Promise.resolve(l(c,c)).then(f=\u003e{if(!f){let m=i(p,512,0,1);p.oncomplete=()=\u003e{m.onaudioprocess=null,m.disconnect()},m.onaudioprocess=()=\u003ep.currentTime,m.connect(p.destination)}return p.startRendering()}):new Promise(f=\u003e{let m=t(p,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});p.oncomplete=y=\u003e{m.disconnect(),f(y.renderedBuffer)},m.connect(p.destination),p.startRendering()}))(hr,z,Ue,((l,t)=\u003e()=\u003e{if(t===null)return Promise.resolve(!1);let i=new t(1,1,44100),c=l(i,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});return new Promise(p=\u003e{i.oncomplete=()=\u003e{c.disconnect(),p(i.currentTime!==0)},i.startRendering()})})(z,vn)),g6=((l,t,i,c,p)=\u003e(f,m)=\u003e{let y=new WeakMap,b=null,x=async(M,w,O)=\u003e{let q=null,X=t(M),D=Y(X,w);if(w.createIIRFilter===void 0?q=l(w,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):D||(X=w.createIIRFilter(m,f)),y.set(w,q===null?X:q),q!==null){if(b===null){if(i===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let B=new i(M.context.destination.channelCount,M.context.length,w.sampleRate);b=(async()=\u003e(await c(M,B,B.destination,O),((Q,Z,ee,ae)=\u003e{let ne=ee instanceof Float64Array?ee:new Float64Array(ee),ie=ae instanceof Float64Array?ae:new Float64Array(ae),Ne=ne.length,pe=ie.length,fe=Math.min(Ne,pe);if(ne[0]!==1){for(let De=0;De\u003cNe;De+=1)ie[De]/=ne[0];for(let De=1;De\u003cpe;De+=1)ne[De]/=ne[0]}let ve=new Float32Array(32),Te=new Float32Array(32),Le=Z.createBuffer(Q.numberOfChannels,Q.length,Q.sampleRate),pt=Q.numberOfChannels;for(let De=0;De\u003cpt;De+=1){let Qe=Q.getChannelData(De),it=Le.getChannelData(De);ve.fill(0),Te.fill(0),Hi(ne,Ne,ie,pe,fe,ve,Te,0,32,Qe,it)}return Le})(await p(B),w,f,m)))()}let j=await b;return q.buffer=j,q.start(0),q}return await c(M,w,X,O),X};return{render(M,w,O){let q=y.get(w);return q!==void 0?Promise.resolve(q):x(M,w,O)}}})(eo,mt,vn,qn,Yl);var Fk;let y6=((l,t,i,c,p,f)=\u003eclass extends l{constructor(m,y){let b=c(m),x=p(b),M={...jc,...y},w=t(b,x?null:m.baseLatency,M);super(m,!1,w,x?i(M.feedback,M.feedforward):null),(O=\u003e{var q;O.getFrequencyResponse=(q=O.getFrequencyResponse,(X,D,j)=\u003e{if(X.length!==D.length||D.length!==j.length)throw hs();return q.call(O,X,D,j)})})(w),this._nativeIIRFilterNode=w,f(this,1)}getFrequencyResponse(m,y,b){return this._nativeIIRFilterNode.getFrequencyResponse(m,y,b)}})(Kt,(Fk=v6,(l,t,i)=\u003e{if(l.createIIRFilter===void 0)return Fk(l,t,i);let c=l.createIIRFilter(i.feedforward,i.feedback);return Zt(c,i),c}),g6,Ct,Nt,ri),_6=((l,t,i,c,p)=\u003e(f,m)=\u003e{let y=m.listener,{forwardX:b,forwardY:x,forwardZ:M,positionX:w,positionY:O,positionZ:q,upX:X,upY:D,upZ:j}=y.forwardX===void 0?(()=\u003e{let B=t(m,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:9}),Q=p(m),Z=c(m,256,9,0),ee=(ie,Ne)=\u003e{let pe=i(m,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:Ne});return pe.connect(B,0,ie),pe.start(),Object.defineProperty(pe.offset,\"defaultValue\",{get:()=\u003eNe}),l({context:f},Q,pe.offset,je,me)},ae=[0,0,-1,0,1,0],ne=[0,0,0];return Z.onaudioprocess=({inputBuffer:ie})=\u003e{let Ne=[ie.getChannelData(0)[0],ie.getChannelData(1)[0],ie.getChannelData(2)[0],ie.getChannelData(3)[0],ie.getChannelData(4)[0],ie.getChannelData(5)[0]];Ne.some((fe,ve)=\u003efe!==ae[ve])\u0026\u0026(y.setOrientation(...Ne),ae=Ne);let pe=[ie.getChannelData(6)[0],ie.getChannelData(7)[0],ie.getChannelData(8)[0]];pe.some((fe,ve)=\u003efe!==ne[ve])\u0026\u0026(y.setPosition(...pe),ne=pe)},B.connect(Z),{forwardX:ee(0,0),forwardY:ee(1,0),forwardZ:ee(2,-1),positionX:ee(6,0),positionY:ee(7,0),positionZ:ee(8,0),upX:ee(3,0),upY:ee(4,1),upZ:ee(5,0)}})():y;return{get forwardX(){return b},get forwardY(){return x},get forwardZ(){return M},get positionX(){return w},get positionY(){return O},get positionZ(){return q},get upX(){return X},get upY(){return D},get upZ(){return j}}})(Ur,fs,to,Ue,Nt),Vk=new WeakMap,Im=((l,t,i,c,p,f)=\u003eclass extends i{constructor(m,y){super(m),this._nativeContext=m,T.set(this,m),c(m)\u0026\u0026p.set(m,new Set),this._destination=new l(this,y),this._listener=t(this,m),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(m){let y=typeof m==\"function\"?f(this,m):null;this._nativeContext.onstatechange=y;let b=this._nativeContext.onstatechange;this._onstatechange=b!==null\u0026\u0026b===y?m:b}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(a6,_6,_k,Nt,Vk,Ji),Lk=((l,t,i,c,p,f)=\u003e(m,y)=\u003e{let b=m.createOscillator();return Zt(b,y),Ft(b,y,\"detune\"),Ft(b,y,\"frequency\"),y.periodicWave!==void 0?b.setPeriodicWave(y.periodicWave):_t(b,y,\"type\"),t(i,()=\u003ei(m))||Zi(b),t(c,()=\u003ec(m))||f(b,m),t(p,()=\u003ep(m))||Dc(b),l(m,b),b})(Xl,hr,Nm,ik,xm,ok),b6=((l,t,i,c,p,f,m)=\u003eclass extends l{constructor(y,b){let x=p(y),M={...qt,...b},w=i(x,M),O=f(x),q=O?c():null,X=y.sampleRate/2;super(y,!1,w,q),this._detune=t(this,O,w.detune,153600,-153600),this._frequency=t(this,O,w.frequency,X,-X),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=q,this._oscillatorNodeRenderer!==null\u0026\u0026M.periodicWave!==void 0\u0026\u0026(this._oscillatorNodeRenderer.periodicWave=M.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(y){let b=typeof y==\"function\"?m(this,y):null;this._nativeOscillatorNode.onended=b;let x=this._nativeOscillatorNode.onended;this._onended=x!==null\u0026\u0026x===b?y:x}get type(){return this._nativeOscillatorNode.type}set type(y){this._nativeOscillatorNode.type=y,this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(y){this._nativeOscillatorNode.setPeriodicWave(y),this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.periodicWave=y)}start(y=0){if(this._nativeOscillatorNode.start(y),this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.start=y),this.context.state!==\"closed\"){be(this);let b=()=\u003e{this._nativeOscillatorNode.removeEventListener(\"ended\",b),Je(this)\u0026\u0026Ae(this)};this._nativeOscillatorNode.addEventListener(\"ended\",b)}}stop(y=0){this._nativeOscillatorNode.stop(y),this._oscillatorNodeRenderer!==null\u0026\u0026(this._oscillatorNodeRenderer.stop=y)}})(Kt,Ur,Lk,((l,t,i,c,p)=\u003e()=\u003e{let f=new WeakMap,m=null,y=null,b=null;return{set periodicWave(x){m=x},set start(x){y=x},set stop(x){b=x},render(x,M,w){let O=f.get(M);return O!==void 0?Promise.resolve(O):(async(q,X,D)=\u003e{let j=i(q),B=Y(j,X);if(!B){let Q={channelCount:j.channelCount,channelCountMode:j.channelCountMode,channelInterpretation:j.channelInterpretation,detune:j.detune.value,frequency:j.frequency.value,periodicWave:m===null?void 0:m,type:j.type};j=t(X,Q),y!==null\u0026\u0026j.start(y),b!==null\u0026\u0026j.stop(b)}return f.set(X,j),B?(await l(X,q.detune,j.detune,D),await l(X,q.frequency,j.frequency,D)):(await c(X,q.detune,j.detune,D),await c(X,q.frequency,j.frequency,D)),await p(q,X,j,D),j})(x,M,w)}}})(ua,Lk,mt,la,qn),Ct,Nt,Ji),Wk=(Bk=eo,(l,t)=\u003e{let i=Bk(l,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=l.createBuffer(1,2,44100);return i.buffer=c,i.loop=!0,i.connect(t),i.start(),()=\u003e{i.stop(),i.disconnect(t)}});var Bk;let k6=((l,t,i,c,p)=\u003e(f,{curve:m,oversample:y,...b})=\u003e{let x=f.createWaveShaper(),M=f.createWaveShaper();Zt(x,b),Zt(M,b);let w=i(f,{...b,gain:1}),O=i(f,{...b,gain:-1}),q=i(f,{...b,gain:1}),X=i(f,{...b,gain:-1}),D=null,j=!1,B=null,Q={get bufferSize(){},get channelCount(){return x.channelCount},set channelCount(Z){w.channelCount=Z,O.channelCount=Z,x.channelCount=Z,q.channelCount=Z,M.channelCount=Z,X.channelCount=Z},get channelCountMode(){return x.channelCountMode},set channelCountMode(Z){w.channelCountMode=Z,O.channelCountMode=Z,x.channelCountMode=Z,q.channelCountMode=Z,M.channelCountMode=Z,X.channelCountMode=Z},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(Z){w.channelInterpretation=Z,O.channelInterpretation=Z,x.channelInterpretation=Z,q.channelInterpretation=Z,M.channelInterpretation=Z,X.channelInterpretation=Z},get context(){return x.context},get curve(){return B},set curve(Z){if(Z!==null\u0026\u0026Z.length\u003c2)throw t();if(Z===null)x.curve=Z,M.curve=Z;else{let ee=Z.length,ae=new Float32Array(ee+2-ee%2),ne=new Float32Array(ee+2-ee%2);ae[0]=Z[0],ne[0]=-Z[ee-1];let ie=Math.ceil((ee+1)/2),Ne=(ee+1)/2-1;for(let pe=1;pe\u003cie;pe+=1){let fe=pe/ie*Ne,ve=Math.floor(fe),Te=Math.ceil(fe);ae[pe]=ve===Te?Z[ve]:(1-(fe-ve))*Z[ve]+(1-(Te-fe))*Z[Te],ne[pe]=ve===Te?-Z[ee-1-ve]:-(1-(fe-ve))*Z[ee-1-ve]-(1-(Te-fe))*Z[ee-1-Te]}ae[ie]=ee%2==1?Z[ie-1]:(Z[ie-2]+Z[ie-1])/2,x.curve=ae,M.curve=ne}B=Z,j\u0026\u0026(c(B)\u0026\u0026D===null?D=l(f,w):D!==null\u0026\u0026(D(),D=null))},get inputs(){return[w]},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get oversample(){return x.oversample},set oversample(Z){x.oversample=Z,M.oversample=Z},addEventListener:(...Z)=\u003ew.addEventListener(Z[0],Z[1],Z[2]),dispatchEvent:(...Z)=\u003ew.dispatchEvent(Z[0]),removeEventListener:(...Z)=\u003ew.removeEventListener(Z[0],Z[1],Z[2])};return m!==null\u0026\u0026(Q.curve=m instanceof Float32Array?m:new Float32Array(m)),y!==Q.oversample\u0026\u0026(Q.oversample=y),p(F(Q,q),()=\u003e{w.connect(x).connect(q),w.connect(O).connect(M).connect(X).connect(q),j=!0,c(B)\u0026\u0026(D=l(f,w))},()=\u003e{w.disconnect(x),x.disconnect(q),w.disconnect(O),O.disconnect(M),M.disconnect(X),X.disconnect(q),j=!1,D!==null\u0026\u0026(D(),D=null)})})(Wk,It,z,Qi,ds),Hl=((l,t,i,c,p,f,m)=\u003e(y,b)=\u003e{let x=y.createWaveShaper();if(f!==null\u0026\u0026f.name===\"webkitAudioContext\"\u0026\u0026y.createGain().gain.automationRate===void 0)return i(y,b);Zt(x,b);let M=b.curve===null||b.curve instanceof Float32Array?b.curve:new Float32Array(b.curve);if(M!==null\u0026\u0026M.length\u003c2)throw t();_t(x,{curve:M},\"curve\"),_t(x,b,\"oversample\");let w=null,O=!1;return m(x,\"curve\",q=\u003e()=\u003eq.call(x),q=\u003eX=\u003e(q.call(x,X),O\u0026\u0026(c(X)\u0026\u0026w===null?w=l(y,x):c(X)||w===null||(w(),w=null)),X)),p(x,()=\u003e{O=!0,c(x.curve)\u0026\u0026(w=l(y,x))},()=\u003e{O=!1,w!==null\u0026\u0026(w(),w=null)})})(Wk,It,k6,Qi,ds,Ea,Tr),N6=((l,t,i,c,p,f,m,y,b)=\u003e(x,{coneInnerAngle:M,coneOuterAngle:w,coneOuterGain:O,distanceModel:q,maxDistance:X,orientationX:D,orientationY:j,orientationZ:B,panningModel:Q,positionX:Z,positionY:ee,positionZ:ae,refDistance:ne,rolloffFactor:ie,...Ne})=\u003e{let pe=x.createPanner();if(Ne.channelCount\u003e2||Ne.channelCountMode===\"max\")throw m();Zt(pe,Ne);let fe={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\"},ve=i(x,{...fe,channelInterpretation:\"speakers\",numberOfInputs:6}),Te=c(x,{...Ne,gain:1}),Le=c(x,{...fe,gain:1}),pt=c(x,{...fe,gain:0}),De=c(x,{...fe,gain:0}),Qe=c(x,{...fe,gain:0}),it=c(x,{...fe,gain:0}),He=c(x,{...fe,gain:0}),at=p(x,256,6,1),ht=f(x,{...fe,curve:new Float32Array([1,1]),oversample:\"none\"}),Qt=[D,j,B],un=[Z,ee,ae];at.onaudioprocess=({inputBuffer:Ie})=\u003e{let On=[Ie.getChannelData(0)[0],Ie.getChannelData(1)[0],Ie.getChannelData(2)[0]];On.some((yr,Ns)=\u003eyr!==Qt[Ns])\u0026\u0026(pe.setOrientation(...On),Qt=On);let va=[Ie.getChannelData(3)[0],Ie.getChannelData(4)[0],Ie.getChannelData(5)[0]];va.some((yr,Ns)=\u003eyr!==un[Ns])\u0026\u0026(pe.setPosition(...va),un=va)},Object.defineProperty(pt.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(De.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(Qe.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(it.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(He.gain,\"defaultValue\",{get:()=\u003e0});let ot={get bufferSize(){},get channelCount(){return pe.channelCount},set channelCount(Ie){if(Ie\u003e2)throw m();Te.channelCount=Ie,pe.channelCount=Ie},get channelCountMode(){return pe.channelCountMode},set channelCountMode(Ie){if(Ie===\"max\")throw m();Te.channelCountMode=Ie,pe.channelCountMode=Ie},get channelInterpretation(){return pe.channelInterpretation},set channelInterpretation(Ie){Te.channelInterpretation=Ie,pe.channelInterpretation=Ie},get coneInnerAngle(){return pe.coneInnerAngle},set coneInnerAngle(Ie){pe.coneInnerAngle=Ie},get coneOuterAngle(){return pe.coneOuterAngle},set coneOuterAngle(Ie){pe.coneOuterAngle=Ie},get coneOuterGain(){return pe.coneOuterGain},set coneOuterGain(Ie){if(Ie\u003c0||Ie\u003e1)throw t();pe.coneOuterGain=Ie},get context(){return pe.context},get distanceModel(){return pe.distanceModel},set distanceModel(Ie){pe.distanceModel=Ie},get inputs(){return[Te]},get maxDistance(){return pe.maxDistance},set maxDistance(Ie){if(Ie\u003c0)throw new RangeError;pe.maxDistance=Ie},get numberOfInputs(){return pe.numberOfInputs},get numberOfOutputs(){return pe.numberOfOutputs},get orientationX(){return Le.gain},get orientationY(){return pt.gain},get orientationZ(){return De.gain},get panningModel(){return pe.panningModel},set panningModel(Ie){pe.panningModel=Ie},get positionX(){return Qe.gain},get positionY(){return it.gain},get positionZ(){return He.gain},get refDistance(){return pe.refDistance},set refDistance(Ie){if(Ie\u003c0)throw new RangeError;pe.refDistance=Ie},get rolloffFactor(){return pe.rolloffFactor},set rolloffFactor(Ie){if(Ie\u003c0)throw new RangeError;pe.rolloffFactor=Ie},addEventListener:(...Ie)=\u003eTe.addEventListener(Ie[0],Ie[1],Ie[2]),dispatchEvent:(...Ie)=\u003eTe.dispatchEvent(Ie[0]),removeEventListener:(...Ie)=\u003eTe.removeEventListener(Ie[0],Ie[1],Ie[2])};return M!==ot.coneInnerAngle\u0026\u0026(ot.coneInnerAngle=M),w!==ot.coneOuterAngle\u0026\u0026(ot.coneOuterAngle=w),O!==ot.coneOuterGain\u0026\u0026(ot.coneOuterGain=O),q!==ot.distanceModel\u0026\u0026(ot.distanceModel=q),X!==ot.maxDistance\u0026\u0026(ot.maxDistance=X),D!==ot.orientationX.value\u0026\u0026(ot.orientationX.value=D),j!==ot.orientationY.value\u0026\u0026(ot.orientationY.value=j),B!==ot.orientationZ.value\u0026\u0026(ot.orientationZ.value=B),Q!==ot.panningModel\u0026\u0026(ot.panningModel=Q),Z!==ot.positionX.value\u0026\u0026(ot.positionX.value=Z),ee!==ot.positionY.value\u0026\u0026(ot.positionY.value=ee),ae!==ot.positionZ.value\u0026\u0026(ot.positionZ.value=ae),ne!==ot.refDistance\u0026\u0026(ot.refDistance=ne),ie!==ot.rolloffFactor\u0026\u0026(ot.rolloffFactor=ie),Qt[0]===1\u0026\u0026Qt[1]===0\u0026\u0026Qt[2]===0||pe.setOrientation(...Qt),un[0]===0\u0026\u0026un[1]===0\u0026\u0026un[2]===0||pe.setPosition(...un),b(F(ot,pe),()=\u003e{Te.connect(pe),l(Te,ht,0,0),ht.connect(Le).connect(ve,0,0),ht.connect(pt).connect(ve,0,1),ht.connect(De).connect(ve,0,2),ht.connect(Qe).connect(ve,0,3),ht.connect(it).connect(ve,0,4),ht.connect(He).connect(ve,0,5),ve.connect(at).connect(x.destination)},()=\u003e{Te.disconnect(pe),y(Te,ht,0,0),ht.disconnect(Le),Le.disconnect(ve),ht.disconnect(pt),pt.disconnect(ve),ht.disconnect(De),De.disconnect(ve),ht.disconnect(Qe),Qe.disconnect(ve),ht.disconnect(it),it.disconnect(ve),ht.disconnect(He),He.disconnect(ve),ve.disconnect(at),at.disconnect(x.destination)})})(mn,It,fs,z,Ue,Hl,Ze,Yn,ds),zk=(Gk=N6,(l,t)=\u003e{let i=l.createPanner();return i.orientationX===void 0?Gk(l,t):(Zt(i,t),Ft(i,t,\"orientationX\"),Ft(i,t,\"orientationY\"),Ft(i,t,\"orientationZ\"),Ft(i,t,\"positionX\"),Ft(i,t,\"positionY\"),Ft(i,t,\"positionZ\"),_t(i,t,\"coneInnerAngle\"),_t(i,t,\"coneOuterAngle\"),_t(i,t,\"coneOuterGain\"),_t(i,t,\"distanceModel\"),_t(i,t,\"maxDistance\"),_t(i,t,\"panningModel\"),_t(i,t,\"refDistance\"),_t(i,t,\"rolloffFactor\"),i)});var Gk;let x6=((l,t,i,c,p,f,m)=\u003eclass extends l{constructor(y,b){let x=p(y),M={...Ut,...b},w=i(x,M),O=f(x);super(y,!1,w,O?c():null),this._nativePannerNode=w,this._orientationX=t(this,O,w.orientationX,je,me),this._orientationY=t(this,O,w.orientationY,je,me),this._orientationZ=t(this,O,w.orientationZ,je,me),this._positionX=t(this,O,w.positionX,je,me),this._positionY=t(this,O,w.positionY,je,me),this._positionZ=t(this,O,w.positionZ,je,me),m(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(y){this._nativePannerNode.coneInnerAngle=y}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(y){this._nativePannerNode.coneOuterAngle=y}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(y){this._nativePannerNode.coneOuterGain=y}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(y){this._nativePannerNode.distanceModel=y}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(y){this._nativePannerNode.maxDistance=y}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(y){this._nativePannerNode.panningModel=y}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(y){this._nativePannerNode.refDistance=y}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(y){this._nativePannerNode.rolloffFactor=y}})(Kt,Ur,zk,((l,t,i,c,p,f,m,y,b,x)=\u003e()=\u003e{let M=new WeakMap,w=null;return{render(O,q,X){let D=M.get(q);return D!==void 0?Promise.resolve(D):(async(j,B,Q)=\u003e{let Z=null,ee=f(j),ae={channelCount:ee.channelCount,channelCountMode:ee.channelCountMode,channelInterpretation:ee.channelInterpretation},ne={...ae,coneInnerAngle:ee.coneInnerAngle,coneOuterAngle:ee.coneOuterAngle,coneOuterGain:ee.coneOuterGain,distanceModel:ee.distanceModel,maxDistance:ee.maxDistance,panningModel:ee.panningModel,refDistance:ee.refDistance,rolloffFactor:ee.rolloffFactor},ie=Y(ee,B);if(\"bufferSize\"in ee)Z=c(B,{...ae,gain:1});else if(!ie){let Ne={...ne,orientationX:ee.orientationX.value,orientationY:ee.orientationY.value,orientationZ:ee.orientationZ.value,positionX:ee.positionX.value,positionY:ee.positionY.value,positionZ:ee.positionZ.value};ee=p(B,Ne)}if(M.set(B,Z===null?ee:Z),Z!==null){if(w===null){if(m===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let De=new m(6,j.context.length,B.sampleRate),Qe=t(De,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:6});Qe.connect(De.destination),w=(async()=\u003e{let it=await Promise.all([j.orientationX,j.orientationY,j.orientationZ,j.positionX,j.positionY,j.positionZ].map(async(He,at)=\u003e{let ht=i(De,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:at===0?1:0});return await y(De,He,ht.offset,Q),ht}));for(let He=0;He\u003c6;He+=1)it[He].connect(Qe,0,He),it[He].start(0);return x(De)})()}let Ne=await w,pe=c(B,{...ae,gain:1});await b(j,B,pe,Q);let fe=[];for(let De=0;De\u003cNe.numberOfChannels;De+=1)fe.push(Ne.getChannelData(De));let ve=[fe[0][0],fe[1][0],fe[2][0]],Te=[fe[3][0],fe[4][0],fe[5][0]],Le=c(B,{...ae,gain:1}),pt=p(B,{...ne,orientationX:ve[0],orientationY:ve[1],orientationZ:ve[2],positionX:Te[0],positionY:Te[1],positionZ:Te[2]});pe.connect(Le).connect(pt.inputs[0]),pt.connect(Z);for(let De=128;De\u003cNe.length;De+=128){let Qe=[fe[0][De],fe[1][De],fe[2][De]],it=[fe[3][De],fe[4][De],fe[5][De]];if(Qe.some((He,at)=\u003eHe!==ve[at])||it.some((He,at)=\u003eHe!==Te[at])){ve=Qe,Te=it;let He=De/B.sampleRate;Le.gain.setValueAtTime(0,He),Le=c(B,{...ae,gain:0}),pt=p(B,{...ne,orientationX:ve[0],orientationY:ve[1],orientationZ:ve[2],positionX:Te[0],positionY:Te[1],positionZ:Te[2]}),Le.gain.setValueAtTime(1,He),pe.connect(Le).connect(pt.inputs[0]),pt.connect(Z)}}return Z}return ie?(await l(B,j.orientationX,ee.orientationX,Q),await l(B,j.orientationY,ee.orientationY,Q),await l(B,j.orientationZ,ee.orientationZ,Q),await l(B,j.positionX,ee.positionX,Q),await l(B,j.positionY,ee.positionY,Q),await l(B,j.positionZ,ee.positionZ,Q)):(await y(B,j.orientationX,ee.orientationX,Q),await y(B,j.orientationY,ee.orientationY,Q),await y(B,j.orientationZ,ee.orientationZ,Q),await y(B,j.positionX,ee.positionX,Q),await y(B,j.positionY,ee.positionY,Q),await y(B,j.positionZ,ee.positionZ,Q)),Ot(ee)?await b(j,B,ee.inputs[0],Q):await b(j,B,ee,Q),ee})(O,q,X)}}})(ua,fs,to,z,zk,mt,vn,la,qn,Yl),Ct,Nt,ri),w6=((l,t,i,c)=\u003eclass LC{constructor(f,m){let y=t(f),b=c({...zr,...m}),x=l(y,b);return i.add(x),x}static[Symbol.hasInstance](f){return f!==null\u0026\u0026typeof f==\"object\"\u0026\u0026Object.getPrototypeOf(f)===LC.prototype||i.has(f)}})((l=\u003e(t,{disableNormalization:i,imag:c,real:p})=\u003e{let f=c instanceof Float32Array?c:new Float32Array(c),m=p instanceof Float32Array?p:new Float32Array(p),y=t.createPeriodicWave(m,f,{disableNormalization:i});if(Array.from(c).length\u003c2)throw l();return y})(le),Ct,new WeakSet,l=\u003e{let{imag:t,real:i}=l;return t===void 0?i===void 0?{...l,imag:[0,0],real:[0,0]}:{...l,imag:Array.from(i,()=\u003e0),real:i}:i===void 0?{...l,imag:t,real:Array.from(t,()=\u003e0)}:{...l,imag:t,real:i}}),Uk=((l,t)=\u003e(i,c)=\u003e{let p=c.channelCountMode;if(p===\"clamped-max\")throw t();if(i.createStereoPanner===void 0)return l(i,c);let f=i.createStereoPanner();return Zt(f,c),Ft(f,c,\"pan\"),Object.defineProperty(f,\"channelCountMode\",{get:()=\u003ep,set:m=\u003e{if(m!==p)throw t()}}),f})(((l,t,i,c,p,f)=\u003e{let m=new Float32Array([1,1]),y=Math.PI/2,b={channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\"},x={...b,oversample:\"none\"},M=(w,O,q,X,D)=\u003e{if(O===1)return((j,B,Q,Z)=\u003e{let ee=new Float32Array(16385),ae=new Float32Array(16385);for(let ve=0;ve\u003c16385;ve+=1){let Te=ve/16384*y;ee[ve]=Math.cos(Te),ae[ve]=Math.sin(Te)}let ne=i(j,{...b,gain:0}),ie=c(j,{...x,curve:ee}),Ne=c(j,{...x,curve:m}),pe=i(j,{...b,gain:0}),fe=c(j,{...x,curve:ae});return{connectGraph(){B.connect(ne),B.connect(Ne.inputs===void 0?Ne:Ne.inputs[0]),B.connect(pe),Ne.connect(Q),Q.connect(ie.inputs===void 0?ie:ie.inputs[0]),Q.connect(fe.inputs===void 0?fe:fe.inputs[0]),ie.connect(ne.gain),fe.connect(pe.gain),ne.connect(Z,0,0),pe.connect(Z,0,1)},disconnectGraph(){B.disconnect(ne),B.disconnect(Ne.inputs===void 0?Ne:Ne.inputs[0]),B.disconnect(pe),Ne.disconnect(Q),Q.disconnect(ie.inputs===void 0?ie:ie.inputs[0]),Q.disconnect(fe.inputs===void 0?fe:fe.inputs[0]),ie.disconnect(ne.gain),fe.disconnect(pe.gain),ne.disconnect(Z,0,0),pe.disconnect(Z,0,1)}}})(w,q,X,D);if(O===2)return((j,B,Q,Z)=\u003e{let ee=new Float32Array(16385),ae=new Float32Array(16385),ne=new Float32Array(16385),ie=new Float32Array(16385),Ne=Math.floor(8192.5);for(let at=0;at\u003c16385;at+=1)if(at\u003eNe){let ht=(at-Ne)/(16384-Ne)*y;ee[at]=Math.cos(ht),ae[at]=Math.sin(ht),ne[at]=0,ie[at]=1}else{let ht=at/(16384-Ne)*y;ee[at]=1,ae[at]=0,ne[at]=Math.cos(ht),ie[at]=Math.sin(ht)}let pe=t(j,{channelCount:2,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:2}),fe=i(j,{...b,gain:0}),ve=c(j,{...x,curve:ee}),Te=i(j,{...b,gain:0}),Le=c(j,{...x,curve:ae}),pt=c(j,{...x,curve:m}),De=i(j,{...b,gain:0}),Qe=c(j,{...x,curve:ne}),it=i(j,{...b,gain:0}),He=c(j,{...x,curve:ie});return{connectGraph(){B.connect(pe),B.connect(pt.inputs===void 0?pt:pt.inputs[0]),pe.connect(fe,0),pe.connect(Te,0),pe.connect(De,1),pe.connect(it,1),pt.connect(Q),Q.connect(ve.inputs===void 0?ve:ve.inputs[0]),Q.connect(Le.inputs===void 0?Le:Le.inputs[0]),Q.connect(Qe.inputs===void 0?Qe:Qe.inputs[0]),Q.connect(He.inputs===void 0?He:He.inputs[0]),ve.connect(fe.gain),Le.connect(Te.gain),Qe.connect(De.gain),He.connect(it.gain),fe.connect(Z,0,0),De.connect(Z,0,0),Te.connect(Z,0,1),it.connect(Z,0,1)},disconnectGraph(){B.disconnect(pe),B.disconnect(pt.inputs===void 0?pt:pt.inputs[0]),pe.disconnect(fe,0),pe.disconnect(Te,0),pe.disconnect(De,1),pe.disconnect(it,1),pt.disconnect(Q),Q.disconnect(ve.inputs===void 0?ve:ve.inputs[0]),Q.disconnect(Le.inputs===void 0?Le:Le.inputs[0]),Q.disconnect(Qe.inputs===void 0?Qe:Qe.inputs[0]),Q.disconnect(He.inputs===void 0?He:He.inputs[0]),ve.disconnect(fe.gain),Le.disconnect(Te.gain),Qe.disconnect(De.gain),He.disconnect(it.gain),fe.disconnect(Z,0,0),De.disconnect(Z,0,0),Te.disconnect(Z,0,1),it.disconnect(Z,0,1)}}})(w,q,X,D);throw p()};return(w,{channelCount:O,channelCountMode:q,pan:X,...D})=\u003e{if(q===\"max\")throw p();let j=l(w,{...D,channelCount:1,channelCountMode:q,numberOfInputs:2}),B=i(w,{...D,channelCount:O,channelCountMode:q,gain:1}),Q=i(w,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:X}),{connectGraph:Z,disconnectGraph:ee}=M(w,O,B,Q,j);Object.defineProperty(Q.gain,\"defaultValue\",{get:()=\u003e0}),Object.defineProperty(Q.gain,\"maxValue\",{get:()=\u003e1}),Object.defineProperty(Q.gain,\"minValue\",{get:()=\u003e-1});let ae={get bufferSize(){},get channelCount(){return B.channelCount},set channelCount(ie){B.channelCount!==ie\u0026\u0026(ne\u0026\u0026ee(),{connectGraph:Z,disconnectGraph:ee}=M(w,ie,B,Q,j),ne\u0026\u0026Z()),B.channelCount=ie},get channelCountMode(){return B.channelCountMode},set channelCountMode(ie){if(ie===\"clamped-max\"||ie===\"max\")throw p();B.channelCountMode=ie},get channelInterpretation(){return B.channelInterpretation},set channelInterpretation(ie){B.channelInterpretation=ie},get context(){return B.context},get inputs(){return[B]},get numberOfInputs(){return B.numberOfInputs},get numberOfOutputs(){return B.numberOfOutputs},get pan(){return Q.gain},addEventListener:(...ie)=\u003eB.addEventListener(ie[0],ie[1],ie[2]),dispatchEvent:(...ie)=\u003eB.dispatchEvent(ie[0]),removeEventListener:(...ie)=\u003eB.removeEventListener(ie[0],ie[1],ie[2])},ne=!1;return f(F(ae,j),()=\u003e{Z(),ne=!0},()=\u003e{ee(),ne=!1})}})(fs,E,z,Hl,Ze,ds),Ze),q6=((l,t,i,c,p,f)=\u003eclass extends l{constructor(m,y){let b=p(m),x={...ni,...y},M=i(b,x),w=f(b);super(m,!1,M,w?c():null),this._pan=t(this,w,M.pan)}get pan(){return this._pan}})(Kt,Ur,Uk,((l,t,i,c,p)=\u003e()=\u003e{let f=new WeakMap;return{render(m,y,b){let x=f.get(y);return x!==void 0?Promise.resolve(x):(async(M,w,O)=\u003e{let q=i(M),X=Y(q,w);if(!X){let D={channelCount:q.channelCount,channelCountMode:q.channelCountMode,channelInterpretation:q.channelInterpretation,pan:q.pan.value};q=t(w,D)}return f.set(w,q),X?await l(w,M.pan,q.pan,O):await c(w,M.pan,q.pan,O),Ot(q)?await p(M,w,q.inputs[0],O):await p(M,w,q,O),q})(m,y,b)}}})(ua,Uk,mt,la,qn),Ct,Nt),T6=((l,t,i)=\u003e()=\u003e{let c=new WeakMap;return{render(p,f,m){let y=c.get(f);return y!==void 0?Promise.resolve(y):(async(b,x,M)=\u003e{let w=t(b);if(!Y(w,x)){let O={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,curve:w.curve,oversample:w.oversample};w=l(x,O)}return c.set(x,w),Ot(w)?await i(b,x,w.inputs[0],M):await i(b,x,w,M),w})(p,f,m)}}})(Hl,mt,qn),S6=((l,t,i,c,p,f,m)=\u003eclass extends l{constructor(y,b){let x=p(y),M={...km,...b},w=i(x,M);super(y,!0,w,f(x)?c():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,m(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(y){if(y===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(y.length\u003c2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=y}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(y){this._nativeWaveShaperNode.oversample=y}})(Kt,It,Hl,T6,Ct,Nt,ri),$k=(l=\u003el!==null\u0026\u0026l.isSecureContext)(Gr),Fm=(l=\u003e(t,i,c)=\u003e{Object.defineProperties(l,{currentFrame:{configurable:!0,get:()=\u003eMath.round(t*i)},currentTime:{configurable:!0,get:()=\u003et}});try{return c()}finally{l!==null\u0026\u0026(delete l.currentFrame,delete l.currentTime)}})(Gr),Xk=new WeakMap,M6=((l,t)=\u003ei=\u003e{let c=l.get(i);if(c!==void 0)return c;if(t===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");return c=new t(1,1,8e3),l.set(i,c),c})(Xk,vn),Zl=(l=\u003el===null?null:l.hasOwnProperty(\"AudioWorkletNode\")?l.AudioWorkletNode:null)(Gr),P6=$k?((l,t,i,c,p,f,m,y,b,x,M,w)=\u003e(O,q,X={credentials:\"omit\"})=\u003e{let D=f(O);if(D.audioWorklet!==void 0)return Promise.all([p(q),Promise.resolve(l(M,M))]).then(([[Z,ee],ae])=\u003e{let[ne,ie]=oe(Z,ee),Ne=ae?ie:ie.replace(/\\s+extends\\s+AudioWorkletProcessor\\s*{/,\" extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=\u003ep.postMessage=(q=\u003e(m,t)=\u003eq.call(p,m,t?t.filter(u=\u003e!this.__b.has(u)):t))(p.postMessage))(this.port)}}){\"),pe=new Blob([`${ne};(registerProcessor=\u003e{${Ne}\n})((n,p)=\u003eregisterProcessor(n,class extends p{${ae?\"\":\"__c = (a) =\u003e a.forEach(e=\u003ethis.__b.add(e.buffer));\"}process(i,o,p){${ae?\"\":\"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));\"}return super.process(i.map(j=\u003ej.some(k=\u003ek.length===0)?[]:j),o,p)}}))`],{type:\"application/javascript; charset=utf-8\"}),fe=URL.createObjectURL(pe);return D.audioWorklet.addModule(fe,X).then(()=\u003e{if(!y(D))return m(D).audioWorklet.addModule(fe,X)}).finally(()=\u003eURL.revokeObjectURL(fe))});let j=x.get(O);if(j!==void 0\u0026\u0026j.has(q))return Promise.resolve();let B=b.get(O);if(B!==void 0){let Z=B.get(q);if(Z!==void 0)return Z}let Q=p(q).then(([Z,ee])=\u003e{let[ae,ne]=oe(Z,ee);return i(`${ae};((a,b)=\u003e{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=\u003e{${ne}\n})})(window,'_AWGS')`)}).then(()=\u003e{let Z=w._AWGS.pop();if(Z===void 0)throw new SyntaxError;c(D.currentTime,D.sampleRate,()=\u003eZ(class{},void 0,(ee,ae)=\u003e{if(ee.trim()===\"\")throw t();let ne=W.get(D);if(ne!==void 0){if(ne.has(ee))throw t();R(ae),G(ae.parameterDescriptors),ne.set(ee,ae)}else R(ae),G(ae.parameterDescriptors),W.set(D,new Map([[ee,ae]]))},D.sampleRate,void 0,void 0))});return B===void 0?b.set(O,new Map([[q,Q]])):B.set(q,Q),Q.then(()=\u003e{let Z=x.get(O);Z===void 0?x.set(O,new Set([q])):Z.add(q)}).finally(()=\u003e{let Z=b.get(O);Z!==void 0\u0026\u0026Z.delete(q)}),Q})(hr,Ze,(l=\u003et=\u003enew Promise((i,c)=\u003e{if(l===null)return void c(new SyntaxError);let p=l.document.head;if(p===null)c(new SyntaxError);else{let f=l.document.createElement(\"script\"),m=new Blob([t],{type:\"application/javascript\"}),y=URL.createObjectURL(m),b=l.onerror,x=()=\u003e{l.onerror=b,URL.revokeObjectURL(y)};l.onerror=(M,w,O,q,X)=\u003ew===y||w===l.location.href\u0026\u0026O===1\u0026\u0026q===1?(x(),c(X),!1):b!==null?b(M,w,O,q,X):void 0,f.onerror=()=\u003e{x(),c(new SyntaxError)},f.onload=()=\u003e{x(),i()},f.src=y,f.type=\"module\",p.appendChild(f)}}))(Gr),Fm,(l=\u003easync t=\u003e{try{let i=await fetch(t);if(i.ok)return[await i.text(),i.url]}catch{}throw l()})(()=\u003enew DOMException(\"\",\"AbortError\")),Ct,M6,Nt,new WeakMap,new WeakMap,((l,t)=\u003easync()=\u003e{if(l===null)return!0;if(t===null)return!1;let i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor(\"a\",A)'],{type:\"application/javascript; charset=utf-8\"}),c=new t(1,128,8e3),p=URL.createObjectURL(i),f=!1,m=!1;try{await c.audioWorklet.addModule(p);let y=new l(c,\"a\",{numberOfOutputs:0}),b=c.createOscillator();y.port.onmessage=()=\u003ef=!0,y.onprocessorerror=()=\u003em=!0,b.connect(y),await c.startRendering()}catch{}finally{URL.revokeObjectURL(p)}return f\u0026\u0026!m})(Zl,vn),Gr):void 0,O6=((l,t)=\u003ei=\u003el(i)||t(i))(Tm,Nt),Yk=((l,t,i,c,p,f,m,y,b,x,M,w,O,q,X,D,j,B,Q,Z)=\u003eclass extends X{constructor(ee,ae){super(ee,ae),this._nativeContext=ee,this._audioWorklet=l===void 0?void 0:{addModule:(ne,ie)=\u003el(this,ne,ie)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new p(this)}createBuffer(ee,ae,ne){return new i({length:ae,numberOfChannels:ee,sampleRate:ne})}createBufferSource(){return new c(this)}createChannelMerger(ee=6){return new f(this,{numberOfInputs:ee})}createChannelSplitter(ee=6){return new m(this,{numberOfOutputs:ee})}createConstantSource(){return new y(this)}createConvolver(){return new b(this)}createDelay(ee=1){return new M(this,{maxDelayTime:ee})}createDynamicsCompressor(){return new w(this)}createGain(){return new O(this)}createIIRFilter(ee,ae){return new q(this,{feedback:ae,feedforward:ee})}createOscillator(){return new D(this)}createPanner(){return new j(this)}createPeriodicWave(ee,ae,ne={disableNormalization:!1}){return new B(this,{...ne,imag:ae,real:ee})}createStereoPanner(){return new Q(this)}createWaveShaper(){return new Z(this)}decodeAudioData(ee,ae,ne){return x(this._nativeContext,ee).then(ie=\u003e(typeof ae==\"function\"\u0026\u0026ae(ie),ie)).catch(ie=\u003e{throw typeof ne==\"function\"\u0026\u0026ne(ie),ie})}})(P6,e6,t6,r6,i6,c6,u6,p6,h6,((l,t,i,c,p,f,m,y,b,x,M)=\u003e(w,O)=\u003e{let q=m(w)?w:f(w);if(p.has(O)){let X=i();return Promise.reject(X)}try{p.add(O)}catch{}return t(b,()=\u003eb(q))?q.decodeAudioData(O).then(X=\u003e(t(y,()=\u003ey(X))||M(X),l.add(X),X)):new Promise((X,D)=\u003e{let j=()=\u003e{try{(Q=\u003e{let{port1:Z}=new MessageChannel;Z.postMessage(Q,[Q])})(O)}catch{}},B=Q=\u003e{D(Q),j()};try{q.decodeAudioData(O,Q=\u003e{typeof Q.copyFromChannel!=\"function\"\u0026\u0026(x(Q),ue(Q)),l.add(Q),j(),X(Q)},Q=\u003e{B(Q===null?c():Q)})}catch(Q){B(Q)}})})(Pm,hr,()=\u003enew DOMException(\"\",\"DataCloneError\"),()=\u003enew DOMException(\"\",\"EncodingError\"),new WeakSet,Ct,O6,ce,zt,Cm,Am),d6,f6,m6,y6,Im,b6,x6,w6,q6,S6),C6=((l,t,i,c)=\u003eclass extends l{constructor(p,f){let m=i(p),y=t(m,f);if(c(m))throw TypeError();super(p,!0,y,null),this._nativeMediaElementAudioSourceNode=y}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Kt,(l,t)=\u003el.createMediaElementSource(t.mediaElement),Ct,Nt),A6=((l,t,i,c)=\u003eclass extends l{constructor(p,f){let m=i(p);if(c(m))throw new TypeError;let y={...Re,...f},b=t(m,y);super(p,!1,b,null),this._nativeMediaStreamAudioDestinationNode=b}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Kt,(l,t)=\u003e{let i=l.createMediaStreamDestination();return Zt(i,t),i.numberOfOutputs===1\u0026\u0026Object.defineProperty(i,\"numberOfOutputs\",{get:()=\u003e0}),i},Ct,Nt),R6=((l,t,i,c)=\u003eclass extends l{constructor(p,f){let m=i(p),y=t(m,f);if(c(m))throw new TypeError;super(p,!0,y,null),this._nativeMediaStreamAudioSourceNode=y}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Kt,(l,{mediaStream:t})=\u003e{let i=t.getAudioTracks();i.sort((f,m)=\u003ef.id\u003cm.id?-1:f.id\u003em.id?1:0);let c=i.slice(0,1),p=l.createMediaStreamSource(new MediaStream(c));return Object.defineProperty(p,\"mediaStream\",{value:t}),p},Ct,Nt),E6=((l,t,i)=\u003eclass extends l{constructor(c,p){let f=i(c);super(c,!0,t(f,p),null)}})(Kt,((l,t)=\u003e(i,{mediaStreamTrack:c})=\u003e{if(typeof i.createMediaStreamTrackSource==\"function\")return i.createMediaStreamTrackSource(c);let p=new MediaStream([c]),f=i.createMediaStreamSource(p);if(c.kind!==\"audio\")throw l();if(t(i))throw new TypeError;return f})(It,Nt),Ct),j6=((l,t,i,c,p,f,m,y,b)=\u003eclass extends l{constructor(x={}){if(b===null)throw new Error(\"Missing the native AudioContext constructor.\");let M=new b(x);if(M===null)throw c();if(!Pe(x.latencyHint))throw new TypeError(`The provided value '${x.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(x.sampleRate!==void 0\u0026\u0026M.sampleRate!==x.sampleRate)throw i();super(M,2);let{latencyHint:w}=x,{sampleRate:O}=M;if(this._baseLatency=typeof M.baseLatency==\"number\"?M.baseLatency:w===\"balanced\"?512/O:w===\"interactive\"||w===void 0?256/O:w===\"playback\"?1024/O:128*Math.max(2,Math.min(128,Math.round(w*O/128)))/O,this._nativeAudioContext=M,b.name===\"webkitAudioContext\"?(this._nativeGainNode=M.createGain(),this._nativeOscillatorNode=M.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(M.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,M.state===\"running\"){this._state=\"suspended\";let q=()=\u003e{this._state===\"suspended\"\u0026\u0026(this._state=null),M.removeEventListener(\"statechange\",q)};M.addEventListener(\"statechange\",q)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state===\"closed\"?this._nativeAudioContext.close().then(()=\u003e{throw t()}):(this._state===\"suspended\"\u0026\u0026(this._state=null),this._nativeAudioContext.close().then(()=\u003e{this._nativeGainNode!==null\u0026\u0026this._nativeOscillatorNode!==null\u0026\u0026(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Ge(this)}))}createMediaElementSource(x){return new p(this,{mediaElement:x})}createMediaStreamDestination(){return new f(this)}createMediaStreamSource(x){return new m(this,{mediaStream:x})}createMediaStreamTrackSource(x){return new y(this,{mediaStreamTrack:x})}resume(){return this._state===\"suspended\"?new Promise((x,M)=\u003e{let w=()=\u003e{this._nativeAudioContext.removeEventListener(\"statechange\",w),this._nativeAudioContext.state===\"running\"?x():this.resume().then(x,M)};this._nativeAudioContext.addEventListener(\"statechange\",w)}):this._nativeAudioContext.resume().catch(x=\u003e{throw x===void 0||x.code===15?t():x})}suspend(){return this._nativeAudioContext.suspend().catch(x=\u003e{throw x===void 0?t():x})}})(Yk,It,Ze,Ki,C6,A6,R6,E6,Ea),Vm=(Hk=Vk,l=\u003e{let t=Hk.get(l);if(t===void 0)throw new Error(\"The context has no set of AudioWorkletNodes.\");return t});var Hk;let D6=(Zk=Vm,(l,t)=\u003e{Zk(l).add(t)});var Zk;let Kk=(l=\u003e(t,i,c=0,p=0)=\u003e{let f=t[c];if(f===void 0)throw l();return Wr(i)?f.connect(i,0,p):f.connect(i,0)})(le),I6=(l=\u003e(t,i)=\u003e{l(t).delete(i)})(Vm),Qk=(l=\u003e(t,i,c,p=0)=\u003ei===void 0?t.forEach(f=\u003ef.disconnect()):typeof i==\"number\"?ls(l,t,i).disconnect():Wr(i)?c===void 0?t.forEach(f=\u003ef.disconnect(i)):p===void 0?ls(l,t,c).disconnect(i,0):ls(l,t,c).disconnect(i,0,p):c===void 0?t.forEach(f=\u003ef.disconnect(i)):ls(l,t,c).disconnect(i,0))(le),Jk=new WeakMap,F6=((l,t)=\u003ei=\u003et(l,i))(Jk,$),V6=((l,t,i,c,p,f,m,y,b,x,M,w,O)=\u003e(q,X,D,j)=\u003e{if(j.numberOfInputs===0\u0026\u0026j.numberOfOutputs===0)throw b();let B=Array.isArray(j.outputChannelCount)?j.outputChannelCount:Array.from(j.outputChannelCount);if(B.some(we=\u003ewe\u003c1))throw b();if(B.length!==j.numberOfOutputs)throw t();if(j.channelCountMode!==\"explicit\")throw b();let Q=j.channelCount*j.numberOfInputs,Z=B.reduce((we,gt)=\u003ewe+gt,0),ee=D.parameterDescriptors===void 0?0:D.parameterDescriptors.length;if(Q+ee\u003e6||Z\u003e6)throw b();let ae=new MessageChannel,ne=[],ie=[];for(let we=0;we\u003cj.numberOfInputs;we+=1)ne.push(m(q,{channelCount:j.channelCount,channelCountMode:j.channelCountMode,channelInterpretation:j.channelInterpretation,gain:1})),ie.push(p(q,{channelCount:j.channelCount,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:j.channelCount}));let Ne=[];if(D.parameterDescriptors!==void 0)for(let{defaultValue:we,maxValue:gt,minValue:Cn,name:Vt}of D.parameterDescriptors){let dt=f(q,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:j.parameterData[Vt]!==void 0?j.parameterData[Vt]:we===void 0?0:we});Object.defineProperties(dt.offset,{defaultValue:{get:()=\u003ewe===void 0?0:we},maxValue:{get:()=\u003egt===void 0?je:gt},minValue:{get:()=\u003eCn===void 0?me:Cn}}),Ne.push(dt)}let pe=c(q,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:Math.max(1,Q+ee)}),fe=Ul(X,q.sampleRate),ve=y(q,fe,Q+ee,Math.max(1,Z)),Te=p(q,{channelCount:Math.max(1,Z),channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:Math.max(1,Z)}),Le=[];for(let we=0;we\u003cj.numberOfOutputs;we+=1)Le.push(c(q,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:B[we]}));for(let we=0;we\u003cj.numberOfInputs;we+=1){ne[we].connect(ie[we]);for(let gt=0;gt\u003cj.channelCount;gt+=1)ie[we].connect(pe,gt,we*j.channelCount+gt)}let pt=new is(D.parameterDescriptors===void 0?[]:D.parameterDescriptors.map(({name:we},gt)=\u003e{let Cn=Ne[gt];return Cn.connect(pe,0,Q+gt),Cn.start(0),[we,Cn.offset]}));pe.connect(ve);let De=j.channelInterpretation,Qe=null,it=j.numberOfOutputs===0?[ve]:Le,He={get bufferSize(){return fe},get channelCount(){return j.channelCount},set channelCount(we){throw i()},get channelCountMode(){return j.channelCountMode},set channelCountMode(we){throw i()},get channelInterpretation(){return De},set channelInterpretation(we){for(let gt of ne)gt.channelInterpretation=we;De=we},get context(){return ve.context},get inputs(){return ne},get numberOfInputs(){return j.numberOfInputs},get numberOfOutputs(){return j.numberOfOutputs},get onprocessorerror(){return Qe},set onprocessorerror(we){typeof Qe==\"function\"\u0026\u0026He.removeEventListener(\"processorerror\",Qe),Qe=typeof we==\"function\"?we:null,typeof Qe==\"function\"\u0026\u0026He.addEventListener(\"processorerror\",Qe)},get parameters(){return pt},get port(){return ae.port2},addEventListener:(...we)=\u003eve.addEventListener(we[0],we[1],we[2]),connect:l.bind(null,it),disconnect:x.bind(null,it),dispatchEvent:(...we)=\u003eve.dispatchEvent(we[0]),removeEventListener:(...we)=\u003eve.removeEventListener(we[0],we[1],we[2])},at=new Map;var ht,Qt;ae.port1.addEventListener=(ht=ae.port1.addEventListener,(...we)=\u003e{if(we[0]===\"message\"){let gt=typeof we[1]==\"function\"?we[1]:typeof we[1]==\"object\"\u0026\u0026we[1]!==null\u0026\u0026typeof we[1].handleEvent==\"function\"?we[1].handleEvent:null;if(gt!==null){let Cn=at.get(we[1]);Cn!==void 0?we[1]=Cn:(we[1]=Vt=\u003e{M(q.currentTime,q.sampleRate,()=\u003egt(Vt))},at.set(gt,we[1]))}}return ht.call(ae.port1,we[0],we[1],we[2])}),ae.port1.removeEventListener=(Qt=ae.port1.removeEventListener,(...we)=\u003e{if(we[0]===\"message\"){let gt=at.get(we[1]);gt!==void 0\u0026\u0026(at.delete(we[1]),we[1]=gt)}return Qt.call(ae.port1,we[0],we[1],we[2])});let un=null;Object.defineProperty(ae.port1,\"onmessage\",{get:()=\u003eun,set:we=\u003e{typeof un==\"function\"\u0026\u0026ae.port1.removeEventListener(\"message\",un),un=typeof we==\"function\"?we:null,typeof un==\"function\"\u0026\u0026(ae.port1.addEventListener(\"message\",un),ae.port1.start())}}),D.prototype.port=ae.port1;let ot=null;((we,gt,Cn,Vt)=\u003e{let dt=K.get(we);dt===void 0\u0026\u0026(dt=new WeakMap,K.set(we,dt));let jt=S(Cn,Vt);return dt.set(gt,jt),jt})(q,He,D,j).then(we=\u003eot=we);let Ie=oa(j.numberOfInputs,j.channelCount),On=oa(j.numberOfOutputs,B),va=D.parameterDescriptors===void 0?[]:D.parameterDescriptors.reduce((we,{name:gt})=\u003e({...we,[gt]:new Float32Array(128)}),{}),yr=!0,Ns=()=\u003e{j.numberOfOutputs\u003e0\u0026\u0026ve.disconnect(Te);for(let we=0,gt=0;we\u003cj.numberOfOutputs;we+=1){let Cn=Le[we];for(let Vt=0;Vt\u003cB[we];Vt+=1)Te.disconnect(Cn,gt+Vt,Vt);gt+=B[we]}},xs=new Map;ve.onaudioprocess=({inputBuffer:we,outputBuffer:gt})=\u003e{if(ot!==null){let Cn=w(He);for(let Vt=0;Vt\u003cfe;Vt+=128){for(let dt=0;dt\u003cj.numberOfInputs;dt+=1)for(let jt=0;jt\u003cj.channelCount;jt+=1)ia(we,Ie[dt],jt,jt,Vt);D.parameterDescriptors!==void 0\u0026\u0026D.parameterDescriptors.forEach(({name:dt},jt)=\u003e{ia(we,va,dt,Q+jt,Vt)});for(let dt=0;dt\u003cj.numberOfInputs;dt+=1)for(let jt=0;jt\u003cB[dt];jt+=1)On[dt][jt].byteLength===0\u0026\u0026(On[dt][jt]=new Float32Array(128));try{let dt=Ie.map((Cr,ws)=\u003e{if(Cn[ws].size\u003e0)return xs.set(ws,fe/128),Cr;let qs=xs.get(ws);return qs===void 0?[]:(Cr.every(F8=\u003eF8.every(V8=\u003eV8===0))\u0026\u0026(qs===1?xs.delete(ws):xs.set(ws,qs-1)),Cr)});yr=M(q.currentTime+Vt/q.sampleRate,q.sampleRate,()=\u003eot.process(dt,On,va));for(let Cr=0,ws=0;Cr\u003cj.numberOfOutputs;Cr+=1){for(let qs=0;qs\u003cB[Cr];qs+=1)Ra(gt,On[Cr],qs,ws+qs,Vt);ws+=B[Cr]}}catch(dt){yr=!1,He.dispatchEvent(new ErrorEvent(\"processorerror\",{colno:dt.colno,filename:dt.filename,lineno:dt.lineno,message:dt.message}))}if(!yr){for(let dt=0;dt\u003cj.numberOfInputs;dt+=1){ne[dt].disconnect(ie[dt]);for(let jt=0;jt\u003cj.channelCount;jt+=1)ie[Vt].disconnect(pe,jt,dt*j.channelCount+jt)}if(D.parameterDescriptors!==void 0){let dt=D.parameterDescriptors.length;for(let jt=0;jt\u003cdt;jt+=1){let Cr=Ne[jt];Cr.disconnect(pe,0,Q+jt),Cr.stop()}}pe.disconnect(ve),ve.onaudioprocess=null,nn?Ns():AN();break}}}};let nn=!1,er=m(q,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0}),CN=()=\u003eve.connect(er).connect(q.destination),AN=()=\u003e{ve.disconnect(er),er.disconnect()};return CN(),O(He,()=\u003e{if(yr){AN(),j.numberOfOutputs\u003e0\u0026\u0026ve.connect(Te);for(let we=0,gt=0;we\u003cj.numberOfOutputs;we+=1){let Cn=Le[we];for(let Vt=0;Vt\u003cB[we];Vt+=1)Te.connect(Cn,gt+Vt,Vt);gt+=B[we]}}nn=!0},()=\u003e{yr\u0026\u0026(CN(),Ns()),nn=!1})})(Kk,le,It,fs,E,to,z,Ue,Ze,Qk,Fm,F6,ds),L6=((l,t,i,c,p)=\u003e(f,m,y,b,x,M)=\u003e{if(y!==null)try{let q=new y(f,b,M),X=new Map,D=null;if(Object.defineProperties(q,{channelCount:{get:()=\u003eM.channelCount,set:()=\u003e{throw l()}},channelCountMode:{get:()=\u003e\"explicit\",set:()=\u003e{throw l()}},onprocessorerror:{get:()=\u003eD,set:j=\u003e{typeof D==\"function\"\u0026\u0026q.removeEventListener(\"processorerror\",D),D=typeof j==\"function\"?j:null,typeof D==\"function\"\u0026\u0026q.addEventListener(\"processorerror\",D)}}}),q.addEventListener=(O=q.addEventListener,(...j)=\u003e{if(j[0]===\"processorerror\"){let B=typeof j[1]==\"function\"?j[1]:typeof j[1]==\"object\"\u0026\u0026j[1]!==null\u0026\u0026typeof j[1].handleEvent==\"function\"?j[1].handleEvent:null;if(B!==null){let Q=X.get(j[1]);Q!==void 0?j[1]=Q:(j[1]=Z=\u003e{Z.type===\"error\"?(Object.defineProperties(Z,{type:{value:\"processorerror\"}}),B(Z)):B(new ErrorEvent(j[0],{...Z}))},X.set(B,j[1]))}}return O.call(q,\"error\",j[1],j[2]),O.call(q,...j)}),q.removeEventListener=(w=q.removeEventListener,(...j)=\u003e{if(j[0]===\"processorerror\"){let B=X.get(j[1]);B!==void 0\u0026\u0026(X.delete(j[1]),j[1]=B)}return w.call(q,\"error\",j[1],j[2]),w.call(q,j[0],j[1],j[2])}),M.numberOfOutputs!==0){let j=i(f,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",gain:0});return q.connect(j).connect(f.destination),p(q,()=\u003ej.disconnect(),()=\u003ej.connect(f.destination))}return q}catch(q){throw q.code===11?c():q}var w,O;if(x===void 0)throw c();return(q=\u003e{let{port1:X}=new MessageChannel;try{X.postMessage(q)}finally{X.close()}})(M),t(f,m,x,M)})(It,V6,z,Ze,ds),W6=((l,t,i,c,p,f,m,y,b,x,M,w,O,q,X,D)=\u003e(j,B,Q)=\u003e{let Z=new WeakMap,ee=null;return{render(ae,ne,ie){y(ne,ae);let Ne=Z.get(ne);return Ne!==void 0?Promise.resolve(Ne):(async(pe,fe,ve)=\u003e{let Te=M(pe),Le=null,pt=Y(Te,fe),De=Array.isArray(B.outputChannelCount)?B.outputChannelCount:Array.from(B.outputChannelCount);if(w===null){let Qe=De.reduce((ht,Qt)=\u003eht+Qt,0),it=p(fe,{channelCount:Math.max(1,Qe),channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:Math.max(1,Qe)}),He=[];for(let ht=0;ht\u003cpe.numberOfOutputs;ht+=1)He.push(c(fe,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:De[ht]}));let at=m(fe,{channelCount:B.channelCount,channelCountMode:B.channelCountMode,channelInterpretation:B.channelInterpretation,gain:1});at.connect=t.bind(null,He),at.disconnect=b.bind(null,He),Le=[it,He,at]}else pt||(Te=new w(fe,j));if(Z.set(fe,Le===null?Te:Le[2]),Le!==null){if(ee===null){if(Q===void 0)throw new Error(\"Missing the processor constructor.\");if(O===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");let Qt=pe.channelCount*pe.numberOfInputs,un=Q.parameterDescriptors===void 0?0:Q.parameterDescriptors.length,ot=Qt+un;ee=ei(pe,ot===0?null:await(async()=\u003e{let On=new O(ot,128*Math.ceil(pe.context.length/128),fe.sampleRate),va=[],yr=[];for(let nn=0;nn\u003cB.numberOfInputs;nn+=1)va.push(m(On,{channelCount:B.channelCount,channelCountMode:B.channelCountMode,channelInterpretation:B.channelInterpretation,gain:1})),yr.push(p(On,{channelCount:B.channelCount,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",numberOfOutputs:B.channelCount}));let Ns=await Promise.all(Array.from(pe.parameters.values()).map(async nn=\u003e{let er=f(On,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"discrete\",offset:nn.value});return await q(On,nn,er.offset,ve),er})),xs=c(On,{channelCount:1,channelCountMode:\"explicit\",channelInterpretation:\"speakers\",numberOfInputs:Math.max(1,Qt+un)});for(let nn=0;nn\u003cB.numberOfInputs;nn+=1){va[nn].connect(yr[nn]);for(let er=0;er\u003cB.channelCount;er+=1)yr[nn].connect(xs,er,nn*B.channelCount+er)}for(let[nn,er]of Ns.entries())er.connect(xs,0,Qt+nn),er.start(0);return xs.connect(On.destination),await Promise.all(va.map(nn=\u003eX(pe,On,nn,ve))),D(On)})(),fe,B,De,Q,x)}let Qe=await ee,it=i(fe,{buffer:null,channelCount:2,channelCountMode:\"max\",channelInterpretation:\"speakers\",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[He,at,ht]=Le;Qe!==null\u0026\u0026(it.buffer=Qe,it.start(0)),it.connect(He);for(let Qt=0,un=0;Qt\u003cpe.numberOfOutputs;Qt+=1){let ot=at[Qt];for(let Ie=0;Ie\u003cDe[Qt];Ie+=1)He.connect(ot,un+Ie,Ie);un+=De[Qt]}return ht}if(pt)for(let[Qe,it]of pe.parameters.entries())await l(fe,it,Te.parameters.get(Qe),ve);else for(let[Qe,it]of pe.parameters.entries())await q(fe,it,Te.parameters.get(Qe),ve);return await X(pe,fe,Te,ve),Te})(ae,ne,ie)}}})(ua,Kk,eo,fs,E,to,z,I6,Qk,Fm,mt,Zl,vn,la,qn,Yl),B6=(l=\u003et=\u003el.get(t))(Xk),z6=(l=\u003e(t,i)=\u003e{l.set(t,i)})(Jk),eN=$k?((l,t,i,c,p,f,m,y,b,x,M,w,O)=\u003eclass extends t{constructor(q,X,D){var j;let B=y(q),Q=b(B),Z=M({...Aa,...D}),ee=W.get(B),ae=ee==null?void 0:ee.get(X),ne=Q||B.state!==\"closed\"?B:(j=m(B))!==null\u0026\u0026j!==void 0?j:B,ie=p(ne,Q?null:q.baseLatency,x,X,ae,Z);super(q,!0,ie,Q?c(X,Z,ae):null);let Ne=[];ie.parameters.forEach((fe,ve)=\u003e{let Te=i(this,Q,fe);Ne.push([ve,Te])}),this._nativeAudioWorkletNode=ie,this._onprocessorerror=null,this._parameters=new is(Ne),Q\u0026\u0026l(B,this);let{activeInputs:pe}=f(this);w(ie,pe)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(q){let X=typeof q==\"function\"?O(this,q):null;this._nativeAudioWorkletNode.onprocessorerror=X;let D=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=D!==null\u0026\u0026D===X?q:D}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(D6,Kt,Ur,W6,L6,he,B6,Ct,Nt,Zl,l=\u003e({...l,outputChannelCount:l.outputChannelCount!==void 0?l.outputChannelCount:l.numberOfInputs===1\u0026\u0026l.numberOfOutputs===1?[l.channelCount]:Array.from({length:l.numberOfOutputs},()=\u003e1)}),z6,Ji):void 0,tN=(((l,t,i,c,p)=\u003e{})(It,Ze,Ki,Im,Ea),((l,t)=\u003e(i,c,p)=\u003e{if(t===null)throw new Error(\"Missing the native OfflineAudioContext constructor.\");try{return new t(i,c,p)}catch(f){throw f.name===\"SyntaxError\"?l():f}})(Ze,vn)),nN=((l,t,i,c,p,f,m,y)=\u003e{let b=[];return(x,M)=\u003ei(x).render(x,M,b).then(()=\u003ePromise.all(Array.from(c(M)).map(w=\u003ei(w).render(w,M,b)))).then(()=\u003ep(M)).then(w=\u003e(typeof w.copyFromChannel!=\"function\"?(m(w),ue(w)):t(f,()=\u003ef(w))||y(w),l.add(w),w))})(Pm,hr,wm,Vm,Yl,ce,Cm,Am),G6=(((l,t,i,c,p)=\u003e{})(hr,It,tN,Im,nN),((l,t,i,c,p)=\u003eclass extends l{constructor(f,m,y){let b;if(typeof f==\"number\"\u0026\u0026m!==void 0\u0026\u0026y!==void 0)b={length:m,numberOfChannels:f,sampleRate:y};else{if(typeof f!=\"object\")throw new Error(\"The given parameters are not valid.\");b=f}let{length:x,numberOfChannels:M,sampleRate:w}={...vt,...b},O=c(M,x,w);t(zt,()=\u003ezt(O))||O.addEventListener(\"statechange\",(()=\u003e{let q=0,X=D=\u003e{this._state===\"running\"\u0026\u0026(q\u003e0?(O.removeEventListener(\"statechange\",X),D.stopImmediatePropagation(),this._waitForThePromiseToSettle(D)):q+=1)};return X})()),super(O,M),this._length=x,this._nativeOfflineAudioContext=O,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state===\"running\"?Promise.reject(i()):(this._state=\"running\",p(this.destination,this._nativeOfflineAudioContext).finally(()=\u003e{this._state=null,Ge(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=\u003ethis._waitForThePromiseToSettle(f))}})(Yk,hr,It,tN,nN)),U6=((l,t)=\u003ei=\u003e{let c=l.get(i);return t(c)||t(i)})(T,Tm),$6=(rN=_,aN=Mm,l=\u003erN.has(l)||aN(l));var rN,aN;let X6=(sN=k,iN=kk,l=\u003esN.has(l)||iN(l));var sN,iN;let Y6=((l,t)=\u003ei=\u003e{let c=l.get(i);return t(c)||t(i)})(T,Nt),H6=()=\u003e(async(l,t,i,c,p,f,m,y,b,x,M,w,O,q,X,D)=\u003el(t,t)\u0026\u0026l(i,i)\u0026\u0026l(p,p)\u0026\u0026l(f,f)\u0026\u0026l(y,y)\u0026\u0026l(b,b)\u0026\u0026l(x,x)\u0026\u0026l(M,M)\u0026\u0026l(w,w)\u0026\u0026l(O,O)\u0026\u0026l(q,q)?(await Promise.all([l(c,c),l(m,m),l(X,X),l(D,D)])).every(j=\u003ej):!1)(hr,(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createBuffer(1,1,44100);if(t.copyToChannel===void 0)return!0;let i=new Float32Array(2);try{t.copyFromChannel(i,0,0)}catch{return!1}return!0})(vn),(l=\u003e()=\u003e{if(l===null)return!1;if(l.prototype!==void 0\u0026\u0026l.prototype.close!==void 0)return!0;let t=new l,i=t.close!==void 0;try{t.close()}catch{}return i})(Ea),(l=\u003e()=\u003e{if(l===null)return Promise.resolve(!1);let t=new l(1,1,44100);return new Promise(i=\u003e{let c=!0,p=m=\u003e{c\u0026\u0026(c=!1,t.startRendering(),i(m instanceof TypeError))},f;try{f=t.decodeAudioData(null,()=\u003e{},p)}catch(m){p(m)}f!==void 0\u0026\u0026f.catch(p)})})(vn),(l=\u003e()=\u003e{if(l===null)return!1;let t;try{t=new l({latencyHint:\"balanced\"})}catch{return!1}return t.close(),!0})(Ea),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createGain(),i=t.connect(t)===t;return t.disconnect(t),i})(vn),((l,t)=\u003easync()=\u003e{if(l===null)return!0;if(t===null)return!1;let i=new Blob(['class A extends AudioWorkletProcessor{process(){this.port.postMessage(0)}}registerProcessor(\"a\",A)'],{type:\"application/javascript; charset=utf-8\"}),c=new t(1,128,8e3),p=URL.createObjectURL(i),f=!1;try{await c.audioWorklet.addModule(p);let m=new l(c,\"a\",{numberOfOutputs:0}),y=c.createOscillator();m.port.onmessage=()=\u003ef=!0,y.connect(m),y.start(0),await c.startRendering(),f||await new Promise(b=\u003esetTimeout(b,5))}catch{}finally{URL.revokeObjectURL(p)}return f})(Zl,vn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createChannelMerger();if(t.channelCountMode===\"max\")return!0;try{t.channelCount=2}catch{return!0}return!1})(vn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100);return t.createConstantSource===void 0?!0:t.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(vn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100),i=t.createConvolver();i.buffer=t.createBuffer(1,1,t.sampleRate);try{i.buffer=t.createBuffer(1,1,t.sampleRate)}catch{return!1}return!0})(vn),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l(1,1,44100).createConvolver();try{t.channelCount=1}catch{return!1}return!0})(vn),X4,(l=\u003e()=\u003el!==null\u0026\u0026l.hasOwnProperty(\"isSecureContext\"))(Gr),(l=\u003e()=\u003e{if(l===null)return!1;let t=new l;try{return t.createMediaStreamSource(new MediaStream),!1}catch(i){return!0}})(Ea),(l=\u003e()=\u003e{if(l===null)return Promise.resolve(!1);let t=new l(1,1,44100);if(t.createStereoPanner===void 0||t.createConstantSource===void 0)return Promise.resolve(!0);let i=t.createConstantSource(),c=t.createStereoPanner();return i.channelCount=1,i.offset.value=1,c.channelCount=1,i.start(),i.connect(c).connect(t.destination),t.startRendering().then(p=\u003ep.getChannelData(0)[0]!==1)})(vn),Y4);function Ee(l,t){if(!l)throw new Error(t)}function Tn(l,t,i=1/0){if(!(t\u003c=l\u0026\u0026l\u003c=i))throw new RangeError(`Value must be within [${t}, ${i}], got: ${l}`)}function Lm(l){l.isOffline||l.state===\"running\"||Vc('The AudioContext is \"suspended\". Invoke Tone.start() from a user action to start the audio.')}let Wm=console;function Z6(l){Wm=l}function oN(...l){Wm.log(...l)}function Vc(...l){Wm.warn(...l)}function Zn(l){return l===void 0}function et(l){return!Zn(l)}function cN(l){return typeof l==\"function\"}function dr(l){return typeof l==\"number\"}function ja(l){return Object.prototype.toString.call(l)===\"[object Object]\"\u0026\u0026l.constructor===Object}function Bm(l){return typeof l==\"boolean\"}function Sn(l){return Array.isArray(l)}function Sr(l){return typeof l==\"string\"}function Lc(l){return Sr(l)\u0026\u0026/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(l)}let Da=typeof self==\"object\"?self:null,K6=Da\u0026\u0026(Da.hasOwnProperty(\"AudioContext\")||Da.hasOwnProperty(\"webkitAudioContext\"));function $r(l,t,i,c){var p,f=arguments.length,m=f\u003c3?t:c===null?c=Object.getOwnPropertyDescriptor(t,i):c;if(typeof Reflect==\"object\"\u0026\u0026typeof Reflect.decorate==\"function\")m=Reflect.decorate(l,t,i,c);else for(var y=l.length-1;y\u003e=0;y--)(p=l[y])\u0026\u0026(m=(f\u003c3?p(m):f\u003e3?p(t,i,m):p(t,i))||m);return f\u003e3\u0026\u0026m\u0026\u0026Object.defineProperty(t,i,m),m}function Tt(l,t,i,c){return new(i||(i=Promise))(function(p,f){function m(x){try{b(c.next(x))}catch(M){f(M)}}function y(x){try{b(c.throw(x))}catch(M){f(M)}}function b(x){var M;x.done?p(x.value):(M=x.value,M instanceof i?M:new i(function(w){w(M)})).then(m,y)}b((c=c.apply(l,t||[])).next())})}class Q6{constructor(t,i,c){this._callback=t,this._type=i,this._updateInterval=c,this._createClock()}_createWorker(){let t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:\"text/javascript\"}),i=URL.createObjectURL(t),c=new Worker(i);c.onmessage=this._callback.bind(this),this._worker=c}_createTimeout(){this._timeout=setTimeout(()=\u003e{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if(this._type===\"worker\")try{this._createWorker()}catch(t){this._type=\"timeout\",this._createClock()}else this._type===\"timeout\"\u0026\u0026this._createTimeout()}_disposeClock(){this._timeout\u0026\u0026(clearTimeout(this._timeout),this._timeout=0),this._worker\u0026\u0026(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),this._type===\"worker\"\u0026\u0026this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function ai(l){return X6(l)}function ms(l){return $6(l)}function Kl(l){return Y6(l)}function no(l){return U6(l)}function uN(l){return l instanceof AudioBuffer}function J6(l,t){return l===\"value\"||ai(t)||ms(t)||uN(t)}function Mr(l,...t){if(!t.length)return l;let i=t.shift();if(ja(l)\u0026\u0026ja(i))for(let c in i)J6(c,i[c])?l[c]=i[c]:ja(i[c])?(l[c]||Object.assign(l,{[c]:{}}),Mr(l[c],i[c])):Object.assign(l,{[c]:i[c]});return Mr(l,...t)}function V(l,t,i=[],c){let p={},f=Array.from(t);if(ja(f[0])\u0026\u0026c\u0026\u0026!Reflect.has(f[0],c)\u0026\u0026(Object.keys(f[0]).some(m=\u003eReflect.has(l,m))||(Mr(p,{[c]:f[0]}),i.splice(i.indexOf(c),1),f.shift())),f.length===1\u0026\u0026ja(f[0]))Mr(p,f[0]);else for(let m=0;m\u003ci.length;m++)et(f[m])\u0026\u0026(p[i[m]]=f[m]);return Mr(l,p)}function Pr(l,t){return Zn(l)?t:l}function Mn(l,t){return t.forEach(i=\u003e{Reflect.has(l,i)\u0026\u0026delete l[i]}),l}class Ia{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Da\u0026\u0026this.toString()===Da.TONE_DEBUG_CLASS)\u0026\u0026oN(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Ia.version=u;function Ql(l,t){return l\u003et+1e-6}function zm(l,t){return Ql(l,t)||Xr(l,t)}function lN(l,t){return l+1e-6\u003ct}function Xr(l,t){return Math.abs(l-t)\u003c1e-6}function pN(l,t,i){return Math.max(Math.min(l,i),t)}class Yr extends Ia{constructor(){super(),this.name=\"Timeline\",this._timeline=[];let t=V(Yr.getDefaults(),arguments,[\"memory\"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Ee(Reflect.has(t,\"time\"),\"Timeline: events must have a time attribute\"),t.time=t.time.valueOf(),this.increasing\u0026\u0026this.length){let i=this._timeline[this.length-1];Ee(zm(t.time,i.time),\"The time must be greater than or equal to the last scheduled time\"),this._timeline.push(t)}else{let i=this._search(t.time);this._timeline.splice(i+1,0,t)}if(this.length\u003ethis.memory){let i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(t){let i=this._timeline.indexOf(t);return i!==-1\u0026\u0026this._timeline.splice(i,1),this}get(t,i=\"time\"){let c=this._search(t,i);return c!==-1?this._timeline[c]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,i=\"time\"){let c=this._search(t,i);return c+1\u003cthis._timeline.length?this._timeline[c+1]:null}getBefore(t){let i=this._timeline.length;if(i\u003e0\u0026\u0026this._timeline[i-1].time\u003ct)return this._timeline[i-1];let c=this._search(t);return c-1\u003e=0?this._timeline[c-1]:null}cancel(t){if(this._timeline.length\u003e1){let i=this._search(t);if(i\u003e=0)if(Xr(this._timeline[i].time,t)){for(let c=i;c\u003e=0\u0026\u0026Xr(this._timeline[c].time,t);c--)i=c;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1\u0026\u0026zm(this._timeline[0].time,t)\u0026\u0026(this._timeline=[]);return this}cancelBefore(t){let i=this._search(t);return i\u003e=0\u0026\u0026(this._timeline=this._timeline.slice(i+1)),this}previousEvent(t){let i=this._timeline.indexOf(t);return i\u003e0?this._timeline[i-1]:null}_search(t,i=\"time\"){if(this._timeline.length===0)return-1;let c=0,p=this._timeline.length,f=p;if(p\u003e0\u0026\u0026this._timeline[p-1][i]\u003c=t)return p-1;for(;c\u003cf;){let m=Math.floor(c+(f-c)/2),y=this._timeline[m],b=this._timeline[m+1];if(Xr(y[i],t)){for(let x=m;x\u003cthis._timeline.length\u0026\u0026Xr(this._timeline[x][i],t);x++)m=x;return m}if(lN(y[i],t)\u0026\u0026Ql(b[i],t))return m;Ql(y[i],t)?f=m:c=m+1}return-1}_iterate(t,i=0,c=this._timeline.length-1){this._timeline.slice(i,c+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,i){let c=this._search(t);return c!==-1\u0026\u0026this._iterate(i,0,c),this}forEachAfter(t,i){let c=this._search(t);return this._iterate(i,c+1),this}forEachBetween(t,i,c){let p=this._search(t),f=this._search(i);return p!==-1\u0026\u0026f!==-1?(this._timeline[p].time!==t\u0026\u0026(p+=1),this._timeline[f].time===i\u0026\u0026(f-=1),this._iterate(c,p,f)):p===-1\u0026\u0026this._iterate(c,0,f),this}forEachFrom(t,i){let c=this._search(t);for(;c\u003e=0\u0026\u0026this._timeline[c].time\u003e=t;)c--;return this._iterate(i,c+1),this}forEachAtTime(t,i){let c=this._search(t);if(c!==-1\u0026\u0026Xr(this._timeline[c].time,t)){let p=c;for(let f=c;f\u003e=0\u0026\u0026Xr(this._timeline[f].time,t);f--)p=f;this._iterate(f=\u003e{i(f)},p,c)}return this}dispose(){return super.dispose(),this._timeline=[],this}}let hN=[];function Jl(l){hN.push(l)}let dN=[];function ep(l){dN.push(l)}class ro extends Ia{constructor(){super(...arguments),this.name=\"Emitter\"}on(t,i){return t.split(/\\W+/).forEach(c=\u003e{Zn(this._events)\u0026\u0026(this._events={}),this._events.hasOwnProperty(c)||(this._events[c]=[]),this._events[c].push(i)}),this}once(t,i){let c=(...p)=\u003e{i(...p),this.off(t,c)};return this.on(t,c),this}off(t,i){return t.split(/\\W+/).forEach(c=\u003e{if(Zn(this._events)\u0026\u0026(this._events={}),this._events.hasOwnProperty(t))if(Zn(i))this._events[t]=[];else{let p=this._events[t];for(let f=p.length-1;f\u003e=0;f--)p[f]===i\u0026\u0026p.splice(f,1)}}),this}emit(t,...i){if(this._events\u0026\u0026this._events.hasOwnProperty(t)){let c=this._events[t].slice(0);for(let p=0,f=c.length;p\u003cf;p++)c[p].apply(this,i)}return this}static mixin(t){[\"on\",\"once\",\"off\",\"emit\"].forEach(i=\u003e{let c=Object.getOwnPropertyDescriptor(ro.prototype,i);Object.defineProperty(t.prototype,i,c)})}dispose(){return super.dispose(),this._events=void 0,this}}class Gm extends ro{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class ao extends Gm{constructor(){super(),this.name=\"Context\",this._constants=new Map,this._timeouts=new Yr,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;let t=V(ao.getDefaults(),arguments,[\"context\"]);t.context?this._context=t.context:this._context=function(i){return new j6(i)}({latencyHint:t.latencyHint}),this._ticker=new Q6(this.emit.bind(this,\"tick\"),t.clockSource,t.updateInterval),this.on(\"tick\",this._timeoutLoop.bind(this)),this._context.onstatechange=()=\u003e{this.emit(\"statechange\",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:\"worker\",latencyHint:\"interactive\",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,hN.forEach(i=\u003ei(t)),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,i,c){return this._context.createBuffer(t,i,c)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,i){return this._context.createIIRFilter(t,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,i,c){return this._context.createPeriodicWave(t,i,c)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Ee(no(this._context),\"Not available if OfflineAudioContext\"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Ee(no(this._context),\"Not available if OfflineAudioContext\"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Ee(no(this._context),\"Not available if OfflineAudioContext\"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Ee(!this._initialized,\"The listener cannot be set after initialization.\"),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Ee(!this._initialized,\"The transport cannot be set after initialization.\"),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Ee(!this._initialized,\"Draw cannot be set after initialization.\"),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Ee(!this._initialized,\"The destination cannot be set after initialization.\"),this._destination=t}createAudioWorkletNode(t,i){return function(c,p,f){return Ee(et(eN),\"This node only works in a secure context (https or localhost)\"),new eN(c,p,f)}(this.rawContext,t,i)}addAudioWorkletModule(t,i){return Tt(this,void 0,void 0,function*(){Ee(et(this.rawContext.audioWorklet),\"AudioWorkletNode is only available in a secure context (https or localhost)\"),this._workletModules.has(i)||this._workletModules.set(i,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(i)})}workletsAreReady(){return Tt(this,void 0,void 0,function*(){let t=[];this._workletModules.forEach(i=\u003et.push(i)),yield Promise.all(t)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let i=0;if(this._latencyHint=t,Sr(t))switch(t){case\"interactive\":i=.1;break;case\"playback\":i=.5;break;case\"balanced\":i=.25}this.lookAhead=i,this.updateInterval=i/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return no(this._context)?this._context.resume():Promise.resolve()}close(){return Tt(this,void 0,void 0,function*(){var t;no(this._context)\u0026\u0026(yield this._context.close()),this._initialized\u0026\u0026(t=this,dN.forEach(i=\u003ei(t)))})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{let i=this._context.createBuffer(1,128,this._context.sampleRate),c=i.getChannelData(0);for(let f=0;f\u003cc.length;f++)c[f]=t;let p=this._context.createBufferSource();return p.channelCount=1,p.channelCountMode=\"explicit\",p.buffer=i,p.loop=!0,p.start(0),this._constants.set(t,p),p}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=\u003ethis._constants[t].disconnect()),this}_timeoutLoop(){let t=this.now(),i=this._timeouts.peek();for(;this._timeouts.length\u0026\u0026i\u0026\u0026i.time\u003c=t;)i.callback(),this._timeouts.shift(),i=this._timeouts.peek()}setTimeout(t,i){this._timeoutIds++;let c=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:c+i}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(i=\u003e{i.id===t\u0026\u0026this._timeouts.remove(i)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,i){let c=++this._timeoutIds,p=()=\u003e{let f=this.now();this._timeouts.add({callback:()=\u003e{t(),p()},id:c,time:f+i})};return p(),c}}function Ve(l,t){Sn(t)?t.forEach(i=\u003eVe(l,i)):Object.defineProperty(l,t,{enumerable:!0,writable:!1})}function Wc(l,t){Sn(t)?t.forEach(i=\u003eWc(l,i)):Object.defineProperty(l,t,{writable:!0})}let st=()=\u003e{};class lt extends Ia{constructor(){super(),this.name=\"ToneAudioBuffer\",this.onload=st;let t=V(lt.getDefaults(),arguments,[\"url\",\"onload\",\"onerror\"]);this.reverse=t.reverse,this.onload=t.onload,t.url\u0026\u0026uN(t.url)||t.url instanceof lt?this.set(t.url):Sr(t.url)\u0026\u0026this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:st,onload:st,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:At().sampleRate}set(t){return t instanceof lt?t.loaded?this._buffer=t.get():t.onload=()=\u003e{this.set(t),this.onload(this)}:this._buffer=t,this._reversed\u0026\u0026this._reverse(),this}get(){return this._buffer}load(t){return Tt(this,void 0,void 0,function*(){let i=lt.load(t).then(c=\u003e{this.set(c),this.onload(this)});lt.downloads.push(i);try{yield i}finally{let c=lt.downloads.indexOf(i);lt.downloads.splice(c,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){let i=Sn(t)\u0026\u0026t[0].length\u003e0,c=i?t.length:1,p=i?t[0].length:t.length,f=At(),m=f.createBuffer(c,p,f.sampleRate),y=i||c!==1?t:[t];for(let b=0;b\u003cc;b++)m.copyToChannel(y[b],b);return this._buffer=m,this}toMono(t){if(dr(t))this.fromArray(this.toArray(t));else{let i=new Float32Array(this.length),c=this.numberOfChannels;for(let p=0;p\u003cc;p++){let f=this.toArray(p);for(let m=0;m\u003cf.length;m++)i[m]+=f[m]}i=i.map(p=\u003ep/c),this.fromArray(i)}return this}toArray(t){if(dr(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{let i=[];for(let c=0;c\u003cthis.numberOfChannels;c++)i[c]=this.getChannelData(c);return i}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,i=this.duration){let c=Math.floor(t*this.sampleRate),p=Math.floor(i*this.sampleRate);Ee(c\u003cp,\"The start time must be less than the end time\");let f=p-c,m=At().createBuffer(this.numberOfChannels,f,this.sampleRate);for(let y=0;y\u003cthis.numberOfChannels;y++)m.copyToChannel(this.getChannelData(y).subarray(c,p),y);return new lt(m)}_reverse(){if(this.loaded)for(let t=0;t\u003cthis.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length\u003e0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t\u0026\u0026(this._reversed=t,this._reverse())}static fromArray(t){return new lt().fromArray(t)}static fromUrl(t){return Tt(this,void 0,void 0,function*(){return yield new lt().load(t)})}static load(t){return Tt(this,void 0,void 0,function*(){let i=t.match(/\\[([^\\]\\[]+\\|.+)\\]$/);if(i){let m=i[1].split(\"|\"),y=m[0];for(let b of m)if(lt.supportsType(b)){y=b;break}t=t.replace(i[0],y)}let c=lt.baseUrl===\"\"||lt.baseUrl.endsWith(\"/\")?lt.baseUrl:lt.baseUrl+\"/\",p=yield fetch(c+t);if(!p.ok)throw new Error(\"could not load url: \"+t);let f=yield p.arrayBuffer();return yield At().decodeAudioData(f)})}static supportsType(t){let i=t.split(\".\"),c=i[i.length-1];return document.createElement(\"audio\").canPlayType(\"audio/\"+c)!==\"\"}static loaded(){return Tt(this,void 0,void 0,function*(){for(yield Promise.resolve();lt.downloads.length;)yield lt.downloads[0]})}}lt.baseUrl=\"\",lt.downloads=[];class so extends ao{constructor(){var t,i,c;super({clockSource:\"offline\",context:Kl(arguments[0])?arguments[0]:(t=arguments[0],i=arguments[1]*arguments[2],c=arguments[2],new G6(t,i,c)),lookAhead:0,updateInterval:Kl(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name=\"OfflineContext\",this._currentTime=0,this.isOffline=!0,this._duration=Kl(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Tt(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime\u003e=0;){this.emit(\"tick\"),this._currentTime+=128/this.sampleRate,i++;let c=Math.floor(this.sampleRate/128);t\u0026\u0026i%c==0\u0026\u0026(yield new Promise(p=\u003esetTimeout(p,1)))}})}render(t=!0){return Tt(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(t);let i=yield this._context.startRendering();return new lt(i)})}close(){return Promise.resolve()}}let fN=new class extends Gm{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(l,t,i){return{}}createChannelMerger(l){return{}}createChannelSplitter(l){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(l){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(l,t){return{}}createPanner(){return{}}createPeriodicWave(l,t,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(l){return{}}createMediaElementSource(l){return{}}createMediaStreamDestination(){return{}}decodeAudioData(l){return Promise.resolve({})}createAudioWorkletNode(l,t){return{}}get rawContext(){return{}}addAudioWorkletModule(l,t){return Tt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(l,t){return 0}clearTimeout(l){return this}setInterval(l,t){return 0}clearInterval(l){return this}getConstant(l){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(l){}get destination(){return{}}set destination(l){}now(){return 0}immediate(){return 0}},tp=fN;function At(){return tp===fN\u0026\u0026K6\u0026\u0026np(new ao),tp}function np(l){tp=no(l)?new ao(l):Kl(l)?new so(l):l}function e8(){return tp.resume()}if(Da\u0026\u0026!Da.TONE_SILENCE_LOGGING){let l=\"v\";u===\"dev\"\u0026\u0026(l=\"\");let t=` * Tone.js ${l}${u} * `;console.log(\"%c\"+t,\"background: #000; color: #fff\")}function io(l){return Math.pow(10,l/20)}function Bc(l){return Math.log(l)/Math.LN10*20}function oo(l){return Math.pow(2,l/12)}let rp=440;function vs(l){return Math.round(mN(l))}function mN(l){return 69+12*Math.log2(l/rp)}function Um(l){return rp*Math.pow(2,(l-69)/12)}class $m extends Ia{constructor(t,i,c){super(),this.defaultUnits=\"s\",this._val=i,this._units=c,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=\u003ethis._frequencyToUnits(parseFloat(t)),regexp:/^(\\d+(?:\\.\\d+)?)hz$/i},i:{method:t=\u003ethis._ticksToUnits(parseInt(t,10)),regexp:/^(\\d+)i$/i},m:{method:t=\u003ethis._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\\d+)m$/i},n:{method:(t,i)=\u003e{let c=parseInt(t,10),p=i===\".\"?1.5:1;return c===1?this._beatsToUnits(this._getTimeSignature())*p:this._beatsToUnits(4/c)*p},regexp:/^(\\d+)n(\\.?)$/i},number:{method:t=\u003ethis._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\\d+(?:\\.\\d+)?)$/},s:{method:t=\u003ethis._secondsToUnits(parseFloat(t)),regexp:/^(\\d+(?:\\.\\d+)?)s$/},samples:{method:t=\u003eparseInt(t,10)/this.context.sampleRate,regexp:/^(\\d+)samples$/},t:{method:t=\u003e{let i=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(i)))},regexp:/^(\\d+)t$/i},tr:{method:(t,i,c)=\u003e{let p=0;return t\u0026\u0026t!==\"0\"\u0026\u0026(p+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),i\u0026\u0026i!==\"0\"\u0026\u0026(p+=this._beatsToUnits(parseFloat(i))),c\u0026\u0026c!==\"0\"\u0026\u0026(p+=this._beatsToUnits(parseFloat(c)/4)),p},regexp:/^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?$/}}}valueOf(){if(this._val instanceof $m\u0026\u0026this.fromType(this._val),Zn(this._val))return this._noArg();if(Sr(this._val)\u0026\u0026Zn(this._units)){for(let t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(ja(this._val)){let t=0;for(let i in this._val)if(et(this._val[i])){let c=this._val[i];t+=new this.constructor(this.context,i).valueOf()*c}return t}if(et(this._units)){let t=this._expressions[this._units],i=this._val.toString().trim().match(t.regexp);return i?t.method.apply(this,i.slice(1)):t.method.call(this,this._val)}return Sr(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case\"s\":this._val=t.toSeconds();break;case\"i\":this._val=t.toTicks();break;case\"hz\":this._val=t.toFrequency();break;case\"midi\":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class fr extends $m{constructor(){super(...arguments),this.name=\"TimeClass\"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=\u003ethis._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\\+(.+)/},quantize:{method:t=\u003e{let i=new fr(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(t,i=1){let c=new this.constructor(this.context,t).valueOf(),p=this.valueOf();return p+(Math.round(p/c)*c-p)*i}toNotation(){let t=this.toSeconds(),i=[\"1m\"];for(let f=1;f\u003c9;f++){let m=Math.pow(2,f);i.push(m+\"n.\"),i.push(m+\"n\"),i.push(m+\"t\")}i.push(\"0\");let c=i[0],p=new fr(this.context,i[0]).toSeconds();return i.forEach(f=\u003e{let m=new fr(this.context,f).toSeconds();Math.abs(m-t)\u003cMath.abs(p-t)\u0026\u0026(c=f,p=m)}),c}toBarsBeatsSixteenths(){let t=this._beatsToUnits(1),i=this.valueOf()/t;i=parseFloat(i.toFixed(4));let c=Math.floor(i/this._getTimeSignature()),p=i%1*4;i=Math.floor(i)%this._getTimeSignature();let f=p.toString();return f.length\u003e3\u0026\u0026(p=parseFloat(parseFloat(f).toFixed(3))),[c,i,p].join(\":\")}toTicks(){let t=this._beatsToUnits(1),i=this.valueOf()/t;return Math.round(i*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return vs(this.toFrequency())}_now(){return this.context.now()}}function t8(l,t){return new fr(At(),l,t)}class zn extends fr{constructor(){super(...arguments),this.name=\"Frequency\",this.defaultUnits=\"hz\"}static get A4(){return rp}static set A4(t){(function(i){rp=i})(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\\d+(?:\\.\\d+)?midi)/,method(t){return this.defaultUnits===\"midi\"?t:zn.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,i){let c=n8[t.toLowerCase()]+12*(parseInt(i,10)+1);return this.defaultUnits===\"midi\"?c:zn.mtof(c)}},tr:{regexp:/^(\\d+(?:\\.\\d+)?):(\\d+(?:\\.\\d+)?):?(\\d+(?:\\.\\d+)?)?/,method(t,i,c){let p=1;return t\u0026\u0026t!==\"0\"\u0026\u0026(p*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),i\u0026\u0026i!==\"0\"\u0026\u0026(p*=this._beatsToUnits(parseFloat(i))),c\u0026\u0026c!==\"0\"\u0026\u0026(p*=this._beatsToUnits(parseFloat(c)/4)),p}}})}transpose(t){return new zn(this.context,this.valueOf()*oo(t))}harmonize(t){return t.map(i=\u003ethis.transpose(i))}toMidi(){return vs(this.valueOf())}toNote(){let t=this.toFrequency(),i=Math.log2(t/zn.A4),c=Math.round(12*i)+57,p=Math.floor(c/12);return p\u003c0\u0026\u0026(c+=-12*p),r8[c%12]+p.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){let t=this._beatsToUnits(1),i=this.valueOf()/t;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return Um(t)}static ftom(t){return vs(t)}}let n8={cbb:-2,cb:-1,c:0,\"c#\":1,cx:2,dbb:0,db:1,d:2,\"d#\":3,dx:4,ebb:2,eb:3,e:4,\"e#\":5,ex:6,fbb:3,fb:4,f:5,\"f#\":6,fx:7,gbb:5,gb:6,g:7,\"g#\":8,gx:9,abb:7,ab:8,a:9,\"a#\":10,ax:11,bbb:9,bb:10,b:11,\"b#\":12,bx:13},r8=[\"C\",\"C#\",\"D\",\"D#\",\"E\",\"F\",\"F#\",\"G\",\"G#\",\"A\",\"A#\",\"B\"];function a8(l,t){return new zn(At(),l,t)}class tn extends fr{constructor(){super(...arguments),this.name=\"TransportTime\"}_now(){return this.context.transport.seconds}}function s8(l,t){return new tn(At(),l,t)}class gn extends Ia{constructor(){super();let t=V(gn.getDefaults(),arguments,[\"context\"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:At()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new fr(this.context,t).toSeconds()}toFrequency(t){return new zn(this.context,t).toFrequency()}toTicks(t){return new tn(this.context,t).toTicks()}_getPartialProperties(t){let i=this.get();return Object.keys(i).forEach(c=\u003e{Zn(t[c])\u0026\u0026delete i[c]}),i}get(){let t=this.constructor.getDefaults();return Object.keys(t).forEach(i=\u003e{if(Reflect.has(this,i)){let c=this[i];et(c)\u0026\u0026et(c.value)\u0026\u0026et(c.setValueAtTime)?t[i]=c.value:c instanceof gn?t[i]=c._getPartialProperties(t[i]):Sn(c)||dr(c)||Sr(c)||Bm(c)?t[i]=c:delete t[i]}}),t}set(t){return Object.keys(t).forEach(i=\u003e{Reflect.has(this,i)\u0026\u0026et(this[i])\u0026\u0026(this[i]\u0026\u0026et(this[i].value)\u0026\u0026et(this[i].setValueAtTime)?this[i].value!==t[i]\u0026\u0026(this[i].value=t[i]):this[i]instanceof gn?this[i].set(t[i]):this[i]=t[i])}),this}}class co extends Yr{constructor(t=\"stopped\"){super(),this.name=\"StateTimeline\",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){let i=this.get(t);return i!==null?i.state:this._initial}setStateAtTime(t,i,c){return Tn(i,0),this.add(Object.assign({},c,{state:t,time:i})),this}getLastState(t,i){for(let c=this._search(i);c\u003e=0;c--){let p=this._timeline[c];if(p.state===t)return p}}getNextState(t,i){let c=this._search(i);if(c!==-1)for(let p=c;p\u003cthis._timeline.length;p++){let f=this._timeline[p];if(f.state===t)return f}}}class Ye extends gn{constructor(){super(V(Ye.getDefaults(),arguments,[\"param\",\"units\",\"convert\"])),this.name=\"Param\",this.overridden=!1,this._minOutput=1e-7;let t=V(Ye.getDefaults(),arguments,[\"param\",\"units\",\"convert\"]);for(Ee(et(t.param)\u0026\u0026(ai(t.param)||t.param instanceof Ye),\"param must be an AudioParam\");!ai(t.param);)t.param=t.param._param;this._swappable=!!et(t.swappable)\u0026\u0026t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Yr(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,et(t.value)\u0026\u0026t.value!==this._toType(this._initialValue)\u0026\u0026this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(gn.getDefaults(),{convert:!0,units:\"number\"})}get value(){let t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return et(this._minValue)?this._minValue:this.units===\"time\"||this.units===\"frequency\"||this.units===\"normalRange\"||this.units===\"positive\"||this.units===\"transportTime\"||this.units===\"ticks\"||this.units===\"bpm\"||this.units===\"hertz\"||this.units===\"samples\"?0:this.units===\"audioRange\"?-1:this.units===\"decibels\"?-1/0:this._param.minValue}get maxValue(){return et(this._maxValue)?this._maxValue:this.units===\"normalRange\"||this.units===\"audioRange\"?1:this._param.maxValue}_is(t,i){return this.units===i}_assertRange(t){return et(this.maxValue)\u0026\u0026et(this.minValue)\u0026\u0026Tn(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert\u0026\u0026!this.overridden?this._is(t,\"time\")?this.toSeconds(t):this._is(t,\"decibels\")?io(t):this._is(t,\"frequency\")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert\u0026\u0026this.units===\"decibels\"?Bc(t):t}setValueAtTime(t,i){let c=this.toSeconds(i),p=this._fromType(t);return Ee(isFinite(p)\u0026\u0026isFinite(c),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._assertRange(p),this.log(this.units,\"setValueAtTime\",t,c),this._events.add({time:c,type:\"setValueAtTime\",value:p}),this._param.setValueAtTime(p,c),this}getValueAtTime(t){let i=Math.max(this.toSeconds(t),0),c=this._events.getAfter(i),p=this._events.get(i),f=this._initialValue;if(p===null)f=this._initialValue;else if(p.type!==\"setTargetAtTime\"||c!==null\u0026\u0026c.type!==\"setValueAtTime\")if(c===null)f=p.value;else if(c.type===\"linearRampToValueAtTime\"||c.type===\"exponentialRampToValueAtTime\"){let m=p.value;if(p.type===\"setTargetAtTime\"){let y=this._events.getBefore(p.time);m=y===null?this._initialValue:y.value}f=c.type===\"linearRampToValueAtTime\"?this._linearInterpolate(p.time,m,c.time,c.value,i):this._exponentialInterpolate(p.time,m,c.time,c.value,i)}else f=p.value;else{let m=this._events.getBefore(p.time),y;y=m===null?this._initialValue:m.value,p.type===\"setTargetAtTime\"\u0026\u0026(f=this._exponentialApproach(p.time,y,p.value,p.constant,i))}return this._toType(f)}setRampPoint(t){t=this.toSeconds(t);let i=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(i)===0\u0026\u0026(i=this._toType(this._minOutput)),this.setValueAtTime(i,t),this}linearRampToValueAtTime(t,i){let c=this._fromType(t),p=this.toSeconds(i);return Ee(isFinite(c)\u0026\u0026isFinite(p),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._assertRange(c),this._events.add({time:p,type:\"linearRampToValueAtTime\",value:c}),this.log(this.units,\"linearRampToValueAtTime\",t,p),this._param.linearRampToValueAtTime(c,p),this}exponentialRampToValueAtTime(t,i){let c=this._fromType(t);c=Xr(c,0)?this._minOutput:c,this._assertRange(c);let p=this.toSeconds(i);return Ee(isFinite(c)\u0026\u0026isFinite(p),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._events.add({time:p,type:\"exponentialRampToValueAtTime\",value:c}),this.log(this.units,\"exponentialRampToValueAtTime\",t,p),this._param.exponentialRampToValueAtTime(c,p),this}exponentialRampTo(t,i,c){return c=this.toSeconds(c),this.setRampPoint(c),this.exponentialRampToValueAtTime(t,c+this.toSeconds(i)),this}linearRampTo(t,i,c){return c=this.toSeconds(c),this.setRampPoint(c),this.linearRampToValueAtTime(t,c+this.toSeconds(i)),this}targetRampTo(t,i,c){return c=this.toSeconds(c),this.setRampPoint(c),this.exponentialApproachValueAtTime(t,c,i),this}exponentialApproachValueAtTime(t,i,c){i=this.toSeconds(i),c=this.toSeconds(c);let p=Math.log(c+1)/Math.log(200);return this.setTargetAtTime(t,i,p),this.cancelAndHoldAtTime(i+.9*c),this.linearRampToValueAtTime(t,i+c),this}setTargetAtTime(t,i,c){let p=this._fromType(t);Ee(isFinite(c)\u0026\u0026c\u003e0,\"timeConstant must be a number greater than 0\");let f=this.toSeconds(i);return this._assertRange(p),Ee(isFinite(p)\u0026\u0026isFinite(f),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._events.add({constant:c,time:f,type:\"setTargetAtTime\",value:p}),this.log(this.units,\"setTargetAtTime\",t,f,c),this._param.setTargetAtTime(p,f,c),this}setValueCurveAtTime(t,i,c,p=1){c=this.toSeconds(c),i=this.toSeconds(i);let f=this._fromType(t[0])*p;this.setValueAtTime(this._toType(f),i);let m=c/(t.length-1);for(let y=1;y\u003ct.length;y++){let b=this._fromType(t[y])*p;this.linearRampToValueAtTime(this._toType(b),i+y*m)}return this}cancelScheduledValues(t){let i=this.toSeconds(t);return Ee(isFinite(i),\"Invalid argument to cancelScheduledValues: \"+JSON.stringify(t)),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,\"cancelScheduledValues\",i),this}cancelAndHoldAtTime(t){let i=this.toSeconds(t),c=this._fromType(this.getValueAtTime(i));Ee(isFinite(i),\"Invalid argument to cancelAndHoldAtTime: \"+JSON.stringify(t)),this.log(this.units,\"cancelAndHoldAtTime\",i,\"value=\"+c);let p=this._events.get(i),f=this._events.getAfter(i);return p\u0026\u0026Xr(p.time,i)?f?(this._param.cancelScheduledValues(f.time),this._events.cancel(f.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):f\u0026\u0026(this._param.cancelScheduledValues(f.time),this._events.cancel(f.time),f.type===\"linearRampToValueAtTime\"?this.linearRampToValueAtTime(this._toType(c),i):f.type===\"exponentialRampToValueAtTime\"\u0026\u0026this.exponentialRampToValueAtTime(this._toType(c),i)),this._events.add({time:i,type:\"setValueAtTime\",value:c}),this._param.setValueAtTime(c,i),this}rampTo(t,i=.1,c){return this.units===\"frequency\"||this.units===\"bpm\"||this.units===\"decibels\"?this.exponentialRampTo(t,i,c):this.linearRampTo(t,i,c),this}apply(t){let i=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(i),i);let c=this._events.get(i);if(c\u0026\u0026c.type===\"setTargetAtTime\"){let p=this._events.getAfter(c.time),f=p?p.time:i+2,m=(f-i)/10;for(let y=i;y\u003cf;y+=m)t.linearRampToValueAtTime(this.getValueAtTime(y),y)}return this._events.forEachAfter(this.context.currentTime,p=\u003e{p.type===\"cancelScheduledValues\"?t.cancelScheduledValues(p.time):p.type===\"setTargetAtTime\"?t.setTargetAtTime(p.value,p.time,p.constant):t[p.type](p.value,p.time)}),this}setParam(t){Ee(this._swappable,\"The Param must be assigned as 'swappable' in the constructor\");let i=this.input;return i.disconnect(this._param),this.apply(t),this._param=t,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,i,c,p,f){return c+(i-c)*Math.exp(-(f-t)/p)}_linearInterpolate(t,i,c,p,f){return i+(f-t)/(c-t)*(p-i)}_exponentialInterpolate(t,i,c,p,f){return i*Math.pow(p/i,(f-t)/(c-t))}}class ge extends gn{constructor(){super(...arguments),this.name=\"ToneAudioNode\",this._internalChannels=[]}get numberOfInputs(){return et(this.input)?ai(this.input)||this.input instanceof Ye?1:this.input.numberOfInputs:0}get numberOfOutputs(){return et(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return et(t)\u0026\u0026(t instanceof ge||ms(t))}_getInternalNodes(){let t=this._internalChannels.slice(0);return this._isAudioNode(this.input)\u0026\u0026t.push(this.input),this._isAudioNode(this.output)\u0026\u0026this.input!==this.output\u0026\u0026t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(i=\u003e{i.channelCount=t.channelCount,i.channelCountMode=t.channelCountMode,i.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){let t=this._getInternalNodes();Ee(t.length\u003e0,\"ToneAudioNode does not have any internal nodes\");let i=t[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){let i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){let i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){let i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:t}))}connect(t,i=0,c=0){return Kn(this,t,i,c),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Vc(\"toMaster() has been renamed toDestination()\"),this.toDestination()}disconnect(t,i=0,c=0){return Xm(this,t,i,c),this}chain(...t){return mr(this,...t),this}fan(...t){return t.forEach(i=\u003ethis.connect(i)),this}dispose(){return super.dispose(),et(this.input)\u0026\u0026(this.input instanceof ge?this.input.dispose():ms(this.input)\u0026\u0026this.input.disconnect()),et(this.output)\u0026\u0026(this.output instanceof ge?this.output.dispose():ms(this.output)\u0026\u0026this.output.disconnect()),this._internalChannels=[],this}}function mr(...l){let t=l.shift();l.reduce((i,c)=\u003e(i instanceof ge?i.connect(c):ms(i)\u0026\u0026Kn(i,c),c),t)}function Kn(l,t,i=0,c=0){for(Ee(et(l),\"Cannot connect from undefined node\"),Ee(et(t),\"Cannot connect to undefined node\"),(t instanceof ge||ms(t))\u0026\u0026Ee(t.numberOfInputs\u003e0,\"Cannot connect to node with no inputs\"),Ee(l.numberOfOutputs\u003e0,\"Cannot connect from node with no outputs\");t instanceof ge||t instanceof Ye;)et(t.input)\u0026\u0026(t=t.input);for(;l instanceof ge;)et(l.output)\u0026\u0026(l=l.output);ai(t)?l.connect(t,i):l.connect(t,i,c)}function Xm(l,t,i=0,c=0){if(et(t))for(;t instanceof ge;)t=t.input;for(;!ms(l);)et(l.output)\u0026\u0026(l=l.output);ai(t)?l.disconnect(t,i):ms(t)?l.disconnect(t,i,c):l.disconnect()}class Ce extends ge{constructor(){super(V(Ce.getDefaults(),arguments,[\"gain\",\"units\"])),this.name=\"Gain\",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;let t=V(Ce.getDefaults(),arguments,[\"gain\",\"units\"]);this.gain=new Ye({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Ve(this,\"gain\")}static getDefaults(){return Object.assign(ge.getDefaults(),{convert:!0,gain:1,units:\"gain\"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class uo extends ge{constructor(t){super(t),this.onended=st,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ce({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){let c=this.toSeconds(i);return this._startTime!==-1\u0026\u0026c\u003e=this._startTime\u0026\u0026(this._stopTime===-1||c\u003c=this._stopTime)?\"started\":\"stopped\"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(ge.getDefaults(),{curve:\"linear\",fadeIn:0,fadeOut:0,onended:st})}_startGain(t,i=1){Ee(this._startTime===-1,\"Source cannot be started more than once\");let c=this.toSeconds(this._fadeIn);return this._startTime=t+c,this._startTime=Math.max(this._startTime,this.context.currentTime),c\u003e0?(this._gainNode.gain.setValueAtTime(0,t),this._curve===\"linear\"?this._gainNode.gain.linearRampToValueAtTime(i,t+c):this._gainNode.gain.exponentialApproachValueAtTime(i,t,c)):this._gainNode.gain.setValueAtTime(i,t),this}stop(t){return this.log(\"stop\",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Ee(this._startTime!==-1,\"'start' must be called before 'stop'\"),this.cancelStop();let i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+i,this._stopTime=Math.max(this._stopTime,this.context.currentTime),i\u003e0?this._curve===\"linear\"?this._gainNode.gain.linearRampTo(0,i,t):this._gainNode.gain.targetRampTo(0,i,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=\u003e{let c=this._curve===\"exponential\"?2*i:0;this._stopSource(this.now()+c),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==st\u0026\u0026(this.onended(this),this.onended=st,!this.context.isOffline)){let t=()=\u003ethis.dispose();window.requestIdleCallback!==void 0?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log(\"cancelStop\"),Ee(this._startTime!==-1,\"Source is not started\"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class zc extends uo{constructor(){super(V(zc.getDefaults(),arguments,[\"offset\"])),this.name=\"ToneConstantSource\",this._source=this.context.createConstantSource();let t=V(zc.getDefaults(),arguments,[\"offset\"]);Kn(this._source,this._gainNode),this.offset=new Ye({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(uo.getDefaults(),{convert:!0,offset:1,units:\"number\"})}start(t){let i=this.toSeconds(t);return this.log(\"start\",i),this._startGain(i),this._source.start(i),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state===\"started\"\u0026\u0026this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Be extends ge{constructor(){super(V(Be.getDefaults(),arguments,[\"value\",\"units\"])),this.name=\"Signal\",this.override=!0;let t=V(Be.getDefaults(),arguments,[\"value\",\"units\"]);this.output=this._constantSource=new zc({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ge.getDefaults(),{convert:!0,units:\"number\",value:0})}connect(t,i=0,c=0){return Gc(this,t,i,c),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,i){return this._param.setValueAtTime(t,i),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,i){return this._param.linearRampToValueAtTime(t,i),this}exponentialRampToValueAtTime(t,i){return this._param.exponentialRampToValueAtTime(t,i),this}exponentialRampTo(t,i,c){return this._param.exponentialRampTo(t,i,c),this}linearRampTo(t,i,c){return this._param.linearRampTo(t,i,c),this}targetRampTo(t,i,c){return this._param.targetRampTo(t,i,c),this}exponentialApproachValueAtTime(t,i,c){return this._param.exponentialApproachValueAtTime(t,i,c),this}setTargetAtTime(t,i,c){return this._param.setTargetAtTime(t,i,c),this}setValueCurveAtTime(t,i,c,p){return this._param.setValueCurveAtTime(t,i,c,p),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,i,c){return this._param.rampTo(t,i,c),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Gc(l,t,i,c){(t instanceof Ye||ai(t)||t instanceof Be\u0026\u0026t.override)\u0026\u0026(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof Be\u0026\u0026(t.overridden=!0)),Kn(l,t,i,c)}class ap extends Ye{constructor(){super(V(ap.getDefaults(),arguments,[\"value\"])),this.name=\"TickParam\",this._events=new Yr(1/0),this._multiplier=1;let t=V(ap.getDefaults(),arguments,[\"value\"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:\"setValueAtTime\",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ye.getDefaults(),{multiplier:1,units:\"hertz\",value:1})}setTargetAtTime(t,i,c){i=this.toSeconds(i),this.setRampPoint(i);let p=this._fromType(t),f=this._events.get(i),m=Math.round(Math.max(1/c,1));for(let y=0;y\u003c=m;y++){let b=c*y+i,x=this._exponentialApproach(f.time,f.value,p,c,b);this.linearRampToValueAtTime(this._toType(x),b)}return this}setValueAtTime(t,i){let c=this.toSeconds(i);super.setValueAtTime(t,i);let p=this._events.get(c),f=this._events.previousEvent(p),m=this._getTicksUntilEvent(f,c);return p.ticks=Math.max(m,0),this}linearRampToValueAtTime(t,i){let c=this.toSeconds(i);super.linearRampToValueAtTime(t,i);let p=this._events.get(c),f=this._events.previousEvent(p),m=this._getTicksUntilEvent(f,c);return p.ticks=Math.max(m,0),this}exponentialRampToValueAtTime(t,i){i=this.toSeconds(i);let c=this._fromType(t),p=this._events.get(i),f=Math.round(Math.max(10*(i-p.time),1)),m=(i-p.time)/f;for(let y=0;y\u003c=f;y++){let b=m*y+p.time,x=this._exponentialInterpolate(p.time,p.value,i,c,b);this.linearRampToValueAtTime(this._toType(x),b)}return this}_getTicksUntilEvent(t,i){if(t===null)t={ticks:0,time:0,type:\"setValueAtTime\",value:0};else if(Zn(t.ticks)){let m=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(m,t.time)}let c=this._fromType(this.getValueAtTime(t.time)),p=this._fromType(this.getValueAtTime(i)),f=this._events.get(i);return f\u0026\u0026f.time===i\u0026\u0026f.type===\"setValueAtTime\"\u0026\u0026(p=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-t.time)*(c+p)+t.ticks}getTicksAtTime(t){let i=this.toSeconds(t),c=this._events.get(i);return Math.max(this._getTicksUntilEvent(c,i),0)}getDurationOfTicks(t,i){let c=this.toSeconds(i),p=this.getTicksAtTime(i);return this.getTimeOfTick(p+t)-c}getTimeOfTick(t){let i=this._events.get(t,\"ticks\"),c=this._events.getAfter(t,\"ticks\");if(i\u0026\u0026i.ticks===t)return i.time;if(i\u0026\u0026c\u0026\u0026c.type===\"linearRampToValueAtTime\"\u0026\u0026i.value!==c.value){let p=this._fromType(this.getValueAtTime(i.time)),f=(this._fromType(this.getValueAtTime(c.time))-p)/(c.time-i.time),m=Math.sqrt(Math.pow(p,2)-2*f*(i.ticks-t)),y=(-p+m)/f,b=(-p-m)/f;return(y\u003e0?y:b)+i.time}return i?i.value===0?1/0:i.time+(t-i.ticks)/i.value:t/this._initialValue}ticksToTime(t,i){return this.getDurationOfTicks(t,i)}timeToTicks(t,i){let c=this.toSeconds(i),p=this.toSeconds(t),f=this.getTicksAtTime(c);return this.getTicksAtTime(c+p)-f}_fromType(t){return this.units===\"bpm\"\u0026\u0026this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units===\"bpm\"\u0026\u0026this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){let i=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class sp extends Be{constructor(){super(V(sp.getDefaults(),arguments,[\"value\"])),this.name=\"TickSignal\";let t=V(sp.getDefaults(),arguments,[\"value\"]);this.input=this._param=new ap({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Be.getDefaults(),{multiplier:1,units:\"hertz\",value:1})}ticksToTime(t,i){return this._param.ticksToTime(t,i)}timeToTicks(t,i){return this._param.timeToTicks(t,i)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,i){return this._param.getDurationOfTicks(t,i)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class ip extends gn{constructor(){super(V(ip.getDefaults(),arguments,[\"frequency\"])),this.name=\"TickSource\",this._state=new co,this._tickOffset=new Yr;let t=V(ip.getDefaults(),arguments,[\"frequency\"]);this.frequency=new sp({context:this.context,units:t.units,value:t.frequency}),Ve(this,\"frequency\"),this._state.setStateAtTime(\"stopped\",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:\"hertz\"},gn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,i){let c=this.toSeconds(t);return this._state.getValueAtTime(c)!==\"started\"\u0026\u0026(this._state.setStateAtTime(\"started\",c),et(i)\u0026\u0026this.setTicksAtTime(i,c)),this}stop(t){let i=this.toSeconds(t);if(this._state.getValueAtTime(i)===\"stopped\"){let c=this._state.get(i);c\u0026\u0026c.time\u003e0\u0026\u0026(this._tickOffset.cancel(c.time),this._state.cancel(c.time))}return this._state.cancel(i),this._state.setStateAtTime(\"stopped\",i),this.setTicksAtTime(0,i),this}pause(t){let i=this.toSeconds(t);return this._state.getValueAtTime(i)===\"started\"\u0026\u0026this._state.setStateAtTime(\"paused\",i),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){let i=this.toSeconds(t),c=this._state.getLastState(\"stopped\",i),p={state:\"paused\",time:i};this._state.add(p);let f=c,m=0;return this._state.forEachBetween(c.time,i+this.sampleTime,y=\u003e{let b=f.time,x=this._tickOffset.get(y.time);x\u0026\u0026x.time\u003e=f.time\u0026\u0026(m=x.ticks,b=x.time),f.state===\"started\"\u0026\u0026y.state!==\"started\"\u0026\u0026(m+=this.frequency.getTicksAtTime(y.time)-this.frequency.getTicksAtTime(b)),f=y}),this._state.remove(p),m}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){let i=this.now(),c=this.frequency.timeToTicks(t,i);this.setTicksAtTime(c,i)}getSecondsAtTime(t){t=this.toSeconds(t);let i=this._state.getLastState(\"stopped\",t),c={state:\"paused\",time:t};this._state.add(c);let p=i,f=0;return this._state.forEachBetween(i.time,t+this.sampleTime,m=\u003e{let y=p.time,b=this._tickOffset.get(m.time);b\u0026\u0026b.time\u003e=p.time\u0026\u0026(f=b.seconds,y=b.time),p.state===\"started\"\u0026\u0026m.state!==\"started\"\u0026\u0026(f+=m.time-y),p=m}),this._state.remove(c),f}setTicksAtTime(t,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,i),ticks:t,time:i}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,i=this.now()){let c=this._tickOffset.get(i),p=this._state.get(i),f=Math.max(c.time,p.time),m=this.frequency.getTicksAtTime(f)+t-c.ticks;return this.frequency.getTimeOfTick(m)}forEachTickBetween(t,i,c){let p=this._state.get(t);this._state.forEachBetween(t,i,m=\u003e{p\u0026\u0026p.state===\"started\"\u0026\u0026m.state!==\"started\"\u0026\u0026this.forEachTickBetween(Math.max(p.time,t),m.time-this.sampleTime,c),p=m});let f=null;if(p\u0026\u0026p.state===\"started\"){let m=Math.max(p.time,t),y=this.frequency.getTicksAtTime(m),b=y-this.frequency.getTicksAtTime(p.time),x=Math.ceil(b)-b;x=Xr(x,1)?0:x;let M=this.frequency.getTimeOfTick(y+x);for(;M\u003ci;){try{c(M,Math.round(this.getTicksAtTime(M)))}catch(w){f=w;break}M+=this.frequency.getDurationOfTicks(1,M)}}if(f)throw f;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class si extends gn{constructor(){super(V(si.getDefaults(),arguments,[\"callback\",\"frequency\"])),this.name=\"Clock\",this.callback=st,this._lastUpdate=0,this._state=new co(\"stopped\"),this._boundLoop=this._loop.bind(this);let t=V(si.getDefaults(),arguments,[\"callback\",\"frequency\"]);this.callback=t.callback,this._tickSource=new ip({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ve(this,\"frequency\"),this._state.setStateAtTime(\"stopped\",0),this.context.on(\"tick\",this._boundLoop)}static getDefaults(){return Object.assign(gn.getDefaults(),{callback:st,frequency:1,units:\"hertz\"})}get state(){return this._state.getValueAtTime(this.now())}start(t,i){Lm(this.context);let c=this.toSeconds(t);return this.log(\"start\",c),this._state.getValueAtTime(c)!==\"started\"\u0026\u0026(this._state.setStateAtTime(\"started\",c),this._tickSource.start(c,i),c\u003cthis._lastUpdate\u0026\u0026this.emit(\"start\",c,i)),this}stop(t){let i=this.toSeconds(t);return this.log(\"stop\",i),this._state.cancel(i),this._state.setStateAtTime(\"stopped\",i),this._tickSource.stop(i),i\u003cthis._lastUpdate\u0026\u0026this.emit(\"stop\",i),this}pause(t){let i=this.toSeconds(t);return this._state.getValueAtTime(i)===\"started\"\u0026\u0026(this._state.setStateAtTime(\"paused\",i),this._tickSource.pause(i),i\u003cthis._lastUpdate\u0026\u0026this.emit(\"pause\",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,i){return this._tickSource.setTicksAtTime(t,i),this}getTimeOfTick(t,i=this.now()){return this._tickSource.getTimeOfTick(t,i)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,i){let c=this.toSeconds(i),p=this.getTicksAtTime(c);return this._tickSource.getTimeOfTick(p+t,c)}_loop(){let t=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log(\"loop\",t,i),t!==i\u0026\u0026(this._state.forEachBetween(t,i,c=\u003e{switch(c.state){case\"started\":let p=this._tickSource.getTicksAtTime(c.time);this.emit(\"start\",c.time,p);break;case\"stopped\":c.time!==0\u0026\u0026this.emit(\"stop\",c.time);break;case\"paused\":this.emit(\"pause\",c.time)}}),this._tickSource.forEachTickBetween(t,i,(c,p)=\u003e{this.callback(c,p)}))}getStateAtTime(t){let i=this.toSeconds(t);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off(\"tick\",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}ro.mixin(si);class Qn extends ge{constructor(){super(V(Qn.getDefaults(),arguments,[\"delayTime\",\"maxDelay\"])),this.name=\"Delay\";let t=V(Qn.getDefaults(),arguments,[\"delayTime\",\"maxDelay\"]),i=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(i,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(i),this.delayTime=new Ye({context:this.context,param:this._delayNode.delayTime,units:\"time\",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Ve(this,\"delayTime\")}static getDefaults(){return Object.assign(ge.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function i8(l,t,i=2,c=At().sampleRate){return Tt(this,void 0,void 0,function*(){let p=At(),f=new so(i,t,c);np(f),yield l(f);let m=f.render();np(p);let y=yield m;return new lt(y)})}class lo extends Ia{constructor(){super(),this.name=\"ToneAudioBuffers\",this._buffers=new Map,this._loadingCount=0;let t=V(lo.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(i=\u003e{this._loadingCount++;let c=t.urls[i];this.add(i,c,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:\"\",onerror:st,onload:st,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Ee(this.has(t),\"ToneAudioBuffers has no buffer named: \"+t),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0\u0026\u0026t\u0026\u0026t()}get loaded(){return Array.from(this._buffers).every(([t,i])=\u003ei.loaded)}add(t,i,c=st,p=st){return Sr(i)?this._buffers.set(t.toString(),new lt(this.baseUrl+i,c,p)):this._buffers.set(t.toString(),new lt(i,c,p)),this}dispose(){return super.dispose(),this._buffers.forEach(t=\u003et.dispose()),this._buffers.clear(),this}}class po extends zn{constructor(){super(...arguments),this.name=\"MidiClass\",this.defaultUnits=\"midi\"}_frequencyToUnits(t){return vs(super._frequencyToUnits(t))}_ticksToUnits(t){return vs(super._ticksToUnits(t))}_beatsToUnits(t){return vs(super._beatsToUnits(t))}_secondsToUnits(t){return vs(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return Um(this.toMidi())}transpose(t){return new po(this.context,this.toMidi()+t)}}function o8(l,t){return new po(At(),l,t)}class St extends tn{constructor(){super(...arguments),this.name=\"Ticks\",this.defaultUnits=\"i\"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function c8(l,t){return new St(At(),l,t)}class u8 extends gn{constructor(){super(...arguments),this.name=\"Draw\",this.expiration=.25,this.anticipation=.008,this._events=new Yr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,i){return this._events.add({callback:t,time:this.toSeconds(i)}),this._events.length===1\u0026\u0026(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){let t=this.context.currentTime;for(;this._events.length\u0026\u0026this._events.peek().time-this.anticipation\u003c=t;){let i=this._events.shift();i\u0026\u0026t-i.time\u003c=this.expiration\u0026\u0026i.callback()}this._events.length\u003e0\u0026\u0026(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Jl(l=\u003e{l.draw=new u8({context:l})}),ep(l=\u003e{l.draw.dispose()});class vN extends Ia{constructor(){super(...arguments),this.name=\"IntervalTimeline\",this._root=null,this._length=0}add(t){Ee(et(t.time),\"Events must have a time property\"),Ee(et(t.duration),\"Events must have a duration parameter\"),t.time=t.time.valueOf();let i=new l8(t.time,t.time+t.duration,t);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(t){if(this._root!==null){let i=[];this._root.search(t.time,i);for(let c of i)if(c.event===t){this._removeNode(c),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,i=\u003ethis.remove(i)),this}_setRoot(t){this._root=t,this._root!==null\u0026\u0026(this._root.parent=null)}_replaceNodeInParent(t,i){t.parent!==null?(t.isLeftChild()?t.parent.left=i:t.parent.right=i,this._rebalance(t.parent)):this._setRoot(i)}_removeNode(t){if(t.left===null\u0026\u0026t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{let i,c=null;if(t.getBalance()\u003e0)if(t.left.right===null)i=t.left,i.right=t.right,c=i;else{for(i=t.left.right;i.right!==null;)i=i.right;i.parent\u0026\u0026(i.parent.right=i.left,c=i.parent,i.left=t.left,i.right=t.right)}else if(t.right.left===null)i=t.right,i.left=t.left,c=i;else{for(i=t.right.left;i.left!==null;)i=i.left;i.parent\u0026\u0026(i.parent.left=i.right,c=i.parent,i.left=t.left,i.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=i:t.parent.right=i:this._setRoot(i),c\u0026\u0026this._rebalance(c)}t.dispose()}_rotateLeft(t){let i=t.parent,c=t.isLeftChild(),p=t.right;p\u0026\u0026(t.right=p.left,p.left=t),i!==null?c?i.left=p:i.right=p:this._setRoot(p)}_rotateRight(t){let i=t.parent,c=t.isLeftChild(),p=t.left;p\u0026\u0026(t.left=p.right,p.right=t),i!==null?c?i.left=p:i.right=p:this._setRoot(p)}_rebalance(t){let i=t.getBalance();i\u003e1\u0026\u0026t.left?t.left.getBalance()\u003c0?this._rotateLeft(t.left):this._rotateRight(t):i\u003c-1\u0026\u0026t.right\u0026\u0026(t.right.getBalance()\u003e0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){let i=[];if(this._root.search(t,i),i.length\u003e0){let c=i[0];for(let p=1;p\u003ci.length;p++)i[p].low\u003ec.low\u0026\u0026(c=i[p]);return c.event}}return null}forEach(t){if(this._root!==null){let i=[];this._root.traverse(c=\u003ei.push(c)),i.forEach(c=\u003e{c.event\u0026\u0026t(c.event)})}return this}forEachAtTime(t,i){if(this._root!==null){let c=[];this._root.search(t,c),c.forEach(p=\u003e{p.event\u0026\u0026i(p.event)})}return this}forEachFrom(t,i){if(this._root!==null){let c=[];this._root.searchAfter(t,c),c.forEach(p=\u003e{p.event\u0026\u0026i(p.event)})}return this}dispose(){return super.dispose(),this._root!==null\u0026\u0026this._root.traverse(t=\u003et.dispose()),this._root=null,this}}class l8{constructor(t,i,c){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=c,this.low=t,this.high=i,this.max=this.high}insert(t){t.low\u003c=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,i){t\u003ethis.max||(this.left!==null\u0026\u0026this.left.search(t,i),this.low\u003c=t\u0026\u0026this.high\u003et\u0026\u0026i.push(this),this.low\u003et||this.right!==null\u0026\u0026this.right.search(t,i))}searchAfter(t,i){this.low\u003e=t\u0026\u0026(i.push(this),this.left!==null\u0026\u0026this.left.searchAfter(t,i)),this.right!==null\u0026\u0026this.right.searchAfter(t,i)}traverse(t){t(this),this.left!==null\u0026\u0026this.left.traverse(t),this.right!==null\u0026\u0026this.right.traverse(t)}updateHeight(){this.left!==null\u0026\u0026this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null\u0026\u0026(this.max=Math.max(this.max,this.left.max)),this.right!==null\u0026\u0026(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null\u0026\u0026this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null\u0026\u0026(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null\u0026\u0026this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null\u0026\u0026(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null\u0026\u0026(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class pa extends ge{constructor(){super(V(pa.getDefaults(),arguments,[\"volume\"])),this.name=\"Volume\";let t=V(pa.getDefaults(),arguments,[\"volume\"]);this.input=this.output=new Ce({context:this.context,gain:t.volume,units:\"decibels\"}),this.volume=this.output.gain,Ve(this,\"volume\"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute\u0026\u0026t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute\u0026\u0026!t\u0026\u0026(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class op extends ge{constructor(){super(V(op.getDefaults(),arguments)),this.name=\"Destination\",this.input=new pa({context:this.context}),this.output=new Ce({context:this.context}),this.volume=this.input.volume;let t=V(op.getDefaults(),arguments);mr(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),mr(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Jl(l=\u003e{l.destination=new op({context:l})}),ep(l=\u003e{l.destination.dispose()});class p8 extends Ia{constructor(t){super(),this.name=\"TimelineValue\",this._timeline=new Yr({memory:10}),this._initialValue=t}set(t,i){return this._timeline.add({value:t,time:i}),this}get(t){let i=this._timeline.get(t);return i?i.value:this._initialValue}}class gs{constructor(t,i){this.id=gs._eventId++;let c=Object.assign(gs.getDefaults(),i);this.transport=t,this.callback=c.callback,this._once=c.once,this.time=c.time}static getDefaults(){return{callback:st,once:!1,time:0}}invoke(t){this.callback\u0026\u0026(this.callback(t),this._once\u0026\u0026this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}gs._eventId=0;class Ym extends gs{constructor(t,i){super(t,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);let c=Object.assign(Ym.getDefaults(),i);this.duration=new St(t.context,c.duration).valueOf(),this._interval=new St(t.context,c.interval).valueOf(),this._nextTick=c.time,this.transport.on(\"start\",this._boundRestart),this.transport.on(\"loopStart\",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},gs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){let i=this.transport.getTicksAtTime(t);i\u003e=this.time\u0026\u0026i\u003e=this._nextTick\u0026\u0026this._nextTick+this._interval\u003cthis.time+this.duration\u0026\u0026(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new St(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;let i=this.transport.getTicksAtTime(t);i\u003ethis.time\u0026\u0026(this._nextTick=this.time+Math.ceil((i-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new St(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new St(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off(\"start\",this._boundRestart),this.transport.off(\"loopStart\",this._boundRestart),this}}class Uc extends gn{constructor(){super(V(Uc.getDefaults(),arguments)),this.name=\"Transport\",this._loop=new p8(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Yr,this._repeatedEvents=new vN,this._syncedSignals=[],this._swingAmount=0;let t=V(Uc.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new si({callback:this._processTick.bind(this),context:this.context,frequency:0,units:\"bpm\"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Ve(this,\"bpm\"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(gn.getDefaults(),{bpm:120,loopEnd:\"4m\",loopStart:0,ppq:192,swing:0,swingSubdivision:\"8n\",timeSignature:4})}_processTick(t,i){if(this._loop.get(t)\u0026\u0026i\u003e=this._loopEnd\u0026\u0026(this.emit(\"loopEnd\",t),this._clock.setTicksAtTime(this._loopStart,t),i=this._loopStart,this.emit(\"loopStart\",t,this._clock.getSecondsAtTime(t)),this.emit(\"loop\",t)),this._swingAmount\u003e0\u0026\u0026i%this._ppq!=0\u0026\u0026i%(2*this._swingTicks)!=0){let c=i%(2*this._swingTicks)/(2*this._swingTicks),p=Math.sin(c*Math.PI)*this._swingAmount;t+=new St(this.context,2*this._swingTicks/3).toSeconds()*p}this._timeline.forEachAtTime(i,c=\u003ec.invoke(t))}schedule(t,i){let c=new gs(this,{callback:t,time:new tn(this.context,i).toTicks()});return this._addEvent(c,this._timeline)}scheduleRepeat(t,i,c,p=1/0){let f=new Ym(this,{callback:t,duration:new fr(this.context,p).toTicks(),interval:new fr(this.context,i).toTicks(),time:new tn(this.context,c).toTicks()});return this._addEvent(f,this._repeatedEvents)}scheduleOnce(t,i){let c=new gs(this,{callback:t,once:!0,time:new tn(this.context,i).toTicks()});return this._addEvent(c,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){let i=this._scheduledEvents[t.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,i){return this._scheduledEvents[t.id.toString()]={event:t,timeline:i},i.add(t),t.id}cancel(t=0){let i=this.toTicks(t);return this._timeline.forEachFrom(i,c=\u003ethis.clear(c.id)),this._repeatedEvents.forEachFrom(i,c=\u003ethis.clear(c.id)),this}_bindClockEvents(){this._clock.on(\"start\",(t,i)=\u003e{i=new St(this.context,i).toSeconds(),this.emit(\"start\",t,i)}),this._clock.on(\"stop\",t=\u003e{this.emit(\"stop\",t)}),this._clock.on(\"pause\",t=\u003e{this.emit(\"pause\",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,i){let c;return et(i)\u0026\u0026(c=this.toTicks(i)),this._clock.start(t,c),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!==\"started\"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Sn(t)\u0026\u0026(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new fr(this.context,this._loopStart,\"i\").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new fr(this.context,this._loopEnd,\"i\").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,i){return this.loopStart=t,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new St(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){let t=this.now(),i=this._clock.getTicksAtTime(t);return new St(this.context,i).toBarsBeatsSixteenths()}set position(t){let i=this.toTicks(t);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(t){let i=this.now(),c=this._clock.frequency.timeToTicks(t,i);this.ticks=c}get progress(){if(this.loop){let t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){let i=this.now();if(this.state===\"started\"){let c=this._clock.getTicksAtTime(i),p=i+this._clock.frequency.getDurationOfTicks(Math.ceil(c)-c,i);this.emit(\"stop\",p),this._clock.setTicksAtTime(t,p),this.emit(\"start\",p,this._clock.getSecondsAtTime(p))}else this._clock.setTicksAtTime(t,i)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!==\"started\")return 0;{let i=this.now(),c=t-this.getTicksAtTime(i)%t;return this._clock.nextTickTime(c,i)}}syncSignal(t,i){if(!i){let p=this.now();if(t.getValueAtTime(p)!==0){let f=1/(60/this.bpm.getValueAtTime(p)/this.PPQ);i=t.getValueAtTime(p)/f}else i=0}let c=new Ce(i);return this.bpm.connect(c),c.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:c,signal:t}),t.value=0,this}unsyncSignal(t){for(let i=this._syncedSignals.length-1;i\u003e=0;i--){let c=this._syncedSignals[i];c.signal===t\u0026\u0026(c.ratio.dispose(),c.signal.value=c.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Wc(this,\"bpm\"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ro.mixin(Uc),Jl(l=\u003e{l.transport=new Uc({context:l})}),ep(l=\u003e{l.transport.dispose()});class $t extends ge{constructor(t){super(t),this.input=void 0,this._state=new co(\"stopped\"),this._synced=!1,this._scheduled=[],this._syncedStart=st,this._syncedStop=st,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new pa({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Ve(this,\"volume\"),this.onstop=t.onstop}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,onstop:st,volume:0})}get state(){return this._synced?this.context.transport.state===\"started\"?this._state.getValueAtTime(this.context.transport.seconds):\"stopped\":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,i,c){let p=Zn(t)\u0026\u0026this._synced?this.context.transport.seconds:this.toSeconds(t);if(p=this._clampToCurrentTime(p),this._synced||this._state.getValueAtTime(p)!==\"started\")if(this.log(\"start\",p),this._state.setStateAtTime(\"started\",p),this._synced){let f=this._state.get(p);f\u0026\u0026(f.offset=this.toSeconds(Pr(i,0)),f.duration=c?this.toSeconds(c):void 0);let m=this.context.transport.schedule(y=\u003e{this._start(y,i,c)},p);this._scheduled.push(m),this.context.transport.state===\"started\"\u0026\u0026this.context.transport.getSecondsAtTime(this.immediate())\u003ep\u0026\u0026this._syncedStart(this.now(),this.context.transport.seconds)}else Lm(this.context),this._start(p,i,c);else Ee(Ql(p,this._state.get(p).time),\"Start time must be strictly greater than previous start time\"),this._state.cancel(p),this._state.setStateAtTime(\"started\",p),this.log(\"restart\",p),this.restart(p,i,c);return this}stop(t){let i=Zn(t)\u0026\u0026this._synced?this.context.transport.seconds:this.toSeconds(t);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)===\"started\"||et(this._state.getNextState(\"started\",i))){if(this.log(\"stop\",i),this._synced){let c=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(c)}else this._stop(i);this._state.cancel(i),this._state.setStateAtTime(\"stopped\",i)}return this}restart(t,i,c){return t=this.toSeconds(t),this._state.getValueAtTime(t)===\"started\"\u0026\u0026(this._state.cancel(t),this._restart(t,i,c)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,i)=\u003e{if(i\u003e0){let c=this._state.get(i);if(c\u0026\u0026c.state===\"started\"\u0026\u0026c.time!==i){let p=i-this.toSeconds(c.time),f;c.duration\u0026\u0026(f=this.toSeconds(c.duration)-p),this._start(t,this.toSeconds(c.offset)+p,f)}}},this._syncedStop=t=\u003e{let i=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(i)===\"started\"\u0026\u0026this._stop(t)},this.context.transport.on(\"start\",this._syncedStart),this.context.transport.on(\"loopStart\",this._syncedStart),this.context.transport.on(\"stop\",this._syncedStop),this.context.transport.on(\"pause\",this._syncedStop),this.context.transport.on(\"loopEnd\",this._syncedStop)),this}unsync(){return this._synced\u0026\u0026(this.context.transport.off(\"stop\",this._syncedStop),this.context.transport.off(\"pause\",this._syncedStop),this.context.transport.off(\"loopEnd\",this._syncedStop),this.context.transport.off(\"start\",this._syncedStart),this.context.transport.off(\"loopStart\",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=\u003ethis.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=st,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Fa extends uo{constructor(){super(V(Fa.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"ToneBufferSource\",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;let t=V(Fa.getDefaults(),arguments,[\"url\",\"onload\"]);Kn(this._source,this._gainNode),this._source.onended=()=\u003ethis._stopSource(),this.playbackRate=new Ye({context:this.context,param:this._source.playbackRate,units:\"positive\",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new lt(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(uo.getDefaults(),{url:new lt,loop:!1,loopEnd:0,loopStart:0,onload:st,onerror:st,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,i,c,p=1){Ee(this.buffer.loaded,\"buffer is either not set or not loaded\");let f=this.toSeconds(t);this._startGain(f,p),i=this.loop?Pr(i,this.loopStart):Pr(i,0);let m=Math.max(this.toSeconds(i),0);if(this.loop){let y=this.toSeconds(this.loopEnd)||this.buffer.duration,b=this.toSeconds(this.loopStart),x=y-b;zm(m,y)\u0026\u0026(m=(m-b)%x+b),Xr(m,this.buffer.duration)\u0026\u0026(m=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,lN(m,this.buffer.duration)\u0026\u0026(this._sourceStarted=!0,this._source.start(f,m)),et(c)){let y=this.toSeconds(c);y=Math.max(y,0),this.stop(f+y)}return this}_stopSource(t){!this._sourceStopped\u0026\u0026this._sourceStarted\u0026\u0026(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted\u0026\u0026this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Va extends $t{constructor(){super(V(Va.getDefaults(),arguments,[\"type\"])),this.name=\"Noise\",this._source=null;let t=V(Va.getDefaults(),arguments,[\"type\"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign($t.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:\"white\"})}get type(){return this._type}set type(t){if(Ee(t in gN,\"Noise: invalid type: \"+t),this._type!==t\u0026\u0026(this._type=t,this.state===\"started\")){let i=this.now();this._stop(i),this._start(i)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source\u0026\u0026(this._source.playbackRate.value=t)}_start(t){let i=gN[this._type];this._source=new Fa({url:i,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=\u003ethis.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(i.duration-.001))}_stop(t){this._source\u0026\u0026(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source\u0026\u0026(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source\u0026\u0026(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source\u0026\u0026this._source.disconnect(),this}}let La={brown:null,pink:null,white:null},gN={get brown(){if(!La.brown){let l=[];for(let t=0;t\u003c2;t++){let i=new Float32Array(220500);l[t]=i;let c=0;for(let p=0;p\u003c220500;p++){let f=2*Math.random()-1;i[p]=(c+.02*f)/1.02,c=i[p],i[p]*=3.5}}La.brown=new lt().fromArray(l)}return La.brown},get pink(){if(!La.pink){let l=[];for(let t=0;t\u003c2;t++){let i=new Float32Array(220500),c,p,f,m,y,b,x;l[t]=i,c=p=f=m=y=b=x=0;for(let M=0;M\u003c220500;M++){let w=2*Math.random()-1;c=.99886*c+.0555179*w,p=.99332*p+.0750759*w,f=.969*f+.153852*w,m=.8665*m+.3104856*w,y=.55*y+.5329522*w,b=-.7616*b-.016898*w,i[M]=c+p+f+m+y+b+x+.5362*w,i[M]*=.11,x=.115926*w}}La.pink=new lt().fromArray(l)}return La.pink},get white(){if(!La.white){let l=[];for(let t=0;t\u003c2;t++){let i=new Float32Array(220500);l[t]=i;for(let c=0;c\u003c220500;c++)i[c]=2*Math.random()-1}La.white=new lt().fromArray(l)}return La.white}};class ho extends ge{constructor(){super(V(ho.getDefaults(),arguments,[\"volume\"])),this.name=\"UserMedia\";let t=V(ho.getDefaults(),arguments,[\"volume\"]);this._volume=this.output=new pa({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ve(this,\"volume\"),this.mute=t.mute}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,volume:0})}open(t){return Tt(this,void 0,void 0,function*(){Ee(ho.supported,\"UserMedia is not supported\"),this.state===\"started\"\u0026\u0026this.close();let i=yield ho.enumerateDevices();dr(t)?this._device=i[t]:(this._device=i.find(f=\u003ef.label===t||f.deviceId===t),!this._device\u0026\u0026i.length\u003e0\u0026\u0026(this._device=i[0]),Ee(et(this._device),\"No matching device \"+t));let c={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device\u0026\u0026(c.audio.deviceId=this._device.deviceId);let p=yield navigator.mediaDevices.getUserMedia(c);if(!this._stream){this._stream=p;let f=this.context.createMediaStreamSource(p);Kn(f,this.output),this._mediaStream=f}return this})}close(){return this._stream\u0026\u0026this._mediaStream\u0026\u0026(this._stream.getAudioTracks().forEach(t=\u003e{t.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return Tt(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(t=\u003et.kind===\"audioinput\")})}get state(){return this._stream\u0026\u0026this._stream.active?\"started\":\"stopped\"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return et(navigator.mediaDevices)\u0026\u0026et(navigator.mediaDevices.getUserMedia)}}function ii(l,t){return Tt(this,void 0,void 0,function*(){let i=t/l.context.sampleRate,c=new so(1,i,l.context.sampleRate);return new l.constructor(Object.assign(l.get(),{frequency:2/i,detune:0,context:c})).toDestination().start(0),(yield c.render()).getChannelData(0)})}class fo extends uo{constructor(){super(V(fo.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"ToneOscillatorNode\",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];let t=V(fo.getDefaults(),arguments,[\"frequency\",\"type\"]);Kn(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Ye({context:this.context,param:this._oscillator.frequency,units:\"frequency\",value:t.frequency}),this.detune=new Ye({context:this.context,param:this._oscillator.detune,units:\"cents\",value:t.detune}),Ve(this,[\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(uo.getDefaults(),{detune:0,frequency:440,type:\"sine\"})}start(t){let i=this.toSeconds(t);return this.log(\"start\",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state===\"started\"\u0026\u0026this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Rt extends $t{constructor(){super(V(Rt.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"Oscillator\",this._oscillator=null;let t=V(Rt.getDefaults(),arguments,[\"frequency\",\"type\"]);this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency}),Ve(this,\"frequency\"),this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),Ve(this,\"detune\"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount\u0026\u0026t.type!==\"custom\"\u0026\u0026(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign($t.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:\"sine\"})}_start(t){let i=this.toSeconds(t),c=new fo({context:this.context,onended:()=\u003ethis.onstop(this)});this._oscillator=c,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(t){let i=this.toSeconds(t);this._oscillator\u0026\u0026this._oscillator.stop(i)}_restart(t){let i=this.toSeconds(t);return this.log(\"restart\",i),this._oscillator\u0026\u0026this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type===\"custom\")return Rt._periodicWaveCache.find(t=\u003e{return t.phase===this._phase\u0026\u0026(i=t.partials,c=this._partials,i.length===c.length\u0026\u0026i.every((p,f)=\u003ec[f]===p));var i,c});{let t=Rt._periodicWaveCache.find(i=\u003ei.type===this._type\u0026\u0026i.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;let i=[\"sine\",\"square\",\"sawtooth\",\"triangle\"].indexOf(t)!==-1;if(this._phase===0\u0026\u0026i)this._wave=void 0,this._partialCount=0,this._oscillator!==null\u0026\u0026(this._oscillator.type=t);else{let c=this._getCachedPeriodicWave();if(et(c)){let{partials:p,wave:f}=c;this._wave=f,this._partials=p,this._oscillator!==null\u0026\u0026this._oscillator.setPeriodicWave(this._wave)}else{let[p,f]=this._getRealImaginary(t,this._phase),m=this.context.createPeriodicWave(p,f);this._wave=m,this._oscillator!==null\u0026\u0026this._oscillator.setPeriodicWave(this._wave),Rt._periodicWaveCache.push({imag:f,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:p,type:this._type,wave:this._wave}),Rt._periodicWaveCache.length\u003e100\u0026\u0026Rt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),\"\")}set baseType(t){this.partialCount\u0026\u0026this._type!==\"custom\"\u0026\u0026t!==\"custom\"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Tn(t,0);let i=this._type,c=/^(sine|triangle|square|sawtooth)(\\d+)$/.exec(this._type);if(c\u0026\u0026(i=c[1]),this._type!==\"custom\")this.type=t===0?i:i+t.toString();else{let p=new Float32Array(t);this._partials.forEach((f,m)=\u003ep[m]=f),this._partials=Array.from(p),this.type=this._type}}_getRealImaginary(t,i){let c=2048,p=new Float32Array(c),f=new Float32Array(c),m=1;if(t===\"custom\"){if(m=this._partials.length+1,this._partialCount=this._partials.length,c=m,this._partials.length===0)return[p,f]}else{let y=/^(sine|triangle|square|sawtooth)(\\d+)$/.exec(t);y?(m=parseInt(y[2],10)+1,this._partialCount=parseInt(y[2],10),t=y[1],m=Math.max(m,2),c=m):this._partialCount=0,this._partials=[]}for(let y=1;y\u003cc;++y){let b=2/(y*Math.PI),x;switch(t){case\"sine\":x=y\u003c=m?1:0,this._partials[y-1]=x;break;case\"square\":x=1\u0026y?2*b:0,this._partials[y-1]=x;break;case\"sawtooth\":x=b*(1\u0026y?1:-1),this._partials[y-1]=x;break;case\"triangle\":x=1\u0026y?b*b*2*(y-1\u003e\u003e1\u00261?-1:1):0,this._partials[y-1]=x;break;case\"custom\":x=this._partials[y-1];break;default:throw new TypeError(\"Oscillator: invalid type: \"+t)}x!==0?(p[y]=-x*Math.sin(i*y),f[y]=x*Math.cos(i*y)):(p[y]=0,f[y]=0)}return[p,f]}_inverseFFT(t,i,c){let p=0,f=t.length;for(let m=0;m\u003cf;m++)p+=t[m]*Math.cos(m*c)+i[m]*Math.sin(m*c);return p}getInitialValue(){let[t,i]=this._getRealImaginary(this._type,0),c=0,p=2*Math.PI;for(let f=0;f\u003c32;f++)c=Math.max(this._inverseFFT(t,i,f/32*p),c);return pN(-this._inverseFFT(t,i,this._phase)/c,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length\u0026\u0026(this.type=\"custom\")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ii(this,t)})}dispose(){return super.dispose(),this._oscillator!==null\u0026\u0026this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Rt._periodicWaveCache=[];class vr extends ge{constructor(){super(Object.assign(V(vr.getDefaults(),arguments,[\"context\"])))}connect(t,i=0,c=0){return Gc(this,t,i,c),this}}class Or extends vr{constructor(){super(Object.assign(V(Or.getDefaults(),arguments,[\"mapping\",\"length\"]))),this.name=\"WaveShaper\",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;let t=V(Or.getDefaults(),arguments,[\"mapping\",\"length\"]);Sn(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):cN(t.mapping)\u0026\u0026this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Be.getDefaults(),{length:1024})}setMap(t,i=1024){let c=new Float32Array(i);for(let p=0,f=i;p\u003cf;p++){let m=p/(f-1)*2-1;c[p]=t(m,p)}return this.curve=c,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Ee([\"none\",\"2x\",\"4x\"].some(i=\u003ei.includes(t)),\"oversampling must be either 'none', '2x', or '4x'\"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class cp extends vr{constructor(){super(...arguments),this.name=\"AudioToGain\",this._norm=new Or({context:this.context,mapping:t=\u003e(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Et extends Be{constructor(){super(Object.assign(V(Et.getDefaults(),arguments,[\"value\"]))),this.name=\"Multiply\",this.override=!1;let t=V(Et.getDefaults(),arguments,[\"value\"]);this._mult=this.input=this.output=new Ce({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Be.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class mo extends $t{constructor(){super(V(mo.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"])),this.name=\"AMOscillator\",this._modulationScale=new cp({context:this.context}),this._modulationNode=new Ce({context:this.context});let t=V(mo.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"]);this._carrier=new Rt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=\u003ethis.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Rt({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Et({context:this.context,units:\"positive\",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ve(this,[\"frequency\",\"detune\",\"harmonicity\"])}static getDefaults(){return Object.assign(Rt.getDefaults(),{harmonicity:1,modulationType:\"square\"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ii(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class oi extends $t{constructor(){super(V(oi.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"])),this.name=\"FMOscillator\",this._modulationNode=new Ce({context:this.context,gain:0});let t=V(oi.getDefaults(),arguments,[\"frequency\",\"type\",\"modulationType\"]);this._carrier=new Rt({context:this.context,detune:t.detune,frequency:0,onstop:()=\u003ethis.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency}),this._modulator=new Rt({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Et({context:this.context,units:\"positive\",value:t.harmonicity}),this.modulationIndex=new Et({context:this.context,units:\"positive\",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ve(this,[\"modulationIndex\",\"frequency\",\"detune\",\"harmonicity\"])}static getDefaults(){return Object.assign(Rt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:\"square\"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ii(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ci extends $t{constructor(){super(V(ci.getDefaults(),arguments,[\"frequency\",\"width\"])),this.name=\"PulseOscillator\",this._widthGate=new Ce({context:this.context,gain:0}),this._thresh=new Or({context:this.context,mapping:i=\u003ei\u003c=0?-1:1});let t=V(ci.getDefaults(),arguments,[\"frequency\",\"width\"]);this.width=new Be({context:this.context,units:\"audioRange\",value:t.width}),this._triangle=new Rt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=\u003ethis.onstop(this),phase:t.phase,type:\"triangle\"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ve(this,[\"width\",\"frequency\",\"detune\"])}static getDefaults(){return Object.assign($t.getDefaults(),{detune:0,frequency:440,phase:0,type:\"pulse\",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return\"pulse\"}get baseType(){return\"pulse\"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ii(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class vo extends $t{constructor(){super(V(vo.getDefaults(),arguments,[\"frequency\",\"type\",\"spread\"])),this.name=\"FatOscillator\",this._oscillators=[];let t=V(vo.getDefaults(),arguments,[\"frequency\",\"type\",\"spread\"]);this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Ve(this,[\"frequency\",\"detune\"])}static getDefaults(){return Object.assign(Rt.getDefaults(),{count:3,spread:20,type:\"sawtooth\"})}_start(t){t=this.toSeconds(t),this._forEach(i=\u003ei.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(i=\u003ei.stop(t))}_restart(t){this._forEach(i=\u003ei.restart(t))}_forEach(t){for(let i=0;i\u003cthis._oscillators.length;i++)t(this._oscillators[i],i)}get type(){return this._type}set type(t){this._type=t,this._forEach(i=\u003ei.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length\u003e1){let i=-t/2,c=t/(this._oscillators.length-1);this._forEach((p,f)=\u003ep.detune.value=i+c*f)}}get count(){return this._oscillators.length}set count(t){if(Tn(t,1),this._oscillators.length!==t){this._forEach(i=\u003ei.dispose()),this._oscillators=[];for(let i=0;i\u003ct;i++){let c=new Rt({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+i/t*360,partialCount:this._partialCount,onstop:i===0?()=\u003ethis.onstop(this):st});this.type===\"custom\"\u0026\u0026(c.partials=this._partials),this.frequency.connect(c.frequency),this.detune.connect(c.detune),c.detune.overridden=!1,c.connect(this.output),this._oscillators[i]=c}this.spread=this._spread,this.state===\"started\"\u0026\u0026this._forEach(i=\u003ei.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((i,c)=\u003ei.phase=this._phase+c/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(i=\u003ei.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length\u0026\u0026(this._type=\"custom\",this._forEach(i=\u003ei.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(i=\u003ei.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ii(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=\u003et.dispose()),this}}class go extends $t{constructor(){super(V(go.getDefaults(),arguments,[\"frequency\",\"modulationFrequency\"])),this.name=\"PWMOscillator\",this.sourceType=\"pwm\",this._scale=new Et({context:this.context,value:2});let t=V(go.getDefaults(),arguments,[\"frequency\",\"modulationFrequency\"]);this._pulse=new ci({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType=\"sine\",this.modulationFrequency=this._pulse.frequency,this._modulator=new Rt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=\u003ethis.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ve(this,[\"modulationFrequency\",\"frequency\",\"detune\"])}static getDefaults(){return Object.assign($t.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:\"pwm\"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return\"pwm\"}get baseType(){return\"pwm\"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ii(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}let yN={am:mo,fat:vo,fm:oi,oscillator:Rt,pulse:ci,pwm:go};class ha extends $t{constructor(){super(V(ha.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"OmniOscillator\";let t=V(ha.getDefaults(),arguments,[\"frequency\",\"type\"]);this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),Ve(this,[\"frequency\",\"detune\"]),this.set(t)}static getDefaults(){return Object.assign(Rt.getDefaults(),oi.getDefaults(),mo.getDefaults(),vo.getDefaults(),ci.getDefaults(),go.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t=\"\";return[\"am\",\"fm\",\"fat\"].some(i=\u003ethis._sourceType===i)\u0026\u0026(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)===\"fm\"?(this._createNewOscillator(\"fm\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)===\"am\"?(this._createNewOscillator(\"am\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)===\"fat\"?(this._createNewOscillator(\"fat\"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t===\"pwm\"?(this._createNewOscillator(\"pwm\"),this._oscillator=this._oscillator):t===\"pulse\"?this._createNewOscillator(\"pulse\"):(this._createNewOscillator(\"oscillator\"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,\"type\")\u0026\u0026t.type\u0026\u0026(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;let i=yN[t],c=this.now();if(this._oscillator){let p=this._oscillator;p.stop(c),this.context.setTimeout(()=\u003ep.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=\u003ethis.onstop(this),this.state===\"started\"\u0026\u0026this._oscillator.start(c)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let i=\"sine\";this._oscillator.type!==\"pwm\"\u0026\u0026this._oscillator.type!==\"pulse\"\u0026\u0026(i=this._oscillator.type),t===\"fm\"?this.type=\"fm\"+i:t===\"am\"?this.type=\"am\"+i:t===\"fat\"?this.type=\"fat\"+i:t===\"oscillator\"?this.type=i:t===\"pulse\"?this.type=\"pulse\":t===\"pwm\"\u0026\u0026(this.type=\"pwm\")}_getOscType(t,i){return t instanceof yN[i]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,\"pulse\")||this._getOscType(this._oscillator,\"pwm\")||t===\"pulse\"||t===\"pwm\"||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,\"pulse\")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,\"fat\")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,\"fat\")\u0026\u0026dr(t)\u0026\u0026(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,\"fat\")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,\"fat\")\u0026\u0026dr(t)\u0026\u0026(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\"))\u0026\u0026Sr(t)\u0026\u0026(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,\"fm\")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,\"fm\")||this._getOscType(this._oscillator,\"am\")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,\"pwm\")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return Tt(this,void 0,void 0,function*(){return ii(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class ui extends Be{constructor(){super(Object.assign(V(ui.getDefaults(),arguments,[\"value\"]))),this.override=!1,this.name=\"Add\",this._sum=new Ce({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,mr(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Be.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class da extends vr{constructor(){super(Object.assign(V(da.getDefaults(),arguments,[\"min\",\"max\"]))),this.name=\"Scale\";let t=V(da.getDefaults(),arguments,[\"min\",\"max\"]);this._mult=this.input=new Et({context:this.context,value:t.max-t.min}),this._add=this.output=new ui({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(vr.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class up extends vr{constructor(){super(Object.assign(V(up.getDefaults(),arguments))),this.name=\"Zero\",this._gain=new Ce({context:this.context}),this.output=this._gain,this.input=void 0,Kn(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Xm(this.context.getConstant(0),this._gain),this}}class In extends ge{constructor(){super(V(In.getDefaults(),arguments,[\"frequency\",\"min\",\"max\"])),this.name=\"LFO\",this._stoppedValue=0,this._units=\"number\",this.convert=!0,this._fromType=Ye.prototype._fromType,this._toType=Ye.prototype._toType,this._is=Ye.prototype._is,this._clampValue=Ye.prototype._clampValue;let t=V(In.getDefaults(),arguments,[\"frequency\",\"min\",\"max\"]);this._oscillator=new Rt(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Ce({context:this.context,gain:t.amplitude,units:\"normalRange\"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Be({context:this.context,units:\"audioRange\",value:0}),this._zeros=new up({context:this.context}),this._a2g=new cp({context:this.context}),this._scaler=this.output=new da({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ve(this,[\"amplitude\",\"frequency\"]),this.phase=t.phase}static getDefaults(){return Object.assign(Rt.getDefaults(),{amplitude:1,frequency:\"4n\",max:1,min:0,type:\"sine\",units:\"number\"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){let i=this.min,c=this.max;this._units=t,this.min=i,this.max=c}get state(){return this._oscillator.state}connect(t,i,c){return(t instanceof Ye||t instanceof Be)\u0026\u0026(this.convert=t.convert,this.units=t.units),Gc(this,t,i,c),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function _N(l,t=1/0){let i=new WeakMap;return function(c,p){Reflect.defineProperty(c,p,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(f){Tn(f,l,t),i.set(this,f)}})}}function Wa(l,t=1/0){let i=new WeakMap;return function(c,p){Reflect.defineProperty(c,p,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(f){Tn(this.toSeconds(f),l,t),i.set(this,f)}})}}class li extends $t{constructor(){super(V(li.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"Player\",this._activeSources=new Set;let t=V(li.getDefaults(),arguments,[\"url\",\"onload\"]);this._buffer=new lt({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign($t.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:st,onerror:st,playbackRate:1,reverse:!1})}load(t){return Tt(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=st){t(),this.autostart\u0026\u0026this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size!==0||this._synced||this._state.getValueAtTime(this.now())!==\"started\"||(this._state.cancel(this.now()),this._state.setStateAtTime(\"stopped\",this.now()))}start(t,i,c){return super.start(t,i,c),this}_start(t,i,c){i=this._loop?Pr(i,this._loopStart):Pr(i,0);let p=this.toSeconds(i),f=c;c=Pr(c,Math.max(this._buffer.duration-p,0));let m=this.toSeconds(c);m/=this._playbackRate,t=this.toSeconds(t);let y=new Fa({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+m),this._state.setStateAtTime(\"stopped\",t+m,{implicitEnd:!0})),this._activeSources.add(y),this._loop\u0026\u0026Zn(f)?y.start(t,p):y.start(t,p,m-this.toSeconds(this.fadeOut))}_stop(t){let i=this.toSeconds(t);this._activeSources.forEach(c=\u003ec.stop(i))}restart(t,i,c){return super.restart(t,i,c),this}_restart(t,i,c){this._stop(t),this._start(t,i,c)}seek(t,i){let c=this.toSeconds(i);if(this._state.getValueAtTime(c)===\"started\"){let p=this.toSeconds(t);this._stop(c),this._start(c,p)}return this}setLoopPoints(t,i){return this.loopStart=t,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded\u0026\u0026Tn(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(i=\u003e{i.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded\u0026\u0026Tn(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(i=\u003e{i.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t\u0026\u0026(this._loop=t,this._activeSources.forEach(i=\u003e{i.loop=t}),t)){let i=this._state.getNextState(\"stopped\",this.now());i\u0026\u0026this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;let i=this.now(),c=this._state.getNextState(\"stopped\",i);c\u0026\u0026c.implicitEnd\u0026\u0026(this._state.cancel(c.time),this._activeSources.forEach(p=\u003ep.cancelStop())),this._activeSources.forEach(p=\u003e{p.playbackRate.setValueAtTime(t,i)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=\u003et.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}$r([Wa(0)],li.prototype,\"fadeIn\",void 0),$r([Wa(0)],li.prototype,\"fadeOut\",void 0);class lp extends ge{constructor(){super(V(lp.getDefaults(),arguments,[\"urls\",\"onload\"],\"urls\")),this.name=\"Players\",this.input=void 0,this._players=new Map;let t=V(lp.getDefaults(),arguments,[\"urls\",\"onload\"],\"urls\");this._volume=this.output=new pa({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ve(this,\"volume\"),this._buffers=new lo({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign($t.getDefaults(),{baseUrl:\"\",fadeIn:0,fadeOut:0,mute:!1,onload:st,onerror:st,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach(i=\u003e{i.fadeIn=t})}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach(i=\u003e{i.fadeOut=t})}get state(){return Array.from(this._players).some(([t,i])=\u003ei.state===\"started\")?\"started\":\"stopped\"}has(t){return this._buffers.has(t)}player(t){if(Ee(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){let i=new li({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,i)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,i,c){return Ee(!this._buffers.has(t),\"A buffer with that name already exists on this object\"),this._buffers.add(t,i,c),this}stopAll(t){return this._players.forEach(i=\u003ei.stop(t)),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach(t=\u003et.dispose()),this._buffers.dispose(),this}}class pp extends $t{constructor(){super(V(pp.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"GrainPlayer\",this._loopStart=0,this._loopEnd=0,this._activeSources=[];let t=V(pp.getDefaults(),arguments,[\"url\",\"onload\"]);this.buffer=new lt({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new si({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on(\"stop\",this._onstop.bind(this))}static getDefaults(){return Object.assign($t.getDefaults(),{onload:st,onerror:st,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,i,c){i=Pr(i,0),i=this.toSeconds(i),t=this.toSeconds(t);let p=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,i/p),c\u0026\u0026this.stop(t+this.toSeconds(c))}restart(t,i,c){return super.restart(t,i,c),this}_restart(t,i,c){this._stop(t),this._start(t,i,c)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach(i=\u003e{i.fadeOut=0,i.stop(t)}),this.onstop(this)}_tick(t){let i=this._clock.getTicksAtTime(t),c=i*this._grainSize;if(this.log(\"offset\",c),!this.loop\u0026\u0026c\u003ethis.buffer.duration)return void this.stop(t);let p=c\u003cthis._overlap?0:this._overlap,f=new Fa({context:this.context,url:this.buffer,fadeIn:p,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:oo(this.detune/100)}).connect(this.output);f.start(t,this._grainSize*i),f.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(f),f.onended=()=\u003e{let m=this._activeSources.indexOf(f);m!==-1\u0026\u0026this._activeSources.splice(m,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){Tn(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded\u0026\u0026Tn(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded\u0026\u0026Tn(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){let i=this.toSeconds(t);Tn(i,0),this._overlap=i}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach(t=\u003et.dispose()),this}}class bN extends vr{constructor(){super(...arguments),this.name=\"Abs\",this._abs=new Or({context:this.context,mapping:t=\u003eMath.abs(t)\u003c.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class kN extends vr{constructor(){super(...arguments),this.name=\"GainToAudio\",this._norm=new Or({context:this.context,mapping:t=\u003e2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Hm extends vr{constructor(){super(...arguments),this.name=\"Negate\",this._multiply=new Et({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class pi extends Be{constructor(){super(Object.assign(V(pi.getDefaults(),arguments,[\"value\"]))),this.override=!1,this.name=\"Subtract\",this._sum=new Ce({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Hm({context:this.context}),this.subtrahend=this._param,mr(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Be.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class hp extends vr{constructor(){super(Object.assign(V(hp.getDefaults(),arguments))),this.name=\"GreaterThanZero\",this._thresh=this.output=new Or({context:this.context,length:127,mapping:t=\u003et\u003c=0?0:1}),this._scale=this.input=new Et({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class $c extends Be{constructor(){super(Object.assign(V($c.getDefaults(),arguments,[\"value\"]))),this.name=\"GreaterThan\",this.override=!1;let t=V($c.getDefaults(),arguments,[\"value\"]);this._subtract=this.input=new pi({context:this.context,value:t.value}),this._gtz=this.output=new hp({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Ve(this,\"comparator\"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Be.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class yo extends vr{constructor(){super(Object.assign(V(yo.getDefaults(),arguments,[\"value\"]))),this.name=\"Pow\";let t=V(yo.getDefaults(),arguments,[\"value\"]);this._exponentScaler=this.input=this.output=new Or({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(vr.getDefaults(),{value:1})}_expFunc(t){return i=\u003eMath.pow(Math.abs(i),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Xc extends da{constructor(){super(Object.assign(V(Xc.getDefaults(),arguments,[\"min\",\"max\",\"exponent\"]))),this.name=\"ScaleExp\";let t=V(Xc.getDefaults(),arguments,[\"min\",\"max\",\"exponent\"]);this.input=this._exp=new yo({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(da.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class h8 extends Be{constructor(){super(V(Be.getDefaults(),arguments,[\"value\",\"units\"])),this.name=\"SyncedSignal\",this.override=!1;let t=V(Be.getDefaults(),arguments,[\"value\",\"units\"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),\"1i\"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on(\"start\",this._syncedCallback),this.context.transport.on(\"pause\",this._syncedCallback),this.context.transport.on(\"stop\",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new zc({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){let i=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==i\u0026\u0026(this._lastVal=i,this._constantSource.offset.setValueAtTime(i,t))}_anchorValue(t){let i=super.getValueAtTime(this.context.transport.seconds);this._lastVal=i,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(i,t)}getValueAtTime(t){let i=new tn(this.context,t).toSeconds();return super.getValueAtTime(i)}setValueAtTime(t,i){let c=new tn(this.context,i).toSeconds();return super.setValueAtTime(t,c),this}linearRampToValueAtTime(t,i){let c=new tn(this.context,i).toSeconds();return super.linearRampToValueAtTime(t,c),this}exponentialRampToValueAtTime(t,i){let c=new tn(this.context,i).toSeconds();return super.exponentialRampToValueAtTime(t,c),this}setTargetAtTime(t,i,c){let p=new tn(this.context,i).toSeconds();return super.setTargetAtTime(t,p,c),this}cancelScheduledValues(t){let i=new tn(this.context,t).toSeconds();return super.cancelScheduledValues(i),this}setValueCurveAtTime(t,i,c,p){let f=new tn(this.context,i).toSeconds();return c=this.toSeconds(c),super.setValueCurveAtTime(t,f,c,p),this}cancelAndHoldAtTime(t){let i=new tn(this.context,t).toSeconds();return super.cancelAndHoldAtTime(i),this}setRampPoint(t){let i=new tn(this.context,t).toSeconds();return super.setRampPoint(i),this}exponentialRampTo(t,i,c){let p=new tn(this.context,c).toSeconds();return super.exponentialRampTo(t,i,p),this}linearRampTo(t,i,c){let p=new tn(this.context,c).toSeconds();return super.linearRampTo(t,i,p),this}targetRampTo(t,i,c){let p=new tn(this.context,c).toSeconds();return super.targetRampTo(t,i,p),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off(\"start\",this._syncedCallback),this.context.transport.off(\"pause\",this._syncedCallback),this.context.transport.off(\"stop\",this._syncedCallback),this._constantSource.dispose(),this}}class yn extends ge{constructor(){super(V(yn.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"Envelope\",this._sig=new Be({context:this.context,value:0}),this.output=this._sig,this.input=void 0;let t=V(yn.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(ge.getDefaults(),{attack:.01,attackCurve:\"linear\",decay:.1,decayCurve:\"exponential\",release:1,releaseCurve:\"exponential\",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,i){if(Sr(t))return t;{let c;for(c in dp)if(dp[c][i]===t)return c;return t}}_setCurve(t,i,c){if(Sr(c)\u0026\u0026Reflect.has(dp,c)){let p=dp[c];ja(p)?t!==\"_decayCurve\"\u0026\u0026(this[t]=p[i]):this[t]=p}else{if(!Sn(c)||t===\"_decayCurve\")throw new Error(\"Envelope: invalid curve: \"+c);this[t]=c}}get attackCurve(){return this._getCurve(this._attackCurve,\"In\")}set attackCurve(t){this._setCurve(\"_attackCurve\",\"In\",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,\"Out\")}set releaseCurve(t){this._setCurve(\"_releaseCurve\",\"Out\",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Ee([\"linear\",\"exponential\"].some(i=\u003ei===t),\"Invalid envelope curve: \"+t),this._decayCurve=t}triggerAttack(t,i=1){this.log(\"triggerAttack\",t,i),t=this.toSeconds(t);let c=this.toSeconds(this.attack),p=this.toSeconds(this.decay),f=this.getValueAtTime(t);if(f\u003e0\u0026\u0026(c=(1-f)/(1/c)),c\u003cthis.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(i,t);else if(this._attackCurve===\"linear\")this._sig.linearRampTo(i,c,t);else if(this._attackCurve===\"exponential\")this._sig.targetRampTo(i,c,t);else{this._sig.cancelAndHoldAtTime(t);let m=this._attackCurve;for(let y=1;y\u003cm.length;y++)if(m[y-1]\u003c=f\u0026\u0026f\u003c=m[y]){m=this._attackCurve.slice(y),m[0]=f;break}this._sig.setValueCurveAtTime(m,t,c,i)}if(p\u0026\u0026this.sustain\u003c1){let m=i*this.sustain,y=t+c;this.log(\"decay\",y),this._decayCurve===\"linear\"?this._sig.linearRampToValueAtTime(m,p+y):this._sig.exponentialApproachValueAtTime(m,y,p)}return this}triggerRelease(t){this.log(\"triggerRelease\",t),t=this.toSeconds(t);let i=this.getValueAtTime(t);if(i\u003e0){let c=this.toSeconds(this.release);c\u003cthis.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve===\"linear\"?this._sig.linearRampTo(0,c,t):this._releaseCurve===\"exponential\"?this._sig.targetRampTo(0,c,t):(Ee(Sn(this._releaseCurve),\"releaseCurve must be either 'linear', 'exponential' or an array\"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,c,i))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,i,c=1){return i=this.toSeconds(i),this.triggerAttack(i,c),this.triggerRelease(i+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,i=0,c=0){return Gc(this,t,i,c),this}asArray(t=1024){return Tt(this,void 0,void 0,function*(){let i=t/this.context.sampleRate,c=new so(1,i,this.context.sampleRate),p=this.toSeconds(this.attack)+this.toSeconds(this.decay),f=p+this.toSeconds(this.release),m=.1*f,y=f+m,b=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/y,decay:i*this.toSeconds(this.decay)/y,release:i*this.toSeconds(this.release)/y,context:c}));return b._sig.toDestination(),b.triggerAttackRelease(i*(p+m)/y,0),(yield c.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}$r([Wa(0)],yn.prototype,\"attack\",void 0),$r([Wa(0)],yn.prototype,\"decay\",void 0),$r([_N(0,1)],yn.prototype,\"sustain\",void 0),$r([Wa(0)],yn.prototype,\"release\",void 0);let dp=(()=\u003e{let l,t,i=[];for(l=0;l\u003c128;l++)i[l]=Math.sin(l/127*(Math.PI/2));let c=[];for(l=0;l\u003c127;l++){t=l/127;let x=Math.sin(t*(2*Math.PI)*6.4-Math.PI/2)+1;c[l]=x/10+.83*t}c[127]=1;let p=[];for(l=0;l\u003c128;l++)p[l]=Math.ceil(l/127*5)/5;let f=[];for(l=0;l\u003c128;l++)t=l/127,f[l]=.5*(1-Math.cos(Math.PI*t));let m=[];for(l=0;l\u003c128;l++){t=l/127;let x=4*Math.pow(t,3)+.2,M=Math.cos(x*Math.PI*2*t);m[l]=Math.abs(M*(1-t))}function y(x){let M=new Array(x.length);for(let w=0;w\u003cx.length;w++)M[w]=1-x[w];return M}return{bounce:{In:y(m),Out:m},cosine:{In:i,Out:(b=i,b.slice(0).reverse())},exponential:\"exponential\",linear:\"linear\",ripple:{In:c,Out:y(c)},sine:{In:f,Out:y(f)},step:{In:p,Out:y(p)}};var b})();class gr extends ge{constructor(){super(V(gr.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;let t=V(gr.getDefaults(),arguments);this._volume=this.output=new pa({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ve(this,\"volume\")}static getDefaults(){return Object.assign(ge.getDefaults(),{volume:0})}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,i){let c=this[\"_original_\"+t]=this[t];this[t]=(...p)=\u003e{let f=p[i],m=this.context.transport.schedule(y=\u003e{p[i]=y,c.apply(this,p)},f);this._scheduledEvents.push(m)}}unsync(){return this._scheduledEvents.forEach(t=\u003ethis.context.transport.clear(t)),this._scheduledEvents=[],this._synced\u0026\u0026(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,i,c,p){let f=this.toSeconds(c),m=this.toSeconds(i);return this.triggerAttack(t,f,p),this.triggerRelease(f+m),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Pn extends gr{constructor(){super(V(Pn.getDefaults(),arguments));let t=V(Pn.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(gr.getDefaults(),{detune:0,onsilence:st,portamento:0})}triggerAttack(t,i,c=1){this.log(\"triggerAttack\",t,i,c);let p=this.toSeconds(i);return this._triggerEnvelopeAttack(p,c),this.setNote(t,p),this}triggerRelease(t){this.log(\"triggerRelease\",t);let i=this.toSeconds(t);return this._triggerEnvelopeRelease(i),this}setNote(t,i){let c=this.toSeconds(i),p=t instanceof zn?t.toFrequency():t;if(this.portamento\u003e0\u0026\u0026this.getLevelAtTime(c)\u003e.05){let f=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(p,f,c)}else this.frequency.setValueAtTime(p,c);return this}}$r([Wa(0)],Pn.prototype,\"portamento\",void 0);class _o extends yn{constructor(){super(V(_o.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"AmplitudeEnvelope\",this._gainNode=new Ce({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ba extends Pn{constructor(){super(V(Ba.getDefaults(),arguments)),this.name=\"Synth\";let t=V(Ba.getDefaults(),arguments);this.oscillator=new ha(Object.assign({context:this.context,detune:t.detune,onstop:()=\u003ethis.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new _o(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Ve(this,[\"oscillator\",\"frequency\",\"detune\",\"envelope\"])}static getDefaults(){return Object.assign(Pn.getDefaults(),{envelope:Object.assign(Mn(yn.getDefaults(),Object.keys(ge.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Mn(ha.getDefaults(),[...Object.keys($t.getDefaults()),\"frequency\",\"detune\"]),{type:\"triangle\"})})}_triggerEnvelopeAttack(t,i){if(this.envelope.triggerAttack(t,i),this.oscillator.start(t),this.envelope.sustain===0){let c=this.toSeconds(this.envelope.attack),p=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+c+p)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class bo extends Pn{constructor(){super(V(bo.getDefaults(),arguments)),this.name=\"ModulationSynth\";let t=V(bo.getDefaults(),arguments);this._carrier=new Ba({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=\u003ethis.onsilence(this),volume:-10}),this._modulator=new Ba({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Be({context:this.context,units:\"frequency\"}),this.detune=new Be({context:this.context,value:t.detune,units:\"cents\"}),this.harmonicity=new Et({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new Ce({context:this.context,gain:0}),Ve(this,[\"frequency\",\"harmonicity\",\"oscillator\",\"envelope\",\"modulation\",\"modulationEnvelope\",\"detune\"])}static getDefaults(){return Object.assign(Pn.getDefaults(),{harmonicity:3,oscillator:Object.assign(Mn(ha.getDefaults(),[...Object.keys($t.getDefaults()),\"frequency\",\"detune\"]),{type:\"sine\"}),envelope:Object.assign(Mn(yn.getDefaults(),Object.keys(ge.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Mn(ha.getDefaults(),[...Object.keys($t.getDefaults()),\"frequency\",\"detune\"]),{type:\"square\"}),modulationEnvelope:Object.assign(Mn(yn.getDefaults(),Object.keys(ge.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,i){this._carrier._triggerEnvelopeAttack(t,i),this._modulator._triggerEnvelopeAttack(t,i)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Zm extends bo{constructor(){super(V(Zm.getDefaults(),arguments)),this.name=\"AMSynth\",this._modulationScale=new cp({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class ko extends ge{constructor(){super(V(ko.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"BiquadFilter\";let t=V(ko.getDefaults(),arguments,[\"frequency\",\"type\"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Ye({context:this.context,units:\"number\",value:t.Q,param:this._filter.Q}),this.frequency=new Ye({context:this.context,units:\"frequency\",value:t.frequency,param:this._filter.frequency}),this.detune=new Ye({context:this.context,units:\"cents\",value:t.detune,param:this._filter.detune}),this.gain=new Ye({context:this.context,units:\"decibels\",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(ge.getDefaults(),{Q:1,type:\"lowpass\",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){Ee([\"lowpass\",\"highpass\",\"bandpass\",\"lowshelf\",\"highshelf\",\"notch\",\"allpass\",\"peaking\"].indexOf(t)!==-1,\"Invalid filter type: \"+t),this._filter.type=t}getFrequencyResponse(t=128){let i=new Float32Array(t);for(let m=0;m\u003ct;m++){let y=19980*Math.pow(m/t,2)+20;i[m]=y}let c=new Float32Array(t),p=new Float32Array(t),f=this.context.createBiquadFilter();return f.type=this.type,f.Q.value=this.Q.value,f.frequency.value=this.frequency.value,f.gain.value=this.gain.value,f.getFrequencyResponse(i,c,p),c}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Jn extends ge{constructor(){super(V(Jn.getDefaults(),arguments,[\"frequency\",\"type\",\"rolloff\"])),this.name=\"Filter\",this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this._filters=[];let t=V(Jn.getDefaults(),arguments,[\"frequency\",\"type\",\"rolloff\"]);this._filters=[],this.Q=new Be({context:this.context,units:\"positive\",value:t.Q}),this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency}),this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),this.gain=new Be({context:this.context,units:\"decibels\",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,Ve(this,[\"detune\",\"frequency\",\"gain\",\"Q\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:\"lowpass\"})}get type(){return this._type}set type(t){Ee([\"lowpass\",\"highpass\",\"bandpass\",\"lowshelf\",\"highshelf\",\"notch\",\"allpass\",\"peaking\"].indexOf(t)!==-1,\"Invalid filter type: \"+t),this._type=t,this._filters.forEach(i=\u003ei.type=t)}get rolloff(){return this._rolloff}set rolloff(t){let i=dr(t)?t:parseInt(t,10),c=[-12,-24,-48,-96],p=c.indexOf(i);Ee(p!==-1,\"rolloff can only be \"+c.join(\", \")),p+=1,this._rolloff=i,this.input.disconnect(),this._filters.forEach(f=\u003ef.disconnect()),this._filters=new Array(p);for(let f=0;f\u003cp;f++){let m=new ko({context:this.context});m.type=this._type,this.frequency.connect(m.frequency),this.detune.connect(m.detune),this.Q.connect(m.Q),this.gain.connect(m.gain),this._filters[f]=m}this._internalChannels=this._filters,mr(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){let i=new ko({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),c=new Float32Array(t).map(()=\u003e1);return this._filters.forEach(()=\u003e{i.getFrequencyResponse(t).forEach((p,f)=\u003ec[f]*=p)}),i.dispose(),c}dispose(){return super.dispose(),this._filters.forEach(t=\u003e{t.dispose()}),Wc(this,[\"detune\",\"frequency\",\"gain\",\"Q\"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class No extends yn{constructor(){super(V(No.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"])),this.name=\"FrequencyEnvelope\";let t=V(No.getDefaults(),arguments,[\"attack\",\"decay\",\"sustain\",\"release\"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new yo({context:this.context,value:t.exponent}),this._scale=this.output=new da({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(yn.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){let i=this.toFrequency(t);Tn(i,0),this._baseFrequency=i,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class ys extends Pn{constructor(){super(V(ys.getDefaults(),arguments)),this.name=\"MonoSynth\";let t=V(ys.getDefaults(),arguments);this.oscillator=new ha(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=\u003ethis.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Jn(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new No(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new _o(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Ve(this,[\"oscillator\",\"frequency\",\"detune\",\"filter\",\"filterEnvelope\",\"envelope\"])}static getDefaults(){return Object.assign(Pn.getDefaults(),{envelope:Object.assign(Mn(yn.getDefaults(),Object.keys(ge.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Mn(Jn.getDefaults(),Object.keys(ge.getDefaults())),{Q:1,rolloff:-12,type:\"lowpass\"}),filterEnvelope:Object.assign(Mn(No.getDefaults(),Object.keys(ge.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Mn(ha.getDefaults(),Object.keys($t.getDefaults())),{type:\"sawtooth\"})})}_triggerEnvelopeAttack(t,i=1){if(this.envelope.triggerAttack(t,i),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),this.envelope.sustain===0){let c=this.toSeconds(this.envelope.attack),p=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+c+p)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class fp extends Pn{constructor(){super(V(fp.getDefaults(),arguments)),this.name=\"DuoSynth\";let t=V(fp.getDefaults(),arguments);this.voice0=new ys(Object.assign(t.voice0,{context:this.context,onsilence:()=\u003ethis.onsilence(this)})),this.voice1=new ys(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new Et({context:this.context,units:\"positive\",value:t.harmonicity}),this._vibrato=new In({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new Ce({context:this.context,units:\"normalRange\",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Be({context:this.context,units:\"frequency\",value:440}),this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Ve(this,[\"voice0\",\"voice1\",\"frequency\",\"vibratoAmount\",\"vibratoRate\"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return Mr(Pn.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Mr(Mn(ys.getDefaults(),Object.keys(Pn.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Mr(Mn(ys.getDefaults(),Object.keys(Pn.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,i){this.voice0._triggerEnvelopeAttack(t,i),this.voice1._triggerEnvelopeAttack(t,i)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class mp extends bo{constructor(){super(V(mp.getDefaults(),arguments)),this.name=\"FMSynth\";let t=V(mp.getDefaults(),arguments);this.modulationIndex=new Et({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(bo.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}let NN=[1,1.483,1.932,2.546,2.63,3.897];class vp extends Pn{constructor(){super(V(vp.getDefaults(),arguments)),this.name=\"MetalSynth\",this._oscillators=[],this._freqMultipliers=[];let t=V(vp.getDefaults(),arguments);this.detune=new Be({context:this.context,units:\"cents\",value:t.detune}),this.frequency=new Be({context:this.context,units:\"frequency\"}),this._amplitude=new Ce({context:this.context,gain:0}).connect(this.output),this._highpass=new Jn({Q:0,context:this.context,type:\"highpass\"}).connect(this._amplitude);for(let i=0;i\u003cNN.length;i++){let c=new oi({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:\"square\",onstop:i===0?()=\u003ethis.onsilence(this):st,type:\"square\"});c.connect(this._highpass),this._oscillators[i]=c;let p=new Et({context:this.context,value:NN[i]});this._freqMultipliers[i]=p,this.frequency.chain(p,c.frequency),this.detune.connect(c.detune)}this._filterFreqScaler=new da({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new yn({attack:t.envelope.attack,attackCurve:\"linear\",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return Mr(Pn.getDefaults(),{envelope:Object.assign(Mn(yn.getDefaults(),Object.keys(ge.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,i=1){return this.envelope.triggerAttack(t,i),this._oscillators.forEach(c=\u003ec.start(t)),this.envelope.sustain===0\u0026\u0026this._oscillators.forEach(c=\u003e{c.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach(i=\u003ei.stop(t+this.toSeconds(this.envelope.release))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach(i=\u003ei.modulationIndex.value=t)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach(i=\u003ei.harmonicity.value=t)}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach(t=\u003et.dispose()),this._freqMultipliers.forEach(t=\u003et.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class xo extends Ba{constructor(){super(V(xo.getDefaults(),arguments)),this.name=\"MembraneSynth\",this.portamento=0;let t=V(xo.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Ve(this,[\"oscillator\",\"envelope\"])}static getDefaults(){return Mr(Pn.getDefaults(),Ba.getDefaults(),{envelope:{attack:.001,attackCurve:\"exponential\",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:\"sine\"},pitchDecay:.05})}setNote(t,i){let c=this.toSeconds(i),p=this.toFrequency(t instanceof zn?t.toFrequency():t),f=p*this.octaves;return this.oscillator.frequency.setValueAtTime(f,c),this.oscillator.frequency.exponentialRampToValueAtTime(p,c+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}$r([_N(0)],xo.prototype,\"octaves\",void 0),$r([Wa(0)],xo.prototype,\"pitchDecay\",void 0);class gp extends gr{constructor(){super(V(gp.getDefaults(),arguments)),this.name=\"NoiseSynth\";let t=V(gp.getDefaults(),arguments);this.noise=new Va(Object.assign({context:this.context},t.noise)),this.envelope=new _o(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(gr.getDefaults(),{envelope:Object.assign(Mn(yn.getDefaults(),Object.keys(ge.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Mn(Va.getDefaults(),Object.keys($t.getDefaults())),{type:\"white\"})})}triggerAttack(t,i=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,i),this.noise.start(t),this.envelope.sustain===0\u0026\u0026this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",0),this._syncMethod(\"triggerRelease\",0)),this}triggerAttackRelease(t,i,c=1){return i=this.toSeconds(i),t=this.toSeconds(t),this.triggerAttack(i,c),this.triggerRelease(i+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}let Km=new Set;function Qm(l){Km.add(l)}function xN(l,t){let i=`registerProcessor(\"${l}\", ${t})`;Km.add(i)}class Jm extends ge{constructor(t){super(t),this.name=\"ToneAudioWorklet\",this.workletOptions={},this.onprocessorerror=st;let i=URL.createObjectURL(new Blob([Array.from(Km).join(`\n`)],{type:\"text/javascript\"})),c=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(i,c).then(()=\u003e{this.disposed||(this._worklet=this.context.createAudioWorkletNode(c,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet\u0026\u0026(this._worklet.port.postMessage(\"dispose\"),this._worklet.disconnect()),this}}Qm(`\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it's disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) =\u003e {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === \"dispose\") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n`),Qm(`\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length \u003e 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input \u0026\u0026 input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample \u003c this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel \u003c channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input \u0026\u0026 input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n`),Qm(`\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i \u003c channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] \u003e this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead \u003c 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n`),xN(\"feedback-comb-filter\",`\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"delayTime\",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: \"k-rate\"\n\t\t\t}, {\n\t\t\t\tname: \"feedback\",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: \"k-rate\"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n`);class wo extends Jm{constructor(){super(V(wo.getDefaults(),arguments,[\"delayTime\",\"resonance\"])),this.name=\"FeedbackCombFilter\";let t=V(wo.getDefaults(),arguments,[\"delayTime\",\"resonance\"]);this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this.delayTime=new Ye({context:this.context,value:t.delayTime,units:\"time\",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Ye({context:this.context,value:t.resonance,units:\"normalRange\",param:this._dummyParam,swappable:!0}),Ve(this,[\"resonance\",\"delayTime\"])}_audioWorkletName(){return\"feedback-comb-filter\"}static getDefaults(){return Object.assign(ge.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){mr(this.input,t,this.output);let i=t.parameters.get(\"delayTime\");this.delayTime.setParam(i);let c=t.parameters.get(\"feedback\");this.resonance.setParam(c)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class qo extends ge{constructor(){super(V(qo.getDefaults(),arguments,[\"frequency\",\"type\"])),this.name=\"OnePoleFilter\";let t=V(qo.getDefaults(),arguments,[\"frequency\",\"type\"]);this._frequency=t.frequency,this._type=t.type,this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(ge.getDefaults(),{frequency:880,type:\"lowpass\"})}_createFilter(){let t=this._filter,i=this.toFrequency(this._frequency),c=1/(2*Math.PI*i);if(this._type===\"lowpass\"){let p=1/(c*this.context.sampleRate),f=p-1;this._filter=this.context.createIIRFilter([p,0],[1,f])}else{let p=1/(c*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,p])}this.input.chain(this._filter,this.output),t\u0026\u0026this.context.setTimeout(()=\u003e{this.disposed||(this.input.disconnect(t),t.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){let i=new Float32Array(t);for(let f=0;f\u003ct;f++){let m=19980*Math.pow(f/t,2)+20;i[f]=m}let c=new Float32Array(t),p=new Float32Array(t);return this._filter.getFrequencyResponse(i,c,p),c}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class To extends ge{constructor(){super(V(To.getDefaults(),arguments,[\"delayTime\",\"resonance\",\"dampening\"])),this.name=\"LowpassCombFilter\";let t=V(To.getDefaults(),arguments,[\"delayTime\",\"resonance\",\"dampening\"]);this._combFilter=this.output=new wo({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new qo({context:this.context,frequency:t.dampening,type:\"lowpass\"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(ge.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class yp extends gr{constructor(){super(V(yp.getDefaults(),arguments)),this.name=\"PluckSynth\";let t=V(yp.getDefaults(),arguments);this._noise=new Va({context:this.context,type:\"pink\"}),this.attackNoise=t.attackNoise,this._lfcf=new To({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Mr(gr.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,i){let c=this.toFrequency(t);i=this.toSeconds(i);let p=1/c;return this._lfcf.delayTime.setValueAtTime(p,i),this._noise.start(i),this._noise.stop(i+p*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(i),this._lfcf.resonance.setValueAtTime(this.resonance,i),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class _p extends gr{constructor(){super(V(_p.getDefaults(),arguments,[\"voice\",\"options\"])),this.name=\"PolySynth\",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;let t=V(_p.getDefaults(),arguments,[\"voice\",\"options\"]);Ee(!dr(t.voice),\"DEPRECATED: The polyphony count is no longer the first argument.\");let i=t.voice.getDefaults();this.options=Object.assign(i,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();let c=this._voices.indexOf(this._dummyVoice);this._voices.splice(c,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(gr.getDefaults(),{maxPolyphony:32,options:{},voice:Ba})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);let i=this._activeVoices.findIndex(c=\u003ec.voice===t);this._activeVoices.splice(i,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length\u003cthis.maxPolyphony){let t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}Vc(\"Max polyphony exceeded. Note dropped.\")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length\u0026\u0026this._voices.length\u003eMath.ceil(this._averageActiveVoices+1)){let t=this._availableVoices.shift(),i=this._voices.indexOf(t);this._voices.splice(i,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,i,c){t.forEach(p=\u003e{let f=new po(this.context,p).toMidi(),m=this._getNextAvailableVoice();m\u0026\u0026(m.triggerAttack(p,i,c),this._activeVoices.push({midi:f,voice:m,released:!1}),this.log(\"triggerAttack\",p,i))})}_triggerRelease(t,i){t.forEach(c=\u003e{let p=new po(this.context,c).toMidi(),f=this._activeVoices.find(({midi:m,released:y})=\u003em===p\u0026\u0026!y);f\u0026\u0026(f.voice.triggerRelease(i),f.released=!0,this.log(\"triggerRelease\",c,i))})}_scheduleEvent(t,i,c,p){Ee(!this.disposed,\"Synth was already disposed\"),c\u003c=this.now()?t===\"attack\"?this._triggerAttack(i,c,p):this._triggerRelease(i,c):this.context.setTimeout(()=\u003e{this._scheduleEvent(t,i,c,p)},c-this.now())}triggerAttack(t,i,c){Array.isArray(t)||(t=[t]);let p=this.toSeconds(i);return this._scheduleEvent(\"attack\",t,p,c),this}triggerRelease(t,i){Array.isArray(t)||(t=[t]);let c=this.toSeconds(i);return this._scheduleEvent(\"release\",t,c),this}triggerAttackRelease(t,i,c,p){let f=this.toSeconds(c);if(this.triggerAttack(t,f,p),Sn(i)){Ee(Sn(t),\"If the duration is an array, the notes must also be an array\"),t=t;for(let m=0;m\u003ct.length;m++){let y=i[Math.min(m,i.length-1)],b=this.toSeconds(y);Ee(b\u003e0,\"The duration must be greater than 0\"),this.triggerRelease(t[m],f+b)}}else{let m=this.toSeconds(i);Ee(m\u003e0,\"The duration must be greater than 0\"),this.triggerRelease(t,f+m)}return this}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",1)),this}set(t){let i=Mn(t,[\"onsilence\",\"context\"]);return this.options=Mr(this.options,i),this._voices.forEach(c=\u003ec.set(i)),this._dummyVoice.set(i),this}get(){return this._dummyVoice.get()}releaseAll(t){let i=this.toSeconds(t);return this._activeVoices.forEach(({voice:c})=\u003e{c.triggerRelease(i)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=\u003et.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class So extends gr{constructor(){super(V(So.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\")),this.name=\"Sampler\",this._activeSources=new Map;let t=V(So.getDefaults(),arguments,[\"urls\",\"onload\",\"baseUrl\"],\"urls\"),i={};Object.keys(t.urls).forEach(c=\u003e{let p=parseInt(c,10);if(Ee(Lc(c)||dr(p)\u0026\u0026isFinite(p),\"url key is neither a note or midi pitch: \"+c),Lc(c)){let f=new zn(this.context,c).toMidi();i[f]=t.urls[c]}else dr(p)\u0026\u0026isFinite(p)\u0026\u0026(i[p]=t.urls[p])}),this._buffers=new lo({urls:i,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded\u0026\u0026Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(gr.getDefaults(),{attack:0,baseUrl:\"\",curve:\"exponential\",onload:st,onerror:st,release:.1,urls:{}})}_findClosest(t){let i=0;for(;i\u003c96;){if(this._buffers.has(t+i))return-i;if(this._buffers.has(t-i))return i;i++}throw new Error(\"No available buffers for note: \"+t)}triggerAttack(t,i,c=1){return this.log(\"triggerAttack\",t,i,c),Array.isArray(t)||(t=[t]),t.forEach(p=\u003e{let f=mN(new zn(this.context,p).toFrequency()),m=Math.round(f),y=f-m,b=this._findClosest(m),x=m-b,M=this._buffers.get(x),w=oo(b+y),O=new Fa({url:M,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:w}).connect(this.output);O.start(i,0,M.duration/w,c),Sn(this._activeSources.get(m))||this._activeSources.set(m,[]),this._activeSources.get(m).push(O),O.onended=()=\u003e{if(this._activeSources\u0026\u0026this._activeSources.has(m)){let q=this._activeSources.get(m),X=q.indexOf(O);X!==-1\u0026\u0026q.splice(X,1)}}}),this}triggerRelease(t,i){return this.log(\"triggerRelease\",t,i),Array.isArray(t)||(t=[t]),t.forEach(c=\u003e{let p=new zn(this.context,c).toMidi();if(this._activeSources.has(p)\u0026\u0026this._activeSources.get(p).length){let f=this._activeSources.get(p);i=this.toSeconds(i),f.forEach(m=\u003e{m.stop(i)}),this._activeSources.set(p,[])}}),this}releaseAll(t){let i=this.toSeconds(t);return this._activeSources.forEach(c=\u003e{for(;c.length;)c.shift().stop(i)}),this}sync(){return this._syncState()\u0026\u0026(this._syncMethod(\"triggerAttack\",1),this._syncMethod(\"triggerRelease\",1)),this}triggerAttackRelease(t,i,c,p=1){let f=this.toSeconds(c);return this.triggerAttack(t,f,p),Sn(i)?(Ee(Sn(t),\"notes must be an array when duration is array\"),t.forEach((m,y)=\u003e{let b=i[Math.min(y,i.length-1)];this.triggerRelease(m,f+this.toSeconds(b))})):this.triggerRelease(t,f+this.toSeconds(i)),this}add(t,i,c){if(Ee(Lc(t)||isFinite(t),\"note must be a pitch or midi: \"+t),Lc(t)){let p=new zn(this.context,t).toMidi();this._buffers.add(p,i,c)}else this._buffers.add(t,i,c);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=\u003e{t.forEach(i=\u003ei.dispose())}),this._activeSources.clear(),this}}$r([Wa(0)],So.prototype,\"attack\",void 0),$r([Wa(0)],So.prototype,\"release\",void 0);class Hr extends gn{constructor(){super(V(Hr.getDefaults(),arguments,[\"callback\",\"value\"])),this.name=\"ToneEvent\",this._state=new co(\"stopped\"),this._startOffset=0;let t=V(Hr.getDefaults(),arguments,[\"callback\",\"value\"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(gn.getDefaults(),{callback:st,humanize:!1,loop:!1,loopEnd:\"1m\",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,i=\u003e{let c;if(i.state===\"started\"){i.id!==-1\u0026\u0026this.context.transport.clear(i.id);let p=i.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||dr(this._loop)\u0026\u0026this._loop\u003e1){c=1/0,dr(this._loop)\u0026\u0026(c=this._loop*this._getLoopDuration());let f=this._state.getAfter(p);f!==null\u0026\u0026(c=Math.min(c,f.time-p)),c!==1/0\u0026\u0026(this._state.setStateAtTime(\"stopped\",p+c+1,{id:-1}),c=new St(this.context,c));let m=new St(this.context,this._getLoopDuration());i.id=this.context.transport.scheduleRepeat(this._tick.bind(this),m,new St(this.context,p),c)}else i.id=this.context.transport.schedule(this._tick.bind(this),new St(this.context,p))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){let i=this.toTicks(t);return this._state.getValueAtTime(i)===\"stopped\"\u0026\u0026(this._state.add({id:-1,state:\"started\",time:i}),this._rescheduleEvents(i)),this}stop(t){this.cancel(t);let i=this.toTicks(t);if(this._state.getValueAtTime(i)===\"started\"){this._state.setStateAtTime(\"stopped\",i,{id:-1});let c=this._state.getBefore(i),p=i;c!==null\u0026\u0026(p=c.time),this._rescheduleEvents(p)}return this}cancel(t){t=Pr(t,-1/0);let i=this.toTicks(t);return this._state.forEachFrom(i,c=\u003e{this.context.transport.clear(c.id)}),this._state.cancel(i),this}_tick(t){let i=this.context.transport.getTicksAtTime(t);if(!this.mute\u0026\u0026this._state.getValueAtTime(i)===\"started\"){if(this.probability\u003c1\u0026\u0026Math.random()\u003ethis.probability)return;if(this.humanize){let c=.02;Bm(this.humanize)||(c=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*c}this.callback(t,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new St(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop\u0026\u0026this._rescheduleEvents()}get loopStart(){return new St(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop\u0026\u0026this._rescheduleEvents()}get progress(){if(this._loop){let t=this.context.transport.ticks,i=this._state.get(t);if(i!==null\u0026\u0026i.state===\"started\"){let c=this._getLoopDuration();return(t-i.time)%c/c}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Mo extends gn{constructor(){super(V(Mo.getDefaults(),arguments,[\"callback\",\"interval\"])),this.name=\"Loop\";let t=V(Mo.getDefaults(),arguments,[\"callback\",\"interval\"]);this._event=new Hr({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(gn.getDefaults(),{interval:\"4n\",callback:st,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class Po extends Hr{constructor(){super(V(Po.getDefaults(),arguments,[\"callback\",\"events\"])),this.name=\"Part\",this._state=new co(\"stopped\"),this._events=new Set;let t=V(Po.getDefaults(),arguments,[\"callback\",\"events\"]);this._state.increasing=!0,t.events.forEach(i=\u003e{Sn(i)?this.add(i[0],i[1]):this.add(i)})}static getDefaults(){return Object.assign(Hr.getDefaults(),{events:[]})}start(t,i){let c=this.toTicks(t);if(this._state.getValueAtTime(c)!==\"started\"){i=Pr(i,this._loop?this._loopStart:0),i=this._loop?Pr(i,this._loopStart):Pr(i,0);let p=this.toTicks(i);this._state.add({id:-1,offset:p,state:\"started\",time:c}),this._forEach(f=\u003e{this._startNote(f,c,p)})}return this}_startNote(t,i,c){i-=c,this._loop?t.startOffset\u003e=this._loopStart\u0026\u0026t.startOffset\u003cthis._loopEnd?(t.startOffset\u003cc\u0026\u0026(i+=this._getLoopDuration()),t.start(new St(this.context,i))):t.startOffset\u003cthis._loopStart\u0026\u0026t.startOffset\u003e=c\u0026\u0026(t.loop=!1,t.start(new St(this.context,i))):t.startOffset\u003e=c\u0026\u0026t.start(new St(this.context,i))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach(i=\u003e{i.startOffset+=this._startOffset})}stop(t){let i=this.toTicks(t);return this._state.cancel(i),this._state.setStateAtTime(\"stopped\",i),this._forEach(c=\u003e{c.stop(t)}),this}at(t,i){let c=new tn(this.context,t).toTicks(),p=new St(this.context,1).toSeconds(),f=this._events.values(),m=f.next();for(;!m.done;){let y=m.value;if(Math.abs(c-y.startOffset)\u003cp)return et(i)\u0026\u0026(y.value=i),y;m=f.next()}return et(i)?(this.add(t,i),this.at(t)):null}add(t,i){t instanceof Object\u0026\u0026Reflect.has(t,\"time\")\u0026\u0026(t=(i=t).time);let c=this.toTicks(t),p;return i instanceof Hr?(p=i,p.callback=this._tick.bind(this)):p=new Hr({callback:this._tick.bind(this),context:this.context,value:i}),p.startOffset=c,p.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(p),this._restartEvent(p),this}_restartEvent(t){this._state.forEach(i=\u003e{i.state===\"started\"?this._startNote(t,i.time,i.offset):t.stop(new St(this.context,i.time))})}remove(t,i){return ja(t)\u0026\u0026t.hasOwnProperty(\"time\")\u0026\u0026(t=(i=t).time),t=this.toTicks(t),this._events.forEach(c=\u003e{c.startOffset===t\u0026\u0026(Zn(i)||et(i)\u0026\u0026c.value===i)\u0026\u0026(this._events.delete(c),c.dispose())}),this}clear(){return this._forEach(t=\u003et.dispose()),this._events.clear(),this}cancel(t){return this._forEach(i=\u003ei.cancel(t)),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events\u0026\u0026this._events.forEach(i=\u003e{i instanceof Po?i._forEach(t):t(i)}),this}_setAll(t,i){this._forEach(c=\u003e{c[t]=i})}_tick(t,i){this.mute||this.callback(t,i)}_testLoopBoundries(t){this._loop\u0026\u0026(t.startOffset\u003cthis._loopStart||t.startOffset\u003e=this._loopEnd)?t.cancel(0):t.state===\"stopped\"\u0026\u0026this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll(\"probability\",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll(\"humanize\",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach(i=\u003e{i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.loop=t,this._testLoopBoundries(i)})}get loopEnd(){return new St(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop\u0026\u0026this._forEach(i=\u003e{i.loopEnd=t,this._testLoopBoundries(i)})}get loopStart(){return new St(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop\u0026\u0026this._forEach(i=\u003e{i.loopStart=this.loopStart,this._testLoopBoundries(i)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll(\"playbackRate\",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*d8(l){let t=0;for(;t\u003cl.length;)t=Oo(t,l),yield l[t],t++}function*f8(l){let t=l.length-1;for(;t\u003e=0;)t=Oo(t,l),yield l[t],t--}function*Yc(l,t){for(;;)yield*t(l)}function Oo(l,t){return pN(l,0,t.length-1)}function*wN(l,t){let i=t?0:l.length-1;for(;;)i=Oo(i,l),yield l[i],t?(i++,i\u003e=l.length-1\u0026\u0026(t=!1)):(i--,i\u003c=0\u0026\u0026(t=!0))}function*m8(l){let t=0,i=0;for(;t\u003cl.length;)t=Oo(t,l),yield l[t],i++,t+=i%2?2:-1}function*v8(l){let t=l.length-1,i=0;for(;t\u003e=0;)t=Oo(t,l),yield l[t],i++,t+=i%2?-2:1}function*g8(l){let t=[];for(let i=0;i\u003cl.length;i++)t.push(i);for(;t.length\u003e0;){let i=Oo(t.splice(Math.floor(t.length*Math.random()),1)[0],l);yield l[i]}}function*qN(l,t=\"up\",i=0){switch(Ee(l.length\u003e0,\"The array must have more than one value in it\"),t){case\"up\":yield*Yc(l,d8);case\"down\":yield*Yc(l,f8);case\"upDown\":yield*wN(l,!0);case\"downUp\":yield*wN(l,!1);case\"alternateUp\":yield*Yc(l,m8);case\"alternateDown\":yield*Yc(l,v8);case\"random\":yield*function*(c){for(;;){let p=Math.floor(Math.random()*c.length);yield c[p]}}(l);case\"randomOnce\":yield*Yc(l,g8);case\"randomWalk\":yield*function*(c){let p=Math.floor(Math.random()*c.length);for(;;)p===0?p++:p===c.length-1||Math.random()\u003c.5?p--:p++,yield c[p]}(l)}}class bp extends Mo{constructor(){super(V(bp.getDefaults(),arguments,[\"callback\",\"values\",\"pattern\"])),this.name=\"Pattern\";let t=V(bp.getDefaults(),arguments,[\"callback\",\"values\",\"pattern\"]);this.callback=t.callback,this._values=t.values,this._pattern=qN(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(Mo.getDefaults(),{pattern:\"up\",values:[],callback:st})}_tick(t){let i=this._pattern.next();this._value=i.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=qN(this._values,this._type)}}class kp extends Hr{constructor(){super(V(kp.getDefaults(),arguments,[\"callback\",\"events\",\"subdivision\"])),this.name=\"Sequence\",this._part=new Po({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];let t=V(kp.getDefaults(),arguments,[\"callback\",\"events\",\"subdivision\"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(Mn(Hr.getDefaults(),[\"value\"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:\"8n\"})}_seqCallback(t,i){i!==null\u0026\u0026this.callback(t,i)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,i){return this._part.start(t,i\u0026\u0026this._indexTime(i)),this}stop(t){return this._part.stop(t),this}get subdivision(){return new St(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(i,c)=\u003ei[c],set:(i,c,p)=\u003e(Sr(c)\u0026\u0026isFinite(parseInt(c,10))\u0026\u0026Sn(p)?i[c]=this._createSequence(p):i[c]=p,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,i,c){t.forEach((p,f)=\u003e{let m=f*i+c;if(Sn(p))this._rescheduleSequence(p,i/p.length,m);else{let y=new St(this.context,m,\"i\").toSeconds();this._part.add(y,p)}})}_indexTime(t){return new St(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=t===0?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class hi extends ge{constructor(){super(Object.assign(V(hi.getDefaults(),arguments,[\"fade\"]))),this.name=\"CrossFade\",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new kN({context:this.context}),this.a=new Ce({context:this.context,gain:0}),this.b=new Ce({context:this.context,gain:0}),this.output=new Ce({context:this.context}),this._internalChannels=[this.a,this.b];let t=V(hi.getDefaults(),arguments,[\"fade\"]);this.fade=new Be({context:this.context,units:\"normalRange\",value:t.fade}),Ve(this,\"fade\"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode=\"explicit\",Kn(this._split,this.a.gain,0),Kn(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(ge.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class cn extends ge{constructor(t){super(t),this.name=\"Effect\",this._dryWet=new hi({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Ce({context:this.context}),this.effectReturn=new Ce({context:this.context}),this.input=new Ce({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ve(this,\"wet\")}static getDefaults(){return Object.assign(ge.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Np extends cn{constructor(t){super(t),this.name=\"LFOEffect\",this._lfo=new In({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,Ve(this,[\"frequency\",\"depth\"])}static getDefaults(){return Object.assign(cn.getDefaults(),{frequency:1,type:\"sine\",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class xp extends Np{constructor(){super(V(xp.getDefaults(),arguments,[\"frequency\",\"baseFrequency\",\"octaves\"])),this.name=\"AutoFilter\";let t=V(xp.getDefaults(),arguments,[\"frequency\",\"baseFrequency\",\"octaves\"]);this.filter=new Jn(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(Np.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:\"lowpass\",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Co extends ge{constructor(){super(Object.assign(V(Co.getDefaults(),arguments,[\"pan\"]))),this.name=\"Panner\",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;let t=V(Co.getDefaults(),arguments,[\"pan\"]);this.pan=new Ye({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode=\"explicit\",Ve(this,\"pan\")}static getDefaults(){return Object.assign(ge.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class wp extends Np{constructor(){super(V(wp.getDefaults(),arguments,[\"frequency\"])),this.name=\"AutoPanner\";let t=V(wp.getDefaults(),arguments,[\"frequency\"]);this._panner=new Co({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Np.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Ao extends ge{constructor(){super(V(Ao.getDefaults(),arguments,[\"smoothing\"])),this.name=\"Follower\";let t=V(Ao.getDefaults(),arguments,[\"smoothing\"]);this._abs=this.input=new bN({context:this.context}),this._lowpass=this.output=new qo({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:\"lowpass\"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(ge.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class qp extends cn{constructor(){super(V(qp.getDefaults(),arguments,[\"baseFrequency\",\"octaves\",\"sensitivity\"])),this.name=\"AutoWah\";let t=V(qp.getDefaults(),arguments,[\"baseFrequency\",\"octaves\",\"sensitivity\"]);this._follower=new Ao({context:this.context,smoothing:t.follower}),this._sweepRange=new Xc({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new Ce({context:this.context}),this._bandpass=new Jn({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new Jn({context:this.context,type:\"peaking\"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,Ve(this,[\"gain\",\"Q\"])}static getDefaults(){return Object.assign(cn.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return Bc(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/io(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}xN(\"bit-crusher\",`\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n`);class Tp extends cn{constructor(){super(V(Tp.getDefaults(),arguments,[\"bits\"])),this.name=\"BitCrusher\";let t=V(Tp.getDefaults(),arguments,[\"bits\"]);this._bitCrusherWorklet=new Sp({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(cn.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class Sp extends Jm{constructor(){super(V(Sp.getDefaults(),arguments)),this.name=\"BitCrusherWorklet\";let t=V(Sp.getDefaults(),arguments);this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this.bits=new Ye({context:this.context,value:t.bits,units:\"positive\",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(Jm.getDefaults(),{bits:12})}_audioWorkletName(){return\"bit-crusher\"}onReady(t){mr(this.input,t,this.output);let i=t.parameters.get(\"bits\");this.bits.setParam(i)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Mp extends cn{constructor(){super(V(Mp.getDefaults(),arguments,[\"order\"])),this.name=\"Chebyshev\";let t=V(Mp.getDefaults(),arguments,[\"order\"]);this._shaper=new Or({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(cn.getDefaults(),{order:1,oversample:\"none\"})}_getCoefficient(t,i,c){return c.has(i)||(i===0?c.set(i,0):i===1?c.set(i,t):c.set(i,2*t*this._getCoefficient(t,i-1,c)-this._getCoefficient(t,i-2,c))),c.get(i)}get order(){return this._order}set order(t){this._order=t,this._shaper.setMap(i=\u003ethis._getCoefficient(i,t,new Map))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class _s extends ge{constructor(){super(V(_s.getDefaults(),arguments,[\"channels\"])),this.name=\"Split\";let t=V(_s.getDefaults(),arguments,[\"channels\"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ge.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class za extends ge{constructor(){super(V(za.getDefaults(),arguments,[\"channels\"])),this.name=\"Merge\";let t=V(za.getDefaults(),arguments,[\"channels\"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(ge.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class fa extends ge{constructor(t){super(t),this.name=\"StereoEffect\",this.input=new Ce({context:this.context}),this.input.channelCount=2,this.input.channelCountMode=\"explicit\",this._dryWet=this.output=new hi({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new _s({context:this.context,channels:2}),this._merge=new za({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Ve(this,[\"wet\"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),mr(...t),Kn(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),mr(...t),Kn(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(ge.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class ev extends fa{constructor(t){super(t),this.feedback=new Be({context:this.context,value:t.feedback,units:\"normalRange\"}),this._feedbackL=new Ce({context:this.context}),this._feedbackR=new Ce({context:this.context}),this._feedbackSplit=new _s({context:this.context,channels:2}),this._feedbackMerge=new za({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Ve(this,[\"feedback\"])}static getDefaults(){return Object.assign(fa.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Pp extends ev{constructor(){super(V(Pp.getDefaults(),arguments,[\"frequency\",\"delayTime\",\"depth\"])),this.name=\"Chorus\";let t=V(Pp.getDefaults(),arguments,[\"frequency\",\"delayTime\",\"depth\"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new In({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new In({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Qn({context:this.context}),this._delayNodeR=new Qn({context:this.context}),this.frequency=this._lfoL.frequency,Ve(this,[\"frequency\"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(ev.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:\"sine\",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;let i=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-i,0),this._lfoL.max=this._delayTime+i,this._lfoR.min=Math.max(this._delayTime-i,0),this._lfoR.max=this._delayTime+i}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Op extends cn{constructor(){super(V(Op.getDefaults(),arguments,[\"distortion\"])),this.name=\"Distortion\";let t=V(Op.getDefaults(),arguments,[\"distortion\"]);this._shaper=new Or({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(cn.getDefaults(),{distortion:.4,oversample:\"none\"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;let i=100*t,c=Math.PI/180;this._shaper.setMap(p=\u003eMath.abs(p)\u003c.001?0:(3+i)*p*20*c/(Math.PI+i*Math.abs(p)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Cp extends cn{constructor(t){super(t),this.name=\"FeedbackEffect\",this._feedbackGain=new Ce({context:this.context,gain:t.feedback,units:\"normalRange\"}),this.feedback=this._feedbackGain.gain,Ve(this,\"feedback\"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(cn.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Ap extends Cp{constructor(){super(V(Ap.getDefaults(),arguments,[\"delayTime\",\"feedback\"])),this.name=\"FeedbackDelay\";let t=V(Ap.getDefaults(),arguments,[\"delayTime\",\"feedback\"]);this._delayNode=new Qn({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Ve(this,\"delayTime\")}static getDefaults(){return Object.assign(Cp.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class y8 extends ge{constructor(t){super(t),this.name=\"PhaseShiftAllpass\",this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this.offset90=new Ce({context:this.context}),this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),mr(this.input,...this._bank0,this._oneSampleDelay,this.output),mr(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map(i=\u003e{let c=[[i*i,0,-1],[1,0,-i*i]];return this.context.createIIRFilter(c[0],c[1])})}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach(t=\u003et.disconnect()),this._bank1.forEach(t=\u003et.disconnect()),this._oneSampleDelay.disconnect(),this}}class Rp extends cn{constructor(){super(V(Rp.getDefaults(),arguments,[\"frequency\"])),this.name=\"FrequencyShifter\";let t=V(Rp.getDefaults(),arguments,[\"frequency\"]);this.frequency=new Be({context:this.context,units:\"frequency\",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new fo({context:this.context,type:\"sine\"}),this._cosine=new Rt({context:this.context,phase:-90,type:\"sine\"}),this._sineMultiply=new Et({context:this.context}),this._cosineMultiply=new Et({context:this.context}),this._negate=new Hm({context:this.context}),this._add=new ui({context:this.context}),this._phaseShifter=new y8({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);let i=this.immediate();this._sine.start(i),this._cosine.start(i)}static getDefaults(){return Object.assign(cn.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}let TN=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],SN=[225,556,441,341];class Ep extends fa{constructor(){super(V(Ep.getDefaults(),arguments,[\"roomSize\",\"dampening\"])),this.name=\"Freeverb\",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];let t=V(Ep.getDefaults(),arguments,[\"roomSize\",\"dampening\"]);this.roomSize=new Be({context:this.context,value:t.roomSize,units:\"normalRange\"}),this._allpassFiltersL=SN.map(i=\u003e{let c=this.context.createBiquadFilter();return c.type=\"allpass\",c.frequency.value=i,c}),this._allpassFiltersR=SN.map(i=\u003e{let c=this.context.createBiquadFilter();return c.type=\"allpass\",c.frequency.value=i,c}),this._combFilters=TN.map((i,c)=\u003e{let p=new To({context:this.context,dampening:t.dampening,delayTime:i});return c\u003cTN.length/2?this.connectEffectLeft(p,...this._allpassFiltersL):this.connectEffectRight(p,...this._allpassFiltersR),this.roomSize.connect(p.resonance),p}),Ve(this,[\"roomSize\"])}static getDefaults(){return Object.assign(fa.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach(i=\u003ei.dampening=t)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(t=\u003et.disconnect()),this._allpassFiltersR.forEach(t=\u003et.disconnect()),this._combFilters.forEach(t=\u003et.dispose()),this.roomSize.dispose(),this}}let MN=[.06748,.06404,.08212,.09004],_8=[.773,.802,.753,.733],b8=[347,113,37];class jp extends fa{constructor(){super(V(jp.getDefaults(),arguments,[\"roomSize\"])),this.name=\"JCReverb\",this._allpassFilters=[],this._feedbackCombFilters=[];let t=V(jp.getDefaults(),arguments,[\"roomSize\"]);this.roomSize=new Be({context:this.context,value:t.roomSize,units:\"normalRange\"}),this._scaleRoomSize=new da({context:this.context,min:-.733,max:.197}),this._allpassFilters=b8.map(i=\u003e{let c=this.context.createBiquadFilter();return c.type=\"allpass\",c.frequency.value=i,c}),this._feedbackCombFilters=MN.map((i,c)=\u003e{let p=new wo({context:this.context,delayTime:i});return this._scaleRoomSize.connect(p.resonance),p.resonance.value=_8[c],c\u003cMN.length/2?this.connectEffectLeft(...this._allpassFilters,p):this.connectEffectRight(...this._allpassFilters,p),p}),this.roomSize.connect(this._scaleRoomSize),Ve(this,[\"roomSize\"])}static getDefaults(){return Object.assign(fa.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(t=\u003et.disconnect()),this._feedbackCombFilters.forEach(t=\u003et.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class PN extends ev{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Ve(this,[\"feedback\"])}}class Dp extends PN{constructor(){super(V(Dp.getDefaults(),arguments,[\"delayTime\",\"feedback\"])),this.name=\"PingPongDelay\";let t=V(Dp.getDefaults(),arguments,[\"delayTime\",\"feedback\"]);this._leftDelay=new Qn({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new Qn({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new Qn({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new Be({context:this.context,units:\"time\",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Ve(this,[\"delayTime\"])}static getDefaults(){return Object.assign(PN.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Ip extends Cp{constructor(){super(V(Ip.getDefaults(),arguments,[\"pitch\"])),this.name=\"PitchShift\";let t=V(Ip.getDefaults(),arguments,[\"pitch\"]);this._frequency=new Be({context:this.context}),this._delayA=new Qn({maxDelay:1,context:this.context}),this._lfoA=new In({context:this.context,min:0,max:.1,type:\"sawtooth\"}).connect(this._delayA.delayTime),this._delayB=new Qn({maxDelay:1,context:this.context}),this._lfoB=new In({context:this.context,min:0,max:.1,type:\"sawtooth\",phase:180}).connect(this._delayB.delayTime),this._crossFade=new hi({context:this.context}),this._crossFadeLFO=new In({context:this.context,min:0,max:1,type:\"triangle\",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Qn({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Ve(this,\"delayTime\"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);let i=this.now();this._lfoA.start(i),this._lfoB.start(i),this._crossFadeLFO.start(i),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Cp.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let i=0;t\u003c0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,i=oo(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,i=oo(t)-1),this._frequency.value=i*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Fp extends fa{constructor(){super(V(Fp.getDefaults(),arguments,[\"frequency\",\"octaves\",\"baseFrequency\"])),this.name=\"Phaser\";let t=V(Fp.getDefaults(),arguments,[\"frequency\",\"octaves\",\"baseFrequency\"]);this._lfoL=new In({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new In({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new Be({context:this.context,value:t.Q,units:\"positive\"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),Ve(this,[\"frequency\",\"Q\"])}static getDefaults(){return Object.assign(fa.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,i){let c=[];for(let p=0;p\u003ct;p++){let f=this.context.createBiquadFilter();f.type=\"allpass\",this.Q.connect(f.Q),i.connect(f.frequency),c.push(f)}return c}get octaves(){return this._octaves}set octaves(t){this._octaves=t;let i=this._baseFrequency*Math.pow(2,t);this._lfoL.max=i,this._lfoR.max=i}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(t=\u003et.disconnect()),this._filtersR.forEach(t=\u003et.disconnect()),this.frequency.dispose(),this}}class Vp extends cn{constructor(){super(V(Vp.getDefaults(),arguments,[\"decay\"])),this.name=\"Reverb\",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();let t=V(Vp.getDefaults(),arguments,[\"decay\"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(cn.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){Tn(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){Tn(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return Tt(this,void 0,void 0,function*(){let t=this.ready,i=new so(2,this._decay+this._preDelay,this.context.sampleRate),c=new Va({context:i}),p=new Va({context:i}),f=new za({context:i});c.connect(f,0,0),p.connect(f,0,1);let m=new Ce({context:i}).toDestination();f.connect(m),c.start(0),p.start(0),m.gain.setValueAtTime(0,0),m.gain.setValueAtTime(1,this._preDelay),m.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);let y=i.render();return this.ready=y.then(st),yield t,this._convolver.buffer=(yield y).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Hc extends ge{constructor(){super(V(Hc.getDefaults(),arguments)),this.name=\"MidSideSplit\",this._split=this.input=new _s({channels:2,context:this.context}),this._midAdd=new ui({context:this.context}),this.mid=new Et({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new pi({context:this.context}),this.side=new Et({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class Zc extends ge{constructor(){super(V(Zc.getDefaults(),arguments)),this.name=\"MidSideMerge\",this.mid=new Ce({context:this.context}),this.side=new Ce({context:this.context}),this._left=new ui({context:this.context}),this._leftMult=new Et({context:this.context,value:Math.SQRT1_2}),this._right=new pi({context:this.context}),this._rightMult=new Et({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new za({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class ON extends cn{constructor(t){super(t),this.name=\"MidSideEffect\",this._midSideMerge=new Zc({context:this.context}),this._midSideSplit=new Hc({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class Lp extends ON{constructor(){super(V(Lp.getDefaults(),arguments,[\"width\"])),this.name=\"StereoWidener\";let t=V(Lp.getDefaults(),arguments,[\"width\"]);this.width=new Be({context:this.context,value:t.width,units:\"normalRange\"}),Ve(this,[\"width\"]),this._twoTimesWidthMid=new Et({context:this.context,value:2}),this._twoTimesWidthSide=new Et({context:this.context,value:2}),this._midMult=new Et({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new pi({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),Kn(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Et({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(ON.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class Wp extends fa{constructor(){super(V(Wp.getDefaults(),arguments,[\"frequency\",\"depth\"])),this.name=\"Tremolo\";let t=V(Wp.getDefaults(),arguments,[\"frequency\",\"depth\"]);this._lfoL=new In({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new In({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new Ce({context:this.context}),this._amplitudeR=new Ce({context:this.context}),this.frequency=new Be({context:this.context,value:t.frequency,units:\"frequency\"}),this.depth=new Be({context:this.context,value:t.depth,units:\"normalRange\"}),Ve(this,[\"frequency\",\"depth\"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(fa.getDefaults(),{frequency:10,type:\"sine\",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Bp extends cn{constructor(){super(V(Bp.getDefaults(),arguments,[\"frequency\",\"depth\"])),this.name=\"Vibrato\";let t=V(Bp.getDefaults(),arguments,[\"frequency\",\"depth\"]);this._delayNode=new Qn({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new In({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,Ve(this,[\"frequency\",\"depth\"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(cn.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:\"sine\"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Ro extends ge{constructor(){super(V(Ro.getDefaults(),arguments,[\"type\",\"size\"])),this.name=\"Analyser\",this._analysers=[],this._buffers=[];let t=V(Ro.getDefaults(),arguments,[\"type\",\"size\"]);this.input=this.output=this._gain=new Ce({context:this.context}),this._split=new _s({context:this.context,channels:t.channels}),this.input.connect(this._split),Tn(t.channels,1);for(let i=0;i\u003ct.channels;i++)this._analysers[i]=this.context.createAnalyser(),this._split.connect(this._analysers[i],i,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(ge.getDefaults(),{size:1024,smoothing:.8,type:\"fft\",channels:1})}getValue(){return this._analysers.forEach((t,i)=\u003e{let c=this._buffers[i];this._type===\"fft\"?t.getFloatFrequencyData(c):this._type===\"waveform\"\u0026\u0026t.getFloatTimeDomainData(c)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach((i,c)=\u003e{i.fftSize=2*t,this._buffers[c]=new Float32Array(t)})}get channels(){return this._analysers.length}get type(){return this._type}set type(t){Ee(t===\"waveform\"||t===\"fft\",\"Analyser: invalid type: \"+t),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach(i=\u003ei.smoothingTimeConstant=t)}dispose(){return super.dispose(),this._analysers.forEach(t=\u003et.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class bs extends ge{constructor(){super(V(bs.getDefaults(),arguments)),this.name=\"MeterBase\",this.input=this.output=this._analyser=new Ro({context:this.context,size:256,type:\"waveform\"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class zp extends bs{constructor(){super(V(zp.getDefaults(),arguments,[\"smoothing\"])),this.name=\"Meter\",this._rms=0;let t=V(zp.getDefaults(),arguments,[\"smoothing\"]);this.input=this.output=this._analyser=new Ro({context:this.context,size:256,type:\"waveform\",channels:t.channels}),this.smoothing=t.smoothing,this.normalRange=t.normalRange}static getDefaults(){return Object.assign(bs.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return Vc(\"'getLevel' has been changed to 'getValue'\"),this.getValue()}getValue(){let t=this._analyser.getValue(),i=(this.channels===1?[t]:t).map(c=\u003e{let p=c.reduce((m,y)=\u003em+y*y,0),f=Math.sqrt(p/c.length);return this._rms=Math.max(f,this._rms*this.smoothing),this.normalRange?this._rms:Bc(this._rms)});return this.channels===1?i[0]:i}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Gp extends bs{constructor(){super(V(Gp.getDefaults(),arguments,[\"size\"])),this.name=\"FFT\";let t=V(Gp.getDefaults(),arguments,[\"size\"]);this.normalRange=t.normalRange,this._analyser.type=\"fft\",this.size=t.size}static getDefaults(){return Object.assign(ge.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map(t=\u003ethis.normalRange?io(t):t)}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return Ee(0\u003c=t\u0026\u0026t\u003cthis.size,\"index must be greater than or equal to 0 and less than \"+this.size),t*this.context.sampleRate/(2*this.size)}}class tv extends bs{constructor(){super(V(tv.getDefaults(),arguments)),this.name=\"DCMeter\",this._analyser.type=\"waveform\",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class Up extends bs{constructor(){super(V(Up.getDefaults(),arguments,[\"size\"])),this.name=\"Waveform\";let t=V(Up.getDefaults(),arguments,[\"size\"]);this._analyser.type=\"waveform\",this.size=t.size}static getDefaults(){return Object.assign(bs.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class Xt extends ge{constructor(){super(V(Xt.getDefaults(),arguments,[\"solo\"])),this.name=\"Solo\";let t=V(Xt.getDefaults(),arguments,[\"solo\"]);this.input=this.output=new Ce({context:this.context}),Xt._allSolos.has(this.context)||Xt._allSolos.set(this.context,new Set),Xt._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(ge.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Xt._allSolos.get(this.context).forEach(i=\u003ei._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Xt._soloed.has(this.context)||Xt._soloed.set(this.context,new Set),Xt._soloed.get(this.context).add(this)}_removeSolo(){Xt._soloed.has(this.context)\u0026\u0026Xt._soloed.get(this.context).delete(this)}_isSoloed(){return Xt._soloed.has(this.context)\u0026\u0026Xt._soloed.get(this.context).has(this)}_noSolos(){return!Xt._soloed.has(this.context)||Xt._soloed.has(this.context)\u0026\u0026Xt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Xt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Xt._allSolos=new Map,Xt._soloed=new Map;class Kc extends ge{constructor(){super(V(Kc.getDefaults(),arguments,[\"pan\",\"volume\"])),this.name=\"PanVol\";let t=V(Kc.getDefaults(),arguments,[\"pan\",\"volume\"]);this._panner=this.input=new Co({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new pa({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Ve(this,[\"pan\",\"volume\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ks extends ge{constructor(){super(V(ks.getDefaults(),arguments,[\"volume\",\"pan\"])),this.name=\"Channel\";let t=V(ks.getDefaults(),arguments,[\"volume\",\"pan\"]);this._solo=this.input=new Xt({solo:t.solo,context:this.context}),this._panVol=this.output=new Kc({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ve(this,[\"pan\",\"volume\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return ks.buses.has(t)||ks.buses.set(t,new Ce({context:this.context})),ks.buses.get(t)}send(t,i=0){let c=this._getBus(t),p=new Ce({context:this.context,units:\"decibels\",gain:i});return this.connect(p),p.connect(c),p}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ks.buses=new Map;class nv extends ge{constructor(){super(V(nv.getDefaults(),arguments)),this.name=\"Mono\",this.input=new Ce({context:this.context}),this._merge=this.output=new za({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class Eo extends ge{constructor(){super(V(Eo.getDefaults(),arguments,[\"lowFrequency\",\"highFrequency\"])),this.name=\"MultibandSplit\",this.input=new Ce({context:this.context}),this.output=void 0,this.low=new Jn({context:this.context,frequency:0,type:\"lowpass\"}),this._lowMidFilter=new Jn({context:this.context,frequency:0,type:\"highpass\"}),this.mid=new Jn({context:this.context,frequency:0,type:\"lowpass\"}),this.high=new Jn({context:this.context,frequency:0,type:\"highpass\"}),this._internalChannels=[this.low,this.mid,this.high];let t=V(Eo.getDefaults(),arguments,[\"lowFrequency\",\"highFrequency\"]);this.lowFrequency=new Be({context:this.context,units:\"frequency\",value:t.lowFrequency}),this.highFrequency=new Be({context:this.context,units:\"frequency\",value:t.highFrequency}),this.Q=new Be({context:this.context,units:\"positive\",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Ve(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Wc(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class k8 extends ge{constructor(){super(...arguments),this.name=\"Listener\",this.positionX=new Ye({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ye({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ye({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ye({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ye({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ye({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ye({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ye({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ye({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ge.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Jl(l=\u003e{l.listener=new k8({context:l})}),ep(l=\u003e{l.listener.dispose()});class $p extends ge{constructor(){super(V($p.getDefaults(),arguments,[\"positionX\",\"positionY\",\"positionZ\"])),this.name=\"Panner3D\";let t=V($p.getDefaults(),arguments,[\"positionX\",\"positionY\",\"positionZ\"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new Ye({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new Ye({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new Ye({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new Ye({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new Ye({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new Ye({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(ge.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:\"inverse\",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:\"equalpower\",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,i,c){return this.positionX.value=t,this.positionY.value=i,this.positionZ.value=c,this}setOrientation(t,i,c){return this.orientationX.value=t,this.orientationY.value=i,this.orientationZ.value=c,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class Qc extends ge{constructor(){super(V(Qc.getDefaults(),arguments)),this.name=\"Recorder\";let t=V(Qc.getDefaults(),arguments);this.input=new Ce({context:this.context}),Ee(Qc.supported,\"Media Recorder API is not available\"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return ge.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return Da!==null\u0026\u0026Reflect.has(Da,\"MediaRecorder\")}get state(){return this._recorder.state===\"inactive\"?\"stopped\":this._recorder.state===\"paused\"?\"paused\":\"started\"}start(){return Tt(this,void 0,void 0,function*(){Ee(this.state!==\"started\",\"Recorder is already started\");let t=new Promise(i=\u003e{let c=()=\u003e{this._recorder.removeEventListener(\"start\",c,!1),i()};this._recorder.addEventListener(\"start\",c,!1)});return this._recorder.start(),yield t})}stop(){return Tt(this,void 0,void 0,function*(){Ee(this.state!==\"stopped\",\"Recorder is not started\");let t=new Promise(i=\u003e{let c=p=\u003e{this._recorder.removeEventListener(\"dataavailable\",c,!1),i(p.data)};this._recorder.addEventListener(\"dataavailable\",c,!1)});return this._recorder.stop(),yield t})}pause(){return Ee(this.state===\"started\",\"Recorder must be started\"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class ma extends ge{constructor(){super(V(ma.getDefaults(),arguments,[\"threshold\",\"ratio\"])),this.name=\"Compressor\",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;let t=V(ma.getDefaults(),arguments,[\"threshold\",\"ratio\"]);this.threshold=new Ye({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:\"decibels\",value:t.threshold}),this.attack=new Ye({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:\"time\",value:t.attack}),this.release=new Ye({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:\"time\",value:t.release}),this.knee=new Ye({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:\"decibels\",value:t.knee}),this.ratio=new Ye({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:\"positive\",value:t.ratio}),Ve(this,[\"knee\",\"release\",\"attack\",\"ratio\",\"threshold\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Xp extends ge{constructor(){super(Object.assign(V(Xp.getDefaults(),arguments,[\"threshold\",\"smoothing\"]))),this.name=\"Gate\";let t=V(Xp.getDefaults(),arguments,[\"threshold\",\"smoothing\"]);this._follower=new Ao({context:this.context,smoothing:t.smoothing}),this._gt=new $c({context:this.context,value:io(t.threshold)}),this.input=new Ce({context:this.context}),this._gate=this.output=new Ce({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(ge.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return Bc(this._gt.value)}set threshold(t){this._gt.value=io(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Yp extends ge{constructor(){super(Object.assign(V(Yp.getDefaults(),arguments,[\"threshold\"]))),this.name=\"Limiter\";let t=V(Yp.getDefaults(),arguments,[\"threshold\"]);this._compressor=this.input=this.output=new ma({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,Ve(this,\"threshold\")}static getDefaults(){return Object.assign(ge.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Hp extends ge{constructor(){super(Object.assign(V(Hp.getDefaults(),arguments))),this.name=\"MidSideCompressor\";let t=V(Hp.getDefaults(),arguments);this._midSideSplit=this.input=new Hc({context:this.context}),this._midSideMerge=this.output=new Zc({context:this.context}),this.mid=new ma(Object.assign(t.mid,{context:this.context})),this.side=new ma(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Ve(this,[\"mid\",\"side\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class Zp extends ge{constructor(){super(Object.assign(V(Zp.getDefaults(),arguments))),this.name=\"MultibandCompressor\";let t=V(Zp.getDefaults(),arguments);this._splitter=this.input=new Eo({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new Ce({context:this.context}),this.low=new ma(Object.assign(t.low,{context:this.context})),this.mid=new ma(Object.assign(t.mid,{context:this.context})),this.high=new ma(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Ve(this,[\"high\",\"mid\",\"low\",\"highFrequency\",\"lowFrequency\"])}static getDefaults(){return Object.assign(ge.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Kp extends ge{constructor(){super(V(Kp.getDefaults(),arguments,[\"low\",\"mid\",\"high\"])),this.name=\"EQ3\",this.output=new Ce({context:this.context}),this._internalChannels=[];let t=V(Kp.getDefaults(),arguments,[\"low\",\"mid\",\"high\"]);this.input=this._multibandSplit=new Eo({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new Ce({context:this.context,gain:t.low,units:\"decibels\"}),this._midGain=new Ce({context:this.context,gain:t.mid,units:\"decibels\"}),this._highGain=new Ce({context:this.context,gain:t.high,units:\"decibels\"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Ve(this,[\"low\",\"mid\",\"high\",\"lowFrequency\",\"highFrequency\"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(ge.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Wc(this,[\"low\",\"mid\",\"high\",\"lowFrequency\",\"highFrequency\"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Qp extends ge{constructor(){super(V(Qp.getDefaults(),arguments,[\"url\",\"onload\"])),this.name=\"Convolver\",this._convolver=this.context.createConvolver();let t=V(Qp.getDefaults(),arguments,[\"url\",\"onload\"]);this._buffer=new lt(t.url,i=\u003e{this.buffer=i,t.onload()}),this.input=new Ce({context:this.context}),this.output=new Ce({context:this.context}),this._buffer.loaded\u0026\u0026(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(ge.getDefaults(),{normalize:!0,onload:st})}load(t){return Tt(this,void 0,void 0,function*(){this.buffer=yield this._buffer.load(t)})}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t\u0026\u0026this._buffer.set(t),this._convolver.buffer\u0026\u0026(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));let i=this._buffer.get();this._convolver.buffer=i||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function N8(){return At().now()}function x8(){return At().immediate()}let w8=At().transport;function q8(){return At().transport}let T8=At().destination,S8=At().destination;function M8(){return At().destination}let P8=At().listener;function O8(){return At().listener}let C8=At().draw;function A8(){return At().draw}let R8=At();function E8(){return lt.loaded()}let j8=lt,D8=lo,I8=Fa}])})});function Ya(n,e,a){n.prototype=e.prototype=a,a.constructor=n}function Es(n,e){var a=Object.create(n.prototype);for(var s in e)a[s]=e[s];return a}var fd=yt(()=\u003e{});function ka(){}function zC(){return this.rgb().formatHex()}function Dte(){return HC(this).formatHsl()}function GC(){return this.rgb().formatRgb()}function Ha(n){var e,a;return n=(n+\"\").trim().toLowerCase(),(e=Pte.exec(n))?(a=e[1].length,e=parseInt(e[1],16),a===6?UC(e):a===3?new pn(e\u003e\u003e8\u002615|e\u003e\u003e4\u0026240,e\u003e\u003e4\u002615|e\u0026240,(e\u002615)\u003c\u003c4|e\u002615,1):a===8?md(e\u003e\u003e24\u0026255,e\u003e\u003e16\u0026255,e\u003e\u003e8\u0026255,(e\u0026255)/255):a===4?md(e\u003e\u003e12\u002615|e\u003e\u003e8\u0026240,e\u003e\u003e8\u002615|e\u003e\u003e4\u0026240,e\u003e\u003e4\u002615|e\u0026240,((e\u002615)\u003c\u003c4|e\u002615)/255):null):(e=Ote.exec(n))?new pn(e[1],e[2],e[3],1):(e=Cte.exec(n))?new pn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ate.exec(n))?md(e[1],e[2],e[3],e[4]):(e=Rte.exec(n))?md(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ete.exec(n))?YC(e[1],e[2]/100,e[3]/100,1):(e=jte.exec(n))?YC(e[1],e[2]/100,e[3]/100,e[4]):BC.hasOwnProperty(n)?UC(BC[n]):n===\"transparent\"?new pn(NaN,NaN,NaN,0):null}function UC(n){return new pn(n\u003e\u003e16\u0026255,n\u003e\u003e8\u0026255,n\u0026255,1)}function md(n,e,a,s){return s\u003c=0\u0026\u0026(n=e=a=NaN),new pn(n,e,a,s)}function Cu(n){return n instanceof ka||(n=Ha(n)),n?(n=n.rgb(),new pn(n.r,n.g,n.b,n.opacity)):new pn}function xi(n,e,a,s){return arguments.length===1?Cu(n):new pn(n,e,a,s??1)}function pn(n,e,a,s){this.r=+n,this.g=+e,this.b=+a,this.opacity=+s}function $C(){return\"#\"+hy(this.r)+hy(this.g)+hy(this.b)}function XC(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(n===1?\")\":\", \"+n+\")\")}function hy(n){return n=Math.max(0,Math.min(255,Math.round(n)||0)),(n\u003c16?\"0\":\"\")+n.toString(16)}function YC(n,e,a,s){return s\u003c=0?n=e=a=NaN:a\u003c=0||a\u003e=1?n=e=NaN:e\u003c=0\u0026\u0026(n=NaN),new xa(n,e,a,s)}function HC(n){if(n instanceof xa)return new xa(n.h,n.s,n.l,n.opacity);if(n instanceof ka||(n=Ha(n)),!n)return new xa;if(n instanceof xa)return n;n=n.rgb();var e=n.r/255,a=n.g/255,s=n.b/255,o=Math.min(e,a,s),u=Math.max(e,a,s),h=NaN,d=u-o,g=(u+o)/2;return d?(e===u?h=(a-s)/d+(a\u003cs)*6:a===u?h=(s-e)/d+2:h=(e-a)/d+4,d/=g\u003c.5?u+o:2-u-o,h*=60):d=g\u003e0\u0026\u0026g\u003c1?0:h,new xa(h,d,g,n.opacity)}function Ko(n,e,a,s){return arguments.length===1?HC(n):new xa(n,e,a,s??1)}function xa(n,e,a,s){this.h=+n,this.s=+e,this.l=+a,this.opacity=+s}function dy(n,e,a){return(n\u003c60?e+(a-e)*n/60:n\u003c180?a:n\u003c240?e+(a-e)*(240-n)/60:e)*255}var js,Ni,Zo,Ou,Na,Pte,Ote,Cte,Ate,Rte,Ete,jte,BC,vd=yt(()=\u003e{fd();js=.7,Ni=1/js,Zo=\"\\\\s*([+-]?\\\\d+)\\\\s*\",Ou=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",Na=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",Pte=/^#([0-9a-f]{3,8})$/,Ote=new RegExp(\"^rgb\\\\(\"+[Zo,Zo,Zo]+\"\\\\)$\"),Cte=new RegExp(\"^rgb\\\\(\"+[Na,Na,Na]+\"\\\\)$\"),Ate=new RegExp(\"^rgba\\\\(\"+[Zo,Zo,Zo,Ou]+\"\\\\)$\"),Rte=new RegExp(\"^rgba\\\\(\"+[Na,Na,Na,Ou]+\"\\\\)$\"),Ete=new RegExp(\"^hsl\\\\(\"+[Ou,Na,Na]+\"\\\\)$\"),jte=new RegExp(\"^hsla\\\\(\"+[Ou,Na,Na,Ou]+\"\\\\)$\"),BC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ya(ka,Ha,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:zC,formatHex:zC,formatHsl:Dte,formatRgb:GC,toString:GC});Ya(pn,xi,Es(ka,{brighter:function(n){return n=n==null?Ni:Math.pow(Ni,n),new pn(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=n==null?js:Math.pow(js,n),new pn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5\u003c=this.r\u0026\u0026this.r\u003c255.5\u0026\u0026-.5\u003c=this.g\u0026\u0026this.g\u003c255.5\u0026\u0026-.5\u003c=this.b\u0026\u0026this.b\u003c255.5\u0026\u00260\u003c=this.opacity\u0026\u0026this.opacity\u003c=1},hex:$C,formatHex:$C,formatRgb:XC,toString:XC}));Ya(xa,Ko,Es(ka,{brighter:function(n){return n=n==null?Ni:Math.pow(Ni,n),new xa(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?js:Math.pow(js,n),new xa(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+(this.h\u003c0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,a=this.l,s=a+(a\u003c.5?a:1-a)*e,o=2*a-s;return new pn(dy(n\u003e=240?n-240:n+120,o,s),dy(n,o,s),dy(n\u003c120?n+240:n-120,o,s),this.opacity)},displayable:function(){return(0\u003c=this.s\u0026\u0026this.s\u003c=1||isNaN(this.s))\u0026\u00260\u003c=this.l\u0026\u0026this.l\u003c=1\u0026\u00260\u003c=this.opacity\u0026\u0026this.opacity\u003c=1},formatHsl:function(){var n=this.opacity;return n=isNaN(n)?1:Math.max(0,Math.min(1,n)),(n===1?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+(this.s||0)*100+\"%, \"+(this.l||0)*100+\"%\"+(n===1?\")\":\", \"+n+\")\")}}))});var gd,yd,fy=yt(()=\u003e{gd=Math.PI/180,yd=180/Math.PI});function tA(n){if(n instanceof Jr)return new Jr(n.l,n.a,n.b,n.opacity);if(n instanceof wa)return sA(n);n instanceof pn||(n=Cu(n));var e=yy(n.r),a=yy(n.g),s=yy(n.b),o=my((.2225045*e+.7168786*a+.0606169*s)/KC),u,h;return e===a\u0026\u0026a===s?u=h=o:(u=my((.4360747*e+.3850649*a+.1430804*s)/ZC),h=my((.0139322*e+.0971045*a+.7141733*s)/QC)),new Jr(116*o-16,500*(u-o),200*(o-h),n.opacity)}function nA(n,e){return new Jr(n,0,0,e??1)}function wi(n,e,a,s){return arguments.length===1?tA(n):new Jr(n,e,a,s??1)}function Jr(n,e,a,s){this.l=+n,this.a=+e,this.b=+a,this.opacity=+s}function my(n){return n\u003eIte?Math.pow(n,1/3):n/eA+JC}function vy(n){return n\u003eQo?n*n*n:eA*(n-JC)}function gy(n){return 255*(n\u003c=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function yy(n){return(n/=255)\u003c=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function rA(n){if(n instanceof wa)return new wa(n.h,n.c,n.l,n.opacity);if(n instanceof Jr||(n=tA(n)),n.a===0\u0026\u0026n.b===0)return new wa(NaN,0\u003cn.l\u0026\u0026n.l\u003c100?0:NaN,n.l,n.opacity);var e=Math.atan2(n.b,n.a)*yd;return new wa(e\u003c0?e+360:e,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function aA(n,e,a,s){return arguments.length===1?rA(n):new wa(a,e,n,s??1)}function Jo(n,e,a,s){return arguments.length===1?rA(n):new wa(n,e,a,s??1)}function wa(n,e,a,s){this.h=+n,this.c=+e,this.l=+a,this.opacity=+s}function sA(n){if(isNaN(n.h))return new Jr(n.l,0,0,n.opacity);var e=n.h*gd;return new Jr(n.l,Math.cos(e)*n.c,Math.sin(e)*n.c,n.opacity)}var _d,ZC,KC,QC,JC,Qo,eA,Ite,iA=yt(()=\u003e{fd();vd();fy();_d=18,ZC=.96422,KC=1,QC=.82521,JC=4/29,Qo=6/29,eA=3*Qo*Qo,Ite=Qo*Qo*Qo;Ya(Jr,wi,Es(ka,{brighter:function(n){return new Jr(this.l+_d*(n??1),this.a,this.b,this.opacity)},darker:function(n){return new Jr(this.l-_d*(n??1),this.a,this.b,this.opacity)},rgb:function(){var n=(this.l+16)/116,e=isNaN(this.a)?n:n+this.a/500,a=isNaN(this.b)?n:n-this.b/200;return e=ZC*vy(e),n=KC*vy(n),a=QC*vy(a),new pn(gy(3.1338561*e-1.6168667*n-.4906146*a),gy(-.9787684*e+1.9161415*n+.033454*a),gy(.0719453*e-.2289914*n+1.4052427*a),this.opacity)}}));Ya(wa,Jo,Es(ka,{brighter:function(n){return new wa(this.h,this.c,this.l+_d*(n??1),this.opacity)},darker:function(n){return new wa(this.h,this.c,this.l-_d*(n??1),this.opacity)},rgb:function(){return sA(this).rgb()}}))});function Fte(n){if(n instanceof Ti)return new Ti(n.h,n.s,n.l,n.opacity);n instanceof pn||(n=Cu(n));var e=n.r/255,a=n.g/255,s=n.b/255,o=(lA*s+cA*e-uA*a)/(lA+cA-uA),u=s-o,h=(Au*(a-o)-by*u)/bd,d=Math.sqrt(h*h+u*u)/(Au*o*(1-o)),g=d?Math.atan2(h,u)*yd-120:NaN;return new Ti(g\u003c0?g+360:g,d,o,n.opacity)}function qi(n,e,a,s){return arguments.length===1?Fte(n):new Ti(n,e,a,s??1)}function Ti(n,e,a,s){this.h=+n,this.s=+e,this.l=+a,this.opacity=+s}var oA,_y,by,bd,Au,cA,uA,lA,pA=yt(()=\u003e{fd();vd();fy();oA=-.14861,_y=1.78277,by=-.29227,bd=-.90649,Au=1.97294,cA=Au*bd,uA=Au*_y,lA=_y*by-bd*oA;Ya(Ti,qi,Es(ka,{brighter:function(n){return n=n==null?Ni:Math.pow(Ni,n),new Ti(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=n==null?js:Math.pow(js,n),new Ti(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=isNaN(this.h)?0:(this.h+120)*gd,e=+this.l,a=isNaN(this.s)?0:this.s*e*(1-e),s=Math.cos(n),o=Math.sin(n);return new pn(255*(e+a*(oA*s+_y*o)),255*(e+a*(by*s+bd*o)),255*(e+a*(Au*s)),this.opacity)}}))});var hA={};rv(hA,{color:()=\u003eHa,cubehelix:()=\u003eqi,gray:()=\u003enA,hcl:()=\u003eJo,hsl:()=\u003eKo,lab:()=\u003ewi,lch:()=\u003eaA,rgb:()=\u003exi});var Ds=yt(()=\u003e{vd();iA();pA()});function ky(n,e,a,s,o){var u=n*n,h=u*n;return((1-3*n+3*u-h)*e+(4-6*u+3*h)*a+(1+3*n+3*u-3*h)*s+h*o)/6}function kd(n){var e=n.length-1;return function(a){var s=a\u003c=0?a=0:a\u003e=1?(a=1,e-1):Math.floor(a*e),o=n[s],u=n[s+1],h=s\u003e0?n[s-1]:2*o-u,d=s\u003ce-1?n[s+2]:2*u-o;return ky((a-s/e)*e,h,o,u,d)}}var Nd=yt(()=\u003e{});function xd(n){var e=n.length;return function(a){var s=Math.floor(((a%=1)\u003c0?++a:a)*e),o=n[(s+e-1)%e],u=n[s%e],h=n[(s+1)%e],d=n[(s+2)%e];return ky((a-s/e)*e,o,u,h,d)}}var Ny=yt(()=\u003e{Nd()});var ec,xy=yt(()=\u003e{ec=n=\u003e()=\u003en});function dA(n,e){return function(a){return n+a*e}}function Vte(n,e,a){return n=Math.pow(n,a),e=Math.pow(e,a)-n,a=1/a,function(s){return Math.pow(n+s*e,a)}}function Is(n,e){var a=e-n;return a?dA(n,a\u003e180||a\u003c-180?a-360*Math.round(a/360):a):ec(isNaN(n)?e:n)}function fA(n){return(n=+n)==1?Lt:function(e,a){return a-e?Vte(e,a,n):ec(isNaN(e)?a:e)}}function Lt(n,e){var a=e-n;return a?dA(n,a):ec(isNaN(n)?e:n)}var Si=yt(()=\u003e{xy()});function mA(n){return function(e){var a=e.length,s=new Array(a),o=new Array(a),u=new Array(a),h,d;for(h=0;h\u003ca;++h)d=xi(e[h]),s[h]=d.r||0,o[h]=d.g||0,u[h]=d.b||0;return s=n(s),o=n(o),u=n(u),d.opacity=1,function(g){return d.r=s(g),d.g=o(g),d.b=u(g),d+\"\"}}}var Ru,vA,gA,wy=yt(()=\u003e{Ds();Nd();Ny();Si();Ru=function n(e){var a=fA(e);function s(o,u){var h=a((o=xi(o)).r,(u=xi(u)).r),d=a(o.g,u.g),g=a(o.b,u.b),_=Lt(o.opacity,u.opacity);return function(N){return o.r=h(N),o.g=d(N),o.b=g(N),o.opacity=_(N),o+\"\"}}return s.gamma=n,s}(1);vA=mA(kd),gA=mA(xd)});function tc(n,e){e||(e=[]);var a=n?Math.min(e.length,n.length):0,s=e.slice(),o;return function(u){for(o=0;o\u003ca;++o)s[o]=n[o]*(1-u)+e[o]*u;return s}}function wd(n){return ArrayBuffer.isView(n)\u0026\u0026!(n instanceof DataView)}var qd=yt(()=\u003e{});function yA(n,e){return(wd(e)?tc:qy)(n,e)}function qy(n,e){var a=e?e.length:0,s=n?Math.min(a,n.length):0,o=new Array(s),u=new Array(a),h;for(h=0;h\u003cs;++h)o[h]=qa(n[h],e[h]);for(;h\u003ca;++h)u[h]=e[h];return function(d){for(h=0;h\u003cs;++h)u[h]=o[h](d);return u}}var Ty=yt(()=\u003e{Eu();qd()});function Td(n,e){var a=new Date;return n=+n,e=+e,function(s){return a.setTime(n*(1-s)+e*s),a}}var Sy=yt(()=\u003e{});function Fn(n,e){return n=+n,e=+e,function(a){return n*(1-a)+e*a}}var ju=yt(()=\u003e{});function Sd(n,e){var a={},s={},o;(n===null||typeof n!=\"object\")\u0026\u0026(n={}),(e===null||typeof e!=\"object\")\u0026\u0026(e={});for(o in e)o in n?a[o]=qa(n[o],e[o]):s[o]=e[o];return function(u){for(o in a)s[o]=a[o](u);return s}}var My=yt(()=\u003e{Eu()});function Lte(n){return function(){return n}}function Wte(n){return function(e){return n(e)+\"\"}}function Md(n,e){var a=Py.lastIndex=Oy.lastIndex=0,s,o,u,h=-1,d=[],g=[];for(n=n+\"\",e=e+\"\";(s=Py.exec(n))\u0026\u0026(o=Oy.exec(e));)(u=o.index)\u003ea\u0026\u0026(u=e.slice(a,u),d[h]?d[h]+=u:d[++h]=u),(s=s[0])===(o=o[0])?d[h]?d[h]+=o:d[++h]=o:(d[++h]=null,g.push({i:h,x:Fn(s,o)})),a=Oy.lastIndex;return a\u003ce.length\u0026\u0026(u=e.slice(a),d[h]?d[h]+=u:d[++h]=u),d.length\u003c2?g[0]?Wte(g[0].x):Lte(e):(e=g.length,function(_){for(var N=0,k;N\u003ce;++N)d[(k=g[N]).i]=k.x(_);return d.join(\"\")})}var Py,Oy,Cy=yt(()=\u003e{ju();Py=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Oy=new RegExp(Py.source,\"g\")});function qa(n,e){var a=typeof e,s;return e==null||a===\"boolean\"?ec(e):(a===\"number\"?Fn:a===\"string\"?(s=Ha(e))?(e=s,Ru):Md:e instanceof Ha?Ru:e instanceof Date?Td:wd(e)?tc:Array.isArray(e)?qy:typeof e.valueOf!=\"function\"\u0026\u0026typeof e.toString!=\"function\"||isNaN(e)?Sd:Fn)(n,e)}var Eu=yt(()=\u003e{Ds();wy();Ty();Sy();ju();My();Cy();xy();qd()});function _A(n){var e=n.length;return function(a){return n[Math.max(0,Math.min(e-1,Math.floor(a*e)))]}}var bA=yt(()=\u003e{});function kA(n,e){var a=Is(+n,+e);return function(s){var o=a(s);return o-360*Math.floor(o/360)}}var NA=yt(()=\u003e{Si()});function Pd(n,e){return n=+n,e=+e,function(a){return Math.round(n*(1-a)+e*a)}}var xA=yt(()=\u003e{});function Ay(n,e,a,s,o,u){var h,d,g;return(h=Math.sqrt(n*n+e*e))\u0026\u0026(n/=h,e/=h),(g=n*a+e*s)\u0026\u0026(a-=n*g,s-=e*g),(d=Math.sqrt(a*a+s*s))\u0026\u0026(a/=d,s/=d,g/=d),n*s\u003ce*a\u0026\u0026(n=-n,e=-e,g=-g,h=-h),{translateX:o,translateY:u,rotate:Math.atan2(e,n)*wA,skewX:Math.atan(g)*wA,scaleX:h,scaleY:d}}var wA,Od,qA=yt(()=\u003e{wA=180/Math.PI,Od={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function TA(n){let e=new(typeof DOMMatrix==\"function\"?DOMMatrix:WebKitCSSMatrix)(n+\"\");return e.isIdentity?Od:Ay(e.a,e.b,e.c,e.d,e.e,e.f)}function SA(n){return n==null?Od:(Cd||(Cd=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),Cd.setAttribute(\"transform\",n),(n=Cd.transform.baseVal.consolidate())?(n=n.matrix,Ay(n.a,n.b,n.c,n.d,n.e,n.f)):Od)}var Cd,MA=yt(()=\u003e{qA()});function PA(n,e,a,s){function o(_){return _.length?_.pop()+\" \":\"\"}function u(_,N,k,T,L,P){if(_!==k||N!==T){var W=L.push(\"translate(\",null,e,null,a);P.push({i:W-4,x:Fn(_,k)},{i:W-2,x:Fn(N,T)})}else(k||T)\u0026\u0026L.push(\"translate(\"+k+e+T+a)}function h(_,N,k,T){_!==N?(_-N\u003e180?N+=360:N-_\u003e180\u0026\u0026(_+=360),T.push({i:k.push(o(k)+\"rotate(\",null,s)-2,x:Fn(_,N)})):N\u0026\u0026k.push(o(k)+\"rotate(\"+N+s)}function d(_,N,k,T){_!==N?T.push({i:k.push(o(k)+\"skewX(\",null,s)-2,x:Fn(_,N)}):N\u0026\u0026k.push(o(k)+\"skewX(\"+N+s)}function g(_,N,k,T,L,P){if(_!==k||N!==T){var W=L.push(o(L)+\"scale(\",null,\",\",null,\")\");P.push({i:W-4,x:Fn(_,k)},{i:W-2,x:Fn(N,T)})}else(k!==1||T!==1)\u0026\u0026L.push(o(L)+\"scale(\"+k+\",\"+T+\")\")}return function(_,N){var k=[],T=[];return _=n(_),N=n(N),u(_.translateX,_.translateY,N.translateX,N.translateY,k,T),h(_.rotate,N.rotate,k,T),d(_.skewX,N.skewX,k,T),g(_.scaleX,_.scaleY,N.scaleX,N.scaleY,k,T),_=N=null,function(L){for(var P=-1,W=T.length,K;++P\u003cW;)k[(K=T[P]).i]=K.x(L);return k.join(\"\")}}}var OA,CA,AA=yt(()=\u003e{ju();MA();OA=PA(TA,\"px, \",\"px)\",\"deg)\"),CA=PA(SA,\", \",\")\",\")\")});function RA(n){return((n=Math.exp(n))+1/n)/2}function zte(n){return((n=Math.exp(n))-1/n)/2}function Gte(n){return((n=Math.exp(2*n))-1)/(n+1)}var Bte,EA,jA=yt(()=\u003e{Bte=1e-12;EA=function n(e,a,s){function o(u,h){var d=u[0],g=u[1],_=u[2],N=h[0],k=h[1],T=h[2],L=N-d,P=k-g,W=L*L+P*P,K,J;if(W\u003cBte)J=Math.log(T/_)/e,K=function(U){return[d+U*L,g+U*P,_*Math.exp(e*U*J)]};else{var H=Math.sqrt(W),oe=(T*T-_*_+s*W)/(2*_*a*H),G=(T*T-_*_-s*W)/(2*T*a*H),R=Math.log(Math.sqrt(oe*oe+1)-oe),$=Math.log(Math.sqrt(G*G+1)-G);J=($-R)/e,K=function(U){var te=U*J,se=RA(R),be=_/(a*H)*(se*Gte(e*te+R)-zte(R));return[d+be*L,g+be*P,_*se/RA(e*te+R)]}}return K.duration=J*1e3*e/Math.SQRT2,K}return o.rho=function(u){var h=Math.max(.001,+u),d=h*h,g=d*d;return n(h,d,g)},o}(Math.SQRT2,2,4)});function DA(n){return function(e,a){var s=n((e=Ko(e)).h,(a=Ko(a)).h),o=Lt(e.s,a.s),u=Lt(e.l,a.l),h=Lt(e.opacity,a.opacity);return function(d){return e.h=s(d),e.s=o(d),e.l=u(d),e.opacity=h(d),e+\"\"}}}var IA,FA,VA=yt(()=\u003e{Ds();Si();IA=DA(Is),FA=DA(Lt)});function Ry(n,e){var a=Lt((n=wi(n)).l,(e=wi(e)).l),s=Lt(n.a,e.a),o=Lt(n.b,e.b),u=Lt(n.opacity,e.opacity);return function(h){return n.l=a(h),n.a=s(h),n.b=o(h),n.opacity=u(h),n+\"\"}}var LA=yt(()=\u003e{Ds();Si()});function WA(n){return function(e,a){var s=n((e=Jo(e)).h,(a=Jo(a)).h),o=Lt(e.c,a.c),u=Lt(e.l,a.l),h=Lt(e.opacity,a.opacity);return function(d){return e.h=s(d),e.c=o(d),e.l=u(d),e.opacity=h(d),e+\"\"}}}var BA,zA,GA=yt(()=\u003e{Ds();Si();BA=WA(Is),zA=WA(Lt)});function UA(n){return function e(a){a=+a;function s(o,u){var h=n((o=qi(o)).h,(u=qi(u)).h),d=Lt(o.s,u.s),g=Lt(o.l,u.l),_=Lt(o.opacity,u.opacity);return function(N){return o.h=h(N),o.s=d(N),o.l=g(Math.pow(N,a)),o.opacity=_(N),o+\"\"}}return s.gamma=e,s}(1)}var $A,XA,YA=yt(()=\u003e{Ds();Si();$A=UA(Is),XA=UA(Lt)});function Ey(n,e){e===void 0\u0026\u0026(e=n,n=qa);for(var a=0,s=e.length-1,o=e[0],u=new Array(s\u003c0?0:s);a\u003cs;)u[a]=n(o,o=e[++a]);return function(h){var d=Math.max(0,Math.min(s-1,Math.floor(h*=s)));return u[d](h-d)}}var HA=yt(()=\u003e{Eu()});function ZA(n,e){for(var a=new Array(e),s=0;s\u003ce;++s)a[s]=n(s/(e-1));return a}var KA=yt(()=\u003e{});var QA={};rv(QA,{interpolate:()=\u003eqa,interpolateArray:()=\u003eyA,interpolateBasis:()=\u003ekd,interpolateBasisClosed:()=\u003exd,interpolateCubehelix:()=\u003e$A,interpolateCubehelixLong:()=\u003eXA,interpolateDate:()=\u003eTd,interpolateDiscrete:()=\u003e_A,interpolateHcl:()=\u003eBA,interpolateHclLong:()=\u003ezA,interpolateHsl:()=\u003eIA,interpolateHslLong:()=\u003eFA,interpolateHue:()=\u003ekA,interpolateLab:()=\u003eRy,interpolateNumber:()=\u003eFn,interpolateNumberArray:()=\u003etc,interpolateObject:()=\u003eSd,interpolateRgb:()=\u003eRu,interpolateRgbBasis:()=\u003evA,interpolateRgbBasisClosed:()=\u003egA,interpolateRound:()=\u003ePd,interpolateString:()=\u003eMd,interpolateTransformCss:()=\u003eOA,interpolateTransformSvg:()=\u003eCA,interpolateZoom:()=\u003eEA,piecewise:()=\u003eEy,quantize:()=\u003eZA});var jy=yt(()=\u003e{Eu();Ty();Nd();Ny();Sy();bA();NA();ju();qd();My();xA();Cy();AA();jA();wy();VA();LA();GA();YA();HA();KA()});var h7=v((Id,p7)=\u003e{(function(n,e){typeof Id==\"object\"\u0026\u0026typeof p7!=\"undefined\"?e(Id,(jy(),QA),(Ds(),hA)):typeof define==\"function\"\u0026\u0026define.amd?define([\"exports\",\"d3-interpolate\",\"d3-color\"],e):(n=n||self,e(n.d3=n.d3||{},n.d3,n.d3))})(Id,function(n,e,a){\"use strict\";function s(Re){for(var zt=Re.length/6|0,ti=new Array(zt),_t=0;_t\u003czt;)ti[_t]=\"#\"+Re.slice(_t*6,++_t*6);return ti}var o=s(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\"),u=s(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\"),h=s(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\"),d=s(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\"),g=s(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\"),_=s(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\"),N=s(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\"),k=s(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\"),T=s(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\"),L=s(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\"),P=Re=\u003ee.interpolateRgbBasis(Re[Re.length-1]),W=new Array(3).concat(\"d8b365f5f5f55ab4ac\",\"a6611adfc27d80cdc1018571\",\"a6611adfc27df5f5f580cdc1018571\",\"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\").map(s),K=P(W),J=new Array(3).concat(\"af8dc3f7f7f77fbf7b\",\"7b3294c2a5cfa6dba0008837\",\"7b3294c2a5cff7f7f7a6dba0008837\",\"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\").map(s),H=P(J),oe=new Array(3).concat(\"e9a3c9f7f7f7a1d76a\",\"d01c8bf1b6dab8e1864dac26\",\"d01c8bf1b6daf7f7f7b8e1864dac26\",\"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\").map(s),G=P(oe),R=new Array(3).concat(\"998ec3f7f7f7f1a340\",\"5e3c99b2abd2fdb863e66101\",\"5e3c99b2abd2f7f7f7fdb863e66101\",\"542788998ec3d8daebfee0b6f1a340b35806\",\"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\").map(s),$=P(R),U=new Array(3).concat(\"ef8a62f7f7f767a9cf\",\"ca0020f4a58292c5de0571b0\",\"ca0020f4a582f7f7f792c5de0571b0\",\"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\").map(s),te=P(U),se=new Array(3).concat(\"ef8a62ffffff999999\",\"ca0020f4a582bababa404040\",\"ca0020f4a582ffffffbababa404040\",\"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\").map(s),be=P(se),xe=new Array(3).concat(\"fc8d59ffffbf91bfdb\",\"d7191cfdae61abd9e92c7bb6\",\"d7191cfdae61ffffbfabd9e92c7bb6\",\"d73027fc8d59fee090e0f3f891bfdb4575b4\",\"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\").map(s),Ae=P(xe),ze=new Array(3).concat(\"fc8d59ffffbf91cf60\",\"d7191cfdae61a6d96a1a9641\",\"d7191cfdae61ffffbfa6d96a1a9641\",\"d73027fc8d59fee08bd9ef8b91cf601a9850\",\"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\").map(s),$e=P(ze),Y=new Array(3).concat(\"fc8d59ffffbf99d594\",\"d7191cfdae61abdda42b83ba\",\"d7191cfdae61ffffbfabdda42b83ba\",\"d53e4ffc8d59fee08be6f59899d5943288bd\",\"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\").map(s),ce=P(Y),le=new Array(3).concat(\"e5f5f999d8c92ca25f\",\"edf8fbb2e2e266c2a4238b45\",\"edf8fbb2e2e266c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\").map(s),ue=P(le),ye=new Array(3).concat(\"e0ecf49ebcda8856a7\",\"edf8fbb3cde38c96c688419d\",\"edf8fbb3cde38c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\").map(s),me=P(ye),je=new Array(3).concat(\"e0f3dba8ddb543a2ca\",\"f0f9e8bae4bc7bccc42b8cbe\",\"f0f9e8bae4bc7bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\").map(s),Je=P(je),ft=new Array(3).concat(\"fee8c8fdbb84e34a33\",\"fef0d9fdcc8afc8d59d7301f\",\"fef0d9fdcc8afc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\").map(s),he=P(ft),ke=new Array(3).concat(\"ece2f0a6bddb1c9099\",\"f6eff7bdc9e167a9cf02818a\",\"f6eff7bdc9e167a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\").map(s),Oe=P(ke),Ge=new Array(3).concat(\"ece7f2a6bddb2b8cbe\",\"f1eef6bdc9e174a9cf0570b0\",\"f1eef6bdc9e174a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\").map(s),Pe=P(Ge),Me=new Array(3).concat(\"e7e1efc994c7dd1c77\",\"f1eef6d7b5d8df65b0ce1256\",\"f1eef6d7b5d8df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\").map(s),rt=P(Me),ut=new Array(3).concat(\"fde0ddfa9fb5c51b8a\",\"feebe2fbb4b9f768a1ae017e\",\"feebe2fbb4b9f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\").map(s),Gt=P(ut),fn=new Array(3).concat(\"edf8b17fcdbb2c7fb8\",\"ffffcca1dab441b6c4225ea8\",\"ffffcca1dab441b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\").map(s),Ot=P(fn),mn=new Array(3).concat(\"f7fcb9addd8e31a354\",\"ffffccc2e69978c679238443\",\"ffffccc2e69978c67931a354006837\",\"ffffccd9f0a3addd8e78c67931a354006837\",\"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\").map(s),wn=P(mn),$n=new Array(3).concat(\"fff7bcfec44fd95f0e\",\"ffffd4fed98efe9929cc4c02\",\"ffffd4fed98efe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\").map(s),Xn=P($n),Yn=new Array(3).concat(\"ffeda0feb24cf03b20\",\"ffffb2fecc5cfd8d3ce31a1c\",\"ffffb2fecc5cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\").map(s),mt=P(Yn),jn=new Array(3).concat(\"deebf79ecae13182bd\",\"eff3ffbdd7e76baed62171b5\",\"eff3ffbdd7e76baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\").map(s),Dn=P(jn),Lr=new Array(3).concat(\"e5f5e0a1d99b31a354\",\"edf8e9bae4b374c476238b45\",\"edf8e9bae4b374c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\").map(s),sa=P(Lr),qr=new Array(3).concat(\"f0f0f0bdbdbd636363\",\"f7f7f7cccccc969696525252\",\"f7f7f7cccccc969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\").map(s),Wr=P(qr),ss=new Array(3).concat(\"efedf5bcbddc756bb1\",\"f2f0f7cbc9e29e9ac86a51a3\",\"f2f0f7cbc9e29e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\").map(s),pr=P(ss),Hn=new Array(3).concat(\"fee0d2fc9272de2d26\",\"fee5d9fcae91fb6a4acb181d\",\"fee5d9fcae91fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\").map(s),is=P(Hn),Aa=new Array(3).concat(\"fee6cefdae6be6550d\",\"feeddefdbe85fd8d3cd94701\",\"feeddefdbe85fd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\").map(s),ia=P(Aa);function Ra(Re){return Re=Math.max(0,Math.min(1,Re)),\"rgb(\"+Math.max(0,Math.min(255,Math.round(-4.54-Re*(35.34-Re*(2381.73-Re*(6402.7-Re*(7024.72-Re*2710.57)))))))+\", \"+Math.max(0,Math.min(255,Math.round(32.49+Re*(170.73+Re*(52.82-Re*(131.46-Re*(176.58-Re*67.37)))))))+\", \"+Math.max(0,Math.min(255,Math.round(81.24+Re*(442.36-Re*(2482.43-Re*(6167.24-Re*(6614.94-Re*2475.67)))))))+\")\"}var oa=e.interpolateCubehelixLong(a.cubehelix(300,.5,0),a.cubehelix(-240,.5,1)),ei=e.interpolateCubehelixLong(a.cubehelix(-100,.75,.35),a.cubehelix(80,1.5,.8)),os=e.interpolateCubehelixLong(a.cubehelix(260,.75,.35),a.cubehelix(80,1.5,.8)),Xe=a.cubehelix();function Br(Re){(Re\u003c0||Re\u003e1)\u0026\u0026(Re-=Math.floor(Re));var zt=Math.abs(Re-.5);return Xe.h=360*Re-100,Xe.s=1.5-1.5*zt,Xe.l=.8-.9*zt,Xe+\"\"}var ca=a.rgb(),cs=Math.PI/3,us=Math.PI*2/3;function ls(Re){var zt;return Re=(.5-Re)*Math.PI,ca.r=255*(zt=Math.sin(Re))*zt,ca.g=255*(zt=Math.sin(Re+cs))*zt,ca.b=255*(zt=Math.sin(Re+us))*zt,ca+\"\"}function Yi(Re){return Re=Math.max(0,Math.min(1,Re)),\"rgb(\"+Math.max(0,Math.min(255,Math.round(34.61+Re*(1172.33-Re*(10793.56-Re*(33300.12-Re*(38394.49-Re*14825.05)))))))+\", \"+Math.max(0,Math.min(255,Math.round(23.31+Re*(557.33+Re*(1225.33-Re*(3574.96-Re*(1073.77+Re*707.56)))))))+\", \"+Math.max(0,Math.min(255,Math.round(27.2+Re*(3211.1-Re*(15327.97-Re*(27814-Re*(22569.18-Re*6838.66)))))))+\")\"}function ps(Re){var zt=Re.length;return function(ti){return Re[Math.max(0,Math.min(zt-1,Math.floor(ti*zt)))]}}var It=ps(s(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\")),hs=ps(s(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\")),jc=ps(s(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\")),Hi=ps(s(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));n.interpolateBlues=Dn,n.interpolateBrBG=K,n.interpolateBuGn=ue,n.interpolateBuPu=me,n.interpolateCividis=Ra,n.interpolateCool=os,n.interpolateCubehelixDefault=oa,n.interpolateGnBu=Je,n.interpolateGreens=sa,n.interpolateGreys=Wr,n.interpolateInferno=jc,n.interpolateMagma=hs,n.interpolateOrRd=he,n.interpolateOranges=ia,n.interpolatePRGn=H,n.interpolatePiYG=G,n.interpolatePlasma=Hi,n.interpolatePuBu=Pe,n.interpolatePuBuGn=Oe,n.interpolatePuOr=$,n.interpolatePuRd=rt,n.interpolatePurples=pr,n.interpolateRainbow=Br,n.interpolateRdBu=te,n.interpolateRdGy=be,n.interpolateRdPu=Gt,n.interpolateRdYlBu=Ae,n.interpolateRdYlGn=$e,n.interpolateReds=is,n.interpolateSinebow=ls,n.interpolateSpectral=ce,n.interpolateTurbo=Yi,n.interpolateViridis=It,n.interpolateWarm=ei,n.interpolateYlGn=wn,n.interpolateYlGnBu=Ot,n.interpolateYlOrBr=Xn,n.interpolateYlOrRd=mt,n.schemeAccent=u,n.schemeBlues=jn,n.schemeBrBG=W,n.schemeBuGn=le,n.schemeBuPu=ye,n.schemeCategory10=o,n.schemeDark2=h,n.schemeGnBu=je,n.schemeGreens=Lr,n.schemeGreys=qr,n.schemeOrRd=ft,n.schemeOranges=Aa,n.schemePRGn=J,n.schemePaired=d,n.schemePastel1=g,n.schemePastel2=_,n.schemePiYG=oe,n.schemePuBu=Ge,n.schemePuBuGn=ke,n.schemePuOr=R,n.schemePuRd=Me,n.schemePurples=ss,n.schemeRdBu=U,n.schemeRdGy=se,n.schemeRdPu=ut,n.schemeRdYlBu=xe,n.schemeRdYlGn=ze,n.schemeReds=Hn,n.schemeSet1=N,n.schemeSet2=k,n.schemeSet3=T,n.schemeSpectral=Y,n.schemeTableau10=L,n.schemeYlGn=mn,n.schemeYlGnBu=fn,n.schemeYlOrBr=$n,n.schemeYlOrRd=Yn,Object.defineProperty(n,\"__esModule\",{value:!0})})});var Se=v((mNe,Du)=\u003e{function Qte(n){return n\u0026\u0026n.__esModule?n:{default:n}}Du.exports=Qte;Du.exports.default=Du.exports,Du.exports.__esModule=!0});var sc=v((vNe,br)=\u003e{function Fd(n){return typeof Symbol==\"function\"\u0026\u0026typeof Symbol.iterator==\"symbol\"?(br.exports=Fd=function(a){return typeof a},br.exports.default=br.exports,br.exports.__esModule=!0):(br.exports=Fd=function(a){return a\u0026\u0026typeof Symbol==\"function\"\u0026\u0026a.constructor===Symbol\u0026\u0026a!==Symbol.prototype?\"symbol\":typeof a},br.exports.default=br.exports,br.exports.__esModule=!0),Fd(n)}br.exports=Fd;br.exports.default=br.exports,br.exports.__esModule=!0});var an=v((gNe,Iu)=\u003e{var Jte=sc().default;function f7(n){if(typeof WeakMap!=\"function\")return null;var e=new WeakMap,a=new WeakMap;return(f7=function(o){return o?a:e})(n)}function ene(n,e){if(!e\u0026\u0026n\u0026\u0026n.__esModule)return n;if(n===null||Jte(n)!==\"object\"\u0026\u0026typeof n!=\"function\")return{default:n};var a=f7(e);if(a\u0026\u0026a.has(n))return a.get(n);var s={},o=Object.defineProperty\u0026\u0026Object.getOwnPropertyDescriptor;for(var u in n)if(u!==\"default\"\u0026\u0026Object.prototype.hasOwnProperty.call(n,u)){var h=o?Object.getOwnPropertyDescriptor(n,u):null;h\u0026\u0026(h.get||h.set)?Object.defineProperty(s,u,h):s[u]=n[u]}return s.default=n,a\u0026\u0026a.set(n,s),s}Iu.exports=ene;Iu.exports.default=Iu.exports,Iu.exports.__esModule=!0});var Zy=v((yNe,Fu)=\u003e{function tne(n,e){if(n==null)return{};var a={},s=Object.keys(n),o,u;for(u=0;u\u003cs.length;u++)o=s[u],!(e.indexOf(o)\u003e=0)\u0026\u0026(a[o]=n[o]);return a}Fu.exports=tne;Fu.exports.default=Fu.exports,Fu.exports.__esModule=!0});var Vn=v((_Ne,Vu)=\u003e{var nne=Zy();function rne(n,e){if(n==null)return{};var a=nne(n,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(o=0;o\u003cu.length;o++)s=u[o],!(e.indexOf(s)\u003e=0)\u0026\u0026(!Object.prototype.propertyIsEnumerable.call(n,s)||(a[s]=n[s]))}return a}Vu.exports=rne;Vu.exports.default=Vu.exports,Vu.exports.__esModule=!0});var kt=v((bNe,Za)=\u003e{function Ky(){return Za.exports=Ky=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)\u0026\u0026(n[s]=a[s])}return n},Za.exports.default=Za.exports,Za.exports.__esModule=!0,Ky.apply(this,arguments)}Za.exports=Ky;Za.exports.default=Za.exports,Za.exports.__esModule=!0});var v7=v((kNe,m7)=\u003e{\"use strict\";var ane=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\";m7.exports=ane});var b7=v((NNe,_7)=\u003e{\"use strict\";var sne=v7();function g7(){}function y7(){}y7.resetWarningCache=g7;_7.exports=function(){function n(s,o,u,h,d,g){if(g!==sne){var _=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw _.name=\"Invariant Violation\",_}}n.isRequired=n;function e(){return n}var a={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:y7,resetWarningCache:g7};return a.PropTypes=a,a}});var Wt=v((qNe,k7)=\u003e{k7.exports=b7()();var xNe,wNe});var Vs=v((TNe,x7)=\u003e{function N7(n){var e,a,s=\"\";if(typeof n==\"string\"||typeof n==\"number\")s+=n;else if(typeof n==\"object\")if(Array.isArray(n))for(e=0;e\u003cn.length;e++)n[e]\u0026\u0026(a=N7(n[e]))\u0026\u0026(s\u0026\u0026(s+=\" \"),s+=a);else for(e in n)n[e]\u0026\u0026(s\u0026\u0026(s+=\" \"),s+=e);return s}x7.exports=function(){for(var n=0,e,a,s=\"\";n\u003carguments.length;)(e=arguments[n++])\u0026\u0026(a=N7(e))\u0026\u0026(s\u0026\u0026(s+=\" \"),s+=a);return s}});var Vd=v(Qy=\u003e{\"use strict\";Object.defineProperty(Qy,\"__esModule\",{value:!0});Qy.default=ine;function ine(n,e){return function(){return null}}});var T7=v(Wd=\u003e{\"use strict\";var w7=Se();Object.defineProperty(Wd,\"__esModule\",{value:!0});Wd.isPlainObject=Ld;Wd.default=q7;var one=w7(kt()),cne=w7(sc());function Ld(n){return n\u0026\u0026(0,cne.default)(n)===\"object\"\u0026\u0026n.constructor===Object}function q7(n,e){var a=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:{clone:!0},s=a.clone?(0,one.default)({},n):n;return Ld(n)\u0026\u0026Ld(e)\u0026\u0026Object.keys(e).forEach(function(o){o!==\"__proto__\"\u0026\u0026(Ld(e[o])\u0026\u0026o in n?s[o]=q7(n[o],e[o],a):s[o]=e[o])}),s}});var A7=v(Bd=\u003e{\"use strict\";var S7=Se();Object.defineProperty(Bd,\"__esModule\",{value:!0});Bd.default=void 0;var M7=S7(Wt()),P7=S7(Vd());function une(n){var e=n.prototype,a=e===void 0?{}:e;return Boolean(a.isReactComponent)}function O7(n,e,a,s,o){var u=n[e],h=o||e;if(u==null)return null;var d,g=u.type;return typeof g==\"function\"\u0026\u0026!une(g)\u0026\u0026(d=\"Did you accidentally use a plain function component for an element instead?\"),d!==void 0?new Error(\"Invalid \".concat(s,\" `\").concat(h,\"` supplied to `\").concat(a,\"`. \")+\"Expected an element that can hold a ref. \".concat(d,\" \")+\"For more information see https://material-ui.com/r/caveat-with-refs-guide\"):null}var C7=(0,P7.default)(M7.default.element,O7);C7.isRequired=(0,P7.default)(M7.default.element.isRequired,O7);var lne=C7;Bd.default=lne});var R7=v(zd=\u003e{\"use strict\";var pne=Se(),hne=an();Object.defineProperty(zd,\"__esModule\",{value:!0});zd.default=void 0;var dne=hne(Wt()),fne=pne(Vd());function mne(n){var e=n.prototype,a=e===void 0?{}:e;return Boolean(a.isReactComponent)}function vne(n,e,a,s,o){var u=n[e],h=o||e;if(u==null)return null;var d;return typeof u==\"function\"\u0026\u0026!mne(u)\u0026\u0026(d=\"Did you accidentally provide a plain function component instead?\"),d!==void 0?new Error(\"Invalid \".concat(s,\" `\").concat(h,\"` supplied to `\").concat(a,\"`. \")+\"Expected an element type that can hold a ref. \".concat(d,\" \")+\"For more information see https://material-ui.com/r/caveat-with-refs-guide\"):null}var gne=(0,fne.default)(dne.elementType,vne);zd.default=gne});var Wu=v((CNe,Lu)=\u003e{function yne(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}Lu.exports=yne;Lu.exports.default=Lu.exports,Lu.exports.__esModule=!0});var D7=v(Bu=\u003e{\"use strict\";var E7=Se();Object.defineProperty(Bu,\"__esModule\",{value:!0});Bu.default=kne;Bu.specialProperty=void 0;var _ne=E7(Wu()),bne=E7(kt()),j7=\"exact-prop: \\u200B\";Bu.specialProperty=j7;function kne(n){return n}});var I7=v(Jy=\u003e{\"use strict\";Object.defineProperty(Jy,\"__esModule\",{value:!0});Jy.default=Nne;function Nne(n){for(var e=\"https://material-ui.com/production-error/?code=\"+n,a=1;a\u003carguments.length;a+=1)e+=\"\u0026args[]=\"+encodeURIComponent(arguments[a]);return\"Minified Material-UI error #\"+n+\"; visit \"+e+\" for the full message.\"}});var z7=v(Pt=\u003e{\"use strict\";var Gd=60103,Ud=60106,zu=60107,Gu=60108,Uu=60114,$u=60109,Xu=60110,Yu=60112,Hu=60113,e_=60120,Zu=60115,Ku=60116,F7=60121,V7=60122,L7=60117,W7=60129,B7=60131;typeof Symbol==\"function\"\u0026\u0026Symbol.for\u0026\u0026(bn=Symbol.for,Gd=bn(\"react.element\"),Ud=bn(\"react.portal\"),zu=bn(\"react.fragment\"),Gu=bn(\"react.strict_mode\"),Uu=bn(\"react.profiler\"),$u=bn(\"react.provider\"),Xu=bn(\"react.context\"),Yu=bn(\"react.forward_ref\"),Hu=bn(\"react.suspense\"),e_=bn(\"react.suspense_list\"),Zu=bn(\"react.memo\"),Ku=bn(\"react.lazy\"),F7=bn(\"react.block\"),V7=bn(\"react.server.block\"),L7=bn(\"react.fundamental\"),W7=bn(\"react.debug_trace_mode\"),B7=bn(\"react.legacy_hidden\"));var bn;function ea(n){if(typeof n==\"object\"\u0026\u0026n!==null){var e=n.$$typeof;switch(e){case Gd:switch(n=n.type,n){case zu:case Uu:case Gu:case Hu:case e_:return n;default:switch(n=n\u0026\u0026n.$$typeof,n){case Xu:case Yu:case Ku:case Zu:case $u:return n;default:return e}}case Ud:return e}}}var xne=$u,wne=Gd,qne=Yu,Tne=zu,Sne=Ku,Mne=Zu,Pne=Ud,One=Uu,Cne=Gu,Ane=Hu;Pt.ContextConsumer=Xu;Pt.ContextProvider=xne;Pt.Element=wne;Pt.ForwardRef=qne;Pt.Fragment=Tne;Pt.Lazy=Sne;Pt.Memo=Mne;Pt.Portal=Pne;Pt.Profiler=One;Pt.StrictMode=Cne;Pt.Suspense=Ane;Pt.isAsyncMode=function(){return!1};Pt.isConcurrentMode=function(){return!1};Pt.isContextConsumer=function(n){return ea(n)===Xu};Pt.isContextProvider=function(n){return ea(n)===$u};Pt.isElement=function(n){return typeof n==\"object\"\u0026\u0026n!==null\u0026\u0026n.$$typeof===Gd};Pt.isForwardRef=function(n){return ea(n)===Yu};Pt.isFragment=function(n){return ea(n)===zu};Pt.isLazy=function(n){return ea(n)===Ku};Pt.isMemo=function(n){return ea(n)===Zu};Pt.isPortal=function(n){return ea(n)===Ud};Pt.isProfiler=function(n){return ea(n)===Uu};Pt.isStrictMode=function(n){return ea(n)===Gu};Pt.isSuspense=function(n){return ea(n)===Hu};Pt.isValidElementType=function(n){return typeof n==\"string\"||typeof n==\"function\"||n===zu||n===Uu||n===W7||n===Gu||n===Hu||n===e_||n===B7||typeof n==\"object\"\u0026\u0026n!==null\u0026\u0026(n.$$typeof===Ku||n.$$typeof===Zu||n.$$typeof===$u||n.$$typeof===Xu||n.$$typeof===Yu||n.$$typeof===L7||n.$$typeof===F7||n[0]===V7)};Pt.typeOf=ea});var t_=v((jNe,G7)=\u003e{\"use strict\";G7.exports=z7()});var H7=v($d=\u003e{\"use strict\";var Rne=Se();Object.defineProperty($d,\"__esModule\",{value:!0});$d.getFunctionName=$7;$d.default=Dne;var Ene=Rne(sc()),U7=t_(),jne=/^\\s*function(?:\\s|\\s*\\/\\*.*\\*\\/\\s*)+([^(\\s/]*)\\s*/;function $7(n){var e=\"\".concat(n).match(jne),a=e\u0026\u0026e[1];return a||\"\"}function X7(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:\"\";return n.displayName||n.name||$7(n)||e}function Y7(n,e,a){var s=X7(e);return n.displayName||(s!==\"\"?\"\".concat(a,\"(\").concat(s,\")\"):a)}function Dne(n){if(n!=null){if(typeof n==\"string\")return n;if(typeof n==\"function\")return X7(n,\"Component\");if((0,Ene.default)(n)===\"object\")switch(n.$$typeof){case U7.ForwardRef:return Y7(n,n.render,\"ForwardRef\");case U7.Memo:return Y7(n,n.type,\"memo\");default:return}}}});var Z7=v(n_=\u003e{\"use strict\";Object.defineProperty(n_,\"__esModule\",{value:!0});n_.default=Ine;function Ine(n,e,a,s,o){return null;var u,h}});var K7=v(Xd=\u003e{\"use strict\";Object.defineProperty(Xd,\"__esModule\",{value:!0});Xd.default=void 0;var Fne=typeof window!=\"undefined\"\u0026\u0026window.Math==Math?window:typeof self!=\"undefined\"\u0026\u0026self.Math==Math?self:Function(\"return this\")();Xd.default=Fne});var Q7=v(Yd=\u003e{\"use strict\";var Vne=Se();Object.defineProperty(Yd,\"__esModule\",{value:!0});Yd.default=void 0;var r_=Vne(Wt()),Lne=r_.default.oneOfType([r_.default.func,r_.default.object]),Wne=Lne;Yd.default=Wne});var sn=v(Ir=\u003e{\"use strict\";var Sa=Se();Object.defineProperty(Ir,\"__esModule\",{value:!0});Object.defineProperty(Ir,\"chainPropTypes\",{enumerable:!0,get:function(){return Bne.default}});Object.defineProperty(Ir,\"deepmerge\",{enumerable:!0,get:function(){return zne.default}});Object.defineProperty(Ir,\"elementAcceptingRef\",{enumerable:!0,get:function(){return Gne.default}});Object.defineProperty(Ir,\"elementTypeAcceptingRef\",{enumerable:!0,get:function(){return Une.default}});Object.defineProperty(Ir,\"exactProp\",{enumerable:!0,get:function(){return $ne.default}});Object.defineProperty(Ir,\"formatMuiErrorMessage\",{enumerable:!0,get:function(){return Xne.default}});Object.defineProperty(Ir,\"getDisplayName\",{enumerable:!0,get:function(){return Yne.default}});Object.defineProperty(Ir,\"HTMLElementType\",{enumerable:!0,get:function(){return Hne.default}});Object.defineProperty(Ir,\"ponyfillGlobal\",{enumerable:!0,get:function(){return Zne.default}});Object.defineProperty(Ir,\"refType\",{enumerable:!0,get:function(){return Kne.default}});var Bne=Sa(Vd()),zne=Sa(T7()),Gne=Sa(A7()),Une=Sa(R7()),$ne=Sa(D7()),Xne=Sa(I7()),Yne=Sa(H7()),Hne=Sa(Z7()),Zne=Sa(K7()),Kne=Sa(Q7())});var a_=v(Hd=\u003e{\"use strict\";Object.defineProperty(Hd,\"__esModule\",{value:!0});Hd.default=void 0;var Qne=typeof Symbol==\"function\"\u0026\u0026Symbol.for,Jne=Qne?Symbol.for(\"mui.nested\"):\"__THEME_NESTED__\";Hd.default=Jne});var J7=v(s_=\u003e{\"use strict\";var ere=Se();Object.defineProperty(s_,\"__esModule\",{value:!0});s_.default=rre;var tre=ere(a_()),nre=[\"checked\",\"disabled\",\"error\",\"focused\",\"focusVisible\",\"required\",\"expanded\",\"selected\"];function rre(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.disableGlobal,a=e===void 0?!1:e,s=n.productionPrefix,o=s===void 0?\"jss\":s,u=n.seed,h=u===void 0?\"\":u,d=h===\"\"?\"\":\"\".concat(h,\"-\"),g=0,_=function(){return g+=1,g};return function(N,k){var T=k.options.name;if(T\u0026\u0026T.indexOf(\"Mui\")===0\u0026\u0026!k.options.link\u0026\u0026!a){if(nre.indexOf(N.key)!==-1)return\"Mui-\".concat(N.key);var L=\"\".concat(d).concat(T,\"-\").concat(N.key);return!k.options.theme[tre.default]||h!==\"\"?L:\"\".concat(L,\"-\").concat(_())}return\"\".concat(d).concat(o).concat(_());var P}}});var Zd=v(i_=\u003e{\"use strict\";var are=Se();Object.defineProperty(i_,\"__esModule\",{value:!0});Object.defineProperty(i_,\"default\",{enumerable:!0,get:function(){return sre.default}});var sre=are(J7())});var e5=v(o_=\u003e{\"use strict\";Object.defineProperty(o_,\"__esModule\",{value:!0});o_.default=ire;function ire(n){return n}});var t5=v(c_=\u003e{\"use strict\";var ore=Se();Object.defineProperty(c_,\"__esModule\",{value:!0});Object.defineProperty(c_,\"default\",{enumerable:!0,get:function(){return cre.default}});var cre=ore(e5())});var n5=v(u_=\u003e{\"use strict\";Object.defineProperty(u_,\"__esModule\",{value:!0});u_.default=ure;function ure(n){var e=n.theme,a=n.name,s=n.props;if(!e||!e.props||!e.props[a])return s;var o=e.props[a],u;for(u in o)s[u]===void 0\u0026\u0026(s[u]=o[u]);return s}});var p_=v(l_=\u003e{\"use strict\";var lre=Se();Object.defineProperty(l_,\"__esModule\",{value:!0});Object.defineProperty(l_,\"default\",{enumerable:!0,get:function(){return pre.default}});var pre=lre(n5())});var Kd=v((YNe,r5)=\u003e{\"use strict\";var hre=!0;function dre(n,e){if(!hre){if(n)return;var a=\"Warning: \"+e;typeof console!=\"undefined\"\u0026\u0026console.warn(a);try{throw Error(a)}catch(s){}}}r5.exports=dre});var h_=v(Qd=\u003e{\"use strict\";Object.defineProperty(Qd,\"__esModule\",{value:!0});var a5=typeof Symbol==\"function\"\u0026\u0026typeof Symbol.iterator==\"symbol\"?function(n){return typeof n}:function(n){return n\u0026\u0026typeof Symbol==\"function\"\u0026\u0026n.constructor===Symbol\u0026\u0026n!==Symbol.prototype?\"symbol\":typeof n},fre=Qd.isBrowser=(typeof window==\"undefined\"?\"undefined\":a5(window))===\"object\"\u0026\u0026(typeof document==\"undefined\"?\"undefined\":a5(document))===\"object\"\u0026\u0026document.nodeType===9;Qd.default=fre});var d_=v((ZNe,Qu)=\u003e{function s5(n,e){for(var a=0;a\u003ce.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,\"value\"in s\u0026\u0026(s.writable=!0),Object.defineProperty(n,s.key,s)}}function mre(n,e,a){return e\u0026\u0026s5(n.prototype,e),a\u0026\u0026s5(n,a),n}Qu.exports=mre;Qu.exports.default=Qu.exports,Qu.exports.__esModule=!0});var i5=v((KNe,Ka)=\u003e{function f_(n,e){return Ka.exports=f_=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s},Ka.exports.default=Ka.exports,Ka.exports.__esModule=!0,f_(n,e)}Ka.exports=f_;Ka.exports.default=Ka.exports,Ka.exports.__esModule=!0});var o5=v((QNe,Ju)=\u003e{var vre=i5();function gre(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,vre(n,e)}Ju.exports=gre;Ju.exports.default=Ju.exports,Ju.exports.__esModule=!0});var c5=v((JNe,el)=\u003e{function yre(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}el.exports=yre;el.exports.default=el.exports,el.exports.__esModule=!0});var Ls=v(kr=\u003e{\"use strict\";Object.defineProperty(kr,\"__esModule\",{value:!0});var _re=kt(),bre=h_(),kre=Kd(),Nre=d_(),xre=o5(),wre=c5(),qre=Zy();function Ci(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var Ma=Ci(_re),Tre=Ci(bre),u5=Ci(kre),m_=Ci(Nre),l5=Ci(xre),p5=Ci(wre),Sre=Ci(qre),Mre={}.constructor;function v_(n){if(n==null||typeof n!=\"object\")return n;if(Array.isArray(n))return n.map(v_);if(n.constructor!==Mre)return n;var e={};for(var a in n)e[a]=v_(n[a]);return e}function g_(n,e,a){n===void 0\u0026\u0026(n=\"unnamed\");var s=a.jss,o=v_(e),u=s.plugins.onCreateRule(n,o,a);return u||(n[0]===\"@\",null)}var h5=function(e,a){for(var s=\"\",o=0;o\u003ce.length\u0026\u0026e[o]!==\"!important\";o++)s\u0026\u0026(s+=a),s+=e[o];return s},ic=function(e,a){if(a===void 0\u0026\u0026(a=!1),!Array.isArray(e))return e;var s=\"\";if(Array.isArray(e[0]))for(var o=0;o\u003ce.length\u0026\u0026e[o]!==\"!important\";o++)s\u0026\u0026(s+=\", \"),s+=h5(e[o],\" \");else s=h5(e,\", \");return!a\u0026\u0026e[e.length-1]===\"!important\"\u0026\u0026(s+=\" !important\"),s};function tl(n,e){for(var a=\"\",s=0;s\u003ce;s++)a+=\"  \";return a+n}function nl(n,e,a){a===void 0\u0026\u0026(a={});var s=\"\";if(!e)return s;var o=a,u=o.indent,h=u===void 0?0:u,d=e.fallbacks;if(n\u0026\u0026h++,d)if(Array.isArray(d))for(var g=0;g\u003cd.length;g++){var _=d[g];for(var N in _){var k=_[N];k!=null\u0026\u0026(s\u0026\u0026(s+=`\n`),s+=tl(N+\": \"+ic(k)+\";\",h))}}else for(var T in d){var L=d[T];L!=null\u0026\u0026(s\u0026\u0026(s+=`\n`),s+=tl(T+\": \"+ic(L)+\";\",h))}for(var P in e){var W=e[P];W!=null\u0026\u0026P!==\"fallbacks\"\u0026\u0026(s\u0026\u0026(s+=`\n`),s+=tl(P+\": \"+ic(W)+\";\",h))}return!s\u0026\u0026!a.allowEmpty||!n?s:(h--,s\u0026\u0026(s=`\n`+s+`\n`),tl(n+\" {\"+s,h)+tl(\"}\",h))}var Pre=/([[\\].#*$\u003e\u003c+~=|^:(),\"'`\\s])/g,d5=typeof CSS!=\"undefined\"\u0026\u0026CSS.escape,y_=function(n){return d5?d5(n):n.replace(Pre,\"\\\\$1\")},f5=function(){function n(a,s,o){this.type=\"style\",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var u=o.sheet,h=o.Renderer;this.key=a,this.options=o,this.style=s,u?this.renderer=u.renderer:h\u0026\u0026(this.renderer=new h)}var e=n.prototype;return e.prop=function(s,o,u){if(o===void 0)return this.style[s];var h=u?u.force:!1;if(!h\u0026\u0026this.style[s]===o)return this;var d=o;(!u||u.process!==!1)\u0026\u0026(d=this.options.jss.plugins.onChangeValue(o,s,this));var g=d==null||d===!1,_=s in this.style;if(g\u0026\u0026!_\u0026\u0026!h)return this;var N=g\u0026\u0026_;if(N?delete this.style[s]:this.style[s]=d,this.renderable\u0026\u0026this.renderer)return N?this.renderer.removeProperty(this.renderable,s):this.renderer.setProperty(this.renderable,s,d),this;var k=this.options.sheet;return k\u0026\u0026k.attached,this},n}(),__=function(n){l5.default(e,n);function e(s,o,u){var h;h=n.call(this,s,o,u)||this,h.selectorText=void 0,h.id=void 0,h.renderable=void 0;var d=u.selector,g=u.scoped,_=u.sheet,N=u.generateId;return d?h.selectorText=d:g!==!1\u0026\u0026(h.id=N(p5.default(p5.default(h)),_),h.selectorText=\".\"+y_(h.id)),h}var a=e.prototype;return a.applyTo=function(o){var u=this.renderer;if(u){var h=this.toJSON();for(var d in h)u.setProperty(o,d,h[d])}return this},a.toJSON=function(){var o={};for(var u in this.style){var h=this.style[u];typeof h!=\"object\"?o[u]=h:Array.isArray(h)\u0026\u0026(o[u]=ic(h))}return o},a.toString=function(o){var u=this.options.sheet,h=u?u.options.link:!1,d=h?Ma.default({},o,{allowEmpty:!0}):o;return nl(this.selectorText,this.style,d)},m_.default(e,[{key:\"selector\",set:function(o){if(o!==this.selectorText){this.selectorText=o;var u=this.renderer,h=this.renderable;if(!(!h||!u)){var d=u.setSelector(h,o);d||u.replaceRule(h,this)}}},get:function(){return this.selectorText}}]),e}(f5),Ore={onCreateRule:function(e,a,s){return e[0]===\"@\"||s.parent\u0026\u0026s.parent.type===\"keyframes\"?null:new __(e,a,s)}},b_={indent:1,children:!0},Cre=/@([\\w-]+)/,Are=function(){function n(a,s,o){this.type=\"conditional\",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=a;var u=a.match(Cre);this.at=u?u[1]:\"unknown\",this.query=o.name||\"@\"+this.at,this.options=o,this.rules=new Jd(Ma.default({},o,{parent:this}));for(var h in s)this.rules.add(h,s[h]);this.rules.process()}var e=n.prototype;return e.getRule=function(s){return this.rules.get(s)},e.indexOf=function(s){return this.rules.indexOf(s)},e.addRule=function(s,o,u){var h=this.rules.add(s,o,u);return h?(this.options.jss.plugins.onProcessRule(h),h):null},e.toString=function(s){if(s===void 0\u0026\u0026(s=b_),s.indent==null\u0026\u0026(s.indent=b_.indent),s.children==null\u0026\u0026(s.children=b_.children),s.children===!1)return this.query+\" {}\";var o=this.rules.toString(s);return o?this.query+` {\n`+o+`\n}`:\"\"},n}(),Rre=/@media|@supports\\s+/,Ere={onCreateRule:function(e,a,s){return Rre.test(e)?new Are(e,a,s):null}},k_={indent:1,children:!0},jre=/@keyframes\\s+([\\w-]+)/,N_=function(){function n(a,s,o){this.type=\"keyframes\",this.at=\"@keyframes\",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var u=a.match(jre);u\u0026\u0026u[1]?this.name=u[1]:this.name=\"noname\",this.key=this.type+\"-\"+this.name,this.options=o;var h=o.scoped,d=o.sheet,g=o.generateId;this.id=h===!1?this.name:y_(g(this,d)),this.rules=new Jd(Ma.default({},o,{parent:this}));for(var _ in s)this.rules.add(_,s[_],Ma.default({},o,{parent:this}));this.rules.process()}var e=n.prototype;return e.toString=function(s){if(s===void 0\u0026\u0026(s=k_),s.indent==null\u0026\u0026(s.indent=k_.indent),s.children==null\u0026\u0026(s.children=k_.children),s.children===!1)return this.at+\" \"+this.id+\" {}\";var o=this.rules.toString(s);return o\u0026\u0026(o=`\n`+o+`\n`),this.at+\" \"+this.id+\" {\"+o+\"}\"},n}(),Dre=/@keyframes\\s+/,Ire=/\\$([\\w-]+)/g,x_=function(e,a){return typeof e==\"string\"?e.replace(Ire,function(s,o){return o in a?a[o]:s}):e},m5=function(e,a,s){var o=e[a],u=x_(o,s);u!==o\u0026\u0026(e[a]=u)},Fre={onCreateRule:function(e,a,s){return typeof e==\"string\"\u0026\u0026Dre.test(e)?new N_(e,a,s):null},onProcessStyle:function(e,a,s){return a.type!==\"style\"||!s||(\"animation-name\"in e\u0026\u0026m5(e,\"animation-name\",s.keyframes),\"animation\"in e\u0026\u0026m5(e,\"animation\",s.keyframes)),e},onChangeValue:function(e,a,s){var o=s.options.sheet;if(!o)return e;switch(a){case\"animation\":return x_(e,o.keyframes);case\"animation-name\":return x_(e,o.keyframes);default:return e}}},Vre=function(n){l5.default(e,n);function e(){for(var s,o=arguments.length,u=new Array(o),h=0;h\u003co;h++)u[h]=arguments[h];return s=n.call.apply(n,[this].concat(u))||this,s.renderable=void 0,s}var a=e.prototype;return a.toString=function(o){var u=this.options.sheet,h=u?u.options.link:!1,d=h?Ma.default({},o,{allowEmpty:!0}):o;return nl(this.key,this.style,d)},e}(f5),Lre={onCreateRule:function(e,a,s){return s.parent\u0026\u0026s.parent.type===\"keyframes\"?new Vre(e,a,s):null}},Wre=function(){function n(a,s,o){this.type=\"font-face\",this.at=\"@font-face\",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=a,this.style=s,this.options=o}var e=n.prototype;return e.toString=function(s){if(Array.isArray(this.style)){for(var o=\"\",u=0;u\u003cthis.style.length;u++)o+=nl(this.at,this.style[u]),this.style[u+1]\u0026\u0026(o+=`\n`);return o}return nl(this.at,this.style,s)},n}(),Bre=/@font-face/,zre={onCreateRule:function(e,a,s){return Bre.test(e)?new Wre(e,a,s):null}},Gre=function(){function n(a,s,o){this.type=\"viewport\",this.at=\"@viewport\",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=a,this.style=s,this.options=o}var e=n.prototype;return e.toString=function(s){return nl(this.key,this.style,s)},n}(),Ure={onCreateRule:function(e,a,s){return e===\"@viewport\"||e===\"@-ms-viewport\"?new Gre(e,a,s):null}},$re=function(){function n(a,s,o){this.type=\"simple\",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=a,this.value=s,this.options=o}var e=n.prototype;return e.toString=function(s){if(Array.isArray(this.value)){for(var o=\"\",u=0;u\u003cthis.value.length;u++)o+=this.key+\" \"+this.value[u]+\";\",this.value[u+1]\u0026\u0026(o+=`\n`);return o}return this.key+\" \"+this.value+\";\"},n}(),Xre={\"@charset\":!0,\"@import\":!0,\"@namespace\":!0},Yre={onCreateRule:function(e,a,s){return e in Xre?new $re(e,a,s):null}},v5=[Ore,Ere,Fre,Lre,zre,Ure,Yre],Hre={process:!0},g5={force:!0,process:!0},Jd=function(){function n(a){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=a,this.classes=a.classes,this.keyframes=a.keyframes}var e=n.prototype;return e.add=function(s,o,u){var h=this.options,d=h.parent,g=h.sheet,_=h.jss,N=h.Renderer,k=h.generateId,T=h.scoped,L=Ma.default({classes:this.classes,parent:d,sheet:g,jss:_,Renderer:N,generateId:k,scoped:T,name:s,keyframes:this.keyframes,selector:void 0},u),P=s;s in this.raw\u0026\u0026(P=s+\"-d\"+this.counter++),this.raw[P]=o,P in this.classes\u0026\u0026(L.selector=\".\"+y_(this.classes[P]));var W=g_(P,o,L);if(!W)return null;this.register(W);var K=L.index===void 0?this.index.length:L.index;return this.index.splice(K,0,W),W},e.get=function(s){return this.map[s]},e.remove=function(s){this.unregister(s),delete this.raw[s.key],this.index.splice(this.index.indexOf(s),1)},e.indexOf=function(s){return this.index.indexOf(s)},e.process=function(){var s=this.options.jss.plugins;this.index.slice(0).forEach(s.onProcessRule,s)},e.register=function(s){this.map[s.key]=s,s instanceof __?(this.map[s.selector]=s,s.id\u0026\u0026(this.classes[s.key]=s.id)):s instanceof N_\u0026\u0026this.keyframes\u0026\u0026(this.keyframes[s.name]=s.id)},e.unregister=function(s){delete this.map[s.key],s instanceof __?(delete this.map[s.selector],delete this.classes[s.key]):s instanceof N_\u0026\u0026delete this.keyframes[s.name]},e.update=function(){var s,o,u;if(typeof(arguments.length\u003c=0?void 0:arguments[0])==\"string\"?(s=arguments.length\u003c=0?void 0:arguments[0],o=arguments.length\u003c=1?void 0:arguments[1],u=arguments.length\u003c=2?void 0:arguments[2]):(o=arguments.length\u003c=0?void 0:arguments[0],u=arguments.length\u003c=1?void 0:arguments[1],s=null),s)this.updateOne(this.map[s],o,u);else for(var h=0;h\u003cthis.index.length;h++)this.updateOne(this.index[h],o,u)},e.updateOne=function(s,o,u){u===void 0\u0026\u0026(u=Hre);var h=this.options,d=h.jss.plugins,g=h.sheet;if(s.rules instanceof n){s.rules.update(o,u);return}var _=s,N=_.style;if(d.onUpdate(o,s,g,u),u.process\u0026\u0026N\u0026\u0026N!==_.style){d.onProcessStyle(_.style,_,g);for(var k in _.style){var T=_.style[k],L=N[k];T!==L\u0026\u0026_.prop(k,T,g5)}for(var P in N){var W=_.style[P],K=N[P];W==null\u0026\u0026W!==K\u0026\u0026_.prop(P,null,g5)}}},e.toString=function(s){for(var o=\"\",u=this.options.sheet,h=u?u.options.link:!1,d=0;d\u003cthis.index.length;d++){var g=this.index[d],_=g.toString(s);!_\u0026\u0026!h||(o\u0026\u0026(o+=`\n`),o+=_)}return o},n}(),y5=function(){function n(a,s){this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Ma.default({},s,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),s.Renderer\u0026\u0026(this.renderer=new s.Renderer(this)),this.rules=new Jd(this.options);for(var o in a)this.rules.add(o,a[o]);this.rules.process()}var e=n.prototype;return e.attach=function(){return this.attached?this:(this.renderer\u0026\u0026this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer\u0026\u0026this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(s,o,u){var h=this.queue;this.attached\u0026\u0026!h\u0026\u0026(this.queue=[]);var d=this.rules.add(s,o,u);return d?(this.options.jss.plugins.onProcessRule(d),this.attached?(this.deployed\u0026\u0026(h?h.push(d):(this.insertRule(d),this.queue\u0026\u0026(this.queue.forEach(this.insertRule,this),this.queue=void 0))),d):(this.deployed=!1,d)):null},e.insertRule=function(s){this.renderer\u0026\u0026this.renderer.insertRule(s)},e.addRules=function(s,o){var u=[];for(var h in s){var d=this.addRule(h,s[h],o);d\u0026\u0026u.push(d)}return u},e.getRule=function(s){return this.rules.get(s)},e.deleteRule=function(s){var o=typeof s==\"object\"?s:this.rules.get(s);return!o||this.attached\u0026\u0026!o.renderable?!1:(this.rules.remove(o),this.attached\u0026\u0026o.renderable\u0026\u0026this.renderer?this.renderer.deleteRule(o.renderable):!0)},e.indexOf=function(s){return this.rules.indexOf(s)},e.deploy=function(){return this.renderer\u0026\u0026this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var s;return(s=this.rules).update.apply(s,arguments),this},e.updateOne=function(s,o,u){return this.rules.updateOne(s,o,u),this},e.toString=function(s){return this.rules.toString(s)},n}(),Zre=function(){function n(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=n.prototype;return e.onCreateRule=function(s,o,u){for(var h=0;h\u003cthis.registry.onCreateRule.length;h++){var d=this.registry.onCreateRule[h](s,o,u);if(d)return d}return null},e.onProcessRule=function(s){if(!s.isProcessed){for(var o=s.options.sheet,u=0;u\u003cthis.registry.onProcessRule.length;u++)this.registry.onProcessRule[u](s,o);s.style\u0026\u0026this.onProcessStyle(s.style,s,o),s.isProcessed=!0}},e.onProcessStyle=function(s,o,u){for(var h=0;h\u003cthis.registry.onProcessStyle.length;h++)o.style=this.registry.onProcessStyle[h](o.style,o,u)},e.onProcessSheet=function(s){for(var o=0;o\u003cthis.registry.onProcessSheet.length;o++)this.registry.onProcessSheet[o](s)},e.onUpdate=function(s,o,u,h){for(var d=0;d\u003cthis.registry.onUpdate.length;d++)this.registry.onUpdate[d](s,o,u,h)},e.onChangeValue=function(s,o,u){for(var h=s,d=0;d\u003cthis.registry.onChangeValue.length;d++)h=this.registry.onChangeValue[d](h,o,u);return h},e.use=function(s,o){o===void 0\u0026\u0026(o={queue:\"external\"});var u=this.plugins[o.queue];u.indexOf(s)===-1\u0026\u0026(u.push(s),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(h,d){for(var g in d)g in h\u0026\u0026h[g].push(d[g]);return h},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},n}(),_5=function(){function n(){this.registry=[]}var e=n.prototype;return e.add=function(s){var o=this.registry,u=s.options.index;if(o.indexOf(s)===-1){if(o.length===0||u\u003e=this.index){o.push(s);return}for(var h=0;h\u003co.length;h++)if(o[h].options.index\u003eu){o.splice(h,0,s);return}}},e.reset=function(){this.registry=[]},e.remove=function(s){var o=this.registry.indexOf(s);this.registry.splice(o,1)},e.toString=function(s){for(var o=s===void 0?{}:s,u=o.attached,h=Sre.default(o,[\"attached\"]),d=\"\",g=0;g\u003cthis.registry.length;g++){var _=this.registry[g];u!=null\u0026\u0026_.attached!==u||(d\u0026\u0026(d+=`\n`),d+=_.toString(h))}return d},m_.default(n,[{key:\"index\",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),n}(),oc=new _5,w_=typeof globalThis!=\"undefined\"?globalThis:typeof window!=\"undefined\"\u0026\u0026window.Math===Math?window:typeof self!=\"undefined\"\u0026\u0026self.Math===Math?self:Function(\"return this\")(),q_=\"2f1acc6c3a606b082e5eef5e54414ffb\";w_[q_]==null\u0026\u0026(w_[q_]=0);var b5=w_[q_]++,Kre=1e10,T_=function(e){e===void 0\u0026\u0026(e={});var a=0,s=function(u,h){a+=1,a\u003eKre;var d=\"\",g=\"\";return h\u0026\u0026(h.options.classNamePrefix\u0026\u0026(g=h.options.classNamePrefix),h.options.jss.id!=null\u0026\u0026(d=String(h.options.jss.id))),e.minify?\"\"+(g||\"c\")+b5+d+a:g+u.key+\"-\"+b5+(d?\"-\"+d:\"\")+\"-\"+a};return s},k5=function(e){var a;return function(){return a||(a=e()),a}},Qre=function(e,a){try{return e.attributeStyleMap?e.attributeStyleMap.get(a):e.style.getPropertyValue(a)}catch(s){return\"\"}},Jre=function(e,a,s){try{var o=s;if(Array.isArray(s)\u0026\u0026(o=ic(s,!0),s[s.length-1]===\"!important\"))return e.style.setProperty(a,o,\"important\"),!0;e.attributeStyleMap?e.attributeStyleMap.set(a,o):e.style.setProperty(a,o)}catch(u){return!1}return!0},eae=function(e,a){try{e.attributeStyleMap?e.attributeStyleMap.delete(a):e.style.removeProperty(a)}catch(s){}},tae=function(e,a){return e.selectorText=a,e.selectorText===a},N5=k5(function(){return document.querySelector(\"head\")});function nae(n,e){for(var a=0;a\u003cn.length;a++){var s=n[a];if(s.attached\u0026\u0026s.options.index\u003ee.index\u0026\u0026s.options.insertionPoint===e.insertionPoint)return s}return null}function rae(n,e){for(var a=n.length-1;a\u003e=0;a--){var s=n[a];if(s.attached\u0026\u0026s.options.insertionPoint===e.insertionPoint)return s}return null}function aae(n){for(var e=N5(),a=0;a\u003ce.childNodes.length;a++){var s=e.childNodes[a];if(s.nodeType===8\u0026\u0026s.nodeValue.trim()===n)return s}return null}function sae(n){var e=oc.registry;if(e.length\u003e0){var a=nae(e,n);if(a\u0026\u0026a.renderer)return{parent:a.renderer.element.parentNode,node:a.renderer.element};if(a=rae(e,n),a\u0026\u0026a.renderer)return{parent:a.renderer.element.parentNode,node:a.renderer.element.nextSibling}}var s=n.insertionPoint;if(s\u0026\u0026typeof s==\"string\"){var o=aae(s);if(o)return{parent:o.parentNode,node:o.nextSibling}}return!1}function iae(n,e){var a=e.insertionPoint,s=sae(e);if(s!==!1\u0026\u0026s.parent){s.parent.insertBefore(n,s.node);return}if(a\u0026\u0026typeof a.nodeType==\"number\"){var o=a,u=o.parentNode;u\u0026\u0026u.insertBefore(n,o.nextSibling);return}N5().appendChild(n)}var oae=k5(function(){var n=document.querySelector('meta[property=\"csp-nonce\"]');return n?n.getAttribute(\"content\"):null}),x5=function(e,a,s){try{if(\"insertRule\"in e){var o=e;o.insertRule(a,s)}else if(\"appendRule\"in e){var u=e;u.appendRule(a)}}catch(h){return!1}return e.cssRules[s]},w5=function(e,a){var s=e.cssRules.length;return a===void 0||a\u003es?s:a},cae=function(){var e=document.createElement(\"style\");return e.textContent=`\n`,e},uae=function(){function n(a){this.getPropertyValue=Qre,this.setProperty=Jre,this.removeProperty=eae,this.setSelector=tae,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],a\u0026\u0026oc.add(a),this.sheet=a;var s=this.sheet?this.sheet.options:{},o=s.media,u=s.meta,h=s.element;this.element=h||cae(),this.element.setAttribute(\"data-jss\",\"\"),o\u0026\u0026this.element.setAttribute(\"media\",o),u\u0026\u0026this.element.setAttribute(\"data-meta\",u);var d=oae();d\u0026\u0026this.element.setAttribute(\"nonce\",d)}var e=n.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){iae(this.element,this.sheet.options);var s=Boolean(this.sheet\u0026\u0026this.sheet.deployed);this.hasInsertedRules\u0026\u0026s\u0026\u0026(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(!!this.sheet){var s=this.element.parentNode;s\u0026\u0026s.removeChild(this.element),this.sheet.options.link\u0026\u0026(this.cssRules=[],this.element.textContent=`\n`)}},e.deploy=function(){var s=this.sheet;if(!!s){if(s.options.link){this.insertRules(s.rules);return}this.element.textContent=`\n`+s.toString()+`\n`}},e.insertRules=function(s,o){for(var u=0;u\u003cs.index.length;u++)this.insertRule(s.index[u],u,o)},e.insertRule=function(s,o,u){if(u===void 0\u0026\u0026(u=this.element.sheet),s.rules){var h=s,d=u;if(s.type===\"conditional\"||s.type===\"keyframes\"){var g=w5(u,o);if(d=x5(u,h.toString({children:!1}),g),d===!1)return!1;this.refCssRule(s,g,d)}return this.insertRules(h.rules,d),d}var _=s.toString();if(!_)return!1;var N=w5(u,o),k=x5(u,_,N);return k===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(s,N,k),k)},e.refCssRule=function(s,o,u){s.renderable=u,s.options.parent instanceof y5\u0026\u0026(this.cssRules[o]=u)},e.deleteRule=function(s){var o=this.element.sheet,u=this.indexOf(s);return u===-1?!1:(o.deleteRule(u),this.cssRules.splice(u,1),!0)},e.indexOf=function(s){return this.cssRules.indexOf(s)},e.replaceRule=function(s,o){var u=this.indexOf(s);return u===-1?!1:(this.element.sheet.deleteRule(u),this.cssRules.splice(u,1),this.insertRule(o,u))},e.getRules=function(){return this.element.sheet.cssRules},n}(),lae=0,pae=function(){function n(a){this.id=lae++,this.version=\"10.7.1\",this.plugins=new Zre,this.options={id:{minify:!1},createGenerateId:T_,Renderer:Tre.default?uae:null,plugins:[]},this.generateId=T_({minify:!1});for(var s=0;s\u003cv5.length;s++)this.plugins.use(v5[s],{queue:\"internal\"});this.setup(a)}var e=n.prototype;return e.setup=function(s){return s===void 0\u0026\u0026(s={}),s.createGenerateId\u0026\u0026(this.options.createGenerateId=s.createGenerateId),s.id\u0026\u0026(this.options.id=Ma.default({},this.options.id,s.id)),(s.createGenerateId||s.id)\u0026\u0026(this.generateId=this.options.createGenerateId(this.options.id)),s.insertionPoint!=null\u0026\u0026(this.options.insertionPoint=s.insertionPoint),\"Renderer\"in s\u0026\u0026(this.options.Renderer=s.Renderer),s.plugins\u0026\u0026this.use.apply(this,s.plugins),this},e.createStyleSheet=function(s,o){o===void 0\u0026\u0026(o={});var u=o,h=u.index;typeof h!=\"number\"\u0026\u0026(h=oc.index===0?0:oc.index+1);var d=new y5(s,Ma.default({},o,{jss:this,generateId:o.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:h}));return this.plugins.onProcessSheet(d),d},e.removeStyleSheet=function(s){return s.detach(),oc.remove(s),this},e.createRule=function(s,o,u){if(o===void 0\u0026\u0026(o={}),u===void 0\u0026\u0026(u={}),typeof s==\"object\")return this.createRule(void 0,s,o);var h=Ma.default({},u,{name:s,jss:this,Renderer:this.options.Renderer});h.generateId||(h.generateId=this.generateId),h.classes||(h.classes={}),h.keyframes||(h.keyframes={});var d=g_(s,o,h);return d\u0026\u0026this.plugins.onProcessRule(d),d},e.use=function(){for(var s=this,o=arguments.length,u=new Array(o),h=0;h\u003co;h++)u[h]=arguments[h];return u.forEach(function(d){s.plugins.use(d)}),this},n}();function q5(n){var e=null;for(var a in n){var s=n[a],o=typeof s;if(o===\"function\")e||(e={}),e[a]=s;else if(o===\"object\"\u0026\u0026s!==null\u0026\u0026!Array.isArray(s)){var u=q5(s);u\u0026\u0026(e||(e={}),e[a]=u)}}return e}var hae=function(){function n(){this.length=0,this.sheets=new WeakMap}var e=n.prototype;return e.get=function(s){var o=this.sheets.get(s);return o\u0026\u0026o.sheet},e.add=function(s,o){this.sheets.has(s)||(this.length++,this.sheets.set(s,{sheet:o,refs:0}))},e.manage=function(s){var o=this.sheets.get(s);if(o)return o.refs===0\u0026\u0026o.sheet.attach(),o.refs++,o.sheet;u5.default(!1,\"[JSS] SheetsManager: can't find sheet to manage\")},e.unmanage=function(s){var o=this.sheets.get(s);o?o.refs\u003e0\u0026\u0026(o.refs--,o.refs===0\u0026\u0026o.sheet.detach()):u5.default(!1,\"SheetsManager: can't find sheet to unmanage\")},m_.default(n,[{key:\"size\",get:function(){return this.length}}]),n}();var dae=typeof CSS==\"object\"\u0026\u0026CSS!=null\u0026\u0026\"number\"in CSS,T5=function(e){return new pae(e)},fae=T5();kr.RuleList=Jd;kr.SheetsManager=hae;kr.SheetsRegistry=_5;kr.create=T5;kr.createGenerateId=T_;kr.createRule=g_;kr.default=fae;kr.getDynamicStyles=q5;kr.hasCSSTOMSupport=dae;kr.sheets=oc;kr.toCssValue=ic});var M5=v(P_=\u003e{\"use strict\";Object.defineProperty(P_,\"__esModule\",{value:!0});var t1e=Kd(),mae=Ls(),S5=Date.now(),S_=\"fnValues\"+S5,M_=\"fnStyle\"+ ++S5,vae=function(){return{onCreateRule:function(a,s,o){if(typeof s!=\"function\")return null;var u=mae.createRule(a,{},o);return u[M_]=s,u},onProcessStyle:function(a,s){if(S_ in s||M_ in s)return a;var o={};for(var u in a){var h=a[u];typeof h==\"function\"\u0026\u0026(delete a[u],o[u]=h)}return s[S_]=o,a},onUpdate:function(a,s,o,u){var h=s,d=h[M_];if(d\u0026\u0026(h.style=d(a)||{},!1))for(var g in h.style);var _=h[S_];if(_)for(var N in _)h.prop(N,_[N](a),u)}}};P_.default=vae});var O5=v(C_=\u003e{\"use strict\";Object.defineProperty(C_,\"__esModule\",{value:!0});var gae=kt(),yae=Ls();function _ae(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var ef=_ae(gae),Ws=\"@global\",O_=\"@global \",bae=function(){function n(a,s,o){this.type=\"global\",this.at=Ws,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=a,this.options=o,this.rules=new yae.RuleList(ef.default({},o,{parent:this}));for(var u in s)this.rules.add(u,s[u]);this.rules.process()}var e=n.prototype;return e.getRule=function(s){return this.rules.get(s)},e.addRule=function(s,o,u){var h=this.rules.add(s,o,u);return h\u0026\u0026this.options.jss.plugins.onProcessRule(h),h},e.indexOf=function(s){return this.rules.indexOf(s)},e.toString=function(){return this.rules.toString()},n}(),kae=function(){function n(a,s,o){this.type=\"global\",this.at=Ws,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=a,this.options=o;var u=a.substr(O_.length);this.rule=o.jss.createRule(u,s,ef.default({},o,{parent:this}))}var e=n.prototype;return e.toString=function(s){return this.rule?this.rule.toString(s):\"\"},n}(),Nae=/\\s*,\\s*/g;function P5(n,e){for(var a=n.split(Nae),s=\"\",o=0;o\u003ca.length;o++)s+=e+\" \"+a[o].trim(),a[o+1]\u0026\u0026(s+=\", \");return s}function xae(n,e){var a=n.options,s=n.style,o=s?s[Ws]:null;if(!!o){for(var u in o)e.addRule(u,o[u],ef.default({},a,{selector:P5(u,n.selector)}));delete s[Ws]}}function wae(n,e){var a=n.options,s=n.style;for(var o in s)if(!(o[0]!==\"@\"||o.substr(0,Ws.length)!==Ws)){var u=P5(o.substr(Ws.length),n.selector);e.addRule(u,s[o],ef.default({},a,{selector:u})),delete s[o]}}function qae(){function n(a,s,o){if(!a)return null;if(a===Ws)return new bae(a,s,o);if(a[0]===\"@\"\u0026\u0026a.substr(0,O_.length)===O_)return new kae(a,s,o);var u=o.parent;return u\u0026\u0026(u.type===\"global\"||u.options.parent\u0026\u0026u.options.parent.type===\"global\")\u0026\u0026(o.scoped=!1),o.scoped===!1\u0026\u0026(o.selector=a),null}function e(a,s){a.type!==\"style\"||!s||(xae(a,s),wae(a,s))}return{onCreateRule:n,onProcessRule:e}}C_.default=qae});var A5=v(R_=\u003e{\"use strict\";Object.defineProperty(R_,\"__esModule\",{value:!0});var Tae=kt(),a1e=Kd();function Sae(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var A_=Sae(Tae),C5=/\\s*,\\s*/g,Mae=/\u0026/g,Pae=/\\$([\\w-]+)/g;function Oae(){function n(o,u){return function(h,d){var g=o.getRule(d)||u\u0026\u0026u.getRule(d);return g?(g=g,g.selector):d}}function e(o,u){for(var h=u.split(C5),d=o.split(C5),g=\"\",_=0;_\u003ch.length;_++)for(var N=h[_],k=0;k\u003cd.length;k++){var T=d[k];g\u0026\u0026(g+=\", \"),g+=T.indexOf(\"\u0026\")!==-1?T.replace(Mae,N):N+\" \"+T}return g}function a(o,u,h){if(h)return A_.default({},h,{index:h.index+1});var d=o.options.nestingLevel;d=d===void 0?1:d+1;var g=A_.default({},o.options,{nestingLevel:d,index:u.indexOf(o)+1});return delete g.name,g}function s(o,u,h){if(u.type!==\"style\")return o;var d=u,g=d.options.parent,_,N;for(var k in o){var T=k.indexOf(\"\u0026\")!==-1,L=k[0]===\"@\";if(!(!T\u0026\u0026!L)){if(_=a(d,g,_),T){var P=e(k,d.selector);N||(N=n(g,h)),P=P.replace(Pae,N),g.addRule(P,o[k],A_.default({},_,{selector:P}))}else L\u0026\u0026g.addRule(k,{},_).addRule(d.key,o[k],{selector:d.selector});delete o[k]}}return o}return{onProcessStyle:s}}R_.default=Oae});var E5=v((i1e,R5)=\u003e{\"use strict\";var Cae=/[A-Z]/g,Aae=/^ms-/,E_={};function Rae(n){return\"-\"+n.toLowerCase()}function Eae(n){if(E_.hasOwnProperty(n))return E_[n];var e=n.replace(Cae,Rae);return E_[n]=Aae.test(e)?\"-\"+e:e}R5.exports=Eae});var D5=v(j_=\u003e{\"use strict\";Object.defineProperty(j_,\"__esModule\",{value:!0});var jae=E5();function Dae(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n:{default:n}}var j5=Dae(jae);function tf(n){var e={};for(var a in n){var s=a.indexOf(\"--\")===0?a:j5.default(a);e[s]=n[a]}return n.fallbacks\u0026\u0026(Array.isArray(n.fallbacks)?e.fallbacks=n.fallbacks.map(tf):e.fallbacks=tf(n.fallbacks)),e}function Iae(){function n(a){if(Array.isArray(a)){for(var s=0;s\u003ca.length;s++)a[s]=tf(a[s]);return a}return tf(a)}function e(a,s,o){if(s.indexOf(\"--\")===0)return a;var u=j5.default(s);return s===u?a:(o.prop(u,a),null)}return{onProcessStyle:n,onChangeValue:e}}j_.default=Iae});var F5=v(I_=\u003e{\"use strict\";Object.defineProperty(I_,\"__esModule\",{value:!0});var D_=Ls(),de=D_.hasCSSTOMSupport\u0026\u0026CSS?CSS.px:\"px\",nf=D_.hasCSSTOMSupport\u0026\u0026CSS?CSS.ms:\"ms\",cc=D_.hasCSSTOMSupport\u0026\u0026CSS?CSS.percent:\"%\",Fae={\"animation-delay\":nf,\"animation-duration\":nf,\"background-position\":de,\"background-position-x\":de,\"background-position-y\":de,\"background-size\":de,border:de,\"border-bottom\":de,\"border-bottom-left-radius\":de,\"border-bottom-right-radius\":de,\"border-bottom-width\":de,\"border-left\":de,\"border-left-width\":de,\"border-radius\":de,\"border-right\":de,\"border-right-width\":de,\"border-top\":de,\"border-top-left-radius\":de,\"border-top-right-radius\":de,\"border-top-width\":de,\"border-width\":de,\"border-block\":de,\"border-block-end\":de,\"border-block-end-width\":de,\"border-block-start\":de,\"border-block-start-width\":de,\"border-block-width\":de,\"border-inline\":de,\"border-inline-end\":de,\"border-inline-end-width\":de,\"border-inline-start\":de,\"border-inline-start-width\":de,\"border-inline-width\":de,\"border-start-start-radius\":de,\"border-start-end-radius\":de,\"border-end-start-radius\":de,\"border-end-end-radius\":de,margin:de,\"margin-bottom\":de,\"margin-left\":de,\"margin-right\":de,\"margin-top\":de,\"margin-block\":de,\"margin-block-end\":de,\"margin-block-start\":de,\"margin-inline\":de,\"margin-inline-end\":de,\"margin-inline-start\":de,padding:de,\"padding-bottom\":de,\"padding-left\":de,\"padding-right\":de,\"padding-top\":de,\"padding-block\":de,\"padding-block-end\":de,\"padding-block-start\":de,\"padding-inline\":de,\"padding-inline-end\":de,\"padding-inline-start\":de,\"mask-position-x\":de,\"mask-position-y\":de,\"mask-size\":de,height:de,width:de,\"min-height\":de,\"max-height\":de,\"min-width\":de,\"max-width\":de,bottom:de,left:de,top:de,right:de,inset:de,\"inset-block\":de,\"inset-block-end\":de,\"inset-block-start\":de,\"inset-inline\":de,\"inset-inline-end\":de,\"inset-inline-start\":de,\"box-shadow\":de,\"text-shadow\":de,\"column-gap\":de,\"column-rule\":de,\"column-rule-width\":de,\"column-width\":de,\"font-size\":de,\"font-size-delta\":de,\"letter-spacing\":de,\"text-decoration-thickness\":de,\"text-indent\":de,\"text-stroke\":de,\"text-stroke-width\":de,\"word-spacing\":de,motion:de,\"motion-offset\":de,outline:de,\"outline-offset\":de,\"outline-width\":de,perspective:de,\"perspective-origin-x\":cc,\"perspective-origin-y\":cc,\"transform-origin\":cc,\"transform-origin-x\":cc,\"transform-origin-y\":cc,\"transform-origin-z\":cc,\"transition-delay\":nf,\"transition-duration\":nf,\"vertical-align\":de,\"flex-basis\":de,\"shape-margin\":de,size:de,gap:de,grid:de,\"grid-gap\":de,\"row-gap\":de,\"grid-row-gap\":de,\"grid-column-gap\":de,\"grid-template-rows\":de,\"grid-template-columns\":de,\"grid-auto-rows\":de,\"grid-auto-columns\":de,\"box-shadow-x\":de,\"box-shadow-y\":de,\"box-shadow-blur\":de,\"box-shadow-spread\":de,\"font-line-height\":de,\"text-shadow-x\":de,\"text-shadow-y\":de,\"text-shadow-blur\":de};function I5(n){var e=/(-[a-z])/g,a=function(h){return h[1].toUpperCase()},s={};for(var o in n)s[o]=n[o],s[o.replace(e,a)]=n[o];return s}var Vae=I5(Fae);function rl(n,e,a){if(e==null)return e;if(Array.isArray(e))for(var s=0;s\u003ce.length;s++)e[s]=rl(n,e[s],a);else if(typeof e==\"object\")if(n===\"fallbacks\")for(var o in e)e[o]=rl(o,e[o],a);else for(var u in e)e[u]=rl(n+\"-\"+u,e[u],a);else if(typeof e==\"number\"\u0026\u0026isNaN(e)===!1){var h=a[n]||Vae[n];return h\u0026\u0026!(e===0\u0026\u0026h===de)?typeof h==\"function\"?h(e).toString():\"\"+e+h:e.toString()}return e}function Lae(n){n===void 0\u0026\u0026(n={});var e=I5(n);function a(o,u){if(u.type!==\"style\")return o;for(var h in o)o[h]=rl(h,o[h],e);return o}function s(o,u){return rl(u,o,e)}return{onProcessStyle:a,onChangeValue:s}}I_.default=Lae});var F_=v((u1e,al)=\u003e{function Wae(n,e){(e==null||e\u003en.length)\u0026\u0026(e=n.length);for(var a=0,s=new Array(e);a\u003ce;a++)s[a]=n[a];return s}al.exports=Wae;al.exports.default=al.exports,al.exports.__esModule=!0});var V5=v((l1e,sl)=\u003e{var Bae=F_();function zae(n){if(Array.isArray(n))return Bae(n)}sl.exports=zae;sl.exports.default=sl.exports,sl.exports.__esModule=!0});var L5=v((p1e,il)=\u003e{function Gae(n){if(typeof Symbol!=\"undefined\"\u0026\u0026n[Symbol.iterator]!=null||n[\"@@iterator\"]!=null)return Array.from(n)}il.exports=Gae;il.exports.default=il.exports,il.exports.__esModule=!0});var V_=v((h1e,ol)=\u003e{var W5=F_();function Uae(n,e){if(!!n){if(typeof n==\"string\")return W5(n,e);var a=Object.prototype.toString.call(n).slice(8,-1);if(a===\"Object\"\u0026\u0026n.constructor\u0026\u0026(a=n.constructor.name),a===\"Map\"||a===\"Set\")return Array.from(n);if(a===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return W5(n,e)}}ol.exports=Uae;ol.exports.default=ol.exports,ol.exports.__esModule=!0});var B5=v((d1e,cl)=\u003e{function $ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}cl.exports=$ae;cl.exports.default=cl.exports,cl.exports.__esModule=!0});var ll=v((f1e,ul)=\u003e{var Xae=V5(),Yae=L5(),Hae=V_(),Zae=B5();function Kae(n){return Xae(n)||Yae(n)||Hae(n)||Zae()}ul.exports=Kae;ul.exports.default=ul.exports,ul.exports.__esModule=!0});var K5=v(lc=\u003e{\"use strict\";Object.defineProperty(lc,\"__esModule\",{value:!0});function z5(n){return n\u0026\u0026typeof n==\"object\"\u0026\u0026\"default\"in n?n.default:n}var rf=z5(h_()),Qae=z5(ll()),pl=\"\",L_=\"\",G5=\"\",U5=\"\",Jae=rf\u0026\u0026\"ontouchstart\"in document.documentElement;if(rf){af={Moz:\"-moz-\",ms:\"-ms-\",O:\"-o-\",Webkit:\"-webkit-\"},$5=document.createElement(\"p\"),sf=$5.style,X5=\"Transform\";for(of in af)if(of+X5 in sf){pl=of,L_=af[of];break}pl===\"Webkit\"\u0026\u0026\"msHyphens\"in sf\u0026\u0026(pl=\"ms\",L_=af.ms,U5=\"edge\"),pl===\"Webkit\"\u0026\u0026\"-apple-trailing-word\"in sf\u0026\u0026(G5=\"apple\")}var af,$5,sf,X5,of,tt={js:pl,css:L_,vendor:G5,browser:U5,isTouch:Jae};function ese(n){return n[1]===\"-\"||tt.js===\"ms\"?n:\"@\"+tt.css+\"keyframes\"+n.substr(10)}var tse={noPrefill:[\"appearance\"],supportedProperty:function(e){return e!==\"appearance\"?!1:tt.js===\"ms\"?\"-webkit-\"+e:tt.css+e}},nse={noPrefill:[\"color-adjust\"],supportedProperty:function(e){return e!==\"color-adjust\"?!1:tt.js===\"Webkit\"?tt.css+\"print-\"+e:e}},rse=/[-\\s]+(.)?/g;function ase(n,e){return e?e.toUpperCase():\"\"}function W_(n){return n.replace(rse,ase)}function Bs(n){return W_(\"-\"+n)}var sse={noPrefill:[\"mask\"],supportedProperty:function(e,a){if(!/^mask/.test(e))return!1;if(tt.js===\"Webkit\"){var s=\"mask-image\";if(W_(s)in a)return e;if(tt.js+Bs(s)in a)return tt.css+e}return e}},ise={noPrefill:[\"text-orientation\"],supportedProperty:function(e){return e!==\"text-orientation\"?!1:tt.vendor===\"apple\"\u0026\u0026!tt.isTouch?tt.css+e:e}},ose={noPrefill:[\"transform\"],supportedProperty:function(e,a,s){return e!==\"transform\"?!1:s.transform?e:tt.css+e}},cse={noPrefill:[\"transition\"],supportedProperty:function(e,a,s){return e!==\"transition\"?!1:s.transition?e:tt.css+e}},use={noPrefill:[\"writing-mode\"],supportedProperty:function(e){return e!==\"writing-mode\"?!1:tt.js===\"Webkit\"||tt.js===\"ms\"\u0026\u0026tt.browser!==\"edge\"?tt.css+e:e}},lse={noPrefill:[\"user-select\"],supportedProperty:function(e){return e!==\"user-select\"?!1:tt.js===\"Moz\"||tt.js===\"ms\"||tt.vendor===\"apple\"?tt.css+e:e}},pse={supportedProperty:function(e,a){if(!/^break-/.test(e))return!1;if(tt.js===\"Webkit\"){var s=\"WebkitColumn\"+Bs(e);return s in a?tt.css+\"column-\"+e:!1}if(tt.js===\"Moz\"){var o=\"page\"+Bs(e);return o in a?\"page-\"+e:!1}return!1}},hse={supportedProperty:function(e,a){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(tt.js===\"Moz\")return e;var s=e.replace(\"-inline\",\"\");return tt.js+Bs(s)in a?tt.css+s:!1}},dse={supportedProperty:function(e,a){return W_(e)in a?e:!1}},fse={supportedProperty:function(e,a){var s=Bs(e);return e[0]===\"-\"||e[0]===\"-\"\u0026\u0026e[1]===\"-\"?e:tt.js+s in a?tt.css+e:tt.js!==\"Webkit\"\u0026\u0026\"Webkit\"+s in a?\"-webkit-\"+e:!1}},mse={supportedProperty:function(e){return e.substring(0,11)!==\"scroll-snap\"?!1:tt.js===\"ms\"?\"\"+tt.css+e:e}},vse={supportedProperty:function(e){return e!==\"overscroll-behavior\"?!1:tt.js===\"ms\"?tt.css+\"scroll-chaining\":e}},gse={\"flex-grow\":\"flex-positive\",\"flex-shrink\":\"flex-negative\",\"flex-basis\":\"flex-preferred-size\",\"justify-content\":\"flex-pack\",order:\"flex-order\",\"align-items\":\"flex-align\",\"align-content\":\"flex-line-pack\"},yse={supportedProperty:function(e,a){var s=gse[e];return s\u0026\u0026tt.js+Bs(s)in a?tt.css+s:!1}},Y5={flex:\"box-flex\",\"flex-grow\":\"box-flex\",\"flex-direction\":[\"box-orient\",\"box-direction\"],order:\"box-ordinal-group\",\"align-items\":\"box-align\",\"flex-flow\":[\"box-orient\",\"box-direction\"],\"justify-content\":\"box-pack\"},_se=Object.keys(Y5),bse=function(e){return tt.css+e},kse={supportedProperty:function(e,a,s){var o=s.multiple;if(_se.indexOf(e)\u003e-1){var u=Y5[e];if(!Array.isArray(u))return tt.js+Bs(u)in a?tt.css+u:!1;if(!o)return!1;for(var h=0;h\u003cu.length;h++)if(!(tt.js+Bs(u[0])in a))return!1;return u.map(bse)}return!1}},H5=[tse,nse,sse,ise,ose,cse,use,lse,pse,hse,dse,fse,mse,vse,yse,kse],Z5=H5.filter(function(n){return n.supportedProperty}).map(function(n){return n.supportedProperty}),Nse=H5.filter(function(n){return n.noPrefill}).reduce(function(n,e){return n.push.apply(n,Qae(e.noPrefill)),n},[]),hl,Ai={};if(rf){hl=document.createElement(\"p\"),cf=window.getComputedStyle(document.documentElement,\"\");for(uf in cf)isNaN(uf)||(Ai[cf[uf]]=cf[uf]);Nse.forEach(function(n){return delete Ai[n]})}var cf,uf;function B_(n,e){if(e===void 0\u0026\u0026(e={}),!hl)return n;if(Ai[n]!=null)return Ai[n];(n===\"transition\"||n===\"transform\")\u0026\u0026(e[n]=n in hl.style);for(var a=0;a\u003cZ5.length\u0026\u0026(Ai[n]=Z5[a](n,hl.style,e),!Ai[n]);a++);try{hl.style[n]=\"\"}catch(s){return!1}return Ai[n]}var uc={},xse={transition:1,\"transition-property\":1,\"-webkit-transition\":1,\"-webkit-transition-property\":1},wse=/(^\\s*[\\w-]+)|, (\\s*[\\w-]+)(?![^()]*\\))/g,zs;function qse(n,e,a){if(e===\"var\")return\"var\";if(e===\"all\")return\"all\";if(a===\"all\")return\", all\";var s=e?B_(e):\", \"+B_(a);return s||e||a}rf\u0026\u0026(zs=document.createElement(\"p\"));function Tse(n,e){var a=e;if(!zs||n===\"content\")return e;if(typeof a!=\"string\"||!isNaN(parseInt(a,10)))return a;var s=n+a;if(uc[s]!=null)return uc[s];try{zs.style[n]=a}catch(o){return uc[s]=!1,!1}if(xse[n])a=a.replace(wse,qse);else if(zs.style[n]===\"\"\u0026\u0026(a=tt.css+a,a===\"-ms-flex\"\u0026\u0026(zs.style[n]=\"-ms-flexbox\"),zs.style[n]=a,zs.style[n]===\"\"))return uc[s]=!1,!1;return zs.style[n]=\"\",uc[s]=a,uc[s]}lc.prefix=tt;lc.supportedKeyframes=ese;lc.supportedProperty=B_;lc.supportedValue=Tse});var J5=v(z_=\u003e{\"use strict\";Object.defineProperty(z_,\"__esModule\",{value:!0});var lf=K5(),Q5=Ls();function Sse(){function n(o){if(o.type===\"keyframes\"){var u=o;u.at=lf.supportedKeyframes(u.at)}}function e(o){for(var u in o){var h=o[u];if(u===\"fallbacks\"\u0026\u0026Array.isArray(h)){o[u]=h.map(e);continue}var d=!1,g=lf.supportedProperty(u);g\u0026\u0026g!==u\u0026\u0026(d=!0);var _=!1,N=lf.supportedValue(g,Q5.toCssValue(h));N\u0026\u0026N!==h\u0026\u0026(_=!0),(d||_)\u0026\u0026(d\u0026\u0026delete o[u],o[g||u]=N||h)}return o}function a(o,u){return u.type!==\"style\"?o:e(o)}function s(o,u){return lf.supportedValue(u,Q5.toCssValue(o))||o}return{onProcessRule:n,onProcessStyle:a,onChangeValue:s}}z_.default=Sse});var eR=v(G_=\u003e{\"use strict\";Object.defineProperty(G_,\"__esModule\",{value:!0});function Mse(){var n=function(a,s){return a.length===s.length?a\u003es?1:-1:a.length-s.length};return{onProcessStyle:function(a,s){if(s.type!==\"style\")return a;for(var o={},u=Object.keys(a).sort(n),h=0;h\u003cu.length;h++)o[u[h]]=a[u[h]];return o}}}G_.default=Mse});var tR=v(U_=\u003e{\"use strict\";var Ri=Se();Object.defineProperty(U_,\"__esModule\",{value:!0});U_.default=Dse;var Pse=Ri(M5()),Ose=Ri(O5()),Cse=Ri(A5()),Ase=Ri(D5()),Rse=Ri(F5()),Ese=Ri(J5()),jse=Ri(eR());function Dse(){return{plugins:[(0,Pse.default)(),(0,Ose.default)(),(0,Cse.default)(),(0,Ase.default)(),(0,Rse.default)(),typeof window==\"undefined\"?null:(0,Ese.default)(),(0,jse.default)()]}}});var X_=v($_=\u003e{\"use strict\";var Ise=Se();Object.defineProperty($_,\"__esModule\",{value:!0});Object.defineProperty($_,\"default\",{enumerable:!0,get:function(){return Fse.default}});var Fse=Ise(tR())});var nR=v(Y_=\u003e{\"use strict\";var Vse=Se();Object.defineProperty(Y_,\"__esModule\",{value:!0});Y_.default=Wse;var Lse=Vse(kt()),b1e=sn();function Wse(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.baseClasses,a=n.newClasses,s=n.Component;if(!a)return e;var o=(0,Lse.default)({},e);return Object.keys(a).forEach(function(u){a[u]\u0026\u0026(o[u]=\"\".concat(e[u],\" \").concat(a[u]))}),o}});var Z_=v(H_=\u003e{\"use strict\";var Bse=Se();Object.defineProperty(H_,\"__esModule\",{value:!0});Object.defineProperty(H_,\"default\",{enumerable:!0,get:function(){return zse.default}});var zse=Bse(nR())});var rR=v(pf=\u003e{\"use strict\";Object.defineProperty(pf,\"__esModule\",{value:!0});pf.default=void 0;var Gse={set:function(e,a,s,o){var u=e.get(a);u||(u=new Map,e.set(a,u)),u.set(s,o)},get:function(e,a,s){var o=e.get(a);return o?o.get(s):void 0},delete:function(e,a,s){var o=e.get(a);o.delete(s)}},Use=Gse;pf.default=Use});var K_=v(hf=\u003e{\"use strict\";var $se=Se();Object.defineProperty(hf,\"__esModule\",{value:!0});hf.default=void 0;var Xse=$se(ct()),Yse=Xse.default.createContext(null),Hse=Yse;hf.default=Hse});var sR=v(Q_=\u003e{\"use strict\";var aR=Se();Object.defineProperty(Q_,\"__esModule\",{value:!0});Q_.default=Qse;var Zse=aR(ct()),Kse=aR(K_());function Qse(){var n=Zse.default.useContext(Kse.default);return n}});var pc=v(J_=\u003e{\"use strict\";var Jse=Se();Object.defineProperty(J_,\"__esModule\",{value:!0});Object.defineProperty(J_,\"default\",{enumerable:!0,get:function(){return eie.default}});var eie=Jse(sR())});var uR=v(Ei=\u003e{\"use strict\";var hc=Se();Object.defineProperty(Ei,\"__esModule\",{value:!0});Ei.default=oie;Ei.StylesContext=Ei.sheetsManager=void 0;var tie=hc(kt()),nie=hc(Vn()),e0=hc(ct()),S1e=hc(Wt()),M1e=sn(),rie=hc(Zd()),iR=Ls(),oR=hc(X_()),aie=(0,iR.create)((0,oR.default)()),sie=(0,rie.default)(),cR=new Map;Ei.sheetsManager=cR;var iie={disableGeneration:!1,generateClassName:sie,jss:aie,sheetsCache:null,sheetsManager:cR,sheetsRegistry:null},t0=e0.default.createContext(iie);Ei.StylesContext=t0;var df;function oie(n){var e=n.children,a=n.injectFirst,s=a===void 0?!1:a,o=n.disableGeneration,u=o===void 0?!1:o,h=(0,nie.default)(n,[\"children\",\"injectFirst\",\"disableGeneration\"]),d=e0.default.useContext(t0),g=(0,tie.default)({},d,{disableGeneration:u},h);if(!g.jss.options.insertionPoint\u0026\u0026s\u0026\u0026typeof window!=\"undefined\"){if(!df){var _=document.head;df=document.createComment(\"mui-inject-first\"),_.insertBefore(df,_.firstChild)}g.jss=(0,iR.create)({plugins:(0,oR.default)().plugins,insertionPoint:df})}return e0.default.createElement(t0.Provider,{value:g},e)}});var mf=v(ff=\u003e{\"use strict\";var cie=an();Object.defineProperty(ff,\"__esModule\",{value:!0});var uie={};Object.defineProperty(ff,\"default\",{enumerable:!0,get:function(){return n0.default}});var n0=cie(uR());Object.keys(n0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(uie,n)||Object.defineProperty(ff,n,{enumerable:!0,get:function(){return n0[n]}})})});var pR=v(r0=\u003e{\"use strict\";Object.defineProperty(r0,\"__esModule\",{value:!0});r0.increment=lie;var lR=-1e9;function lie(){return lR+=1,lR}});var a0=v(vf=\u003e{\"use strict\";Object.defineProperty(vf,\"__esModule\",{value:!0});vf.default=void 0;var pie={},hie=pie;vf.default=hie});var hR=v(i0=\u003e{\"use strict\";var s0=Se();Object.defineProperty(i0,\"__esModule\",{value:!0});i0.default=mie;var die=s0(kt()),R1e=s0(sc()),fie=sn(),E1e=s0(a0());function mie(n){var e=typeof n==\"function\";return{create:function(s,o){var u;try{u=e?n(s):n}catch(g){throw g}if(!o||!s.overrides||!s.overrides[o])return u;var h=s.overrides[o],d=(0,die.default)({},u);return Object.keys(h).forEach(function(g){d[g]=(0,fie.deepmerge)(d[g],h[g])}),d},options:{}}}});var dR=v(o0=\u003e{\"use strict\";var vie=Se();Object.defineProperty(o0,\"__esModule\",{value:!0});Object.defineProperty(o0,\"default\",{enumerable:!0,get:function(){return gie.default}});var gie=vie(hR())});var mR=v(c0=\u003e{\"use strict\";var Gs=Se();Object.defineProperty(c0,\"__esModule\",{value:!0});c0.default=Oie;var yie=Gs(Vn()),gf=Gs(kt()),ji=Gs(ct()),_ie=Ls(),fR=Gs(Z_()),dc=Gs(rR()),bie=Gs(pc()),kie=mf(),Nie=pR(),xie=Gs(dR()),wie=Gs(a0());function qie(n,e,a){var s=n.state,o=n.stylesOptions;if(o.disableGeneration)return e||{};s.cacheClasses||(s.cacheClasses={value:null,lastProp:null,lastJSS:{}});var u=!1;return s.classes!==s.cacheClasses.lastJSS\u0026\u0026(s.cacheClasses.lastJSS=s.classes,u=!0),e!==s.cacheClasses.lastProp\u0026\u0026(s.cacheClasses.lastProp=e,u=!0),u\u0026\u0026(s.cacheClasses.value=(0,fR.default)({baseClasses:s.cacheClasses.lastJSS,newClasses:e,Component:a})),s.cacheClasses.value}function Tie(n,e){var a=n.state,s=n.theme,o=n.stylesOptions,u=n.stylesCreator,h=n.name;if(!o.disableGeneration){var d=dc.default.get(o.sheetsManager,u,s);d||(d={refs:0,staticSheet:null,dynamicStyles:null},dc.default.set(o.sheetsManager,u,s,d));var g=(0,gf.default)({},u.options,o,{theme:s,flip:typeof o.flip==\"boolean\"?o.flip:s.direction===\"rtl\"});g.generateId=g.serverGenerateClassName||g.generateClassName;var _=o.sheetsRegistry;if(d.refs===0){var N;o.sheetsCache\u0026\u0026(N=dc.default.get(o.sheetsCache,u,s));var k=u.create(s,h);N||(N=o.jss.createStyleSheet(k,(0,gf.default)({link:!1},g)),N.attach(),o.sheetsCache\u0026\u0026dc.default.set(o.sheetsCache,u,s,N)),_\u0026\u0026_.add(N),d.staticSheet=N,d.dynamicStyles=(0,_ie.getDynamicStyles)(k)}if(d.dynamicStyles){var T=o.jss.createStyleSheet(d.dynamicStyles,(0,gf.default)({link:!0},g));T.update(e),T.attach(),a.dynamicSheet=T,a.classes=(0,fR.default)({baseClasses:d.staticSheet.classes,newClasses:T.classes}),_\u0026\u0026_.add(T)}else a.classes=d.staticSheet.classes;d.refs+=1}}function Sie(n,e){var a=n.state;a.dynamicSheet\u0026\u0026a.dynamicSheet.update(e)}function Mie(n){var e=n.state,a=n.theme,s=n.stylesOptions,o=n.stylesCreator;if(!s.disableGeneration){var u=dc.default.get(s.sheetsManager,o,a);u.refs-=1;var h=s.sheetsRegistry;u.refs===0\u0026\u0026(dc.default.delete(s.sheetsManager,o,a),s.jss.removeStyleSheet(u.staticSheet),h\u0026\u0026h.remove(u.staticSheet)),e.dynamicSheet\u0026\u0026(s.jss.removeStyleSheet(e.dynamicSheet),h\u0026\u0026h.remove(e.dynamicSheet))}}function Pie(n,e){var a=ji.default.useRef([]),s,o=ji.default.useMemo(function(){return{}},e);a.current!==o\u0026\u0026(a.current=o,s=n()),ji.default.useEffect(function(){return function(){s\u0026\u0026s()}},[o])}function Oie(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},a=e.name,s=e.classNamePrefix,o=e.Component,u=e.defaultTheme,h=u===void 0?wie.default:u,d=(0,yie.default)(e,[\"name\",\"classNamePrefix\",\"Component\",\"defaultTheme\"]),g=(0,xie.default)(n),_=a||s||\"makeStyles\";g.options={index:(0,Nie.increment)(),name:a,meta:_,classNamePrefix:_};var N=function(){var T=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},L=(0,bie.default)()||h,P=(0,gf.default)({},ji.default.useContext(kie.StylesContext),d),W=ji.default.useRef(),K=ji.default.useRef();Pie(function(){var H={name:a,state:{},stylesCreator:g,stylesOptions:P,theme:L};return Tie(H,T),K.current=!1,W.current=H,function(){Mie(H)}},[L,g]),ji.default.useEffect(function(){K.current\u0026\u0026Sie(W.current,T),K.current=!0});var J=qie(W.current,T.classes,o);return J};return N}});var yf=v(u0=\u003e{\"use strict\";var Cie=Se();Object.defineProperty(u0,\"__esModule\",{value:!0});Object.defineProperty(u0,\"default\",{enumerable:!0,get:function(){return Aie.default}});var Aie=Cie(mR())});var vR=v((V1e,dl)=\u003e{function Rie(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")}dl.exports=Rie;dl.exports.default=dl.exports,dl.exports.__esModule=!0});var _R=v(_f=\u003e{\"use strict\";var fc=Se();Object.defineProperty(_f,\"__esModule\",{value:!0});_f.default=void 0;var gR=fc(kt()),Eie=fc(vR()),jie=fc(d_()),yR=fc(ct()),Die=Ls(),Iie=fc(mf()),Fie=fc(Zd()),Vie=function(){function n(){var e=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{};(0,Eie.default)(this,n),this.options=e}return(0,jie.default)(n,[{key:\"collect\",value:function(a){var s=new Map;this.sheetsRegistry=new Die.SheetsRegistry;var o=(0,Fie.default)();return yR.default.createElement(Iie.default,(0,gR.default)({sheetsManager:s,serverGenerateClassName:o,sheetsRegistry:this.sheetsRegistry},this.options),a)}},{key:\"toString\",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():\"\"}},{key:\"getStyleElement\",value:function(a){return yR.default.createElement(\"style\",(0,gR.default)({id:\"jss-server-side\",key:\"jss-server-side\",dangerouslySetInnerHTML:{__html:this.toString()}},a))}}]),n}();_f.default=Vie});var bR=v(l0=\u003e{\"use strict\";var Lie=Se();Object.defineProperty(l0,\"__esModule\",{value:!0});Object.defineProperty(l0,\"default\",{enumerable:!0,get:function(){return Wie.default}});var Wie=Lie(_R())});var bf=v((B1e,TR)=\u003e{\"use strict\";var p0=t_(),Bie={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},zie={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Gie={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},h0={};h0[p0.ForwardRef]=Gie;h0[p0.Memo]=kR;function NR(n){return p0.isMemo(n)?kR:h0[n.$$typeof]||Bie}var Uie=Object.defineProperty,$ie=Object.getOwnPropertyNames,xR=Object.getOwnPropertySymbols,Xie=Object.getOwnPropertyDescriptor,Yie=Object.getPrototypeOf,wR=Object.prototype;function qR(n,e,a){if(typeof e!=\"string\"){if(wR){var s=Yie(e);s\u0026\u0026s!==wR\u0026\u0026qR(n,s,a)}var o=$ie(e);xR\u0026\u0026(o=o.concat(xR(e)));for(var u=NR(n),h=NR(e),d=0;d\u003co.length;++d){var g=o[d];if(!zie[g]\u0026\u0026!(a\u0026\u0026a[g])\u0026\u0026!(h\u0026\u0026h[g])\u0026\u0026!(u\u0026\u0026u[g])){var _=Xie(e,g);try{Uie(n,g,_)}catch(N){}}}}return n}TR.exports=qR});var PR=v(f0=\u003e{\"use strict\";var Di=Se();Object.defineProperty(f0,\"__esModule\",{value:!0});f0.default=Qie;var fl=Di(kt()),SR=Di(Vn()),d0=Di(ct()),MR=Di(Vs()),z1e=Di(Wt()),G1e=sn(),Hie=Di(bf()),Zie=Di(yf());function Kie(n,e){var a={};return Object.keys(n).forEach(function(s){e.indexOf(s)===-1\u0026\u0026(a[s]=n[s])}),a}function Qie(n){var e=function(s){var o=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},u=o.name,h=(0,SR.default)(o,[\"name\"]),d=u;if(!1\u0026\u0026!u)var g;var _=typeof s==\"function\"?function(P){return{root:function(K){return s((0,fl.default)({theme:P},K))}}}:{root:s},N=(0,Zie.default)(_,(0,fl.default)({Component:n,name:u||n.displayName,classNamePrefix:d},h)),k,T={};s.filterProps\u0026\u0026(k=s.filterProps,delete s.filterProps),s.propTypes\u0026\u0026(T=s.propTypes,delete s.propTypes);var L=d0.default.forwardRef(function(W,K){var J=W.children,H=W.className,oe=W.clone,G=W.component,R=(0,SR.default)(W,[\"children\",\"className\",\"clone\",\"component\"]),$=N(W),U=(0,MR.default)($.root,H),te=R;if(k\u0026\u0026(te=Kie(te,k)),oe)return d0.default.cloneElement(J,(0,fl.default)({className:(0,MR.default)(J.props.className,U)},te));if(typeof J==\"function\")return J((0,fl.default)({className:U},te));var se=G||n;return d0.default.createElement(se,(0,fl.default)({ref:K,className:U},te),J)});return(0,Hie.default)(L,n),L};return e}});var OR=v(m0=\u003e{\"use strict\";var Jie=Se();Object.defineProperty(m0,\"__esModule\",{value:!0});Object.defineProperty(m0,\"default\",{enumerable:!0,get:function(){return eoe.default}});var eoe=Jie(PR())});var AR=v(kf=\u003e{\"use strict\";var mc=Se();Object.defineProperty(kf,\"__esModule\",{value:!0});kf.default=void 0;var toe=mc(kt()),CR=mc(ct()),X1e=mc(Wt()),Y1e=sn(),noe=mc(K_()),roe=mc(pc()),aoe=mc(a_());function soe(n,e){if(typeof e==\"function\"){var a=e(n);return a}return(0,toe.default)({},n,e)}function ioe(n){var e=n.children,a=n.theme,s=(0,roe.default)(),o=CR.default.useMemo(function(){var u=s===null?a:soe(s,a);return u!=null\u0026\u0026(u[aoe.default]=s!==null),u},[a,s]);return CR.default.createElement(noe.default.Provider,{value:o},e)}var ooe=ioe;kf.default=ooe});var RR=v(v0=\u003e{\"use strict\";var coe=Se();Object.defineProperty(v0,\"__esModule\",{value:!0});Object.defineProperty(v0,\"default\",{enumerable:!0,get:function(){return uoe.default}});var uoe=coe(AR())});var DR=v(Nf=\u003e{\"use strict\";var Us=Se();Object.defineProperty(Nf,\"__esModule\",{value:!0});Nf.default=void 0;var g0=Us(kt()),ER=Us(Vn()),jR=Us(ct()),K1e=Us(Wt()),loe=Us(bf()),Q1e=sn(),poe=Us(yf()),hoe=Us(p_()),doe=Us(pc()),foe=function(e){var a=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{};return function(s){var o=a.defaultTheme,u=a.withTheme,h=u===void 0?!1:u,d=a.name,g=(0,ER.default)(a,[\"defaultTheme\",\"withTheme\",\"name\"]),_=d;if(!1\u0026\u0026!d)var N;var k=(0,poe.default)(e,(0,g0.default)({defaultTheme:o,Component:s,name:d||s.displayName,classNamePrefix:_},g)),T=jR.default.forwardRef(function(P,W){var K=P.classes,J=P.innerRef,H=(0,ER.default)(P,[\"classes\",\"innerRef\"]),oe=k((0,g0.default)({},s.defaultProps,P)),G,R=H;return(typeof d==\"string\"||h)\u0026\u0026(G=(0,doe.default)()||o,d\u0026\u0026(R=(0,hoe.default)({theme:G,name:d,props:H})),h\u0026\u0026!R.theme\u0026\u0026(R.theme=G)),jR.default.createElement(s,(0,g0.default)({ref:J||W,classes:oe},R))});return(0,loe.default)(T,s),T}},moe=foe;Nf.default=moe});var IR=v(y0=\u003e{\"use strict\";var voe=Se();Object.defineProperty(y0,\"__esModule\",{value:!0});Object.defineProperty(y0,\"default\",{enumerable:!0,get:function(){return goe.default}});var goe=voe(DR())});var LR=v(ml=\u003e{\"use strict\";var vc=Se();Object.defineProperty(ml,\"__esModule\",{value:!0});ml.withThemeCreator=VR;ml.default=void 0;var yoe=vc(kt()),_oe=vc(Vn()),FR=vc(ct()),txe=vc(Wt()),boe=vc(bf()),nxe=sn(),koe=vc(pc());function VR(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.defaultTheme,a=function(o){var u=FR.default.forwardRef(function(d,g){var _=d.innerRef,N=(0,_oe.default)(d,[\"innerRef\"]),k=(0,koe.default)()||e;return FR.default.createElement(o,(0,yoe.default)({theme:k,ref:_||g},N))});return(0,boe.default)(u,o),u};return a}var Noe=VR(),xoe=Noe;ml.default=xoe});var WR=v(xf=\u003e{\"use strict\";var woe=an();Object.defineProperty(xf,\"__esModule\",{value:!0});var qoe={};Object.defineProperty(xf,\"default\",{enumerable:!0,get:function(){return _0.default}});var _0=woe(LR());Object.keys(_0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(qoe,n)||Object.defineProperty(xf,n,{enumerable:!0,get:function(){return _0[n]}})})});var BR=v(xt=\u003e{\"use strict\";var Nr=an();Object.defineProperty(xt,\"__esModule\",{value:!0});var xr={createGenerateClassName:!0,createStyles:!0,getThemeProps:!0,jssPreset:!0,makeStyles:!0,mergeClasses:!0,ServerStyleSheets:!0,styled:!0,StylesProvider:!0,ThemeProvider:!0,useTheme:!0,withStyles:!0,withTheme:!0};Object.defineProperty(xt,\"createGenerateClassName\",{enumerable:!0,get:function(){return b0.default}});Object.defineProperty(xt,\"createStyles\",{enumerable:!0,get:function(){return k0.default}});Object.defineProperty(xt,\"getThemeProps\",{enumerable:!0,get:function(){return N0.default}});Object.defineProperty(xt,\"jssPreset\",{enumerable:!0,get:function(){return x0.default}});Object.defineProperty(xt,\"makeStyles\",{enumerable:!0,get:function(){return w0.default}});Object.defineProperty(xt,\"mergeClasses\",{enumerable:!0,get:function(){return q0.default}});Object.defineProperty(xt,\"ServerStyleSheets\",{enumerable:!0,get:function(){return T0.default}});Object.defineProperty(xt,\"styled\",{enumerable:!0,get:function(){return S0.default}});Object.defineProperty(xt,\"StylesProvider\",{enumerable:!0,get:function(){return M0.default}});Object.defineProperty(xt,\"ThemeProvider\",{enumerable:!0,get:function(){return P0.default}});Object.defineProperty(xt,\"useTheme\",{enumerable:!0,get:function(){return O0.default}});Object.defineProperty(xt,\"withStyles\",{enumerable:!0,get:function(){return C0.default}});Object.defineProperty(xt,\"withTheme\",{enumerable:!0,get:function(){return A0.default}});var sxe=sn(),b0=Nr(Zd());Object.keys(b0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return b0[n]}})});var k0=Nr(t5());Object.keys(k0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return k0[n]}})});var N0=Nr(p_());Object.keys(N0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return N0[n]}})});var x0=Nr(X_());Object.keys(x0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return x0[n]}})});var w0=Nr(yf());Object.keys(w0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return w0[n]}})});var q0=Nr(Z_());Object.keys(q0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return q0[n]}})});var T0=Nr(bR());Object.keys(T0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return T0[n]}})});var S0=Nr(OR());Object.keys(S0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return S0[n]}})});var M0=Nr(mf());Object.keys(M0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return M0[n]}})});var P0=Nr(RR());Object.keys(P0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return P0[n]}})});var O0=Nr(pc());Object.keys(O0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return O0[n]}})});var C0=Nr(IR());Object.keys(C0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return C0[n]}})});var A0=Nr(WR());Object.keys(A0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(xr,n)||Object.defineProperty(xt,n,{enumerable:!0,get:function(){return A0[n]}})})});var GR=v(vl=\u003e{\"use strict\";var zR=Se();Object.defineProperty(vl,\"__esModule\",{value:!0});vl.default=Moe;vl.keys=void 0;var Toe=zR(kt()),Soe=zR(Vn()),Qa=[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"];vl.keys=Qa;function Moe(n){var e=n.values,a=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,s=n.unit,o=s===void 0?\"px\":s,u=n.step,h=u===void 0?5:u,d=(0,Soe.default)(n,[\"values\",\"unit\",\"step\"]);function g(P){var W=typeof a[P]==\"number\"?a[P]:P;return\"@media (min-width:\".concat(W).concat(o,\")\")}function _(P){var W=Qa.indexOf(P)+1,K=a[Qa[W]];if(W===Qa.length)return g(\"xs\");var J=typeof K==\"number\"\u0026\u0026W\u003e0?K:P;return\"@media (max-width:\".concat(J-h/100).concat(o,\")\")}function N(P,W){var K=Qa.indexOf(W);return K===Qa.length-1?g(P):\"@media (min-width:\".concat(typeof a[P]==\"number\"?a[P]:P).concat(o,\") and \")+\"(max-width:\".concat((K!==-1\u0026\u0026typeof a[Qa[K+1]]==\"number\"?a[Qa[K+1]]:W)-h/100).concat(o,\")\")}function k(P){return N(P,P)}var T=!1;function L(P){return a[P]}return(0,Toe.default)({keys:Qa,values:a,up:g,down:_,between:N,only:k,width:L},d)}});var $R=v(j0=\u003e{\"use strict\";var UR=Se();Object.defineProperty(j0,\"__esModule\",{value:!0});j0.default=Poe;var R0=UR(Wu()),E0=UR(kt());function Poe(n,e,a){var s;return(0,E0.default)({gutters:function(){var u=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{};return console.warn([\"Material-UI: theme.mixins.gutters() is deprecated.\",\"You can use the source of the mixin directly:\",`\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      `].join(`\n`)),(0,E0.default)({paddingLeft:e(2),paddingRight:e(2)},u,(0,R0.default)({},n.up(\"sm\"),(0,E0.default)({paddingLeft:e(3),paddingRight:e(3)},u[n.up(\"sm\")])))},toolbar:(s={minHeight:56},(0,R0.default)(s,\"\".concat(n.up(\"xs\"),\" and (orientation: landscape)\"),{minHeight:48}),(0,R0.default)(s,n.up(\"sm\"),{minHeight:64}),s)},a)}});var XR=v(wf=\u003e{\"use strict\";Object.defineProperty(wf,\"__esModule\",{value:!0});wf.default=void 0;var Ooe={black:\"#000\",white:\"#fff\"},Coe=Ooe;wf.default=Coe});var YR=v(qf=\u003e{\"use strict\";Object.defineProperty(qf,\"__esModule\",{value:!0});qf.default=void 0;var Aoe={50:\"#fafafa\",100:\"#f5f5f5\",200:\"#eeeeee\",300:\"#e0e0e0\",400:\"#bdbdbd\",500:\"#9e9e9e\",600:\"#757575\",700:\"#616161\",800:\"#424242\",900:\"#212121\",A100:\"#d5d5d5\",A200:\"#aaaaaa\",A400:\"#303030\",A700:\"#616161\"},Roe=Aoe;qf.default=Roe});var HR=v(Tf=\u003e{\"use strict\";Object.defineProperty(Tf,\"__esModule\",{value:!0});Tf.default=void 0;var Eoe={50:\"#e8eaf6\",100:\"#c5cae9\",200:\"#9fa8da\",300:\"#7986cb\",400:\"#5c6bc0\",500:\"#3f51b5\",600:\"#3949ab\",700:\"#303f9f\",800:\"#283593\",900:\"#1a237e\",A100:\"#8c9eff\",A200:\"#536dfe\",A400:\"#3d5afe\",A700:\"#304ffe\"},joe=Eoe;Tf.default=joe});var ZR=v(Sf=\u003e{\"use strict\";Object.defineProperty(Sf,\"__esModule\",{value:!0});Sf.default=void 0;var Doe={50:\"#fce4ec\",100:\"#f8bbd0\",200:\"#f48fb1\",300:\"#f06292\",400:\"#ec407a\",500:\"#e91e63\",600:\"#d81b60\",700:\"#c2185b\",800:\"#ad1457\",900:\"#880e4f\",A100:\"#ff80ab\",A200:\"#ff4081\",A400:\"#f50057\",A700:\"#c51162\"},Ioe=Doe;Sf.default=Ioe});var KR=v(Mf=\u003e{\"use strict\";Object.defineProperty(Mf,\"__esModule\",{value:!0});Mf.default=void 0;var Foe={50:\"#ffebee\",100:\"#ffcdd2\",200:\"#ef9a9a\",300:\"#e57373\",400:\"#ef5350\",500:\"#f44336\",600:\"#e53935\",700:\"#d32f2f\",800:\"#c62828\",900:\"#b71c1c\",A100:\"#ff8a80\",A200:\"#ff5252\",A400:\"#ff1744\",A700:\"#d50000\"},Voe=Foe;Mf.default=Voe});var QR=v(Pf=\u003e{\"use strict\";Object.defineProperty(Pf,\"__esModule\",{value:!0});Pf.default=void 0;var Loe={50:\"#fff3e0\",100:\"#ffe0b2\",200:\"#ffcc80\",300:\"#ffb74d\",400:\"#ffa726\",500:\"#ff9800\",600:\"#fb8c00\",700:\"#f57c00\",800:\"#ef6c00\",900:\"#e65100\",A100:\"#ffd180\",A200:\"#ffab40\",A400:\"#ff9100\",A700:\"#ff6d00\"},Woe=Loe;Pf.default=Woe});var JR=v(Of=\u003e{\"use strict\";Object.defineProperty(Of,\"__esModule\",{value:!0});Of.default=void 0;var Boe={50:\"#e3f2fd\",100:\"#bbdefb\",200:\"#90caf9\",300:\"#64b5f6\",400:\"#42a5f5\",500:\"#2196f3\",600:\"#1e88e5\",700:\"#1976d2\",800:\"#1565c0\",900:\"#0d47a1\",A100:\"#82b1ff\",A200:\"#448aff\",A400:\"#2979ff\",A700:\"#2962ff\"},zoe=Boe;Of.default=zoe});var eE=v(Cf=\u003e{\"use strict\";Object.defineProperty(Cf,\"__esModule\",{value:!0});Cf.default=void 0;var Goe={50:\"#e8f5e9\",100:\"#c8e6c9\",200:\"#a5d6a7\",300:\"#81c784\",400:\"#66bb6a\",500:\"#4caf50\",600:\"#43a047\",700:\"#388e3c\",800:\"#2e7d32\",900:\"#1b5e20\",A100:\"#b9f6ca\",A200:\"#69f0ae\",A400:\"#00e676\",A700:\"#00c853\"},Uoe=Goe;Cf.default=Uoe});var iE=v(or=\u003e{\"use strict\";Object.defineProperty(or,\"__esModule\",{value:!0});or.hexToRgb=tE;or.rgbToHex=Yoe;or.hslToRgb=nE;or.decomposeColor=Ja;or.recomposeColor=gl;or.getContrastRatio=Hoe;or.getLuminance=Af;or.emphasize=Zoe;or.fade=Koe;or.alpha=rE;or.darken=aE;or.lighten=sE;var $oe=sn();function D0(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:0,a=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,n),a)}function tE(n){n=n.substr(1);var e=new RegExp(\".{1,\".concat(n.length\u003e=6?2:1,\"}\"),\"g\"),a=n.match(e);return a\u0026\u0026a[0].length===1\u0026\u0026(a=a.map(function(s){return s+s})),a?\"rgb\".concat(a.length===4?\"a\":\"\",\"(\").concat(a.map(function(s,o){return o\u003c3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3}).join(\", \"),\")\"):\"\"}function Xoe(n){var e=n.toString(16);return e.length===1?\"0\".concat(e):e}function Yoe(n){if(n.indexOf(\"#\")===0)return n;var e=Ja(n),a=e.values;return\"#\".concat(a.map(function(s){return Xoe(s)}).join(\"\"))}function nE(n){n=Ja(n);var e=n,a=e.values,s=a[0],o=a[1]/100,u=a[2]/100,h=o*Math.min(u,1-u),d=function(k){var T=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:(k+s/30)%12;return u-h*Math.max(Math.min(T-3,9-T,1),-1)},g=\"rgb\",_=[Math.round(d(0)*255),Math.round(d(8)*255),Math.round(d(4)*255)];return n.type===\"hsla\"\u0026\u0026(g+=\"a\",_.push(a[3])),gl({type:g,values:_})}function Ja(n){if(n.type)return n;if(n.charAt(0)===\"#\")return Ja(tE(n));var e=n.indexOf(\"(\"),a=n.substring(0,e);if([\"rgb\",\"rgba\",\"hsl\",\"hsla\"].indexOf(a)===-1)throw new Error((0,$oe.formatMuiErrorMessage)(3,n));var s=n.substring(e+1,n.length-1).split(\",\");return s=s.map(function(o){return parseFloat(o)}),{type:a,values:s}}function gl(n){var e=n.type,a=n.values;return e.indexOf(\"rgb\")!==-1?a=a.map(function(s,o){return o\u003c3?parseInt(s,10):s}):e.indexOf(\"hsl\")!==-1\u0026\u0026(a[1]=\"\".concat(a[1],\"%\"),a[2]=\"\".concat(a[2],\"%\")),\"\".concat(e,\"(\").concat(a.join(\", \"),\")\")}function Hoe(n,e){var a=Af(n),s=Af(e);return(Math.max(a,s)+.05)/(Math.min(a,s)+.05)}function Af(n){n=Ja(n);var e=n.type===\"hsl\"?Ja(nE(n)).values:n.values;return e=e.map(function(a){return a/=255,a\u003c=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Zoe(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:.15;return Af(n)\u003e.5?aE(n,e):sE(n,e)}function Koe(n,e){return rE(n,e)}function rE(n,e){return n=Ja(n),e=D0(e),(n.type===\"rgb\"||n.type===\"hsl\")\u0026\u0026(n.type+=\"a\"),n.values[3]=e,gl(n)}function aE(n,e){if(n=Ja(n),e=D0(e),n.type.indexOf(\"hsl\")!==-1)n.values[2]*=1-e;else if(n.type.indexOf(\"rgb\")!==-1)for(var a=0;a\u003c3;a+=1)n.values[a]*=1-e;return gl(n)}function sE(n,e){if(n=Ja(n),e=D0(e),n.type.indexOf(\"hsl\")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf(\"rgb\")!==-1)for(var a=0;a\u003c3;a+=1)n.values[a]+=(255-n.values[a])*e;return gl(n)}});var lE=v(Ii=\u003e{\"use strict\";var Pa=Se();Object.defineProperty(Ii,\"__esModule\",{value:!0});Ii.default=Joe;Ii.dark=Ii.light=void 0;var oE=Pa(kt()),Qoe=Pa(Vn()),cE=sn(),Rf=Pa(XR()),I0=Pa(YR()),F0=Pa(HR()),V0=Pa(ZR()),L0=Pa(KR()),W0=Pa(QR()),B0=Pa(JR()),z0=Pa(eE()),G0=iE(),U0={text:{primary:\"rgba(0, 0, 0, 0.87)\",secondary:\"rgba(0, 0, 0, 0.54)\",disabled:\"rgba(0, 0, 0, 0.38)\",hint:\"rgba(0, 0, 0, 0.38)\"},divider:\"rgba(0, 0, 0, 0.12)\",background:{paper:Rf.default.white,default:I0.default[50]},action:{active:\"rgba(0, 0, 0, 0.54)\",hover:\"rgba(0, 0, 0, 0.04)\",hoverOpacity:.04,selected:\"rgba(0, 0, 0, 0.08)\",selectedOpacity:.08,disabled:\"rgba(0, 0, 0, 0.26)\",disabledBackground:\"rgba(0, 0, 0, 0.12)\",disabledOpacity:.38,focus:\"rgba(0, 0, 0, 0.12)\",focusOpacity:.12,activatedOpacity:.12}};Ii.light=U0;var Ef={text:{primary:Rf.default.white,secondary:\"rgba(255, 255, 255, 0.7)\",disabled:\"rgba(255, 255, 255, 0.5)\",hint:\"rgba(255, 255, 255, 0.5)\",icon:\"rgba(255, 255, 255, 0.5)\"},divider:\"rgba(255, 255, 255, 0.12)\",background:{paper:I0.default[800],default:\"#303030\"},action:{active:Rf.default.white,hover:\"rgba(255, 255, 255, 0.08)\",hoverOpacity:.08,selected:\"rgba(255, 255, 255, 0.16)\",selectedOpacity:.16,disabled:\"rgba(255, 255, 255, 0.3)\",disabledBackground:\"rgba(255, 255, 255, 0.12)\",disabledOpacity:.38,focus:\"rgba(255, 255, 255, 0.12)\",focusOpacity:.12,activatedOpacity:.24}};Ii.dark=Ef;function uE(n,e,a,s){var o=s.light||s,u=s.dark||s*1.5;n[e]||(n.hasOwnProperty(a)?n[e]=n[a]:e===\"light\"?n.light=(0,G0.lighten)(n.main,o):e===\"dark\"\u0026\u0026(n.dark=(0,G0.darken)(n.main,u)))}function Joe(n){var e=n.primary,a=e===void 0?{light:F0.default[300],main:F0.default[500],dark:F0.default[700]}:e,s=n.secondary,o=s===void 0?{light:V0.default.A200,main:V0.default.A400,dark:V0.default.A700}:s,u=n.error,h=u===void 0?{light:L0.default[300],main:L0.default[500],dark:L0.default[700]}:u,d=n.warning,g=d===void 0?{light:W0.default[300],main:W0.default[500],dark:W0.default[700]}:d,_=n.info,N=_===void 0?{light:B0.default[300],main:B0.default[500],dark:B0.default[700]}:_,k=n.success,T=k===void 0?{light:z0.default[300],main:z0.default[500],dark:z0.default[700]}:k,L=n.type,P=L===void 0?\"light\":L,W=n.contrastThreshold,K=W===void 0?3:W,J=n.tonalOffset,H=J===void 0?.2:J,oe=(0,Qoe.default)(n,[\"primary\",\"secondary\",\"error\",\"warning\",\"info\",\"success\",\"type\",\"contrastThreshold\",\"tonalOffset\"]);function G(te){var se=(0,G0.getContrastRatio)(te,Ef.text.primary)\u003e=K?Ef.text.primary:U0.text.primary;if(!1)var be;return se}var R=function(se){var be=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:500,xe=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:300,Ae=arguments.length\u003e3\u0026\u0026arguments[3]!==void 0?arguments[3]:700;if(se=(0,oE.default)({},se),!se.main\u0026\u0026se[be]\u0026\u0026(se.main=se[be]),!se.main)throw new Error((0,cE.formatMuiErrorMessage)(4,be));if(typeof se.main!=\"string\")throw new Error(_formatMuiErrorMessage(5,JSON.stringify(se.main)));return uE(se,\"light\",xe,H),uE(se,\"dark\",Ae,H),se.contrastText||(se.contrastText=G(se.main)),se},$={dark:Ef,light:U0},U=(0,cE.deepmerge)((0,oE.default)({common:Rf.default,type:P,primary:R(a),secondary:R(o,\"A400\",\"A200\",\"A700\"),error:R(h),warning:R(g),info:R(N),success:R(T),grey:I0.default,contrastThreshold:K,getContrastText:G,augmentColor:R,tonalOffset:H},$[P]),oe);return U}});var vE=v($0=\u003e{\"use strict\";var pE=Se();Object.defineProperty($0,\"__esModule\",{value:!0});$0.default=rce;var hE=pE(kt()),ece=pE(Vn()),tce=sn();function dE(n){return Math.round(n*1e5)/1e5}function nce(n){return dE(n)}var fE={textTransform:\"uppercase\"},mE='\"Roboto\", \"Helvetica\", \"Arial\", sans-serif';function rce(n,e){var a=typeof e==\"function\"?e(n):e,s=a.fontFamily,o=s===void 0?mE:s,u=a.fontSize,h=u===void 0?14:u,d=a.fontWeightLight,g=d===void 0?300:d,_=a.fontWeightRegular,N=_===void 0?400:_,k=a.fontWeightMedium,T=k===void 0?500:k,L=a.fontWeightBold,P=L===void 0?700:L,W=a.htmlFontSize,K=W===void 0?16:W,J=a.allVariants,H=a.pxToRem,oe=(0,ece.default)(a,[\"fontFamily\",\"fontSize\",\"fontWeightLight\",\"fontWeightRegular\",\"fontWeightMedium\",\"fontWeightBold\",\"htmlFontSize\",\"allVariants\",\"pxToRem\"]),G=h/14,R=H||function(te){return\"\".concat(te/K*G,\"rem\")},$=function(se,be,xe,Ae,ze){return(0,hE.default)({fontFamily:o,fontWeight:se,fontSize:R(be),lineHeight:xe},o===mE?{letterSpacing:\"\".concat(dE(Ae/be),\"em\")}:{},ze,J)},U={h1:$(g,96,1.167,-1.5),h2:$(g,60,1.2,-.5),h3:$(N,48,1.167,0),h4:$(N,34,1.235,.25),h5:$(N,24,1.334,0),h6:$(T,20,1.6,.15),subtitle1:$(N,16,1.75,.15),subtitle2:$(T,14,1.57,.1),body1:$(N,16,1.5,.15),body2:$(N,14,1.43,.15),button:$(T,14,1.75,.4,fE),caption:$(N,12,1.66,.4),overline:$(N,12,2.66,1,fE)};return(0,tce.deepmerge)((0,hE.default)({htmlFontSize:K,pxToRem:R,round:nce,fontFamily:o,fontSize:h,fontWeightLight:g,fontWeightRegular:N,fontWeightMedium:T,fontWeightBold:P},U),oe,{clone:!1})}});var gE=v(jf=\u003e{\"use strict\";Object.defineProperty(jf,\"__esModule\",{value:!0});jf.default=void 0;var ace=.2,sce=.14,ice=.12;function Bt(){return[\"\".concat(arguments.length\u003c=0?void 0:arguments[0],\"px \").concat(arguments.length\u003c=1?void 0:arguments[1],\"px \").concat(arguments.length\u003c=2?void 0:arguments[2],\"px \").concat(arguments.length\u003c=3?void 0:arguments[3],\"px rgba(0,0,0,\").concat(ace,\")\"),\"\".concat(arguments.length\u003c=4?void 0:arguments[4],\"px \").concat(arguments.length\u003c=5?void 0:arguments[5],\"px \").concat(arguments.length\u003c=6?void 0:arguments[6],\"px \").concat(arguments.length\u003c=7?void 0:arguments[7],\"px rgba(0,0,0,\").concat(sce,\")\"),\"\".concat(arguments.length\u003c=8?void 0:arguments[8],\"px \").concat(arguments.length\u003c=9?void 0:arguments[9],\"px \").concat(arguments.length\u003c=10?void 0:arguments[10],\"px \").concat(arguments.length\u003c=11?void 0:arguments[11],\"px rgba(0,0,0,\").concat(ice,\")\")].join(\",\")}var oce=[\"none\",Bt(0,2,1,-1,0,1,1,0,0,1,3,0),Bt(0,3,1,-2,0,2,2,0,0,1,5,0),Bt(0,3,3,-2,0,3,4,0,0,1,8,0),Bt(0,2,4,-1,0,4,5,0,0,1,10,0),Bt(0,3,5,-1,0,5,8,0,0,1,14,0),Bt(0,3,5,-1,0,6,10,0,0,1,18,0),Bt(0,4,5,-2,0,7,10,1,0,2,16,1),Bt(0,5,5,-3,0,8,10,1,0,3,14,2),Bt(0,5,6,-3,0,9,12,1,0,3,16,2),Bt(0,6,6,-3,0,10,14,1,0,4,18,3),Bt(0,6,7,-4,0,11,15,1,0,4,20,3),Bt(0,7,8,-4,0,12,17,2,0,5,22,4),Bt(0,7,8,-4,0,13,19,2,0,5,24,4),Bt(0,7,9,-4,0,14,21,2,0,5,26,4),Bt(0,8,9,-5,0,15,22,2,0,6,28,5),Bt(0,8,10,-5,0,16,24,2,0,6,30,5),Bt(0,8,11,-5,0,17,26,2,0,6,32,5),Bt(0,9,11,-5,0,18,28,2,0,7,34,6),Bt(0,9,12,-6,0,19,29,2,0,7,36,6),Bt(0,10,13,-6,0,20,31,3,0,8,38,7),Bt(0,10,13,-6,0,21,33,3,0,8,40,7),Bt(0,10,14,-6,0,22,35,3,0,8,42,7),Bt(0,11,14,-7,0,23,36,3,0,9,44,8),Bt(0,11,15,-7,0,24,38,3,0,9,46,8)],cce=oce;jf.default=cce});var yE=v(Df=\u003e{\"use strict\";Object.defineProperty(Df,\"__esModule\",{value:!0});Df.default=void 0;var uce={borderRadius:4},lce=uce;Df.default=lce});var X0=v(If=\u003e{\"use strict\";var pce=Se();Object.defineProperty(If,\"__esModule\",{value:!0});If.default=void 0;var Nxe=pce(Wt()),hce={},dce=hce;If.default=dce});var yl=v(Ff=\u003e{\"use strict\";Object.defineProperty(Ff,\"__esModule\",{value:!0});Ff.default=void 0;var fce=sn();function mce(n,e){return e?(0,fce.deepmerge)(n,e,{clone:!1}):n}var vce=mce;Ff.default=vce});var Vf=v(bl=\u003e{\"use strict\";var _l=Se();Object.defineProperty(bl,\"__esModule\",{value:!0});bl.handleBreakpoints=Nce;bl.default=void 0;var gce=_l(ll()),yce=_l(kt()),_ce=_l(sc()),qxe=_l(Wt()),bce=_l(yl()),kce={xs:0,sm:600,md:960,lg:1280,xl:1920},Y0={keys:[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"],up:function(e){return\"@media (min-width:\".concat(kce[e],\"px)\")}};function Nce(n,e,a){if(Array.isArray(e)){var s=n.theme.breakpoints||Y0;return e.reduce(function(h,d,g){return h[s.up(s.keys[g])]=a(e[g]),h},{})}if((0,_ce.default)(e)===\"object\"){var o=n.theme.breakpoints||Y0;return Object.keys(e).reduce(function(h,d){return h[o.up(d)]=a(e[d]),h},{})}var u=a(e);return u}function xce(n){var e=function(s){var o=n(s),u=s.theme.breakpoints||Y0,h=u.keys.reduce(function(d,g){return s[g]\u0026\u0026(d=d||{},d[u.up(g)]=n((0,yce.default)({theme:s.theme},s[g]))),d},null);return(0,bce.default)(o,h)};return e.propTypes={},e.filterProps=[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"].concat((0,gce.default)(n.filterProps)),e}var wce=xce;bl.default=wce});var ta=v(Lf=\u003e{\"use strict\";var _E=Se();Object.defineProperty(Lf,\"__esModule\",{value:!0});Lf.default=void 0;var qce=_E(Wu()),Sxe=_E(X0()),Tce=Vf();function bE(n,e){return!e||typeof e!=\"string\"?null:e.split(\".\").reduce(function(a,s){return a\u0026\u0026a[s]?a[s]:null},n)}function Sce(n){var e=n.prop,a=n.cssProperty,s=a===void 0?n.prop:a,o=n.themeKey,u=n.transform,h=function(g){if(g[e]==null)return null;var _=g[e],N=g.theme,k=bE(N,o)||{},T=function(P){var W;return typeof k==\"function\"?W=k(P):Array.isArray(k)?W=k[P]||P:(W=bE(k,P)||P,u\u0026\u0026(W=u(W))),s===!1?W:(0,qce.default)({},s,W)};return(0,Tce.handleBreakpoints)(g,_,T)};return h.propTypes={},h.filterProps=[e],h}var Mce=Sce;Lf.default=Mce});var Oa=v(Wf=\u003e{\"use strict\";var kE=Se();Object.defineProperty(Wf,\"__esModule\",{value:!0});Wf.default=void 0;var Pxe=kE(kt()),Pce=kE(yl());function Oce(){for(var n=arguments.length,e=new Array(n),a=0;a\u003cn;a++)e[a]=arguments[a];var s=function(u){return e.reduce(function(h,d){var g=d(u);return g?(0,Pce.default)(h,g):h},{})};return s.propTypes={},s.filterProps=e.reduce(function(o,u){return o.concat(u.filterProps)},[]),s}var Cce=Oce;Wf.default=Cce});var OE=v(kn=\u003e{\"use strict\";var NE=Se();Object.defineProperty(kn,\"__esModule\",{value:!0});kn.default=kn.borderRadius=kn.borderColor=kn.borderLeft=kn.borderBottom=kn.borderRight=kn.borderTop=kn.border=void 0;var Fi=NE(ta()),Ace=NE(Oa());function kl(n){return typeof n!=\"number\"?n:\"\".concat(n,\"px solid\")}var xE=(0,Fi.default)({prop:\"border\",themeKey:\"borders\",transform:kl});kn.border=xE;var wE=(0,Fi.default)({prop:\"borderTop\",themeKey:\"borders\",transform:kl});kn.borderTop=wE;var qE=(0,Fi.default)({prop:\"borderRight\",themeKey:\"borders\",transform:kl});kn.borderRight=qE;var TE=(0,Fi.default)({prop:\"borderBottom\",themeKey:\"borders\",transform:kl});kn.borderBottom=TE;var SE=(0,Fi.default)({prop:\"borderLeft\",themeKey:\"borders\",transform:kl});kn.borderLeft=SE;var ME=(0,Fi.default)({prop:\"borderColor\",themeKey:\"palette\"});kn.borderColor=ME;var PE=(0,Fi.default)({prop:\"borderRadius\",themeKey:\"shape\"});kn.borderRadius=PE;var Rce=(0,Ace.default)(xE,wE,qE,TE,SE,ME,PE),Ece=Rce;kn.default=Ece});var EE=v(Nl=\u003e{\"use strict\";var Bf=Se();Object.defineProperty(Nl,\"__esModule\",{value:!0});Nl.css=Dce;Nl.default=void 0;var jce=Bf(ll()),zf=Bf(kt()),Axe=Bf(Wt()),Rxe=sn(),CE=Bf(yl());function AE(n,e){var a={};return Object.keys(n).forEach(function(s){e.indexOf(s)===-1\u0026\u0026(a[s]=n[s])}),a}function RE(n){var e=function(s){var o=n(s);return s.css?(0,zf.default)({},(0,CE.default)(o,n((0,zf.default)({theme:s.theme},s.css))),AE(s.css,[n.filterProps])):s.sx?(0,zf.default)({},(0,CE.default)(o,n((0,zf.default)({theme:s.theme},s.sx))),AE(s.sx,[n.filterProps])):o};return e.propTypes={},e.filterProps=[\"css\",\"sx\"].concat((0,jce.default)(n.filterProps)),e}function Dce(n){return RE(n)}var Ice=RE;Nl.default=Ice});var BE=v(Ln=\u003e{\"use strict\";var jE=Se();Object.defineProperty(Ln,\"__esModule\",{value:!0});Ln.default=Ln.whiteSpace=Ln.visibility=Ln.textOverflow=Ln.overflow=Ln.displayRaw=Ln.displayPrint=void 0;var gc=jE(ta()),Fce=jE(Oa()),DE=(0,gc.default)({prop:\"displayPrint\",cssProperty:!1,transform:function(e){return{\"@media print\":{display:e}}}});Ln.displayPrint=DE;var IE=(0,gc.default)({prop:\"display\"});Ln.displayRaw=IE;var FE=(0,gc.default)({prop:\"overflow\"});Ln.overflow=FE;var VE=(0,gc.default)({prop:\"textOverflow\"});Ln.textOverflow=VE;var LE=(0,gc.default)({prop:\"visibility\"});Ln.visibility=LE;var WE=(0,gc.default)({prop:\"whiteSpace\"});Ln.whiteSpace=WE;var Vce=(0,Fce.default)(DE,IE,FE,VE,LE,WE);Ln.default=Vce});var rj=v(bt=\u003e{\"use strict\";var zE=Se();Object.defineProperty(bt,\"__esModule\",{value:!0});bt.default=bt.justifySelf=bt.justifyItems=bt.alignSelf=bt.flexShrink=bt.flexGrow=bt.flex=bt.order=bt.alignContent=bt.alignItems=bt.justifyContent=bt.flexWrap=bt.flexDirection=bt.flexBasis=void 0;var wr=zE(ta()),Lce=zE(Oa()),GE=(0,wr.default)({prop:\"flexBasis\"});bt.flexBasis=GE;var UE=(0,wr.default)({prop:\"flexDirection\"});bt.flexDirection=UE;var $E=(0,wr.default)({prop:\"flexWrap\"});bt.flexWrap=$E;var XE=(0,wr.default)({prop:\"justifyContent\"});bt.justifyContent=XE;var YE=(0,wr.default)({prop:\"alignItems\"});bt.alignItems=YE;var HE=(0,wr.default)({prop:\"alignContent\"});bt.alignContent=HE;var ZE=(0,wr.default)({prop:\"order\"});bt.order=ZE;var KE=(0,wr.default)({prop:\"flex\"});bt.flex=KE;var QE=(0,wr.default)({prop:\"flexGrow\"});bt.flexGrow=QE;var JE=(0,wr.default)({prop:\"flexShrink\"});bt.flexShrink=JE;var ej=(0,wr.default)({prop:\"alignSelf\"});bt.alignSelf=ej;var tj=(0,wr.default)({prop:\"justifyItems\"});bt.justifyItems=tj;var nj=(0,wr.default)({prop:\"justifySelf\"});bt.justifySelf=nj;var Wce=(0,Lce.default)(GE,UE,$E,XE,YE,HE,ZE,KE,QE,JE,ej,tj,nj),Bce=Wce;bt.default=Bce});var gj=v(wt=\u003e{\"use strict\";var aj=Se();Object.defineProperty(wt,\"__esModule\",{value:!0});wt.default=wt.gridArea=wt.gridTemplateAreas=wt.gridTemplateRows=wt.gridTemplateColumns=wt.gridAutoRows=wt.gridAutoColumns=wt.gridAutoFlow=wt.gridRow=wt.gridColumn=wt.gridRowGap=wt.gridColumnGap=wt.gridGap=void 0;var Fr=aj(ta()),zce=aj(Oa()),sj=(0,Fr.default)({prop:\"gridGap\"});wt.gridGap=sj;var ij=(0,Fr.default)({prop:\"gridColumnGap\"});wt.gridColumnGap=ij;var oj=(0,Fr.default)({prop:\"gridRowGap\"});wt.gridRowGap=oj;var cj=(0,Fr.default)({prop:\"gridColumn\"});wt.gridColumn=cj;var uj=(0,Fr.default)({prop:\"gridRow\"});wt.gridRow=uj;var lj=(0,Fr.default)({prop:\"gridAutoFlow\"});wt.gridAutoFlow=lj;var pj=(0,Fr.default)({prop:\"gridAutoColumns\"});wt.gridAutoColumns=pj;var hj=(0,Fr.default)({prop:\"gridAutoRows\"});wt.gridAutoRows=hj;var dj=(0,Fr.default)({prop:\"gridTemplateColumns\"});wt.gridTemplateColumns=dj;var fj=(0,Fr.default)({prop:\"gridTemplateRows\"});wt.gridTemplateRows=fj;var mj=(0,Fr.default)({prop:\"gridTemplateAreas\"});wt.gridTemplateAreas=mj;var vj=(0,Fr.default)({prop:\"gridArea\"});wt.gridArea=vj;var Gce=(0,zce.default)(sj,ij,oj,cj,uj,lj,pj,hj,dj,fj,mj,vj),Uce=Gce;wt.default=Uce});var Nj=v($s=\u003e{\"use strict\";var yj=Se();Object.defineProperty($s,\"__esModule\",{value:!0});$s.default=$s.bgcolor=$s.color=void 0;var _j=yj(ta()),$ce=yj(Oa()),bj=(0,_j.default)({prop:\"color\",themeKey:\"palette\"});$s.color=bj;var kj=(0,_j.default)({prop:\"bgcolor\",cssProperty:\"backgroundColor\",themeKey:\"palette\"});$s.bgcolor=kj;var Xce=(0,$ce.default)(bj,kj),Yce=Xce;$s.default=Yce});var Oj=v(Wn=\u003e{\"use strict\";var xj=Se();Object.defineProperty(Wn,\"__esModule\",{value:!0});Wn.default=Wn.left=Wn.bottom=Wn.right=Wn.top=Wn.zIndex=Wn.position=void 0;var yc=xj(ta()),Hce=xj(Oa()),wj=(0,yc.default)({prop:\"position\"});Wn.position=wj;var qj=(0,yc.default)({prop:\"zIndex\",themeKey:\"zIndex\"});Wn.zIndex=qj;var Tj=(0,yc.default)({prop:\"top\"});Wn.top=Tj;var Sj=(0,yc.default)({prop:\"right\"});Wn.right=Sj;var Mj=(0,yc.default)({prop:\"bottom\"});Wn.bottom=Mj;var Pj=(0,yc.default)({prop:\"left\"});Wn.left=Pj;var Zce=(0,Hce.default)(wj,qj,Tj,Sj,Mj,Pj);Wn.default=Zce});var Cj=v(Gf=\u003e{\"use strict\";var Kce=Se();Object.defineProperty(Gf,\"__esModule\",{value:!0});Gf.default=void 0;var Qce=Kce(ta()),Jce=(0,Qce.default)({prop:\"boxShadow\",themeKey:\"shadows\"}),eue=Jce;Gf.default=eue});var Lj=v(Ht=\u003e{\"use strict\";var Aj=Se();Object.defineProperty(Ht,\"__esModule\",{value:!0});Ht.default=Ht.boxSizing=Ht.sizeHeight=Ht.sizeWidth=Ht.minHeight=Ht.maxHeight=Ht.height=Ht.minWidth=Ht.maxWidth=Ht.width=void 0;var es=Aj(ta()),tue=Aj(Oa());function Xs(n){return n\u003c=1?\"\".concat(n*100,\"%\"):n}var Rj=(0,es.default)({prop:\"width\",transform:Xs});Ht.width=Rj;var Ej=(0,es.default)({prop:\"maxWidth\",transform:Xs});Ht.maxWidth=Ej;var jj=(0,es.default)({prop:\"minWidth\",transform:Xs});Ht.minWidth=jj;var Dj=(0,es.default)({prop:\"height\",transform:Xs});Ht.height=Dj;var Ij=(0,es.default)({prop:\"maxHeight\",transform:Xs});Ht.maxHeight=Ij;var Fj=(0,es.default)({prop:\"minHeight\",transform:Xs});Ht.minHeight=Fj;var nue=(0,es.default)({prop:\"size\",cssProperty:\"width\",transform:Xs});Ht.sizeWidth=nue;var rue=(0,es.default)({prop:\"size\",cssProperty:\"height\",transform:Xs});Ht.sizeHeight=rue;var Vj=(0,es.default)({prop:\"boxSizing\"});Ht.boxSizing=Vj;var aue=(0,tue.default)(Rj,Ej,jj,Dj,Ij,Fj,Vj),sue=aue;Ht.default=sue});var Wj=v((Bxe,xl)=\u003e{function iue(n){if(Array.isArray(n))return n}xl.exports=iue;xl.exports.default=xl.exports,xl.exports.__esModule=!0});var Bj=v((zxe,wl)=\u003e{function oue(n,e){var a=n==null?null:typeof Symbol!=\"undefined\"\u0026\u0026n[Symbol.iterator]||n[\"@@iterator\"];if(a!=null){var s=[],o=!0,u=!1,h,d;try{for(a=a.call(n);!(o=(h=a.next()).done)\u0026\u0026(s.push(h.value),!(e\u0026\u0026s.length===e));o=!0);}catch(g){u=!0,d=g}finally{try{!o\u0026\u0026a.return!=null\u0026\u0026a.return()}finally{if(u)throw d}}return s}}wl.exports=oue;wl.exports.default=wl.exports,wl.exports.__esModule=!0});var zj=v((Gxe,ql)=\u003e{function cue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}ql.exports=cue;ql.exports.default=ql.exports,ql.exports.__esModule=!0});var Gj=v((Uxe,Tl)=\u003e{var uue=Wj(),lue=Bj(),pue=V_(),hue=zj();function due(n,e){return uue(n)||lue(n,e)||pue(n,e)||hue()}Tl.exports=due;Tl.exports.default=Tl.exports,Tl.exports.__esModule=!0});var Uj=v(H0=\u003e{\"use strict\";Object.defineProperty(H0,\"__esModule\",{value:!0});H0.default=fue;function fue(n){var e={};return function(a){return e[a]===void 0\u0026\u0026(e[a]=n(a)),e[a]}}});var Hj=v(Sl=\u003e{\"use strict\";var Uf=Se();Object.defineProperty(Sl,\"__esModule\",{value:!0});Sl.createUnarySpacing=Yj;Sl.default=void 0;var mue=Uf(Gj()),Xxe=Uf(X0()),vue=Vf(),gue=Uf(yl()),yue=Uf(Uj()),_ue={m:\"margin\",p:\"padding\"},bue={t:\"Top\",r:\"Right\",b:\"Bottom\",l:\"Left\",x:[\"Left\",\"Right\"],y:[\"Top\",\"Bottom\"]},$j={marginX:\"mx\",marginY:\"my\",paddingX:\"px\",paddingY:\"py\"},kue=(0,yue.default)(function(n){if(n.length\u003e2)if($j[n])n=$j[n];else return[n];var e=n.split(\"\"),a=(0,mue.default)(e,2),s=a[0],o=a[1],u=_ue[s],h=bue[o]||\"\";return Array.isArray(h)?h.map(function(d){return u+d}):[u+h]}),Xj=[\"m\",\"mt\",\"mr\",\"mb\",\"ml\",\"mx\",\"my\",\"p\",\"pt\",\"pr\",\"pb\",\"pl\",\"px\",\"py\",\"margin\",\"marginTop\",\"marginRight\",\"marginBottom\",\"marginLeft\",\"marginX\",\"marginY\",\"padding\",\"paddingTop\",\"paddingRight\",\"paddingBottom\",\"paddingLeft\",\"paddingX\",\"paddingY\"];function Yj(n){var e=n.spacing||8;return typeof e==\"number\"?function(a){return e*a}:Array.isArray(e)?function(a){return e[a]}:typeof e==\"function\"?e:function(){}}function Nue(n,e){if(typeof e==\"string\"||e==null)return e;var a=Math.abs(e),s=n(a);return e\u003e=0?s:typeof s==\"number\"?-s:\"-\".concat(s)}function xue(n,e){return function(a){return n.reduce(function(s,o){return s[o]=Nue(e,a),s},{})}}function Z0(n){var e=n.theme,a=Yj(e);return Object.keys(n).map(function(s){if(Xj.indexOf(s)===-1)return null;var o=kue(s),u=xue(o,a),h=n[s];return(0,vue.handleBreakpoints)(n,h,u)}).reduce(gue.default,{})}Z0.propTypes={};Z0.filterProps=Xj;var wue=Z0;Sl.default=wue});var aD=v(Nn=\u003e{\"use strict\";var Zj=Se();Object.defineProperty(Nn,\"__esModule\",{value:!0});Nn.default=Nn.textAlign=Nn.lineHeight=Nn.letterSpacing=Nn.fontWeight=Nn.fontStyle=Nn.fontSize=Nn.fontFamily=void 0;var Vi=Zj(ta()),que=Zj(Oa()),Kj=(0,Vi.default)({prop:\"fontFamily\",themeKey:\"typography\"});Nn.fontFamily=Kj;var Qj=(0,Vi.default)({prop:\"fontSize\",themeKey:\"typography\"});Nn.fontSize=Qj;var Jj=(0,Vi.default)({prop:\"fontStyle\",themeKey:\"typography\"});Nn.fontStyle=Jj;var eD=(0,Vi.default)({prop:\"fontWeight\",themeKey:\"typography\"});Nn.fontWeight=eD;var tD=(0,Vi.default)({prop:\"letterSpacing\"});Nn.letterSpacing=tD;var nD=(0,Vi.default)({prop:\"lineHeight\"});Nn.lineHeight=nD;var rD=(0,Vi.default)({prop:\"textAlign\"});Nn.textAlign=rD;var Tue=(0,que.default)(Kj,Qj,Jj,eD,tD,nD,rD),Sue=Tue;Nn.default=Sue});var sD=v(Dt=\u003e{\"use strict\";var Ml=Se(),ts=an();Object.defineProperty(Dt,\"__esModule\",{value:!0});var ns={borders:!0,breakpoints:!0,compose:!0,styleFunctionSx:!0,display:!0,flexbox:!0,grid:!0,palette:!0,positions:!0,shadows:!0,sizing:!0,spacing:!0,style:!0,typography:!0};Object.defineProperty(Dt,\"borders\",{enumerable:!0,get:function(){return K0.default}});Object.defineProperty(Dt,\"breakpoints\",{enumerable:!0,get:function(){return Mue.default}});Object.defineProperty(Dt,\"compose\",{enumerable:!0,get:function(){return Pue.default}});Object.defineProperty(Dt,\"styleFunctionSx\",{enumerable:!0,get:function(){return Q0.default}});Object.defineProperty(Dt,\"display\",{enumerable:!0,get:function(){return Oue.default}});Object.defineProperty(Dt,\"flexbox\",{enumerable:!0,get:function(){return J0.default}});Object.defineProperty(Dt,\"grid\",{enumerable:!0,get:function(){return eb.default}});Object.defineProperty(Dt,\"palette\",{enumerable:!0,get:function(){return tb.default}});Object.defineProperty(Dt,\"positions\",{enumerable:!0,get:function(){return nb.default}});Object.defineProperty(Dt,\"shadows\",{enumerable:!0,get:function(){return Cue.default}});Object.defineProperty(Dt,\"sizing\",{enumerable:!0,get:function(){return rb.default}});Object.defineProperty(Dt,\"spacing\",{enumerable:!0,get:function(){return ab.default}});Object.defineProperty(Dt,\"style\",{enumerable:!0,get:function(){return Aue.default}});Object.defineProperty(Dt,\"typography\",{enumerable:!0,get:function(){return sb.default}});var K0=ts(OE());Object.keys(K0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ns,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return K0[n]}})});var Mue=Ml(Vf()),Pue=Ml(Oa()),Q0=ts(EE());Object.keys(Q0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ns,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return Q0[n]}})});var Oue=Ml(BE()),J0=ts(rj());Object.keys(J0).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ns,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return J0[n]}})});var eb=ts(gj());Object.keys(eb).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ns,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return eb[n]}})});var tb=ts(Nj());Object.keys(tb).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ns,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return tb[n]}})});var nb=ts(Oj());Object.keys(nb).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ns,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return nb[n]}})});var Cue=Ml(Cj()),rb=ts(Lj());Object.keys(rb).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ns,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return rb[n]}})});var ab=ts(Hj());Object.keys(ab).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ns,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return ab[n]}})});var Aue=Ml(ta()),sb=ts(aD());Object.keys(sb).forEach(function(n){n===\"default\"||n===\"__esModule\"||Object.prototype.hasOwnProperty.call(ns,n)||Object.defineProperty(Dt,n,{enumerable:!0,get:function(){return sb[n]}})})});var iD=v(ib=\u003e{\"use strict\";Object.defineProperty(ib,\"__esModule\",{value:!0});ib.default=Eue;var Rue=sD();function Eue(){var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:8;if(n.mui)return n;var e=(0,Rue.createUnarySpacing)({spacing:n}),a=function(){for(var o=arguments.length,u=new Array(o),h=0;h\u003co;h++)u[h]=arguments[h];return u.length===0?e(1):u.length===1?e(u[0]):u.map(function(d){if(typeof d==\"string\")return d;var g=e(d);return typeof g==\"number\"?\"\".concat(g,\"px\"):g}).join(\" \")};return Object.defineProperty(a,\"unit\",{get:function(){return n}}),a.mui=!0,a}});var cD=v(Ys=\u003e{\"use strict\";var jue=Se();Object.defineProperty(Ys,\"__esModule\",{value:!0});Ys.default=Ys.duration=Ys.easing=void 0;var Due=jue(Vn()),ob={easeInOut:\"cubic-bezier(0.4, 0, 0.2, 1)\",easeOut:\"cubic-bezier(0.0, 0, 0.2, 1)\",easeIn:\"cubic-bezier(0.4, 0, 1, 1)\",sharp:\"cubic-bezier(0.4, 0, 0.6, 1)\"};Ys.easing=ob;var cb={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};Ys.duration=cb;function oD(n){return\"\".concat(Math.round(n),\"ms\")}var Iue={easing:ob,duration:cb,create:function(){var e=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:[\"all\"],a=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},s=a.duration,o=s===void 0?cb.standard:s,u=a.easing,h=u===void 0?ob.easeInOut:u,d=a.delay,g=d===void 0?0:d,_=(0,Due.default)(a,[\"duration\",\"easing\",\"delay\"]);if(!1)var N,k;return(Array.isArray(e)?e:[e]).map(function(T){return\"\".concat(T,\" \").concat(typeof o==\"string\"?o:oD(o),\" \").concat(h,\" \").concat(typeof g==\"string\"?g:oD(g))}).join(\",\")},getAutoHeightDuration:function(e){if(!e)return 0;var a=e/36;return Math.round((4+15*Math.pow(a,.25)+a/5)*10)}};Ys.default=Iue});var uD=v($f=\u003e{\"use strict\";Object.defineProperty($f,\"__esModule\",{value:!0});$f.default=void 0;var Fue={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Vue=Fue;$f.default=Vue});var hD=v(Pl=\u003e{\"use strict\";var na=Se();Object.defineProperty(Pl,\"__esModule\",{value:!0});Pl.createMuiTheme=Zue;Pl.default=void 0;var ewe=na(Wu()),Lue=na(Vn()),lD=sn(),Wue=na(GR()),Bue=na($R()),zue=na(lE()),Gue=na(vE()),Uue=na(gE()),$ue=na(yE()),Xue=na(iD()),Yue=na(cD()),Hue=na(uD());function pD(){for(var n=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},e=n.breakpoints,a=e===void 0?{}:e,s=n.mixins,o=s===void 0?{}:s,u=n.palette,h=u===void 0?{}:u,d=n.spacing,g=n.typography,_=g===void 0?{}:g,N=(0,Lue.default)(n,[\"breakpoints\",\"mixins\",\"palette\",\"spacing\",\"typography\"]),k=(0,zue.default)(h),T=(0,Wue.default)(a),L=(0,Xue.default)(d),P=(0,lD.deepmerge)({breakpoints:T,direction:\"ltr\",mixins:(0,Bue.default)(T,L,o),overrides:{},palette:k,props:{},shadows:Uue.default,typography:(0,Gue.default)(k,_),spacing:L,shape:$ue.default,transitions:Yue.default,zIndex:Hue.default},N),W=arguments.length,K=new Array(W\u003e1?W-1:0),J=1;J\u003cW;J++)K[J-1]=arguments[J];if(P=K.reduce(function(G,R){return(0,lD.deepmerge)(G,R)},P),!1)var H,oe;return P}function Zue(){return pD.apply(void 0,arguments)}var Kue=pD;Pl.default=Kue});var dD=v(Xf=\u003e{\"use strict\";var Que=Se();Object.defineProperty(Xf,\"__esModule\",{value:!0});Xf.default=void 0;var Jue=Que(hD()),ele=(0,Jue.default)(),tle=ele;Xf.default=tle});var _c=v(Yf=\u003e{\"use strict\";var fD=Se();Object.defineProperty(Yf,\"__esModule\",{value:!0});Yf.default=void 0;var nle=fD(kt()),rle=BR(),ale=fD(dD());function sle(n,e){return(0,rle.withStyles)(n,(0,nle.default)({defaultTheme:ale.default},e))}var ile=sle;Yf.default=ile});var Ol=v((awe,mD)=\u003e{mD.exports=ReactDOM});var lb=v(ub=\u003e{\"use strict\";Object.defineProperty(ub,\"__esModule\",{value:!0});ub.default=ole;function ole(n,e){typeof n==\"function\"?n(e):n\u0026\u0026(n.current=e)}});var hb=v(pb=\u003e{\"use strict\";var cle=Se(),ule=an();Object.defineProperty(pb,\"__esModule\",{value:!0});pb.default=ple;var lle=ule(ct()),vD=cle(lb());function ple(n,e){return lle.useMemo(function(){return n==null\u0026\u0026e==null?null:function(a){(0,vD.default)(n,a),(0,vD.default)(e,a)}},[n,e])}});var Zf=v(db=\u003e{\"use strict\";var hle=an();Object.defineProperty(db,\"__esModule\",{value:!0});db.default=fle;var Hf=hle(ct()),dle=typeof window!=\"undefined\"?Hf.useLayoutEffect:Hf.useEffect;function fle(n){var e=Hf.useRef(n);return dle(function(){e.current=n}),Hf.useCallback(function(){return e.current.apply(void 0,arguments)},[])}});var mb=v(fb=\u003e{\"use strict\";Object.defineProperty(fb,\"__esModule\",{value:!0});fb.default=mle;function mle(n,e){return function(){return null}}});var gb=v(Qf=\u003e{\"use strict\";var gD=an();Object.defineProperty(Qf,\"__esModule\",{value:!0});Qf.teardown=kle;Qf.default=wle;var vle=gD(ct()),gle=gD(Ol()),Kf=!0,vb=!1,yD=null,yle={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,\"datetime-local\":!0};function _le(n){var e=n.type,a=n.tagName;return!!(a===\"INPUT\"\u0026\u0026yle[e]\u0026\u0026!n.readOnly||a===\"TEXTAREA\"\u0026\u0026!n.readOnly||n.isContentEditable)}function _D(n){n.metaKey||n.altKey||n.ctrlKey||(Kf=!0)}function bc(){Kf=!1}function bD(){this.visibilityState===\"hidden\"\u0026\u0026vb\u0026\u0026(Kf=!0)}function ble(n){n.addEventListener(\"keydown\",_D,!0),n.addEventListener(\"mousedown\",bc,!0),n.addEventListener(\"pointerdown\",bc,!0),n.addEventListener(\"touchstart\",bc,!0),n.addEventListener(\"visibilitychange\",bD,!0)}function kle(n){n.removeEventListener(\"keydown\",_D,!0),n.removeEventListener(\"mousedown\",bc,!0),n.removeEventListener(\"pointerdown\",bc,!0),n.removeEventListener(\"touchstart\",bc,!0),n.removeEventListener(\"visibilitychange\",bD,!0)}function Nle(n){var e=n.target;try{return e.matches(\":focus-visible\")}catch(a){}return Kf||_le(e)}function xle(){vb=!0,window.clearTimeout(yD),yD=window.setTimeout(function(){vb=!1},100)}function wle(){var n=vle.useCallback(function(e){var a=gle.findDOMNode(e);a!=null\u0026\u0026ble(a.ownerDocument)},[]);return{isFocusVisible:Nle,onBlurVisible:xle,ref:n}}});var ND=v((Jf,kD)=\u003e{\"use strict\";Jf.__esModule=!0;Jf.default=qle;function qle(n,e){return n.classList?!!e\u0026\u0026n.classList.contains(e):(\" \"+(n.className.baseVal||n.className)+\" \").indexOf(\" \"+e+\" \")!==-1}kD.exports=Jf.default});var wD=v((em,xD)=\u003e{\"use strict\";var Tle=Se();em.__esModule=!0;em.default=Mle;var Sle=Tle(ND());function Mle(n,e){n.classList?n.classList.add(e):(0,Sle.default)(n,e)||(typeof n.className==\"string\"?n.className=n.className+\" \"+e:n.setAttribute(\"class\",(n.className\u0026\u0026n.className.baseVal||\"\")+\" \"+e))}xD.exports=em.default});var SD=v((tm,TD)=\u003e{\"use strict\";tm.__esModule=!0;tm.default=Ple;function qD(n,e){return n.replace(new RegExp(\"(^|\\\\s)\"+e+\"(?:\\\\s|$)\",\"g\"),\"$1\").replace(/\\s+/g,\" \").replace(/^\\s*|\\s*$/g,\"\")}function Ple(n,e){n.classList?n.classList.remove(e):typeof n.className==\"string\"?n.className=qD(n.className,e):n.setAttribute(\"class\",qD(n.className\u0026\u0026n.className.baseVal||\"\",e))}TD.exports=tm.default});var yb=v((Cl,MD)=\u003e{\"use strict\";Cl.__esModule=!0;Cl.default=void 0;var Ole={disabled:!1};Cl.default=Ole;MD.exports=Cl.default});var _b=v(kc=\u003e{\"use strict\";kc.__esModule=!0;kc.classNamesShape=kc.timeoutsShape=void 0;var lwe=Cle(Wt());function Cle(n){return n\u0026\u0026n.__esModule?n:{default:n}}var Ale=null;kc.timeoutsShape=Ale;var Rle=null;kc.classNamesShape=Rle});var nm=v((Al,PD)=\u003e{\"use strict\";Al.__esModule=!0;Al.default=void 0;var Ele=jle(ct());function jle(n){return n\u0026\u0026n.__esModule?n:{default:n}}var Dle=Ele.default.createContext(null);Al.default=Dle;PD.exports=Al.default});var sm=v(cr=\u003e{\"use strict\";cr.__esModule=!0;cr.default=cr.EXITING=cr.ENTERED=cr.ENTERING=cr.EXITED=cr.UNMOUNTED=void 0;var hwe=Rl(Wt()),rm=Rl(ct()),bb=Rl(Ol()),OD=Rl(yb()),dwe=_b(),CD=Rl(nm());function Rl(n){return n\u0026\u0026n.__esModule?n:{default:n}}function Ile(n,e){if(n==null)return{};var a={},s=Object.keys(n),o,u;for(u=0;u\u003cs.length;u++)o=s[u],!(e.indexOf(o)\u003e=0)\u0026\u0026(a[o]=n[o]);return a}function Fle(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Nc=\"unmounted\";cr.UNMOUNTED=Nc;var Hs=\"exited\";cr.EXITED=Hs;var Zs=\"entering\";cr.ENTERING=Zs;var Li=\"entered\";cr.ENTERED=Li;var am=\"exiting\";cr.EXITING=am;var rs=function(n){Fle(e,n);function e(s,o){var u;u=n.call(this,s,o)||this;var h=o,d=h\u0026\u0026!h.isMounting?s.enter:s.appear,g;return u.appearStatus=null,s.in?d?(g=Hs,u.appearStatus=Zs):g=Li:s.unmountOnExit||s.mountOnEnter?g=Nc:g=Hs,u.state={status:g},u.nextCallback=null,u}e.getDerivedStateFromProps=function(o,u){var h=o.in;return h\u0026\u0026u.status===Nc?{status:Hs}:null};var a=e.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(o){var u=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==Zs\u0026\u0026h!==Li\u0026\u0026(u=Zs):(h===Zs||h===Li)\u0026\u0026(u=am)}this.updateStatus(!1,u)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var o=this.props.timeout,u,h,d;return u=h=d=o,o!=null\u0026\u0026typeof o!=\"number\"\u0026\u0026(u=o.exit,h=o.enter,d=o.appear!==void 0?o.appear:h),{exit:u,enter:h,appear:d}},a.updateStatus=function(o,u){o===void 0\u0026\u0026(o=!1),u!==null?(this.cancelNextCallback(),u===Zs?this.performEnter(o):this.performExit()):this.props.unmountOnExit\u0026\u0026this.state.status===Hs\u0026\u0026this.setState({status:Nc})},a.performEnter=function(o){var u=this,h=this.props.enter,d=this.context?this.context.isMounting:o,g=this.props.nodeRef?[d]:[bb.default.findDOMNode(this),d],_=g[0],N=g[1],k=this.getTimeouts(),T=d?k.appear:k.enter;if(!o\u0026\u0026!h||OD.default.disabled){this.safeSetState({status:Li},function(){u.props.onEntered(_)});return}this.props.onEnter(_,N),this.safeSetState({status:Zs},function(){u.props.onEntering(_,N),u.onTransitionEnd(T,function(){u.safeSetState({status:Li},function(){u.props.onEntered(_,N)})})})},a.performExit=function(){var o=this,u=this.props.exit,h=this.getTimeouts(),d=this.props.nodeRef?void 0:bb.default.findDOMNode(this);if(!u||OD.default.disabled){this.safeSetState({status:Hs},function(){o.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:am},function(){o.props.onExiting(d),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:Hs},function(){o.props.onExited(d)})})})},a.cancelNextCallback=function(){this.nextCallback!==null\u0026\u0026(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},a.setNextCallback=function(o){var u=this,h=!0;return this.nextCallback=function(d){h\u0026\u0026(h=!1,u.nextCallback=null,o(d))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},a.onTransitionEnd=function(o,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:bb.default.findDOMNode(this),d=o==null\u0026\u0026!this.props.addEndListener;if(!h||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var g=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],_=g[0],N=g[1];this.props.addEndListener(_,N)}o!=null\u0026\u0026setTimeout(this.nextCallback,o)},a.render=function(){var o=this.state.status;if(o===Nc)return null;var u=this.props,h=u.children,d=u.in,g=u.mountOnEnter,_=u.unmountOnExit,N=u.appear,k=u.enter,T=u.exit,L=u.timeout,P=u.addEndListener,W=u.onEnter,K=u.onEntering,J=u.onEntered,H=u.onExit,oe=u.onExiting,G=u.onExited,R=u.nodeRef,$=Ile(u,[\"children\",\"in\",\"mountOnEnter\",\"unmountOnExit\",\"appear\",\"enter\",\"exit\",\"timeout\",\"addEndListener\",\"onEnter\",\"onEntering\",\"onEntered\",\"onExit\",\"onExiting\",\"onExited\",\"nodeRef\"]);return rm.default.createElement(CD.default.Provider,{value:null},typeof h==\"function\"?h(o,$):rm.default.cloneElement(rm.default.Children.only(h),$))},e}(rm.default.Component);rs.contextType=CD.default;rs.propTypes={};function xc(){}rs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xc,onEntering:xc,onEntered:xc,onExit:xc,onExiting:xc,onExited:xc};rs.UNMOUNTED=Nc;rs.EXITED=Hs;rs.ENTERING=Zs;rs.ENTERED=Li;rs.EXITING=am;var Vle=rs;cr.default=Vle});var ED=v((jl,RD)=\u003e{\"use strict\";jl.__esModule=!0;jl.default=void 0;var mwe=El(Wt()),Lle=El(wD()),Wle=El(SD()),AD=El(ct()),Ble=El(sm()),vwe=_b();function El(n){return n\u0026\u0026n.__esModule?n:{default:n}}function kb(){return kb=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)\u0026\u0026(n[s]=a[s])}return n},kb.apply(this,arguments)}function zle(n,e){if(n==null)return{};var a={},s=Object.keys(n),o,u;for(u=0;u\u003cs.length;u++)o=s[u],!(e.indexOf(o)\u003e=0)\u0026\u0026(a[o]=n[o]);return a}function Gle(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Ule=function(e,a){return e\u0026\u0026a\u0026\u0026a.split(\" \").forEach(function(s){return(0,Lle.default)(e,s)})},Nb=function(e,a){return e\u0026\u0026a\u0026\u0026a.split(\" \").forEach(function(s){return(0,Wle.default)(e,s)})},xb=function(n){Gle(e,n);function e(){for(var s,o=arguments.length,u=new Array(o),h=0;h\u003co;h++)u[h]=arguments[h];return s=n.call.apply(n,[this].concat(u))||this,s.appliedClasses={appear:{},enter:{},exit:{}},s.onEnter=function(d,g){var _=s.resolveArguments(d,g),N=_[0],k=_[1];s.removeClasses(N,\"exit\"),s.addClass(N,k?\"appear\":\"enter\",\"base\"),s.props.onEnter\u0026\u0026s.props.onEnter(d,g)},s.onEntering=function(d,g){var _=s.resolveArguments(d,g),N=_[0],k=_[1],T=k?\"appear\":\"enter\";s.addClass(N,T,\"active\"),s.props.onEntering\u0026\u0026s.props.onEntering(d,g)},s.onEntered=function(d,g){var _=s.resolveArguments(d,g),N=_[0],k=_[1],T=k?\"appear\":\"enter\";s.removeClasses(N,T),s.addClass(N,T,\"done\"),s.props.onEntered\u0026\u0026s.props.onEntered(d,g)},s.onExit=function(d){var g=s.resolveArguments(d),_=g[0];s.removeClasses(_,\"appear\"),s.removeClasses(_,\"enter\"),s.addClass(_,\"exit\",\"base\"),s.props.onExit\u0026\u0026s.props.onExit(d)},s.onExiting=function(d){var g=s.resolveArguments(d),_=g[0];s.addClass(_,\"exit\",\"active\"),s.props.onExiting\u0026\u0026s.props.onExiting(d)},s.onExited=function(d){var g=s.resolveArguments(d),_=g[0];s.removeClasses(_,\"exit\"),s.addClass(_,\"exit\",\"done\"),s.props.onExited\u0026\u0026s.props.onExited(d)},s.resolveArguments=function(d,g){return s.props.nodeRef?[s.props.nodeRef.current,d]:[d,g]},s.getClassNames=function(d){var g=s.props.classNames,_=typeof g==\"string\",N=_\u0026\u0026g?g+\"-\":\"\",k=_?\"\"+N+d:g[d],T=_?k+\"-active\":g[d+\"Active\"],L=_?k+\"-done\":g[d+\"Done\"];return{baseClassName:k,activeClassName:T,doneClassName:L}},s}var a=e.prototype;return a.addClass=function(o,u,h){var d=this.getClassNames(u)[h+\"ClassName\"],g=this.getClassNames(\"enter\"),_=g.doneClassName;u===\"appear\"\u0026\u0026h===\"done\"\u0026\u0026_\u0026\u0026(d+=\" \"+_),h===\"active\"\u0026\u0026o\u0026\u0026o.scrollTop,d\u0026\u0026(this.appliedClasses[u][h]=d,Ule(o,d))},a.removeClasses=function(o,u){var h=this.appliedClasses[u],d=h.base,g=h.active,_=h.done;this.appliedClasses[u]={},d\u0026\u0026Nb(o,d),g\u0026\u0026Nb(o,g),_\u0026\u0026Nb(o,_)},a.render=function(){var o=this.props,u=o.classNames,h=zle(o,[\"classNames\"]);return AD.default.createElement(Ble.default,kb({},h,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(AD.default.Component);xb.defaultProps={classNames:\"\"};xb.propTypes={};var $le=xb;jl.default=$le;RD.exports=jl.default});var DD=v(wc=\u003e{\"use strict\";wc.__esModule=!0;wc.getChildMapping=wb;wc.mergeChildMappings=jD;wc.getInitialChildMapping=Xle;wc.getNextChildMapping=Yle;var as=ct();function wb(n,e){var a=function(u){return e\u0026\u0026(0,as.isValidElement)(u)?e(u):u},s=Object.create(null);return n\u0026\u0026as.Children.map(n,function(o){return o}).forEach(function(o){s[o.key]=a(o)}),s}function jD(n,e){n=n||{},e=e||{};function a(N){return N in e?e[N]:n[N]}var s=Object.create(null),o=[];for(var u in n)u in e?o.length\u0026\u0026(s[u]=o,o=[]):o.push(u);var h,d={};for(var g in e){if(s[g])for(h=0;h\u003cs[g].length;h++){var _=s[g][h];d[s[g][h]]=a(_)}d[g]=a(g)}for(h=0;h\u003co.length;h++)d[o[h]]=a(o[h]);return d}function Wi(n,e,a){return a[e]!=null?a[e]:n.props[e]}function Xle(n,e){return wb(n.children,function(a){return(0,as.cloneElement)(a,{onExited:e.bind(null,a),in:!0,appear:Wi(a,\"appear\",n),enter:Wi(a,\"enter\",n),exit:Wi(a,\"exit\",n)})})}function Yle(n,e,a){var s=wb(n.children),o=jD(e,s);return Object.keys(o).forEach(function(u){var h=o[u];if(!!(0,as.isValidElement)(h)){var d=u in e,g=u in s,_=e[u],N=(0,as.isValidElement)(_)\u0026\u0026!_.props.in;g\u0026\u0026(!d||N)?o[u]=(0,as.cloneElement)(h,{onExited:a.bind(null,h),in:!0,exit:Wi(h,\"exit\",n),enter:Wi(h,\"enter\",n)}):!g\u0026\u0026d\u0026\u0026!N?o[u]=(0,as.cloneElement)(h,{in:!1}):g\u0026\u0026d\u0026\u0026(0,as.isValidElement)(_)\u0026\u0026(o[u]=(0,as.cloneElement)(h,{onExited:a.bind(null,h),in:_.props.in,exit:Wi(h,\"exit\",n),enter:Wi(h,\"enter\",n)}))}}),o}});var Pb=v((Dl,FD)=\u003e{\"use strict\";Dl.__esModule=!0;Dl.default=void 0;var ywe=Tb(Wt()),im=Tb(ct()),ID=Tb(nm()),qb=DD();function Tb(n){return n\u0026\u0026n.__esModule?n:{default:n}}function Hle(n,e){if(n==null)return{};var a={},s=Object.keys(n),o,u;for(u=0;u\u003cs.length;u++)o=s[u],!(e.indexOf(o)\u003e=0)\u0026\u0026(a[o]=n[o]);return a}function Sb(){return Sb=Object.assign||function(n){for(var e=1;e\u003carguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)\u0026\u0026(n[s]=a[s])}return n},Sb.apply(this,arguments)}function Zle(n){if(n===void 0)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return n}function Kle(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Qle=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Jle={component:\"div\",childFactory:function(e){return e}},Mb=function(n){Kle(e,n);function e(s,o){var u;u=n.call(this,s,o)||this;var h=u.handleExited.bind(Zle(u));return u.state={contextValue:{isMounting:!0},handleExited:h,firstRender:!0},u}var a=e.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,u){var h=u.children,d=u.handleExited,g=u.firstRender;return{children:g?(0,qb.getInitialChildMapping)(o,d):(0,qb.getNextChildMapping)(o,h,d),firstRender:!1}},a.handleExited=function(o,u){var h=(0,qb.getChildMapping)(this.props.children);o.key in h||(o.props.onExited\u0026\u0026o.props.onExited(u),this.mounted\u0026\u0026this.setState(function(d){var g=Sb({},d.children);return delete g[o.key],{children:g}}))},a.render=function(){var o=this.props,u=o.component,h=o.childFactory,d=Hle(o,[\"component\",\"childFactory\"]),g=this.state.contextValue,_=Qle(this.state.children).map(h);return delete d.appear,delete d.enter,delete d.exit,u===null?im.default.createElement(ID.default.Provider,{value:g},_):im.default.createElement(ID.default.Provider,{value:g},im.default.createElement(u,d,_))},e}(im.default.Component);Mb.propTypes={};Mb.defaultProps=Jle;var epe=Mb;Dl.default=epe;FD.exports=Dl.default});var WD=v((Il,LD)=\u003e{\"use strict\";Il.__esModule=!0;Il.default=void 0;var _we=om(Wt()),qc=om(ct()),tpe=om(Ol()),npe=om(Pb());function om(n){return n\u0026\u0026n.__esModule?n:{default:n}}function rpe(n,e){if(n==null)return{};var a={},s=Object.keys(n),o,u;for(u=0;u\u003cs.length;u++)o=s[u],!(e.indexOf(o)\u003e=0)\u0026\u0026(a[o]=n[o]);return a}function ape(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var VD=function(n){ape(e,n);function e(){for(var s,o=arguments.length,u=new Array(o),h=0;h\u003co;h++)u[h]=arguments[h];return s=n.call.apply(n,[this].concat(u))||this,s.handleEnter=function(){for(var d=arguments.length,g=new Array(d),_=0;_\u003cd;_++)g[_]=arguments[_];return s.handleLifecycle(\"onEnter\",0,g)},s.handleEntering=function(){for(var d=arguments.length,g=new Array(d),_=0;_\u003cd;_++)g[_]=arguments[_];return s.handleLifecycle(\"onEntering\",0,g)},s.handleEntered=function(){for(var d=arguments.length,g=new Array(d),_=0;_\u003cd;_++)g[_]=arguments[_];return s.handleLifecycle(\"onEntered\",0,g)},s.handleExit=function(){for(var d=arguments.length,g=new Array(d),_=0;_\u003cd;_++)g[_]=arguments[_];return s.handleLifecycle(\"onExit\",1,g)},s.handleExiting=function(){for(var d=arguments.length,g=new Array(d),_=0;_\u003cd;_++)g[_]=arguments[_];return s.handleLifecycle(\"onExiting\",1,g)},s.handleExited=function(){for(var d=arguments.length,g=new Array(d),_=0;_\u003cd;_++)g[_]=arguments[_];return s.handleLifecycle(\"onExited\",1,g)},s}var a=e.prototype;return a.handleLifecycle=function(o,u,h){var d,g=this.props.children,_=qc.default.Children.toArray(g)[u];if(_.props[o]\u0026\u0026(d=_.props)[o].apply(d,h),this.props[o]){var N=_.props.nodeRef?void 0:tpe.default.findDOMNode(this);this.props[o](N)}},a.render=function(){var o=this.props,u=o.children,h=o.in,d=rpe(o,[\"children\",\"in\"]),g=qc.default.Children.toArray(u),_=g[0],N=g[1];return delete d.onEnter,delete d.onEntering,delete d.onEntered,delete d.onExit,delete d.onExiting,delete d.onExited,qc.default.createElement(npe.default,d,h?qc.default.cloneElement(_,{key:\"first\",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):qc.default.cloneElement(N,{key:\"second\",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},e}(qc.default.Component);VD.propTypes={};var spe=VD;Il.default=spe;LD.exports=Il.default});var BD=v(Tc=\u003e{\"use strict\";Tc.__esModule=!0;Tc.default=Tc.modes=void 0;var Vr=Ob(ct()),bwe=Ob(Wt()),ra=sm(),ipe=Ob(nm()),cm,um;function Ob(n){return n\u0026\u0026n.__esModule?n:{default:n}}function ope(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function cpe(n,e){return!(n===e||Vr.default.isValidElement(n)\u0026\u0026Vr.default.isValidElement(e)\u0026\u0026n.key!=null\u0026\u0026n.key===e.key)}var Bi={out:\"out-in\",in:\"in-out\"};Tc.modes=Bi;var lm=function(e,a,s){return function(){var o;e.props[a]\u0026\u0026(o=e.props)[a].apply(o,arguments),s()}},upe=(cm={},cm[Bi.out]=function(n){var e=n.current,a=n.changeState;return Vr.default.cloneElement(e,{in:!1,onExited:lm(e,\"onExited\",function(){a(ra.ENTERING,null)})})},cm[Bi.in]=function(n){var e=n.current,a=n.changeState,s=n.children;return[e,Vr.default.cloneElement(s,{in:!0,onEntered:lm(s,\"onEntered\",function(){a(ra.ENTERING)})})]},cm),lpe=(um={},um[Bi.out]=function(n){var e=n.children,a=n.changeState;return Vr.default.cloneElement(e,{in:!0,onEntered:lm(e,\"onEntered\",function(){a(ra.ENTERED,Vr.default.cloneElement(e,{in:!0}))})})},um[Bi.in]=function(n){var e=n.current,a=n.children,s=n.changeState;return[Vr.default.cloneElement(e,{in:!1,onExited:lm(e,\"onExited\",function(){s(ra.ENTERED,Vr.default.cloneElement(a,{in:!0}))})}),Vr.default.cloneElement(a,{in:!0})]},um),Cb=function(n){ope(e,n);function e(){for(var s,o=arguments.length,u=new Array(o),h=0;h\u003co;h++)u[h]=arguments[h];return s=n.call.apply(n,[this].concat(u))||this,s.state={status:ra.ENTERED,current:null},s.appeared=!1,s.changeState=function(d,g){g===void 0\u0026\u0026(g=s.state.current),s.setState({status:d,current:g})},s}var a=e.prototype;return a.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(o,u){return o.children==null?{current:null}:u.status===ra.ENTERING\u0026\u0026o.mode===Bi.in?{status:ra.ENTERING}:u.current\u0026\u0026cpe(u.current,o.children)?{status:ra.EXITING}:{current:Vr.default.cloneElement(o.children,{in:!0})}},a.render=function(){var o=this.props,u=o.children,h=o.mode,d=this.state,g=d.status,_=d.current,N={children:u,current:_,changeState:this.changeState,status:g},k;switch(g){case ra.ENTERING:k=lpe[h](N);break;case ra.EXITING:k=upe[h](N);break;case ra.ENTERED:k=_}return Vr.default.createElement(ipe.default.Provider,{value:{isMounting:!this.appeared}},k)},e}(Vr.default.Component);Cb.propTypes={};Cb.defaultProps={mode:Bi.out};var ppe=Cb;Tc.default=ppe});var zD=v(ur=\u003e{\"use strict\";ur.__esModule=!0;ur.config=ur.Transition=ur.TransitionGroup=ur.SwitchTransition=ur.ReplaceTransition=ur.CSSTransition=void 0;var hpe=Sc(ED());ur.CSSTransition=hpe.default;var dpe=Sc(WD());ur.ReplaceTransition=dpe.default;var fpe=Sc(BD());ur.SwitchTransition=fpe.default;var mpe=Sc(Pb());ur.TransitionGroup=mpe.default;var vpe=Sc(sm());ur.Transition=vpe.default;var gpe=Sc(yb());ur.config=gpe.default;function Sc(n){return n\u0026\u0026n.__esModule?n:{default:n}}});var UD=v(pm=\u003e{\"use strict\";var Ab=Se(),ype=an();Object.defineProperty(pm,\"__esModule\",{value:!0});pm.default=void 0;var Fl=ype(ct()),xwe=Ab(Wt()),GD=Ab(Vs()),_pe=Ab(Zf()),bpe=typeof window==\"undefined\"?Fl.useEffect:Fl.useLayoutEffect;function kpe(n){var e=n.classes,a=n.pulsate,s=a===void 0?!1:a,o=n.rippleX,u=n.rippleY,h=n.rippleSize,d=n.in,g=n.onExited,_=g===void 0?function(){}:g,N=n.timeout,k=Fl.useState(!1),T=k[0],L=k[1],P=(0,GD.default)(e.ripple,e.rippleVisible,s\u0026\u0026e.ripplePulsate),W={width:h,height:h,top:-(h/2)+u,left:-(h/2)+o},K=(0,GD.default)(e.child,T\u0026\u0026e.childLeaving,s\u0026\u0026e.childPulsate),J=(0,_pe.default)(_);return bpe(function(){if(!d){L(!0);var H=setTimeout(J,N);return function(){clearTimeout(H)}}},[J,d,N]),Fl.createElement(\"span\",{className:P,style:W},Fl.createElement(\"span\",{className:K}))}var Npe=kpe;pm.default=Npe});var YD=v(Ks=\u003e{\"use strict\";var xpe=an(),zi=Se();Object.defineProperty(Ks,\"__esModule\",{value:!0});Ks.default=Ks.styles=Ks.DELAY_RIPPLE=void 0;var wpe=zi(kt()),qpe=zi(ll()),Tpe=zi(Vn()),dn=xpe(ct()),qwe=zi(Wt()),Spe=zD(),Mpe=zi(Vs()),Ppe=zi(_c()),Ope=zi(UD()),Rb=550,$D=80;Ks.DELAY_RIPPLE=$D;var XD=function(e){return{root:{overflow:\"hidden\",pointerEvents:\"none\",position:\"absolute\",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:\"inherit\"},ripple:{opacity:0,position:\"absolute\"},rippleVisible:{opacity:.3,transform:\"scale(1)\",animation:\"$enter \".concat(Rb,\"ms \").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:\"\".concat(e.transitions.duration.shorter,\"ms\")},child:{opacity:1,display:\"block\",width:\"100%\",height:\"100%\",borderRadius:\"50%\",backgroundColor:\"currentColor\"},childLeaving:{opacity:0,animation:\"$exit \".concat(Rb,\"ms \").concat(e.transitions.easing.easeInOut)},childPulsate:{position:\"absolute\",left:0,top:0,animation:\"$pulsate 2500ms \".concat(e.transitions.easing.easeInOut,\" 200ms infinite\")},\"@keyframes enter\":{\"0%\":{transform:\"scale(0)\",opacity:.1},\"100%\":{transform:\"scale(1)\",opacity:.3}},\"@keyframes exit\":{\"0%\":{opacity:1},\"100%\":{opacity:0}},\"@keyframes pulsate\":{\"0%\":{transform:\"scale(1)\"},\"50%\":{transform:\"scale(0.92)\"},\"100%\":{transform:\"scale(1)\"}}}};Ks.styles=XD;var Cpe=dn.forwardRef(function(e,a){var s=e.center,o=s===void 0?!1:s,u=e.classes,h=e.className,d=(0,Tpe.default)(e,[\"center\",\"classes\",\"className\"]),g=dn.useState([]),_=g[0],N=g[1],k=dn.useRef(0),T=dn.useRef(null);dn.useEffect(function(){T.current\u0026\u0026(T.current(),T.current=null)},[_]);var L=dn.useRef(!1),P=dn.useRef(null),W=dn.useRef(null),K=dn.useRef(null);dn.useEffect(function(){return function(){clearTimeout(P.current)}},[]);var J=dn.useCallback(function(R){var $=R.pulsate,U=R.rippleX,te=R.rippleY,se=R.rippleSize,be=R.cb;N(function(xe){return[].concat((0,qpe.default)(xe),[dn.createElement(Ope.default,{key:k.current,classes:u,timeout:Rb,pulsate:$,rippleX:U,rippleY:te,rippleSize:se})])}),k.current+=1,T.current=be},[u]),H=dn.useCallback(function(){var R=arguments.length\u003e0\u0026\u0026arguments[0]!==void 0?arguments[0]:{},$=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:{},U=arguments.length\u003e2?arguments[2]:void 0,te=$.pulsate,se=te===void 0?!1:te,be=$.center,xe=be===void 0?o||$.pulsate:be,Ae=$.fakeElement,ze=Ae===void 0?!1:Ae;if(R.type===\"mousedown\"\u0026\u0026L.current){L.current=!1;return}R.type===\"touchstart\"\u0026\u0026(L.current=!0);var $e=ze?null:K.current,Y=$e?$e.getBoundingClientRect():{width:0,height:0,left:0,top:0},ce,le,ue;if(xe||R.clientX===0\u0026\u0026R.clientY===0||!R.clientX\u0026\u0026!R.touches)ce=Math.round(Y.width/2),le=Math.round(Y.height/2);else{var ye=R.touches?R.touches[0]:R,me=ye.clientX,je=ye.clientY;ce=Math.round(me-Y.left),le=Math.round(je-Y.top)}if(xe)ue=Math.sqrt((2*Math.pow(Y.width,2)+Math.pow(Y.height,2))/3),ue%2==0\u0026\u0026(ue+=1);else{var Je=Math.max(Math.abs(($e?$e.clientWidth:0)-ce),ce)*2+2,ft=Math.max(Math.abs(($e?$e.clientHeight:0)-le),le)*2+2;ue=Math.sqrt(Math.pow(Je,2)+Math.pow(ft,2))}R.touches?W.current===null\u0026\u0026(W.current=function(){J({pulsate:se,rippleX:ce,rippleY:le,rippleSize:ue,cb:U})},P.current=setTimeout(function(){W.current\u0026\u0026(W.current(),W.current=null)},$D)):J({pulsate:se,rippleX:ce,rippleY:le,rippleSize:ue,cb:U})},[o,J]),oe=dn.useCallback(function(){H({},{pulsate:!0})},[H]),G=dn.useCallback(function(R,$){if(clearTimeout(P.current),R.type===\"touchend\"\u0026\u0026W.current){R.persist(),W.current(),W.current=null,P.current=setTimeout(function(){G(R,$)});return}W.current=null,N(function(U){return U.length\u003e0?U.slice(1):U}),T.current=$},[]);return dn.useImperativeHandle(a,function(){return{pulsate:oe,start:H,stop:G}},[oe,H,G]),dn.createElement(\"span\",(0,wpe.default)({className:(0,Mpe.default)(u.root,h),ref:K},d),dn.createElement(Spe.TransitionGroup,{component:null,exit:!0},_))}),Ape=(0,Ppe.default)(XD,{flip:!1,name:\"MuiTouchRipple\"})(dn.memo(Cpe));Ks.default=Ape});var QD=v(Mc=\u003e{\"use strict\";var HD=an(),Ca=Se();Object.defineProperty(Mc,\"__esModule\",{value:!0});Mc.default=Mc.styles=void 0;var ZD=Ca(kt()),Rpe=Ca(Vn()),aa=HD(ct()),Swe=Ca(Wt()),Epe=HD(Ol()),jpe=Ca(Vs()),Mwe=sn(),Eb=Ca(hb()),hm=Ca(Zf()),Pwe=Ca(mb()),Dpe=Ca(_c()),Ipe=Ca(gb()),Fpe=Ca(YD()),KD={root:{display:\"inline-flex\",alignItems:\"center\",justifyContent:\"center\",position:\"relative\",WebkitTapHighlightColor:\"transparent\",backgroundColor:\"transparent\",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:\"pointer\",userSelect:\"none\",verticalAlign:\"middle\",\"-moz-appearance\":\"none\",\"-webkit-appearance\":\"none\",textDecoration:\"none\",color:\"inherit\",\"\u0026::-moz-focus-inner\":{borderStyle:\"none\"},\"\u0026$disabled\":{pointerEvents:\"none\",cursor:\"default\"},\"@media print\":{colorAdjust:\"exact\"}},disabled:{},focusVisible:{}};Mc.styles=KD;var Vpe=aa.forwardRef(function(e,a){var s=e.action,o=e.buttonRef,u=e.centerRipple,h=u===void 0?!1:u,d=e.children,g=e.classes,_=e.className,N=e.component,k=N===void 0?\"button\":N,T=e.disabled,L=T===void 0?!1:T,P=e.disableRipple,W=P===void 0?!1:P,K=e.disableTouchRipple,J=K===void 0?!1:K,H=e.focusRipple,oe=H===void 0?!1:H,G=e.focusVisibleClassName,R=e.onBlur,$=e.onClick,U=e.onFocus,te=e.onFocusVisible,se=e.onKeyDown,be=e.onKeyUp,xe=e.onMouseDown,Ae=e.onMouseLeave,ze=e.onMouseUp,$e=e.onTouchEnd,Y=e.onTouchMove,ce=e.onTouchStart,le=e.onDragLeave,ue=e.tabIndex,ye=ue===void 0?0:ue,me=e.TouchRippleProps,je=e.type,Je=je===void 0?\"button\":je,ft=(0,Rpe.default)(e,[\"action\",\"buttonRef\",\"centerRipple\",\"children\",\"classes\",\"className\",\"component\",\"disabled\",\"disableRipple\",\"disableTouchRipple\",\"focusRipple\",\"focusVisibleClassName\",\"onBlur\",\"onClick\",\"onFocus\",\"onFocusVisible\",\"onKeyDown\",\"onKeyUp\",\"onMouseDown\",\"onMouseLeave\",\"onMouseUp\",\"onTouchEnd\",\"onTouchMove\",\"onTouchStart\",\"onDragLeave\",\"tabIndex\",\"TouchRippleProps\",\"type\"]),he=aa.useRef(null);function ke(){return Epe.findDOMNode(he.current)}var Oe=aa.useRef(null),Ge=aa.useState(!1),Pe=Ge[0],Me=Ge[1];L\u0026\u0026Pe\u0026\u0026Me(!1);var rt=(0,Ipe.default)(),ut=rt.isFocusVisible,Gt=rt.onBlurVisible,fn=rt.ref;aa.useImperativeHandle(s,function(){return{focusVisible:function(){Me(!0),he.current.focus()}}},[]),aa.useEffect(function(){Pe\u0026\u0026oe\u0026\u0026!W\u0026\u0026Oe.current.pulsate()},[W,oe,Pe]);function Ot(Xe,Br){var ca=arguments.length\u003e2\u0026\u0026arguments[2]!==void 0?arguments[2]:J;return(0,hm.default)(function(cs){Br\u0026\u0026Br(cs);var us=ca;return!us\u0026\u0026Oe.current\u0026\u0026Oe.current[Xe](cs),!0})}var mn=Ot(\"start\",xe),wn=Ot(\"stop\",le),$n=Ot(\"stop\",ze),Xn=Ot(\"stop\",function(Xe){Pe\u0026\u0026Xe.preventDefault(),Ae\u0026\u0026Ae(Xe)}),Yn=Ot(\"start\",ce),mt=Ot(\"stop\",$e),jn=Ot(\"stop\",Y),Dn=Ot(\"stop\",function(Xe){Pe\u0026\u0026(Gt(Xe),Me(!1)),R\u0026\u0026R(Xe)},!1),Lr=(0,hm.default)(function(Xe){he.current||(he.current=Xe.currentTarget),ut(Xe)\u0026\u0026(Me(!0),te\u0026\u0026te(Xe)),U\u0026\u0026U(Xe)}),sa=function(){var Br=ke();return k\u0026\u0026k!==\"button\"\u0026\u0026!(Br.tagName===\"A\"\u0026\u0026Br.href)},qr=aa.useRef(!1),Wr=(0,hm.default)(function(Xe){oe\u0026\u0026!qr.current\u0026\u0026Pe\u0026\u0026Oe.current\u0026\u0026Xe.key===\" \"\u0026\u0026(qr.current=!0,Xe.persist(),Oe.current.stop(Xe,function(){Oe.current.start(Xe)})),Xe.target===Xe.currentTarget\u0026\u0026sa()\u0026\u0026Xe.key===\" \"\u0026\u0026Xe.preventDefault(),se\u0026\u0026se(Xe),Xe.target===Xe.currentTarget\u0026\u0026sa()\u0026\u0026Xe.key===\"Enter\"\u0026\u0026!L\u0026\u0026(Xe.preventDefault(),$\u0026\u0026$(Xe))}),ss=(0,hm.default)(function(Xe){oe\u0026\u0026Xe.key===\" \"\u0026\u0026Oe.current\u0026\u0026Pe\u0026\u0026!Xe.defaultPrevented\u0026\u0026(qr.current=!1,Xe.persist(),Oe.current.stop(Xe,function(){Oe.current.pulsate(Xe)})),be\u0026\u0026be(Xe),$\u0026\u0026Xe.target===Xe.currentTarget\u0026\u0026sa()\u0026\u0026Xe.key===\" \"\u0026\u0026!Xe.defaultPrevented\u0026\u0026$(Xe)}),pr=k;pr===\"button\"\u0026\u0026ft.href\u0026\u0026(pr=\"a\");var Hn={};pr===\"button\"?(Hn.type=Je,Hn.disabled=L):((pr!==\"a\"||!ft.href)\u0026\u0026(Hn.role=\"button\"),Hn[\"aria-disabled\"]=L);var is=(0,Eb.default)(o,a),Aa=(0,Eb.default)(fn,he),ia=(0,Eb.default)(is,Aa),Ra=aa.useState(!1),oa=Ra[0],ei=Ra[1];aa.useEffect(function(){ei(!0)},[]);var os=oa\u0026\u0026!W\u0026\u0026!L;return aa.createElement(pr,(0,ZD.default)({className:(0,jpe.default)(g.root,_,Pe\u0026\u0026[g.focusVisible,G],L\u0026\u0026g.disabled),onBlur:Dn,onClick:$,onFocus:Lr,onKeyDown:Wr,onKeyUp:ss,onMouseDown:mn,onMouseLeave:Xn,onMouseUp:$n,onDragLeave:wn,onTouchEnd:mt,onTouchMove:jn,onTouchStart:Yn,ref:ia,tabIndex:L?-1:ye},Hn,ft),d,os?aa.createElement(Fpe.default,(0,ZD.default)({ref:Oe,center:h},me)):null)}),Lpe=(0,Dpe.default)(KD,{name:\"MuiButtonBase\"})(Vpe);Mc.default=Lpe});var JD=v(jb=\u003e{\"use strict\";var Wpe=Se();Object.defineProperty(jb,\"__esModule\",{value:!0});Object.defineProperty(jb,\"default\",{enumerable:!0,get:function(){return Bpe.default}});var Bpe=Wpe(QD())});var Vl=v(Db=\u003e{\"use strict\";Object.defineProperty(Db,\"__esModule\",{value:!0});Db.default=Gpe;var zpe=sn();function Gpe(n){if(typeof n!=\"string\")throw new Error((0,zpe.formatMuiErrorMessage)(7));return n.charAt(0).toUpperCase()+n.slice(1)}});var r4=v(Pc=\u003e{\"use strict\";var Upe=an(),Gi=Se();Object.defineProperty(Pc,\"__esModule\",{value:!0});Pc.default=Pc.styles=void 0;var $pe=Gi(Vn()),e4=Gi(kt()),Ib=Upe(ct()),Rwe=Gi(Wt()),t4=Gi(Vs()),Ewe=sn(),Xpe=Gi(_c()),Ype=Gi(JD()),Hpe=Gi(Vl()),n4=function(e){return{root:(0,e4.default)({},e.typography.button,{boxSizing:\"border-box\",minHeight:36,transition:e.transitions.create([\"background-color\",\"box-shadow\",\"border\"],{duration:e.transitions.duration.short}),borderRadius:\"50%\",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],\"\u0026:active\":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],\"\u0026:hover\":{backgroundColor:e.palette.grey.A100,\"@media (hover: none)\":{backgroundColor:e.palette.grey[300]},\"\u0026$disabled\":{backgroundColor:e.palette.action.disabledBackground},textDecoration:\"none\"},\"\u0026$focusVisible\":{boxShadow:e.shadows[6]},\"\u0026$disabled\":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:\"100%\",display:\"inherit\",alignItems:\"inherit\",justifyContent:\"inherit\"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,\"\u0026:hover\":{backgroundColor:e.palette.primary.dark,\"@media (hover: none)\":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,\"\u0026:hover\":{backgroundColor:e.palette.secondary.dark,\"@media (hover: none)\":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:48/2,padding:\"0 16px\",width:\"auto\",minHeight:\"auto\",minWidth:48,height:48,\"\u0026$sizeSmall\":{width:\"auto\",padding:\"0 8px\",borderRadius:34/2,minWidth:34,height:34},\"\u0026$sizeMedium\":{width:\"auto\",padding:\"0 16px\",borderRadius:40/2,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:\"inherit\"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}};Pc.styles=n4;var Zpe=Ib.forwardRef(function(e,a){var s=e.children,o=e.classes,u=e.className,h=e.color,d=h===void 0?\"default\":h,g=e.component,_=g===void 0?\"button\":g,N=e.disabled,k=N===void 0?!1:N,T=e.disableFocusRipple,L=T===void 0?!1:T,P=e.focusVisibleClassName,W=e.size,K=W===void 0?\"large\":W,J=e.variant,H=J===void 0?\"circular\":J,oe=(0,$pe.default)(e,[\"children\",\"classes\",\"className\",\"color\",\"component\",\"disabled\",\"disableFocusRipple\",\"focusVisibleClassName\",\"size\",\"variant\"]);return Ib.createElement(Ype.default,(0,e4.default)({className:(0,t4.default)(o.root,u,K!==\"large\"\u0026\u0026o[\"size\".concat((0,Hpe.default)(K))],k\u0026\u0026o.disabled,H===\"extended\"\u0026\u0026o.extended,{primary:o.primary,secondary:o.secondary,inherit:o.colorInherit}[d]),component:_,disabled:k,focusRipple:!L,focusVisibleClassName:(0,t4.default)(o.focusVisible,P),ref:a},oe),Ib.createElement(\"span\",{className:o.label},s))}),Kpe=(0,Xpe.default)(n4,{name:\"MuiFab\"})(Zpe);Pc.default=Kpe});var a4=v(Fb=\u003e{\"use strict\";var Qpe=Se();Object.defineProperty(Fb,\"__esModule\",{value:!0});Object.defineProperty(Fb,\"default\",{enumerable:!0,get:function(){return Jpe.default}});var Jpe=Qpe(r4())});var s4=v(Vb=\u003e{\"use strict\";Object.defineProperty(Vb,\"__esModule\",{value:!0});Vb.default=ehe;function ehe(){for(var n=arguments.length,e=new Array(n),a=0;a\u003cn;a++)e[a]=arguments[a];return e.reduce(function(s,o){return o==null?s:function(){for(var h=arguments.length,d=new Array(h),g=0;g\u003ch;g++)d[g]=arguments[g];s.apply(this,d),o.apply(this,d)}},function(){})}});var u4=v(Cc=\u003e{\"use strict\";var the=an(),Oc=Se();Object.defineProperty(Cc,\"__esModule\",{value:!0});Cc.default=Cc.styles=void 0;var nhe=Oc(kt()),rhe=Oc(Vn()),Lb=the(ct()),Fwe=Oc(Wt()),ahe=Oc(Vs()),Vwe=sn(),she=Oc(_c()),i4=Oc(Vl()),o4=function(e){return{root:{userSelect:\"none\",width:\"1em\",height:\"1em\",display:\"inline-block\",fill:\"currentColor\",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create(\"fill\",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:\"inherit\"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}};Cc.styles=o4;var c4=Lb.forwardRef(function(e,a){var s=e.children,o=e.classes,u=e.className,h=e.color,d=h===void 0?\"inherit\":h,g=e.component,_=g===void 0?\"svg\":g,N=e.fontSize,k=N===void 0?\"medium\":N,T=e.htmlColor,L=e.titleAccess,P=e.viewBox,W=P===void 0?\"0 0 24 24\":P,K=(0,rhe.default)(e,[\"children\",\"classes\",\"className\",\"color\",\"component\",\"fontSize\",\"htmlColor\",\"titleAccess\",\"viewBox\"]);return Lb.createElement(_,(0,nhe.default)({className:(0,ahe.default)(o.root,u,d!==\"inherit\"\u0026\u0026o[\"color\".concat((0,i4.default)(d))],k!==\"default\"\u0026\u0026k!==\"medium\"\u0026\u0026o[\"fontSize\".concat((0,i4.default)(k))]),focusable:\"false\",viewBox:W,color:T,\"aria-hidden\":L?void 0:!0,role:L?\"img\":void 0,ref:a},K),s,L?Lb.createElement(\"title\",null,L):null)});c4.muiName=\"SvgIcon\";var ihe=(0,she.default)(o4,{name:\"MuiSvgIcon\"})(c4);Cc.default=ihe});var l4=v(Wb=\u003e{\"use strict\";var ohe=Se();Object.defineProperty(Wb,\"__esModule\",{value:!0});Object.defineProperty(Wb,\"default\",{enumerable:!0,get:function(){return che.default}});var che=ohe(u4())});var h4=v(Gb=\u003e{\"use strict\";var Bb=Se();Object.defineProperty(Gb,\"__esModule\",{value:!0});Gb.default=lhe;var uhe=Bb(kt()),zb=Bb(ct()),p4=Bb(l4());function lhe(n,e){var a=function(o,u){return zb.default.createElement(p4.default,(0,uhe.default)({ref:u},o),n)};return a.muiName=p4.default.muiName,zb.default.memo(zb.default.forwardRef(a))}});var d4=v(Ub=\u003e{\"use strict\";Object.defineProperty(Ub,\"__esModule\",{value:!0});Ub.default=phe;function phe(n){var e=arguments.length\u003e1\u0026\u0026arguments[1]!==void 0?arguments[1]:166,a;function s(){for(var o=arguments.length,u=new Array(o),h=0;h\u003co;h++)u[h]=arguments[h];var d=this,g=function(){n.apply(d,u)};clearTimeout(a),a=setTimeout(g,e)}return s.clear=function(){clearTimeout(a)},s}});var f4=v($b=\u003e{\"use strict\";var hhe=an();Object.defineProperty($b,\"__esModule\",{value:!0});$b.default=fhe;var dhe=hhe(ct());function fhe(n,e){return dhe.isValidElement(n)\u0026\u0026e.indexOf(n.type.muiName)!==-1}});var Yb=v(Xb=\u003e{\"use strict\";Object.defineProperty(Xb,\"__esModule\",{value:!0});Xb.default=mhe;function mhe(n){return n\u0026\u0026n.ownerDocument||document}});var m4=v(Hb=\u003e{\"use strict\";var vhe=Se();Object.defineProperty(Hb,\"__esModule\",{value:!0});Hb.default=yhe;var ghe=vhe(Yb());function yhe(n){var e=(0,ghe.default)(n);return e.defaultView||window}});var v4=v(Zb=\u003e{\"use strict\";Object.defineProperty(Zb,\"__esModule\",{value:!0});Zb.default=_he;function _he(n){return function(){return null};var e}});var g4=v(Kb=\u003e{\"use strict\";Object.defineProperty(Kb,\"__esModule\",{value:!0});Kb.default=bhe;function bhe(n,e,a,s,o){return null;var u}});var y4=v(Jb=\u003e{\"use strict\";var khe=an();Object.defineProperty(Jb,\"__esModule\",{value:!0});Jb.default=Nhe;var Qb=khe(ct());function Nhe(n){var e=n.controlled,a=n.default,s=n.name,o=n.state,u=o===void 0?\"value\":o,h=Qb.useRef(e!==void 0),d=h.current,g=Qb.useState(a),_=g[0],N=g[1],k=d?e:_;if(!1)var T,L;var P=Qb.useCallback(function(W){d||N(W)},[]);return[k,P]}});var b4=v(ek=\u003e{\"use strict\";var xhe=an();Object.defineProperty(ek,\"__esModule\",{value:!0});ek.default=whe;var _4=xhe(ct());function whe(n){var e=_4.useState(n),a=e[0],s=e[1],o=n||a;return _4.useEffect(function(){a==null\u0026\u0026s(\"mui-\".concat(Math.round(Math.random()*1e5)))},[a]),o}});var k4=v(xn=\u003e{\"use strict\";var Bn=Se();Object.defineProperty(xn,\"__esModule\",{value:!0});Object.defineProperty(xn,\"capitalize\",{enumerable:!0,get:function(){return qhe.default}});Object.defineProperty(xn,\"createChainedFunction\",{enumerable:!0,get:function(){return The.default}});Object.defineProperty(xn,\"createSvgIcon\",{enumerable:!0,get:function(){return She.default}});Object.defineProperty(xn,\"debounce\",{enumerable:!0,get:function(){return Mhe.default}});Object.defineProperty(xn,\"deprecatedPropType\",{enumerable:!0,get:function(){return Phe.default}});Object.defineProperty(xn,\"isMuiElement\",{enumerable:!0,get:function(){return Ohe.default}});Object.defineProperty(xn,\"ownerDocument\",{enumerable:!0,get:function(){return Che.default}});Object.defineProperty(xn,\"ownerWindow\",{enumerable:!0,get:function(){return Ahe.default}});Object.defineProperty(xn,\"requirePropFactory\",{enumerable:!0,get:function(){return Rhe.default}});Object.defineProperty(xn,\"setRef\",{enumerable:!0,get:function(){return Ehe.default}});Object.defineProperty(xn,\"unsupportedProp\",{enumerable:!0,get:function(){return jhe.default}});Object.defineProperty(xn,\"useControlled\",{enumerable:!0,get:function(){return Dhe.default}});Object.defineProperty(xn,\"useEventCallback\",{enumerable:!0,get:function(){return Ihe.default}});Object.defineProperty(xn,\"useForkRef\",{enumerable:!0,get:function(){return Fhe.default}});Object.defineProperty(xn,\"unstable_useId\",{enumerable:!0,get:function(){return Vhe.default}});Object.defineProperty(xn,\"useIsFocusVisible\",{enumerable:!0,get:function(){return Lhe.default}});var qhe=Bn(Vl()),The=Bn(s4()),She=Bn(h4()),Mhe=Bn(d4()),Phe=Bn(mb()),Ohe=Bn(f4()),Che=Bn(Yb()),Ahe=Bn(m4()),Rhe=Bn(v4()),Ehe=Bn(lb()),jhe=Bn(g4()),Dhe=Bn(y4()),Ihe=Bn(Zf()),Fhe=Bn(hb()),Vhe=Bn(b4()),Lhe=Bn(gb())});var nk=v(tk=\u003e{\"use strict\";Object.defineProperty(tk,\"__esModule\",{value:!0});Object.defineProperty(tk,\"default\",{enumerable:!0,get:function(){return Whe.createSvgIcon}});var Whe=k4()});var N4=v(dm=\u003e{\"use strict\";var Bhe=Se(),zhe=an();Object.defineProperty(dm,\"__esModule\",{value:!0});dm.default=void 0;var Ghe=zhe(ct()),Uhe=Bhe(nk()),$he=(0,Uhe.default)(Ghe.createElement(\"path\",{d:\"M8 5v14l11-7z\"}),\"PlayArrow\");dm.default=$he});var x4=v(fm=\u003e{\"use strict\";var Xhe=Se(),Yhe=an();Object.defineProperty(fm,\"__esModule\",{value:!0});fm.default=void 0;var Hhe=Yhe(ct()),Zhe=Xhe(nk()),Khe=(0,Zhe.default)(Hhe.createElement(\"path\",{d:\"M6 6h12v12H6z\"}),\"Stop\");fm.default=Khe});var S4=v(Rc=\u003e{\"use strict\";var Qhe=an(),Ac=Se();Object.defineProperty(Rc,\"__esModule\",{value:!0});Rc.default=Rc.styles=void 0;var w4=Ac(kt()),Jhe=Ac(Vn()),mm=Qhe(ct()),tqe=Ac(Wt()),q4=Ac(Vs()),nqe=sn(),ede=Ac(_c()),tde=Ac(Vl()),Qs=44,T4=function(e){return{root:{display:\"inline-block\"},static:{transition:e.transitions.create(\"transform\")},indeterminate:{animation:\"$circular-rotate 1.4s linear infinite\"},determinate:{transition:e.transitions.create(\"transform\")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:\"block\"},circle:{stroke:\"currentColor\"},circleStatic:{transition:e.transitions.create(\"stroke-dashoffset\")},circleIndeterminate:{animation:\"$circular-dash 1.4s ease-in-out infinite\",strokeDasharray:\"80px, 200px\",strokeDashoffset:\"0px\"},circleDeterminate:{transition:e.transitions.create(\"stroke-dashoffset\")},\"@keyframes circular-rotate\":{\"0%\":{transformOrigin:\"50% 50%\"},\"100%\":{transform:\"rotate(360deg)\"}},\"@keyframes circular-dash\":{\"0%\":{strokeDasharray:\"1px, 200px\",strokeDashoffset:\"0px\"},\"50%\":{strokeDasharray:\"100px, 200px\",strokeDashoffset:\"-15px\"},\"100%\":{strokeDasharray:\"100px, 200px\",strokeDashoffset:\"-125px\"}},circleDisableShrink:{animation:\"none\"}}};Rc.styles=T4;var nde=mm.forwardRef(function(e,a){var s=e.classes,o=e.className,u=e.color,h=u===void 0?\"primary\":u,d=e.disableShrink,g=d===void 0?!1:d,_=e.size,N=_===void 0?40:_,k=e.style,T=e.thickness,L=T===void 0?3.6:T,P=e.value,W=P===void 0?0:P,K=e.variant,J=K===void 0?\"indeterminate\":K,H=(0,Jhe.default)(e,[\"classes\",\"className\",\"color\",\"disableShrink\",\"size\",\"style\",\"thickness\",\"value\",\"variant\"]),oe={},G={},R={};if(J===\"determinate\"||J===\"static\"){var $=2*Math.PI*((Qs-L)/2);oe.strokeDasharray=$.toFixed(3),R[\"aria-valuenow\"]=Math.round(W),oe.strokeDashoffset=\"\".concat(((100-W)/100*$).toFixed(3),\"px\"),G.transform=\"rotate(-90deg)\"}return mm.createElement(\"div\",(0,w4.default)({className:(0,q4.default)(s.root,o,h!==\"inherit\"\u0026\u0026s[\"color\".concat((0,tde.default)(h))],{determinate:s.determinate,indeterminate:s.indeterminate,static:s.static}[J]),style:(0,w4.default)({width:N,height:N},G,k),ref:a,role:\"progressbar\"},R,H),mm.createElement(\"svg\",{className:s.svg,viewBox:\"\".concat(Qs/2,\" \").concat(Qs/2,\" \").concat(Qs,\" \").concat(Qs)},mm.createElement(\"circle\",{className:(0,q4.default)(s.circle,g\u0026\u0026s.circleDisableShrink,{determinate:s.circleDeterminate,indeterminate:s.circleIndeterminate,static:s.circleStatic}[J]),style:oe,cx:Qs,cy:Qs,r:(Qs-L)/2,fill:\"none\",strokeWidth:L})))}),rde=(0,ede.default)(T4,{name:\"MuiCircularProgress\",flip:!1})(nde);Rc.default=rde});var M4=v(rk=\u003e{\"use strict\";var ade=Se();Object.defineProperty(rk,\"__esModule\",{value:!0});Object.defineProperty(rk,\"default\",{enumerable:!0,get:function(){return sde.default}});var sde=ade(S4())});var mde={};rv(mde,{default:()=\u003efde,frontmatter:()=\u003ehde});var r=nt(DN());var sC=nt(xh());function ln(n){return typeof n!=\"object\"||Array.isArray(n)?{value:n}:n}function Kr(n){return Array.isArray(n)?n:[n]}function bu(n,e={}){let a=e.getChildren||see,s=e.isDeep||(h=\u003eh.value\u0026\u0026typeof h.value==\"object\"),o=[],u=a(n,e);return u.forEach((h,d)=\u003e{typeof e.mapChild==\"function\"\u0026\u0026(h=e.mapChild({child:h,isLeaf:!s(h),index:d,props:e,siblings:u,parent:n})),s(h)?(o=o.concat(bu(h,e)),e.includeNonLeaves\u0026\u0026o.push(h)):o.push(h)}),o}function see(n){let e=ln(n);return(Kr(e.value)||[]).map((s,o,u)=\u003e({...ln(s),path:(e.path||[]).concat([[o,u.length]])}))}var qg=nt(ya());function Tg(n){let e=ln(n);if(e.type\u0026\u0026e.type!==\"sequential\"||!e.value\u0026\u0026!e.sequential)return e;if(e.value\u0026\u0026e.sequential)throw new Error(\"cannot set value together with sequential\");let a=e.sequential||e.value;return delete e.sequential,{...e,value:a}}function Sg(n,e=[]){let a=Tg(n);if(!a.value)return a;let s=Kr(a.value||[]),o=s.map(h=\u003eln(h).duration??1),u=(0,qg.sum)(o);return{...a,value:s.map((h,d)=\u003e{let g=(0,qg.sum)(o.slice(0,d));h=ln(h);let _;return _=(a.path||[]).concat([[g,o[d],u]]),{...h,path:_}})}}var v3=nt(ya());function Mg(n){if(typeof n!=\"object\")return n;let e=n;if(e.type===\"parallel\"||e.parallel){if(e.value\u0026\u0026e.parallel)throw new Error(\"cannot set value together with parallel\");e.value=e.parallel||e.value,e.type=\"parallel\",delete e.parallel}return e}function Pg(n){let e=Mg(n);if(typeof e!=\"object\"||e.type!==\"parallel\")return e;let a=ln(e),s=Kr(a.value||[]),o=s.map(h=\u003eln(h).duration??1),u=(0,v3.max)(o);return{...a,value:s.map((h,d)=\u003e{h=ln(h);let g;return g=(a.path||[]).concat([[0,o[d],u]]),{...h,path:g}})}}var rC=nt(xh()),aC=nt(ny());var Vh=nt(ny());var K3=nt(ya());function ry(n){return Array.isArray(n)?n:n?.parallel||n?.sequential}function Q3(n,e){return Array.isArray(n)?e:n.parallel?{...n,parallel:e}:{...n,sequential:e}}var Lh=nt(lu()),ay=nt(Nh()),xu=nt(Ss()),bte=n=\u003e!!ry(n),J3=(0,Vh.makeZipper)(bte,ry,Q3),{isEnd:kte,isLeaf:Nte,next:eC,root:xte,up:e0e,down:t0e,isTop:n0e}=Vh.zip,tC=(0,xu.default)((n,e)=\u003e(0,Lh.default)((0,ay.default)(kte,(0,Lh.default)(n,eC)),xte)(e)),wte=(0,xu.default)((n,e)=\u003etC((0,Lh.default)((0,ay.default)(Nte,eC),n),e)),nC=(0,xu.default)((n,e)=\u003etC(n,J3(e)).value()),r0e=(0,xu.default)((n,e)=\u003ewte(n,J3(e)).value());function wu(n){return e=\u003e{let a=ln(e);return!a[n]||!a.value?a:{...a,value:Kr(a.value).map(s=\u003e{let o=ln(s);return{...o,[n]:o[n]||a[n]}})}}}function qu(n){return({child:e,parent:a})=\u003ee?.[n]??a?.[n]?{...e,[n]:e[n]??a[n]}:e}function qte(n){return Array.isArray(n)?{sequential:n}:typeof n==\"object\"?n:{value:n}}var c0e=(0,rC.curry)((n,e)=\u003enC(a=\u003e{let s=a.up?.()?.value();return s?.[n]===void 0?a:aC.zip.edit(o=\u003e{let u=qte(o);return{...u,[n]:u[n]??s?.[n]}})(a)},e));function sy(n,e=1){let a=0,s=e;for(let o=0;o\u003cn.length;o++)a=a+n[o][0]/n[o][2]*s,s*=n[o][1]/n[o][2];return[a,s]}function iy(n,e){return e.forEach(a=\u003e{n=a(n)}),n}function Tte(n,e=[],a={}){return bu(n,{getChildren:s=\u003e{let o=ln(iy(s,[Sg,Pg,wu(\"color\"),...e]));return(Kr(o.value)||[]).map((h,d)=\u003eiy(h,[Tg,Mg]))},...a})}function Os(n,e=[],a={}){let o=ln(n).duration||1;return Tte(n,e,a).map(u=\u003e{let{path:h}=u,[d,g]=sy(h,o);return{...u,time:d,duration:g,path:h}})}function Cs(n,e=[],a={}){let o=ln(n).duration||1;return bu(n,{getChildren:Mte,isDeep:u=\u003e!!u\u0026\u0026[\"value\",\"parallel\",\"sequential\"].reduce((h,d)=\u003eh||u[d]\u0026\u0026typeof u[d]==\"object\",!1),mapChild:Ste(e),...a}).map(u=\u003e{let h=u?.path||[[0,1,1]],[d,g]=sy(h,o);return{...u,time:d,duration:g,path:h}})}function Ste(n=[]){return e=\u003e(n.forEach(a=\u003e{e.child=a(e)}),e.child)}function Mte(n){let e=ln(iy(n,[Sg,Pg]));return Kr(e.value)||[]}var g0e=(0,sC.curry)((n,e)=\u003eCs(e,n));var uy=nt(Xa());var ir=nt(Xa());var Su={m7:[\"3m 5P 7m 9M\",\"7m 9M 10m 12P\"],\"7\":[\"3M 6M 7m 9M\",\"7m 9M 10M 13M\"],\"^7\":[\"3M 5P 7M 9M\",\"7M 9M 10M 12P\"],\"69\":[\"3M 5P 6A 9M\"],m7b5:[\"3m 5d 7m 8P\",\"7m 8P 10m 12d\"],\"7b9\":[\"3M 6m 7m 9m\",\"7m 9m 10M 13m\"],\"7b13\":[\"3M 6m 7m 9m\",\"7m 9m 10M 13m\"],o7:[\"1P 3m 5d 6M\",\"5d 6M 8P 10m\"],\"7#11\":[\"7m 9M 11A 13A\"],\"7#9\":[\"3M 7m 9A\"],mM7:[\"3m 5P 7M 9M\",\"7M 9M 10m 12P\"],m6:[\"3m 5P 6M 9M\",\"6M 9M 10m 12P\"]};var ki={M:[\"1P 3M 5P\",\"3M 5P 8P\",\"5P 8P 10M\"],m:[\"1P 3m 5P\",\"3m 5P 8P\",\"5P 8P 10m\"],o:[\"1P 3m 5d\",\"3m 5d 8P\",\"5d 8P 10m\"],aug:[\"1P 3m 5A\",\"3m 5A 8P\",\"5A 8P 10m\"]};var hd=nt(Xa());function IC(n,e){let{alt:a,letter:s}=hd.Note.get(e),{oct:o}=hd.Note.get(n),u=hd.Note.chroma(s)+a;return u\u003e11?o--:u\u003c0\u0026\u0026o++,e+o}function dd(n,e=Su,a=[\"D3\",\"A4\"]){let{tonic:s,aliases:o}=ir.Chord.get(n),u=o?.length?Object.keys(e).find(g=\u003eo.includes(g)):n;if(!e[u])return[];let h=e[u].map(g=\u003eg.split(\" \")),d=ir.Range.chromatic(a);return h.reduce((g,_)=\u003e{let N=_.map(P=\u003eir.Interval.substract(P,_[0])),k=ir.Note.transpose(s,_[0]),L=d.filter(P=\u003eir.Note.chroma(P)===ir.Note.chroma(k)).filter(P=\u003eir.Note.midi(ir.Note.transpose(P,N[N.length-1]))\u003c=ir.Note.midi(a[1])).map(P=\u003eIC(P,k)).map(P=\u003eN.map(W=\u003eir.Note.transpose(P,W)));return g.concat(L)},[])}var ly=({dictionary:n,range:e})=\u003e({child:a,isLeaf:s,props:o,parent:u})=\u003e{if(!s||u.chord||a.plugin!==\"chords\")return a;let h=dd(a.value,a.dictionary||n,a.range||e);if(o.lastVoicing){let d=g=\u003eMath.abs(uy.Note.midi(o.lastVoicing[o.lastVoicing.length-1])-uy.Note.midi(g[g.length-1]));h=h.sort((g,_)=\u003ed(g)-d(_))}return o.lastVoicing=h[0],{...a,chord:a.value,value:h[0],type:\"parallel\"}};var Js=nt(ct()),Ec=nt(Pu());function Rs(){return!!(typeof window!=\"undefined\"\u0026\u0026window.document\u0026\u0026window.document.createElement)}var F4=nt(ya()),V4=nt(ct());var rc=nt(ct()),hn=nt(Xa());function WC(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}var Dd=nt(ya());var JA=nt(ya());jy();function Dy(n){return function(){return n}}function Iy(n){return+n}var e7=[0,1];function nc(n){return n}function Fy(n,e){return(e-=n=+n)?function(a){return(a-n)/e}:Dy(isNaN(e)?NaN:.5)}function Ute(n,e){var a;return n\u003ee\u0026\u0026(a=n,n=e,e=a),function(s){return Math.max(n,Math.min(e,s))}}function $te(n,e,a){var s=n[0],o=n[1],u=e[0],h=e[1];return o\u003cs?(s=Fy(o,s),u=a(h,u)):(s=Fy(s,o),u=a(u,h)),function(d){return u(s(d))}}function Xte(n,e,a){var s=Math.min(n.length,e.length)-1,o=new Array(s),u=new Array(s),h=-1;for(n[s]\u003cn[0]\u0026\u0026(n=n.slice().reverse(),e=e.slice().reverse());++h\u003cs;)o[h]=Fy(n[h],n[h+1]),u[h]=a(e[h],e[h+1]);return function(d){var g=(0,JA.bisect)(n,d,1,s)-1;return u[g](o[g](d))}}function t7(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Yte(){var n=e7,e=e7,a=qa,s,o,u,h=nc,d,g,_;function N(){var T=Math.min(n.length,e.length);return h!==nc\u0026\u0026(h=Ute(n[0],n[T-1])),d=T\u003e2?Xte:$te,g=_=null,k}function k(T){return T==null||isNaN(T=+T)?u:(g||(g=d(n.map(s),e,a)))(s(h(T)))}return k.invert=function(T){return h(o((_||(_=d(e,n.map(s),Fn)))(T)))},k.domain=function(T){return arguments.length?(n=Array.from(T,Iy),N()):n.slice()},k.range=function(T){return arguments.length?(e=Array.from(T),N()):e.slice()},k.rangeRound=function(T){return e=Array.from(T),a=Pd,N()},k.clamp=function(T){return arguments.length?(h=T?!0:nc,N()):h!==nc},k.interpolate=function(T){return arguments.length?(a=T,N()):a},k.unknown=function(T){return arguments.length?(u=T,k):u},function(T,L){return s=T,o=L,N()}}function Vy(){return Yte()(nc,nc)}var l7=nt(ya());function n7(n){return Math.abs(n=Math.round(n))\u003e=1e21?n.toLocaleString(\"en\").replace(/,/g,\"\"):n.toString(10)}function Mi(n,e){if((a=(n=e?n.toExponential(e-1):n.toExponential()).indexOf(\"e\"))\u003c0)return null;var a,s=n.slice(0,a);return[s.length\u003e1?s[0]+s.slice(2):s,+n.slice(a+1)]}function Ta(n){return n=Mi(Math.abs(n)),n?n[1]:NaN}function r7(n,e){return function(a,s){for(var o=a.length,u=[],h=0,d=n[0],g=0;o\u003e0\u0026\u0026d\u003e0\u0026\u0026(g+d+1\u003es\u0026\u0026(d=Math.max(1,s-g)),u.push(a.substring(o-=d,o+d)),!((g+=d+1)\u003es));)d=n[h=(h+1)%n.length];return u.reverse().join(e)}}function a7(n){return function(e){return e.replace(/[0-9]/g,function(a){return n[+a]})}}var Hte=/^(?:(.)?([\u003c\u003e=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function Fs(n){if(!(e=Hte.exec(n)))throw new Error(\"invalid format: \"+n);var e;return new Ad({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]\u0026\u0026e[8].slice(1),trim:e[9],type:e[10]})}Fs.prototype=Ad.prototype;function Ad(n){this.fill=n.fill===void 0?\" \":n.fill+\"\",this.align=n.align===void 0?\"\u003e\":n.align+\"\",this.sign=n.sign===void 0?\"-\":n.sign+\"\",this.symbol=n.symbol===void 0?\"\":n.symbol+\"\",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?\"\":n.type+\"\"}Ad.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(this.width===void 0?\"\":Math.max(1,this.width|0))+(this.comma?\",\":\"\")+(this.precision===void 0?\"\":\".\"+Math.max(0,this.precision|0))+(this.trim?\"~\":\"\")+this.type};function s7(n){e:for(var e=n.length,a=1,s=-1,o;a\u003ce;++a)switch(n[a]){case\".\":s=o=a;break;case\"0\":s===0\u0026\u0026(s=a),o=a;break;default:if(!+n[a])break e;s\u003e0\u0026\u0026(s=0);break}return s\u003e0?n.slice(0,s)+n.slice(o+1):n}var Ly;function i7(n,e){var a=Mi(n,e);if(!a)return n+\"\";var s=a[0],o=a[1],u=o-(Ly=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,h=s.length;return u===h?s:u\u003eh?s+new Array(u-h+1).join(\"0\"):u\u003e0?s.slice(0,u)+\".\"+s.slice(u):\"0.\"+new Array(1-u).join(\"0\")+Mi(n,Math.max(0,e+u-1))[0]}function Wy(n,e){var a=Mi(n,e);if(!a)return n+\"\";var s=a[0],o=a[1];return o\u003c0?\"0.\"+new Array(-o).join(\"0\")+s:s.length\u003eo+1?s.slice(0,o+1)+\".\"+s.slice(o+1):s+new Array(o-s.length+2).join(\"0\")}var By={\"%\":(n,e)=\u003e(n*100).toFixed(e),b:n=\u003eMath.round(n).toString(2),c:n=\u003en+\"\",d:n7,e:(n,e)=\u003en.toExponential(e),f:(n,e)=\u003en.toFixed(e),g:(n,e)=\u003en.toPrecision(e),o:n=\u003eMath.round(n).toString(8),p:(n,e)=\u003eWy(n*100,e),r:Wy,s:i7,X:n=\u003eMath.round(n).toString(16).toUpperCase(),x:n=\u003eMath.round(n).toString(16)};function zy(n){return n}var o7=Array.prototype.map,c7=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\\xB5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];function u7(n){var e=n.grouping===void 0||n.thousands===void 0?zy:r7(o7.call(n.grouping,Number),n.thousands+\"\"),a=n.currency===void 0?\"\":n.currency[0]+\"\",s=n.currency===void 0?\"\":n.currency[1]+\"\",o=n.decimal===void 0?\".\":n.decimal+\"\",u=n.numerals===void 0?zy:a7(o7.call(n.numerals,String)),h=n.percent===void 0?\"%\":n.percent+\"\",d=n.minus===void 0?\"\\u2212\":n.minus+\"\",g=n.nan===void 0?\"NaN\":n.nan+\"\";function _(k){k=Fs(k);var T=k.fill,L=k.align,P=k.sign,W=k.symbol,K=k.zero,J=k.width,H=k.comma,oe=k.precision,G=k.trim,R=k.type;R===\"n\"?(H=!0,R=\"g\"):By[R]||(oe===void 0\u0026\u0026(oe=12),G=!0,R=\"g\"),(K||T===\"0\"\u0026\u0026L===\"=\")\u0026\u0026(K=!0,T=\"0\",L=\"=\");var $=W===\"$\"?a:W===\"#\"\u0026\u0026/[boxX]/.test(R)?\"0\"+R.toLowerCase():\"\",U=W===\"$\"?s:/[%p]/.test(R)?h:\"\",te=By[R],se=/[defgprs%]/.test(R);oe=oe===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,oe)):Math.max(0,Math.min(20,oe));function be(xe){var Ae=$,ze=U,$e,Y,ce;if(R===\"c\")ze=te(xe)+ze,xe=\"\";else{xe=+xe;var le=xe\u003c0||1/xe\u003c0;if(xe=isNaN(xe)?g:te(Math.abs(xe),oe),G\u0026\u0026(xe=s7(xe)),le\u0026\u0026+xe==0\u0026\u0026P!==\"+\"\u0026\u0026(le=!1),Ae=(le?P===\"(\"?P:d:P===\"-\"||P===\"(\"?\"\":P)+Ae,ze=(R===\"s\"?c7[8+Ly/3]:\"\")+ze+(le\u0026\u0026P===\"(\"?\")\":\"\"),se){for($e=-1,Y=xe.length;++$e\u003cY;)if(ce=xe.charCodeAt($e),48\u003ece||ce\u003e57){ze=(ce===46?o+xe.slice($e+1):xe.slice($e))+ze,xe=xe.slice(0,$e);break}}}H\u0026\u0026!K\u0026\u0026(xe=e(xe,1/0));var ue=Ae.length+xe.length+ze.length,ye=ue\u003cJ?new Array(J-ue+1).join(T):\"\";switch(H\u0026\u0026K\u0026\u0026(xe=e(ye+xe,ye.length?J-ze.length:1/0),ye=\"\"),L){case\"\u003c\":xe=Ae+xe+ze+ye;break;case\"=\":xe=Ae+ye+xe+ze;break;case\"^\":xe=ye.slice(0,ue=ye.length\u003e\u003e1)+Ae+xe+ze+ye.slice(ue);break;default:xe=ye+Ae+xe+ze;break}return u(xe)}return be.toString=function(){return k+\"\"},be}function N(k,T){var L=_((k=Fs(k),k.type=\"f\",k)),P=Math.max(-8,Math.min(8,Math.floor(Ta(T)/3)))*3,W=Math.pow(10,-P),K=c7[8+P/3];return function(J){return L(W*J)+K}}return{format:_,formatPrefix:N}}var Rd,Ed,jd;Gy({thousands:\",\",grouping:[3],currency:[\"$\",\"\"]});function Gy(n){return Rd=u7(n),Ed=Rd.format,jd=Rd.formatPrefix,Rd}function Uy(n){return Math.max(0,-Ta(Math.abs(n)))}function $y(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ta(e)/3)))*3-Ta(Math.abs(n)))}function Xy(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Ta(e)-Ta(n))+1}function Yy(n,e,a,s){var o=(0,l7.tickStep)(n,e,a),u;switch(s=Fs(s??\",f\"),s.type){case\"s\":{var h=Math.max(Math.abs(n),Math.abs(e));return s.precision==null\u0026\u0026!isNaN(u=$y(o,h))\u0026\u0026(s.precision=u),jd(s,h)}case\"\":case\"e\":case\"g\":case\"p\":case\"r\":{s.precision==null\u0026\u0026!isNaN(u=Xy(o,Math.max(Math.abs(n),Math.abs(e))))\u0026\u0026(s.precision=u-(s.type===\"e\"));break}case\"f\":case\"%\":{s.precision==null\u0026\u0026!isNaN(u=Uy(o))\u0026\u0026(s.precision=u-(s.type===\"%\")*2);break}}return Ed(s)}function Zte(n){var e=n.domain;return n.ticks=function(a){var s=e();return(0,Dd.ticks)(s[0],s[s.length-1],a??10)},n.tickFormat=function(a,s){var o=e();return Yy(o[0],o[o.length-1],a??10,s)},n.nice=function(a){a==null\u0026\u0026(a=10);var s=e(),o=0,u=s.length-1,h=s[o],d=s[u],g,_,N=10;for(d\u003ch\u0026\u0026(_=h,h=d,d=_,_=o,o=u,u=_);N-- \u003e0;){if(_=(0,Dd.tickIncrement)(h,d,a),_===g)return s[o]=h,s[u]=d,e(s);if(_\u003e0)h=Math.floor(h/_)*_,d=Math.ceil(d/_)*_;else if(_\u003c0)h=Math.ceil(h*_)/_,d=Math.floor(d*_)/_;else break;g=_}return n},n}function Pi(){var n=Vy();return n.copy=function(){return t7(n,Pi())},WC.apply(n,arguments),Zte(n)}var d7=nt(h7()),ac=nt(ya());function Hy(n){let{width:e=600,height:a=200,strokeWidth:s=1,hiddenSymbols:o=[\"r\"],time:u=0}=n,{maxTime:h,lanes:d,leaves:g,containers:_,timeRange:N,deepest:k}=Kte(n),{center:T=.5}=n;T=T*e;let L=Pi().domain(N).range([s,e-s]),P=Pi().domain([0,h]).range([0,e]),W=Pi().domain([d.length,0]).range([a-s,s]),K=te=\u003eOi(W(te)-s),J=g.filter(({value:te,time:se,duration:be})=\u003eo.indexOf(te)===-1\u0026\u0026d.indexOf(hn.Note.midi(te)?hn.Note.midi(te)+\"\":te)!==-1).map(te=\u003e({...te,height:1})).concat(_),H=P(u)%e,oe=a/d.length;function G(te=0){return rc.default.createElement(\"g\",null,J.map(({value:se,time:be,duration:xe,path:Ae,color:ze,height:$e,lane:Y},ce)=\u003e{let le=Oi(L(be+te)-T),ue=Oi(P(xe));if(!(le\u003ce-s+H\u0026\u0026le+ue\u003es+H))return;se=hn.Note.midi(se)?hn.Note.midi(se)+\"\":se;let me=d.indexOf(Y||se),je=H!==0\u0026\u0026H+T\u003ele\u0026\u0026H+T\u003cle+ue;return rc.default.createElement(\"rect\",{rx:oe/2,ry:oe/2,stroke:\"black\",strokeWidth:s,fill:je?\"white\":ze||(0,d7.interpolateBlues)((Ae?Ae.length:1)/k),key:ce,x:le,y:Oi(W(me)),width:ue,height:K($e||1)})}))}let R=!0,$,U;return R?($=T-Oi(s),U=-Oi(H)):(U=-T,$=Oi(H)),rc.default.createElement(\"svg\",{...{width:e,height:a}},rc.default.createElement(\"g\",{style:{transform:`translateX(${U}px)`,willChange:\"transform\"}},G(),G(h),G(2*h)),rc.default.createElement(\"line\",{x1:$,x2:$,y1:0,y2:a,strokeWidth:s*2,stroke:\"black\"}))}function Kte(n){let{events:e=[],hiddenSymbols:a=[],fold:s=!1,rhythmLanes:o,noteRange:u}=n,{timeRange:h,noteLanes:d}=n,g=J=\u003e[\"string\",\"number\"].includes(typeof J.value),_=e.filter(g),N=(0,ac.max)(_.map(J=\u003eJ.path?J.path.length:1)),k=_.filter(({value:J})=\u003ea.indexOf(J)===-1).map(J=\u003eJ.value).filter((J,H,oe)=\u003eoe.indexOf(J)===H).sort((J,H)=\u003ehn.Note.midi(H)-hn.Note.midi(J)),T=k.filter(J=\u003e!!hn.Note.name(J)),L=k.filter(J=\u003e!hn.Note.name(J)),P=(0,ac.max)(_.map(J=\u003eJ.time+J.duration));h=h?[h[0],h[1]]:[0,P];let W;if(s)W=(d?d.filter(J=\u003eT.find(H=\u003ehn.Note.midi(H)===hn.Note.midi(J))):T).map(J=\u003ehn.Note.midi(J)+\"\").concat(o?o.filter(J=\u003eL.indexOf(J)!==-1):L.reverse());else{if(T.length){let J=u?u.map(H=\u003ehn.Note.midi(H)):[(0,ac.min)(T.map(H=\u003ehn.Note.midi(H))),(0,ac.max)(T.map(H=\u003ehn.Note.midi(H)))];d=(d||hn.Range.chromatic(J.reverse().map(H=\u003ehn.Note.fromMidi(H)))).map(H=\u003ehn.Note.midi(H)+\"\")}else d=d||[];W=d.concat(o||L.reverse())}let K=[];return n.hierarchy\u0026\u0026(K=e.filter(J=\u003e!g(J)).map(J=\u003e({...J,lane:J.lane||`container-${J.path.length}`})),W=[].concat(K.map(J=\u003eJ.lane).reverse(),W).filter((J,H,oe)=\u003eoe.indexOf(J)===H)),{maxTime:P,timeRange:h,lanes:W,leaves:_,containers:K,deepest:N}}function Oi(n){return Math.floor(n*2)/2}var Ll=nt(ct()),A4=nt(a4()),R4=nt(N4()),E4=nt(x4()),j4=nt(M4());var P4=nt(Pu());function O4(n,e={}){return()=\u003enew Promise((a,s)=\u003e{let o;e={volume:-12,attack:.01,...e,onload:()=\u003e{a(o)}};let u=new P4.Players(n,e);o={customSymbols:Object.keys(n),triggerAttackRelease:(h,d,g,_)=\u003e{if(!u.has(h)){console.warn(`key ${h} not found for playback`);return}let N=u.player(h);N.start(g),N.stop(g+d)},connect:h=\u003e(u.connect(h),o),toMaster:()=\u003e(u.toDestination(),o),toDestination:()=\u003e(u.toDestination(),o)}})}var C4={load:async()=\u003e{let n={bd:\"../samples/tidal/bd/BT0A0D0.wav\",sn:\"../samples/tidal/sn/ST0T0S3.wav\",hh:\"../samples/tidal/hh/000_hh3closedhh.wav\",cp:\"../samples/tidal/cp/HANDCLP0.wav\",mt:\"../samples/tidal/mt/MT0D3.wav\",ht:\"../samples/tidal/ht/HT0D3.wav\",lt:\"../samples/tidal/lt/LT0D3.wav\"};return Rs()\u0026\u0026(await O4(n,{volume:-20})()).toDestination()}};var vm=nt(Pu()),Ui=nt(ct());function gm({events:n,instruments:e,draw:a,loop:s}){let[o,u]=(0,Ui.useState)(!1),[h,d]=(0,Ui.useState)(!1),g=(0,Ui.useRef)();(0,Ui.useEffect)(()=\u003e{!o||(o?.removeAll?.(),n.forEach(T=\u003eo.add(T.time,T)))},[n]);function _(){g.current\u0026\u0026g.current.stop(),o?.stop?.(),vm.Transport.stop(),u(!1)}async function N(){let T=Object.keys(e||{});return(await Promise.all(T.map(P=\u003etypeof e[P]==\"function\"?e[P]():typeof e[P]?.load==\"function\"?e[P].load():e[P]))).reduce((P,W,K)=\u003e({...P,[T[K]]:W}),{})}async function k(){if(h)return;vm.start(),d(!0);let T=await N();u(D4(n,{instruments:T||{synth:ym,drums:C4},loop:s})),g.current=I4(a),d(!1)}return Ll.default.createElement(A4.default,{color:\"primary\",onClick:()=\u003eo?_():k()},o?Ll.default.createElement(E4.default,null):h?Ll.default.createElement(j4.default,null):Ll.default.createElement(R4.default,null))}var{PolySynth:L4,Synth:W4}=Ec,ym=Rs()\u0026\u0026new L4({maxPolyphony:12,voice:W4,options:{volume:-16,envelope:{attack:.01,decay:.2,sustain:.5,release:.1},oscillator:{type:\"fmtriangle\"}}}).toDestination(),vqe=Rs()\u0026\u0026new L4({maxPolyphony:12,voice:W4,options:{volume:-16,envelope:{attack:.01,decay:.1,sustain:0,release:0},oscillator:{type:\"fmtriangle\"}}}).toDestination();function D4(n,e={}){let a=n.filter(d=\u003e[\"string\",\"number\"].includes(typeof d.value)),{loop:s=!0,instruments:o={synth:ym},duration:u=(0,F4.max)(a.map(d=\u003ed.time+d.duration))}=e,h=new Ec.Part((d,g)=\u003e{g.value===\"r\"||![\"string\",\"number\"].includes(typeof g.value)||ide(g.instrument,o).triggerAttackRelease(g.value,g.duration,d,g.velocity||.9)},a).start(0);return h.loop=s,h.loopEnd=u,Ec.Transport.start(\"+0.1\"),h}function ide(n,e){let a=Object.keys(e);!a.length,n=n||a[0];let s,o=a.find(u=\u003eu===n);if(o)s=e[o];else{let u=a[0];s=e[u]||ym}return s}function I4(n,e=1/30){if(n)return new Ec.Loop(a=\u003e{Ec.Draw.schedule(()=\u003en(Ec.Transport.seconds),a)},e).start(0)}function Gn(n){let{hidePianoRoll:e}=n,[a,s]=(0,V4.useState)(0);return e?Js.default.createElement(gm,{...n,draw:s}):Js.default.createElement(Js.default.Fragment,null,Js.default.createElement(Hy,{...n,time:a}),Js.default.createElement(\"div\",{style:{float:\"right\"}},Js.default.createElement(gm,{...n,draw:s})),Js.default.createElement(\"div\",{style:{clear:\"both\"}}))}var B4=nt(xh());var on=nt(Xa()),Un=class{static getBassNote(e,a=!1){if(!e)return null;if(!a\u0026\u0026e.includes(\"/\"))return e.split(\"/\")[1];let s=e.match(/^([A-G][b|#]?)/);return!s||!s.length?\"\":s[0]}static chordInversions(e,a,s){let o=on.Chord.getChord(e,a).notes.map(d=\u003eon.Note.get(d).pc),u=on.Range.chromatic(s).filter(Un.byPitches(o));return u.length-o.length+1\u003c=0?[]:Array.from({length:u.length-o.length+1},(d,g)=\u003eon.Collection.rotate(g,u).slice(0,o.length))}static tokenizeChord(e){if(!e)return null;let a=Un.getBassNote(e,!0)||\"\",s=e.replace(a,\"\");return s=s.split(\"/\")[0],Object.keys(Un.irealToTonal).find(o=\u003eUn.irealToTonal[o]===s)?a+s:[a,s]}static getTonalChord(e){if(!e)return null;let a=Un.getBassNote(e,!0)||\"\",s=e.replace(a,\"\");return s=s.split(\"/\")[0],Object.keys(Un.irealToTonal).find(o=\u003eUn.irealToTonal[o]===s)?a+s:(s=Un.irealToTonal[s],s===void 0?null:a+s)}static minInterval(e,a,s){if(e=Un.reduceInterval(e,!0),a)return Un.forceDirection(e,a,s);let o=Un.invertInterval(e);return Math.abs(on.Interval.semitones(o))\u003cMath.abs(on.Interval.semitones(e))\u0026\u0026(e=o),e}static reduceInterval(e=\"\",a=!1){let s={\"0A\":\"1P\",\"-0A\":\"1P\"};return a\u0026\u0026(s={...s,\"8P\":\"1P\",\"-8P\":\"1P\"},e=on.Interval.simplify(e)),Object.keys(s).includes(e)?s[e]:e}static forceDirection(e,a,s=!1){let o=on.Interval.semitones(e);return a===\"up\"\u0026\u0026o\u003c0||a===\"down\"\u0026\u0026o\u003e0?Un.invertInterval(e):e===\"1P\"\u0026\u0026s?(a===\"down\"?\"-\":\"\")+\"8P\":e}static invertInterval(e){if(!e)return null;let a=e.replace(\"-\",\"\"),s=Un.intervalComplement(a);return(e.length\u003ea.length?\"\":\"-\")+s}static intervalComplement(e){let a={\"8P\":\"1P\",\"8d\":\"1A\",\"8A\":\"1d\",\"1A\":\"8d\",\"1d\":\"8A\"},s=Object.keys(a).find(o=\u003ee.match(o));return s?a[s]:on.Interval.invert(e)}static isInterval(e){return typeof on.Interval.semitones(e)==\"number\"}static isInRange(e,a){let s=on.Note.midi(e);return on.Note.midi(a[0])\u003c=s\u0026\u0026s\u003c=on.Note.midi(a[1])}static byPitches(e){let a=e.map(s=\u003eon.Note.chroma(s));return s=\u003ea.includes(on.Note.chroma(s))}},_m=Un;EN(_m,\"irealToTonal\",{\"^7\":\"M7\",\"7\":\"7\",\"-7\":\"m7\",h7:\"m7b5\",\"7#9\":\"7#9\",\"7b9\":\"7b9\",\"^7#5\":\"M7#5\",\"^#5\":\"M#5\",\"\":\"\",\"^\":\"M\",\"6\":\"6\",\"9\":\"9\",\"-6\":\"m6\",o7:\"o7\",h:\"m7b5\",\"-^7\":\"mM7\",o:\"o\",\"^9\":\"M9\",\"7#11\":\"7#11\",\"7#5\":\"7#5\",\"-\":\"m\",\"7sus\":\"7sus\",\"69\":\"69\",\"7b13\":\"7b13\",\"+\":\"+\",\"7b9b5\":\"7b5b9\",\"-9\":\"m9\",\"9sus\":\"9sus\",\"7b9sus\":\"7b9sus\",\"7b9#5\":\"7#5b9\",\"13\":\"13\",\"^7#11\":\"M7#11\",\"-7b5\":\"m7b5\",\"^13\":\"M13\",\"7#9b5\":\"7b5#9\",\"-11\":\"m11\",\"11\":\"11\",\"7b5\":\"7b5\",\"9#5\":\"9#5\",\"13b9\":\"13b9\",\"9#11\":\"9#11\",\"13#11\":\"13#11\",\"-b6\":\"mb6\",\"7#9#5\":\"7#5#9\",\"-69\":\"m69\",\"13sus\":\"13sus\",\"^9#11\":\"M9#11\",\"7b9#9\":\"7b9#9\",sus:\"sus\",sus4:\"Msus4\",sus2:\"Msus2\",\"7#9#11\":\"7#9#11\",\"7b9b13\":\"7b9b13\",\"7b9#11\":\"7b9#11\",\"13#9\":\"13#9\",\"9b5\":\"9b5\",\"-^9\":\"mM9\",\"2\":\"Madd9\",\"-#5\":\"m#5\",\"7+\":\"7#5\",\"7sus4\":\"7sus\",M69:\"M69\"});var ode=(0,B4.curry)((n,e)=\u003ee.reduce(n,[])),ak=n=\u003e(e,a,s,o)=\u003e{n\u0026\u0026(o=o.filter(n));let u=d=\u003ed\u003co.length\u0026\u0026o[d].value===\"_\";if(u(s))return e;if(!u(s+1))return e.concat([a]);let h=a.duration;for(;u(++s);)h+=o[s].duration;return e.concat([{...a,duration:h}])},bqe=ode(ak()),$i=(n,e,a,s)=\u003e{if(typeof e.value!=\"string\")return n;let o=_m.getBassNote(e.value);return n.concat([{...e,value:o+\"2\"}])},Wl=n=\u003e(e,a,s,o)=\u003e(n.forEach(u=\u003e{e=u(e,a,s,o)}),e),bm=(n,e=cde)=\u003e{let a=({track:s})=\u003es===n;return(s,o,...u)=\u003ea(o)?e(s,o,...u):s},cde=(n,e)=\u003en.concat([e]),z4=(n=!0)=\u003e(e,a,...s)=\u003e(a.reducer\u0026\u0026(e=a.reducer(e,a,...s)),n?e.concat([a]):e);var ude=nt(ya());var Bl=nt(Xa());var lde=n=\u003e{let e=n[n.length-1].value,a=s=\u003eMath.abs(Bl.Note.midi(e)-Bl.Note.midi(s[s.length-1]));return(s,o)=\u003ea(s)-a(o)},Xi=(n,e,a=lde)=\u003e(s,o)=\u003e{if(typeof o.value!=\"string\")return s;let u=dd(o.value,n,e),{tonic:h,aliases:d}=Bl.Chord.get(o.value);if(!Object.keys(n).find(k=\u003ed.includes(k)))return console.log(`no voicings found for chord \"${o.value}\"`),s;let _,N=s.filter(k=\u003e!!k.chord);return N.length?_=u.sort(a(N))[0]:_=u[Math.ceil(u.length/2)],s.concat(_.map(k=\u003e({...o,value:k,chord:o.value})))};var pde=nt(ct());var zl=nt(Xa()),G4=nt(Pu());function U4(n,e={}){return()=\u003enew Promise(a=\u003e{e={volume:-12,attack:.01,...e,onload:()=\u003e{a(o)}};let s=new G4.Sampler(n,e),o={triggerAttackRelease:(u,h,d,g)=\u003e{if(typeof u==\"number\"){s.triggerAttackRelease(u,h,d,g);return}e.transpose\u0026\u0026(u=zl.Note.transpose(u,zl.Interval.fromSemitones(e.transpose))),s.triggerAttackRelease(zl.Note.simplify(u),h,d,g)},triggerAttack:s.triggerAttack,triggerRelease:s.triggerAttack,connect:u=\u003e(s.connect(u),o),toMaster:()=\u003e(s.toDestination(),o),toDestination:()=\u003e(s.toDestination(),o)}})}var lr={load:async()=\u003e{let n={C1:\"../samples/piano/C1.mp3\",C2:\"../samples/piano/C2.mp3\",C3:\"../samples/piano/C3.mp3\",C4:\"../samples/piano/C4.mp3\",C5:\"../samples/piano/C5.mp3\",C6:\"../samples/piano/C6.mp3\",C7:\"../samples/piano/C7.mp3\"};return Rs()\u0026\u0026(await U4(n,{volume:-20})()).toDestination()}};var $4=nt(Xa()),hde={title:\"Rhythmical Mutations\",date:\"2020-08-02\",image:\"./img/pianoroll-color.png\",tags:[\"rhythmical\",\"code\"],description:\"In this post, I want to develop the idea of mutation to allow more flexibility.\"};function dde(n){let e=Object.assign({p:\"p\",ol:\"ol\",li:\"li\",a:\"a\",h2:\"h2\",span:\"span\",pre:\"pre\",code:\"code\",h3:\"h3\",ul:\"ul\",h4:\"h4\"},n.components),{wrapper:a}=e,s=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:\"So far, rhythmical knows two ways of data transformation/mutation:\"}),`\n`,(0,r.jsxs)(e.ol,{children:[`\n`,(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:\"../rhythmical-objects/#feature-encapsulation\",children:\"plugins\"}),\" as preprocessors\"]}),`\n`,(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:\"../rhythmical-ties\",children:\"reducers\"}),\" as postprocessors\"]}),`\n`]}),`\n`,(0,r.jsx)(e.p,{children:\"In this post, I want to develop the idea of mutation to allow more flexibility.\"}),`\n`,`\n`,(0,r.jsxs)(e.h2,{id:\"reducers\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#reducers\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"Reducers\"]}),`\n`,(0,r.jsx)(e.p,{children:\"With reducers, flat rhythmical events can be mutated after rendering:\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'d4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'eb4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'e4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'f4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"tieReducer\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,r.jsx)(e.span,{className:\"token comment\",children:'// appends \"_\" event to \"f4\" event'}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"or\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"voicings\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"triads\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// generates notes in range for each chord symbol (implemented in last post)\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"As a reducer runs, the previous state of the events is lost, for example, the chord symbols will be vanished after the voicing reducer.\"}),`\n`,(0,r.jsxs)(e.h3,{id:\"bass-reducer\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#bass-reducer\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"Bass Reducer\"]}),`\n`,(0,r.jsx)(e.p,{children:\"As another example, I want to introduce this simple reducer:\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token comment\",children:\"// reduces events to bass notes\"}),`\n`,(0,r.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" bassNotes\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token function-variable function\",children:(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"EventReducer\"})}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" index\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" array\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"!==\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" bassNote \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"getBassNote\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" value\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" bassNote \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'2'\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// returns bass note of given chord\"}),`\n`,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"getBassNote\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"chord\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" string\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" ignoreSlash \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"})]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"chord\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword null nil\",children:\"null\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"ignoreSlash \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" chord\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"includes\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'/'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" chord\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"split\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'/'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" match \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" chord\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"match\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token regex\",children:[(0,r.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token regex-source language-regex\",children:\"^([A-G][b|#]?)\"}),(0,r.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"match \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"match\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" match\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"It takes chord symbols and returns only the bass note in a fixed octave:\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},fold:!1,events:Os({duration:8,sequential:[[\"F\",\"G\"],\"C\"]}).reduce($i,[])}),`\n`,(0,r.jsxs)(\"details\",{children:[(0,r.jsx)(\"summary\",{children:\"show source\"}),(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"bassNotes\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,r.jsx)(e.p,{children:\"I will improve this later, adding a range option + error handling..\"}),`\n`,(0,r.jsxs)(e.h3,{id:\"voicing-reducer\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#voicing-reducer\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"Voicing Reducer\"]}),`\n`,(0,r.jsxs)(e.p,{children:[\"Another reducer that works with chord symbols is the voicing reducer introduced \",(0,r.jsx)(e.a,{href:\"../rhythmical-chords\",children:\"in the last post\"}),`.\nI now removed the hard coded bass note from it.`]}),`\n`,(0,r.jsx)(e.p,{children:\"If we run the voicings reducer on the same rhythm object, we get:\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},fold:!1,events:Os({duration:8,sequential:[[\"F\",\"G\"],\"C\"]}).reduce(Xi(ki,[\"C3\",\"A4\"]),[])}),`\n`,(0,r.jsxs)(\"details\",{children:[(0,r.jsx)(\"summary\",{children:\"show source\"}),(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"voicings\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"triads\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,r.jsxs)(e.h3,{id:\"running-two-reducers-on-the-same-array\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#running-two-reducers-on-the-same-array\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"Running two reducers on the same array\"]}),`\n`,(0,r.jsx)(e.p,{children:\"To get chords + bassline, we could combine both reducers like this:\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},fold:!1,events:(()=\u003e{let o=Os({duration:8,sequential:[[\"F\",\"G\"],\"C\"]});return[...o.reduce(Xi(ki,[\"C3\",\"A4\"]),[]),...o.reduce($i,[])]})()}),`\n`,(0,r.jsxs)(\"details\",{children:[(0,r.jsx)(\"summary\",{children:\"show source\"}),(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" events \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"voicings\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"triads\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"bassNotes\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,r.jsxs)(e.p,{children:[\"But this is kind of ugly if we want to use a single function call (like needed for MDX), which requires wrapping it in an \",(0,r.jsx)(e.a,{href:\"https://flaviocopes.com/javascript-iife/\",children:\"IIFE\"}),\".. It would be nice to have something like this:\"]}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"parallel\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"voicings\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"triads\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" bassNotes\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"The parallel reducer will run both reducers on the same events in parallel.\"}),`\n`,(0,r.jsxs)(e.h3,{id:\"parallel-reducer\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#parallel-reducer\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"parallel reducer\"]}),`\n`,(0,r.jsx)(e.p,{children:\"The implementation is pretty straightforward:\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,r.jsx)(e.span,{className:\"token function-variable function\",children:\"parallel\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"reducers\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"EventReducer\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"})]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token function-variable function\",children:(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"EventReducer\"})}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"reducers\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" index\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" array\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    reducers`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"forEach\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"r\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      events `,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"r\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" index\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" array\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"That's it!\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},fold:!1,events:Os({duration:8,sequential:[[\"F\",\"G\"],\"C\"]}).reduce(Wl([Xi(ki,[\"C3\",\"A4\"]),$i]),[])}),`\n`,(0,r.jsxs)(\"details\",{children:[(0,r.jsx)(\"summary\",{children:\"show source\"}),(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"parallel\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"voicings\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"triads\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" bassNotes\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,r.jsx)(\"br\",{}),`\n`,(0,r.jsx)(e.p,{children:\"Let's try a more sophisticated example:\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},fold:!1,events:Os({duration:64,sequential:[[\"Fm7\",\"Bbm7\",\"Eb7\",\"Ab^7\"],[\"Db^7\",[\"Dm7\",\"G7\"],\"C^7\",\"_\"],[\"Cm7\",\"Fm7\",\"Bb7\",\"Eb^7\"],[\"Ab^7\",[\"Am7\",\"D7\"],\"G^7\",\"_\"],[\"Am7\",\"D7\",\"G^7\",\"_\"],[\"F#m7b5\",\"B7b9\",\"E^7\",\"C7b13\"],[\"Fm7\",\"Bbm7\",\"Eb7\",\"Ab^7\"],[\"Db^7\",\"DbmM7\",\"Cm7\",\"Bo7\"],[\"Bbm7\",\"Eb7\",\"Ab^7\",[\"Gm7b5\",\"C7b9\"]]]}).reduce(ak(),[]).reduce(Wl([Xi(Su,[\"G3\",\"G5\"]),$i]),[])}),`\n`,(0,r.jsxs)(\"details\",{children:[(0,r.jsx)(\"summary\",{children:\"show source\"}),(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"64\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Db^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Bb7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'_'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F#m7b5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B7b9'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C7b13'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Db^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'DbmM7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Bo7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Gm7b5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C7b9'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"tieReducer\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"parallel\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"voicings\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lefthand\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" bassNotes\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,r.jsx)(\"br\",{}),`\n`,(0,r.jsx)(e.p,{children:\"To make the parallel reducer work with voicings, I had to adjust the voicings reducer (see comments):\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,r.jsx)(e.span,{className:\"token function-variable function\",children:\"voicings\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"dictionary\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" range\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" sorter \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" topNoteSort\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"!==\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),` events\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" voicings \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"voicingsInRange\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" dictionary\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" range\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tonic\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" aliases \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Chord\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"get\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" symbol \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token known-class-name class-name\",children:\"Object\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"keys\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"dictionary\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"find\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"_symbol\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" aliases\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"includes\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"_symbol\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"symbol\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token console class-name\",children:\"console\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"log\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token template-string\",children:[(0,r.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,r.jsx)(e.span,{className:\"token string\",children:'no voicings found for chord \"'}),(0,r.jsxs)(e.span,{className:\"token interpolation\",children:[(0,r.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,r.jsx)(e.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,r.jsx)(e.span,{className:\"token string\",children:'\"'}),(0,r.jsx)(e.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" notes\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// here we filter the events for having a chord set (skips bass notes)\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" lastVoiced \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"filter\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"e\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"e\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"chord\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"lastVoiced\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    notes `,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicings\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"ceil\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"voicings\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"else\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    notes `,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" voicings\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"sort\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"sorter\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"lastVoiced\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// here we pass the chord symbol that generated the note\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"notes\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"note\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" value\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" note\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" chord\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:`In general, to make a reducer work in parallel, we need to add some filterable property (like chord property above).\nWithout filtering, other events from parallel reducers will pollute the array (like bass notes in a voicing reducer).`}),`\n`,(0,r.jsxs)(e.h3,{id:\"track-reducer\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#track-reducer\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"track reducer\"]}),`\n`,(0,r.jsx)(e.p,{children:\"What if we want to run reducers only on a certain set of events? For example, if we add a melody, we want the voicing reducer to ignore that part. For this case, I wrote this track reducer:\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,r.jsx)(e.span,{className:\"token function-variable function\",children:\"track\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"track\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" reducer \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" idleReducer\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,r.jsx)(e.span,{className:\"token function-variable function\",children:\"trackFilter\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" track\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" t \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" t \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" track\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"args\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"trackFilter\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"event \",(0,r.jsx)(e.span,{className:\"token keyword module\",children:\"as\"}),\" any\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"?\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"reducer\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"args\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// if no reducer passed to track, all events are used as is\"}),`\n`,(0,r.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,r.jsx)(e.span,{className:\"token function-variable function\",children:\"idleReducer\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"In Action:\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},fold:!1,events:Os({duration:8,parallel:[{track:\"melody\",sequential:[[\"A4\",[\"C5\",\"A4\"],\"B4\",\"D5\"],\"E5\"]},{track:\"chords\",sequential:[[\"F\",\"G\"],\"C\"]}]},[wu(\"track\")]).reduce(Wl([bm(\"melody\"),bm(\"chords\",$i),bm(\"chords\",Xi(ki,[\"C3\",\"G4\"]))]),[])}),`\n`,(0,r.jsxs)(\"details\",{children:[(0,r.jsx)(\"summary\",{children:\"show source\"}),(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      parallel`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n          track`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'melody'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n          sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n          track`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'chords'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n          sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"inheritProperty\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'track'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token function\",children:\"parallel\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"track\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'melody'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"track\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'chords'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" bassNotes\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"track\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'chords'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"voicings\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"triads\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,r.jsx)(e.p,{children:\"Now the bassNotes and voicings reducers only run on events on the chords track, while the melody track stays as it is.\"}),`\n`,(0,r.jsxs)(e.h3,{id:\"mutation-inheritance\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#mutation-inheritance\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"Mutation Inheritance\"]}),`\n`,(0,r.jsx)(e.p,{children:\"We could also inherit mutation functions:\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},fold:!1,events:Os({duration:8,parallel:[[[\"A4\",[\"C5\",\"A4\"],\"B4\",\"D5\"],\"E5\"],{sequential:[[\"F\",\"G\"],\"C\"],reducer:Wl([Xi(ki,[\"C3\",\"G4\"]),$i])}]},[wu(\"reducer\")]).reduce(z4(!0),[]).filter(o=\u003e!!$4.Note.midi(o.value))}),`\n`,(0,r.jsxs)(\"details\",{children:[(0,r.jsx)(\"summary\",{children:\"show source\"}),(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      parallel`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n          sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n          reducer`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"parallel\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"voicings\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"triads\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" bassNotes\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"inheritProperty\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'reducer'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"applyReducers\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"filter\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"e\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"e\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,r.jsx)(e.span,{className:\"token comment\",children:\"// filter out chords\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,r.jsx)(\"br\",{}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,r.jsx)(e.span,{className:\"token function-variable function\",children:\"applyReducers\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"keepEventsWithoutReducer\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" boolean\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token function-variable function\",children:(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"EventReducer\"})}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"keepEventsWithoutReducer \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token boolean\",children:\"true\"})]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"args\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"reducer\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      events `,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reducer\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"args\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"keepEventsWithoutReducer\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" events\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"Pro\"}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:\"no track reducer filter magic needed\"}),`\n`,(0,r.jsx)(e.li,{children:\"much shorter\"}),`\n`]}),`\n`,(0,r.jsx)(e.p,{children:\"Contra\"}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:\"JS in JSON =\u003e not serializable\"}),`\n`,(0,r.jsx)(e.li,{children:\"chords pollute final event array =\u003e need to filter non usable events\"}),`\n`]}),`\n`,(0,r.jsxs)(e.h3,{id:\"thoughts-on-reducers\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#thoughts-on-reducers\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"Thoughts on Reducers\"]}),`\n`,(0,r.jsx)(e.p,{children:`Reducers are a handy way of postprocessing events. On the other hand, it starts to get a little bit magical and untransparent when having different purpose tracks and nesting...\nAlso, it seems kind of odd that there are now two hierarchial structures: the rhythmical object and the postprocessing tree.`}),`\n`,(0,r.jsxs)(e.h2,{id:\"plugins\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#plugins\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"Plugins\"]}),`\n`,(0,r.jsxs)(e.p,{children:[\"As opposed to reducers, plugins (previously called \",(0,r.jsx)(e.a,{href:\"../rhythmical-objects/#feature-encapsulation\",children:\"features\"}),`) are applied while the rhythmical tree is processed.\nIt would be nice if some of the above reducer functionality could be added as plugins, for example:`]}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      parallel`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n          sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n          plugin`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'chords'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n          sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"inherit\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'plugin'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"chords\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" dictionary\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" triads \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"The above snippet would produce the same output as this notation:\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    parallel`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n        sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n        sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n          `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'F3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n          `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"which can be rendered normally:\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},events:Cs({duration:8,parallel:[{sequential:[[\"A4\",[\"C5\",\"A4\"],\"B4\",\"D5\"],\"E5\"]},{plugin:\"chords\",sequential:[[{parallel:[\"C3\",\"F3\",\"A3\"]},{parallel:[\"D3\",\"G3\",\"B3\"]}],{parallel:[\"E3\",\"G3\",\"C4\"]}]}]})}),`\n`,(0,r.jsxs)(e.h3,{id:\"back-to-the-basics\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#back-to-the-basics\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"back to the basics\"]}),`\n`,(0,r.jsxs)(e.p,{children:[\"For the above ideas to work, I first needed to add more flexibility to the \",(0,r.jsx)(e.a,{href:\"https://felixroos.github.io/blog/rhythmical-objects/#flattening-nested-objects\",children:\"flatObject\"}),\" method:\"]}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" flatObject\",(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"agnostic\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"AgnosticChild\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" props\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"FlatObjectProps\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ValueChild\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" getChildren\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ChildrenResolver\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" props\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"getChildren\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" getChildrenWithPath\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// this function decides if the given child should be flattened or not\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,r.jsx)(e.span,{className:\"token function-variable function\",children:\"isDeep\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"child\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ValueChild\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"})]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" boolean \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),`\n    props`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"isDeep\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"child\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'object'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" flat\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"ValueChild\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" children \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"getChildren\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"agnostic\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" props\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  children`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"forEach\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" index\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" props\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"mapChild\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'function'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// this function will mutate the child\"}),`\n      child `,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" props\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"mapChild\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n        child`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        isLeaf`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"isDeep\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        index`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        props`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        siblings`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" children\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        parent`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" agnostic\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"isDeep\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      flat `,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" flat\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"concat\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"flatObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" props\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"else\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      flat`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"push\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" flat\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:\"isDeep can now be passed as a function to override the exit condition of the recursion\"}),`\n`,(0,r.jsx)(e.li,{children:\"mapChild can be used to manipulate children before the exit condition runs\"}),`\n`]}),`\n`,(0,r.jsxs)(e.h3,{id:\"new-renderrhythm-method\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#new-renderrhythm-method\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"new renderRhythm method\"]}),`\n`,(0,r.jsx)(e.p,{children:\"renderRhythmObject is now replaced by renderRhythm, which uses isDeep and mapChild:\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" renderRhythm\",(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"agnostic\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"AgnosticChild\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" rhythmPlugins \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" root \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"toObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"agnostic\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" totalDuration \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" root\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"duration\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,r.jsx)(e.span,{className:\"token comment\",children:\"// outer duration\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"flatObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"agnostic\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    getChildren`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" rhythmChildren\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// dont stop recursion if child has parallel or sequential props\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token function-variable function\",children:\"isDeep\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"child\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'value'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'parallel'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'sequential'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token comment\",children:\"// this spares the sequential child mess from earlier\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"reduce\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"deep\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" prop\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" deep \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"prop\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"prop\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'object'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// apply features to children\"}),`\n    mapChild`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmPlugins\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"rhythmPlugins\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"event\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" path \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"time\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" duration\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"getTimeDuration\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"path\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" totalDuration\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"event\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" time\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" duration\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" path \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythmPlugins\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"rhythmPlugins \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"})]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"props\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    rhythmPlugins`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"forEach\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"plugin\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      props`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"child\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"plugin\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"props\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" props\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"child\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" rhythmChildren\",(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"agnostic\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"AgnosticChild\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token constant\",children:\"T\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" parent \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"toObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"applyFeatures\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"agnostic\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"sequentialParent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" parallelParent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" children \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"toArray\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"parent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" children\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,r.jsxs)(e.h3,{id:\"inherit-plugin\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#inherit-plugin\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"inherit plugin\"]}),`\n`,(0,r.jsxs)(e.p,{children:[\"Now, plugins look much sexier than the old features. The \",(0,r.jsx)(e.a,{href:\"https://felixroos.github.io/blog/rhythmical-objects/#inheritance\",children:\"inherit\"}),\" plugin can be implemented like this:\"]}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"inherit\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"property\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" parent \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"property\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"property\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"??\"}),\" parent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"property\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,r.jsxs)(\"details\",{children:[(0,r.jsx)(\"summary\",{children:\"compare this to the old inheritProperty feature\"}),(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"inheritProperty\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"property\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"_parent\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" parent \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"toObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"_parent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"parent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"property\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"parent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" parent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"parent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      value`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"toArray\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"parent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"map\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token parameter\",children:\"child\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" childObj \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"toObject\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n          `,(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"childObj\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n          `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"property\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" childObj\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"property\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" parent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"property\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})]}),`\n`,(0,r.jsx)(\"br\",{}),`\n`,(0,r.jsxs)(e.h3,{id:\"chords-plugin\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#chords-plugin\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"chords plugin\"]}),`\n`,(0,r.jsx)(e.p,{children:\"Chord voicings can be resolved like this:\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,r.jsx)(e.span,{className:\"token function-variable function\",children:\"chords\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" dictionary\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" range \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" isLeaf\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" props\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" parent \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"})]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"isLeaf \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" parent\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"chord\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"plugin\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"!==\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'chords'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// prevent infinite loop\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" options \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"voicingsInRange\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"dictionary\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" dictionary\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"range\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" range\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"props\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"lastVoicing\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// if not the first =\u003e voice leading\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token keyword\",children:\"const\"}),\" diff \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n        voicing `,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// returns distance between top notes\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"abs\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"props\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"lastVoicing\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"props\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"lastVoicing\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Note\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"midi\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"voicing\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"voicing\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n      options `,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" options\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token method function property-access\",children:\"sort\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsxs)(e.span,{className:\"token parameter\",children:[\"a\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" b\"]}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"diff\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"a\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"diff\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"b\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,r.jsx)(e.span,{className:\"token comment\",children:\"// sort by min top note distance\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n    props`,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"lastVoicing\"}),\" \",(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" options\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,r.jsx)(e.span,{className:\"token comment\",children:\"// pick best voicing\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token spread operator\",children:\"...\"}),\"child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      chord`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" child\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,r.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token comment\",children:\"// this is needed to stop the plugin from running again on its children\"}),`\n      value`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" options\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      type`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'parallel'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"In action:\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},fold:!1,events:Cs({duration:8,parallel:[{sequential:[[\"A4\",\"C5\",\"Ab4\",\"C5\"],\"G4\"],color:\"darksalmon\"},{sequential:[[\"F\",\"Fm\"],\"C\"],plugin:\"chords\",velocity:.6}]},[qu(\"plugin\"),qu(\"color\"),qu(\"velocity\"),ly({dictionary:ki})])}),`\n`,(0,r.jsxs)(\"details\",{children:[(0,r.jsx)(\"summary\",{children:\"show source\"}),(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythm\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      parallel`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n          sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'A4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Ab4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n          color`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'darksalmon'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n          sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Fm'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n          plugin`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'chords'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n          velocity`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"0.6\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"inherit\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'plugin'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"inherit\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'color'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"inherit\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'velocity'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"chords\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" dictionary\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" triads \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,r.jsx)(\"br\",{}),`\n`,(0,r.jsxs)(e.h3,{id:\"thoughts-on-plugins\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#thoughts-on-plugins\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"Thoughts on Plugins\"]}),`\n`,(0,r.jsx)(e.p,{children:`Comparing the above snippet with the reducer version, I like it much more.\nThe good thing about plugins is that the structural information of the object is not yet lost.\nBeing able to add a plugin anywhere in the tree spares all the indirect track selection stuff from earlier.`}),`\n`,(0,r.jsx)(e.p,{children:\"The only thing that is not yet solved is running two plugins on the same source, like voicings and bass notes.\"}),`\n`,(0,r.jsxs)(e.h2,{id:\"multiple-mutation-data-flow\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#multiple-mutation-data-flow\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"Multiple Mutation Data Flow\"]}),`\n`,(0,r.jsx)(e.p,{children:\"There are different scenarios how data can flow through multiple mutations:\"}),`\n`,(0,r.jsxs)(e.ol,{children:[`\n`,(0,r.jsx)(e.li,{children:\"sequential: data flows out of one plugin into the nexxt\"}),`\n`,(0,r.jsx)(e.li,{children:\"parallel: data flows from the source into each plugin\"}),`\n`]}),`\n`,(0,r.jsx)(e.p,{children:\"So this is basically polyphony for mutation functions!\"}),`\n`,(0,r.jsxs)(e.h3,{id:\"sequential-mutation\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#sequential-mutation\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"sequential mutation\"]}),`\n`,(0,r.jsx)(e.p,{children:`This applies one mutation after the other.\nFor example, we could first apply a voicing plugin and then use the generated notes as an input of a pattern plugin:`}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythm\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"12\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'E-'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E-'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B-'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B-'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      mutate`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// those mutations are applied sequentially\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token string\",children:\"'chords'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" pattern\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"3\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"3\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"chords\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" dictionary\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" triads \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" patternPlugin\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"After only the chord mutation, it could sound like this:\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},events:Cs({duration:12,sequential:[{parallel:[\"E3\",\"G3\",\"B3\",\"E4\"]},{parallel:[\"E3\",\"G3\",\"B3\",\"E4\"]},{parallel:[\"D3\",\"G3\",\"B3\",\"D4\"]},{parallel:[\"D3\",\"G3\",\"B3\",\"D4\"]},{parallel:[\"D3\",\"F#3\",\"B3\",\"D4\"]},{parallel:[\"D3\",\"F#3\",\"B3\",\"D4\"]},{parallel:[\"D3\",\"F#3\",\"A3\",\"D4\"]},{parallel:[\"D3\",\"F#3\",\"A3\",\"D4\"]}]})}),`\n`,(0,r.jsx)(e.p,{children:\"Now only the pattern mutation is left:\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythm\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"12\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'F#3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'F#3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'F#3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'F#3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    mutate`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" pattern\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"3\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"3\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"After the pattern mutation:\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},events:Cs({duration:12,sequential:[[{parallel:[\"E3\",\"E4\"]},\"B3\",{parallel:[\"G3\",\"E4\"]},\"B3\"],[{parallel:[\"E3\",\"E4\"]},\"B3\",{parallel:[\"G3\",\"E4\"]},\"B3\"],[{parallel:[\"D3\",\"D4\"]},\"B3\",{parallel:[\"G3\",\"D4\"]},\"B3\"],[{parallel:[\"D3\",\"D4\"]},\"B3\",{parallel:[\"G3\",\"D4\"]},\"B3\"],[{parallel:[\"D3\",\"D4\"]},\"B3\",{parallel:[\"F#3\",\"D4\"]},\"B3\"],[{parallel:[\"D3\",\"D4\"]},\"B3\",{parallel:[\"F#3\",\"D4\"]},\"B3\"],[{parallel:[\"D3\",\"D4\"]},\"A3\",{parallel:[\"F#3\",\"D4\"]},\"A3\"],[{parallel:[\"D3\",\"D4\"]},\"A3\",{parallel:[\"F#3\",\"D4\"]},\"A3\"]]})}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythm\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"12\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F#3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F#3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F#3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'D3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F#3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D4'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})}),`\n`,(0,r.jsxs)(e.h4,{id:\"how-musicians-think\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#how-musicians-think\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"How musicians think\"]}),`\n`,(0,r.jsx)(e.p,{children:\"If we look again at the notation:\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythm\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'E-'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E-'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B-'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B-'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      mutate`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token comment\",children:\"// those mutations are applied sequentially\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token string\",children:\"'chords'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" pattern\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"3\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"3\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"chords\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" dictionary\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" triads \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" patternPlugin\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:'This is structurally similar to how a musician would remember a piece of music by creating \"chunks\":'}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:\"the info needed to play (render) the piece are abtract chunks of information (chord symbols)\"}),`\n`,(0,r.jsx)(e.li,{children:\"each abstract chunk has a recipe (mutation) that is applied to get to the notes\"}),`\n`,(0,r.jsx)(e.li,{children:\"by using mutations in a certain order, interesting results could be achieved quickly, which is good for algorithmic composition\"}),`\n`]}),`\n`,(0,r.jsxs)(e.h3,{id:\"parallel-mutation\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#parallel-mutation\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"Parallel Mutation\"]}),`\n`,(0,r.jsx)(e.p,{children:\"Parallel mutation will pass the same data to each plugin. For example to render chords and bass notes for a set of chord symbols:\"}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythm\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Fm'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      mutate`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'chords'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'bass'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"chords\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" dictionary\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" triads \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"bass\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" octave\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"2\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"after mutation:\"}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},fold:!1,events:Cs({duration:8,parallel:[[[{parallel:[\"F3\",\"A3\",\"C3\"]},{parallel:[\"F3\",\"Ab3\",\"C3\"]}],{parallel:[\"E3\",\"G3\",\"C3\"]}],[[\"F2\",\"F2\"],\"C2\"]]})}),`\n`,(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythm\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n    duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"8\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    parallel`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'A3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Ab3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" parallel\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'E3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F2'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'F2'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C2'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})}),`\n`,(0,r.jsx)(e.p,{children:\"As this post now exceeds the limit of 1000 lines, I will stop here and implement polyphonic mutation in another post.\"}),`\n`,(0,r.jsxs)(e.h2,{id:\"conclusion\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#conclusion\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),`\n`,(0,r.jsx)(e.p,{children:`With reducers and plugins, many musical abstractions can be achieved.\nSome are more practical using reducers (like micro time adjustems e.g. swing), others are easier implemented using plugins (anything that needs structural info).`}),`\n`,(0,r.jsx)(e.p,{children:`I cannot wait to finish the mutation data flow and play around with it!\nWhen it's done, many possibilities are open, like grooves, arpeggios, patterns, melodies etc..`}),`\n`,(0,r.jsx)(Gn,{instruments:{tinypiano:lr},fold:!1,events:Cs({duration:64,plugin:\"chords\",sequential:[[\"Fm7\",\"Bbm7\",\"Eb7\",\"Ab^7\"],[\"Db^7\",[\"Dm7\",\"G7\"],\"C^7\",\"C^7\"],[\"Cm7\",\"Fm7\",\"Bb7\",\"Eb^7\"],[\"Ab^7\",[\"Am7\",\"D7\"],\"G^7\",\"G^7\"],[\"Am7\",\"D7\",\"G^7\",\"G^7\"],[\"F#m7b5\",\"B7b9\",\"E^7\",\"C7b13\"],[\"Fm7\",\"Bbm7\",\"Eb7\",\"Ab^7\"],[\"Db^7\",\"DbmM7\",\"Cm7\",\"Bo7\"],[\"Bbm7\",\"Eb7\",\"Ab^7\",[\"Gm7b5\",\"C7b9\"]]]},[qu(\"plugin\"),ly({dictionary:Su,range:[\"G3\",\"G5\"]})])}),`\n`,(0,r.jsxs)(\"details\",{children:[(0,r.jsx)(\"summary\",{children:\"show source\"}),(0,r.jsx)(e.pre,{className:\"language-js\",children:(0,r.jsxs)(e.code,{className:\"language-js\",children:[(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003c\"}),(0,r.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Player\"}),`\n  instruments`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" tinypiano \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  fold`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token boolean\",children:\"false\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n  events`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"renderRhythm\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n      duration`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token number\",children:\"64\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      plugin`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'chords'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      sequential`,(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Db^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Dm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Bb7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Eb^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Am7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'D7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'F#m7b5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'B7b9'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'E^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C7b13'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Fm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Db^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'DbmM7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Cm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Bo7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n        `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Bbm7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Eb7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'Ab^7'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'Gm7b5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'C7b9'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token function\",children:\"inherit\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'plugin'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token function\",children:\"chords\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" dictionary\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" lefthand\",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" range\",(0,r.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,r.jsx)(e.span,{className:\"token string\",children:\"'G3'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,r.jsx)(e.span,{className:\"token string\",children:\"'G5'\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n  `,(0,r.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,r.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,r.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,r.jsx)(e.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})]}),`\n`,(0,r.jsx)(\"br\",{}),`\n`,(0,r.jsxs)(e.h3,{id:\"tbd\",children:[(0,r.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#tbd\",children:(0,r.jsx)(e.span,{className:\"icon icon-link\"})}),\"TBD\"]}),`\n`,(0,r.jsxs)(e.ul,{children:[`\n`,(0,r.jsx)(e.li,{children:\"find way to implement tieReducer as plugin (cannot use ties in above)\"}),`\n`,(0,r.jsx)(e.li,{children:\"implement polyphonic mutations\"}),`\n`]})]});return a?(0,r.jsx)(a,Object.assign({},n,{children:s})):s}var fde=dde;return mde;})();\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n/**\n * A better abstraction over CSS.\n *\n * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present\n * @website https://github.com/cssinjs/jss\n * @license MIT\n */\n/**\n * Tone.js\n * @author Yotam Mann\n * @license http://opensource.org/licenses/MIT MIT License\n * @copyright 2014-2019 Yotam Mann\n */\n/** @license Material-UI v4.11.2\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/** @license Material-UI v4.11.4\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/** @license Material-UI v4.12.1\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/** @license React v17.0.2\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n;return Component.default;"},"__N_SSG":true},"page":"/[slug]","query":{"slug":"rhythmical-reducers"},"buildId":"JsI6sbwlLaANsE0qRchCY","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>